"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["3746"],{842214:function(e,t,n){e.exports=n.p+"5b0d84542e6b58da54b2.svg"},870959:function(e,t,n){e.exports=n.p+"3e95732851f59fb4a55b.svg"},511628:function(e,t,n){e.exports=n.p+"78a7c6c0ee8996b58719.svg"},282785:function(e,t,n){e.exports=n.p+"6cb655f509c16c4c774b.svg"},869577:function(e,t,n){e.exports=n.p+"4979f70e1bac076ce48f.svg"},825293:function(e,t,n){e.exports=n.p+"8ea5ecdb2bcb771b88d5.svg"},778126:function(e,t,n){e.exports=n.p+"1f3e996665da4bcbcfde.svg"},907401:function(e,t,n){e.exports=n.p+"0ed83b592a646cd50936.svg"},146698:function(e,t,n){e.exports=n.p+"e9722af282f9d6fada66.svg"},646693:function(e,t,n){e.exports=n.p+"ea01ee0a3f75a043b1b0.svg"},65699:function(e,t,n){e.exports=n.p+"1bd4b1006013aa3a050d.svg"},806057:function(e,t,n){e.exports=n.p+"fce895e807f2a36e583a.svg"},41678:function(e,t,n){e.exports=n.p+"a84aae574977cec931ee.svg"},790830:function(e,t,n){e.exports=n.p+"d6ad803a89cfc4251bc7.svg"},317768:function(e,t,n){e.exports=n.p+"bce13e0bd03fca4e6a64.svg"},882980:function(e,t,n){e.exports=n.p+"6b2bd1c8a0ff293a0e9c.svg"},577963:function(e,t,n){e.exports=n.p+"92ae4ccd08048ef84172.svg"},799362:function(e,t,n){e.exports=n.p+"70c4ecc3826d9df361e8.svg"},394519:function(e,t,n){e.exports=n.p+"c59954b3a49b64e75187.svg"},816800:function(e,t,n){e.exports=n.p+"642b2869adadfe39412f.svg"},847288:function(e,t,n){e.exports=n.p+"6675ebac9b5491a1f1b8.svg"},623573:function(e,t,n){n.r(t),n.d(t,{AddPaymentModalOld:function(){return z},default:function(){return q}}),n(411104),n(47120);var s,a,i=n(735250),o=n(470079),r=n(160612),l=n(120356),c=n.n(l),d=n(512722),u=n.n(d),_=n(442837),p=n(481060),m=n(570140),f=n(355467),E=n(873115),I=n(976255),C=n(598),h=n(409813),N=n(3409),P=n(351402),g=n(975060),T=n(505649),S=n(285952),R=n(358085),A=n(622999),b=n(462566),x=n(801937),M=n(282164),L=n(738342),y=n(228666),B=n(581813),D=n(981631),O=n(689938),v=n(512288),U=n(83922);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(a=s||(s={})).PAYMENT_TYPE="payment_type",a.CARD_INFO="card_info",a.SOFORT_INFO="sofort_info",a.ADDRESS="billing_address",a.PAYMENT_REQUEST_INFO="payment_request_info",a.PAYPAL="paypal",a.PRZELEWY24_INFO="przelewy24_info";let j=["payment_type","card_info","billing_address"],w=["payment_type","sofort_info","billing_address"],k=["payment_type","paypal","billing_address"],G=["payment_type","payment_request_info"],F=["payment_type","billing_address"],Y=["payment_type","przelewy24_info","billing_address"],H=["payment_type","billing_address"];function W(e){return e.hasCardError()?"card_info":e.hasAddressError()?"billing_address":null}class V extends o.PureComponent{static getDerivedStateFromProps(e,t){let{error:n}=e,{errorStep:s}=t;if(null==n)return null==s?null:{errorStep:null};let a=W(n);return null!=a&&a!==t.errorStep?{step:a,errorStep:a}:null}async componentDidMount(){E.eI();let e=await (0,A.d2)();this.setState({stripe:e})}componentWillUnmount(){m.Z.wait(()=>E.gy()),(0,I.tt)()}get stepData(){let{step:e}=this.state,t=this.STEPS_DATA[e];if(null==t)throw Error("Invalid step ".concat(e));return t}getSteps(e){switch(null!=e?e:this.state.type){case D.HeQ.PAYMENT_REQUEST:return G;case D.HeQ.PAYPAL:return k;case D.HeQ.SOFORT:return w;case D.HeQ.GIROPAY:return F;case D.HeQ.PRZELEWY24:return Y;case D.HeQ.PAYSAFE_CARD:case D.HeQ.GCASH:case D.HeQ.GRABPAY_MY:case D.HeQ.MOMO_WALLET:case D.HeQ.KAKAOPAY:case D.HeQ.GOPAY_WALLET:return H;default:return j}}getNextStep(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.steps,{step:t}=this.state,n=e.indexOf(t);return e[n+1]}getPreviousStep(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.steps,{step:t}=this.state,n=e.indexOf(t);return e[n-1]}preventDefault(e){e.preventDefault()}handleReopenPaypal(){E.i0()}renderGenericError(){let{error:e}=this.props;return null==e||null!=W(e)?null:(0,i.jsx)(p.FormErrorBlock,{className:v.errorBlock,children:e.message})}renderFooter(){let e=this.stepData;return null==e.renderNextButton?null:(0,i.jsx)(p.ModalFooter,{children:(0,i.jsxs)(S.Z,{justify:S.Z.Justify.BETWEEN,children:[(0,i.jsx)(p.Button,{onClick:this.handleBackClick,color:p.Button.Colors.PRIMARY,look:p.Button.Looks.LINK,size:p.Button.Sizes.MIN,children:O.Z.Messages.BACK}),e.renderNextButton()]})})}render(){let{step:e,steps:t}=this.state,{transitionState:n}=this.props,s=t.map(e=>({id:e,label:function(e){switch(e){case"payment_type":return O.Z.Messages.PAYMENT_SOURCE_TYPE;case"payment_request_info":return O.Z.Messages.BILLING_STEP_PAYMENT_INFO;case"card_info":return O.Z.Messages.PAYMENT_SOURCE_INFORMATION;case"billing_address":return O.Z.Messages.BILLING_ADDRESS;case"paypal":return O.Z.Messages.PAYMENT_SOURCE_PAYPAL_DETAILS;case"sofort_info":return O.Z.Messages.PAYMENT_SOURCE_SOFORT_INFO;case"przelewy24_info":return O.Z.Messages.PAYMENT_SOURCE_PRZELEWY24_INFO}}(e)}));return(0,i.jsx)(r.Elements,{options:D.OBo,stripe:this.state.stripe,children:(0,i.jsx)(p.ModalRoot,{transitionState:n,size:p.ModalSize.SMALL,className:v.modal,"aria-label":O.Z.Messages.PAYMENT_SOURCES_ADD,children:(0,i.jsxs)("form",{className:v.form,onSubmit:this.preventDefault,children:[(0,i.jsxs)(p.ModalHeader,{direction:S.Z.Direction.VERTICAL,align:S.Z.Align.STRETCH,separator:!1,children:[(0,i.jsxs)(S.Z,{className:v.modalTitle,justify:S.Z.Justify.BETWEEN,align:S.Z.Align.CENTER,children:[(0,i.jsx)(p.FormTitle,{tag:p.FormTitleTags.H4,children:O.Z.Messages.PAYMENT_SOURCES_ADD}),(0,i.jsx)(p.ModalCloseButton,{onClick:this.handleClose})]}),this.renderGenericError(),(0,i.jsx)(p.Breadcrumbs,{breadcrumbs:s,activeId:e})]}),(0,i.jsx)("div",{className:v.divider}),(0,i.jsx)(p.Sequencer,{fillParent:!0,className:v.sequencer,step:e,steps:t,children:(0,i.jsx)(p.ModalContent,{className:v.content,children:this.stepData.renderBody()})}),this.renderFooter()]})})})}constructor(...e){super(...e),Z(this,"state",{type:D.HeQ.CARD,step:"payment_type",steps:j,errorStep:null,stripeToken:null,stripe:null,tokenSubmitting:!1,paymentDetails:{p24Bank:""}}),Z(this,"STEPS_DATA",{przelewy24_info:{renderBody:()=>{let{error:e,billingAddressInfo:t}=this.props;return(0,i.jsx)(L.w,{billingAddressInfo:t,onDetailsChange:this.handlePaymentDetailsChange,onP24BankChange:this.handleP24BankChange,p24BankValue:this.state.paymentDetails.p24Bank,error:e})},renderNextButton:()=>{var e;let{billingAddressInfo:t}=this.props,n=null===(e=this.state.paymentDetails)||void 0===e?void 0:e.p24Bank;return(0,i.jsx)(p.Button,{type:"submit",disabled:""===t.name||""===t.email||""===n,onClick:this.handleNextClick,children:O.Z.Messages.NEXT})}},sofort_info:{renderBody:()=>{let{error:e,billingAddressInfo:t}=this.props;return(0,i.jsx)(L.Z,{billingAddressInfo:t,onChange:this.handlePaymentDetailsChange,error:e})},renderNextButton:()=>{let{billingAddressInfo:e}=this.props;return(0,i.jsx)(p.Button,{type:"submit",disabled:""===e.name||""===e.email,onClick:this.handleNextClick,children:O.Z.Messages.NEXT})}},payment_type:{renderBody:()=>(0,i.jsx)(x.Z,{allowStripeRequestPayments:!R.isPlatformEmbedded,onChooseType:this.handleChooseType,onStripePaymentMethodReceived:this.handleStripePaymentMethod})},payment_request_info:{renderBody:()=>{let{stripePaymentMethod:e,submitting:t}=this.props;return(0,i.jsx)(B.k,{stripePaymentMethod:e,submitting:t})},renderNextButton:()=>{let{submitting:e}=this.props;return(0,i.jsx)(p.Button,{submitting:e,look:p.Button.Looks.OUTLINED,disabled:!0})}},card_info:{renderBody:()=>{let{error:e}=this.props,t=null!=e&&(null==e.code||"card_info"===W(e));return(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsx)(p.FormErrorBlock,{className:v.errorBlock,children:O.Z.Messages.BILLING_ERROR_SECTION_CARD}):null,(0,i.jsx)(b.Z,{onCardInfoChange:this.handleCardInfoChange,error:t?e:null})]})},renderNextButton:()=>{let{isCreditCardInfoValid:e}=this.props,{tokenSubmitting:t}=this.state;return(0,i.jsx)(r.ElementsConsumer,{children:n=>{let{elements:s}=n;return(0,i.jsx)(p.Button,{disabled:!e,onClick:()=>{this.createToken(s)},type:"submit",submitting:t,children:O.Z.Messages.NEXT})}})}},billing_address:{renderBody:()=>{let{billingAddressInfo:e,error:t}=this.props,{type:n}=this.state;return(0,i.jsx)(y.P,{billingAddressInfo:e,billingError:t,onBillingAddressChange:this.handleBillingAddressChange,paymentSourceType:n})},renderNextButton:()=>{let{submitting:e,isBillingAddressInfoValid:t,isAuthenticating:n}=this.props;return(0,i.jsx)(p.Button,{type:"submit",submitting:e,disabled:!t||n,onClick:this.handleSave,children:O.Z.Messages.SAVE})}},paypal:{renderBody:()=>(0,i.jsx)(M.Z,{}),renderNextButton:()=>{let{submitting:e,braintreeNonce:t,braintreeEmail:n}=this.props,s=null!=n&&null!=t;return(0,i.jsx)(p.Button,{submitting:e,color:s?p.Button.Colors.BRAND:p.Button.Colors.PRIMARY,onClick:s?this.handleNextClick:this.handleReopenPaypal,children:s?O.Z.Messages.NEXT:O.Z.Messages.PAYMENT_SOURCE_CONNECT_TO_PAYPAL})}}}),Z(this,"handleChooseType",e=>{let t=this.getSteps(e),n=this.getNextStep(t);null!=n&&this.setState({type:e,steps:t,step:n})}),Z(this,"handleCardInfoChange",(e,t)=>{m.Z.wait(()=>(0,I.sn)(e,t))}),Z(this,"handlePaymentDetailsChange",e=>{let{billingAddressInfo:t}=this.props;t.name=e.name,m.Z.wait(()=>(0,I.Ow)({...t,...e},!1))}),Z(this,"handleP24BankChange",e=>{this.setState({paymentDetails:{p24Bank:e}})}),Z(this,"handleBillingAddressChange",(e,t)=>{let{billingAddressInfo:n}=this.props;m.Z.wait(()=>(0,I.Ow)({...n,...e},t))}),Z(this,"handleBackClick",()=>{let e=this.getPreviousStep();if(null!=e){"payment_type"===e&&(0,I.fw)();this.setState({step:e})}}),Z(this,"handleNextClick",()=>{let e=this.getNextStep();null!=e&&this.setState({step:e})}),Z(this,"handleClose",()=>{(0,I.fw)(),this.props.onClose()}),Z(this,"handleStripePaymentMethod",e=>{if((0,I.Xt)(e),null==e){this.handleBackClick();return}this.handleStripePaymentRequestSave(e)}),Z(this,"handleStripePaymentRequestSave",async e=>{try{let t=await f.i6(e,void 0,this.props.analyticsLocation),{onAddPaymentSource:n}=this.props;null==n||n(t),this.handleClose()}catch(e){}}),Z(this,"createToken",async e=>{let{stripe:t}=this.state;this.setState({tokenSubmitting:!0});try{let n=await f.qv(t,e);this.setState({stripeToken:n}),this.handleNextClick()}catch(e){}finally{this.setState({tokenSubmitting:!1})}}),Z(this,"handleSave",()=>{let{type:e}=this.state;switch(e){case D.HeQ.PAYPAL:return this.handlePaypalSave();case D.HeQ.CARD:return this.handleCardSave();case D.HeQ.SOFORT:return this.handleSofortSave();case D.HeQ.GIROPAY:return this.handleGiropaySave();case D.HeQ.PRZELEWY24:return this.handlePrzelewy24Save();case D.HeQ.PAYSAFE_CARD:case D.HeQ.GRABPAY_MY:return this.handleAdyenPrepaidPaymentMethodSave(e);default:f.SQ("user used a unsupported payment type: ".concat(e))}}),Z(this,"handlePrzelewy24Save",async()=>{let{billingAddressInfo:e,isBillingAddressInfoValid:t,onAddPaymentSource:n,analyticsLocation:s}=this.props,{stripe:a,paymentDetails:i}=this.state;if(!!t)try{let t=await f.pF(a,i,e,s);null==n||n(t),this.handleClose()}catch(e){}}),Z(this,"handleSofortSave",async()=>{let{billingAddressInfo:e,isBillingAddressInfoValid:t,onAddPaymentSource:n,analyticsLocation:s}=this.props,{stripe:a}=this.state;if(!!t)try{let t=await f.av(a,e,s);null==n||n(t),this.handleClose()}catch(e){}}),Z(this,"handleCardSave",async()=>{let{billingAddressInfo:e,isCreditCardInfoValid:t,isBillingAddressInfoValid:n,onAddPaymentSource:s,analyticsLocation:a}=this.props,{stripe:i,stripeToken:o}=this.state;if(!!t&&!!n)try{let t=await f.f0(i,o,e,a);null==s||s(t),this.handleClose()}catch(e){}}),Z(this,"handlePaypalSave",async()=>{let{braintreeEmail:e,braintreeNonce:t,billingAddressInfo:n,onAddPaymentSource:s,analyticsLocation:a}=this.props;if(null!=e&&null!=t)try{let e=await f.lP(t,n,a);null==s||s(e),this.handleClose()}catch(e){}}),Z(this,"handleAdyenPrepaidPaymentMethodSave",async e=>{let{billingAddressInfo:t,isBillingAddressInfoValid:n,onAddPaymentSource:s,analyticsLocation:a}=this.props;if(!!n)try{let n=await f.sF(t,e,a);null==s||s(n),this.handleClose()}catch(e){}}),Z(this,"handleGiropaySave",async()=>{let{billingAddressInfo:e,isBillingAddressInfoValid:t,onAddPaymentSource:n,analyticsLocation:s}=this.props,{stripe:a}=this.state;if(!!t)try{let t=await f.GV(a,e,D.HeQ.GIROPAY,s);null==n||n(t),this.handleClose()}catch(e){}})}}let z=_.ZP.connectStores([g.Z,P.Z,T.Z],()=>({braintreeEmail:g.Z.braintreeEmail,braintreeNonce:g.Z.braintreeNonce,stripePaymentMethod:g.Z.stripePaymentMethod,creditCardInfo:g.Z.getCreditCardInfo(),isCreditCardInfoValid:g.Z.isCardInfoValid,billingAddressInfo:g.Z.getBillingAddressInfo(),isBillingAddressInfoValid:g.Z.isBillingAddressInfoValid,error:g.Z.error,popupCallbackCalled:g.Z.popupCallbackCalled,submitting:P.Z.isBusy,isAuthenticating:T.Z.isAwaitingAuthentication}))(V);function K(e){let{transitionState:t,analyticsLocation:n,onClose:s,onAddPaymentSource:a}=e,o=(0,N.fL)(),r=(0,N.vP)({paymentModalArgs:o,initialStep:h.h8.PAYMENT_TYPE,prependSteps:[],appendSteps:[],onReturn:()=>{s()},onComplete:(e,t)=>{u()(null!=t,"paymentSource missing"),null==a||a(t),s()},onStepChange:()=>{},header:(0,i.jsxs)("div",{className:c()(v.modalTitle,U.flex,U.justifyBetween,U.alignCenter),children:[(0,i.jsx)(p.FormTitle,{tag:p.FormTitleTags.H4,children:O.Z.Messages.PAYMENT_SOURCES_ADD}),(0,i.jsx)(p.ModalCloseButton,{onClick:s})]}),analyticsLocation:n,hideBreadcrumbs:!0});return(0,i.jsx)(p.ModalRoot,{transitionState:t,size:p.ModalSize.SMALL,className:v.modal,"aria-label":O.Z.Messages.PAYMENT_SOURCES_ADD,children:(0,i.jsx)("form",{className:v.form,onSubmit:function(e){e.preventDefault()},children:r})})}function q(e){return(0,i.jsx)(C.PaymentContextProvider,{activeSubscription:null,stepConfigs:[],skuIDs:[],children:(0,i.jsx)(K,{...e})})}},362786:function(e,t,n){var s,a,i,o,r,l;n.d(t,{HZ:function(){return s},Of:function(){return i},d$:function(){return a}}),(o=s||(s={}))[o.OTHER=0]="OTHER",o[o.GIFTING_REFUND=1]="GIFTING_REFUND",o[o.BUYERS_REMORSE=2]="BUYERS_REMORSE",o[o.WRONG_PURCHASE=3]="WRONG_PURCHASE",o[o.FORGOT_TO_CANCEL=4]="FORGOT_TO_CANCEL",o[o.SERVER_BOOSTING_COOLDOWN=5]="SERVER_BOOSTING_COOLDOWN",o[o.USER_CONFUSION=6]="USER_CONFUSION",o[o.WANT_TO_SWITCH_TIERS=7]="WANT_TO_SWITCH_TIERS",o[o.DONT_NEED=8]="DONT_NEED",(r=a||(a={}))[r.OTHER=0]="OTHER",r[r.ALREADY_REFUNDED=1]="ALREADY_REFUNDED",r[r.NOT_USER_REFUNDABLE_TYPE=2]="NOT_USER_REFUNDABLE_TYPE",r[r.PAST_REFUNDABLE_DATE=3]="PAST_REFUNDABLE_DATE",r[r.ENTITLEMENT_ALREADY_CONSUMED=4]="ENTITLEMENT_ALREADY_CONSUMED",r[r.ALREADY_REFUNDED_PREMIUM=5]="ALREADY_REFUNDED_PREMIUM",r[r.ALREADY_REFUNDED_PREMIUM_GUILD=6]="ALREADY_REFUNDED_PREMIUM_GUILD",(l=i||(i={})).Authorised="Authorised",l.Error="Error"},244526:function(e,t,n){n.d(t,{Z:function(){return N}});var s,a,i,o,r=n(735250),l=n(470079),c=n(120356),d=n.n(c),u=n(481060),_=n(987032),p=n(46141),m=n(285952),f=n(912454),E=n(122289),I=n(624138),C=n(689938),h=n(398333);class N extends(o=l.PureComponent){get typeString(){let{paymentSource:e}=this.props;if(e instanceof p.qo)return f.ZP.Types.PAYPAL;if(e instanceof p.Sf)return f.ZP.Types.SOFORT;if(e instanceof p.dm)return f.ZP.getType(e.brand);else if(e instanceof p.fv)return f.ZP.Types.GIROPAY;else if(e instanceof p.Vg)return f.ZP.Types.PRZELEWY24;else if(e instanceof p.sn)return f.ZP.Types.PAYSAFECARD;else if(e instanceof p.o_)return f.ZP.Types.GCASH;else if(e instanceof p.kX)return f.ZP.Types.GRABPAY;else if(e instanceof p.z)return f.ZP.Types.MOMO_WALLET;else if(e instanceof p.Xc)return f.ZP.Types.VENMO;else if(e instanceof p.Om)return f.ZP.Types.KAKAOPAY;else if(e instanceof p.JC)return f.ZP.Types.GOPAY_WALLET;else if(e instanceof p.U4)return f.ZP.Types.BANCONTACT;else if(e instanceof p.D0)return f.ZP.Types.EPS;else if(e instanceof p.jc)return f.ZP.Types.IDEAL;else if(e instanceof p.u_)return f.ZP.Types.CASH_APP;else if(e instanceof p.$z)return f.ZP.Types.APPLE;return f.ZP.Types.UNKNOWN}getLabel(e){return e instanceof p.dm?C.Z.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,I.De)(e.brand),last_4:e.last4}):e instanceof p.qo?C.Z.Messages.PAYMENT_SOURCE_PAYPAL:e instanceof p.Sf?C.Z.Messages.PAYMENT_SOURCE_SOFORT:e instanceof p.fv?C.Z.Messages.PAYMENT_SOURCE_GIROPAY:e instanceof p.Vg?C.Z.Messages.PAYMENT_SOURCE_PRZELEWY24:e instanceof p.sn?C.Z.Messages.PAYMENT_SOURCE_PAYSAFE_CARD:e instanceof p.o_?C.Z.Messages.PAYMENT_SOURCE_GCASH:e instanceof p.kX?C.Z.Messages.PAYMENT_SOURCE_GRABPAY:e instanceof p.z?C.Z.Messages.PAYMENT_SOURCE_MOMO_WALLET:e instanceof p.Xc?C.Z.Messages.PAYMENT_SOURCE_VENMO:e instanceof p.Om?C.Z.Messages.PAYMENT_SOURCE_KAKAOPAY:e instanceof p.JC?C.Z.Messages.PAYMENT_SOURCE_GOPAY_WALLET:e instanceof p.U4?C.Z.Messages.PAYMENT_SOURCE_BANCONTACT:e instanceof p.jc?C.Z.Messages.PAYMENT_SOURCE_IDEAL_WITH_BANK.format({bank:(0,_.YE)(e.bank)}):e instanceof p.D0?C.Z.Messages.PAYMENT_SOURCE_EPS_WITH_BANK.format({bank:(0,_.Ul)(e.bank)}):e instanceof p.u_?C.Z.Messages.PAYMENT_SOURCE_CASH_APP_PAY:e instanceof p.$z?C.Z.Messages.PAYMENT_SOURCE_APPLE:C.Z.Messages.PAYMENT_SOURCE_UNKNOWN}renderDescription(){let{paymentSource:e,descriptionClassName:t}=this.props;return(0,r.jsx)(u.Text,{className:d()(h.description,t),variant:"text-md/semibold",children:this.getLabel(e)})}renderSubText(){let{paymentSource:e,locale:t}=this.props,n=null;return e instanceof p.dm?n=C.Z.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,E.E2)(e.expiresMonth,t),year:e.expiresYear}):e instanceof p.qo?n=e.email:e instanceof p.Sf?n=e.email:e instanceof p.Vg?n=e.email:e instanceof p.Xc?n="@"+e.username:e instanceof p.u_&&(n=e.username),n}render(){let{isDefault:e,paymentSource:t,showSubtext:n,isForSubscription:s,showPaymentSourceIcon:a,showLabels:i}=this.props,o=this.renderSubText();return(0,r.jsxs)(m.Z,{children:[a&&(0,r.jsx)(f.ZP,{type:this.typeString}),(0,r.jsxs)(m.Z,{direction:m.Z.Direction.VERTICAL,className:h.descriptionWrapper,children:[(0,r.jsxs)(m.Z,{align:m.Z.Align.CENTER,children:[this.renderDescription(),i&&e?(0,r.jsx)("div",{className:h.defaultIndicator,children:C.Z.Messages.DEFAULT}):null,s?(0,r.jsx)("div",{className:h.premiumIndicator,children:C.Z.Messages.PAYMENT_SOURCE_SUBSCRIPTION}):null,i&&t.invalid?(0,r.jsx)("div",{className:h.invalidIndicator,children:C.Z.Messages.PAYMENT_SOURCE_INVALID}):null]}),n&&null!=o?(0,r.jsx)("div",{className:h.subText,children:o}):null]})]})}}i={isForSubscription:!1,isDefault:!1,showSubtext:!1,showPaymentSourceIcon:!1,showLabels:!1},(a="defaultProps")in(s=N)?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i},231428:function(e,t,n){n.d(t,{Z:function(){return O}}),n(47120);var s,a=n(735250),i=n(470079),o=n(120356),r=n.n(o),l=n(512722),c=n.n(l),d=n(91192),u=n(442837),_=n(481060),p=n(570140),m=n(355467),f=n(827837),E=n(821849),I=n(724757),C=n(818035),h=n(509545),N=n(78839),P=n(285952),g=n(884246),T=n(74538),S=n(807160),R=n(474936),A=n(231338),b=n(689938),x=n(631545),M=n(69630);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){let{payments:t,locale:n,compactMode:s,numPages:o}=e,l=i.useRef(null),[c,u]=i.useState(0),[p,f]=i.useState(null),E=t.slice(10*c,(c+1)*10);i.useEffect(()=>{var e;null===(e=l.current)||void 0===e||e.scrollTo({to:0})},[c]);let C=i.useCallback(e=>{u(e);let n=t[t.length-1].id;e>=o-2&&p!==n&&((0,m.cQ)(10,n),f(n))},[t,o,p]),h=(0,I.Z)("billing-history",l);return(0,a.jsx)(d.bG,{navigator:h,children:(0,a.jsx)(d.SJ,{children:e=>{let{ref:t,...i}=e;return(0,a.jsx)(g.Z,{className:r()(x.verticalFit,x.paginator),currentPageIndex:c,onChangePage:C,numPages:o,showPageCount:!1,ref:t,...i,children:(0,a.jsx)(_.AdvancedScroller,{className:x.bottomDivider,ref:l,children:E.map((e,t)=>(0,a.jsx)(S.Z,{className:r()(x.paymentRow,x.bottomDivider),payment:e,locale:n,compactMode:s},t))})})}})})}class B extends(s=i.PureComponent){get numPages(){return Math.max(Math.ceil(this.props.payments.length/10),1)}componentDidMount(){p.Z.wait(()=>{(0,f.N)(),(0,m.cQ)(30)})}renderPremiumExternalSubscription(e){return c()(null!=e.paymentGateway,"Expected payment gateway when rendering for external subscription"),(0,a.jsxs)(_.Card,{className:x.externalRow,children:[(0,a.jsx)("div",{className:x.externalRowHeader,children:b.Z.Messages.BILLING_EXTERNAL_HEADER.format({paymentGatewayName:A.Vz[e.paymentGateway]})}),(0,a.jsx)("div",{className:x.externalRowBody,children:b.Z.Messages.BILLING_EXTERNAL_DESCRIPTION.format({paymentGatewayName:A.Vz[e.paymentGateway],billingHistoryLink:(0,T.JE)(e.paymentGateway,"BILLING_HISTORY")})})]})}render(){let{compactMode:e,payments:t,subscription:n,locale:s}=this.props,i=null!=n&&n.isPurchasedExternally;return 0!==t.length||i?(0,a.jsxs)("div",{className:x.verticalFit,children:[null!=n&&i?this.renderPremiumExternalSubscription(n):null,t.length>0?(0,a.jsxs)("div",{className:r()(x.paymentPane,x.verticalFit),children:[e?null:(0,a.jsx)("div",{className:r()(x.paymentRow,x.bottomDivider),children:(0,a.jsxs)(P.Z,{className:x.paymentRowHeader,children:[(0,a.jsx)("div",{className:M.date,children:b.Z.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE}),(0,a.jsx)("div",{className:x.paymentRowHeaderDescription,children:b.Z.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION}),(0,a.jsx)("div",{className:M.amount,children:b.Z.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT})]})}),(0,a.jsx)(y,{compactMode:e,locale:s,payments:t,numPages:this.numPages})]}):null]}):null}constructor(...e){super(...e),L(this,"scrollerRef",i.createRef())}}function D(e){var t;let n=e.skuId,s=null===(t=e.subscription)||void 0===t?void 0:t.items[0].planId;return!(null==n||null==s||Object.values(R.Si).includes(n)||(0,T.PV)(s))}function O(e){let t=(0,u.e7)([C.Z],()=>C.Z.getPayments()),n=(0,u.e7)([N.ZP],()=>N.ZP.getPremiumTypeSubscription()),s=i.useMemo(()=>new Set(t.filter(D).map(e=>{let{subscription:t}=e;return null==t?void 0:t.items[0].planId})),[t]),o=i.useMemo(()=>new Set(t.filter(D).map(e=>{let{skuId:t}=e;return t})),[t]),r=(0,u.Wu)([h.Z],()=>h.Z.getPlanIdsForSkus(Array.from(o))),l=i.useCallback(()=>r.length===s.size,[r,s]);return i.useEffect(()=>{!l()&&p.Z.wait(()=>{o.forEach(e=>(0,E.GZ)(e,void 0,void 0,!0,void 0))})},[l,o]),(0,a.jsx)(B,{...e,payments:l()?t:[],subscription:n})}L(B,"defaultProps",{compactMode:!1})},807160:function(e,t,n){n.d(t,{Z:function(){return e_}}),n(47120),n(653041),n(789020);var s,a,i,o=n(735250),r=n(470079),l=n(120356),c=n.n(l),d=n(512722),u=n.n(d),_=n(913527),p=n.n(_),m=n(91192),f=n(314877),E=n(442837),I=n(481060),C=n(37234),h=n(782568),N=n(812206),P=n(593061),g=n(267101),T=n(240864),S=n(942833),R=n(400916),A=n(916001),b=n(539290),x=n(336197),M=n(307643),L=n(378233),y=n(419922),B=n(46141),D=n(430824),O=n(853872),v=n(509545),U=n(230307),Z=n(285952),j=n(366695),w=n(499150),k=n(912454),G=n(259580),F=n(572004),Y=n(55935),H=n(630388),W=n(74538),V=n(937615),z=n(244526),K=n(712358),q=n(362786),X=n(981631),Q=n(474936),J=n(231338),$=n(689938),ee=n(69630);function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let en=e=>"https://".concat(X.xr4,"/hc/").concat(e.toLowerCase(),"/requests/new?ticket_form_id=360000118612"),es=[X.epS.DURABLE_PRIMARY,X.epS.DURABLE,X.epS.CONSUMABLE];(i=s||(s={})).PURCHASE_DATE="PURCHASE_DATE",i.SKU_TYPE="SKU_TYPE",i.ALREADY_REFUNDED="ALREADY_REFUNDED",i.PAYMENT_STATUS="PAYMENT_STATUS",i.PAYMENT_GATEWAY="PAYMENT_GATEWAY",i.SKU_STICKER_PACK="SKU_STICKER_PACK",i.SUBSCRIPTION_TYPE="SUBSCRIPTION_TYPE",i.GUILD_PRODUCT="GUILD_PRODUCT";let ea=[X.PyE.FAILED,X.PyE.REVERSED,X.PyE.CANCELED],ei=[J.gg.APPLE],eo=e=>{let{description:t,cost:n}=e;return(0,o.jsx)("li",{className:ee.paymentDetail,children:(0,o.jsxs)(Z.Z,{justify:Z.Z.Justify.BETWEEN,children:[(0,o.jsx)("div",{children:t}),(0,o.jsx)("div",{children:n})]})})};function er(e){let{value:t,copyText:n,copyFeedbackText:s}=e,[a,i]=r.useState(!1),[l,c]=r.useState(!1),d=()=>{(0,F.JG)(t),c(!0),i(!0)};return(0,o.jsx)(I.Tooltip,{forceOpen:l,text:a?s:n,children:e=>{let{onMouseEnter:n,onMouseLeave:s,...r}=e;return(0,o.jsx)(I.Clickable,{...r,onMouseEnter:()=>{a&&i(!1),"function"==typeof n&&n()},onMouseLeave:()=>{c(!1),"function"==typeof s&&s()},onClick:d,children:(0,o.jsx)("div",{className:ee.copiableContainer,children:t})})}})}let el=e=>{let{description:t,detail:n}=e;return(0,o.jsx)("li",{className:ee.guildProductDetail,children:(0,o.jsxs)(Z.Z,{justify:Z.Z.Justify.BETWEEN,children:[(0,o.jsx)("div",{children:t}),(0,o.jsx)("div",{children:n})]})})};function ec(e){let{guildId:t,guildProductListingId:n}=e,s=(0,g.hO)(t,n,{requireCurrentGuild:!1}),a=(0,S.C)(s),i=(0,E.e7)([D.Z],()=>D.Z.getGuild(t)),l=(null==s?void 0:s.role_id)!=null&&(null==s?void 0:s.attachments_count)===0?$.Z.Messages.GUILD_PRODUCT_BILLING_TYPE_PREMIUM_ROLE:a,c=r.useCallback(async()=>{(null==i?void 0:i.hasFeature(X.oNc.PRODUCTS_AVAILABLE_FOR_PURCHASE))===!0?await (0,x.Z)(X.Z5c.GUILD_PRODUCT(t,n)):await (0,x.Z)(X.Z5c.CHANNEL(t)),(0,C.xf)()},[i,t,n]);return(0,o.jsxs)(o.Fragment,{children:[null!=l&&(0,o.jsx)(el,{description:$.Z.Messages.GUILD_PRODUCT_BILLING_PRODUCT_TYPE,detail:l}),null!=i&&(0,o.jsx)(el,{description:$.Z.Messages.GUILD_PRODUCT_BILLING_SERVER_NAME,detail:(0,o.jsx)(w.Z,{onClick:c,children:i.name})})]})}function ed(e){var t,n;let{guildId:s,guildProductListingId:a}=e,i=(0,g.hO)(s,a,{requireCurrentGuild:!1}),r=(0,E.e7)([T.Z],()=>T.Z.getGuildProductFetchState(a)===T.M.FETCHING),l=null==i?void 0:i.role_id,c=(0,E.e7)([D.Z],()=>null!=l?D.Z.getRole(s,l):void 0,[s,l]),d=(null!==(n=null==i?void 0:null===(t=i.attachments)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0,u=null!=c;return r?(0,o.jsx)("div",{className:ee.guildProductBenefits,children:(0,o.jsx)(I.Spinner,{})}):null!=i&&(d||u)?(0,o.jsxs)("div",{className:ee.guildProductBenefits,children:[d&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I.Text,{variant:"text-xs/semibold",color:"header-secondary",className:ee.guildProductBenefitLabel,children:$.Z.Messages.GUILD_PRODUCT_BILLING_ACCESS_DOWNLOADABLES}),(0,o.jsx)(R.Z,{guildId:s,productId:i.id})]}),u&&(0,o.jsxs)(o.Fragment,{children:[d&&(0,o.jsx)("div",{className:ee.divider}),(0,o.jsx)(I.Text,{variant:"text-xs/semibold",color:"header-secondary",className:ee.guildProductBenefitLabel,children:$.Z.Messages.GUILD_PRODUCT_CONFIRMATION_MODAL_ROLE_UNLOCKED}),(0,o.jsx)(A.Z,{role:c})]})]}):null}class eu extends(a=r.PureComponent){get daysSincePurchase(){let{payment:e}=this.props,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return p()().diff(n,"days")}get isPremium(){let{payment:e}=this.props;return e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift}get typeString(){let{payment:{paymentSource:e}}=this.props;return e instanceof B.qo?k.ZP.Types.PAYPAL:e instanceof B.dm?k.ZP.getType(e.brand):k.ZP.Types.UNKNOWN}validateRefundRules(){return this.refundRules.filter(e=>{let{canRefund:t}=e;return!t()}).map(e=>{let{rule:t}=e;return t})}renderStatus(){let{payment:e}=this.props;switch(e.status){case X.PyE.PENDING:return(0,o.jsx)("span",{className:ee.statusTagGrey,children:$.Z.Messages.BILLING_TAG_PENDING});case X.PyE.FAILED:return(0,o.jsx)("span",{className:ee.statusTagRed,children:$.Z.Messages.BILLING_TAG_FAILED});case X.PyE.REFUNDED:if(e.amountRefunded!==e.amount)return(0,o.jsx)("span",{className:ee.statusTagGreen,children:$.Z.Messages.BILLING_TAG_PARTIALLY_REFUNDED});return(0,o.jsx)("span",{className:ee.statusTagGreen,children:$.Z.Messages.BILLING_TAG_REFUNDED});case X.PyE.REVERSED:return(0,o.jsx)("span",{className:ee.statusTagRed,children:$.Z.Messages.BILLING_TAG_REVERSED});case X.PyE.CANCELED:return(0,o.jsx)("span",{className:ee.statusTagRed,children:$.Z.Messages.BILLING_TAG_CANCELED});default:return null}}renderPrice(){let{payment:e}=this.props,t=e.amount-e.amountRefunded;return(0,o.jsx)("span",{className:ee.price,children:(0,V.T4)(t,e.currency)})}renderPaymentIdField(){let{payment:e}=this.props;return(0,o.jsx)("li",{className:ee.paymentDetail,children:(0,o.jsxs)("div",{className:ee.paymentInfo,children:[(0,o.jsx)("div",{children:$.Z.Messages.BILLING_PAYMENT_ID}),(0,o.jsx)(er,{value:e.id,copyText:$.Z.Messages.BILLING_PAYMENT_ID_COPY,copyFeedbackText:$.Z.Messages.BILLING_PAYMENT_ID_COPIED})]})})}renderPaymentBreakdown(){let{payment:e,locale:t,application:n}=this.props,{taxInclusive:s,tax:a,amount:i,amountRefunded:l,currency:d}=e,u=null==n?void 0:n.guildId;return(0,o.jsxs)("div",{className:c()(ee.paymentText,ee.paymentBreakdown),children:[null!=e.paymentSource?(0,o.jsx)(z.Z,{paymentSource:e.paymentSource,locale:t,descriptionClassName:ee.paymentText,showLabels:!0,showPaymentSourceIcon:!0}):e.paymentGateway===J.gg.APPLE_PARTNER?(0,o.jsx)(z.Z,{paymentSource:new B.$z({}),locale:t,descriptionClassName:ee.paymentText,showLabels:!0,showPaymentSourceIcon:!0}):null,(0,o.jsxs)("ul",{children:[this.renderPaymentIdField(),!s&&a>0?(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(eo,{description:e.description,cost:(0,V.T4)(i-a,d)}),(0,o.jsx)(eo,{description:$.Z.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,V.T4)(a,d)})]}):null,(0,o.jsx)(eo,{description:$.Z.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,V.T4)(i,d)}),e.isGuildProductPurchase&&null!=u&&null!=e.sku&&(0,o.jsx)(ec,{guildId:u,guildProductListingId:e.sku.id}),l>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eo,{description:$.Z.Messages.BILLING_PAYMENT_BREAKDOWN_REFUNDED,cost:(0,V.T4)(l,d)}),(0,o.jsx)(eo,{description:$.Z.Messages.BILLING_PAYMENT_BREAKDOWN_NET,cost:(0,V.T4)(i-l,d)})]})]})]})}renderInvoiceDownload(){let{payment:e}=this.props;return(0,o.jsx)(P.Z,{payment:e})}renderRefundDetails(){let e;let{locale:t,payment:n}=this.props,s=this.validateRefundRules();if(s.includes("PAYMENT_GATEWAY")||s.includes("PAYMENT_STATUS")||s.includes("ALREADY_REFUNDED")||s.includes("SKU_STICKER_PACK")||s.includes("SUBSCRIPTION_TYPE")||s.includes("GUILD_PRODUCT"))return null;let a=0===s.length,i=en(t),l=this.isPremium?5:14;return e=s.includes("SKU_TYPE")?$.Z.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:i}):a?n.isPremiumSubscription||n.isPremiumGuildSubscription?$.Z.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:l,supportURL:i}):n.isGift?$.Z.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:l,supportURL:i}):$.Z.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:l,playtimeLimit:2,supportURL:i}):n.isGift?$.Z.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:l}):n.isPremiumSubscription||n.isPremiumGuildSubscription?$.Z.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:l}):n.isCollectible?$.Z.Messages.BILLING_COLLECTIBLES_REFUND_TEXT_UNABLE:$.Z.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:l,playtimeLimit:2}),this.isPremium&&(0,K.U)()&&(e=null),(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(I.H,{className:ee.paymentHeader,children:$.Z.Messages.BILLING_REFUND_HEADER}),(0,o.jsxs)("div",{className:ee.paymentText,children:[(0,o.jsx)("div",{children:e}),this.renderRefundActions(s)]})]})}renderRefundCriteria(e,t,n,s){return(0,o.jsxs)("div",{className:ee.refundCriteria,children:[(0,o.jsx)(I.H,{className:ee.refundSubHeader,children:e}),(0,o.jsxs)("div",{className:ee.refundIconContainer,children:[(0,o.jsx)(t,{className:ee.refundCriteriaIcon,color:"currentColor"}),null!=n&&(0,o.jsx)("div",{children:n})]})]},s)}renderRefundActions(e){var t;let{locale:s,payment:a}=this.props;if(e.includes("SKU_TYPE"))return null;let i=e.includes("PURCHASE_DATE")?I.CloseSmallIcon:I.CheckmarkLargeIcon;if(!this.isPremium||!(0,K.U)())return(0,o.jsxs)("div",{className:ee.refundActions,children:[(0,o.jsx)("div",{className:ee.refundRules,children:!a.isCollectible&&this.renderRefundCriteria($.Z.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER,i,$.Z.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase}))}),(0,o.jsx)(I.Anchor,{href:en(s),children:$.Z.Messages.BILLING_REFUND_REPORT_A_PROBLEM})]});let r=(null!==(t=a.premiumRefundDisqualificationReasons)&&void 0!==t?t:[q.d$.OTHER])[0],l=null!=r||0!==e.length||a.isPurchasedExternally;return(0,o.jsxs)("div",{className:ee.refundActions,children:[(0,o.jsx)(I.Tooltip,{shouldShow:l,text:function(e){switch(e){case q.d$.ALREADY_REFUNDED_PREMIUM:return $.Z.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_REASON;case q.d$.ALREADY_REFUNDED_PREMIUM_GUILD:return $.Z.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_GUILD_REASON;case q.d$.ENTITLEMENT_ALREADY_CONSUMED:return $.Z.Messages.BILLING_REFUND_ALREADY_CONSUMED_REASON;default:return $.Z.Messages.BILLING_REFUND_GENERIC_REASON}}(r),children:e=>(0,o.jsx)(I.Button,{...e,color:I.Button.Colors.PRIMARY,disabled:l,onClick:()=>(0,I.openModalLazy)(async()=>{let{default:e}=await n.e("69473").then(n.bind(n,436022));return t=>(0,o.jsx)(e,{payment:a,reportProblemUrl:en(s),...t})}),children:$.Z.Messages.BILLING_REFUND_BUTTON_TEXT})}),(0,o.jsx)(I.Anchor,{href:en(s),children:$.Z.Messages.BILLING_REFUND_REPORT_A_PROBLEM})]})}renderDescription(){let e,t;let{compactMode:n,payment:s,application:a,guild:i,stickerPack:l}=this.props,{expanded:c}=this.state,d=s.sku,_=s.subscription,m=null!=s.paymentSource&&X.Uk1.has(s.paymentSource.type);if(null!=_&&0!==_.items.length){let n=[],s=null;if(_.type===X.NYc.PREMIUM)_.items.forEach(e=>{let{planId:t,quantity:a}=e;(0,W.uZ)(t)?(n.push(W.ZP.getDisplayName(t,!1,m)),s=(0,W.Wz)(Q.GP[t].skuId)):(n.push("".concat(a>1?"".concat(a,"x "):"").concat(W.ZP.getDisplayName(t,!1,m))),null==s&&(s=(0,W.Wz)(Q.GP[t].skuId)))});else if(_.type===X.NYc.GUILD){let e=v.Z.get(_.items[0].planId);u()(null!=e,"Guild subscription plan should already have been loaded");let t=e.interval===Q.rV.YEAR?$.Z.Messages.YEARLY_GUILD_SUBSCRIPTION:$.Z.Messages.MONTHLY_GUILD_SUBSCRIPTION;n.push(t.format({planName:e.name})),s=e.skuId}else if(_.type===X.NYc.APPLICATION){let e=v.Z.get(_.items[0].planId);u()(null!=e,"Application subscription plan should already have been loaded"),null!=a?n.push($.Z.Messages.MONTHLY_APPLICATION_SUBSCRIPTION_V2.format({tier:null==d?void 0:d.name})):n.push($.Z.Messages.APPLICATION_SUBSCRIPTION_FROM_DELETED_APPLICATION),s=e.skuId}t=n.join(", "),e=(0,o.jsx)(j.Z,{className:ee.descriptionIcon,guildClassName:ee.guildDescriptionIcon,game:a,guild:i,size:j.Z.Sizes.XSMALL,skuId:s})}else if(null!=d){var f;if(t=s.isGuildProductPurchase&&s.isSoftDeletedProduct?$.Z.Messages.GUILD_PRODUCT_BILLING_DELISTED_PRODUCT:d.name,null!=l){let t=(0,L.Zt)(l);e=(0,o.jsx)(y.ZP,{disableAnimation:!c,isInteracting:c,sticker:t,className:ee.descriptionIcon,size:24})}else e=(null===(f=s.sku)||void 0===f?void 0:f.productLine)===X.POd.COLLECTIBLES?(0,o.jsx)(I.ShopIcon,{size:"custom",width:23,height:23,color:"currentColor",className:ee.shopIcon}):(0,o.jsx)(j.Z,{className:ee.descriptionIcon,guildClassName:ee.guildDescriptionIcon,game:a,guild:i,size:j.Z.Sizes.XSMALL,skuId:d.id})}else e=(0,o.jsx)(I.NitroWheelIcon,{size:"md",color:"currentColor",className:ee.descriptionIcon}),t=s.description;let E=(0,o.jsx)("div",{className:ee.date,children:(0,Y.vc)(p()(s.createdAt),"MM/DD/YYYY")}),C=s.isGift?(0,o.jsx)(I.Tooltip,{text:$.Z.Messages.BILLING_GIFT_PURCHASE_TOOLTIP,children:e=>(0,o.jsx)(I.GiftIcon,{size:"md",color:"currentColor",className:ee.giftIcon,...e})}):null;return n?(0,o.jsxs)("div",{className:ee.description,children:[e,(0,o.jsxs)("div",{children:[t,E]}),C]}):(0,o.jsxs)(r.Fragment,{children:[E,(0,o.jsxs)("div",{className:ee.description,children:[e,(0,o.jsx)("div",{children:t}),C]})]})}renderGuildProductBenefits(){let{payment:e,application:t,locale:n}=this.props,s=null==t?void 0:t.guildId;return e.isGuildProductPurchase?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:ee.sectionDivider}),e.isSoftDeletedProduct?(0,o.jsx)(b.Z,{className:ee.warningBlock,buttonPosition:b.E.RIGHT,notice:$.Z.Messages.GUILD_PRODUCT_BILLING_PRODUCT_UNAVAILABLE,ctaLabel:$.Z.Messages.GUILD_PRODUCT_BILLING_CONTACT_SUPPORT,onClick:()=>(0,h.Z)(en(n))}):null!=s&&null!=e.sku&&(0,o.jsx)(ed,{guildId:s,guildProductListingId:e.sku.id})]}):null}renderExpandedSection(){return(0,o.jsx)(I.Clickable,{onClick:e=>e.stopPropagation(),children:(0,o.jsxs)("div",{className:ee.expandedInfo,children:[(0,o.jsx)(I.H,{className:ee.paymentHeader,children:$.Z.Messages.BILLING_PURCHASE_DETAILS_HEADER}),this.renderPaymentBreakdown(),this.renderGuildProductBenefits(),this.renderInvoiceDownload(),this.renderRefundDetails()]})})}render(){let{payment:e,className:t,compactMode:n}=this.props,{expanded:s}=this.state;return(0,o.jsx)(m.mh,{id:e.id,children:e=>(0,o.jsxs)(I.Clickable,{onClick:this.handleExpandInfo,className:c()(s?ee.payment:ee.hoverablePayment,t,{[ee.compact]:n}),focusProps:{offset:4},...e,children:[(0,o.jsxs)(Z.Z,{className:ee.summaryInfo,align:Z.Z.Align.CENTER,children:[this.renderDescription(),(0,o.jsxs)("div",{className:ee.amount,children:[this.renderStatus(),this.renderPrice()]}),(0,o.jsx)(G.Z,{className:ee.expand,direction:s?G.Z.Directions.UP:G.Z.Directions.DOWN})]}),s?this.renderExpandedSection():null]})})}constructor(...e){super(...e),et(this,"state",{expanded:!1}),et(this,"refundRules",[{rule:"PURCHASE_DATE",canRefund:()=>{let{payment:e}=this.props,t=e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift?5:14;return this.daysSincePurchase<=t}},{rule:"SKU_TYPE",canRefund:()=>{let{payment:e}=this.props;return null==e.sku||e.sku.type!==X.epS.CONSUMABLE}},{rule:"ALREADY_REFUNDED",canRefund:()=>{let{payment:e}=this.props;return e.amountRefunded<e.amount}},{rule:"PAYMENT_STATUS",canRefund:()=>{let{payment:e}=this.props;return!ea.includes(e.status)}},{rule:"PAYMENT_GATEWAY",canRefund:()=>{let{payment:e}=this.props;return null==e.paymentGateway||!ei.includes(e.paymentGateway)}},{rule:"SKU_STICKER_PACK",canRefund:()=>{let{payment:e}=this.props;return null==e.sku||!(0,H.yE)(e.sku.flags,X.l4R.STICKER_PACK)}},{rule:"SUBSCRIPTION_TYPE",canRefund:()=>{var e,t;let{payment:n}=this.props;return(null===(e=n.subscription)||void 0===e?void 0:e.type)!==X.NYc.GUILD&&(null===(t=n.subscription)||void 0===t?void 0:t.type)!==X.NYc.APPLICATION}},{rule:"GUILD_PRODUCT",canRefund:()=>{let{payment:e}=this.props;return null==e.sku||!(0,H.yE)(e.sku.flags,f.l.GUILD_PRODUCT)}}]),et(this,"handleExpandInfo",()=>{this.setState({expanded:!this.state.expanded})})}}function e_(e){var t,n;let{payment:s,locale:a,compactMode:i,className:l}=e,c=null!=s.sku&&es.includes(s.sku.type),d=null!=s.sku&&c?s.sku.applicationId:null,u=null===(t=s.sku)||void 0===t?void 0:t.applicationId,_=(null===(n=s.subscription)||void 0===n?void 0:n.type)===X.NYc.APPLICATION,{applicationStatistics:p,gameApplication:m,paymentSources:f}=(0,E.cj)([O.Z,U.Z,N.Z],()=>{var e,t;return{applicationStatistics:null!=d?U.Z.getCurrentUserStatisticsForApplication(d):null,gameApplication:null!==(t=N.Z.getApplication(null!=d?d:""))&&void 0!==t?t:null===(e=s.sku)||void 0===e?void 0:e.application,paymentSources:O.Z.paymentSources}}),I=(0,E.e7)([N.Z],()=>null!=u?N.Z.getApplication(u):null);r.useEffect(()=>{_&&null!=u&&(0,M.UM)(u)},[u,_]);let C=(0,E.e7)([D.Z],()=>D.Z.getGuild(null==m?void 0:m.guildId)),h=c?m:void 0;return(0,o.jsx)(eu,{applicationStatistics:p,application:_?I:h,guild:C,stickerPack:null,paymentSources:f,locale:a,compactMode:i,className:l,payment:s})}et(eu,"defaultProps",{compactMode:!1})},712358:function(e,t,n){n.d(t,{U:function(){return a}});let s=(0,n(818083).B)({id:"2021-08_user_initiated_refunds",label:"User Initiated Refunds",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Can refund",config:{enabled:!0}}]});function a(){let{enabled:e}=s.getCurrentConfig({location:"70b634_1"},{autoTrackExposure:!1});return s.trackExposure({location:"70b634_2"}),e}},167354:function(e,t,n){var s=n(470079),a=n(442837),i=n(78839),o=n(231338);t.Z=function(e){let{subscriptionFilter:t}=e,n=(0,a.e7)([i.ZP],()=>i.ZP.getSubscriptions(!0)),r=s.useMemo(()=>null==n?[]:Object.values(n).filter(e=>!!(e.type===o.NY.PREMIUM&&(null==t||t(e))&&(0,i.sE)(e))||!1),[n,t]);return r.sort((e,t)=>{var n,s;let a=null!==(n=e.paymentGateway)&&void 0!==n?n:0,i=null!==(s=t.paymentGateway)&&void 0!==s?s:0;return a<i?-1:a>i?1:0}),r}},357841:function(e,t,n){var s=n(735250);n(470079);var a=n(481060);t.Z={open:function(e,t){(0,a.openModalLazy)(async()=>{let{default:a}=await n.e("37880").then(n.bind(n,897511));return n=>(0,s.jsx)(a,{payment:e,paymentSource:t,...n})})}}},593061:function(e,t,n){n.d(t,{Z:function(){return c}});var s=n(735250);n(470079);var a=n(481060),i=n(357841),o=n(231338),r=n(689938),l=n(69630);function c(e){let{payment:t}=e,n=null!=t.paymentSource&&t.status===o.Py.COMPLETED;return null==t.downloadableInvoice||""===t.downloadableInvoice?n?(0,s.jsx)("div",{className:l.downloadInvoice,children:(0,s.jsx)(a.Anchor,{onClick:()=>{var e,n;e=t,n=t.paymentSource,i.Z.open(e,n)},children:r.Z.Messages.BILLING_DOWNLOAD_INVOICE})}):null:(0,s.jsxs)("div",{className:l.downloadInvoice,children:[(0,s.jsx)(a.Anchor,{href:t.downloadableInvoice,children:r.Z.Messages.BILLING_DOWNLOAD_INVOICE_VAT}),null!=t.downloadableRefundInvoices?t.downloadableRefundInvoices.map((e,t)=>(0,s.jsx)(a.Anchor,{className:l.downloadRefundInvoice,href:e,children:r.Z.Messages.BILLING_DOWNLOAD_REFUND_INVOICE},t)):null]})}},518062:function(e,t,n){n.d(t,{Z:function(){return u}}),n(47120);var s=n(735250);n(470079);var a=n(442837),i=n(481060),o=n(607070),r=n(122890),l=n(285952),c=n(300395),d=n(796116);function u(e){let{purchaseState:t,currentStep:n,onClose:u}=e,[_,p]=(0,r.z)({purchaseState:t,currentStep:n,initialScene:c.fe.Scenes.ENTRY,purchaseScene:c.fe.Scenes.STARS,errorScene:c.fe.Scenes.ERROR,successScene:c.fe.Scenes.SUCCESS}),m=(0,a.e7)([o.Z],()=>o.Z.useReducedMotion);return(0,s.jsxs)(i.ModalHeader,{align:l.Z.Align.START,className:d.header,separator:!1,children:[(0,s.jsx)(c.fe,{className:d.animation,nextScene:_,onScenePlay:e=>p(c.fe.getNextScene(e)),pauseWhileUnfocused:!1,pause:m}),(0,s.jsx)("div",{className:d.headerTitle}),(0,s.jsx)(i.ModalCloseButton,{onClick:u,className:d.closeButton})]})}},431369:function(e,t,n){n.d(t,{g:function(){return c}}),n(411104),n(47120);var s=n(512722),a=n.n(s),i=n(509545),o=n(74538),r=n(474936),l=n(981631);function c(e,t){let n=i.Z.get(e.planId);a()(null!=n,"missing premium subscription plan");let s=i.Z.getForSkuAndInterval((0,o.Wz)(r.Si.GUILD),n.interval,n.intervalCount);a()(null!=s,"missing premium guild plan");let c=null!=e.renewalMutations?e.renewalMutations.additionalPlans:e.additionalPlans,d=(e.status===l.O0b.CANCELED?0:(0,o.uV)(c))+t,u=c.filter(e=>e.planId!==s.id);if(d<0)throw Error("Invalid adjustment");return 0===d?u:[...u,{planId:s.id,quantity:d}]}},879463:function(e,t,n){let s=(0,n(818083).B)({kind:"user",id:"2023-12_pause_subscriptions_experiment",label:"Pause Subscriptions Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Pause Subscription Enabled",config:{enabled:!0}}]});t.ZP=e=>{let{location:t,autoTrackExposure:n=!0,trackExposureOptions:a={}}=e;return s.useExperiment({location:t},{autoTrackExposure:n,trackExposureOptions:a})}},987997:function(e,t,n){n.d(t,{Z:function(){return o}});var s=n(735250);n(470079);var a=n(481060),i=n(544636);function o(e){let{children:t,...n}=e;return(0,s.jsx)(a.Button,{...n,size:a.Button.Sizes.SMALL,color:a.Button.Colors.BRAND_INVERTED,className:i.button,children:t})}},833569:function(e,t,n){n.r(t),n.d(t,{Steps:function(){return s},default:function(){return X}}),n(47120),n(411104);var s,a,i=n(735250),o=n(470079),r=n(120356),l=n.n(r),c=n(887024),d=n(512722),u=n.n(d),_=n(442837),p=n(780384),m=n(481060),f=n(355467),E=n(410030),I=n(100527),C=n(906732),h=n(211242),N=n(509545),P=n(285952),g=n(626135),T=n(122289),S=n(63063),R=n(74538),A=n(937615),b=n(374649),x=n(140465),M=n(314684),L=n(653798),y=n(625881),B=n(440984),D=n(398775),O=n(973159),v=n(311821),U=n(42818),Z=n(798769),j=n(459965),w=n(119269),k=n(474936),G=n(981631),F=n(689938),Y=n(927344);(a=s||(s={}))[a.WHAT_YOU_LOSE=1]="WHAT_YOU_LOSE",a[a.CONFIRM=2]="CONFIRM",a[a.PREVIEW=3]="PREVIEW",a[a.CONFIRM_DISCOUNT=4]="CONFIRM_DISCOUNT",a[a.DISCOUNT_APPLIED=5]="DISCOUNT_APPLIED",a[a.PAUSE_SELECT=6]="PAUSE_SELECT",a[a.PAUSE_CONFIRM=7]="PAUSE_CONFIRM";async function H(e){let{premiumSubscription:t,onClose:n,setHasError:s,setIsCancelling:a,analyticsLocations:i,analyticsLocation:o}=e;try{if(a(!0),s(!1),[G.O0b.PAST_DUE,G.O0b.PAUSED,G.O0b.BILLING_RETRY].includes(t.status))await (0,f.EO)(t.id,i,o);else{var r,l;let e=null!==(l=null===(r=t.renewalMutations)||void 0===r?void 0:r.items)&&void 0!==l?l:t.items;await (0,f.Mg)(t,{items:(0,R.Ue)(e)},i,o)}n()}catch{s(!0),a(!1)}}function W(e){var t;let{premiumSubscription:n,premiumType:s,setStep:a,onClose:r,whatYouLoseExperienceEnabled:l,analyticsLocation:c}=e,d=(0,h.Q)(),[u,_]=o.useState(!1),[f,I]=o.useState(!1),N=(0,E.ZP)(),{analyticsLocations:g}=(0,C.ZP)(),T=null;switch(n.status){case G.O0b.PAST_DUE:case G.O0b.PAUSED:case G.O0b.BILLING_RETRY:T=F.Z.Messages.PREMIUM_CANCEL_PAST_DUE_CONFIRM_BODY;break;default:switch(s){case k.p9.TIER_0:T=d?F.Z.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_0_PAYMENT_BLOCKED_RUSSIA.format({date:n.currentPeriodEnd,helpdeskArticle:S.Z.getArticleURL(G.BhN.BLOCKED_PAYMENTS)}):F.Z.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_0.format({date:n.currentPeriodEnd});break;case k.p9.TIER_1:T=d?F.Z.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_1_PAYMENT_BLOCKED_RUSSIA.format({date:n.currentPeriodEnd,helpdeskArticle:S.Z.getArticleURL(G.BhN.BLOCKED_PAYMENTS)}):F.Z.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_1.format({date:n.currentPeriodEnd});break;default:T=d?F.Z.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_2_PAYMENT_BLOCKED_RUSSIA.format({date:n.currentPeriodEnd,helpdeskArticle:S.Z.getArticleURL(G.BhN.BLOCKED_PAYMENTS)}):F.Z.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_2.format({date:n.currentPeriodEnd})}}let A=n.items.some(e=>{let{planId:t}=e;return!k.dJ.has(t)})&&null==n.renewalMutations||(null===(t=n.renewalMutations)||void 0===t?void 0:t.items.find(e=>{let{planId:t}=e;return!k.dJ.has(t)}))!=null,b=A?(0,i.jsx)(m.Button,{onClick:()=>a(3),children:F.Z.Messages.NEXT}):(0,i.jsx)(m.Button,{color:m.Button.Colors.RED,disabled:u,onClick:async()=>{await H({setHasError:I,onClose:r,premiumSubscription:n,setIsCancelling:_,analyticsLocations:g,analyticsLocation:c})},children:l?F.Z.Messages.CONFIRM:F.Z.Messages.PREMIUM_CANCEL_CONFIRM_NEW.format({planPremiumType:R.ZP.getDisplayPremiumType(n.planId)})}),x=(0,i.jsx)(m.Button,{look:m.Button.Looks.LINK,color:(0,p.ap)(N)?m.Button.Colors.PRIMARY:m.Button.Colors.WHITE,onClick:r,children:l?F.Z.Messages.PREMIUM_CANCEL_WHAT_YOU_LOSE_BACK:F.Z.Messages.CANCEL});return(0,i.jsxs)(i.Fragment,{children:[l?(0,i.jsx)(Z.Z,{premiumType:s,className:Y.cancellationHeader,onClose:r}):(0,i.jsxs)(m.ModalHeader,{separator:!1,children:[(0,i.jsx)(m.FormTitle,{tag:m.FormTitleTags.H4,children:F.Z.Messages.PREMIUM_CANCEL_CONFIRM_TITLE.format({planPremiumType:R.ZP.getDisplayPremiumType(n.planId)})}),(0,i.jsx)(m.ModalCloseButton,{onClick:r})]}),(0,i.jsxs)(m.ModalContent,{className:Y.body,children:[f?(0,i.jsx)(m.FormErrorBlock,{className:Y.errorBlock,children:F.Z.Messages.BILLING_ERROR_GENERIC}):null,(0,i.jsx)("div",{className:Y.cancelImage}),(0,i.jsx)("div",{children:T})]}),(0,i.jsxs)(m.ModalFooter,{justify:P.Z.Justify.START,children:[b,x]})]})}function V(e){var t,n;let{premiumSubscription:s}=e,{analyticsLocations:a}=(0,C.ZP)(),[o]=(0,b.ED)({subscriptionId:s.id,items:(0,R.Ue)(null!==(n=null===(t=s.renewalMutations)||void 0===t?void 0:t.items)&&void 0!==n?n:s.items),renewal:!0,analyticsLocations:a,analyticsLocation:I.Z.CANCEL_INVOICE_PREVIEW}),r=(0,_.e7)([N.Z],()=>N.Z.get(s.planId));if(null==o||null==r)return(0,i.jsx)(m.Spinner,{className:Y.loading});let{intervalType:l,intervalCount:c}=R.ZP.getIntervalForInvoice(o);return(0,i.jsxs)("div",{className:Y.__invalid_bodyText,children:[(0,i.jsx)("div",{className:Y.renewalInvoiceDate,children:0!==o.total?F.Z.Messages.BILLING_SWITCH_PLAN_CHANGE_DATE_WITH_CHARGE.format({renewalDate:o.subscriptionPeriodStart,rate:(0,A.og)((0,A.T4)(o.total,o.currency),l,c)}):F.Z.Messages.BILLING_SWITCH_PLAN_CHANGE_DATE.format({renewalDate:o.subscriptionPeriodStart})}),(0,i.jsxs)(L.PO,{children:[(0,i.jsx)(L.q9,{children:F.Z.Messages.PREMIUM_SUBSCRIPTION_UPDATES}),(0,i.jsx)(L.R$,{label:F.Z.Messages.PREMIUM_SUBSCRIPTION_CANCELLED.format({planName:R.ZP.getDisplayName(r.id)}),value:(0,R.PK)(r),className:Y.invoiceCancelRow}),(0,i.jsx)(L.KU,{}),(0,i.jsx)(U.nd,{premiumSubscription:s,renewalInvoice:o,isUpdate:!0})]})]})}function z(e){let{premiumSubscription:t,premiumType:n,onBack:s,onClose:a,analyticsLocation:r}=e,[c,d]=o.useState(!1),[u,_]=o.useState(!1),{analyticsLocations:p}=(0,C.ZP)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z.Z,{premiumType:n,onClose:a}),(0,i.jsxs)(m.ModalContent,{className:l()(Y.previewStep,Y.body),children:[u?(0,i.jsx)(m.FormErrorBlock,{className:Y.errorBlock,children:F.Z.Messages.BILLING_ERROR_GENERIC}):null,(0,i.jsx)(V,{premiumSubscription:t})]}),(0,i.jsxs)(m.ModalFooter,{align:P.Z.Align.CENTER,justify:P.Z.Justify.BETWEEN,children:[(0,i.jsx)(m.Button,{color:m.Button.Colors.RED,disabled:c,onClick:async()=>{await H({setHasError:_,onClose:a,premiumSubscription:t,setIsCancelling:d,analyticsLocations:p,analyticsLocation:r})},children:F.Z.Messages.PREMIUM_CANCEL_CONFIRM_NEW.format({planPremiumType:R.ZP.getDisplayPremiumType(t.planId)})}),(0,i.jsx)(v.Z,{onClick:s})]})]})}function K(e){var t;return{subscription_id:e.id,subscription_type:e.type,subscription_plan_id:null===(t=(0,R.Af)(e))||void 0===t?void 0:t.id,subscription_plan_gateway_plan_id:e.paymentGatewayPlanId,subscription_status:e.status}}let q={1:"What You're Losing",2:"Confirm Cancellation",3:"Preview Updated Subscription",4:"Redeem Churn Discount Started",5:"Redeem Churn Discount Completed",6:"Select Pause Duration",7:"Confirm Pause Duration"};function X(e){var t;let n,{premiumSubscription:s,transitionState:a,onClose:r,analyticsLocations:l,analyticsLocation:d,initialStep:_}=e,f=o.useRef(new c.qA),[h,N]=o.useState(null),P=(0,M.yQ)(),S=(null==P?void 0:P.showCard)===!0,A=null===(t=(0,R.Af)(s))||void 0===t?void 0:t.planId,b=null!=A?R.ZP.getPremiumType(A):null;u()(null!=b,"Should not be cancelling Nitro without premiumType");let L=(0,E.ZP)();o.useEffect(()=>{g.default.track(G.rMx.CANCELLATION_FLOW_STARTED,K(s))},[s]);let v=b===k.p9.TIER_0||b===k.p9.TIER_1||b===k.p9.TIER_2;null==_&&(_=v?1:2);let{analyticsLocations:U}=(0,C.ZP)(l,I.Z.PREMIUM_SUBSCRIPTION_CANCELLATION_MODAL),[Z,H,V,X]=function(e,t,n){let[s,a]=o.useState(e),[i,r]=o.useState(Date.now()),[l]=o.useState(Date.now()),c=o.useCallback(e=>{g.default.track(G.rMx.CANCELLATION_FLOW_STEP,{from_step:q[s],to_step:q[e],step_duration_ms:Date.now()-i,flow_duration_ms:Date.now()-l,location_stack:n,...K(t)}),a(e),r(Date.now())},[n,l,i,s,t]);return[s,c,i,l]}(_,s,l),[Q,J]=o.useState(null);(0,j.w)(s,r,!1);let $=e=>{r(),g.default.track(G.rMx.CANCELLATION_FLOW_STEP,{from_step:q[e],to_step:null,step_duration_ms:Date.now()-V,flow_duration_ms:Date.now()-X,location_stack:l,...K(s)})},ee=(0,x.UV)(),{churnUserDiscountOffer:et,isFetchingChurnDiscountOffer:en}=(0,x.WR)(!ee||1!==Z);switch(Z){case 6:n=(0,i.jsx)(D.of,{premiumSubscription:s,premiumType:b,setStep:H,onClose:()=>$(Z),pauseDuration:Q,setPauseDuration:J,footer:(0,i.jsxs)("div",{className:Y.whatYouLoseButtonContainer,children:[(0,i.jsx)(m.Button,{disabled:null===Q,onClick:()=>{0===Q?H(1):H(7)},children:F.Z.Messages.CONTINUE}),(0,i.jsx)(m.Button,{look:m.Button.Looks.LINK,color:(0,p.wj)(L)?m.Button.Colors.WHITE:m.Button.Colors.PRIMARY,onClick:r,children:F.Z.Messages.PREMIUM_CANCEL_WHAT_YOU_LOSE_BACK})]}),analyticsLocation:d});break;case 7:if(null==Q){let e=Error("No pause duration to set");throw(0,T.q2)(e,{extra:{subscriptionId:s.id,status:s.status}}),e}n=(0,i.jsx)(D.Sz,{premiumSubscription:s,premiumType:b,setStep:H,onClose:()=>$(Z),analyticsLocation:d,pauseDuration:Q});break;case 1:n=(0,i.jsx)(O.Z,{premiumType:b,titleText:F.Z.Messages.PREMIUM_CANCEL_WHAT_YOU_LOSE_TITLE,subtitleText:S?F.Z.Messages.PREMIUM_CANCEL_WHAT_YOU_LOSE_SUBTITLE_TENURE_REWARD_V2:F.Z.Messages.PREMIUM_CANCEL_WHAT_YOU_LOSE_SUBTITLE.format(),subtitleClassName:S?Y.subtitleSection:void 0,subtitleIcon:S&&(0,i.jsx)("div",{className:Y.subtitleIcon,children:(0,i.jsx)(w.Z,{staticPercentage:100,iconClassName:Y.iconClassName,showAnimations:!1,innerCircleClassName:Y.innerCircle,progressCircleStrokeSize:5,backgroundCircleSize:"38%"})}),footer:(0,i.jsxs)("div",{className:Y.whatYouLoseButtonContainer,children:[(0,i.jsx)(m.Button,{onClick:()=>H(2),children:F.Z.Messages.CONTINUE}),(0,i.jsx)(m.Button,{look:m.Button.Looks.LINK,color:(0,p.wj)(L)?m.Button.Colors.WHITE:m.Button.Colors.PRIMARY,onClick:()=>$(Z),children:F.Z.Messages.PREMIUM_CANCEL_WHAT_YOU_LOSE_BACK})]}),onClose:()=>$(Z),onDiscountClaim:()=>H(4),onContinue:()=>H(2),isLoading:ee&&en,churnUserDiscountOffer:et,analyticsLocations:U});break;case 2:n=(0,i.jsx)(W,{premiumSubscription:s,premiumType:b,setStep:H,onClose:()=>$(Z),whatYouLoseExperienceEnabled:v,analyticsLocation:d});break;case 3:n=(0,i.jsx)(z,{premiumSubscription:s,premiumType:b,onBack:()=>H(2),onClose:()=>$(Z),analyticsLocation:d});break;case 4:n=(0,i.jsx)(y.Z,{premiumSubscription:s,premiumType:b,onClose:()=>$(Z),onConfirm:()=>H(5),userDiscountOffer:et});break;case 5:n=(0,i.jsx)(B.D,{premiumSubscription:s,premiumType:b,onClose:()=>$(Z),confettiCanvas:h,userDiscountOffer:et});break;default:throw Error("Unexpected step: ".concat(Z))}return(0,i.jsxs)(C.Gt,{value:U,children:[(0,i.jsx)(c.O_,{ref:N,className:Y.confettiCanvas,environment:f.current}),(0,i.jsx)(m.ModalRoot,{transitionState:a,children:n})]})}},625881:function(e,t,n){n(47120);var s=n(735250),a=n(470079),i=n(120356),o=n.n(i),r=n(544891),l=n(780384),c=n(481060),d=n(410030),u=n(63063),_=n(74538),p=n(937615),m=n(230916),f=n(798769),E=n(474936),I=n(981631),C=n(689938),h=n(481798),N=n(982404),P=n(299156);t.Z=function(e){let{premiumSubscription:t,premiumType:n,onClose:i,onConfirm:g,userDiscountOffer:T}=e,[S,R]=a.useState(!1),[A,b]=a.useState(!1),x=async e=>{try{b(!0),R(!1),await r.tn.post({url:I.ANM.USER_OFFER_REDEEM,body:{user_discount_offer_id:e}}),g()}catch(e){R(!0)}b(!1)},M=(0,d.ZP)(),L=(0,l.wj)(M)?N:P,y=(0,m._)(t,E.Xh.PREMIUM_MONTH_TIER_2,T),B=(0,_.aS)(E.Xh.PREMIUM_MONTH_TIER_2),D=(0,p.T4)(B.amount,B.currency);return null==T?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{premiumType:n,onClose:i}),(0,s.jsx)(c.ModalContent,{className:h.body,children:(0,s.jsxs)("div",{className:h.confirmDiscountContent,children:[(0,s.jsx)(c.Heading,{variant:"heading-xl/bold",children:C.Z.Messages.CHURN_DISCOUNT_CONFIRM_HEADER.format({percent:T.discount.amount})}),(0,s.jsxs)("div",{className:h.confirmDiscountDescription,children:[(0,s.jsx)("img",{alt:"",src:L,className:h.confirmDiscountIcon}),(0,s.jsx)(c.Text,{variant:"text-sm/medium",children:C.Z.Messages.CHURN_DISCOUNT_CONFIRM_DESCRIPTION.format({percent:T.discount.amount,numMonths:T.discount.user_usage_limit,price:D})})]}),(0,s.jsx)("div",{className:h.confirmDiscountLegalese,children:(0,s.jsx)(c.Text,{variant:"text-xs/semibold",className:h.confirmDiscountLegaleseText,children:C.Z.Messages.CHURN_DISCOUNT_CONFIRM_LEGALESE.format({discountedPrice:y,billingPeriod:(0,_.JP)(T.discount.user_usage_limit_interval),numMonths:T.discount.user_usage_limit,fullPrice:D,helpdeskArticle:u.Z.getArticleURL(I.BhN.PAID_TERMS)})})}),S&&(0,s.jsx)("div",{className:h.redemptionFailedMessage,children:(0,s.jsx)(c.Text,{variant:"text-xs/semibold",className:h.redemptionFailedMessageCopy,children:C.Z.Messages.CHURN_DISCOUNT_REDEMPTION_ERROR})}),(0,s.jsxs)("div",{className:o()(h.confirmDiscountButtons,{[h.confrimDiscountsButtonsError]:S,[h.confrimDiscountsButtonsNoError]:!S}),children:[(0,s.jsx)(c.Button,{look:c.ButtonLooks.LINK,onClick:()=>i(),children:C.Z.Messages.CHURN_DISCOUNT_NEVERMIND}),(0,s.jsx)(c.Button,{size:c.ButtonSizes.SMALL,submitting:A,onClick:()=>x(T.id),children:C.Z.Messages.CHURN_DISCOUNT_CONFIRM_DISCOUNT})]})]})})]})}},440984:function(e,t,n){n.d(t,{D:function(){return N}}),n(47120);var s=n(735250),a=n(470079),i=n(442837),o=n(780384),r=n(481060),l=n(410030),c=n(607070),d=n(530618),u=n(74538),_=n(937615),p=n(230916),m=n(798769),f=n(474936),E=n(689938),I=n(596159),C=n(982404),h=n(299156);function N(e){let{premiumSubscription:t,premiumType:n,onClose:N,confettiCanvas:P,userWasChurned:g=!1,userDiscountOffer:T}=e,S=(0,l.ZP)(),R=(0,o.wj)(S)?C:h,A=a.useRef(null),[b,x]=a.useState(!1),M=(0,p._)(t,f.Xh.PREMIUM_MONTH_TIER_2,T),L=(0,u.aS)(f.Xh.PREMIUM_MONTH_TIER_2),y=(0,_.T4)(L.amount,L.currency),B=(0,i.e7)([c.Z],()=>c.Z.useReducedMotion);if(a.useEffect(()=>{null!=A.current&&null!=M&&x(!0)},[A,b,M]),null==T||null==M)return null;let D=E.Z.Messages.PREMIUM_TIER_SUBSCRIPTION_DESCRIPTION_AFTER_REDEMPTION_WITH_ACTIVE_SUB.format({numMonths:T.discount.user_usage_limit,discountedPrice:M,regularPrice:y}),O=(0,s.jsx)("div",{className:I.whatYouLoseButtonContainer,children:(0,s.jsx)(r.Button,{color:r.Button.Colors.BRAND,onClick:N,children:E.Z.Messages.PREMIUM_DISCOUNT_SWEET})});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{premiumType:n,className:I.cancellationHeader,onClose:N}),(0,s.jsx)("div",{ref:A,children:(0,s.jsx)(r.ModalContent,{className:I.body,children:null!=M?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:I.discountAppliedBody,children:[(0,s.jsx)("img",{alt:"",src:R,className:I.nitroIcon}),(0,s.jsx)(r.Heading,{variant:"heading-xl/bold",children:g?E.Z.Messages.PREMIUM_TRIAL_TUTORIAL_WELCOME_BACK:E.Z.Messages.PREMIUM_TIER_CARD_DISCOUNT_APPLIED_PUNCTUATED})]}),(0,s.jsx)("div",{className:I.bodyString,children:D}),O]}):(0,s.jsx)(r.Spinner,{})})}),!B&&b&&(0,s.jsx)(d.Z,{confettiTarget:A.current,confettiCanvas:P,confettiVelocityMultiplier:.75})]})}},398775:function(e,t,n){n.d(t,{Sz:function(){return P},of:function(){return N}}),n(653041),n(47120);var s=n(735250),a=n(470079),i=n(913527),o=n.n(i),r=n(99945),l=n(780384),c=n(481060),d=n(355467),u=n(410030),_=n(906732),p=n(285952),m=n(296848),f=n(798769),E=n(981631),I=n(689938),C=n(436117);async function h(e){let{premiumSubscription:t,pauseDuration:n,onClose:s,setHasError:a,setIsCancelling:i,analyticsLocations:o,analyticsLocation:r}=e;try{i(!0),a(!1),await (0,d.Mg)(t,{pauseDuration:n},o,r),s()}catch{a(!0),i(!1)}}function N(e){let{premiumType:t,onClose:n,pauseDuration:i,setPauseDuration:o,footer:l,premiumSubscription:d}=e,u=a.useCallback(e=>{let{value:t}=e;o(t)},[o]),_=d.status===E.O0b.PAUSED?I.Z.Messages.PREMIUM_PAUSE_SELECT_EXTEND_DURATION_SUBTITLE:I.Z.Messages.PREMIUM_PAUSE_SELECT_SUBTITLE,h=function(e){let t=e.status===E.O0b.PAUSED?I.Z.Messages.PREMIUM_PAUSE_EXTEND_DURATION_MONTHS_CAPITALIZE:I.Z.Messages.PREMIUM_PAUSE_DURATION_MONTHS_CAPITALIZE,{durations:n,currentDaysPaused:s}=(0,m.AT)(e),a=[];for(let e of n){let n=r.T[e];a.push({name:t.format({days:n-s}),value:n,radioItemIconClassName:C.radioOption})}return a.sort((e,t)=>e.value-t.value),a.push({name:I.Z.Messages.PREMIUM_PAUSE_DURATION_CANCEL,value:0,radioBarClassName:C.cancelText,radioItemIconClassName:C.cancelText}),a}(d);return a.useEffect(()=>{if(!(h.length<1))o(h[0].value)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{premiumType:t,onClose:n}),(0,s.jsx)(c.ModalHeader,{separator:!1,children:(0,s.jsxs)("div",{className:C.__invalid_header,children:[(0,s.jsx)(c.Heading,{variant:"heading-xl/bold",className:C.__invalid_modalHeader,children:I.Z.Messages.PREMIUM_PAUSE_SELECT_TITLE}),(0,s.jsx)(c.Heading,{variant:"heading-sm/medium",className:C.subtitle,children:_})]})}),(0,s.jsx)(c.ModalContent,{className:C.body,children:(0,s.jsx)(c.RadioGroup,{options:h,onChange:u,value:i})}),(0,s.jsx)(c.ModalFooter,{justify:p.Z.Justify.START,children:l})]})}function P(e){let{premiumSubscription:t,premiumType:n,onClose:i,pauseDuration:r,analyticsLocation:d}=e,[m,N]=a.useState(!1),{analyticsLocations:P}=(0,_.ZP)(),[g,T]=a.useState(!1),S=(0,u.ZP)(),R=null,A=null,b=[E.O0b.PAST_DUE,E.O0b.PAUSED].includes(t.status)?t.currentPeriodStart:t.currentPeriodEnd,x=o()(b).add(r,"days").toDate();switch(t.status){case E.O0b.PAST_DUE:A=I.Z.Messages.PREMIUM_PAUSE_PAST_DUE_CONFIRM_BODY.format({pauseDuration:r,resumeDate:x});break;case E.O0b.PAUSED:A=I.Z.Messages.PREMIUM_PAUSE_EXTEND_CONFIRM_BODY.format({resumeDate:x});break;default:A=I.Z.Messages.PREMIUM_PAUSE_CONFIRM_BODY.format({pauseDate:b,resumeDate:x,pauseDuration:r})}return R=(0,s.jsx)("div",{className:C.body,children:A}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{premiumType:n,onClose:i}),(0,s.jsx)(c.ModalHeader,{separator:!1,children:(0,s.jsx)("div",{className:C.__invalid_header,children:(0,s.jsx)(c.Heading,{variant:"heading-xl/bold",className:C.__invalid_modalHeader,children:I.Z.Messages.PREMIUM_PAUSE_YOUR_SUBSCRIPTION_WILL_BE_PAUSED})})}),(0,s.jsxs)(c.ModalContent,{className:C.body,children:[m?(0,s.jsx)(c.FormErrorBlock,{className:C.errorBlock,children:I.Z.Messages.BILLING_ERROR_GENERIC}):null,R]}),(0,s.jsx)(c.ModalFooter,{justify:p.Z.Justify.START,children:(0,s.jsxs)("div",{className:C.whatYouLoseButtonContainer,children:[(0,s.jsx)(c.Button,{color:c.Button.Colors.RED,disabled:g||null==r,onClick:async()=>{await h({premiumSubscription:t,pauseDuration:r,setIsCancelling:T,setHasError:N,onClose:i,analyticsLocations:P,analyticsLocation:d})},children:I.Z.Messages.CONFIRM}),(0,s.jsx)(c.Button,{look:c.Button.Looks.LINK,color:(0,l.wj)(S)?c.Button.Colors.WHITE:c.Button.Colors.PRIMARY,onClick:i,children:I.Z.Messages.PREMIUM_CANCEL_WHAT_YOU_LOSE_BACK})]})})]})}},91430:function(e,t,n){n.d(t,{MM:function(){return G},Yn:function(){return H},ZP:function(){return W},eS:function(){return Y}}),n(47120);var s=n(735250),a=n(470079),i=n(120356),o=n.n(i),r=n(512722),l=n.n(r),c=n(913527),d=n.n(c),u=n(442837),_=n(692547),p=n(481060),m=n(230711),f=n(100527),E=n(906732),I=n(17894),C=n(963249),h=n(301766),N=n(594174),P=n(285952),g=n(366695),T=n(626135),S=n(63063),R=n(74538),A=n(212895),b=n(374649),x=n(160913),M=n(987997),L=n(393411),y=n(908951),B=n(592889),D=n(981631),O=n(689938),v=n(875328);function U(e){let t,{subscription:n,renewalInvoicePreview:a,fromStandaloneBillingPage:i=!0,className:r}=e,c=(0,u.e7)([N.default],()=>{let e=N.default.getCurrentUser();return l()(null!=e,"GuildBoostingHeader: currentUser cannot be undefined"),e});if(0===(0,R.uV)(n.additionalPlans))return null;let{status:d}=n,_=(0,R.v6)(n);if(_)t=v.guildBoostingSubscriptionRowCanceled;else switch(d){case D.O0b.PAST_DUE:case D.O0b.ACCOUNT_HOLD:case D.O0b.BILLING_RETRY:t=v.guildBoostingSubscriptionRowFailedPayment;break;case D.O0b.PAUSE_PENDING:case D.O0b.PAUSED:t=v.guildBoostingSubscriptionRowPaused;break;default:t=v.guildBoostingSubscriptionRowActive}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:o()(t,r),children:[(0,s.jsx)("div",{className:v.guildBoostingSubscriptionRowBackground}),(0,s.jsx)("div",{className:v.guildBoostingImage}),(0,s.jsxs)("div",{className:v.guildBoostingSubscriptionRowBody,children:[(0,s.jsx)("div",{className:o()(v.guildBoostingWordmark,{[v.canceled]:_})}),(0,s.jsx)("div",{children:(0,R.bt)({subscription:n,renewalInvoicePreview:a,user:c})})]}),i&&(0,s.jsx)(M.Z,{color:p.Button.Colors.BRAND,onClick:()=>m.Z.open(D.oAB.GUILD_BOOSTING),children:O.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_MANAGE_YOUR_SUBSCRIPTIONS})]}),!i&&(0,s.jsx)(p.Text,{className:v.boostingDesktopAppBlurb,variant:"text-sm/normal",children:O.Z.Messages.GUILD_BOOSTING_MANAGEMENT_OPEN_DESKTOP_APP.format({openAppHook:()=>(0,I.Z)("app")})})]})}function Z(){return a.useEffect(()=>{T.default.track(D.rMx.TOOLTIP_VIEWED,{type:"subscription_settings_missing_payment_method"})},[]),(0,s.jsxs)("div",{className:v.paymentBanner,children:[(0,s.jsx)(p.CircleExclamationPointIcon,{size:"custom",width:20,height:20,className:v.paymentBannerIcon,color:_.Z.unsafe_rawColors.YELLOW_260.css}),(0,s.jsx)(p.Text,{className:v.paymentBannerText,variant:"text-sm/normal",children:O.Z.Messages.MISSING_PAYMENT_METHOD_BANNER})]})}function j(){return a.useEffect(()=>{T.default.track(D.rMx.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})},[]),(0,s.jsxs)("div",{className:v.paymentBanner,children:[(0,s.jsx)(p.CircleExclamationPointIcon,{size:"custom",width:20,height:20,className:v.paymentBannerIcon,color:_.Z.unsafe_rawColors.RED_360.css}),(0,s.jsx)(p.Text,{className:v.paymentBannerText,variant:"text-sm/normal",children:O.Z.Messages.INVALID_PAYMENT_METHOD_BANNER})]})}function w(e){let{daysPastDue:t,subscription:n,openInvoiceId:i}=e,{analyticsLocations:o}=(0,E.ZP)(f.Z.PAST_DUE_ONE_TIME_PAYMENT_METHOD_BANNER);return a.useEffect(()=>{T.default.track(D.rMx.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})},[]),(0,s.jsxs)("div",{className:v.paymentBanner,children:[(0,s.jsx)(p.CircleExclamationPointIcon,{size:"custom",width:20,height:20,className:v.paymentBannerIcon,color:_.Z.unsafe_rawColors.YELLOW_260.css}),(0,s.jsx)(p.Text,{className:v.paymentBannerText,variant:"text-sm/normal",children:O.Z.Messages.PREMIUM_SUBSCRIPTION_ONE_TIME_PAYMENT_PAST_DUE_SUBSCRIPTION_TEXT.format({daysPastDue:t,paymentModalRedirect:()=>{(0,C.Z)({initialPlanId:n.planIdFromItems,openInvoiceId:i,analyticsLocations:o})}})})]})}function k(e){let{subscription:t,renewalInvoicePreview:n,className:a}=e;return(0,s.jsxs)("div",{className:o()(v.billingInformation,a),children:[(0,s.jsx)(p.FormTitle,{tag:"h3",className:v.detailBlockHeader,children:O.Z.Messages.PREMIUM_SETTINGS_BILLING_INFO}),(0,s.jsx)("div",{children:R.ZP.getBillingInformationString(t,n)})]})}function G(e){let{className:t}=e;return(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)(p.FormTitle,{className:v.sectionTitle,tag:"h1",children:O.Z.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER}),(0,s.jsx)("p",{className:v.sectionDescription,children:O.Z.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION}),(0,s.jsx)(p.Card,{className:v.noItemsCard,type:p.Card.Types.CUSTOM,children:(0,s.jsxs)(P.Z,{align:P.Z.Align.CENTER,children:[(0,s.jsx)(g.Z,{game:null,size:g.Z.Sizes.SMALL,className:v.noItemsIcon}),(0,s.jsx)("span",{className:v.cardText,children:O.Z.Messages.USER_SETTINGS_NO_SUBSCRIPTIONS})]})})]})}function F(e){let{subscription:t,analyticsLocation:n,paymentSource:a,busy:i,fromStandaloneBillingPage:r,showInvalidPaymentMethod:l,showNoPaymentMethod:c,fetchedCurrentInvoicePreview:d,fetchedRenewalInvoicePreview:u}=e,{analyticsLocations:_}=(0,E.ZP)(f.Z.SUBSCRIPTION_DETAILS),m=null!=d?{}:{subscriptionId:t.id,renewal:!0,analyticsLocations:_,analyticsLocation:n},[I]=(0,b.ED)(m);I=null!=d?d:I;let C=null!=u?{}:{subscriptionId:t.id,renewal:!0,applyEntitlements:!0,analyticsLocations:_,analyticsLocation:n},[h]=(0,b.ED)(C);return(h=null!=u?u:h,null==I||null==h)?(0,s.jsx)(p.Spinner,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:v.subscriptionRows,children:[(0,s.jsx)(L.Z,{subscription:t,renewalInvoicePreview:I,paymentSource:a,busy:i,analyticsLocation:n}),(0,s.jsx)(U,{subscription:t,renewalInvoicePreview:I,fromStandaloneBillingPage:r,className:v.guildSubscriptionRow})]}),(0,s.jsx)("div",{children:(0,s.jsx)(p.HeadingLevel,{component:(0,s.jsx)(p.FormTitle,{tag:"h5",children:O.Z.Messages.BILLING_STEP_PAYMENT}),children:(0,s.jsxs)("div",{className:v.details,children:[(0,s.jsx)(k,{subscription:t,renewalInvoicePreview:h,className:v.detailsBlock}),t.isPurchasedExternally||(null==a?void 0:a.id)===t.paymentSourceId?(0,s.jsxs)("div",{className:o()(v.detailsBlock,{[v.redBorder]:l}),children:[(0,s.jsx)(p.FormTitle,{tag:"h3",className:v.detailBlockHeader,children:t.isPurchasedExternally&&null!=t.paymentGateway?O.Z.Messages.BILLING_MANAGED_BY_PAYMENT_GATEWAY.format({paymentGatewayName:D.Vzj[t.paymentGateway]}):O.Z.Messages.BILLING_PAY_FOR_IT_WITH}),(0,s.jsx)(y.Z,{subscription:t,onPaymentSourceAdded:A.i1,highlightAddPaymentMethodButton:c||l,analyticsLocation:n,currentInvoicePreview:I,dropdownClassName:v.paymentDropdown})]}):null]})})})]})}let Y=new Set([D.O0b.ACTIVE,D.O0b.PAST_DUE,D.O0b.CANCELED,D.O0b.PAUSE_PENDING,D.O0b.PAUSED]);function H(){return a.useEffect(()=>{T.default.track(D.rMx.TOOLTIP_VIEWED,{type:"subscription_settings_duplicate_subscriptions"})},[]),(0,s.jsxs)("div",{className:v.duplicateSubscriptionsBanner,children:[(0,s.jsx)(p.CircleExclamationPointIcon,{size:"custom",width:20,height:20,color:_.Z.unsafe_rawColors.RED_360.css}),(0,s.jsx)(p.Text,{className:v.duplicateSubscriptionsBannerText,variant:"text-sm/normal",children:O.Z.Messages.DUPLICATE_SUBSCRIPTIONS_BANNER.format({helpCenterLink:S.Z.getArticleURL(D.BhN.NITRO)})})]})}function W(e){var t;let n,{subscription:a,subscriptions:i,paymentSource:o,busy:r,className:l,fromStandaloneBillingPage:c=!0,analyticsLocation:_}=e;null!=i&&null!=i[0]&&(a=i[0]);let{analyticsLocations:m}=(0,E.ZP)(f.Z.SUBSCRIPTION_DETAILS),I=null!=i?i.slice(1):[],[C]=(0,b.ED)({subscriptionId:a.id,renewal:!0,analyticsLocations:m,analyticsLocation:_}),[P]=(0,b.ED)({subscriptionId:a.id,renewal:!0,applyEntitlements:!0,analyticsLocations:m,analyticsLocation:_}),g=(0,u.e7)([N.default],()=>{var e;return null===(e=N.default.getCurrentUser())||void 0===e?void 0:e.hasFreePremium()}),T=d()(a.currentPeriodEnd),S=null!=a.paymentSourceId,R=null!==(t=null==P?void 0:P.total)&&void 0!==t?t:0,A=null==o?void 0:o.invalid,M=!S&&R>0&&(7>=T.diff(d()(),"days")||a.status===D.O0b.PAST_DUE)&&!g&&!a.isPurchasedExternally,L=A&&a.status===D.O0b.PAST_DUE&&!g&&!a.isPurchasedExternally,y=(0,x.U)(),U=!g&&y,k=(null==a?void 0:a.status)===D.O0b.PAST_DUE?d()().diff(d()(a.currentPeriodStart),"days"):0,[G]=(0,b.Ox)({subscriptionId:a.id,preventFetch:!U});return null==C||null==P?(0,s.jsx)(p.Spinner,{}):(null!=a.renewalMutations&&(a.renewalMutations.planId!==a.planId&&!(0,h.Q0)(a.renewalMutations.planId)||a.hasExternalPlanChange)&&(n=(0,s.jsx)(B.Z,{subscription:a,renewalMutations:a.renewalMutations,className:v.renewalMutationNotice,analyticsLocation:_})),(0,s.jsx)("div",{className:l,children:(0,s.jsxs)(p.HeadingLevel,{component:(0,s.jsx)(p.FormTitle,{className:v.sectionTitle,tag:"h1",children:O.Z.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER}),children:[M?(0,s.jsx)(Z,{}):null,L?(0,s.jsx)(j,{}):null,U&&null!=G?(0,s.jsx)(w,{daysPastDue:k,subscription:a,openInvoiceId:G.id}):null,n,(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:v.sectionDescription,children:O.Z.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:I.length>0?v.dupSubscriptionRow:v.__invalid_singleSubscription,children:(0,s.jsx)(F,{subscription:a,analyticsLocation:_,paymentSource:o,busy:r,fromStandaloneBillingPage:c,showNoPaymentMethod:M,showInvalidPaymentMethod:L,fetchedCurrentInvoicePreview:C,fetchedRenewalInvoicePreview:P})}),I.map((e,t)=>(0,s.jsxs)("div",{className:v.dupSubscriptionRow,children:[(0,s.jsx)(p.FormTitle,{tag:"h2",className:v.duplicateHeader,children:"Duplicate Subscriptions"}),(0,s.jsx)(F,{subscription:e,analyticsLocation:_,paymentSource:o,busy:r,fromStandaloneBillingPage:c,showNoPaymentMethod:M,showInvalidPaymentMethod:L,fetchedCurrentInvoicePreview:null,fetchedRenewalInvoicePreview:null})]},t))]})]})}))}},393411:function(e,t,n){n.d(t,{R:function(){return j}}),n(411104);var s=n(735250);n(470079);var a=n(120356),i=n.n(a),o=n(512722),r=n.n(o),l=n(481060),c=n(366939),d=n(100527),u=n(906732),_=n(710845),p=n(963249),m=n(301766),f=n(509545),E=n(931331),I=n(754347),C=n(122289),h=n(74538),N=n(212895),P=n(296848),g=n(140465),T=n(879463),S=n(104494),R=n(987997),A=n(833569),b=n(823188),x=n(474936),M=n(981631),L=n(689938),y=n(827760);let B=new _.Z("SubscriptionHeader.tsx"),D={page:M.ZY5.USER_SETTINGS,section:M.jXE.SETTINGS_PREMIUM,object:M.qAy.CARD},O=[M.O0b.PAUSED,M.O0b.PAUSE_PENDING,M.O0b.BILLING_RETRY];function v(e){let{wordMark:t,subscriptionInfo:n,buttons:a,statusClasses:o,shouldUseDiscountMarketing:r,discountAmount:l}=e;return(0,s.jsxs)("div",{className:i()(y.banner,o),children:[(0,s.jsx)("div",{className:y.bannerBackgroundImage}),(0,s.jsxs)("div",{className:y.detailsContainer,children:[(0,s.jsx)("div",{className:y.image}),(0,s.jsxs)("div",{className:y.details,children:[(0,s.jsxs)("div",{className:y.headerLabel,children:[t,r&&null!=l&&(0,s.jsx)(b.Cy,{text:L.Z.Messages.PREMIUM_DISCOUNT_AMOUNT_OFF_BADGE.format({percent:l}),className:y.discountPill,colorOptions:b.VE.PREMIUM_TIER_2_WHITE_FILL,isPillOnBorder:!1})]}),n]})]}),(0,s.jsx)("div",{className:y.buttons,children:a})]})}function U(e){let{wordMark:t,subscriptionInfo:n,buttons:a,statusClasses:o,shouldUseDiscountMarketing:r,discountAmount:l}=e;return(0,s.jsxs)("div",{className:i()(y.banner,o,y.repositioned),children:[(0,s.jsx)("div",{className:y.bannerBackgroundImage}),(0,s.jsx)("div",{className:y.detailsContainer,children:(0,s.jsx)("div",{className:y.details,children:(0,s.jsxs)("div",{className:y.headerLabel,children:[(0,s.jsx)("div",{className:y.image}),(0,s.jsxs)("div",{className:y.headerColumnB,children:[t,r&&null!=l&&(0,s.jsx)(b.Cy,{text:L.Z.Messages.PREMIUM_DISCOUNT_AMOUNT_OFF_BADGE.format({percent:l}),className:y.discountPill,colorOptions:b.VE.PREMIUM_TIER_2_WHITE_FILL,isPillOnBorder:!1}),n]})]})})}),(0,s.jsx)("div",{className:y.buttons,children:a})]})}function Z(){return(0,s.jsxs)("div",{className:y.wordMark,children:[(0,s.jsx)(I.Z,{className:y.discordWordmark,"aria-label":L.Z.Messages.PREMIUM_TIER_1}),(0,s.jsx)("div",{className:y.classicWordmark})]})}function j(){let{analyticsLocations:e}=(0,u.ZP)(d.Z.ACCOUNT_CREDIT_BANNER);return(0,s.jsx)(v,{wordMark:(0,s.jsx)(Z,{}),subscriptionInfo:(0,s.jsx)("div",{className:y.planInfo,children:L.Z.Messages.PREMIUM_TIER_1_ACCOUNT_CREDIT_BANNER_DESCRIPTION}),buttons:(0,s.jsx)(R.Z,{className:y.toolsButton,onClick:()=>(0,p.Z)({subscriptionTier:x.Si.TIER_1,analyticsLocations:e,analyticsObject:D}),children:L.Z.Messages.PREMIUM_TIER_1_ACCOUNT_CREDIT_BANNER_CTA}),statusClasses:{[y.tier1]:!0}})}t.Z=function(e){var t,a;let{subscription:o,renewalInvoicePreview:_,paymentSource:b,busy:j,analyticsLocation:w}=e,{analyticsLocations:k}=(0,u.ZP)(d.Z.SUBSCRIPTION_HEADER),{enabled:G}=(0,T.ZP)({location:"subscription_header"});(!x.pj.has(o.planId)||!M.JwP.ALL_PAUSEABLE.has(o.status))&&(G=!1);let F=(0,S.Ng)(),Y=null==F?void 0:null===(t=F.discount)||void 0===t?void 0:t.amount,H=(0,g.t7)(),W=(0,g.lr)(),V=()=>{if(o.status===M.O0b.ACTIVE||o.status===M.O0b.PAST_DUE||o.status===M.O0b.PAUSED)q(A.Steps.PAUSE_SELECT)},z=()=>{if(o.status===M.O0b.ACTIVE||o.status===M.O0b.PAST_DUE||o.status===M.O0b.PAUSE_PENDING)q()},K=()=>{if(o.status===M.O0b.BILLING_RETRY)q(A.Steps.CONFIRM)},q=e=>{(0,l.openModalLazy)(async()=>{let{default:t}=await Promise.resolve().then(n.bind(n,833569));return n=>(0,s.jsx)(t,{...n,premiumSubscription:o,analyticsLocation:w,analyticsLocations:k,initialStep:e})})},X=()=>{if(null!=o&&null!=o.planIdFromItems){let e=f.Z.get(o.planIdFromItems);if(null==e){B.info("Plan not fetched for plan id: ".concat(o.planIdFromItems));return}let t=(0,N.DE)(e,null==b?void 0:b.id,!1),n=t.length>0?t[0]:o.currency,s=!1;1===t.length&&(null==b?void 0:b.id)===o.paymentSourceId&&(0,N.tD)(e.id,n,null==b?void 0:b.id)&&(s=!0),s?c.O5(o,k):(0,p.Z)({initialPlanId:o.planIdFromItems,analyticsLocations:k,analyticsLocation:w,analyticsObject:D,subscription:o})}},Q=()=>{if(!O.includes(o.status)||null==o.pauseEndsAt){(0,C.q2)(Error("Invalid subscription to resume"),{extra:{subscriptionId:o.id,status:o.status,pauseEndsAt:o.pauseEndsAt}});return}o.status===M.O0b.PAUSED?(0,p.Z)({initialPlanId:o.planIdFromItems,analyticsLocations:k,analyticsLocation:w,analyticsObject:D,subscription:o,skipConfirm:!0}):c.v4(o,k)},J=()=>{if(o.status===M.O0b.PAUSED)q(A.Steps.PAUSE_SELECT)},$=()=>{q(A.Steps.WHAT_YOU_LOSE)},ee=h.ZP.getPlanIdFromInvoice(o,_);if((0,m.Q0)(ee))return null;let et=h.ZP.getStatusFromInvoice(o,_),en=h.ZP.getPremiumType(ee),es={[y.tier0]:en===x.p9.TIER_0,[y.tier1]:en===x.p9.TIER_1,[y.tier2]:en===x.p9.TIER_2,[y.canceled]:et===M.O0b.CANCELED,[y.pausePending]:et===M.O0b.PAUSE_PENDING,[y.paused]:et===M.O0b.PAUSED,[y.failedPayment]:(0,h.zV)(et)},ea=null;switch(en){case x.p9.TIER_0:ea=(0,s.jsxs)("div",{className:y.wordMark,children:[(0,s.jsx)(I.Z,{className:y.discordWordmark,"aria-label":L.Z.Messages.PREMIUM_TIER_0}),(0,s.jsx)("div",{className:y.basicWordmark})]});break;case x.p9.TIER_1:ea=(0,s.jsx)(Z,{});break;case x.p9.TIER_2:ea=(0,s.jsx)(E.Z,{className:y.planName,"aria-label":L.Z.Messages.PREMIUM_TITLE})}let ei=O.includes(o.status)?U:v;return(0,s.jsx)(ei,{wordMark:ea,subscriptionInfo:(a=ee,r()(null!=_,"Expected renewalInvoicePreview"),(0,s.jsx)("div",{className:y.planInfo,children:(0,h.qV)({planId:a,subscription:o,renewalInvoicePreview:_,hasDiscountApplied:H,activeDiscountInfo:W})})),buttons:(()=>{let{status:e}=o;if(o.isPurchasedExternally){let e=(0,h.JE)(o.paymentGateway,"SUBSCRIPTION_MANAGEMENT");return(0,s.jsx)(l.Anchor,{href:e,useDefaultUnderlineStyles:!1,children:(0,s.jsx)(l.Button,{className:i()(y.toolsButton,y.externalButton),size:l.Button.Sizes.SMALL,look:l.ButtonLooks.OUTLINED,color:l.ButtonColors.WHITE,submitting:j,children:L.Z.Messages.BILLING_MANAGE_SUBSCRIPTION})})}if(h.ZP.isBaseSubscriptionCanceled(o))return(0,s.jsx)(l.Button,{className:y.toolsButton,size:l.Button.Sizes.SMALL,color:l.ButtonColors.BRAND_INVERTED,submitting:j,onClick:X,children:L.Z.Messages.RESUBSCRIBE});switch(e){case M.O0b.BILLING_RETRY:return(0,s.jsx)(l.Button,{className:y.billingRetryCancel,size:l.Button.Sizes.SMALL,color:l.ButtonColors.CUSTOM,submitting:j,onClick:K,children:L.Z.Messages.CANCEL});case M.O0b.PAUSE_PENDING:return(0,s.jsxs)("div",{className:y.toolsButtons,children:[(0,s.jsx)(l.Button,{className:y.toolsButton,size:l.Button.Sizes.SMALL,look:l.ButtonLooks.LINK,color:l.ButtonColors.WHITE,submitting:j,onClick:z,children:L.Z.Messages.PREMIUM_CANCEL_CONFIRM_BUTTON}),(0,s.jsx)(l.Button,{className:y.toolsButton,size:l.Button.Sizes.SMALL,color:l.ButtonColors.BRAND_INVERTED,submitting:j,onClick:Q,children:L.Z.Messages.CANCEL_PAUSE})]});case M.O0b.PAUSED:let{durations:t}=(0,P.AT)(o);return(0,s.jsxs)("div",{className:y.toolsButtons,children:[t.length>0?(0,s.jsx)(l.Button,{className:y.linkButton,size:l.Button.Sizes.SMALL,look:l.ButtonLooks.LINK,color:l.ButtonColors.WHITE,submitting:j,onClick:J,children:L.Z.Messages.PREMIUM_CANCEL_OR_EXTEND_PAUSE_SUBSCRIPTION}):(0,s.jsx)(l.Button,{className:y.linkButton,size:l.Button.Sizes.SMALL,look:l.ButtonLooks.LINK,color:l.ButtonColors.WHITE,submitting:j,onClick:$,children:L.Z.Messages.PREMIUM_CANCEL_CONFIRM_BUTTON}),(0,s.jsx)(l.Button,{className:y.toolsButton,size:l.Button.Sizes.SMALL,color:l.ButtonColors.BRAND_INVERTED,submitting:j,onClick:Q,children:L.Z.Messages.RESUME})]});case M.O0b.ACTIVE:case M.O0b.PAST_DUE:let n=!1,a=null;return null!=o.renewalMutations&&(n=!0,a=o.renewalMutations.planId!==o.planId?L.Z.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PLAN:L.Z.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PREMIUM_GUILD_SUBSCRIPTION),null!=o.trialEndsAt&&(n=!0,a=L.Z.Messages.PREMIUM_SWITCH_PLAN_DISABLED_IN_TRIAL),e===M.O0b.PAST_DUE&&(n=!0),(0,s.jsxs)("div",{className:y.toolsButtons,children:[G?(0,s.jsx)(l.Button,{className:y.toolsButton,size:l.Button.Sizes.SMALL,look:l.ButtonLooks.LINK,color:l.ButtonColors.WHITE,submitting:j,onClick:V,children:L.Z.Messages.PREMIUM_PAUSE_OR_CANCEL_SUBSCRIPTION}):(0,s.jsx)(l.Button,{className:y.toolsButton,size:l.Button.Sizes.SMALL,look:l.ButtonLooks.LINK,color:l.ButtonColors.WHITE,submitting:j,onClick:z,children:L.Z.Messages.CANCEL}),(0,s.jsx)(l.Tooltip,{text:a,children:e=>(0,s.jsx)(R.Z,{...e,disabled:n,className:y.toolsButton,onClick:()=>{(0,p.Z)({analyticsLocations:k,analyticsLocation:w,analyticsObject:D,subscription:o})},children:L.Z.Messages.PREMIUM_SWITCH_PLANS})})]})}})(),statusClasses:es,shouldUseDiscountMarketing:H,discountAmount:Y})}},908951:function(e,t,n){n.d(t,{Z:function(){return M}}),n(47120),n(411104);var s=n(735250),a=n(470079),i=n(120356),o=n.n(i),r=n(512722),l=n.n(r),c=n(442837),d=n(481060),u=n(976255),_=n(366939),p=n(623573),m=n(190947),f=n(275850),E=n(906732),I=n(15640),C=n(246946),h=n(853872),N=n(509545),P=n(74538),g=n(212895),T=n(296848),S=n(374649),R=n(981631),A=n(689938),b=n(663950),x=n(83922);function M(e){let{subscription:t,onPaymentSourceAdded:n,highlightAddPaymentMethodButton:i,dropdownClassName:r,analyticsLocation:M,currentInvoicePreview:y,disabled:B=!1}=e,D=(0,c.e7)([C.Z],()=>C.Z.hidePersonalInformation),[O,v]=(0,c.Wu)([h.Z],()=>[h.Z.paymentSources,h.Z.hasFetchedPaymentSources]),U=(0,I.V)((0,T.yb)(t)),{analyticsLocations:Z}=(0,E.ZP)(),j=a.useMemo(()=>Object.values(O).filter(e=>!e.invalid),[O]),[w,k]=a.useState(!1),[G,F]=a.useState(t.currency),Y=async(e,n)=>{if(null==t)throw Error("missing subscription and paymentSource");null==e?await _.fG(t,n,Z,M):await _.tq(t,e,n,Z,M),k(!1),F(n)},H=async(e,n,s)=>{k(!0);let a=await (0,S.hz)({subscriptionId:t.id,paymentSourceId:null==e?void 0:e.id,renewal:!0,currency:n,analyticsLocations:Z,analyticsLocation:M});y.currency!==a.currency||y.currency===a.currency&&y.total!==a.total?await L(a,()=>{s(e,n)},()=>{k(!1)}):s(e,n)},W=e=>{let n=N.Z.get(t.planIdForCurrencies);l()(null!=e,"paymentSource not specified for change"),l()(null!=n,"Unable to fetch plan");let s=(0,g.DE)(n.id,e.id,!1);return s.length>0?s[0]:R.pKx.USD},V=e=>{null!=e&&H(e,W(e),Y)},z=e=>{(0,g.i1)(e.id,(0,T.yb)(t)).then(()=>{H(e,W(e),Y)}),"function"==typeof n&&n(e.id)},K=()=>{(0,d.openModalLazy)(async()=>e=>(0,s.jsx)(p.default,{...e,onAddPaymentSource:z,analyticsLocation:M}),{onCloseCallback:()=>{(0,u.fw)()},onCloseRequest:R.dG4})};if(t.isPurchasedExternally)return(e=>{l()(null!=e.paymentGateway,"Expected payment gateway when managed externally");let t=(0,P.JE)(e.paymentGateway,"PAYMENT_SOURCE_MANAGEMENT");return(0,s.jsx)(d.Anchor,{href:t,useDefaultUnderlineStyles:!1,className:b.externalLink,children:(0,s.jsx)(d.Button,{fullWidth:!0,look:d.Button.Looks.FILLED,color:d.Button.Colors.PRIMARY,children:A.Z.Messages.BILLING_MANAGE_BILLING})})})(t);if(!v||!U)return(0,s.jsx)(d.Spinner,{});if(!(j.length>0))return(0,s.jsx)(d.Button,{fullWidth:!0,look:d.Button.Looks.FILLED,color:i?d.Button.Colors.BRAND:d.Button.Colors.PRIMARY,onClick:K,children:A.Z.Messages.BILLING_ADD_PAYMENT_METHOD});else{let e=N.Z.get(t.planIdForCurrencies);l()(null!=e,"Unable to fetch plan");let n=(0,g.DE)(e,t.paymentSourceId,!1);return(0,s.jsxs)(s.Fragment,{children:[(()=>{let e=t.paymentSourceId;return(0,s.jsx)(f.Z,{prependOption:null==e?{label:A.Z.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION,value:null}:null,className:r,paymentSources:j,hidePersonalInformation:D,selectedPaymentSourceId:e,onChange:V,onPaymentSourceAdd:K,dropdownLoading:w,disabled:B})})(),null!=t.paymentSourceId?(0,s.jsx)(m.b,{currencies:n,children:(0,s.jsxs)("div",{className:o()(b.currency,x.flex,x.alignCenter),children:[(0,s.jsx)("div",{children:A.Z.Messages.PAYMENT_CURRENCY_PAYING_IN}),(0,s.jsx)(m.Z,{className:b.currencyDropdown,selectedCurrency:G,currencies:n,onChange:e=>{H(void 0,e,Y)}})]})}):null]})}}let L=async(e,t,a)=>{let i=await (0,d.openModalLazy)(async()=>{let{default:i}=await n.e("97516").then(n.bind(n,358927));return n=>(0,s.jsx)(i,{newInvoice:e,onConfirm:t,onCancel:a,modalProps:n})},{onCloseRequest:()=>{null!=i&&(0,d.closeModal)(i),a()}})}},592889:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120);var s=n(735250),a=n(470079),i=n(120356),o=n.n(i),r=n(512722),l=n.n(r),c=n(442837),d=n(780384),u=n(481060),_=n(355467),p=n(100527),m=n(906732),f=n(210887),E=n(301766),I=n(509545),C=n(285952),h=n(74538),N=n(937615),P=n(689938),g=n(108526);function T(e){let{subscription:t,renewalMutations:n,transitionState:a,onClose:i,analyticsLocation:o}=e,r=(0,c.e7)([f.Z],()=>f.Z.theme),{analyticsLocations:T}=(0,m.ZP)(p.Z.SUBSCRIPTION_CANCEL_DOWNGRADE_MODAL);async function S(){await (0,_.dP)(t,t.planId,T,o),i()}let R=I.Z.get(t.planId);l()(null!=R,"Missing subscriptionPlan");let A=(0,h.aS)(t.planId,!1,!1,{paymentSourceId:t.paymentSourceId,currency:t.currency}),b=(0,N.og)((0,N.T4)(A.amount,A.currency),R.interval,R.intervalCount);return(0,s.jsxs)(u.ModalRoot,{transitionState:a,"aria-label":P.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER,children:[(0,s.jsxs)(u.ModalHeader,{justify:C.Z.Justify.BETWEEN,separator:!1,children:[(0,s.jsx)(u.FormTitle,{tag:u.FormTitleTags.H4,children:P.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER}),(0,s.jsx)(u.ModalCloseButton,{onClick:i})]}),(0,s.jsx)(u.ModalContent,{className:g.modalBody,children:(0,E.Q0)(t.planId)?P.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY_NO_EXISTING_PLAN.format({downgradedPlan:h.ZP.getDisplayName(n.planId),existingRate:b}):P.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY.format({existingPlan:h.ZP.getDisplayName(t.planId),downgradedPlan:h.ZP.getDisplayName(n.planId),existingRate:b})}),(0,s.jsxs)(u.ModalFooter,{children:[(0,s.jsx)(u.Button,{onClick:S,children:P.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BUTTON}),(0,s.jsx)(u.Button,{look:u.Button.Looks.LINK,color:(0,d.ap)(r)?u.Button.Colors.PRIMARY:u.Button.Colors.WHITE,onClick:i,children:P.Z.Messages.NEVERMIND})]})]})}function S(e){let{subscription:t,renewalMutations:n,className:i,analyticsLocation:r}=e,[l,c]=a.useState(!1);return(0,s.jsxs)("div",{className:o()(g.root,i),children:[(0,s.jsx)(u.CircleExclamationPointIcon,{size:"custom",width:20,height:20,color:"currentColor",className:g.infoIcon}),(0,s.jsx)("div",{className:g.text,children:P.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_NOTICE.format({planName:t.hasExternalPlanChange?(0,h.zL)(n):h.ZP.getDisplayName(n.planId),date:t.currentPeriodEnd})}),t.isPurchasedExternally?null:(0,s.jsx)(u.Anchor,{onClick:e=>{c(!0),e.preventDefault()},className:g.cancelLink,children:P.Z.Messages.CANCEL}),l?(0,s.jsx)(u.Modal,{renderModal:e=>{let{transitionState:a}=e;return(0,s.jsx)(T,{subscription:t,renewalMutations:n,transitionState:a,onClose:()=>c(!1),analyticsLocation:r})},onCloseRequest:()=>c(!1)}):null]})}},418632:function(e,t,n){n(47120);var s,a=n(735250),i=n(470079),o=n(512722),r=n.n(o),l=n(442837),c=n(481060),d=n(893776),u=n(468026),_=n(594174),p=n(689938);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends(s=i.Component){render(){let{color:e,look:t,size:n}=this.props;return(0,a.jsx)(c.Button,{look:t,size:n,color:e,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification,children:p.Z.Messages.RESEND_VERIFICATION_EMAIL})}constructor(...e){super(...e),m(this,"state",{isSendingVerificationEmail:!1}),m(this,"handleResendVerification",()=>{let{currentUser:e,onClick:t}=this.props;null==t||t(),this.setState({isSendingVerificationEmail:!0},()=>{d.Z.verifyResend().then(()=>(0,c.openModal)(t=>(0,a.jsx)(c.ConfirmModal,{header:p.Z.Messages.VERIFICATION_EMAIL_TITLE,confirmText:p.Z.Messages.OKAY,confirmButtonColor:c.Button.Colors.BRAND,...t,children:(0,a.jsx)(c.Text,{variant:"text-md/normal",children:p.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:e.email})})}))).catch(e=>{let{body:t}=e,n=p.Z.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email),(0,c.openModal)(e=>(0,a.jsx)(u.default,{title:p.Z.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n,...e}))}).then(()=>this.setState({isSendingVerificationEmail:!1}))})})}}m(f,"defaultProps",{size:c.Button.Sizes.MEDIUM,color:c.Button.Colors.BRAND}),t.Z=l.ZP.connectStores([_.default],()=>{let e=_.default.getCurrentUser();return r()(null!=e,"ResendEmailVerificationButton: currentUser cannot be undefined"),{currentUser:e}})(f)},461655:function(e,t,n){n.d(t,{Z:function(){return m}}),n(789020);var s,a,i=n(314877),o=n(81825),r=n(630388),l=n(46141),c=n(659181),d=n(255078),u=n(981631),_=n(474936);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(a=s||(s={}))[a.GIFT=1]="GIFT",a[a.PREORDER=8]="PREORDER";class m extends o.Z{static createFromServer(e){let t=null!=e.payment_source?l.ZP.createFromServer(e.payment_source):null,n=null!=e.sku?c.Z.createFromServer(e.sku):null,s=null!=e.subscription?d.Z.createFromServer(e.subscription):null;return new m({id:e.id,createdAt:new Date(e.created_at),currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:t,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,flags:e.flags,subscription:s,skuId:e.sku_id,skuPrice:e.sku_price,sku:n,downloadableInvoice:e.downloadable_invoice,downloadableRefundInvoices:e.downloadable_refund_invoices,premiumRefundDisqualificationReasons:e.premium_refund_disqualification_reasons})}get isPurchasedViaApple(){return this.paymentGateway===u.gg$.APPLE}get isPurchasedViaGoogle(){return this.paymentGateway===u.gg$.GOOGLE}get isPurchasedExternally(){return this.isPurchasedViaApple||this.isPurchasedViaGoogle}get isSubscription(){return null!=this.subscription}get isPremiumSubscription(){return null!=this.subscription&&_.dJ.has(this.subscription.planId)}get isPremiumGuildSubscription(){return null!=this.subscription&&null!=this.subscription.additionalPlans.find(e=>{let{planId:t}=e;return _.Z1.has(t)})}get isGift(){return r.yE(this.flags,1)}get isPremiumGift(){return this.isGift&&Object.values(_.Si).includes(this.skuId)}get isGuildProductPurchase(){return null!=this.sku&&(this.sku.productLine===u.POd.GUILD_PRODUCT||r.yE(this.sku.flags,i.l.GUILD_PRODUCT))}get isSoftDeletedProduct(){var e;return(null===(e=this.sku)||void 0===e?void 0:e.deleted)===!0}get isCollectible(){return null!=this.sku&&this.sku.productLine===u.POd.COLLECTIBLES}constructor(e){super(),p(this,"id",void 0),p(this,"createdAt",void 0),p(this,"currency",void 0),p(this,"tax",void 0),p(this,"taxInclusive",void 0),p(this,"amount",void 0),p(this,"amountRefunded",void 0),p(this,"status",void 0),p(this,"description",void 0),p(this,"downloadableInvoice",void 0),p(this,"downloadableRefundInvoices",void 0),p(this,"flags",void 0),p(this,"paymentSource",void 0),p(this,"paymentGateway",void 0),p(this,"paymentGatewayPaymentId",void 0),p(this,"subscription",void 0),p(this,"skuId",void 0),p(this,"skuPrice",void 0),p(this,"sku",void 0),p(this,"premiumRefundDisqualificationReasons",void 0),this.id=e.id,this.amount=e.amount,this.amountRefunded=e.amountRefunded,this.createdAt=e.createdAt,this.currency=e.currency,this.description=e.description,this.paymentSource=e.paymentSource,this.paymentGateway=e.paymentGateway,this.paymentGatewayPaymentId=e.paymentGatewayPaymentId,this.status=e.status,this.tax=e.tax,this.taxInclusive=e.taxInclusive,this.subscription=e.subscription,this.skuId=e.skuId,this.skuPrice=e.skuPrice,this.sku=e.sku,this.flags=e.flags,this.downloadableInvoice=e.downloadableInvoice,this.downloadableRefundInvoices=e.downloadableRefundInvoices,this.premiumRefundDisqualificationReasons=e.premiumRefundDisqualificationReasons}}},818035:function(e,t,n){n(653041),n(47120);var s,a,i,o,r=n(442837),l=n(570140),c=n(461655);let d=[];function u(e){let{payment:t}=e,n=c.Z.createFromServer(t),s=d.findIndex(e=>e.id===t.id);-1===s?(d.push(n),d.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime())):d[s]=n,d=[...d]}class _ extends(s=r.ZP.Store){getPayment(e){return d.find(t=>t.id===e)}getPayments(){return d}}o="PaymentStore",(i="displayName")in(a=_)?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,t.Z=new _(l.Z,{BILLING_PAYMENTS_FETCH_SUCCESS:function(e){let{payments:t}=e;for(let e of t){let t=c.Z.createFromServer(e),n=d.findIndex(t=>t.id===e.id);-1!==n?d[n]=t:d.push(t)}d.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()),d=[...d]},PAYMENT_UPDATE:u,BILLING_PAYMENT_FETCH_SUCCESS:u,LOGOUT:function(){d=[]}})},884246:function(e,t,n){var s=n(735250),a=n(470079),i=n(120356),o=n.n(i),r=n(481060),l=n(689938),c=n(308252);t.Z=a.forwardRef(function(e,t){let{currentPageIndex:n,numPages:a,onChangePage:i,children:d,className:u,showPageCount:_=!0,...p}=e,m=n<=0,f=n>=a-1;return(0,s.jsxs)("div",{className:o()(c.__invalid_paginator,u),ref:t,...p,children:[d,(0,s.jsxs)("div",{className:c.pageActions,children:[(0,s.jsx)(r.Clickable,{className:o()(c.pageButtonPrev,{[c.disabled]:m}),tabIndex:m?-1:0,onClick:m?void 0:()=>i(n-1),children:(0,s.jsx)(r.ChevronSmallLeftIcon,{size:"md",color:"currentColor",className:c.pageButtonIcon,"aria-label":l.Z.Messages.PAGINATION_PREVIOUS})}),_?(0,s.jsx)("div",{className:c.pageIndicator,children:l.Z.Messages.PAGINATOR_OF_PAGES.format({currentPage:n+1,numPages:a})}):(0,s.jsx)("div",{className:c.pageIndicator,children:l.Z.Messages.PAGINATOR_CURRENT_PAGE.format({currentPage:n+1})}),(0,s.jsx)(r.Clickable,{className:o()(c.pageButtonNext,{[c.disabled]:f}),tabIndex:f?-1:0,onClick:f?void 0:()=>i(n+1),children:(0,s.jsx)(r.ChevronSmallRightIcon,{size:"md",color:"currentColor",className:c.pageButtonIcon,"aria-label":l.Z.Messages.PAGINATION_NEXT})})]})]})})},931331:function(e,t,n){n.d(t,{Z:function(){return i}});var s=n(735250);n(470079);var a=n(325767);function i(e){let{width:t=106,height:n=43,color:i="currentColor",foreground:o,...r}=e;return(0,s.jsx)("svg",{...(0,a.Z)(r),width:t,height:n,viewBox:"0 0 106 43",children:(0,s.jsxs)("g",{fill:i,className:o,fillRule:"evenodd","aria-hidden":!0,children:[(0,s.jsx)("path",{d:"M96.4373 17.6233H83.2985C82.9632 17.6233 82.6698 17.8748 82.6279 18.21L81.9992 22.5687C81.9364 22.9669 82.2507 23.3441 82.6698 23.3441H85.0796C85.3311 23.3441 85.4778 23.5955 85.394 23.8051C85.1006 24.4966 84.8701 25.2719 84.7653 26.0892L83.5499 34.5341C82.7536 40.192 87.4476 43 92.5816 43C97.9461 43 103.227 40.171 104.023 34.5341L105.239 26.0892C105.993 20.557 101.446 17.749 96.4373 17.6233ZM98.952 26.1101L97.7366 34.3665C97.4641 36.3153 95.2638 37.2164 93.2312 37.2164C91.3452 37.2164 89.5012 36.3153 89.7526 34.5341L90.968 26.0892C91.2405 24.2451 93.4408 23.3021 95.4734 23.3021C97.5061 23.3021 99.2453 24.2451 98.952 26.1101Z"}),(0,s.jsx)("path",{d:"M23.5344 17.6233H18.6309C18.2956 17.6233 18.0023 17.8748 17.9603 18.21L16.4516 28.96V28.981L16.5144 33.1301C16.5144 33.2139 16.4516 33.2978 16.3678 33.3187L14.9638 28.3104V28.2895L10.5841 18.0424C10.4794 17.7909 10.2279 17.6233 9.95547 17.6233H4.9891C4.65382 17.6233 4.36044 17.8748 4.31853 18.21L1.00762 41.8894C0.944753 42.3085 1.28004 42.6647 1.67818 42.6647H6.6236C6.95889 42.6647 7.25226 42.4133 7.29417 42.078L8.59339 32.6691V32.6481L8.53052 27.8285L8.67721 27.7865L10.165 32.7948V32.8158L14.2513 42.2666C14.3561 42.518 14.6075 42.6857 14.8799 42.6857H20.2445C20.5797 42.6857 20.8731 42.4342 20.915 42.0989L24.2259 18.4196C24.2888 18.0005 23.9535 17.6233 23.5344 17.6233Z"}),(0,s.jsx)("path",{d:"M34.2634 17.6233H29.318C28.9827 17.6233 28.6893 17.8748 28.6474 18.21L25.3365 41.8684C25.2736 42.2875 25.6089 42.6438 26.007 42.6438H30.9525C31.2877 42.6438 31.5811 42.3923 31.623 42.057L34.9339 18.3986C34.9968 18.0005 34.6825 17.6233 34.2634 17.6233Z"}),(0,s.jsx)("path",{d:"M57.4608 17.6233H38.9573C38.6221 17.6233 38.3287 17.8748 38.2868 18.21L37.6372 22.6316C37.5743 23.0507 37.8886 23.4069 38.3077 23.4069H43.4837C43.9028 23.4069 44.2171 23.7632 44.1542 24.1823L41.7234 41.8684C41.6606 42.2875 41.9958 42.6438 42.394 42.6438H47.4023C47.7376 42.6438 48.0309 42.3923 48.0728 42.057L50.5665 23.9937C50.6084 23.6584 50.9018 23.4069 51.2371 23.4069H56.7902C57.1255 23.4069 57.4188 23.1555 57.4608 22.8202L58.1104 18.3986C58.2151 18.0005 57.8799 17.6233 57.4608 17.6233Z"}),(0,s.jsx)("path",{d:"M71.6056 17.6233H62.1967C61.8615 17.6233 61.5681 17.8748 61.5262 18.21L58.2153 41.8684C58.1524 42.2875 58.4877 42.6438 58.8858 42.6438H63.8941C64.2294 42.6438 64.5228 42.3923 64.5647 42.057L65.5286 34.9951C65.5496 34.8275 65.6963 34.7018 65.8639 34.7018H66.5135C66.6392 34.7018 66.744 34.7646 66.8069 34.8694L71.5847 42.3504C71.7104 42.539 71.9199 42.6647 72.1714 42.6647H78.3741C78.919 42.6647 79.2542 42.0361 78.9399 41.596L73.9107 34.4084C73.7849 34.2407 73.8478 33.9893 74.0364 33.9055C77.2425 32.3338 79.1076 30.7412 79.7153 26.2568C80.4277 20.3894 76.7606 17.6233 71.6056 17.6233ZM73.3239 26.3616C73.1563 27.8075 72.0247 29.2534 70.0759 29.2534H67.1631C66.744 29.2534 66.4297 28.8762 66.4925 28.4781L67.1212 24.1194C67.1631 23.7841 67.4565 23.5326 67.7918 23.5326H70.9141C72.7581 23.5326 73.5125 24.8528 73.3239 26.3616Z"}),(0,s.jsx)("path",{d:"M23.3458 2.64035H26.9082C27.7674 2.64035 28.5008 2.76608 29.0875 3.0385C29.6324 3.26901 30.0934 3.66715 30.4287 4.17008C30.722 4.673 30.8897 5.23879 30.8687 5.80458C30.8687 6.39132 30.722 6.95711 30.4077 7.46004C30.0724 7.98392 29.5695 8.38207 29.0037 8.63353C28.3751 8.9269 27.5788 9.07359 26.6567 9.07359H23.3458V2.64035V2.64035ZM26.6358 7.41813C27.2225 7.41813 27.6626 7.27144 27.9769 6.97807C28.2912 6.66374 28.4589 6.24464 28.4379 5.78363C28.4589 5.36452 28.3122 4.96637 28.0188 4.673C27.7464 4.40058 27.3273 4.2539 26.7615 4.2539H25.6509V7.39717H26.6358V7.41813Z"}),(0,s.jsx)("path",{d:"M36.2331 9.05262C35.7721 8.92689 35.3111 8.7383 34.892 8.48683V6.95711C35.2482 7.22952 35.6673 7.41812 36.0864 7.5229C36.5684 7.66958 37.0504 7.73245 37.5533 7.7534C37.7209 7.7534 37.8886 7.73245 38.0562 7.66958C38.161 7.60672 38.2238 7.54385 38.2238 7.46003C38.2238 7.37621 38.2029 7.29239 38.14 7.22952C38.0352 7.1457 37.9095 7.10379 37.7838 7.08284L36.6941 6.83137C36.0655 6.68469 35.6254 6.47514 35.353 6.22368C35.0806 5.95126 34.9339 5.57407 34.9548 5.19687C34.9548 4.86159 35.0806 4.52631 35.3111 4.27484C35.5835 3.98147 35.9188 3.77192 36.296 3.66714C36.7779 3.52046 37.2809 3.43664 37.8047 3.45759C38.2867 3.45759 38.7477 3.4995 39.2087 3.62523C39.5859 3.70906 39.9422 3.85574 40.2774 4.04434V5.49024C39.9631 5.30165 39.6278 5.17592 39.2926 5.0921C38.9154 4.98732 38.5172 4.94541 38.14 4.94541C37.5742 4.94541 37.2809 5.05019 37.2809 5.23878C37.2809 5.3226 37.3228 5.40642 37.4066 5.44833C37.5533 5.5112 37.7209 5.55311 37.8886 5.59502L38.8106 5.76266C39.3973 5.86744 39.8583 6.05603 40.1517 6.3075C40.4451 6.55896 40.5918 6.95711 40.5918 7.46003C40.5918 8.00486 40.3194 8.50779 39.8583 8.78021C39.3764 9.09453 38.6849 9.26218 37.7838 9.26218C37.2599 9.24122 36.736 9.17835 36.2331 9.05262Z"}),(0,s.jsx)("path",{d:"M42.7294 8.86404C42.2475 8.63353 41.8284 8.2773 41.535 7.81628C41.2626 7.37622 41.1368 6.85234 41.1368 6.32847C41.1368 5.80459 41.2626 5.30166 41.5559 4.8616C41.8493 4.40059 42.2684 4.06531 42.7713 3.8348C43.379 3.58334 44.0287 3.43665 44.6783 3.45761C45.6003 3.45761 46.3547 3.6462 46.9624 4.04435V5.72077C46.7319 5.57408 46.4804 5.44835 46.208 5.36453C45.9146 5.28071 45.6003 5.21784 45.286 5.21784C44.7202 5.21784 44.2801 5.32262 43.9448 5.53217C43.4838 5.78363 43.3371 6.34942 43.5886 6.81043C43.6724 6.95712 43.7981 7.08285 43.9448 7.16667C44.2592 7.37622 44.6992 7.481 45.3069 7.481C45.6212 7.481 45.9146 7.43909 46.208 7.35527C46.4804 7.27145 46.7319 7.16667 46.9624 7.01999V8.63353C46.2499 9.05264 45.4536 9.26219 44.6364 9.24123C43.9867 9.26219 43.3162 9.13646 42.7294 8.86404Z"}),(0,s.jsx)("path",{d:"M49.2463 8.86402C48.7434 8.63352 48.3243 8.27728 48.0309 7.81627C47.7585 7.37621 47.6118 6.85233 47.6118 6.32845C47.6118 5.80457 47.7375 5.30165 48.0309 4.86159C48.3243 4.42153 48.7434 4.06529 49.2463 3.85574C50.4408 3.37377 51.8028 3.37377 52.9973 3.85574C53.4793 4.06529 53.8984 4.42153 54.1917 4.86159C54.4641 5.30165 54.6108 5.82552 54.6108 6.32845C54.6108 6.85233 54.4641 7.37621 54.1917 7.81627C53.8984 8.27728 53.4793 8.63352 52.9973 8.86402C51.7819 9.36695 50.4408 9.36695 49.2463 8.86402ZM52.0124 7.22952C52.2429 6.99901 52.3686 6.66373 52.3477 6.3494C52.3686 6.01412 52.2429 5.69979 52.0124 5.46929C51.7609 5.23878 51.4257 5.134 51.0904 5.134C50.7551 5.11305 50.4198 5.23878 50.1683 5.46929C49.9378 5.69979 49.8121 6.01412 49.8331 6.3494C49.8121 6.68469 49.9378 6.99901 50.1683 7.22952C50.4198 7.46003 50.7551 7.58576 51.0904 7.5648C51.4466 7.58576 51.7819 7.46003 52.0124 7.22952Z"}),(0,s.jsx)("path",{d:"M60.1012 3.79287V5.78361C59.8288 5.61597 59.5145 5.53215 59.2002 5.55311C58.7182 5.55311 58.341 5.69979 58.0686 5.99316C57.8171 6.28654 57.6704 6.74755 57.6704 7.3762V9.05262H55.4282V3.6881H57.6285V5.38546C57.7543 4.75681 57.9429 4.2958 58.2153 4.00242C58.4877 3.70905 58.8649 3.54141 59.263 3.56237C59.5564 3.56237 59.8498 3.64619 60.1012 3.79287Z"}),(0,s.jsx)("path",{d:"M67.5613 2.45178V9.05266H65.3191V7.85821C65.1514 8.27732 64.8371 8.65451 64.4599 8.88502C64.0199 9.13648 63.5379 9.26221 63.035 9.24126C62.5739 9.26221 62.1129 9.11552 61.7148 8.86406C61.3376 8.6126 61.0233 8.25636 60.8347 7.83726C60.6251 7.37625 60.5203 6.87332 60.5203 6.3704C60.4994 5.84652 60.6251 5.32264 60.8347 4.86163C61.0442 4.42157 61.3795 4.06533 61.7776 3.81387C62.1968 3.56241 62.6787 3.43667 63.1607 3.43667C64.2294 3.43667 64.9419 3.89769 65.3191 4.81972V2.45178H67.5613ZM64.9838 7.18765C65.2143 6.95714 65.34 6.64282 65.3191 6.32849C65.3191 6.01416 65.1933 5.69983 64.9838 5.49028C64.4599 5.05022 63.7055 5.05022 63.1607 5.49028C62.9302 5.72079 62.8045 6.01416 62.8254 6.32849C62.8045 6.64282 62.9302 6.95714 63.1607 7.18765C63.4121 7.41816 63.7265 7.52293 64.0618 7.52293C64.418 7.54389 64.7323 7.41816 64.9838 7.18765Z"}),(0,s.jsx)("path",{d:"M15.0895 1.04776C13.9999 0.565789 12.8473 0.209552 11.6529 0C11.4853 0.293372 11.3386 0.586745 11.2128 0.901072C9.95553 0.712476 8.65631 0.712476 7.399 0.901072C7.27327 0.586745 7.12659 0.293372 6.95894 0C5.78546 0.209552 4.63292 0.565789 3.5223 1.06871C1.36391 4.27485 0.77717 7.39717 1.07054 10.4985C2.34881 11.4415 3.77376 12.154 5.28253 12.615C5.61781 12.154 5.93214 11.672 6.1836 11.1691C5.70163 10.9805 5.21967 10.75 4.75865 10.4985C4.88438 10.4147 4.98916 10.3309 5.11489 10.2471C7.7762 11.5044 10.8566 11.5044 13.5389 10.2471C13.6436 10.3309 13.7694 10.4357 13.8951 10.4985C13.4341 10.771 12.9731 11.0015 12.4702 11.1691C12.7216 11.672 13.0359 12.154 13.3712 12.615C14.88 12.154 16.3049 11.4415 17.5832 10.4985C17.9185 6.9152 16.9755 3.81384 15.0895 1.04776ZM6.53984 8.59162C5.72259 8.59162 5.03107 7.83723 5.03107 6.93616C5.03107 6.03509 5.68068 5.25975 6.51889 5.25975C7.35709 5.25975 8.02766 6.01413 8.02766 6.93616C8.02766 7.85819 7.37805 8.59162 6.53984 8.59162ZM12.072 8.59162C11.2548 8.59162 10.5842 7.83723 10.5842 6.93616C10.5842 6.03509 11.2338 5.25975 12.072 5.25975C12.9102 5.25975 13.5808 6.01413 13.5598 6.93616C13.5598 7.85819 12.9102 8.59162 12.072 8.59162Z"}),(0,s.jsx)("path",{d:"M32.7757 4.27485C33.389 4.27485 33.8863 3.82452 33.8863 3.269C33.8863 2.71349 33.389 2.26315 32.7757 2.26315C32.1623 2.26315 31.665 2.71349 31.665 3.269C31.665 3.82452 32.1623 4.27485 32.7757 4.27485Z"}),(0,s.jsx)("path",{d:"M31.665 4.9664C32.3775 5.25977 33.1948 5.25977 33.9072 4.9664V9.09457H31.665V4.9664Z"})]})})}},314877:function(e,t,n){var s,a;n.d(t,{l:function(){return s}}),(a=s||(s={}))[a.PREMIUM_PURCHASE=1]="PREMIUM_PURCHASE",a[a.HAS_FREE_PREMIUM_CONTENT=2]="HAS_FREE_PREMIUM_CONTENT",a[a.AVAILABLE=4]="AVAILABLE",a[a.PREMIUM_AND_DISTRIBUTION=8]="PREMIUM_AND_DISTRIBUTION",a[a.STICKER=16]="STICKER",a[a.GUILD_ROLE=32]="GUILD_ROLE",a[a.AVAILABLE_FOR_SUBSCRIPTION_GIFTING=64]="AVAILABLE_FOR_SUBSCRIPTION_GIFTING",a[a.APPLICATION_GUILD_SUBSCRIPTION=128]="APPLICATION_GUILD_SUBSCRIPTION",a[a.APPLICATION_USER_SUBSCRIPTION=256]="APPLICATION_USER_SUBSCRIPTION",a[a.CREATOR_MONETIZATION=512]="CREATOR_MONETIZATION",a[a.GUILD_PRODUCT=1024]="GUILD_PRODUCT",a[a.STAFF_CREATE_SUBSCRIPTION_GROUP_LISTING_MASK=384]="STAFF_CREATE_SUBSCRIPTION_GROUP_LISTING_MASK"},512288:function(e,t,n){e.exports={modal:"modal_c22d1f",form:"form_c22d1f",content:"content_c22d1f",modalTitle:"modalTitle_c22d1f",divider:"divider_c22d1f",errorBlock:"errorBlock_c22d1f",sequencer:"sequencer_c22d1f"}},398333:function(e,t,n){e.exports={descriptionWrapper:"descriptionWrapper_ede133",subText:"subText_ede133",defaultIndicator:"defaultIndicator_ede133 indicator_ede133",premiumIndicator:"premiumIndicator_ede133 indicator_ede133",invalidIndicator:"invalidIndicator_ede133 indicator_ede133",description:"description_ede133"}},631545:function(e,t,n){e.exports={paymentPane:"paymentPane_f66684",paymentRow:"paymentRow_f66684",paymentRowHeader:"paymentRowHeader_f66684",paymentRowHeaderDescription:"paymentRowHeaderDescription_f66684",externalRow:"externalRow_f66684",externalRowHeader:"externalRowHeader_f66684",externalRowBody:"externalRowBody_f66684",bottomDivider:"bottomDivider_f66684",verticalFit:"verticalFit_f66684",paginator:"paginator_f66684"}},69630:function(e,t,n){e.exports={payment:"payment_a28a08",hoverablePayment:"hoverablePayment_a28a08 payment_a28a08",summaryInfo:"summaryInfo_a28a08",expandedInfo:"expandedInfo_a28a08",paymentHeader:"paymentHeader_a28a08",paymentText:"paymentText_a28a08",paymentBreakdown:"paymentBreakdown_a28a08",paymentDetail:"paymentDetail_a28a08",guildProductDetail:"guildProductDetail_a28a08 paymentDetail_a28a08",date:"date_a28a08",amount:"amount_a28a08",statusTagGreen:"statusTagGreen_a28a08 statusTag_a28a08",statusTagRed:"statusTagRed_a28a08 statusTag_a28a08",statusTagGrey:"statusTagGrey_a28a08 statusTag_a28a08",price:"price_a28a08",description:"description_a28a08",descriptionIcon:"descriptionIcon_a28a08",guildDescriptionIcon:"guildDescriptionIcon_a28a08",shopIcon:"shopIcon_a28a08",expand:"expand_a28a08",downloadInvoice:"downloadInvoice_a28a08",downloadRefundInvoice:"downloadRefundInvoice_a28a08",refundSubHeader:"refundSubHeader_a28a08",refundCriteria:"refundCriteria_a28a08",refundCriteriaIcon:"refundCriteriaIcon_a28a08",giftIcon:"giftIcon_a28a08",compact:"compact_a28a08",refundActions:"refundActions_a28a08",refundRules:"refundRules_a28a08",refundIconContainer:"refundIconContainer_a28a08",copiableContainer:"copiableContainer_a28a08",paymentInfo:"paymentInfo_a28a08",divider:"divider_a28a08",sectionDivider:"sectionDivider_a28a08 divider_a28a08",guildProductBenefits:"guildProductBenefits_a28a08",guildProductBenefitLabel:"guildProductBenefitLabel_a28a08",warningBlock:"warningBlock_a28a08"}},162950:function(e,t,n){e.exports={awaitingWrapper:"awaitingWrapper_a4ec0f"}},677937:function(e,t,n){e.exports={container:"container_e4d3f1",iconBackground:"iconBackground_e4d3f1",link:"link_e4d3f1"}},796116:function(e,t,n){e.exports={header:"header_f56ad2",animation:"animation_f56ad2",headerTitle:"headerTitle_f56ad2",closeButton:"closeButton_f56ad2"}},168335:function(e,t,n){e.exports={bodyText:"bodyText_f875f7",planSelectStep:"planSelectStep_f875f7",planSelectText:"planSelectText_f875f7",planSelectRow:"planSelectRow_f875f7",planSelectorWrapper:"planSelectorWrapper_f875f7",planSelectorLabel:"planSelectorLabel_f875f7",planSelectorPreviewPrice:"planSelectorPreviewPrice_f875f7",planSelectDivider:"planSelectDivider_f875f7",planSelectorSubtotal:"planSelectorSubtotal_f875f7",reviewStep:"reviewStep_f875f7",paymentSourceWrapper:"paymentSourceWrapper_f875f7",confirmationContainer:"confirmationContainer_f875f7",confirmationAnimation:"confirmationAnimation_f875f7",confirmationUpgradedBanner:"confirmationUpgradedBanner_f875f7",confirmationText:"confirmationText_f875f7",existingSlotNotice:"existingSlotNotice_f875f7",existingSlotIcon:"existingSlotIcon_f875f7",existingSlotTooltipWarningIcon:"existingSlotTooltipWarningIcon_f875f7",loadingSpinner:"loadingSpinner_f875f7"}},557357:function(e,t,n){e.exports={blurb:"blurb_c9a9bf",giftSentMessage:"giftSentMessage_c9a9bf",giftRecipient:"giftRecipient_c9a9bf",giftRecipientName:"giftRecipientName_c9a9bf",giftRecipientTag:"giftRecipientTag_c9a9bf",divider:"divider_c9a9bf",subtext:"subtext_c9a9bf",subtextError:"subtextError_c9a9bf subtext_c9a9bf",header:"header_c9a9bf",headerCustomGifting:"headerCustomGifting_c9a9bf",giftRecipientSection:"giftRecipientSection_c9a9bf",giftRecipientInputWrapper:"giftRecipientInputWrapper_c9a9bf",giftRecipientInputError:"giftRecipientInputError_c9a9bf",sendToRecipientButton:"sendToRecipientButton_c9a9bf",confirmation:"confirmation_c9a9bf",giftCodeSection:"giftCodeSection_c9a9bf"}},508049:function(e,t,n){e.exports={shaker:"shaker_b93e3f",root:"root_b93e3f",withHeader:"withHeader_b93e3f"}},296836:function(e,t,n){e.exports={awaitingAuthenticationStep:"awaitingAuthenticationStep_f10fc5"}},94250:function(e,t,n){e.exports={body:"body_e16e99"}},983525:function(e,t,n){e.exports={seasonalGiftBoxHeaderIcon:"seasonalGiftBoxHeaderIcon_fff54c",container:"container_fff54c",closeButton:"closeButton_fff54c"}},280755:function(e,t,n){e.exports={back:"back_fd80e5"}},780324:function(e,t,n){e.exports={spinner:"spinner_b0f29a"}},130842:function(e,t,n){e.exports={paymentNote:"paymentNote_d791fd"}},473571:function(e,t,n){e.exports={root:"root_df35cb",shaker:"shaker_df35cb",stepBody:"stepBody_df35cb",bodyText:"bodyText_df35cb",invoice:"invoice_df35cb",paymentSourceWrapper:"paymentSourceWrapper_df35cb",paymentSourceOptionalWarning:"paymentSourceOptionalWarning_df35cb",currencyWrapper:"currencyWrapper_df35cb",trialCheckbox:"trialCheckbox_df35cb",trialCheckboxLabel:"trialCheckboxLabel_df35cb",loader:"loader_df35cb",contentWrapper:"contentWrapper_df35cb",reviewWarningMessageContainer:"reviewWarningMessageContainer_df35cb",reviewWarningMessage:"reviewWarningMessage_df35cb",trialPriceLine:"trialPriceLine_df35cb",afterTrialPriceLine:"afterTrialPriceLine_df35cb",formTitle:"formTitle_df35cb",spinnerWrapper:"spinnerWrapper_df35cb"}},424416:function(e,t,n){e.exports={stepBody:"stepBody_ad3708",invoice:"invoice_ad3708",paymentSourceWrapper:"paymentSourceWrapper_ad3708",subscriptionCostRow:"subscriptionCostRow_ad3708",invoiceSpinner:"invoiceSpinner_ad3708",errorBlock:"errorBlock_ad3708",fineprint:"fineprint_ad3708",skuHeading:"skuHeading_ad3708",skuHeadingText:"skuHeadingText_ad3708"}},463597:function(e,t,n){e.exports={profileEffectContainer:"profileEffectContainer_faa800",profileEffectBackground:"profileEffectBackground_faa800",giftMainAnimationWrapper:"giftMainAnimationWrapper_faa800",avatar:"avatar_faa800"}},138792:function(e,t,n){e.exports={phoneFieldPopout:"phoneFieldPopout_ff761b",phoneFieldScroller:"phoneFieldScroller_ff761b",countryItem:"countryItem_ff761b",countryName:"countryName_ff761b",countryCode:"countryCode_ff761b"}},452855:function(e,t,n){e.exports={churnFooterContainer:"churnFooterContainer_a5ba39",churnFooterGlow:"churnFooterGlow_a5ba39",churnFooterTopBorder:"churnFooterTopBorder_a5ba39",churnFooterContent:"churnFooterContent_a5ba39",churnFooterContentBody:"churnFooterContentBody_a5ba39",churnFooterIcon:"churnFooterIcon_a5ba39",churnFooterContentBodyInner:"churnFooterContentBodyInner_a5ba39",churnFooterCopy:"churnFooterCopy_a5ba39",churnFooterCTAs:"churnFooterCTAs_a5ba39",churnFooterClaimCTA:"churnFooterClaimCTA_a5ba39",churnFooterClaimCTAInner:"churnFooterClaimCTAInner_a5ba39",churnFooterClaimIcon:"churnFooterClaimIcon_a5ba39",churnFooterClaimCopy:"churnFooterClaimCopy_a5ba39"}},863962:function(e,t,n){e.exports={noticeRoot:"noticeRoot_f5d98f",iconContainer:"iconContainer_f5d98f",infoIcon:"infoIcon_f5d98f",text:"text_f5d98f"}},64506:function(e,t,n){e.exports={headerBackground:"headerBackground_af10a6",tier2HeaderBackground:"tier2HeaderBackground_af10a6 headerBackground_af10a6",tier2HeaderBackgroundWinterTheme:"tier2HeaderBackgroundWinterTheme_af10a6 headerBackground_af10a6",snow:"snow_af10a6",headerTop:"headerTop_af10a6",headerIcon:"headerIcon_af10a6",nonTier2:"nonTier2_af10a6",price:"price_af10a6",closeButton:"closeButton_af10a6",trialBadgeContainer:"trialBadgeContainer_af10a6",trialOfferText:"trialOfferText_af10a6",tier0TrialOffer:"tier0TrialOffer_af10a6",trialBadgeSparkles:"trialBadgeSparkles_af10a6"}},544636:function(e,t,n){e.exports={button:"button_ece59a"}},927344:function(e,t,n){e.exports={body:"body_b1a31b",errorBlock:"errorBlock_b1a31b",cancelImage:"cancelImage_b1a31b",previewStep:"previewStep_b1a31b",loading:"loading_b1a31b",renewalInvoiceDate:"renewalInvoiceDate_b1a31b",invoiceCancelRow:"invoiceCancelRow_b1a31b",iconClassName:"iconClassName_b1a31b",subtitleIcon:"subtitleIcon_b1a31b",subtitleSection:"subtitleSection_b1a31b",innerCircle:"innerCircle_b1a31b",cancellationHeader:"cancellationHeader_b1a31b",whatYouLoseButtonContainer:"whatYouLoseButtonContainer_b1a31b",confettiCanvas:"confettiCanvas_b1a31b"}},481798:function(e,t,n){e.exports={body:"body_d29b0b",confirmDiscountContent:"confirmDiscountContent_d29b0b",confirmDiscountDescription:"confirmDiscountDescription_d29b0b",confirmDiscountIcon:"confirmDiscountIcon_d29b0b",confirmDiscountLegalese:"confirmDiscountLegalese_d29b0b",confirmDiscountLegaleseText:"confirmDiscountLegaleseText_d29b0b",confirmDiscountButtons:"confirmDiscountButtons_d29b0b",confrimDiscountsButtonsError:"confrimDiscountsButtonsError_d29b0b",confrimDiscountsButtonsNoError:"confrimDiscountsButtonsNoError_d29b0b",redemptionFailedMessage:"redemptionFailedMessage_d29b0b",redemptionFailedMessageCopy:"redemptionFailedMessageCopy_d29b0b"}},596159:function(e,t,n){e.exports={body:"body_a78d93",cancellationHeader:"cancellationHeader_a78d93",whatYouLoseButtonContainer:"whatYouLoseButtonContainer_a78d93",discountAppliedBody:"discountAppliedBody_a78d93",bodyString:"bodyString_a78d93",nitroIcon:"nitroIcon_a78d93"}},436117:function(e,t,n){e.exports={body:"body_bca5ca",errorBlock:"errorBlock_bca5ca",whatYouLoseButtonContainer:"whatYouLoseButtonContainer_bca5ca",subtitle:"subtitle_bca5ca",cancelText:"cancelText_bca5ca",radioOption:"radioOption_bca5ca"}},704603:function(e,t,n){e.exports={body:"body_f4a859",title:"title_f4a859",subtitle:"subtitle_f4a859",whatYouLoseItemContainer:"whatYouLoseItemContainer_f4a859",whatYouLoseItem:"whatYouLoseItem_f4a859",whatYouLoseItemLeftColumn:"whatYouLoseItemLeftColumn_f4a859",whatYouLoseItemLearnMore:"whatYouLoseItemLearnMore_f4a859",whatYouLoseItemRightColumn:"whatYouLoseItemRightColumn_f4a859",textSingleLineEllipsis:"textSingleLineEllipsis_f4a859",profileCard:"profileCard_f4a859",profileCardTier1:"profileCardTier1_f4a859 profileCard_f4a859",profileBanner:"profileBanner_f4a859",profileAvatar:"profileAvatar_f4a859",profileAvatarTier1:"profileAvatarTier1_f4a859",profileInner:"profileInner_f4a859",profileUserInfo:"profileUserInfo_f4a859",profileUserInfoTier1:"profileUserInfoTier1_f4a859",profileNameTag:"profileNameTag_f4a859",profileNameTagUsername:"profileNameTagUsername_f4a859",profilePremiumIcon:"profilePremiumIcon_f4a859",emojiStickersPersonalizedContainer:"emojiStickersPersonalizedContainer_f4a859",personalizedEmoji:"personalizedEmoji_f4a859",boostCardContainer:"boostCardContainer_f4a859",boostCard:"boostCard_f4a859",boostCardIcon:"boostCardIcon_f4a859",boostCardInfo:"boostCardInfo_f4a859",boostCardTitle:"boostCardTitle_f4a859",boostCardSubtitle:"boostCardSubtitle_f4a859",boostCardGem:"boostCardGem_f4a859",boostCardCount:"boostCardCount_f4a859",nonPersonalizedGraphic:"nonPersonalizedGraphic_f4a859",spinner:"spinner_f4a859"}},877426:function(e,t,n){e.exports={container:"container_fc2d2a",animationContainer:"animationContainer_fc2d2a",svgBorder:"svgBorder_fc2d2a",svgCopy:"svgCopy_fc2d2a",shine:"shine_fc2d2a"}},875328:function(e,t,n){e.exports={paymentBanner:"paymentBanner_a206c7",paymentBannerIcon:"paymentBannerIcon_a206c7",paymentBannerText:"paymentBannerText_a206c7",renewalMutationNotice:"renewalMutationNotice_a206c7",subscriptionRows:"subscriptionRows_a206c7",dupSubscriptionRow:"dupSubscriptionRow_a206c7",guildSubscriptionRow:"guildSubscriptionRow_a206c7",guildBoostingSubscriptionRow:"guildBoostingSubscriptionRow_a206c7",guildBoostingSubscriptionRowActive:"guildBoostingSubscriptionRowActive_a206c7 guildBoostingSubscriptionRow_a206c7",guildBoostingSubscriptionRowBackground:"guildBoostingSubscriptionRowBackground_a206c7",guildBoostingImage:"guildBoostingImage_a206c7",guildBoostingSubscriptionRowPaused:"guildBoostingSubscriptionRowPaused_a206c7 guildBoostingSubscriptionRow_a206c7",guildBoostingSubscriptionRowCanceled:"guildBoostingSubscriptionRowCanceled_a206c7 guildBoostingSubscriptionRow_a206c7",guildBoostingSubscriptionRowFailedPayment:"guildBoostingSubscriptionRowFailedPayment_a206c7 guildBoostingSubscriptionRow_a206c7",sectionTitle:"sectionTitle_a206c7",sectionDescription:"sectionDescription_a206c7",guildBoostingSubscriptionRowBody:"guildBoostingSubscriptionRowBody_a206c7",guildBoostingWordmark:"guildBoostingWordmark_a206c7",canceled:"canceled_a206c7",details:"details_a206c7",detailsBlock:"detailsBlock_a206c7",paymentDropdown:"paymentDropdown_a206c7",redBorder:"redBorder_a206c7",detailBlockHeader:"detailBlockHeader_a206c7",duplicateHeader:"duplicateHeader_a206c7",billingInformation:"billingInformation_a206c7",cardText:"cardText_a206c7",noItemsCard:"noItemsCard_a206c7",noItemsIcon:"noItemsIcon_a206c7",boostingDesktopAppBlurb:"boostingDesktopAppBlurb_a206c7",duplicateSubscriptionsBanner:"duplicateSubscriptionsBanner_a206c7",duplicateSubscriptionsBannerText:"duplicateSubscriptionsBannerText_a206c7"}},827760:function(e,t,n){e.exports={banner:"banner_b12c98",bannerBackgroundImage:"bannerBackgroundImage_b12c98",image:"image_b12c98",repositioned:"repositioned_b12c98",buttons:"buttons_b12c98",planInfo:"planInfo_b12c98",planName:"planName_b12c98",tier0:"tier0_b12c98",basicWordmark:"basicWordmark_b12c98",details:"details_b12c98",discordWordmark:"discordWordmark_b12c98",canceled:"canceled_b12c98",failedPayment:"failedPayment_b12c98",pausePending:"pausePending_b12c98",paused:"paused_b12c98",tier1:"tier1_b12c98",classicWordmark:"classicWordmark_b12c98",tier2:"tier2_b12c98",toolsButtons:"toolsButtons_b12c98",toolsButton:"toolsButton_b12c98",billingRetryCancel:"billingRetryCancel_b12c98",linkButton:"linkButton_b12c98",externalButton:"externalButton_b12c98",detailsContainer:"detailsContainer_b12c98",discountPill:"discountPill_b12c98",headerLabel:"headerLabel_b12c98",wordMark:"wordMark_b12c98",headerColumnB:"headerColumnB_b12c98"}},663950:function(e,t,n){e.exports={externalLink:"externalLink_d2a70c",currency:"currency_d2a70c",currencyDropdown:"currencyDropdown_d2a70c"}},108526:function(e,t,n){e.exports={root:"root_f1d9d4",infoIcon:"infoIcon_f1d9d4",text:"text_f1d9d4",cancelLink:"cancelLink_f1d9d4",modalBody:"modalBody_f1d9d4"}},190949:function(e,t,n){e.exports={body:"body_e76e48",textArea:"textArea_e76e48",editorTextArea:"editorTextArea_e76e48"}},421383:function(e,t,n){e.exports={giftMainAnimation:"giftMainAnimation_d90c00",soundEmojiContainer:"soundEmojiContainer_d90c00",sound:"sound_d90c00",emoji:"emoji_d90c00",animation:"animation_d90c00",spinner:"spinner_d90c00",giftBoxOptionContainer:"giftBoxOptionContainer_d90c00"}},197013:function(e,t,n){e.exports={container:"container_b96147",emojiList:"emojiList_b96147",emoji:"emoji_b96147",textSelected:"textSelected_b96147",text:"text_b96147",emojiIcon:"emojiIcon_b96147",customGiftContent:"customGiftContent_b96147",emojiHeader:"emojiHeader_b96147",customGiftHeader:"customGiftHeader_b96147"}},273912:function(e,t,n){e.exports={customGiftBox:"customGiftBox_c4afc7",customGiftBoxHighlighted:"customGiftBoxHighlighted_c4afc7"}},988775:function(e,t,n){e.exports={stepBody:"stepBody_d439ef",stepBodyCustomGift:"stepBodyCustomGift_d439ef",bodyColumnMiddle:"bodyColumnMiddle_d439ef",bodyColumnRight:"bodyColumnRight_d439ef",bodyText:"bodyText_d439ef",selectPlanDivider:"selectPlanDivider_d439ef",selectPlanChooseTitle:"selectPlanChooseTitle_d439ef",selectPlanTotalRow:"selectPlanTotalRow_d439ef",planSelectSeparator:"planSelectSeparator_d439ef",trialPlanSelectHeader:"trialPlanSelectHeader_d439ef",legacyPricingNotice:"legacyPricingNotice_d439ef"}},319473:function(e,t,n){e.exports={modalHeader:"modalHeader_a27f2f",modalHeaderCustomGift:"modalHeaderCustomGift_a27f2f",closeButton:"closeButton_a27f2f",header:"header_a27f2f",headerAnimation:"headerAnimation_a27f2f",giftNitroInfo:"giftNitroInfo_a27f2f"}},24812:function(e,t,n){e.exports={planOption:"planOption_bd3462",planOneTimeCost:"planOneTimeCost_bd3462",selectionBox:"selectionBox_bd3462",selectedPlan:"selectedPlan_bd3462",planOptionDisabled:"planOptionDisabled_bd3462",planOptionClickable:"planOptionClickable_bd3462",planOptionCheckbox:"planOptionCheckbox_bd3462",planOptionInterval:"planOptionInterval_bd3462",optionSelected:"optionSelected_bd3462",planOptionCurrentPlan:"planOptionCurrentPlan_bd3462",planOptionMonthsFree:"planOptionMonthsFree_bd3462",planOptionDiscount:"planOptionDiscount_bd3462",annualPlanOptionDiscount:"annualPlanOptionDiscount_bd3462",planOptionSubtextContainer:"planOptionSubtextContainer_bd3462",planOptionSubtext:"planOptionSubtext_bd3462",discountPlanOptionSubtext:"discountPlanOptionSubtext_bd3462",planOptionClickableContainer:"planOptionClickableContainer_bd3462",updatedOptionSelected:"updatedOptionSelected_bd3462",optionPriceSelected:"optionPriceSelected_bd3462"}},525521:function(e,t,n){e.exports={upsellFooter:"upsellFooter_a26a1a",upsellFooterIcon:"upsellFooterIcon_a26a1a"}},315611:function(e,t,n){e.exports={giftRecipientInfo:"giftRecipientInfo_cc6d95",content:"content_cc6d95",giftRecipientName:"giftRecipientName_cc6d95",giftRecipientTag:"giftRecipientTag_cc6d95"}},745566:function(e,t,n){e.exports={renewalInvoiceDate:"renewalInvoiceDate_ff918e"}},3474:function(e,t,n){e.exports={title:"title_b3a5c2",disabled:"disabled_b3a5c2",customizationSection:"customizationSection_b3a5c2",hideDivider:"hideDivider_b3a5c2",withDivider:"withDivider_b3a5c2",showBorder:"showBorder_b3a5c2",customizationSectionBackground:"customizationSectionBackground_b3a5c2",sectionDescription:"sectionDescription_b3a5c2",errorMessage:"errorMessage_b3a5c2",customizationSectionBorder:"customizationSectionBorder_b3a5c2"}},770771:function(e,t,n){e.exports={container:"container_bb37e1",soundIcon:"soundIcon_bb37e1",textSelected:"textSelected_bb37e1",sound:"sound_bb37e1",text:"text_bb37e1",customGiftHeader:"customGiftHeader_bb37e1",searchAndSound:"searchAndSound_bb37e1"}},286290:function(e,t,n){e.exports={spacer:"spacer_f89ba0",input:"input_f89ba0"}},308252:function(e,t,n){e.exports={pageActions:"pageActions_cb56ee",pageButtonPrev:"pageButtonPrev_cb56ee",pageButtonNext:"pageButtonNext_cb56ee",disabled:"disabled_cb56ee",pageButtonIcon:"pageButtonIcon_cb56ee",pageIndicator:"pageIndicator_cb56ee"}},704833:function(e,t,n){e.exports={tier2Animation:"tier2Animation_e147f3",panningAnimation:"panningAnimation_e147f3",tier2Background:"tier2Background_e147f3 panningAnimationInner_e147f3",tier2Foreground:"tier2Foreground_e147f3 panningAnimationInner_e147f3",guildWrapper:"guildWrapper_e147f3",guildBackground:"guildBackground_e147f3",guildStar:"guildStar_e147f3",sequencedAnimation:"sequencedAnimation_e147f3"}}}]);
//# sourceMappingURL=3746.f618f5ebba8dda5b26f7.js.map