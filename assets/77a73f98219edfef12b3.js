"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["97458"],{796111:function(e,t,n){n.d(t,{P:function(){return i},i:function(){return o}});let s=(0,n(818083).B)({id:"2024-06_quest_inline_console_connection",kind:"user",label:"Quest Inline Console Connection Experiment",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Simplified console connection flow",config:{enabled:!1}},{id:1,label:"Inline console connection flow",config:{enabled:!0}}]}),o=e=>{let{location:t,autoTrackExposure:n=!1}=e;return s.getCurrentConfig({location:t},{autoTrackExposure:n}).enabled},i=e=>{let{location:t,autoTrackExposure:n=!1}=e,{enabled:o}=s.useExperiment({location:t},{autoTrackExposure:n});return o}},524824:function(e,t,n){n.d(t,{r:function(){return a}});var s=n(358085),o=n(918701),i=n(46140);function a(e){var t;let n=(null===(t=e.userStatus)||void 0===t?void 0:t.completedAt)!=null,a=(0,o.zK)(e,i.S7.IN_HOUSE_CONSOLE_QUEST),l=(0,o.zK)(e,i.S7.MOBILE_CONSOLE_QUEST);return(0,s.isWeb)()&&!n&&!a&&!l}},685613:function(e,t,n){n.d(t,{f:function(){return o}});var s,o,i=n(735250);n(470079);var a=n(120356),l=n.n(a),r=n(780384),u=n(918701),c=n(78826),d=n(981631),C=n(131250);(s=o||(o={}))[s.SMALL=24]="SMALL",s[s.MEDIUM=32]="MEDIUM";t.Z=function(e){let{className:t,gameTileSize:n=24,quest:s,theme:o=d.BRd.DARK,withGameTile:a=!0}=e,m=(0,r.wj)(o)?d.BRd.DARK:d.BRd.LIGHT;return(0,i.jsxs)("div",{className:l()(C.partnerBranding,t),children:[a&&(0,i.jsx)(c.Fl,{id:"QuestPartnerBranding_gameTile",children:e=>(0,i.jsx)("img",{ref:e,className:C.partnerBrandingGameTile,alt:"",src:(0,u.uo)(s,m),style:{borderRadius:function(e){switch(e){case 24:return 3;case 32:return 4}}(n),width:n,height:n}})}),(0,i.jsx)(c.Fl,{id:"QuestPartnerBranding_gameLogotype",children:e=>(0,i.jsx)("img",{ref:e,className:C.partnerBrandingLogotype,alt:s.config.messages.gameTitle,src:(0,u.Gs)(s,m)})})]})}},340100:function(e,t,n){var s=n(735250);n(470079);var o=n(120356),i=n.n(o),a=n(442837),l=n(692547),r=n(481060),u=n(706454),c=n(930153),d=n(113434),C=n(524824),m=n(330039),E=n(46140),p=n(567345);t.Z=function(e){let{className:t,color:n=l.Z.colors.WHITE,quest:o,isInventory:x}=e,_=(0,a.e7)([u.default],()=>u.default.locale),{percentComplete:T}=(0,d.Rf)({quest:o,location:E.dr.QUEST_PROGRESS_BAR}),q=100*T,S=(0,C.r)(o);return S&&!x?(0,s.jsx)(m.Z,{}):(0,s.jsxs)("div",{className:i()(p.wrapper,t),style:{color:n.css},children:[(0,s.jsxs)("div",{className:p.percentCompleteWrapper,children:[(0,s.jsx)(r.Text,{variant:"text-xs/semibold",className:p.percentCompleteLabel,color:"none",children:(0,c.T3)(_,T,{roundingMode:"floor"})}),(0,s.jsx)("div",{className:p.percentCompleteLabelOffset,style:{width:"".concat(100-q,"%")}})]}),(0,s.jsx)("div",{className:p.progressBar,role:"progressbar","aria-valuenow":q,children:(0,s.jsx)("div",{className:p.progressBarFill,style:{width:"".concat(q,"%")}})}),S&&(0,s.jsx)(m.Z,{isInventory:x})]})}},611855:function(e,t,n){var s=n(735250);n(470079);var o=n(120356),i=n.n(o),a=n(481060),l=n(689938),r=n(256129);t.Z=function(e){let{className:t,color:n="header-primary",textOpacity:o=.9,bgOpacity:u=.4}=e;return(0,s.jsxs)(a.Text,{variant:"text-xxs/medium",color:n,className:i()(r.promotedTag,t),children:[(0,s.jsx)("span",{className:r.promotedTagBackground,style:{opacity:u}}),(0,s.jsx)("span",{style:{opacity:o},children:l.Z.Messages.QUESTS_PROMOTED})]})}},670638:function(e,t,n){n.d(t,{r:function(){return f}});var s=n(735250),o=n(470079),i=n(442837),a=n(481060),l=n(239091),r=n(230711),u=n(479531),c=n(390322),d=n(617136),C=n(272008),m=n(113434),E=n(569984),p=n(918701),x=n(341907),_=n(46140),T=n(981631),q=n(231338),S=n(689938);function h(e){var t;let n=(0,i.e7)([E.Z],()=>E.Z.questDeliveryOverride,[]),c=(0,p.GN)(e.questContent),h=(0,p.zK)(e.quest,_.S7.IN_HOUSE_CONSOLE_QUEST),{handleComplete:f,handleResetDismissibilityClick:N,handleResetStatusClick:j,handleOverrideDeliveryClick:M}=(0,m.kJ)(e.quest.id),I=o.useCallback(()=>{(0,p.FE)(e.quest,{content:e.questContent,ctaContent:d.jZ.CONTEXT_MENU_OPEN_GAME_LINK})},[e.quest,e.questContent]),g=o.useCallback(()=>{(0,p.f2)(e.quest.id,{content:e.questContent,position:e.questContentPosition,ctaContent:d.jZ.CONTEXT_MENU_COPY_LINK})},[e.quest,e.questContent,e.questContentPosition]),b=e=>(0,a.showToast)((0,a.createToast)(new u.Z(e,e.status).message,a.ToastType.FAILURE));return(0,s.jsxs)(a.Menu,{variant:"fixed",onSelect:()=>{null!=e.onSelect?e.onSelect():(0,l.Zy)()},navId:"quests-entry","aria-label":S.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:null!==(t=null==e?void 0:e.onClose)&&void 0!==t?t:q.dG,children:[(0,s.jsxs)(a.MenuGroup,{children:[!1===h&&(0,s.jsx)(a.MenuItem,{id:"play-game",label:S.Z.Messages.QUESTS_GET_THIS_GAME,action:I,icon:a.LinkExternalMediumIcon}),!0===e.showShareLink&&(0,s.jsx)(a.MenuItem,{id:"share-link",label:S.Z.Messages.COPY_LINK,action:g,icon:a.CopyIcon})]},"major-actions"),(0,s.jsxs)(a.MenuGroup,{children:[!e.hideLearnMore&&(0,s.jsx)(a.MenuItem,{id:"learn-more",label:S.Z.Messages.QUESTS_LEARN_MORE_V2,action:()=>{(0,d._3)({questId:e.quest.id,questContent:e.questContent,questContentPosition:e.questContentPosition,questContentCTA:d.jZ.CONTEXT_MENU_LEARN_MORE}),r.Z.open(T.oAB.INVENTORY)}}),e.shouldShowDisclosure&&(0,s.jsx)(a.MenuItem,{id:"display-disclosure",label:S.Z.Messages.QUESTS_DISCLOSURE_LABEL,action:()=>{(0,x.az)(e.quest,{content:e.questContent,position:e.questContentPosition,ctaContent:d.jZ.CONTEXT_MENU_OPEN_DISCLOSURE})}}),c&&(0,s.jsx)(a.MenuItem,{id:"hide-entrypoint",label:S.Z.Messages.QUESTS_HIDE_THIS,action:()=>{(0,d._3)({questId:e.quest.id,questContent:e.questContent,questContentPosition:e.questContentPosition,questContentCTA:d.jZ.CONTEXT_MENU_HIDE_CONTENT}),(0,p.GN)(e.questContent)&&(0,C.gl)(e.quest.id,e.questContent)},subtext:S.Z.Messages.QUESTS_FIND_QUEST})]},"minor-actions"),e.quest.preview&&(0,s.jsxs)(a.MenuGroup,{label:"Preview Controls",children:[(0,s.jsx)(a.MenuCheckboxItem,{id:"delivery",label:"Show in Quest Bar",checked:(null==n?void 0:n.id)===e.quest.id,action:M}),(0,s.jsx)(a.MenuItem,{id:"dismiss",label:"Reset Dismissibility",action:N}),(0,s.jsx)(a.MenuItem,{id:"enrollment",label:"Reset Quest",action:j}),(0,s.jsx)(a.MenuItem,{id:"complete",label:"Complete Quest",action:f}),(0,p.$J)(e.quest)&&(0,s.jsxs)(a.MenuItem,{id:"console",label:"Console Heartbeat",children:[(0,s.jsx)(a.MenuItem,{disabled:!0,id:"status",label:"Status: ".concat((0,p.Bz)(e.quest)?"alive":"dead")}),(0,s.jsx)(a.MenuItem,{id:"start",label:"Start heartbeat (cheatmode)",action:()=>(0,C.CS)(e.quest.id,!0).catch(b)}),(0,s.jsx)(a.MenuItem,{id:"stop",label:"Stop heartbeat",action:()=>(0,C.is)(e.quest.id).catch(b)})]})]},"preview-controls")]})}function f(e){let{children:t,onOpen:n,onClose:i,preventIdle:l,quest:r,questContent:u,questContentPosition:C,...m}=e,E=o.useCallback(()=>{(0,d._3)({questId:r.id,questContent:u,questContentCTA:d.jZ.OPEN_CONTEXT_MENU,questContentPosition:C}),null!=n&&n()},[n,r.id,u,C]);return(0,s.jsx)(a.Popout,{onRequestOpen:E,onRequestClose:i,renderPopout:e=>{let{closePopout:t}=e;return l?(0,s.jsx)(c.Z,{children:(0,s.jsx)(h,{...m,quest:r,questContent:u,questContentPosition:C,onClose:t})}):(0,s.jsx)(h,{...m,quest:r,questContent:u,questContentPosition:C,onClose:t})},animation:a.Popout.Animation.NONE,children:e=>t(e)})}},330039:function(e,t,n){var s=n(735250),o=n(470079),i=n(481060),a=n(377171),l=n(689938),r=n(307995);t.Z=o.forwardRef(function(e,t){let{isInventory:n,style:o}=e;return(0,s.jsxs)("div",{ref:t,className:r.desktopTooltip,style:{marginTop:n?8:0,...o},children:[(0,s.jsx)(i.CircleInformationIcon,{size:"custom",className:r.infoIcon,height:n?16:12,width:n?16:12,color:n?a.Z.TEXT_MUTED:a.Z.WHITE}),(0,s.jsx)(i.Text,{color:n?"text-muted":"always-white",variant:n?"text-xs/normal":"text-xxs/normal",children:l.Z.Messages.QUESTS_PROGRESS_WEB_TIP})]})})},390322:function(e,t,n){n.d(t,{Z:function(){return a}});var s=n(735250),o=n(470079),i=n(618158);function a(e){let{children:t}=e,{preventIdle:n,allowIdle:a}=(0,i.Y)("popup");return o.useEffect(()=>(n(),()=>a()),[a,n]),(0,s.jsx)(s.Fragment,{children:t})}}}]);
//# sourceMappingURL=77a73f98219edfef12b3.js.map