"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["37220"],{592180:function(e,n,t){t.d(n,{a:function(){return i}});function i(e){return null!=e.interactionMetadata}},112554:function(e,n,t){t.d(n,{K:function(){return l},b:function(){return o}});var i=t(399606),a=t(375954),r=t(163268);let l=(e,n,t)=>{var l,o;let u=(0,i.e7)([a.Z],()=>a.Z.getMessage(e,n));if(null==u)return[];let s=void 0!==t?e=>e.url===t:e=>(0,r.KP)({type:r.lJ.Attachment,media:e},(0,r.HH)(u));return null!==(o=null==u?void 0:null===(l=u.attachments)||void 0===l?void 0:l.filter(s))&&void 0!==o?o:[]},o=(e,n,t)=>{var l,o;let u=(0,i.e7)([a.Z],()=>a.Z.getMessage(e,n));if(null==u)return[];let s=void 0!==t?e=>e.id===t:e=>(0,r.KP)({type:r.lJ.Embed,media:e},(0,r.HH)(u));return null!==(o=null==u?void 0:null===(l=u.embeds)||void 0===l?void 0:l.filter(s))&&void 0!==o?o:[]}},788679:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var i=t(735250);t(470079);var a=t(481060),r=t(522664),l=t(651530),o=t(163268),u=t(668058),s=t(112554),c=t(160877),d=t(689938);function E(e){let{channelId:n,messageId:t,mediaItemUrl:E,embedId:f,transitionState:I,onClose:M}=e,g=(0,l.yh)(),m=(0,s.K)(n,t,E),Z=(0,s.b)(n,t,f),{reportFalsePositive:_,isReportFalsePositiveLoading:v}=(0,u.$)({onSuccess:()=>(0,c.s)(M),onError:()=>{(0,a.showToast)((0,a.createToast)(d.Z.Messages.ERROR_GENERIC_TITLE,a.ToastType.FAILURE))},report:()=>{(0,r.Uj)(n,t,m.map(e=>e.id),Z.map(e=>e.id))}});return!(g&&(m.length>0||Z.length>0))&&M(),(0,i.jsx)(c.$,{messageId:t,channelId:n,isReportFalsePositiveLoading:v,analyticsContext:o.UU.EXPLICIT_MEDIA_OBSCURED_FALSE_POSITIVE_FLOW,onConfirmPress:_,attachmentPreview:1===m.length&&0===Z.length?m[0]:void 0,embedPreview:1===Z.length&&0===m.length?Z[0]:void 0,transitionState:I,onClose:M})}},111618:function(e,n,t){var i,a,r,l,o=t(442837),u=t(570140);let s={};class c extends(l=o.ZP.Store){getOptions(e){return s[e]}}r="SendMessageOptionsStore",(a="displayName")in(i=c)?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,n.Z=new c(u.Z,{MESSAGE_CREATE:function(e){let{message:n,sendMessageOptions:t}=e;null!=t&&(s[n.id]=t),null!=n.nonce&&n.nonce in s&&delete s[n.nonce]}})},151007:function(e,n,t){t.d(n,{Z:function(){return l}});var i=t(665906),a=t(901461),r=t(981631);function l(e,n,t){return!n.isSystemDM()&&!(0,a.Z)(e)&&(t||n.isPrivate())&&(0,i.RG)(n)&&n.type!==r.d4z.GUILD_VOICE&&n.type!==r.d4z.GUILD_STAGE_VOICE}},730954:function(e,n,t){t.d(n,{Z:function(){return r}}),t(789020);var i=t(904245),a=t(667204);function r(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(i.Z.deleteMessage(e.id,n.id,!0),n.isCommandType()){null!=n.interactionData&&null!=r.applicationId&&(0,a.d)(n,e,r.applicationId);return}let{content:l,tts:o,messageReference:u,flags:s,nonce:c}=n;i.Z.sendMessage(e.id,{content:l,tts:o,invalidEmojis:[],validNonShortcutEmojis:[]},void 0,{nonce:c,flags:s,messageReference:null!=u?u:void 0,...r})}},996861:function(e,n,t){t.d(n,{$Z:function(){return O},B8:function(){return N},F4:function(){return h},HH:function(){return P},Hd:function(){return R},W1:function(){return y},Xl:function(){return C},fB:function(){return p},gK:function(){return b},l9:function(){return D},mG:function(){return j},qe:function(){return L},rY:function(){return x},ts:function(){return G},zW:function(){return T}}),t(735250),t(470079),t(481060);var i=t(332148),a=t(904245),r=t(257559),l=t(143740),o=t(912332),u=t(434404);t(726521);var s=t(822893),c=t(623292),d=t(488131),E=t(314897),f=t(592125),I=t(626135),M=t(934415),g=t(572004),m=t(585483),Z=t(709054),_=t(111618),v=t(50284),S=t(730954),A=t(981631);function T(e){let n=e.getGuildId();null!=n&&u.Z.open(n,A.pNK.OVERVIEW)}function h(e,n,t){(0,g.JG)(t.shiftKey?"".concat(n.channel_id,"-").concat(n.id):n.id)}function p(e,n){I.default.track(A.rMx.MESSAGE_LINK_COPIED,{message_id:n.id,channel:n.channel_id}),(0,g.JG)((0,M.wR)(e.guild_id,e.id,n.id))}function O(e,n,t){n.state===A.yb.SEND_FAILED||t.shiftKey?a.Z.deleteMessage(e.id,n.id,n.state===A.yb.SEND_FAILED):r.Z.confirmDelete(e,n)}function R(e,n){a.Z.startEditMessage(e.id,n.id,n.content)}function N(e,n){(0,v.Z)(e.id,n.id)}function x(e,n,t){if(!1===n.pinned){t.shiftKey?i.Z.pinMessage(e,n.id):r.Z.confirmPin(e,n);return}t.shiftKey?i.Z.unpinMessage(e,n.id):r.Z.confirmUnpin(e,n)}function C(e,n){(0,l.Z)(e.id,n.id)}function j(e,n){(0,S.Z)(e,n,void 0,_.Z.getOptions(n.id))}function P(e,n,t){let i=e.isPrivate(),a=n.author.id===E.default.getId();(0,c.fE)({channel:e,message:n,shouldMention:!t.shiftKey&&!a,showMentionToggle:!i&&!a}),m.S.dispatchToLastSubscribed(A.CkL.TEXTAREA_FOCUS)}function b(e,n){(0,d.R6)(e,n,"Message")}function L(e,n){let t=f.Z.getChannel(Z.default.castMessageIdAsChannelId(n.id));null!=t&&(0,d.ok)(t)}function y(e,n){(0,s.BW)(n)}function D(e,n){(0,s.Kp)(n.id)}function G(e,n){(0,o.l8)({channelId:e.id,messageId:n.id,source:"message-actions"})}},225138:function(e,n,t){t.r(n),t.d(n,{default:function(){return w},useMessageMenu:function(){return F}});var i=t(735250);t(470079);var a=t(374470),r=t(481060),l=t(239091),o=t(911969),u=t(299206),s=t(26737),c=t(29264),d=t(905041),E=t(89013),f=t(988500),I=t(570870),M=t(786095),g=t(667922),m=t(941389),Z=t(449751),_=t(749339),v=t(601184),S=t(6148),A=t(519110),T=t(759875),h=t(168405),p=t(536639),O=t(720904),R=t(88791),N=t(235047),x=t(385302),C=t(873699),j=t(134323),P=t(429260),b=t(1626),L=t(279329),y=t(627938),D=t(512303),G=t(481300),U=t(689938);function w(e){var n,t;let i,r,o,u,{channel:s,message:c,target:d,mediaItem:E,shouldHideMediaOptions:f,onSelect:I,onHeightUpdate:M}=e,g=d,m=d.getAttribute("data-type"),Z=d.getAttribute("data-id"),_=d.getAttribute("data-name");if(null!=E)r=i=o=E.url;else for(;(0,a.k)(g);)(0,a.k)(g,HTMLImageElement)&&null!=g.src&&(r=g.src),(0,a.k)(g,HTMLAnchorElement)&&null!=g.href&&(i=g.href,u=g.textContent,null==r&&"img"===g.getAttribute("data-role")&&(r=i,g.hasAttribute("data-safe-src")&&""!==g.getAttribute("data-safe-src")&&(o=g.getAttribute("data-safe-src")))),g=g.parentNode;return F({message:c,channel:s,mediaItem:E,textSelection:null!==(t=null===(n=document.getSelection())||void 0===n?void 0:n.toString())&&void 0!==t?t:"",favoriteableType:m,favoriteableId:Z,favoriteableName:_,itemHref:i,itemSrc:r,itemSafeSrc:o,itemTextContent:u,canReport:!0,onHeightUpdate:M,onSelect:I,onClose:l.Zy,navId:"message",ariaLabel:U.Z.Messages.MESSAGE_ACTIONS_MENU_LABEL,shouldHideMediaOptions:f})}function F(e){let{message:n,channel:t,mediaItem:a,textSelection:l,favoriteableType:w,favoriteableId:F,favoriteableName:k,itemHref:K,itemSrc:V,itemSafeSrc:H,itemTextContent:X,canReport:z,onHeightUpdate:Y,onSelect:B,onClose:W,navId:q,ariaLabel:J,shouldHideMediaOptions:$=!1}=e,Q=(0,s.Z)(l),ee=(0,E.Z)(l),en=(0,O.Z)(n,t),et=(0,g.Z)(n,t),ei=(0,S.Z)(n,t),ea=(0,p.Z)(n,t),er=(0,A.Z)({type:w,id:F,name:k}),el=(0,b.Z)(n,t),eo=(0,h.Z)(n,t),eu=(0,R.Z)(n),es=(0,m.Z)(n,t),ec=(0,Z.Z)(n,t),ed=(0,x.Z)(n,t),eE=(0,C.Z)(n,t),ef=(0,v.Z)(n,t),eI=(0,P.Z)(n),eM=(0,L.Z)(n,t),eg=(0,d.Z)(null!=K?K:V,X,n,{shouldHideMediaOptions:$}),em=(0,c.Z)(H,n,{shouldHideMediaOptions:$}),eZ=(0,G.Z)(n,a),e_=(0,u.Z)({id:n.id,label:U.Z.Messages.COPY_ID_MESSAGE,shiftId:"".concat(n.channel_id,"-").concat(n.id)}),ev=(0,j.Z)(n,t),eS=(0,T.Z)(n,t),eA=(0,y.Z)(n,t),eT=(0,M.Z)(l,t.getGuildId()),eh=(0,N.Z)(n),ep=(0,_.Z)(n),eO=(0,I.Z)({commandType:o.yU.MESSAGE,commandTargetId:n.id,channel:t,guildId:void 0,onHeightUpdate:Y}),eR=(0,D.Z)(n),eN=(0,f.Z)(n);return(0,i.jsxs)(r.Menu,{navId:q,onClose:W,"aria-label":J,onSelect:B,children:[(0,i.jsx)(r.MenuGroup,{children:Q}),(0,i.jsx)(r.MenuGroup,{children:ee}),(0,i.jsxs)(r.MenuGroup,{children:[""===l?en:null,et,eu,ei,ea,er,ev,eS,eA,ep,eO,el,eo,eh,es,ec,eM,eN,eE,ed,eR,ef,z&&eI]}),null!=eT&&(0,i.jsx)(r.MenuGroup,{children:eT}),(0,i.jsxs)(r.MenuGroup,{children:[em,eZ]}),(0,i.jsx)(r.MenuGroup,{children:eg}),(0,i.jsx)(r.MenuGroup,{children:e_})]})}},786095:function(e,n,t){t.d(n,{Z:function(){return v}}),t(47120),t(724458);var i=t(735250),a=t(470079),r=t(481060),l=t(239091),o=t(236413),u=t(727072),s=t(85960),c=t(676317),d=t(65912),E=t(556012),f=t(572456),I=t(434404),M=t(981631),g=t(273504),m=t(689938),Z=t(780781);let _=g.fX.KEYWORD;function v(e,n){let{perGuildMaxCount:t}=s.I6[_],{isLoading:v,saveRule:S,errorMessage:A}=(0,d.w)(),{createNewEditingRule:T}=(0,d.V)(),[h,p]=a.useState(!1),[O,R]=(0,u.I2)(n),{rulesByTriggerType:N,updateRule:x}=(0,u.pH)(n),C=a.useMemo(()=>{var e;return null!==(e=N[_])&&void 0!==e?e:[]},[N]),j=0===C.length,P=t>C.length&&!j;if(!a.useMemo(()=>(0,c.ze)(n),[n])||null==e||0===e.length||null==n)return null;let b=e.split(" "),L=b.length;try{(0,o.km)(b,g.RH)}catch(e){return null}let y=()=>{if(null!=n)(0,l.Zy)(),I.Z.open(n,M.pNK.GUILD_AUTOMOD),setTimeout(()=>{T(n,_,{triggerMetadata:{keywordFilter:[e],regexPatterns:[],allowList:[]}})},400)},D=async n=>{var t,i;if((0,l.Zy)(),!await (0,f.XN)(n.name,e))return;let a={...n,triggerMetadata:{...n.triggerMetadata,keywordFilter:[...null!==(i=null===(t=n.triggerMetadata)||void 0===t?void 0:t.keywordFilter)&&void 0!==i?i:[],e]}};await S(a,C),x(a),null!=A?(0,r.showToast)((0,r.createToast)(m.Z.Messages.GUILD_AUTOMOD_ADD_SELECTION_TOAST_ERROR,r.ToastType.FAILURE)):(0,r.showToast)((0,r.createToast)(m.Z.Messages.GUILD_AUTOMOD_ADD_SELECTION_TOAST_SUCCESS,r.ToastType.SUCCESS))},G=(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.MenuItem,{id:"automod-rules-loading",label:m.Z.Messages.LOADING})});return!O&&(G=(0,i.jsxs)(i.Fragment,{children:[j&&(0,i.jsx)(r.MenuItem,{id:"add-first-rule",label:m.Z.Messages.GUILD_SETTINGS_ACTION_FILTER_AUTOMOD_RULE_CREATE,action:y,disabled:v}),C.map(e=>{let n=(0,s.V9)(_).reduce((n,t)=>{let i=e.actions.find(e=>{let{type:n}=e;return t===n});if(null==i)return n;let a=(0,E.c)(t,i);return n+=", ".concat(null==a?void 0:a.headerText)},"");return(0,i.jsx)(r.MenuRadioItem,{id:e.id,label:e.name,subtext:(0,i.jsx)(r.Text,{color:"text-muted",className:Z.actionTextHeader,variant:"text-xs/normal",children:n.slice(2)}),group:"automod-rule-selection",checked:!1,disabled:v,action:()=>D(e)},e.id)}),P&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.MenuSeparator,{}),(0,i.jsx)(r.MenuItem,{id:"add-another-rule",label:m.Z.Messages.GUILD_AUTOMOD_ADD_NEW_RULE,action:y,disabled:v})]})]})),(0,i.jsx)(r.MenuItem,{id:"guild-automod-add-selection",label:m.Z.Messages.GUILD_AUTOMOD_ADD_SELECTION.format({keywordCount:L}),onFocus:()=>{if(!h)p(!0),R()},children:G})}},667922:function(e,n,t){t.d(n,{Z:function(){return _}});var i=t(735250),a=t(470079),r=t(442837),l=t(481060),o=t(543241),u=t(222677),s=t(995774),c=t(665906),d=t(695346),E=t(496675),f=t(768581),I=t(585483),M=t(176354),g=t(981631),m=t(185923),Z=t(689938);function _(e,n){let{reducedMotion:t}=a.useContext(l.AccessibilityPreferencesContext),_=(0,c.$R)(n),v=(0,r.e7)([E.Z],()=>(n.isPrivate()||E.Z.can(g.Plq.ADD_REACTIONS,n))&&_,[n,_]),S=(0,o.MZ)(n.getGuildId());if(!d.nc.getSetting()||!v||e.type===g.uaV.GUILD_INVITE_REMINDER)return null;let A=S.filter(e=>!M.ZP.isEmojiFilteredOrLocked({emoji:e,channel:n,intention:m.Hz.REACTION})).slice(0,12).map((a,r)=>{var o,c;return(0,i.jsx)(l.MenuItem,{color:"default",id:null!==(c=null!==(o=a.id)&&void 0!==o?o:a.optionallyDiverseSequence)&&void 0!==c?c:a.name,label:":".concat(a.name,":"),imageUrl:e=>{var n;let{isFocused:i}=e;return null!=a.id?f.ZP.getEmojiURL({id:a.id,animated:a.animated&&(!t.enabled||i),size:18}):M.ZP.getURL(null!==(n=a.optionallyDiverseSequence)&&void 0!==n?n:"")},action:()=>{(0,u.rU)(n.id,e.id,(0,s.g1)(a),void 0)},dontCloseOnActionIfHoldingShiftKey:!0},r)});return(0,i.jsx)(l.MenuItem,{id:"add-reaction",label:Z.Z.Messages.ADD_REACTION,action:()=>{I.S.dispatchKeyed(g.LPv.TOGGLE_REACTION_POPOUT,e.id,{emojiPicker:!0})},color:"default",children:(0,i.jsxs)(i.Fragment,{children:[A,(0,i.jsx)(l.MenuSeparator,{}),(0,i.jsx)(l.MenuItem,{color:"default",id:"other-reactions",label:Z.Z.Messages.VIEW_MORE,icon:l.ReactionIcon,action:()=>{I.S.dispatchKeyed(g.LPv.TOGGLE_REACTION_POPOUT,e.id,{emojiPicker:!0})}})]})})}},941389:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(735250);t(470079);var a=t(481060),r=t(496675),l=t(996861),o=t(981631),u=t(689938);function s(e,n){let t=n.getGuildId();return null!=t&&(e.type===o.uaV.USER_JOIN||e.type===o.uaV.GUILD_INVITE_REMINDER)&&r.Z.canWithPartialContext(o.Plq.MANAGE_GUILD,{guildId:t})?(0,i.jsx)(a.MenuItem,{id:"configure",label:u.Z.Messages.CONFIGURE,icon:a.CircleQuestionIcon,action:()=>(0,l.zW)(n)}):null}},749339:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(735250);t(470079);var a=t(481060),r=t(39154),l=t(572004),o=t(689938);function u(e){return l.wS?(0,i.jsx)(a.MenuItem,{id:"copy-text",label:o.Z.Messages.COPY_TEXT,icon:a.CopyIcon,action:()=>{e=(0,r.Z)(e),(0,l.JG)(e.content)}}):null}},6148:function(e,n,t){t.d(n,{Z:function(){return d}});var i=t(735250);t(470079);var a=t(442837),r=t(481060),l=t(904245),o=t(665906),u=t(314897),s=t(418476),c=t(689938);function d(e,n){let t=(0,a.e7)([u.default],()=>u.default.getId()),d=(0,o.$R)(n),E=(0,o.Gu)(n);return(0,s.Z)(e,t)&&d&&!E?(0,i.jsx)(r.MenuItem,{id:"edit",label:c.Z.Messages.EDIT_MESSAGE,action:()=>l.Z.startEditMessage(n.id,e.id,e.content),icon:r.PencilIcon}):null}},519110:function(e,n,t){t.d(n,{Z:function(){return S}}),t(757143);var i=t(735250),a=t(470079),r=t(442837),l=t(481060),o=t(80932),u=t(2052),s=t(543241),c=t(339085),d=t(633302),E=t(691251),f=t(268350),I=t(217590),M=t(453070),g=t(926491),m=t(378233),Z=t(981631),_=t(689938);function v(e){return d.ZP.getByName(e.replace(/(^:|:$)/g,""))}function S(e){let{type:n,id:t,name:S,isInExpressionPicker:A=!1}=e,{location:T}=(0,u.O)(),h=a.useMemo(()=>({...T,section:A?Z.jXE.EXPRESSION_PICKER:Z.jXE.CONTEXT_MENU}),[T,A]),p=(0,M.Go)(),O=(0,r.e7)([g.Z],()=>n===E.S.STICKER&&null!=t?g.Z.getStickerById(t):null),R=null!=O&&p.includes(O.id),N=(0,r.e7)([c.Z],()=>{if(n===E.S.EMOJI){if(null!=t)return c.Z.getDisambiguatedEmojiContext().getById(t);if(null!=S){var e;return null!==(e=v(S))&&void 0!==e?e:v(d.ZP.convertSurrogateToName(S))}}}),x=(0,s.C1)(null,N);if(null!=O&&n===E.S.STICKER)return(0,m.J8)(O)&&!(0,m.V9)(O)?null:R?(0,i.jsx)(l.MenuItem,{id:"unfavorite",action:()=>(0,f.hW)(O.id),label:_.Z.Messages.UNFAVORITE_ITEM}):(0,i.jsx)(l.MenuItem,{id:"favorite",action:()=>{(0,I.cQ)({sticker:O,location:{...h,object:Z.qAy.STICKER}}),(0,f.SA)(null==O?void 0:O.id)},label:_.Z.Messages.FAVORITE_ITEM});if(null!=N&&n===E.S.EMOJI)return x?(0,i.jsx)(l.MenuItem,{id:"unfavorite",action:()=>(0,o.Xe)(N),label:_.Z.Messages.UNFAVORITE_ITEM}):(0,i.jsx)(l.MenuItem,{id:"favorite",action:()=>{(0,s.J1)({emoji:N,location:{...h,object:Z.qAy.EMOJI}}),(0,o.$K)(N)},label:_.Z.Messages.FAVORITE_ITEM})}},759875:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(735250);t(470079);var a=t(481060),r=t(346610),l=t(868643),o=t(996861),u=t(689938);function s(e,n){let t=(0,l.a)(e),{canForwardMessages:s}=r.w.useExperiment({location:"MessageActionsMenu"},{autoTrackExposure:!1});return t&&s?(0,i.jsx)(a.MenuItem,{id:"forward",label:u.Z.Messages.MESSAGE_ACTION_FORWARD,icon:a.ChatArrowRightIcon,action:()=>{(0,o.ts)(n,e)}}):null}},536639:function(e,n,t){t.d(n,{Z:function(){return E}});var i=t(735250);t(470079);var a=t(442837),r=t(481060),l=t(332148),o=t(257559),u=t(496675),s=t(151007),c=t(981631),d=t(689938);function E(e,n){let t=(0,a.e7)([u.Z],()=>u.Z.can(c.Plq.MANAGE_MESSAGES,n),[n]);return e.state!==c.yb.SEND_FAILED&&(0,s.Z)(e,n,t)?!1===e.pinned?(0,i.jsx)(r.MenuItem,{id:"pin",action:function(t){t.shiftKey?l.Z.pinMessage(n,e.id):o.Z.confirmPin(n,e)},label:d.Z.Messages.PIN_MESSAGE,icon:r.PinIcon}):(0,i.jsx)(r.MenuItem,{id:"unpin",action:function(t){t.shiftKey?l.Z.unpinMessage(n,e.id):o.Z.confirmUnpin(n,e)},label:d.Z.Messages.UNPIN_MESSAGE,icon:r.PinIcon}):null}},720904:function(e,n,t){t.d(n,{Z:function(){return A}});var i=t(735250);t(470079);var a=t(120356),r=t.n(a),l=t(442837),o=t(481060),u=t(543241),s=t(222677),c=t(995774),d=t(665906),E=t(695346),f=t(496675),I=t(768581),M=t(176354),g=t(981631),m=t(185923),Z=t(689938),_=t(219005);let v=["slight_smile","frowning","smile","stuck_out_tongue","wink"];function S(e){var n;let{emoji:t,isFocused:a}=e,{animated:l,src:u,surrogates:s}=t;return null==u&&null!=t.id?u=I.ZP.getEmojiURL({id:t.id,animated:!!l,size:20}):null==u&&(u=M.ZP.getURL(s)),(0,i.jsx)(o.Tooltip,{text:t.allNamesString,hideOnClick:!0,spacing:16,forceOpen:a,children:e=>(0,i.jsx)("div",{"aria-label":Z.Z.Messages.ADD_REACTION_NAMED.format({emojiName:t.name}),className:r()(_.button,{[_.focused]:a}),...e,children:null==u||""===u.trim()?(0,i.jsx)("span",{className:r()("emoji","emoji-text",_.icon),...e,children:s}):(0,i.jsx)("img",{className:_.icon,src:u,alt:""})})},null!==(n=t.id)&&void 0!==n?n:t.name)}function A(e,n){let t=(0,u.MZ)(n.guild_id).filter(e=>{var t;return!(e.useSpriteSheet&&v.indexOf(null!==(t=e.uniqueName)&&void 0!==t?t:"")>=0)&&!M.ZP.isEmojiPremiumLocked({emoji:e,channel:n,intention:m.Hz.REACTION})});t.length>4&&(t.length=4);let a=E.nc.useSetting(),r=(0,d.$R)(n),I=(0,l.e7)([f.Z],()=>a&&r&&(n.isPrivate()||f.Z.can(g.Plq.ADD_REACTIONS,n)),[n,r,a]),Z=t=>{(0,s.rU)(n.id,e.id,(0,c.g1)(t),void 0)};return I&&t.length>0?(0,i.jsx)(o.MenuGroup,{className:_.wrapper,children:t.map((e,n)=>{var t;return(0,i.jsx)(o.MenuItem,{id:"quickreact-".concat(null!==(t=e.id)&&void 0!==t?t:n),render:n=>{let{isFocused:t}=n;return(0,i.jsx)(S,{emoji:e,isFocused:t})},action:()=>Z(e),dontCloseOnActionIfHoldingShiftKey:!0},n)})}):null}},88791:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(735250);t(470079);var a=t(481060),r=t(79390),l=t(689938);function o(e){return null==e.reactions||0===e.reactions.length||e.isPoll()&&!(0,r.eQ)(e)?null:(0,i.jsx)(a.MenuItem,{id:"reactions",label:l.Z.Messages.VIEW_REACTIONS,icon:a.ReactionIcon,action:()=>(0,a.openModalLazy)(async()=>{let{default:n}=await Promise.resolve().then(t.bind(t,785388));return t=>(0,i.jsx)(n,{...t,message:e})})})}},235047:function(e,n,t){t.d(n,{W:function(){return M},Z:function(){return I}});var i=t(735250);t(470079);var a=t(913527),r=t.n(a),l=t(442837),o=t(481060),u=t(822893),s=t(641051),c=t(329461),d=t(831267),E=t(448239),f=t(689938);function I(e){let{showReminders:n}=s.Z.useExperiment({location:"a65531_1"},{autoTrackExposure:!1}),t=(0,l.e7)([c.Z],()=>null!=c.Z.getMessageReminders().find(n=>n.messageId===e.id)),a=M(e,n=>(0,u.BW)(e,r()().add(n,"millisecond").toDate()));return n?(0,i.jsx)(o.MenuItem,{id:"mark-todo",label:t?f.Z.Messages.MESSAGE_REMINDERS_MARK_AS_DONE:f.Z.Messages.MESSAGE_REMINDERS_MARK_AS_TODO,icon:t?(0,o.makeIconCompat)(E.Z):void 0,action:()=>t?(0,u.Kp)(e.id):(0,u.BW)(e),children:t?null:a}):null}function M(e,n){return d.BS.map(e=>{let{duration:t,getLabel:a}=e;return(0,i.jsx)(o.MenuItem,{id:"mark-todo-".concat(t),label:a(),action:()=>n(t)},t)})}},385302:function(e,n,t){t.d(n,{Z:function(){return f}});var i=t(735250);t(470079);var a=t(442837),r=t(481060),l=t(668781),o=t(79390),u=t(222677),s=t(665906),c=t(496675),d=t(981631),E=t(689938);function f(e,n){let t=(0,s.$R)(n),f=(0,a.e7)([c.Z],()=>c.Z.can(d.Plq.MANAGE_MESSAGES,n)&&t,[n,t]);return!f||null==e.reactions||0===e.reactions.length||e.isPoll()&&!(0,o.eQ)(e)?null:(0,i.jsx)(r.MenuItem,{id:"remove-reactions",label:E.Z.Messages.REMOVE_ALL_REACTIONS,action:function(t){t.shiftKey?(0,u.wX)(n.id,e.id):l.Z.show({title:E.Z.Messages.REMOVE_ALL_REACTIONS_CONFIRM_TITLE,body:E.Z.Messages.REMOVE_ALL_REACTIONS_CONFIRM_BODY,confirmText:E.Z.Messages.YES_TEXT,cancelText:E.Z.Messages.NO_TEXT,onConfirm:()=>{(0,u.wX)(n.id,e.id)}})},color:"danger"})}},873699:function(e,n,t){t.d(n,{Z:function(){return g}}),t(724458),t(47120);var i=t(735250),a=t(470079),r=t(442837),l=t(481060),o=t(668781),u=t(79390),s=t(222677),c=t(665906),d=t(496675),E=t(768581),f=t(176354),I=t(981631),M=t(689938);function g(e,n){let{reducedMotion:t}=a.useContext(l.AccessibilityPreferencesContext),g=(0,c.$R)(n),m=(0,r.e7)([d.Z],()=>d.Z.can(I.Plq.MANAGE_MESSAGES,n)&&g,[n,g]),Z=e.reactions.reduce((e,n)=>{var t;return(null===(t=n.count_details)||void 0===t?void 0:t.vote)!=null||null!=e.find(e=>null!=e.id&&e.id===n.emoji.id||e.name===n.emoji.name)?e:[...e,n.emoji]},[]),_=(t,i)=>{t.shiftKey?(0,s.$E)(n.id,e.id,i):o.Z.show({title:M.Z.Messages.REMOVE_EMOJI_REACTIONS_CONFIRM_TITLE,body:M.Z.Messages.REMOVE_EMOJI_REACTIONS_CONFIRM_BODY,confirmText:M.Z.Messages.YES_TEXT,cancelText:M.Z.Messages.NO_TEXT,onConfirm:()=>{(0,s.$E)(n.id,e.id,i)}})};return!m||null==e.reactions||0===e.reactions.length||e.isPoll()&&!(0,u.eQ)(e)?null:(0,i.jsx)(l.MenuItem,{id:"remove-emoji-reactions",label:M.Z.Messages.REMOVE_EMOJI_REACTIONS,color:"danger",children:Z.map(e=>{var n,a;return(0,i.jsx)(l.MenuItem,{id:"remove-emoji-reactions-".concat(null!==(n=e.name)&&void 0!==n?n:e.id),label:null==e.id?e.name:":".concat(e.name,":"),action:n=>_(n,e),imageUrl:n=>{var i;let{isFocused:a}=n;return null!=e.id?E.ZP.getEmojiURL({id:e.id,animated:e.animated&&(!t.enabled||a),size:18}):f.ZP.getURL(null!==(i=e.name)&&void 0!==i?i:"")},dontCloseOnActionIfHoldingShiftKey:!0},null!==(a=e.name)&&void 0!==a?a:e.id)})})}},134323:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(735250);t(470079);var a=t(481060),r=t(280845),l=t(996861),o=t(689938);function u(e,n){return(0,r.U)(n,e)?(0,i.jsx)(a.MenuItem,{id:"reply",label:o.Z.Messages.MESSAGE_ACTION_REPLY,icon:a.ArrowAngleLeftUpIcon,action:t=>{(0,l.HH)(n,e,t)}}):null}},429260:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(735250);t(470079);var a=t(481060),r=t(726521),l=t(970257),o=t(689938);function u(e){return(0,l.a4)(e)?(0,i.jsx)(a.MenuItem,{id:"report",label:o.Z.Messages.REPORT_MESSAGE_MENU_OPTION,action:()=>(0,r.ak)(e,"web_message_context_menu"),icon:a.FlagIcon,color:"danger"}):null}},1626:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(735250);t(470079);var a=t(481060),r=t(111618),l=t(730954),o=t(981631),u=t(689938);function s(e,n){return e.state!==o.yb.SEND_FAILED?null:(0,i.jsx)(a.MenuItem,{id:"resend",label:u.Z.Messages.RESEND_MESSAGE,action:()=>(0,l.Z)(n,e,void 0,r.Z.getOptions(e.id))})}},279329:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(735250);t(470079);var a=t(442837),r=t(481060),l=t(196051),o=t(441729),u=t(689938);function s(e,n){let t=(0,a.e7)([o.Z],()=>o.Z.isSpeakingMessage(n.id,e.id),[n,e]);return""===e.content?null:(0,i.jsx)(r.MenuItem,{id:"tts",label:t?u.Z.Messages.STOP_SPEAKING_MESSAGE:u.Z.Messages.SPEAK_MESSAGE,icon:r.ChatSpeakIcon,action:()=>t?(0,l.NB)():(0,l.LA)(n,e)})}},627938:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(735250);t(470079);var a=t(481060),r=t(665906),l=t(996861),o=t(689938);function u(e,n){return(0,r.NE)(n,e)?(0,i.jsx)(a.MenuItem,{id:"thread",label:o.Z.Messages.CREATE_THREAD,icon:a.ThreadIcon,action:()=>{(0,l.gK)(n,e)}}):null}},512303:function(e,n,t){t.d(n,{Z:function(){return f}});var i=t(735250);t(470079);var a=t(373793),r=t(481060),l=t(700582),o=t(592180),u=t(430824),s=t(594174),c=t(346656),d=t(689938),E=t(890001);function f(e){var n,t,f;if(!(0,o.a)(e))return null;let I=null===(n=e.interactionMetadata)||void 0===n?void 0:n.authorizing_integration_owners[a.Y.USER_INSTALL],M=null===(t=e.interactionMetadata)||void 0===t?void 0:t.authorizing_integration_owners[a.Y.GUILD_INSTALL],g=s.default.getUser(I),m=u.Z.getGuild(M),Z=s.default.getUser(null===(f=e.interactionMetadata)||void 0===f?void 0:f.user.id),_=null;return null!=m?_=(0,i.jsx)(r.MenuItem,{className:E.interactionInfoMenuItem,disabled:!0,icon:()=>(0,i.jsx)(c.Z,{guild:m,size:c.Z.Sizes.MINI}),id:"integration-owner",label:m.name,showIconFirst:!0,subtext:d.Z.Messages.INTERACTION_RESPONSE_CONTEXT_INSTALLED_BY.format({application:e.author.username})}):null!=g&&(_=(0,i.jsx)(r.MenuItem,{className:E.interactionInfoMenuItem,disabled:!0,icon:()=>(0,i.jsx)(l.Z,{user:g,size:r.AvatarSizes.SIZE_20}),id:"integration-owner",label:g.username,showIconFirst:!0,subtext:d.Z.Messages.INTERACTION_RESPONSE_CONTEXT_INSTALLED_BY.format({application:e.author.username})})),(0,i.jsxs)(r.MenuItem,{id:"view-interaction-info",label:d.Z.Messages.VIEW_INTERACTION_INFO,children:[_,null!=Z?(0,i.jsx)(r.MenuItem,{className:E.interactionInfoMenuItem,disabled:!0,icon:()=>(0,i.jsx)(l.Z,{user:Z,size:r.AvatarSizes.SIZE_20}),id:"interaction-user",label:Z.username,showIconFirst:!0,subtext:d.Z.Messages.INTERACTION_RESPONSE_CONTEXT_TRIGGERED_BY}):null]})}},481300:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(735250);t(470079);var a=t(481060),r=t(163268),l=t(689938);function o(e,n){return null!=n&&(0,r.KP)({type:r.lJ.GenericMedia,media:n},(0,r.HH)(e))?(0,i.jsx)(a.MenuItem,{id:"report-image-false-positive",label:l.Z.Messages.OBSCURED_CONTENT_MARK_FALSE_POSITIVE,action:()=>{(0,a.openModalLazy)(async()=>{let{default:a}=await t(788679);return t=>(0,i.jsx)(a,{channelId:e.channel_id,messageId:e.id,mediaItemUrl:n.url,...t})})},icon:a.ImageWarningIcon},"report-image-false-positive"):null}},29264:function(e,n,t){t.d(n,{Z:function(){return h}}),t(47120);var i=t(735250);t(470079);var a=t(481060),r=t(668781),l=t(829883),o=t(976853),u=t(626135),s=t(358085),c=t(960048),d=t(591759),E=t(998502),f=t(36998),I=t(981631),M=t(689938);let g="https://media.discordapp.net",m=/^.*\.discordapp\.net$/,Z="cdn.discordapp.com",_="".concat(g,"/stickers"),v=new Set(["jpg","jpeg","png","webp","gif","tiff","bmp"]),S=new Set(["jpg","jpeg","png"]),A=e=>{var n,t,i,a;return null===(a=d.Z.toURLSafe(e))||void 0===a?void 0:null===(i=a.pathname)||void 0===i?void 0:null===(t=i.split("."))||void 0===t?void 0:null===(n=t.pop())||void 0===n?void 0:n.toLowerCase()};function T(e,n){r.Z.show({title:M.Z.Messages.ERROR,body:e}),c.Z.captureException(n)}function h(e,n,t){if((0,o.Z)(null==n?void 0:n.getChannelId())||(null==t?void 0:t.shouldHideMediaOptions)===!0||!s.isPlatformEmbedded||null==e||!function(e){let n=d.Z.toURLSafe(e);if(null==n)return!1;let t=A(e);return(m.test(n.hostname)||n.host===Z)&&!e.startsWith(_)&&!(0,l.zt)(e)&&null!=t&&v.has(t)}(e))return null;let r=function(e){let n=d.Z.toURLSafe(e);return null==n||n.host===Z?e:n.origin===g?(n.host=Z,n.searchParams.delete("size"),n.searchParams.delete("width"),n.searchParams.delete("height"),n.searchParams.delete("quality"),n.searchParams.delete("format"),n.toString()):(n.searchParams.delete("width"),n.searchParams.delete("height"),n.searchParams.set("quality","lossless"),n.toString())}(e),c=async()=>{try{await E.ZP.saveImage(r),u.default.track(I.rMx.CONTEXT_MENU_IMAGE_SAVED,{...(0,f.v)()})}catch(e){u.default.track(I.rMx.CONTEXT_MENU_IMAGE_SAVE_FAILED,{...(0,f.v)()}),T(M.Z.Messages.ERROR_SAVING_IMAGE,e)}},h=async()=>{try{await E.ZP.copyImage(r),u.default.track(I.rMx.CONTEXT_MENU_IMAGE_COPIED,{...(0,f.v)()})}catch(e){T(M.Z.Messages.ERROR_COPYING_IMAGE,e),u.default.track(I.rMx.CONTEXT_MENU_IMAGE_COPY_FAILED,{...(0,f.v)()})}};return[E.ZP.canCopyImage()&&function(e){let n=A(e);return null!=n&&S.has(n)}(e)?(0,i.jsx)(a.MenuItem,{id:"copy-image",label:M.Z.Messages.COPY_IMAGE_MENU_ITEM,action:h},"copy-image"):null,(0,i.jsx)(a.MenuItem,{id:"save-image",label:M.Z.Messages.SAVE_IMAGE_MENU_ITEM,action:c},"save-image")]}},615669:function(e,n,t){t.d(n,{Z:function(){return u},z:function(){return i}}),t(653041);var i,a,r=t(442837),l=t(314897);(a=i||(i={}))[a.END_EARLY=0]="END_EARLY";let o=[];function u(e){let n=(0,r.e7)([l.default],()=>l.default.getId()),{poll:t}=e;if(!e.isPoll()||null==t)return o;let i=[];return!t.expiry.isSameOrBefore(Date.now())&&e.author.id===n&&i.push(0),i}},988500:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(735250);t(470079);var a=t(481060),r=t(203143),l=t(615669),o=t(689938);let u={[l.z.END_EARLY]:e=>(0,i.jsx)(a.MenuItem,{id:"end-poll-early",label:o.Z.Messages.POLL_END_EARLY,icon:a.ClockXIcon,action:()=>{r.Z.endPollEarly({channelId:e.channel_id,messageId:e.id})},iconProps:{color:"currentColor"}})};function s(e){let n=(0,l.Z)(e);return 0===n.length?null:(0,i.jsx)(i.Fragment,{children:n.map(n=>u[n](e))})}},280845:function(e,n,t){t.d(n,{U:function(){return f},o:function(){return I}}),t(47120);var i=t(275726),a=t(442837),r=t(71619),l=t(665906),o=t(496675),u=t(594174),s=t(981631),c=t(231338);function d(e,n,t){let a;return(a=e.isPrivate()?!e.isSystemDM():t.can(c.Pl.SEND_MESSAGES,e)&&t.can(c.Pl.READ_MESSAGE_HISTORY,e))&&i.V.REPLYABLE.has(n.type)}function E(e,n,t,i,a){let r=n.hasFlag(s.iLy.EPHEMERAL),l=n.state===s.yb.SENT,o=!e.isArchivedThread()||a;return t&&l&&!r&&!i&&o}function f(e,n){var t;let i=(0,l.tc)(e),[,u]=(0,r.AB)(null!==(t=null==e?void 0:e.getGuildId())&&void 0!==t?t:void 0),s=(0,a.e7)([o.Z],()=>null!=e&&null!=n&&d(e,n,o.Z));return null!=e&&null!=n&&E(e,n,s,u,i)}function I(e,n){var t;let i=(0,l.kn)(e),a=d(e,n,o.Z),s=u.default.getCurrentUser(),[,c]=(0,r.s5)(null==s?void 0:s.id,null!==(t=e.getGuildId())&&void 0!==t?t:void 0);return E(e,n,a,c,i)}}}]);
//# sourceMappingURL=159a409b6863316349a8.js.map