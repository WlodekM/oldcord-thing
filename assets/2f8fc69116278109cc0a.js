"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["54535"],{197857:function(e,t,n){e.exports=n.p+"988c17fdd72ce3646bcc.svg"},858595:function(e,t,n){e.exports=n.p+"c9a939b533ac94caae14.svg"},533627:function(e,t,n){n.d(t,{K:function(){return o.K}});var o=n(987675)},432594:function(e,t,n){n.d(t,{a:function(){return o.a}});var o=n(318948)},865364:function(e,t,n){n.d(t,{O:function(){return a}});var o=n(818083),s=n(977156);let r=(0,o.B)({id:"2024-03_quest_bar_progress_cta",kind:"user",label:"Quest Bar Progress CTA",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Quest Bar Progress CTA enabled",config:{enabled:!0}}]}),a=e=>{let{location:t,autoTrackExposure:n=!1}=e,o=(0,s.Zy)({location:t}),{enabled:a}=r.useExperiment({location:t},{autoTrackExposure:n});return o&&a}},988303:function(e,t,n){n.d(t,{P:function(){return s},u:function(){return a}});var o,s,r=n(818083);(o=s||(s={}))[o.V1=0]="V1",o[o.V2=1]="V2";let a=(0,r.B)({id:"2024-05_quest_bar",kind:"user",label:"Quest Bar",defaultConfig:{primaryVariant:0,progressVariant:0},treatments:[{id:1,label:"Quest Bar V2 with V1 Progress",config:{primaryVariant:1,progressVariant:0}},{id:2,label:"Quest Bar V2",config:{primaryVariant:1,progressVariant:1}}]})},585857:function(e,t,n){n.d(t,{Q:function(){return T}});var o=n(735250);n(470079);var s=n(120356),r=n.n(s),a=n(533627),i=n(432594),l=n(481060),c=n(230711),d=n(327192),u=n(617136),p=n(497505),m=n(796111),x=n(46140),g=n(981631),C=n(689938),f=n(600852);function h(e){let{quest:t,isConnected:n,consoleType:s}=e;return(0,o.jsx)(l.Clickable,{className:f.connectConsoleButtonWrapper,onClick:()=>{(0,u._3)({questId:t.id,questContent:p.jn.QUEST_BAR_V2,questContentCTA:u.jZ.CONNECT_CONSOLE}),(0,d.q)(s)},children:s===g.ABu.PLAYSTATION?(0,o.jsx)(a.K,{colorClass:r()(f.connectConsoleButton,n?f.playstationButtonConnected:f.connectConsoleButtonUnconnected),size:"sm"}):(0,o.jsx)(i.a,{colorClass:r()(f.connectConsoleButton,n?f.xboxButtonConnected:f.connectConsoleButtonUnconnected),size:"sm"})})}function _(e){let{text:t,quest:n}=e;return(0,o.jsx)(l.Clickable,{className:f.showConnectionsButton,onClick:()=>{(0,u._3)({questId:n.id,questContent:p.jn.QUEST_BAR_V2,questContentCTA:u.jZ.VIEW_CONSOLE_CONNECTIONS_LINK}),c.Z.open(g.oAB.CONNECTIONS)},children:(0,o.jsx)(l.Text,{"aria-label":t,color:"none",variant:"text-xxs/normal",children:t})})}function E(e){let{quest:t,xboxAccounts:n,playstationAccounts:s,xboxAndPlaystationAccounts:a}=e,i=a.slice(0,2),c=a.length>0,d=n.length>0,u=s.length>0;return(0,o.jsxs)("div",{className:f.inlineConsoleConnectionDetails,children:[(0,o.jsxs)("div",{className:f.inlineConsoleConnectionDetailsUpper,children:[(0,o.jsx)(l.Text,{color:"header-secondary",variant:"text-xxs/normal",children:c?C.Z.Messages.QUESTS_CONNECTED:C.Z.Messages.QUESTS_SELECT_TO_START}),(0,o.jsxs)("div",{className:f.inlineConsoleConnectionDetailsIcons,children:[(0,o.jsx)(h,{consoleType:g.ABu.PLAYSTATION,isConnected:u,quest:t}),(0,o.jsx)("div",{className:f.consoleIconDivider}),(0,o.jsx)(h,{consoleType:g.ABu.XBOX,isConnected:d,quest:t})]})]}),c&&(0,o.jsxs)("div",{className:f.inlineConsoleConnectionDetailsLower,children:[i.map((e,t)=>(0,o.jsxs)("div",{className:r()(f.inlineConsoleConnectionDetailsLowerItem,t>0?f.marginTop4px:void 0),children:[(0,o.jsx)(l.Text,{color:"header-secondary",variant:"text-xxs/normal",children:e.type===g.ABu.XBOX?C.Z.Messages.QUESTS_XBOX_ID:C.Z.Messages.QUESTS_PSN_ONLINE_ID_V2}),(0,o.jsx)(l.Text,{color:"header-secondary",variant:"text-xxs/normal",children:e.name})]},t)),a.length>2&&(0,o.jsx)(_,{text:C.Z.Messages.QUESTS_VIEW_MORE_ACCOUNTS,quest:t})]})]})}function S(e){let{xboxAndPlaystationAccounts:t,quest:n}=e;return t.length>0?(0,o.jsx)(_,{text:C.Z.Messages.QUESTS_SHOW_CONNECTIONS,quest:n}):null}function T(e){let t=(0,m.P)({location:x.dr.QUESTS_BAR});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Text,{color:"text-muted",variant:"text-xs/medium",children:C.Z.Messages.QUESTS_CONSOLE_CONNECTION_HELPER_STEPS_CONNECT_ACCOUNT}),t?(0,o.jsx)(E,{...e}):(0,o.jsx)(S,{...e})]})}},693900:function(e,t,n){n.d(t,{n:function(){return p},t:function(){return u}}),n(47120);var o=n(735250),s=n(470079),r=n(920906),a=n(442837),i=n(393238),l=n(110924),c=n(607070);let d=s.createContext({springConfig:{},onHeightChange:()=>{},isExpanded:!1});function u(e){let t=s.useMemo(()=>({springConfig:e.springConfig,isExpanded:e.isExpanded,onHeightChange:e.onHeightChange}),[e.springConfig,e.onHeightChange,e.isExpanded]);return(0,o.jsx)(d.Provider,{value:t,children:e.children})}function p(e){var t;let{children:n}=e,{springConfig:u,isExpanded:p,onHeightChange:m}=s.useContext(d),x=(0,a.e7)([c.Z],()=>c.Z.useReducedMotion),{ref:g,height:C=null}=(0,i.Z)(),f=null!==(t=(0,l.Z)(C))&&void 0!==t?t:null,[{height:h},_]=(0,r.useSpring)(()=>({from:{height:0},config:u,immediate:x}));return s.useLayoutEffect(()=>{if(null===f||null===C)return;let e=C-f;0!==e&&m(e)},[C,f,m,p]),s.useLayoutEffect(()=>{null!==C&&_({height:C,immediate:!p||x||null===f})},[C,_,p,x,f]),(0,o.jsx)(r.animated.div,{style:{height:null===f?"auto":h,overflow:"hidden"},children:(0,o.jsx)("div",{style:{overflow:"hidden"},ref:g,children:n})})}},617889:function(e,t,n){n.d(t,{B:function(){return c}});var o=n(470079),s=n(918701),r=n(988303),a=n(658590),i=n(448018),l=n(46140);let c=(e,t)=>{let n=(0,s.zK)(e,l.S7.QUEST_BAR_V2),c=(0,a.a)(e),{primaryVariant:d,progressVariant:u}=r.u.useExperiment({location:l.dr.QUESTS_BAR},{autoTrackExposure:t&&n});return o.useMemo(()=>c?(0,i.v)(e,r.P.V2,r.P.V2):n?(0,i.v)(e,d,u):(0,i.v)(e,r.P.V1,r.P.V1),[c,d,u,e,n])}},130653:function(e,t,n){n.d(t,{T:function(){return s},Z:function(){return r}});var o=n(735250);let s=n(470079).createContext(!1);function r(e){return(0,o.jsx)(s.Provider,{value:!0,children:e.children})}},909389:function(e,t,n){var o=n(735250);n(470079);var s=n(35148),r=n(266685),a=n(874263);t.Z=function(e){let{expandedContentRef:t,expansionSpring:n,isExpanded:i,isExpansionAnimationComplete:l,onCtxMenuOpened:c,onCtxMenuClosed:d,onCtxMenuSelection:u,quest:p,useReducedMotion:m}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z,{className:a.content,expansionSpring:n,isExpanded:i,isExpansionAnimationComplete:l,quest:p,useReducedMotion:m}),(0,o.jsx)(r.Z,{className:a.content,onCtxMenuOpen:c,onCtxMenuClose:d,onCtxMenuSelect:u,isExpanded:i,isExpansionAnimationComplete:l,quest:p,useReducedMotion:m,ref:t})]})}},898170:function(e,t,n){n.d(t,{Z:function(){return f}}),n(47120),n(724458);var o=n(735250),s=n(470079),r=n(120356),a=n.n(r),i=n(392711),l=n.n(i),c=n(442837),d=n(481060),u=n(451478),p=n(302221),m=n(261345);let x=[0,.5,1],g={"layers[1].shapes[1].g.k.k":[0,.522,.278,.776,.5,.522,.278,.776,1,.522,.278,.776],"layers[2].shapes[1].g.k.k":[0,.714,.271,.757,.5,.714,.271,.757,1,.714,.271,.757]};async function C(e,t){let o=(await n.e("30166").then(n.t.bind(n,235630,19))).default;return function(e,t,n){for(let o in t){let t=l().get(e,o);if(null==t)continue;let s=t.map((e,t)=>{var o;return null!==(o=n[t])&&void 0!==o?o:e});l().set(e,o,s)}}(o,g,t),o}function f(e){var t;let{animationClassName:n,className:r,quest:i,useReducedMotion:l}=e,g=(0,c.e7)([u.Z],()=>u.Z.isFocused()),f=s.useRef(null),[h,_]=s.useState(!1),E=s.useMemo(()=>{if(null==i)return null;let e=(0,p.oo)(i.config.colors.primary),t={r:e.r/255,g:e.g/255,b:e.b/255},n=x.reduce((e,n)=>[...e,n,t.r,t.g,t.b],[]);return C(i.id,n)},[i]),S=(null===(t=i.userStatus)||void 0===t?void 0:t.enrolledAt)!=null,T=!l&&g;s.useEffect(()=>{var e,t,n,o;g?T&&(null===(o=f.current)||void 0===o||null===(n=o.animation)||void 0===n||n.play()):null===(t=f.current)||void 0===t||null===(e=t.animation)||void 0===e||e.goToAndStop(0,!0)},[T,g]);let N=s.useCallback(()=>{_(!0)},[]);return null==E||S?(0,o.jsx)("div",{className:m.backgroundFallback,style:{backgroundImage:"linear-gradient(90deg, ".concat(i.config.colors.primary,", ").concat(i.config.colors.secondary,")")}}):(0,o.jsx)("div",{className:a()(m.lottieAnimationBackgroundWrapper,r),children:(0,o.jsx)(d.LottieAnimation,{ref:f,onComplete:N,importData:()=>E,shouldAnimate:!h&&T,className:a()(m.lottieAnimation,m.lottieAnimationBackground,n),loop:0,rendererSettings:{preserveAspectRatio:"none"}},i.config.colors.primary)})}},35148:function(e,t,n){var o=n(735250);n(470079);var s=n(120356),r=n.n(s),a=n(920906),i=n(481060),l=n(113434),c=n(497505),d=n(685613),u=n(340100),p=n(644646),m=n(898170),x=n(46140),g=n(689938),C=n(51582);t.Z=function(e){var t;let{className:n,expansionSpring:s,isExpanded:f,isExpansionAnimationComplete:h,quest:_,useReducedMotion:E}=e,S=(null===(t=_.userStatus)||void 0===t?void 0:t.enrolledAt)!=null,{percentComplete:T}=(0,l.Rf)({quest:_,location:x.dr.QUESTS_BAR});return(0,o.jsxs)(a.animated.div,{"aria-hidden":f&&h,className:r()(n,C.contentCollapsed,{[C.contentCollapsedExpanded]:f,[C.contentCollapsedAccepted]:S}),style:{opacity:s.to({range:[0,1],output:[1,0]})},children:[(0,o.jsx)(m.Z,{quest:_,useReducedMotion:E}),(0,o.jsx)("div",{className:C.contentCollapsedWrapper,children:S?(0,o.jsxs)("div",{className:C.questProgressWrapper,children:[(0,o.jsx)(p.Z,{className:C.questProgressRewardTile,quest:_,questContent:c.jn.QUEST_BAR,autoplay:!1}),T>0?(0,o.jsx)(u.Z,{className:C.questProgressBar,quest:_}):(0,o.jsx)(i.Text,{className:C.questProgressHint,color:"always-white",variant:"text-sm/semibold",children:g.Z.Messages.QUESTS_COMPLETION_PROGRESS_NOT_STARTED})]}):(0,o.jsxs)("div",{className:C.brandingWrapper,children:[(0,o.jsx)(d.Z,{className:C.partnerBranding,quest:_}),(0,o.jsx)(i.Heading,{color:"always-white",variant:"heading-sm/medium",className:C.questName,children:g.Z.Messages.QUEST.format({questName:_.config.messages.questName})})]})})]})}},266685:function(e,t,n){var o=n(735250),s=n(470079),r=n(120356),a=n.n(r),i=n(442837),l=n(950104),c=n(780384),d=n(481060),u=n(810090),p=n(358085),m=n(617136),x=n(272008),g=n(113434),C=n(569984),f=n(497505),h=n(918701),_=n(865364),E=n(566078),S=n(340100),T=n(611855),N=n(644646),v=n(78826),A=n(670638),j=n(667105),B=n(46140),b=n(689938),R=n(51283);let O=s.forwardRef(function(e,t){var n,r;let{className:_,isExpanded:O,isExpansionAnimationComplete:I,onCtxMenuOpen:U,onCtxMenuClose:M,onCtxMenuSelect:q,quest:Z,useReducedMotion:P}=e,k=(0,i.e7)([C.Z],()=>C.Z.isEnrolling(Z.id),[Z]),Q=(0,g.B6)(Z.config.expiresAt),w=E.r.build(Z.config),L=(0,g.B6)(w.rewardsExpireAt),W=s.useMemo(()=>(0,h.nP)(Z.config.assets.questBarHero),[Z]),H=(0,j.tP)(w.application.id),D=s.useCallback(()=>{(0,x.AH)(Z.id,{questContent:f.jn.QUEST_BAR,questContentCTA:m.jZ.ACCEPT_QUEST})},[Z]),V=(0,j.hf)({quest:Z,location:f.jn.QUEST_BAR}),z=s.useCallback(()=>{(0,h.FE)(Z,{content:f.jn.QUEST_BAR,ctaContent:m.jZ.OPEN_GAME_LINK})},[Z]),G=w.features.has(B.S7.POST_ENROLLMENT_CTA),F=(0,g.Rf)({quest:Z,location:B.dr.QUESTS_BAR}),K=F.progressSeconds>0,X=(null===(n=Z.userStatus)||void 0===n?void 0:n.enrolledAt)!=null,Y=(null===(r=Z.userStatus)||void 0===r?void 0:r.completedAt)!=null,$=s.useMemo(()=>(0,h.Xv)(Z.config),[Z.config]),J=O&&I,ee=(0,h.ph)(Z),et=(0,h.pG)({quest:Z,location:B.dr.QUESTS_BAR,taskDetails:F}),en=(0,p.isWeb)(),eo=s.useMemo(()=>{let e=(0,c.Qg)(Z.config.colors.primary,{base:"#ffffff",contrastRatio:c.S3.Text});return{"--custom-cta-color":e,"--custom-cta-color-hover":(0,l.r5)(e,.3),"--custom-cta-color-active":(0,l.r5)(e,.35)}},[Z.config.colors.primary]);return(0,o.jsx)("div",{style:{backgroundColor:Z.config.colors.secondary},"aria-hidden":!J,className:a()(_,R.contentExpanded,{[R.contentInteractable]:J}),children:X?(0,o.jsxs)("div",{className:R.questAcceptedContent,ref:t,children:[(0,o.jsxs)("div",{className:R.utils,children:[(0,o.jsxs)("div",{className:R.questAcceptedContentHeading,children:[(0,o.jsx)(N.Z,{className:R.questProgressRewardTile,learnMoreStyle:"icon",quest:Z,questContent:f.jn.QUEST_BAR}),(0,o.jsxs)("div",{children:[(0,o.jsx)(d.Heading,{color:"always-white",variant:"heading-sm/semibold",children:(0,h.AV)({quest:Z,taskDetails:F})}),(0,o.jsx)(d.Text,{className:R.questAcceptedContentCopySubheading,color:"always-white",variant:"text-xxs/normal",children:Y?b.Z.Messages.QUESTS_CLAIM_BY_DATE.format({expirationDate:L}):b.Z.Messages.QUESTS_AVAILABLE_UNTIL_DATE.format({expirationDate:Q})})]})]}),(0,o.jsx)(A.r,{onOpen:U,onClose:M,onSelect:q,questContent:f.jn.QUEST_BAR,quest:Z,shouldShowDisclosure:!1,showShareLink:!0,children:e=>(0,o.jsx)(d.Clickable,{...e,className:R.submenuWrapper,"aria-label":b.Z.Messages.ACTIONS,children:(0,o.jsx)(d.MoreHorizontalIcon,{size:"md",color:"currentColor",className:R.submenuIcon})})})]}),Y?(0,o.jsx)(d.Button,{className:a()(R.cta,R.ctaClaimReward),style:$?eo:void 0,color:d.Button.Colors.CUSTOM,fullWidth:!0,onClick:V,size:d.Button.Sizes.NONE,children:b.Z.Messages.QUESTS_CLAIM_REWARD}):(0,o.jsx)(d.Text,{className:R.description,color:"always-white",variant:"text-xs/normal",children:et}),(0,o.jsx)(S.Z,{quest:Z}),!en&&!K&&!H&&G&&(0,o.jsx)(y,{onClick:J?z:void 0})]}):(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:R.questPromoContent,ref:t,children:[(0,o.jsxs)("div",{className:R.utils,children:[(0,o.jsx)(T.Z,{color:"always-white"}),(0,o.jsx)(A.r,{onOpen:U,onClose:M,onSelect:q,questContent:f.jn.QUEST_BAR,quest:Z,shouldShowDisclosure:!0,showShareLink:!0,children:e=>(0,o.jsx)(d.Clickable,{...e,className:R.submenuWrapper,"aria-label":b.Z.Messages.ACTIONS,children:(0,o.jsx)(d.MoreHorizontalIcon,{size:"md",color:"currentColor",className:R.submenuIcon})})})]}),(0,o.jsxs)("div",{className:R.details,children:[(0,o.jsx)(N.Z,{className:R.rewardTile,learnMoreStyle:"text",quest:Z,questContent:f.jn.QUEST_BAR}),(0,o.jsx)(d.Heading,{className:R.title,color:"always-white",variant:"heading-md/medium",children:b.Z.Messages.QUESTS_TITLE.format({questName:Z.config.messages.questName})}),(0,o.jsx)(d.Text,{className:R.description,color:"always-white",variant:"text-sm/normal",children:et})]}),(0,o.jsx)(d.Button,{className:R.cta,style:"1232852290197655573"!==Z.id?eo:void 0,color:d.Button.Colors.CUSTOM,fullWidth:!0,onClick:J?D:void 0,size:d.Button.Sizes.NONE,submitting:k,children:b.Z.Messages.QUESTS_ACCEPT_QUEST})]}),(0,o.jsx)("div",{className:R.heroAssetWrapper,style:{color:Z.config.colors.secondary},children:W?(0,o.jsx)(v.Fl,{id:"QuestBarContentExpanded_heroAnimated",children:e=>(0,o.jsx)(u.Z,{ref:e,autoPlay:!P,loop:!0,muted:!0,playsInline:!0,className:R.heroAsset,controls:!1,children:(0,o.jsx)("source",{src:ee,type:(0,h.mN)(ee)})})}):(0,o.jsx)(v.Fl,{id:"QuestBarContentExpanded_heroStatic",children:e=>(0,o.jsx)("img",{ref:e,alt:"",className:R.heroAsset,src:ee})})})]})})});function y(e){let{style:t,onClick:n}=e;return(0,_.O)({location:B.dr.QUESTS_BAR,autoTrackExposure:!0})?(0,o.jsx)(d.Button,{className:R.cta,style:t,color:d.Button.Colors.CUSTOM,fullWidth:!0,onClick:n,size:d.Button.Sizes.NONE,children:b.Z.Messages.QUESTS_GET_THIS_GAME}):null}t.Z=O},941348:function(e,t,n){var o=n(735250),s=n(470079),r=n(308069),a=n(613087),i=n(457153),l=n(254197),c=n(321025),d=n(11281);t.Z=function(e){var t;let{expandedContentRef:n,expansionSpring:u,isExpanded:p,isExpansionAnimationComplete:m,onCtxMenuOpened:x,onCtxMenuClosed:g,onCtxMenuSelection:C,quest:f,useReducedMotion:h}=e,_=s.useRef(null),E=(null===(t=f.userStatus)||void 0===t?void 0:t.enrolledAt)!=null;return(0,o.jsxs)(a.p,{expandedContentRef:n,collapsedContentRef:_,expansionSpring:u,isExpansionAnimationComplete:m,children:[!E&&(0,o.jsx)(r.Z,{quest:f,expansionSpring:u,useReducedMotion:h,isExpanded:p,isExpansionAnimationComplete:m,onCtxMenuOpen:x,onCtxMenuClose:g,onCtxMenuSelect:C}),(0,o.jsx)(i.Z,{ref:_,className:d.content,expansionSpring:u,isExpanded:p,isExpansionAnimationComplete:m,quest:f,useReducedMotion:h}),(0,o.jsx)(l.Z,{expansionSpring:u,className:d.content,onCtxMenuOpen:x,onCtxMenuClose:g,onCtxMenuSelect:C,isExpanded:p,isExpansionAnimationComplete:m,quest:f,useReducedMotion:h,ref:n}),(0,o.jsx)(c.Z,{expansionSpring:u,isExpanded:p})]})}},308069:function(e,t,n){var o=n(735250),s=n(470079),r=n(120356),a=n.n(r),i=n(920906),l=n(481060),c=n(617136),d=n(497505),u=n(918701),p=n(685613),m=n(670638),x=n(341907),g=n(898170),C=n(689938),f=n(247192);t.Z=e=>{let{quest:t,expansionSpring:r,onCtxMenuSelect:h,onCtxMenuOpen:_,onCtxMenuClose:E,useReducedMotion:S,isExpanded:T,isExpansionAnimationComplete:N}=e,v=s.useCallback(()=>{(0,x.az)(t,{content:d.jn.QUEST_BAR_V2,ctaContent:c.jZ.OPEN_DISCLOSURE})},[t]),A=s.useCallback(()=>{(0,u.FE)(t,{content:d.jn.QUEST_BAR_V2,ctaContent:c.jZ.OPEN_GAME_LINK})},[t]),j=T&&N;return(0,o.jsxs)(i.animated.div,{className:a()(f.wrapper,{[f.interactable]:j}),style:{margin:r.to({range:[0,1],output:[0,8]}),borderBottomLeftRadius:r.to({range:[0,1],output:[0,8]}),borderBottomRightRadius:r.to({range:[0,1],output:[0,8]}),paddingLeft:r.to({range:[0,1],output:[12,8]}),paddingRight:r.to({range:[0,1],output:[12,8]}),paddingTop:r.to({range:[0,1],output:[8,4]}),paddingBottom:r.to({range:[0,1],output:[8,4]}),backdropFilter:r.to([0,1],[0,1]).to(e=>"blur(".concat(10*e,"px) brightness(").concat(1-e/5,")"))},children:[(0,o.jsx)(i.animated.div,{className:f.backgroundWrapper,style:{opacity:r.to({range:[0,1],output:[.5,0]}),borderBottomLeftRadius:r.to({range:[0,1],output:[0,8]}),borderBottomRightRadius:r.to({range:[0,1],output:[0,8]})},children:(0,o.jsx)(g.Z,{className:f.background,animationClassName:f.backgroundAnimation,quest:t,useReducedMotion:S})}),(0,o.jsx)(i.animated.img,{alt:"",className:f.wreathIcon,style:{opacity:r.to({range:[0,1],output:[1,0]})},src:n(858595)}),(0,o.jsx)(i.animated.div,{style:{opacity:r.to({range:[0,1],output:[1,j?1:.8]}),x:r.to({range:[0,1],output:[0,-24]})},children:(0,o.jsx)(l.Clickable,{onClick:A,className:a()({[f.logo]:j}),children:(0,o.jsx)(p.Z,{quest:t,withGameTile:!1})})}),(0,o.jsx)(i.animated.div,{className:f.questAvailable,style:{opacity:r.to({range:[0,1],output:[.7,0]}),x:r.to({range:[0,1],output:[0,-20]})},children:(0,o.jsx)(l.Text,{color:"always-white",variant:"text-xs/medium",className:f.questAvailableText,children:C.Z.Messages.QUEST_AVAILABLE})}),(0,o.jsxs)(i.animated.div,{className:f.promotedBadgeWrapper,style:{opacity:r.to({range:[0,1],output:[0,1]})},children:[(0,o.jsxs)(l.Clickable,{className:f.promotedBadge,onClick:v,children:[(0,o.jsx)(l.Text,{color:"always-white",variant:"text-xs/normal",children:C.Z.Messages.QUESTS_PROMOTED}),(0,o.jsx)(l.CircleQuestionIcon,{color:l.tokens.colors.WHITE,className:f.promotedBadgeIcon})]}),(0,o.jsx)(m.r,{onOpen:_,onClose:E,onSelect:h,questContent:d.jn.QUEST_BAR_V2,quest:t,shouldShowDisclosure:!0,showShareLink:!0,children:e=>(0,o.jsx)(l.Clickable,{...e,className:f.submenuWrapper,"aria-label":C.Z.Messages.ACTIONS,children:(0,o.jsx)(l.MoreHorizontalIcon,{size:"md",color:"currentColor",className:a()(f.submenuIcon,f.white)})})})]})]})}},613087:function(e,t,n){n.d(t,{B$:function(){return c},l7:function(){return d},p:function(){return u}}),n(47120),n(653041);var o=n(735250),s=n(470079),r=n(699581),a=n(920906),i=n(130653),l=n(743294);let c=s.createContext({registerComponent:()=>{},unregisterComponent:()=>{},animatedComponents:{},expandedContentRef:s.createRef(),collapsedContentRef:s.createRef(),recalculateAnimationPositions:()=>{},animatedComponentProps:[],expansionSpring:null,isExpansionAnimationComplete:!1}),d=s.forwardRef(function(e,t){let{children:n,id:l,inState:d,isTextTransition:u=!1}=e,{isExpansionAnimationComplete:p,recalculateAnimationPositions:m,registerComponent:x,unregisterComponent:g,expansionSpring:C}=s.useContext(c),f=s.useRef(null),h=s.useRef(null),_=s.useContext(i.T);s.useEffect(()=>{m()},[m]),s.useEffect(()=>{let e=f.current;return null!=e&&x(e,l,d),()=>{null!=e&&g(l,d)}},[l,d,x,g]);let E=document.getElementById(_?"quest-bar-v2-preview-"+l:"quest-bar-v2-"+l),S=null;return null==E?S=null:u&&null!=C?S=(0,o.jsxs)(o.Fragment,{children:["collapsed"===d&&(0,r.createPortal)((0,o.jsx)(a.animated.div,{style:{position:"absolute",opacity:C.to({range:[0,1],output:[1,0]})},children:n(h)}),E),"expanded"===d&&(0,r.createPortal)((0,o.jsx)(a.animated.div,{style:{position:"absolute",opacity:C.to({range:[0,1],output:[0,1]})},children:n(h)}),E)]}):"collapsed"===d&&(S=(0,r.createPortal)(n(h),E)),(0,o.jsxs)("div",{style:{opacity:null==E||p?1:0},ref:t,children:[n(f),!p&&S]})}),u=e=>{let{children:t,expandedContentRef:n,collapsedContentRef:r,expansionSpring:a,isExpansionAnimationComplete:i}=e,[d,u]=s.useState({}),[p,m]=s.useState([]),x=s.useCallback((e,t,n)=>{u(o=>{var s;let r=null!==(s=o[t])&&void 0!==s?s:{expanded:null,collapsed:null};return{...o,[t]:{...r,[n]:e}}})},[]),g=s.useCallback((e,t)=>{u(n=>{var o;let s=null!==(o=n[e])&&void 0!==o?o:{expanded:null,collapsed:null};return s[t]=null,{...n,[e]:s}})},[]),C=s.useCallback(()=>{let e=[];for(let t in d){if(null==d[t]||null==n.current||null==r.current)continue;let o=d[t].collapsed,s=d[t].expanded;if(null==o||null==s)continue;let a=s.getBoundingClientRect().top-n.current.getBoundingClientRect().top+l.Li,i=o.getBoundingClientRect().top-r.current.getBoundingClientRect().top,c=s.getBoundingClientRect().left-n.current.getBoundingClientRect().left+l.Li,u=o.getBoundingClientRect().left-r.current.getBoundingClientRect().left,p=-s.getBoundingClientRect().right+n.current.getBoundingClientRect().right+l.Li,m=-o.getBoundingClientRect().right+r.current.getBoundingClientRect().right;e.push({id:t,collapsedLeft:u,expandedLeft:c,collapsedRight:m,expandedRight:p,collapsedTop:i,expandedTop:a})}m(e)},[d,n,r,m]);return(0,o.jsx)(c.Provider,{value:{isExpansionAnimationComplete:i,registerComponent:x,unregisterComponent:g,animatedComponents:d,expandedContentRef:n,collapsedContentRef:r,recalculateAnimationPositions:C,animatedComponentProps:p,expansionSpring:a},children:t})}},164495:function(e,t,n){n.d(t,{y:function(){return E}});var o=n(735250),s=n(470079),r=n(481060),a=n(617136),i=n(113434),l=n(497505),c=n(918701),d=n(796111),u=n(667105),p=n(341907),m=n(46140),x=n(689938),g=n(347051);let C=e=>{let{quest:t}=e;return(0,o.jsx)("div",{className:g.ctaContainer,children:(0,o.jsx)(r.Button,{className:g.flex,size:r.Button.Sizes.SMALL,onClick:()=>(0,c.FE)(t,{content:l.jn.QUEST_BAR_V2,ctaContent:a.jZ.OPEN_GAME_LINK}),children:x.Z.Messages.QUESTS_GET_THIS_GAME})})},f=e=>{let{quest:t}=e;return(0,o.jsx)("div",{className:g.ctaContainer,children:(0,o.jsx)(r.Button,{fullWidth:!0,onClick:()=>(0,p.gI)({quest:t,showInline:!1},{content:l.jn.QUEST_BAR_V2,ctaContent:a.jZ.CONNECT_CONSOLE}),size:r.Button.Sizes.SMALL,children:x.Z.Messages.QUESTS_CONSOLE_CONNECTION_HELPER_STEPS_CTA})})},h=e=>{let{quest:t,useReducedMotion:n,isExpanded:s}=e,a=(0,u.hf)({quest:t,location:l.jn.QUEST_BAR_V2});return(0,o.jsx)("div",{className:g.ctaContainer,children:(0,o.jsx)(r.ShinyButton,{fullWidth:!0,size:r.Button.Sizes.SMALL,onClick:a,pauseAnimation:n||!s,buttonShineClassName:g.shine,children:x.Z.Messages.QUESTS_CLAIM_REWARD})})},_=e=>{let{quest:t}=e,{xboxAndPlaystationAccounts:n}=(0,i.z6)(),o=(0,d.P)({location:m.dr.QUESTS_BAR});return s.useMemo(()=>{let e=(0,c.$J)(t),s=0===n.length;return e&&s&&!o},[t,n,o])},E=e=>{var t;let{quest:n,useReducedMotion:s,isExpanded:r,hasMadeProgress:a}=e,i=(null===(t=n.userStatus)||void 0===t?void 0:t.completedAt)!=null,l=_({quest:n});if(i)return(0,o.jsx)(h,{quest:n,useReducedMotion:s,isExpanded:r});if(l)return(0,o.jsx)(f,{quest:n});if(!a&&!(0,c.zK)(n,m.S7.IN_HOUSE_CONSOLE_QUEST))return(0,o.jsx)(C,{quest:n});return null}},472144:function(e,t,n){var o=n(735250),s=n(470079),r=n(569379),a=n(581292);t.Z=s.forwardRef((e,t)=>{let{percentComplete:n,size:s=42,strokeWidth:i=3,glowBlur:l=.4,children:c}=e,d=(0,r.EK)(n>0),u=s/2,p=s/2-i/2,m=2*Math.PI*p,x=m-n*m,g={strokeDasharray:"".concat(m," ").concat(m),strokeDashoffset:x},C={strokeDasharray:"".concat(m," ").concat(m),strokeDashoffset:-n*m},f={boxShadow:"0 0 30px 0px ".concat(d.glow)};return(0,o.jsxs)("div",{className:a.outer,ref:t,children:[(0,o.jsx)("div",{className:a.inner,style:f,children:c}),(0,o.jsxs)("svg",{className:a.progressBar,height:s,width:s,children:[(0,o.jsxs)("defs",{children:[(0,o.jsxs)("filter",{id:"glow",children:[(0,o.jsx)("feGaussianBlur",{result:"coloredBlur",stdDeviation:l}),(0,o.jsxs)("feMerge",{children:[(0,o.jsx)("feMergeNode",{in:"coloredBlur"}),(0,o.jsx)("feMergeNode",{in:"coloredBlur"}),(0,o.jsx)("feMergeNode",{in:"coloredBlur"}),(0,o.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),(0,o.jsxs)("linearGradient",{id:"linear",x1:"100%",y1:"0%",x2:"0%",y2:"0%",children:[(0,o.jsx)("stop",{offset:"0%",stopColor:d.backgroundTop}),(0,o.jsx)("stop",{offset:"100%",stopColor:d.backgroundBottom})]})]}),(0,o.jsx)("circle",{className:a.progress,strokeWidth:i,fill:"transparent",r:p,cx:u,cy:u,stroke:"url(#linear)",style:C}),(0,o.jsx)("circle",{className:a.progress,strokeWidth:i,fill:"transparent",r:p,cx:u,cy:u,stroke:d.foreground,style:g})]})]})})},759853:function(e,t,n){n(47120);var o=n(735250),s=n(470079),r=n(887024),a=n(920906),i=n(442837),l=n(110924),c=n(607070),d=n(819640),u=n(569379),p=n(675654),m=n(251217),x=n(197857);let g=["#51BC9D"];t.Z=e=>{var t;let{quest:n,progressBarRef:C,isExpanded:f}=e,{completionSpring:h,startCompletionAnimation:_}=(0,u.GX)(),E=(null===(t=n.userStatus)||void 0===t?void 0:t.completedAt)!=null,S=s.useRef(!1),T=(0,i.e7)([c.Z],()=>c.Z.useReducedMotion),N=s.useRef(null),v=(0,i.e7)([d.Z],()=>d.Z.hasLayers()),A=(0,l.Z)(v),[j,B]=s.useState(null),[b,R]=s.useState(null),O=s.useRef(new r.qA({gravity:0,wind:0})),y=(0,r.uR)(j,b),I=s.useCallback(()=>{if(T)return;let e=C.current,t=N.current;if(null!=t&&null!=e&&y.isReady){var n,o,s,r;let{x:a,y:i}=e.getBoundingClientRect(),{x:l,y:c}=t.getBoundingClientRect();y.createMultipleConfetti((n=a-l,o=i-c,s=e.clientHeight,r=e.clientWidth,{...p.We,position:{type:"static-random",minValue:{x:n,y:o},maxValue:{x:n+s,y:o+r}},velocity:{type:"static-random",minValue:{x:-20,y:-20},maxValue:{x:20,y:20}},opacity:{type:"linear",value:2,addValue:-.1},dragCoefficient:{type:"static",value:1e-4},size:{type:"static-random",minValue:2,maxValue:3}}),100)}},[C,N,y,T]),U=(0,l.Z)(f);return(s.useEffect(()=>{E&&f&&!U&&(_(),I())},[f,E,_,I,U]),s.useEffect(()=>{E&&!v&&A&&setTimeout(()=>{_(),I()},200)},[E,A,v,_,I]),s.useEffect(()=>{if(!!y.isReady)!S.current&&E&&(_(),I()),S.current=E},[E,S,I,_,y]),T)?null:(0,o.jsxs)("div",{className:m.wrapper,"aria-hidden":"true",ref:N,children:[(0,o.jsx)(a.animated.div,{className:m.background,style:{opacity:h}}),(0,o.jsx)(r.O_,{ref:B,className:m.confetti,environment:O.current}),(0,o.jsx)(r.Ji,{ref:R,sprites:[x],colors:g,spriteWidth:p.Ko,spriteHeight:p.Ko})]})}},205511:function(e,t,n){n(47120);var o=n(735250),s=n(470079),r=n(120356),a=n.n(r),i=n(442837),l=n(481060),c=n(607070),d=n(63063),u=n(617136),p=n(272008),m=n(113434),x=n(497505),g=n(918701),C=n(566078),f=n(667105),h=n(585857),_=n(693900),E=n(46140),S=n(981631),T=n(689938),N=n(517107);function v(e){let{children:t,isComplete:n,hasNextStep:s}=e;return(0,o.jsxs)("li",{className:a()(N.stepWrapper,{[N.stepWrapperComplete]:n},{[N.stepWrapperWithNextStep]:s}),children:[(0,o.jsxs)("div",{className:N.stepIndicator,children:[(0,o.jsx)("div",{className:N.stepIconWrapper,children:n&&(0,o.jsx)(l.CheckmarkBoldIcon,{className:N.stepIcon,color:l.tokens.colors.WHITE})}),s&&(0,o.jsx)("div",{className:N.stepConnector})]}),(0,o.jsx)("div",{className:N.stepContent,children:t})]})}function A(e){let{quest:t,useReducedMotion:n,connectedAccounts:r}=e,[a,i]=s.useState([]),c=(0,f.g2)({useReducedMotion:n,className:N.microphoneUnitRefreshIcon}),m=async()=>{c.startAnimation(),i((await (0,p.CS)(t.id)).errorHints),c.stopAnimation()},{header:h,renderBody:_}=s.useMemo(()=>{let e=a.length>0,n=()=>(0,o.jsx)("div",{children:a.map((e,t)=>(0,o.jsx)(l.Text,{className:N.microphoneUnitBodyText,color:"text-muted",variant:"text-xxs/normal",children:e},t))});if((0,g.zK)(t,E.S7.IN_HOUSE_CONSOLE_QUEST))return{header:e?T.Z.Messages.QUESTS_ANY_GAME_NOT_DETECTED:T.Z.Messages.QUESTS_MICROPHONE_UNIT_HEADER,renderBody:e?n:()=>(0,o.jsx)(l.Text,{className:N.microphoneUnitBodyText,color:"text-muted",variant:"text-xxs/normal",children:T.Z.Messages.QUESTS_MICROPHONE_UNIT_BODY_ANY_GAME})};let s=C.r.build(t.config).application.name;return{header:e?T.Z.Messages.QUESTS_GAME_NOT_DETECTED.format({gameTitle:s}):T.Z.Messages.QUESTS_LAUNCHED_GAME.format({gameTitle:s}),renderBody:e?n:()=>(0,o.jsx)(l.Text,{className:N.microphoneUnitBodyText,color:"text-muted",variant:"text-xxs/normal",children:T.Z.Messages.QUESTS_MICROPHONE_UNIT_BODY.format({gameTitle:s})})}},[t,a]);return(0,o.jsxs)("div",{className:N.microphoneUnit,children:[(0,o.jsxs)("div",{className:N.microphoneUnitHeader,children:[(0,o.jsx)(l.CircleExclamationPointIcon,{size:"custom",color:"currentColor",className:0===a.length?N.warningCircle:N.errorCircle,width:16,height:16}),(0,o.jsx)(l.Text,{variant:"text-xs/medium",children:h}),(0,o.jsx)(l.Clickable,{className:N.microphoneUnitRefreshIconWrapper,onClick:()=>{(0,u._3)({questId:t.id,questContent:x.jn.QUEST_BAR_V2,questContentCTA:u.jZ.DEFIBRILLATOR}),m()},children:c.render()})]}),_(),0===a.length?null:(0,o.jsx)(l.Text,{className:N.microphoneUnitBodyText,color:"text-muted",variant:"text-xxs/normal",children:function(){let e=r.playstationAccounts.length>0,t=r.xboxAccounts.length>0;return e&&!t||!e&&t?T.Z.Messages.QUESTS_MICROPHONE_UNIT_FOOTER_SINGLE_CONSOLE.format({helpdeskArticle:d.Z.getArticleURL(e?S.BhN.PS_CONNECTION:S.BhN.XBOX_CONNECTION)}):T.Z.Messages.QUESTS_MICROPHONE_UNIT_FOOTER_PLAYSTATION_OR_XBOX.format({psHelpdeskArticle:d.Z.getArticleURL(S.BhN.PS_CONNECTION),xboxHelpdeskArticle:d.Z.getArticleURL(S.BhN.XBOX_CONNECTION)})}()})]})}function j(e){let{text:t}=e;return(0,o.jsx)(l.Text,{color:"text-muted",variant:"text-xs/medium",children:t})}t.Z=function(e){let{quest:t}=e,n=(0,i.e7)([c.Z],()=>c.Z.useReducedMotion),r=(0,m.Rf)({quest:t,location:E.dr.QUESTS_BAR}),a=(0,m.z6)(),{steps:d,hasConnectedAccounts:u,isProgressingQuestForLaunchedGame:p,isQuestComplete:x}=s.useMemo(()=>{var e;let n=a.xboxAndPlaystationAccounts.length>0,s=n&&(0,g.Bz)(t),i=(0,g.zK)(t,E.S7.IN_HOUSE_CONSOLE_QUEST),l=C.r.build(t.config).application.name,c=(null===(e=t.userStatus)||void 0===e?void 0:e.completedAt)!=null;return{steps:[{renderContent:()=>(0,o.jsx)(h.Q,{...a,quest:t}),isComplete:n||s||c},{renderContent:()=>(0,o.jsx)(j,{text:i?T.Z.Messages.QUESTS_CONSOLE_CONNECTION_HELPER_STEPS_LAUNCH_ANY_GAME:T.Z.Messages.QUESTS_CONSOLE_CONNECTION_HELPER_STEPS_LAUNCH_GAME.format({gameTitle:l})}),isComplete:s||c},{renderContent:()=>(0,o.jsx)(j,{text:T.Z.Messages.QUESTS_CONSOLE_CONNECTION_HELPER_STEPS_PLAYTIME.format({numMinutes:r.targetMinutes})}),isComplete:c}],hasConnectedAccounts:n,isProgressingQuestForLaunchedGame:s,isQuestComplete:c}},[a,t,r]);return(0,o.jsxs)("div",{className:N.wrapper,children:[(0,o.jsx)("div",{className:N.headingWrapper,children:(0,o.jsx)(l.Heading,{className:N.heading,variant:"text-xs/medium",children:T.Z.Messages.QUESTS_CONSOLE_CONNECTION_HELPER_STEPS_HEADING})}),(0,o.jsx)(_.n,{children:(0,o.jsxs)("div",{className:N.stepsWrapper,children:[(0,o.jsx)("ul",{children:d.map((e,t)=>(0,o.jsx)(v,{isComplete:e.isComplete,hasNextStep:t<d.length-1,children:e.renderContent()},t))}),u&&!p&&!x&&(0,o.jsx)(A,{connectedAccounts:a,useReducedMotion:n,quest:t})]})})]})}},743294:function(e,t,n){n.d(t,{Li:function(){return r},aY:function(){return o},v6:function(){return s}});let o="#00000000",s="#CDD8FF1A",r=12},457153:function(e,t,n){var o=n(735250),s=n(470079),r=n(120356),a=n.n(r),i=n(920906),l=n(759853),c=n(95985),d=n(743294),u=n(232604);let p=s.forwardRef(function(e,t){var n;let{className:r,expansionSpring:p,isExpanded:m,isExpansionAnimationComplete:x,quest:g}=e,C=s.useRef(null),f=(null===(n=g.userStatus)||void 0===n?void 0:n.enrolledAt)!=null;return(0,o.jsxs)(i.animated.div,{ref:t,"aria-hidden":m&&x,className:a()(r,u.contentCollapsed,{[u.contentCollapsedExpanded]:m,[u.contentCollapsedAccepted]:f}),style:{opacity:p.to({range:[0,1],output:[1,0]})},children:[f?(0,o.jsx)("div",{className:u.postEnrollmentBackground,style:{backgroundImage:"linear-gradient(90deg, ".concat(d.aY,", ").concat(d.v6,")")}}):null,(0,o.jsx)(l.Z,{progressBarRef:C,quest:g,isExpanded:m}),(0,o.jsx)("div",{className:u.contentCollapsedWrapper,children:f?(0,o.jsx)(c.Z,{quest:g,progressBarRef:C,isExpanded:!1}):null})]})});t.Z=p},254197:function(e,t,n){var o=n(735250),s=n(470079),r=n(120356),a=n.n(r),i=n(920906),l=n(442837),c=n(481060),d=n(810090),u=n(617136),p=n(272008),m=n(113434),x=n(569984),g=n(497505),C=n(918701),f=n(988303),h=n(644646),_=n(78826),E=n(670638),S=n(330039),T=n(693900),N=n(524824),v=n(164495),A=n(759853),j=n(205511),B=n(95985),b=n(658590),R=n(46140),O=n(689938),y=n(308596);let I=s.forwardRef(function(e,t){var n;let{className:r,isExpanded:I,isExpansionAnimationComplete:U,expansionSpring:M,onCtxMenuOpen:q,onCtxMenuClose:Z,onCtxMenuSelect:P,quest:k,useReducedMotion:Q}=e,w=s.useRef(null),L=(0,l.e7)([x.Z],()=>x.Z.isEnrolling(k.id),[k]),W=(0,m.B6)(k.config.expiresAt),H=s.useMemo(()=>(0,C.nP)(k.config.assets.questBarHero),[k]),D=s.useCallback(()=>{(0,p.AH)(k.id,{questContent:g.jn.QUEST_BAR_V2,questContentCTA:u.jZ.ACCEPT_QUEST})},[k]),{primaryVariant:V}=f.u.useExperiment({location:R.dr.QUESTS_BAR},{autoTrackExposure:!1}),z=(null===(n=k.userStatus)||void 0===n?void 0:n.enrolledAt)!=null,G=(0,m.Rf)({quest:k,location:R.dr.QUESTS_BAR}),F=G.percentComplete>0,K=I&&U,X=s.useMemo(()=>(0,C.$J)(k),[k]),Y=(0,C.ph)(k),$=(0,C.pG)({quest:k,location:R.dr.QUESTS_BAR,useV2Variants:V===f.P.V2||(0,b.a)(k),taskDetails:G});return(0,o.jsx)("div",{"aria-hidden":!K,className:a()(r,y.contentExpanded,{[y.contentInteractable]:K,[y.contentExpandedAccepted]:z}),children:z?(0,o.jsxs)("div",{className:y.questAcceptedContent,ref:t,children:[(0,o.jsxs)("div",{className:y.questAcceptedHeader,children:[(0,o.jsx)(c.Text,{variant:"text-xxs/medium",className:a()(y.flex,y.headerText),children:O.Z.Messages.QUESTS_AVAILABLE_UNTIL_DATE.format({expirationDate:W})}),(0,o.jsx)(E.r,{onOpen:q,onClose:Z,onSelect:P,questContent:g.jn.QUEST_BAR_V2,quest:k,shouldShowDisclosure:!1,showShareLink:!0,children:e=>(0,o.jsx)(c.Clickable,{...e,className:y.submenuWrapper,"aria-label":O.Z.Messages.ACTIONS,children:(0,o.jsx)(c.MoreHorizontalIcon,{size:"md",color:"currentColor",className:a()(y.submenuIcon,y.interactiveNormal)})})})]}),(0,o.jsx)("div",{className:y.divider}),(0,o.jsx)(A.Z,{progressBarRef:w,quest:k,isExpanded:I}),(0,o.jsx)(B.Z,{quest:k,progressBarRef:w,isExpanded:!0}),(0,N.r)(k)&&(0,o.jsx)(S.Z,{style:{marginTop:8}}),X&&(0,o.jsx)(j.Z,{quest:k}),(0,o.jsx)(T.n,{children:(0,o.jsx)(v.y,{quest:k,useReducedMotion:Q,isExpanded:I,hasMadeProgress:F})})]}):(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:y.questPromoContent,ref:t,children:[(0,o.jsxs)("div",{className:y.details,children:[(0,o.jsx)(h.Z,{className:y.rewardTile,learnMoreStyle:"text",quest:k,questContent:g.jn.QUEST_BAR_V2}),(0,o.jsx)(c.Heading,{className:y.title,variant:"heading-md/medium",children:O.Z.Messages.QUESTS_TITLE.format({questName:k.config.messages.questName})}),(0,o.jsx)(c.Text,{className:y.description,variant:"text-xs/normal",children:$})]}),(0,o.jsx)(c.Button,{className:y.cta,color:c.Button.Colors.BRAND,fullWidth:!0,onClick:K?D:void 0,size:c.Button.Sizes.SMALL,submitting:L,children:O.Z.Messages.QUESTS_ACCEPT_QUEST})]}),(0,o.jsxs)(i.animated.div,{className:y.heroAssetWrapper,style:{backdropFilter:M.to([0,1],[5,0]).to(e=>"blur(".concat(e,"px)")),filter:M.to([0,1],[.8,1]).to(e=>"brightness(".concat(e,")"))},children:[(0,o.jsx)(i.animated.div,{className:y.heroAssetDarken,style:{opacity:M.to([0,1],[1,0])}}),(0,o.jsx)(i.animated.div,{className:y.heroAssetTint,style:{backgroundColor:k.config.colors.primary,opacity:M.to([0,1],[1,0])}}),H?(0,o.jsx)(_.Fl,{id:"QuestBarV2ContentExpanded_heroAnimated",children:e=>(0,o.jsx)(d.Z,{ref:e,autoPlay:!Q,loop:!0,muted:!0,playsInline:!0,className:y.heroAsset,controls:!1,children:(0,o.jsx)("source",{src:Y,type:(0,C.mN)(Y)})})}):(0,o.jsx)(_.Fl,{id:"QuestBarV2ContentExpanded_heroStatic",children:e=>(0,o.jsx)("img",{ref:e,alt:"",className:y.heroAsset,src:Y})}),(0,o.jsx)(i.animated.div,{className:y.legibilityGradient,style:{opacity:M.to({range:[0,1],output:[0,1]})}})]})]})})});t.Z=I},569379:function(e,t,n){n.d(t,{EK:function(){return f},GX:function(){return C},eQ:function(){return x},vf:function(){return g}}),n(47120);var o=n(470079),s=n(920906),r=n(442837),a=n(410030),i=n(706454),l=n(930153),c=n(113434),d=n(918701),u=n(566078),p=n(46140),m=n(689938);function x(e){var t,n;let o=(0,r.e7)([i.default],()=>i.default.locale),{percentComplete:s}=(0,c.Rf)({quest:e,location:p.dr.QUESTS_BAR});if((null===(t=e.userStatus)||void 0===t?void 0:t.completedAt)!=null)return m.Z.Messages.QUESTS_COMPLETION_COMPLETE;if((null===(n=e.userStatus)||void 0===n?void 0:n.enrolledAt)!=null&&s>0){let e=(0,l.T3)(o,s,{roundingMode:"floor"});return m.Z.Messages.QUESTS_COMPLETION_PROGRESS_STARTED_V2.format({percent:e})}return(0,d.$J)(e)?m.Z.Messages.QUEST_BAR_TITLE_START_PLAYING:m.Z.Messages.QUESTS_COMPLETION_PROGRESS_NOT_STARTED}function g(e,t){var n;let o=(0,c.B6)(u.r.build(e.config).rewardsExpireAt),s=(0,c.Rf)({quest:e,location:p.dr.QUESTS_BAR});return(null===(n=e.userStatus)||void 0===n?void 0:n.completedAt)!=null?m.Z.Messages.QUESTS_CLAIM_BY_DATE.format({expirationDate:o}):t?(0,d.pG)({quest:e,location:p.dr.QUESTS_BAR,useV2Variants:!0,taskDetails:s}):s.percentComplete>0?(0,d.AV)({quest:e,taskDetails:s}):m.Z.Messages.QUESTS_COMPLETION_PROGRESS_NOT_STARTED_SUBTITLE}function C(){let[{spring:e},t]=(0,s.useSpring)(()=>({spring:0}));return{completionSpring:e,startCompletionAnimation:o.useCallback(()=>{t({spring:1}),t({spring:0,delay:2e3})},[t])}}function f(e){var t;let n=null!==(t=(0,a.i6)())&&void 0!==t?t:0,o="var(--green-330)",s=["var(--background-tertiary)","var(--interactive-normal)"],r=e?s[n]:["#828288","#CBCDD4"][n];return{backgroundTop:r,backgroundBottom:e?s[n]:["#535356","#8B8C95"][n],foreground:o,glow:e?o:"#C4C1D66E"}}},95985:function(e,t,n){var o=n(735250);n(470079);var s=n(481060),r=n(113434),a=n(497505),i=n(644646),l=n(613087),c=n(472144),d=n(569379),u=n(46140),p=n(232604);t.Z=e=>{let{quest:t,progressBarRef:n,isExpanded:m}=e,{percentComplete:x}=(0,r.Rf)({quest:t,location:u.dr.QUESTS_BAR}),g=(0,d.eQ)(t),C=(0,d.vf)(t,m),f=m?"expanded":"collapsed";return(0,o.jsxs)("div",{className:p.questProgressWrapper,children:[(0,o.jsx)(l.l7,{inState:f,id:"progress-bar",ref:n,children:e=>(0,o.jsx)(c.Z,{ref:e,percentComplete:x,size:42,strokeWidth:3,children:(0,o.jsx)(i.Z,{className:p.questProgressRewardTile,quest:t,questContent:a.jn.QUEST_BAR_V2,autoplay:!1})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)(l.l7,{inState:f,id:"progress-title",children:e=>(0,o.jsx)(s.Text,{ref:e,className:p.questProgressHint,color:"header-primary",variant:"text-sm/semibold",children:g})}),(0,o.jsx)(l.l7,{inState:f,id:"progress-subtitle",isTextTransition:!0,children:e=>(0,o.jsx)(s.Text,{ref:e,className:p.questProgressHint,color:"text-muted",variant:"text-xs/normal",children:C})})]})]})}},321025:function(e,t,n){n.d(t,{Z:function(){return l}});var o=n(735250),s=n(470079),r=n(920906),a=n(130653),i=n(613087);function l(e){let{expansionSpring:t,isExpanded:n}=e,{animatedComponentProps:l,recalculateAnimationPositions:c}=s.useContext(i.B$),d=s.useContext(a.T);return s.useEffect(()=>{c()},[c,n]),(0,o.jsx)("div",{style:{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:l.map(e=>{let{id:n,collapsedLeft:s,expandedLeft:a,collapsedTop:i,expandedTop:l,collapsedRight:c,expandedRight:u}=e;return(0,o.jsx)(r.animated.div,{id:d?"quest-bar-v2-preview-"+n:"quest-bar-v2-"+n,style:{zIndex:2,position:"absolute",top:t.to({range:[0,1],output:[i,l]}),right:Math.min(c,u),left:t.to({range:[0,1],output:[s,a]})}},n)})})}},658590:function(e,t,n){n.d(t,{a:function(){return r}});var o=n(918701),s=n(46140);let r=e=>{let t="1193992107035983872"===e.id,n=(0,o.zK)(e,s.S7.IN_HOUSE_CONSOLE_QUEST),r=(0,o.zK)(e,s.S7.MOBILE_CONSOLE_QUEST);return t||n||r}},448018:function(e,t,n){n.d(t,{v:function(){return p}});var o=n(497505),s=n(988303),r=n(909389),a=n(941348),i=n(658590),l=n(743294);let c={component:r.Z,getCollapsedHeight:()=>40,getPreEnrollmentExpandedHeight:()=>240,getPostEnrollmentBackgroundImage:e=>"linear-gradient(90deg, ".concat(e.config.colors.primary,", ").concat(e.config.colors.secondary,")"),getPreEnrollmentBackgroundColor:e=>void 0,canCollapseOnBlur:e=>{var t;return(null===(t=e.userStatus)||void 0===t?void 0:t.completedAt)==null},shouldExpandOnQuestComplete:e=>!0,getVerticalPadding:()=>8},d=l.Li,u={component:a.Z,getCollapsedHeight:e=>{var t;return(null===(t=e.userStatus)||void 0===t?void 0:t.enrolledAt)!=null?66:40},getPreEnrollmentExpandedHeight:()=>270,getPostEnrollmentBackgroundImage:()=>"linear-gradient(90deg, ".concat(l.aY,", ").concat(l.v6,")"),getPreEnrollmentBackgroundColor:e=>"var(--home-background)",canCollapseOnBlur:e=>!0,shouldExpandOnQuestComplete:e=>!1,getVerticalPadding:()=>d},p=(e,t,n)=>{var r;let a=(null===(r=e.userStatus)||void 0===r?void 0:r.enrolledAt)!=null,l=!a&&t===s.P.V2||a&&n===s.P.V2||(0,i.a)(e),d=l?u:c;return{component:d.component,collapsedHeight:d.getCollapsedHeight(e),preEnrollmentExpandedHeight:d.getPreEnrollmentExpandedHeight(e),postEnrollmentBackgroundImage:d.getPostEnrollmentBackgroundImage(e),preEnrollmentBackgroundColor:d.getPreEnrollmentBackgroundColor(e),canCollapseOnBlur:d.canCollapseOnBlur(e),shouldExpandOnQuestComplete:d.shouldExpandOnQuestComplete(e),paddingVertical:d.getVerticalPadding(),trackingCtx:{content:l?o.jn.QUEST_BAR_V2:o.jn.QUEST_BAR}}}},600852:function(e,t,n){e.exports={connectConsoleButton:"connectConsoleButton_a22da9",playstationButtonConnected:"playstationButtonConnected_a22da9",xboxButtonConnected:"xboxButtonConnected_a22da9",connectConsoleButtonWrapper:"connectConsoleButtonWrapper_a22da9",connectConsoleButtonUnconnected:"connectConsoleButtonUnconnected_a22da9",inlineConsoleConnectionDetails:"inlineConsoleConnectionDetails_a22da9",inlineConsoleConnectionDetailsIcons:"inlineConsoleConnectionDetailsIcons_a22da9",consoleIconDivider:"consoleIconDivider_a22da9",inlineConsoleConnectionDetailsUpper:"inlineConsoleConnectionDetailsUpper_a22da9",inlineConsoleConnectionDetailsLower:"inlineConsoleConnectionDetailsLower_a22da9",inlineConsoleConnectionDetailsLowerItem:"inlineConsoleConnectionDetailsLowerItem_a22da9",marginTop4px:"marginTop4px_a22da9",showConnectionsButton:"showConnectionsButton_a22da9"}},874263:function(e,t,n){e.exports={content:"content_ea12a7"}},261345:function(e,t,n){e.exports={lottieAnimation:"lottieAnimation_edcd21",backgroundFallback:"backgroundFallback_edcd21",lottieAnimationBackgroundWrapper:"lottieAnimationBackgroundWrapper_edcd21",lottieAnimationBackground:"lottieAnimationBackground_edcd21"}},51582:function(e,t,n){e.exports={contentCollapsed:"contentCollapsed_c0b64f",contentCollapsedWrapper:"contentCollapsedWrapper_c0b64f",contentCollapsedAccepted:"contentCollapsedAccepted_c0b64f",contentCollapsedExpanded:"contentCollapsedExpanded_c0b64f",brandingWrapper:"brandingWrapper_c0b64f",partnerBranding:"partnerBranding_c0b64f",questName:"questName_c0b64f",questProgressWrapper:"questProgressWrapper_c0b64f",questProgressRewardTile:"questProgressRewardTile_c0b64f",questProgressBar:"questProgressBar_c0b64f",questProgressHint:"questProgressHint_c0b64f"}},51283:function(e,t,n){e.exports={contentExpanded:"contentExpanded_d8f06d",contentInteractable:"contentInteractable_d8f06d",questPromoContent:"questPromoContent_d8f06d",utils:"utils_d8f06d",questAcceptedContent:"questAcceptedContent_d8f06d",details:"details_d8f06d",submenuWrapper:"submenuWrapper_d8f06d",submenuIcon:"submenuIcon_d8f06d",heroAssetWrapper:"heroAssetWrapper_d8f06d",heroAsset:"heroAsset_d8f06d",cta:"cta_d8f06d",ctaClaimReward:"ctaClaimReward_d8f06d",title:"title_d8f06d",description:"description_d8f06d",rewardTile:"rewardTile_d8f06d",questAcceptedContentHeading:"questAcceptedContentHeading_d8f06d",questProgressRewardTile:"questProgressRewardTile_d8f06d",questAcceptedContentCopySubheading:"questAcceptedContentCopySubheading_d8f06d"}},11281:function(e,t,n){e.exports={content:"content_fb2cb3"}},247192:function(e,t,n){e.exports={wrapper:"wrapper_efa999",interactable:"interactable_efa999",wreathIcon:"wreathIcon_efa999",questAvailable:"questAvailable_efa999",questAvailableText:"questAvailableText_efa999",submenuWrapper:"submenuWrapper_efa999",submenuIcon:"submenuIcon_efa999",white:"white_efa999",promotedBadgeWrapper:"promotedBadgeWrapper_efa999",logo:"logo_efa999",promotedBadge:"promotedBadge_efa999",promotedBadgeIcon:"promotedBadgeIcon_efa999",background:"background_efa999",backgroundAnimation:"backgroundAnimation_efa999",backgroundWrapper:"backgroundWrapper_efa999"}},347051:function(e,t,n){e.exports={flex:"flex_e60321",ctaContainer:"ctaContainer_e60321",shine:"shine_e60321"}},581292:function(e,t,n){e.exports={outer:"outer_df6b25",progressBar:"progressBar_df6b25",progress:"progress_df6b25",inner:"inner_df6b25"}},251217:function(e,t,n){e.exports={wrapper:"wrapper_f4e40b",background:"background_f4e40b",confetti:"confetti_f4e40b"}},517107:function(e,t,n){e.exports={wrapper:"wrapper_f21e08",stepsWrapper:"stepsWrapper_f21e08",microphoneUnit:"microphoneUnit_f21e08",microphoneUnitHeader:"microphoneUnitHeader_f21e08",warningCircle:"warningCircle_f21e08",errorCircle:"errorCircle_f21e08",microphoneUnitRefreshIconWrapper:"microphoneUnitRefreshIconWrapper_f21e08",microphoneUnitRefreshIcon:"microphoneUnitRefreshIcon_f21e08",microphoneUnitBodyText:"microphoneUnitBodyText_f21e08",headingWrapper:"headingWrapper_f21e08",heading:"heading_f21e08",stepWrapper:"stepWrapper_f21e08",stepContent:"stepContent_f21e08",stepWrapperWithNextStep:"stepWrapperWithNextStep_f21e08",stepIndicator:"stepIndicator_f21e08",stepIconWrapper:"stepIconWrapper_f21e08",stepWrapperComplete:"stepWrapperComplete_f21e08",stepConnector:"stepConnector_f21e08",stepIcon:"stepIcon_f21e08"}},232604:function(e,t,n){e.exports={contentCollapsed:"contentCollapsed_c3427e",contentCollapsedWrapper:"contentCollapsedWrapper_c3427e",contentCollapsedAccepted:"contentCollapsedAccepted_c3427e",contentCollapsedExpanded:"contentCollapsedExpanded_c3427e",postEnrollmentBackground:"postEnrollmentBackground_c3427e",questProgressWrapper:"questProgressWrapper_c3427e",questProgressRewardTile:"questProgressRewardTile_c3427e",questProgressHint:"questProgressHint_c3427e"}},308596:function(e,t,n){e.exports={contentExpanded:"contentExpanded_e23249",contentExpandedAccepted:"contentExpandedAccepted_e23249",contentInteractable:"contentInteractable_e23249",questPromoContent:"questPromoContent_e23249",questAcceptedHeader:"questAcceptedHeader_e23249",divider:"divider_e23249",details:"details_e23249",submenuWrapper:"submenuWrapper_e23249",questAcceptedContent:"questAcceptedContent_e23249",submenuIcon:"submenuIcon_e23249",interactiveNormal:"interactiveNormal_e23249",heroAssetWrapper:"heroAssetWrapper_e23249",legibilityGradient:"legibilityGradient_e23249",heroAsset:"heroAsset_e23249",heroAssetTint:"heroAssetTint_e23249",heroAssetDarken:"heroAssetDarken_e23249",cta:"cta_e23249",headerText:"headerText_e23249",title:"title_e23249",rewardTile:"rewardTile_e23249",description:"description_e23249",flex:"flex_e23249"}}}]);
//# sourceMappingURL=2f8fc69116278109cc0a.js.map