"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["11250"],{725436:function(e,t,n){n.d(t,{m:function(){return u}});var s=n(454585),a=n(551452),r=n(532901);let l={...s.Z.guildEventRules.link,react:(0,r.Z)({enableBuildOverrides:!1,mustConfirmExternalLink:!0}).react},i={...s.Z.guildEventRules.channelMention,react:(0,a.Z)({enableBuildOverrides:!1,shouldCloseDefaultModals:!0,shouldStopPropagation:!0}).react},u=s.Z.reactParserFor({...s.Z.guildEventRules,link:l,channelMention:i})},315416:function(e,t,n){n.d(t,{Z:function(){return i}});var s=n(470079),a=n(442837),r=n(897285),l=n(924301);function i(e,t,n){let i=(0,a.e7)([l.ZP],()=>l.ZP.getUserCount(t,n));return(0,s.useEffect)(()=>{null!=e&&null!=t&&r.Z.getGuildEventUserCounts(e,t,null!=n?[n]:[])},[t,e,n]),i}},391174:function(e,t,n){n.d(t,{Z:function(){return o}});var s=n(735250),a=n(470079),r=n(120356),l=n.n(r),i=n(725436),u=n(942463),c=n(622322);function o(e){let{description:t,className:n,guildId:r,truncate:o=!0}=e,E=a.useMemo(()=>(0,i.m)(t,!0,{guildId:r,allowLinks:!0,allowHeading:!0,allowList:!0}),[t,r]);return(0,s.jsx)("div",{className:l()(u.descriptionText,n,c.markup,{[u.truncate]:o}),children:E})}},95291:function(e,t,n){n.d(t,{Z:function(){return i}});var s=n(735250);n(470079);var a=n(120356),r=n.n(a),l=n(966820);function i(e){let{source:t,className:n}=e;return null==t?null:(0,s.jsx)("div",{className:r()(l.container,n),style:{backgroundImage:"url(".concat(t,")")}})}},742593:function(e,t,n){n.d(t,{HZ:function(){return h},Rf:function(){return g},ZP:function(){return S}});var s=n(735250);n(470079);var a=n(120356),r=n.n(a),l=n(442837),i=n(481060),u=n(271383),c=n(51144),o=n(894017),E=n(79874),d=n(315416),N=n(236373),T=n(854698),_=n(391174),m=n(95291),x=n(390966),D=n(689938),v=n(858625);function h(e){let{className:t,creator:n,guildId:a,isNew:_,isHub:m=!1,guildEvent:h,eventPreview:g,recurrenceId:S}=e,f=(0,d.Z)(a,h.id,S),L=null!=h?h:g,Z=(0,l.e7)([u.ZP],()=>u.ZP.getNick(a,null==n?void 0:n.id),[a,n]);S=null==L||null!=S?S:(0,T.DK)(L);let{startTime:A}=(0,E.ZP)(null!=h?h:g,S),C=(0,o.Z)(S,h.id),I=(null==L?void 0:L.scheduled_start_time)!=null?(0,T.lh)(C,A,new Date(L.scheduled_start_time)):null;if(null==L)return null;let{entity_type:R,status:j,recurrence_rule:p}=L;return(0,s.jsxs)("div",{className:r()(v.statusContainer,t),children:[(0,s.jsx)(x.z,{startTime:A.toISOString(),status:null!=I?I:j,eventType:R,isNew:_,recurrenceRule:(0,N.KV)(p),guildEventId:h.id,recurrenceId:S}),(0,s.jsx)("div",{className:v.spacer}),!m&&null!=n&&(0,s.jsx)(i.Tooltip,{text:D.Z.Messages.GUILD_EVENT_CREATED_BY.format({username:null!=Z?Z:c.ZP.getName(n)}),children:e=>(0,s.jsx)(i.Avatar,{...e,src:n.getAvatarURL(a,20),size:i.AvatarSizes.SIZE_20,"aria-label":null!=Z?Z:n.username,className:v.creator})}),(0,s.jsx)(i.Tooltip,{text:D.Z.Messages.GUILD_EVENT_INTERESTED_COUNT.format({count:f}),children:e=>(0,s.jsxs)("div",{className:v.rsvpCount,...e,children:[(0,s.jsx)(i.GroupIcon,{size:"xxs",color:"currentColor",className:v.rsvpIcon}),(0,s.jsx)(i.Text,{color:"header-secondary",variant:"text-sm/normal",children:f})]})})]})}function g(e){let{headerVariant:t="heading-lg/medium",descriptionClassName:n,name:a,description:l,truncate:u,guildId:c,imageSource:o}=e;return(0,s.jsxs)("div",{className:r()({[v.withThumbnail]:null!=o}),children:[(0,s.jsxs)("div",{className:r()({[v.descriptionWithThumbnail]:null!=o}),children:[(0,s.jsx)(i.Heading,{variant:t,selectable:!0,className:v.eventName,children:a}),null!=l&&(0,s.jsx)(_.Z,{description:l,className:r()(n,v.description),truncate:u,guildId:c})]}),null!=o&&(0,s.jsx)("div",{className:v.thumbnailContainer,children:(0,s.jsx)(m.Z,{source:o,className:v.thumbnail})})]})}function S(e){let{headerVariant:t,descriptionClassName:n,creator:a,name:r,description:l,imageSource:i,isHub:u=!1,truncate:c,guildId:o,isNew:E,guildEvent:d,eventPreview:N,recurrenceId:T}=e;return(0,s.jsxs)("div",{className:v.container,children:[(0,s.jsx)(h,{className:v.eventInfoStatusContainer,creator:a,guildId:o,isHub:u,isNew:E,guildEvent:d,eventPreview:N,recurrenceId:T}),(0,s.jsx)(g,{name:r,description:l,headerVariant:t,descriptionClassName:n,truncate:c,guildId:o,imageSource:i})]})}},390966:function(e,t,n){n.d(t,{z:function(){return f}}),n(47120);var s,a,r=n(735250),l=n(470079),i=n(120356),u=n.n(i),c=n(913527),o=n.n(c),E=n(692547),d=n(481060),N=n(44315),T=n(894017),_=n(854698),m=n(849464),x=n(765305),D=n(231338),v=n(689938),h=n(642790);(a=s||(s={}))[a.SCHEDULED=0]="SCHEDULED",a[a.STARTING_SOON=1]="STARTING_SOON",a[a.READY=2]="READY",a[a.STARTED=3]="STARTED",a[a.ENDED=4]="ENDED",a[a.CANCELED=5]="CANCELED";function g(){return(0,r.jsx)(d.TextBadge,{className:h.newBadge,color:E.Z.unsafe_rawColors.BRAND_260.css,text:(0,r.jsx)(d.Text,{className:h.newBadgeText,variant:"text-xs/bold",children:v.Z.Messages.NEW})})}function S(e){let{children:t,className:n,tooltipText:s}=e;return(0,r.jsx)("div",{className:u()(h.eventStatusContainer,n),children:(0,r.jsx)(d.Tooltip,{position:"right",text:s,shouldShow:null!=s,children:e=>(0,r.jsx)("div",{...e,className:u()(h.eventStatusContainer,n),children:t})})})}function f(e){let{startTime:t,status:n,eventType:s,className:a,endTime:i,liveText:c,textVariant:E="text-sm/semibold",isNew:f,recurrenceRule:L,guildEventId:Z,recurrenceId:A}=e,C=(0,N.O0)(D.tP.TEXT_BRAND),I=(0,N.O0)(D.tP.TEXT_POSITIVE),R=(0,N.O0)(D.tP.TEXT_DANGER);null==c&&(c=s===x.WX.EXTERNAL?v.Z.Messages.STAGE_CHANNEL_HAPPENING_NOW:v.Z.Messages.STAGE_CHANNEL_LIVE_NOW);let j=(0,T.Z)(A,Z),[{startDateTimeString:p,endDateTimeString:M,currentOrPastEvent:O,upcomingEvent:U,diffMinutes:b},H]=l.useState((0,_.ub)(t,i));l.useEffect(()=>{H((0,_.ub)(t,i));let e=setInterval(()=>H((0,_.ub)(t,i)),1e3);return()=>{clearInterval(e)}},[t,i]);let P=p;null!=M&&""!==M&&(P=v.Z.Messages.START_DATE_TO_END_DATE.format({start:p,end:M}));let G=l.useMemo(()=>n===x.p1.CANCELED||(null==j?void 0:j.is_canceled)?5:n===x.p1.ACTIVE?3:x.$I.has(n)?4:O?2:U?1:0,[n,null==j?void 0:j.is_canceled,O,U]),w=function(e,t,n,s,a){switch(e){case 1:return a>0?v.Z.Messages.STARTING_IN_MINUTES.format({minutes:a}):v.Z.Messages.STARTING_SOON;case 2:return v.Z.Messages.STARTING_SOON;case 3:return null!=s&&""!==s?v.Z.Messages.START_DATE_TO_END_DATE_WITH_COLOR.format({start:n,startHook:e=>(0,r.jsx)(d.Text,{color:"text-positive",variant:"text-sm/semibold",className:h.liveEventEndTime,children:e}),end:s}):null!=n?n:"";default:return t}}(G,P,c,M,b),{Icon:Y,iconColor:k,textColor:V,tooltipText:W}=l.useMemo(()=>(function(e){let t,{timeStatus:n,textBrand:s,textPositive:a,textDanger:r,endDateTimeString:l,startDateTimeString:i}=e,u=d.CalendarIcon,c=s,o="header-secondary";switch(n){case 3:c=a,o=null!=l?void 0:"text-positive";break;case 4:u=d.ClockIcon;break;case 2:case 1:o="text-brand",t=i;break;case 5:c=r}return{Icon:u,iconColor:c.hex,textColor:o,tooltipText:t}})({timeStatus:G,textBrand:C,textPositive:I,textDanger:R,endDateTimeString:M,startDateTimeString:p}),[G,C,I,R,M,p]),z=null;if(null!=L){let e=(0,_.Ho)(L);z=v.Z.Messages.GUILD_SCHEDULED_EVENT_RECURRENCE_RULE.format({recurrenceRule:e.toText()});let n=o()(t);z=function(e,t){let n=t.toDate(),s=n.toLocaleString(v.Z.getLocale(),{weekday:"long"});switch(e){case m.z.WEEKLY:return v.Z.Messages.GUILD_SCHEDULED_EVENT_REPEATS_WEEKLY.format({weekday:s});case m.z.BIWEEKLY:return v.Z.Messages.GUILD_SCHEDULED_EVENT_REPEATS_BIWEEKLY.format({weekday:s});case m.z.MONTHLY:let a=Math.ceil(n.getDate()/7);return v.Z.Messages.GUILD_SCHEDULED_EVENT_REPEATS_MONTHLY.format({weekday:s,nth:a});case m.z.YEARLY:return v.Z.Messages.GUILD_SCHEDULED_EVENT_REPEATS_YEARLY.format({date:n.toLocaleString(v.Z.getLocale(),{month:"short",day:"2-digit"})});case m.z.WEEKDAY_ONLY:return v.Z.Messages.GUILD_SCHEDULED_EVENT_REPEATS_WEEKDAYS;case m.z.WEEKEND_ONLY:return v.Z.Messages.GUILD_SCHEDULED_EVENT_REPEATS_WEEKENDS;default:return null}}((0,_.zi)(n,L),n)}return(0,r.jsxs)(S,{className:u()(a,{[h.isRecurring]:null!=z}),tooltipText:W,children:[f&&n===x.p1.SCHEDULED?(0,r.jsx)(g,{}):(0,r.jsx)(Y,{color:k,size:"custom",width:20,height:20}),(0,r.jsxs)("div",{className:h.eventStatusLabel,children:[(0,r.jsx)(d.Text,{color:V,variant:E,children:w}),null!=z&&(0,r.jsx)(d.Text,{color:"header-secondary",variant:"text-xs/normal",children:z})]})]})}}}]);
//# sourceMappingURL=11250.aaa0bfc8652b5a8bcb83.js.map