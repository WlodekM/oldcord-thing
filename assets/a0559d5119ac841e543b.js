"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["46826"],{5036:function(e,n,t){var a=t(570140),l=t(149071),i=t(9156);n.Z={update(e){a.Z.dispatch({type:"CHANNEL_COLLAPSE",channelId:e})},toggleCollapseGuild(e){l.Z.saveUserGuildSettings(e,{hide_muted_channels:!i.ZP.isGuildCollapsed(e)}),a.Z.dispatch({type:"GUILD_TOGGLE_COLLAPSE_MUTED",guildId:e})}}},52011:function(e,n,t){t.d(n,{F:function(){return a}});let a=(0,t(818083).B)({kind:"guild",id:"2023-09_gaming_stats_prompt_guild",label:"Gaming stats prompt",defaultConfig:{triggerGamingStats:!1},treatments:[{id:1,label:"ability to trigger gaming stats prompt",config:{triggerGamingStats:!0}},{id:2,label:"ability to trigger gaming stats prompt (leaderboard)",config:{triggerGamingStats:!0}}]})},241851:function(e,n,t){t.d(n,{g:function(){return g}});var a=t(735250);t(470079);var l=t(120356),i=t.n(l),s=t(704215),o=t(481060),r=t(605236),d=t(434404),u=t(41776),c=t(703656),E=t(981631),I=t(689938),_=t(750195);let g=e=>{let{guild:n}=e,l=n.id,g=async()=>{let e=u.Z.isLurking(l);await d.Z.leaveGuild(l),e?(0,c.uL)(E.Z5c.GUILD_DISCOVERY):!(0,r.un)(s.z.GUILD_LEAVE_FEEDBACK)&&(0,o.openModalLazy)(async()=>{let{default:e}=await t.e("74920").then(t.bind(t,131102));return t=>(0,a.jsx)(e,{...t,guildId:l,guildName:n.name})})};return(0,a.jsx)(o.ConfirmModal,{className:i()(_.__invalid_confirmModal),bodyClassName:i()(_.__invalid_confirmModalBody),header:I.Z.Messages.LEAVE_SERVER_TITLE.format({name:n.name}),confirmText:n.hasFeature(E.oNc.HUB)?I.Z.Messages.LEAVE_HUB:I.Z.Messages.LEAVE_SERVER,cancelText:I.Z.Messages.CANCEL,onConfirm:g,...e,children:(0,a.jsx)(o.Text,{variant:"text-md/normal",children:n.hasFeature(E.oNc.HUB)?I.Z.Messages.LEAVE_HUB_BODY.format({name:n.name}):I.Z.Messages.LEAVE_SERVER_BODY.format({name:n.name})})})}},294978:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(735250);t(470079);var l=t(392711),i=t.n(l),s=t(442837),o=t(481060),r=t(344185),d=t(665906),u=t(689938);function c(e){let n=(0,d.Xb)(e),l=(0,s.e7)([r.Z],()=>!i().isEmpty(r.Z.getThreadsForGuild(e.id)));return n&&l?(0,a.jsx)(o.MenuItem,{id:"active-threads",label:u.Z.Messages.ACTIVE_THREADS,icon:o.ChatIcon,action:()=>{(0,o.openModalLazy)(async()=>{let{default:n}=await t.e("22482").then(t.bind(t,157743));return t=>(0,a.jsx)(n,{guildId:e.id,...t})})}}):null}},513102:function(e,n,t){t.d(n,{Z:function(){return r}});var a=t(735250);t(470079);var l=t(481060),i=t(132871),s=t(147890),o=t(689938);function r(e){return(0,a.jsx)(l.MenuItem,{id:"application-directory",label:(0,a.jsx)(a.Fragment,{children:o.Z.Messages.APP_DIRECTORY}),icon:l.RobotIcon,action:()=>{(0,s.goToAppDirectory)({guildId:e.id,entrypoint:{name:i.ApplicationDirectoryEntrypointNames.GUILD_HEADER_POPOUT}})}})}},976192:function(e,n,t){t.d(n,{Z:function(){return f}});var a=t(735250),l=t(470079),i=t(442837),s=t(481060),o=t(58540),r=t(40851),d=t(300284),u=t(484459),c=t(314897),E=t(271383),I=t(430824),_=t(496675),g=t(594174),M=t(981631),A=t(689938),N=t(800784);function f(e){let{guildId:n,userId:f,analyticsLocation:h,analyticsLocations:T,context:L,icon:C}=e,p=I.Z.getGuild(n),x=c.default.getId(),Z=(0,i.e7)([g.default],()=>g.default.getUser(f)),m=(0,i.e7)([E.ZP],()=>E.ZP.isGuestOrLurker(n,f),[n,f]);(0,i.e7)([_.Z],()=>_.Z.getGuildVersion(n),[n]);let D=l.useMemo(()=>({[n]:[f]}),[n,f]);(0,o.$)(D);let S=L===M.IlC.POPOUT,R=(0,d.Z)({guild:p,analyticsLocation:h}),b=(0,r.Aq)();if(null==p||S)return null;let G=x===f&&(_.Z.can(M.Plq.CHANGE_NICKNAME,p)||_.Z.can(M.Plq.MANAGE_NICKNAMES,p)),U=x===f,v=_.Z.canManageUser(M.Plq.MANAGE_NICKNAMES,f,p);if(!(G||v||U)||null==Z||m)return null;let O=p.hasFeature(M.oNc.HUB)?A.Z.Messages.HUB_EDIT_PROFILE:A.Z.Messages.CHANGE_IDENTITY,P=U?O:A.Z.Messages.CHANGE_NICKNAME;return(0,a.jsx)(s.MenuItem,{id:"change-nickname",label:(0,a.jsx)("div",{className:N.labelWrapper,children:(0,a.jsx)("span",{className:N.label,children:P})}),icon:C,action:()=>{U?((0,u.Z)(Z.id,Z.getAvatarURL(n,80),{guildId:n}),R(),b.dispatch(M.CkL.POPOUT_CLOSE)):(0,s.openModalLazy)(async()=>{let{default:e}=await t.e("17712").then(t.bind(t,620021));return t=>(0,a.jsx)(e,{...t,guildId:n,user:Z,analyticsSource:h,analyticsLocations:T})})}})}},429824:function(e,n,t){t.d(n,{Z:function(){return u}});var a=t(735250),l=t(470079),i=t(481060),s=t(528011),o=t(666657),r=t(533244),d=t(689938);function u(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{shouldShowIncidentActions:u,isUnderLockdown:c,incidentData:E}=(0,s.mI)(e.id),I=l.useCallback(()=>{let n={source:o.Zu.CONTEXT_MENU,alertType:(0,r.T1)(E)};(0,i.openModalLazy)(async()=>{let{default:l}=await t.e("61536").then(t.bind(t,664452));return t=>(0,a.jsx)(l,{...t,guildId:e.id,analyticsData:n})})},[e.id,E]);return e.isCommunity()&&u?(0,a.jsx)(i.MenuItem,{id:"server-lockdown",label:c?d.Z.Messages.GUILD_SERVER_LOCKDOWN_CONTEXT_MENU_UNLOCK:d.Z.Messages.GUILD_SERVER_LOCKDOWN_CONTEXT_MENU_LOCK,icon:n?c?i.LockUnlockedIcon:i.LockIcon:void 0,action:I,color:"danger"}):null}},466330:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(735250);t(470079);var l=t(442837),i=t(481060),s=t(159300),o=t(984933),r=t(496675),d=t(981631),u=t(689938);function c(e){let{source:n,guild:t,channel:a,stageInstance:i}=e,u=(0,l.e7)([o.ZP],()=>o.ZP.getDefaultChannel(t.id,!0,d.Plq.CREATE_INSTANT_INVITE)),c=(0,l.e7)([r.Z],()=>(0,s.b)(r.Z,t,a,i)),_=E(n,t,c&&null!=a?a:u),g=I(n);return null==a&&n===d.t4x.GUILD_CONTEXT_MENU?null:c||null!=u?_:g}let E=(e,n,l)=>(0,a.jsx)(i.MenuItem,{id:"invite-people",label:u.Z.Messages.INVITE_PEOPLE,color:"brand",icon:e===d.t4x.GUILD_HEADER?i.GroupPlusIcon:void 0,action:()=>(0,i.openModalLazy)(async()=>{let{default:i}=await Promise.all([t.e("7654"),t.e("17520")]).then(t.bind(t,560114));return t=>(0,a.jsx)(i,{...t,guild:n,channel:l,source:e})})}),I=e=>(0,a.jsx)(i.MenuItem,{id:"invite-people",label:u.Z.Messages.INVITE_PEOPLE,color:"brand",icon:e===d.t4x.GUILD_HEADER?i.GroupPlusIcon:void 0,action:()=>(0,i.openModalLazy)(async()=>{let{default:e}=await t.e("88358").then(t.bind(t,598402));return n=>(0,a.jsx)(e,{...n})})})},369994:function(e,n,t){t.d(n,{C4:function(){return M},Fi:function(){return g},KK:function(){return E},f6:function(){return I},n:function(){return _}}),t(47120);var a=t(913527),l=t.n(a),i=t(544891),s=t(367907),o=t(434404),r=t(430824),d=t(626135),u=t(154285),c=t(981631);function E(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0!==n.length)d.default.track(c.rMx.GUILD_RAID_REPORTED,{...(0,s.hH)(e),guild_id:e,raid_types:n})}async function I(e,n){let t=new Set(e.features);t.has(c.oNc.COMMUNITY)?n?t.delete(c.oNc.RAID_ALERTS_DISABLED):t.add(c.oNc.RAID_ALERTS_DISABLED):n?t.add(c.oNc.NON_COMMUNITY_RAID_ALERTS):t.delete(c.oNc.NON_COMMUNITY_RAID_ALERTS),await o.Z.saveGuild(e.id,{features:t},{throwErr:!0})}async function _(e,n,t,a){let s=l()().add(a,"hours").toISOString();return await i.tn.put({url:c.ANM.GUILD_INCIDENT_ACTIONS(e),body:{invites_disabled_until:n?s:null,dms_disabled_until:t?s:null}})}async function g(e,n,t){let{showAlertMode:a}=(0,u.jy)(e),l=r.Z.getGuild(e),s=null==l?void 0:l.getSafetyAlertsChannelId();return a&&null!=s?await i.tn.post({url:c.ANM.GUILD_INCIDENT_REPORT_FALSE_ALARM(e),body:{alert_message_id:n,reason:t}}):null}async function M(e){let{showAlertMode:n}=(0,u.jy)(e),t=r.Z.getGuild(e),a=null==t?void 0:t.getSafetyAlertsChannelId();return n&&null!=a?await i.tn.post({url:c.ANM.GUILD_INCIDENT_REPORT_RAID(e)}):null}},191471:function(e,n,t){t.d(n,{J:function(){return s},K:function(){return o}});var a=t(735250);t(470079);var l=t(481060),i=t(866266);function s(e){(0,l.openModalLazy)(async()=>{let{default:n}=await t.e("9354").then(t.bind(t,461533));return t=>(0,a.jsx)(n,{...t,guildId:e})})}function o(e){(0,l.openModalLazy)(async()=>n=>(0,a.jsx)(i.Z,{...n,guildId:e}))}},162157:function(e,n,t){t.d(n,{BT:function(){return c},N8:function(){return u}});var a=t(442837);t(467319);var l=t(496675),i=t(154285),s=t(655006),o=t(533244),r=t(487419),d=t(981631);function u(e){let n=(0,a.e7)([l.Z],()=>(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Z;return n.can(d.Plq.BAN_MEMBERS,e)||n.can(d.Plq.KICK_MEMBERS,e)||n.can(d.Plq.MANAGE_GUILD,e)})(e,l.Z),[e]),t=(0,a.e7)([r.Z],()=>null!=e?r.Z.getGuildIncident(e.id):null,[e]);return!(null!=t&&(0,o.i9)(t))&&n}function c(e){var n;let t=null!==(n=null==e?void 0:e.id)&&void 0!==n?n:d.lds,o=(0,a.e7)([l.Z],()=>(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Z;return n.can(d.Plq.MANAGE_GUILD,e)})(e,l.Z),[e]),{enableRaidAlerts:r}=s.l.useExperiment({guildId:t,location:"4467c7_3"},{autoTrackExposure:o}),{showAlertMode:u}=(0,i.sw)(t);return o&&(r||u)}},866266:function(e,n,t){t.d(n,{Z:function(){return T}}),t(47120);var a=t(735250),l=t(470079),i=t(106351),s=t(442837),o=t(481060),r=t(367907),d=t(933557),u=t(177862),c=t(434404),E=t(984933),I=t(430824),_=t(699516),g=t(594174),M=t(369994),A=t(162157),N=t(981631),f=t(689938),h=t(463303);function T(e){var n,t;let{guildId:T,transitionState:L,onClose:C}=e,p=(0,s.e7)([I.Z],()=>I.Z.getGuild(T),[T]),x=null!==(n=null==p?void 0:p.safetyAlertsChannelId)&&void 0!==n?n:null,[Z,m]=l.useState(!!(null==p?void 0:p.hasFeature(N.oNc.RAID_ALERTS_DISABLED))),D=(0,A.BT)(p),[S,R]=l.useState(null!=x?x:null!==(t=null==p?void 0:p.publicUpdatesChannelId)&&void 0!==t?t:null),[b,G]=l.useState(!1),U=(0,s.Wu)([E.ZP,g.default,_.Z],()=>{let e=E.ZP.getChannels(T)[E.sH].filter(e=>{let{channel:n}=e;return n.type===i.d.GUILD_TEXT}).map(e=>{let{channel:n}=e;return{value:n.id,label:(0,d.F6)(n,g.default,_.Z,!0)}});return null!=x?e:[...e]},[T,x]),v=async()=>{if(null==p){(0,o.showToast)((0,o.createToast)(f.Z.Messages.GUILD_ANTIRAID_SAFETY_SETUP_ERROR,o.ToastType.FAILURE));return}try{G(!0),Z!==p.hasFeature(N.oNc.RAID_ALERTS_DISABLED)&&await (0,M.f6)(p,!Z),S!==x&&(await c.Z.saveGuild(T,{safetyAlertsChannelId:S},{throwErr:!0}),c.Z.updateGuild({safetyAlertsChannelId:S}));let e=null!=S?S:x;if(null!=e){let n={raid_alert_type:u.wR.JOIN_RAID,enabled:Z,raid_alert_channel_id:e,guild_id:T,channel_id:e};(0,r.yw)(N.rMx.GUILD_RAID_ALERTS_SETUP,n)}C()}catch(e){(0,o.showToast)((0,o.createToast)(f.Z.Messages.GUILD_ANTIRAID_SAFETY_SETUP_ERROR,o.ToastType.FAILURE))}finally{G(!1)}};return(0,a.jsxs)(o.ModalRoot,{transitionState:L,size:o.ModalSize.SMALL,children:[(0,a.jsx)(o.ModalHeader,{separator:!1,children:(0,a.jsx)(o.Heading,{color:"header-primary",variant:"heading-md/semibold",children:f.Z.Messages.GUILD_ANTIRAID_SAFETY_SETUP_CHANNEL_MODAL_TITLE})}),(0,a.jsxs)(o.ModalContent,{children:[(0,a.jsx)(o.Text,{variant:"text-sm/normal",color:"header-secondary",children:f.Z.Messages.GUILD_ANTIRAID_SAFETY_SETUP_CHANNEL_MODAL_DESCRIPTION}),(0,a.jsx)("div",{className:h.mainChannelContainer,children:(0,a.jsxs)(o.Clickable,{className:h.enableAlertsContainer,onClick:()=>{if(!!D)m(!Z)},children:[(0,a.jsx)(o.Text,{variant:"text-md/medium",color:"text-normal",children:f.Z.Messages.GUILD_ANTIRAID_SAFETY_SETUP_CHANNEL_MODAL_ENABLE_ALERTS}),(0,a.jsx)(o.Checkbox,{value:!Z,className:h.enabledAlertsCheckbox,type:o.Checkbox.Types.INVERTED,disabled:!D})]})}),(0,a.jsxs)("div",{className:h.mainChannelContainer,children:[(0,a.jsx)(o.Text,{variant:"eyebrow",color:"text-muted",children:f.Z.Messages.GUILD_ANTIRAID_SAFETY_CHANNEL_TITLE}),(0,a.jsx)(o.SearchableSelect,{options:U,onChange:e=>{R(e)},value:S,className:h.channelSelect,maxVisibleItems:4}),(0,a.jsx)(o.Text,{variant:"text-xs/normal",color:"text-muted",children:f.Z.Messages.GUILD_ANTIRAID_SAFETY_SETUP_CHANNEL_MODAL_CHANNEL_PERMISSIONS_NOTICE})]})]}),(0,a.jsxs)(o.ModalFooter,{children:[(0,a.jsx)(o.Button,{onClick:v,color:o.Button.Colors.BRAND,look:o.Button.Looks.FILLED,submitting:b,children:f.Z.Messages.SAVE}),(0,a.jsx)(o.Button,{onClick:C,color:o.Button.Colors.PRIMARY,look:o.Button.Looks.LINK,disabled:b,children:f.Z.Messages.CANCEL})]})]})}},894059:function(e,n,t){t.d(n,{Z:function(){return r}});var a=t(735250);t(470079);var l=t(481060),i=t(518756),s=t(576749),o=t(689938);function r(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,i.Z)(e),d=(0,s.Z)();return r?(0,a.jsx)(l.MenuItem,{id:"create-event",label:o.Z.Messages.SCHEDULE_EVENT,icon:n?l.CalendarPlusIcon:void 0,action:()=>{(0,l.openModalLazy)(async()=>{let{default:n}=await Promise.all([t.e("22347"),t.e("58023"),t.e("36937")]).then(t.bind(t,779250));return t=>(0,a.jsx)(n,{...t,guildId:e})},d)}}):null}},771212:function(e,n,t){t.d(n,{Fv:function(){return r},eA:function(){return d}});var a=t(470079),l=t(818083),i=t(594174),s=t(981631);let o=(0,l.B)({kind:"guild",id:"2022-03_guild_access_rate_insight_experiment",label:"Guild Access Rate Insight Experiment",defaultConfig:{showAccessRate:!1},treatments:[{id:1,label:"Show guild access rate in insights",config:{showAccessRate:!0}}]});function r(e){var n;return(null===(n=i.default.getCurrentUser())||void 0===n?void 0:n.isStaff())&&o.getCurrentConfig({guildId:e,location:"77b4b2_1"}).showAccessRate}function d(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.useEffect(()=>{!n&&null!=e&&o.trackExposure({guildId:e,location:"77b4b2_2"})},[e,n]),o.useExperiment({guildId:null!=e?e:s.lds,location:"77b4b2_3"},{autoTrackExposure:!1,disable:n||null==e})}},859432:function(e,n,t){t.r(n),t(47120);var a=t(735250),l=t(470079),i=t(512722),s=t.n(i),o=t(442837),r=t(704215),d=t(481060),u=t(5036),c=t(553385),E=t(52011),I=t(890477),_=t(458034),g=t(706140),M=t(362658),A=t(241851),N=t(294978),f=t(513102),h=t(976192),T=t(429824),L=t(466330),C=t(191471),p=t(162157),x=t(623624),Z=t(894059),m=t(771212),D=t(434404),S=t(41776),R=t(837949),b=t(11352),G=t(703656),U=t(271383),v=t(496675),O=t(9156),P=t(594174),j=t(709586),y=t(626135),w=t(981631),B=t(647086),k=t(689938),H=t(82587);function V(e){(0,d.openModal)(n=>(0,a.jsx)(A.g,{...n,guild:e}))}let F=l.memo(function(e){let{guild:n,onClose:i,onSelect:A}=e,F=(0,o.e7)([P.default],()=>P.default.getCurrentUser());s()(null!=F,"GuildHeaderPopout: user cannot be undefined"),l.useEffect(()=>{y.default.track(w.rMx.GUILD_DROPDOWN_MENU_VIEWED,{guild_id:n.id})});let Y=(0,o.e7)([O.ZP],()=>O.ZP.isGuildCollapsed(n.id),[n.id]),{canAccessSettings:z,canManageChannels:K,showGuildAnalytics:W}=(0,o.cj)([v.Z],()=>{let e=v.Z.can(w.Plq.VIEW_GUILD_ANALYTICS,n)&&n.hasFeature(w.oNc.COMMUNITY);return{canAccessSettings:v.Z.canAccessGuildSettings(n),canManageChannels:v.Z.can(w.Plq.MANAGE_CHANNELS,n),showGuildAnalytics:(0,m.Fv)(n.id)||e}},[n]),q=(0,p.N8)(n),X=n.isOwner(F),J=(0,o.e7)([S.Z],()=>S.Z.isLurking(n.id),[n.id]),Q=(0,o.e7)([U.ZP],()=>U.ZP.isCurrentUserGuest(n.id)),$=(0,Z.Z)(n.id,!0),ee=(0,_.ZP)(n),en=(0,L.Z)({source:w.t4x.GUILD_HEADER,guild:n}),et=(0,h.Z)({guildId:n.id,userId:F.id,analyticsLocation:{page:w.ZY5.GUILD_CHANNEL,section:w.jXE.GUILD_DROPDOWN_MENU},icon:d.PencilIcon}),ea=n.hasFeature(w.oNc.HUB),el=n.id===B._,ei=(0,R.Z)(n.id),es=(0,N.Z)(n),eo=(0,f.Z)(n),er=(0,T.Z)(n,!0),{isFavoritesPerk:ed}=(0,M.z)("GuildHeaderPopout"),{triggerDeadchat:eu}=I.Z.useExperiment({guildId:n.id,location:"guild header"},{autoTrackExposure:!1}),{triggerGamingStats:ec}=E.F.useExperiment({guildId:n.id,location:"guild header"},{autoTrackExposure:!1}),eE=b.Y.useExperiment({location:"GuildHeaderPopout"},{autoTrackExposure:!0}).enabled,[eI]=(0,g.c)([r.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_GUILD_BADGE]),e_=eE&&eI===r.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_GUILD_BADGE;return J||Q?(0,a.jsx)(d.Menu,{onSelect:A,navId:"guild-header-popout",variant:"fixed",onClose:i,"aria-label":k.Z.Messages.GUILD_ACTIONS_MENU_LABEL,children:(0,a.jsx)(d.MenuItem,{id:"leave-guild",label:k.Z.Messages.LEAVE_SERVER,icon:d.DoorExitIcon,action:()=>{D.Z.leaveGuild(n.id),!Q&&(0,G.uL)(w.Z5c.GUILD_DISCOVERY)}})}):el?(0,a.jsxs)(d.Menu,{onSelect:A,navId:"favorites-header-popout",variant:"fixed",onClose:i,"aria-label":k.Z.Messages.GUILD_ACTIONS_MENU_LABEL,children:[(0,a.jsxs)(d.MenuGroup,{children:[ed&&(0,a.jsx)(d.MenuItem,{id:"add-channel",label:k.Z.Messages.FAVORITES_ADD_A_CHANNEL,color:"brand",icon:d.CirclePlusIcon,action:()=>(0,d.openModalLazy)(async()=>{let{default:e}=await t.e("29608").then(t.bind(t,178125));return n=>(0,a.jsx)(e,{...n})})}),(0,a.jsx)(d.MenuItem,{id:"create-category",label:k.Z.Messages.CREATE_CATEGORY,icon:d.FolderPlusIcon,action:()=>(0,d.openModalLazy)(async()=>{let{default:e}=await t.e("1812").then(t.bind(t,477782));return n=>(0,a.jsx)(e,{...n})})})]}),(0,a.jsx)(d.MenuGroup,{children:(0,a.jsx)(d.MenuCheckboxItem,{id:"hide-muted-channels",label:k.Z.Messages.HIDE_MUTED_CHANNELS,checked:Y,action:()=>u.Z.toggleCollapseGuild(n.id)})})]}):ea?(0,a.jsxs)(d.Menu,{onSelect:A,navId:"guild-header-popout",variant:"fixed",onClose:i,"aria-label":k.Z.Messages.GUILD_ACTIONS_MENU_LABEL,children:[(0,a.jsxs)(d.MenuGroup,{children:[z?(0,a.jsx)(d.MenuItem,{id:"settings",label:k.Z.Messages.SERVER_SETTINGS,icon:d.SettingsIcon,action:()=>{D.Z.open(n.id,w.pNK.OVERVIEW)}}):null,en,(0,a.jsx)(d.MenuItem,{id:"privacy",label:k.Z.Messages.PRIVACY_SETTINGS,icon:d.ShieldIcon,action:()=>(0,d.openModalLazy)(async()=>{let{default:e}=await Promise.all([t.e("96427"),t.e("77298"),t.e("23357"),t.e("19503"),t.e("15972"),t.e("12013"),t.e("6416"),t.e("39612"),t.e("32776"),t.e("95900"),t.e("33053"),t.e("8016"),t.e("68136"),t.e("50654"),t.e("76540"),t.e("22646"),t.e("87624"),t.e("5528"),t.e("3746"),t.e("43331"),t.e("30419"),t.e("18824"),t.e("80229"),t.e("98053")]).then(t.bind(t,241420));return t=>(0,a.jsx)(e,{...t,guild:n})})}),et]}),X?null:(0,a.jsx)(d.MenuGroup,{children:(0,a.jsx)(d.MenuItem,{id:"leave",label:k.Z.Messages.LEAVE_HUB,icon:d.DoorExitIcon,color:"danger",action:()=>V(n)})})]}):(0,a.jsxs)(d.Menu,{onSelect:A,navId:"guild-header-popout",variant:"fixed",onClose:i,"aria-label":k.Z.Messages.GUILD_ACTIONS_MENU_LABEL,children:[(0,a.jsx)(d.MenuGroup,{children:(0,a.jsx)(d.MenuItem,{id:"premium-subscribe",label:k.Z.Messages.PREMIUM_GUILD_HEADER_DROPDOWN_NITRO_SERVER_SUBSCRIBE,icon:(0,d.makeIconCompat)(j.Z),action:()=>{(0,x.f)({guildId:n.id,location:{section:w.jXE.GUILD_HEADER_POPOUT}})}})}),(0,a.jsxs)(d.MenuGroup,{children:[X&&F.isStaff()&&eu?(0,a.jsx)(d.MenuItem,{id:"create-deadchat",label:"Deadchat Ping",icon:d.ChatCheckIcon,action:()=>{(0,c.j8)(n.id,w.uaV.GUILD_DEADCHAT_REVIVE_PROMPT)}}):null,X&&F.isStaff()&&ec?(0,a.jsx)(d.MenuItem,{id:"create-gaming-ping",label:"Gaming Stats Ping",icon:d.ChatCheckIcon,action:()=>{(0,c.j8)(n.id,w.uaV.GUILD_GAMING_STATS_PROMPT)}}):null,en,z?(0,a.jsx)(d.MenuItem,{id:"settings",label:k.Z.Messages.SERVER_SETTINGS,icon:d.SettingsIcon,action:()=>{D.Z.open(n.id,w.pNK.OVERVIEW)}}):null,W?(0,a.jsx)(d.MenuItem,{id:"insights",label:k.Z.Messages.SERVER_INSIGHTS,icon:d.AnalyticsIcon,action:()=>D.Z.open(n.id,w.pNK.ANALYTICS)}):null,K?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.MenuItem,{id:"create-channel",label:k.Z.Messages.CREATE_CHANNEL,icon:d.CirclePlusIcon,action:()=>(0,d.openModalLazy)(async()=>{let{default:e}=await Promise.all([t.e("45094"),t.e("9458")]).then(t.bind(t,218613));return t=>(0,a.jsx)(e,{...t,channelType:w.d4z.GUILD_TEXT,guildId:n.id})})}),(0,a.jsx)(d.MenuItem,{id:"create-category",label:k.Z.Messages.CREATE_CATEGORY,icon:d.FolderPlusIcon,action:()=>(0,d.openModalLazy)(async()=>{let{default:e}=await Promise.all([t.e("45094"),t.e("9458")]).then(t.bind(t,218613));return t=>(0,a.jsx)(e,{...t,channelType:w.d4z.GUILD_CATEGORY,guildId:n.id})})})]}):null,$,es,eo,ee]}),(0,a.jsxs)(d.MenuGroup,{children:[ei,(0,a.jsx)(d.MenuItem,{id:"notifications",label:(0,a.jsxs)("div",{className:H.newBadgeRow,children:[k.Z.Messages.NOTIFICATION_SETTINGS,e_&&(0,a.jsx)(d.TextBadge,{className:H.newBadge,text:k.Z.Messages.NEW})]}),icon:e_?void 0:d.BellIcon,action:()=>(0,d.openModalLazy)(async()=>{let{default:e}=await Promise.all([t.e("5863"),t.e("32328")]).then(t.bind(t,751212));return t=>(0,a.jsx)(e,{...t,guildId:n.id})})}),(0,a.jsx)(d.MenuItem,{id:"privacy",label:k.Z.Messages.PRIVACY_SETTINGS,icon:d.ShieldIcon,action:()=>(0,d.openModalLazy)(async()=>{let{default:e}=await Promise.all([t.e("96427"),t.e("77298"),t.e("23357"),t.e("19503"),t.e("15972"),t.e("12013"),t.e("6416"),t.e("39612"),t.e("32776"),t.e("95900"),t.e("33053"),t.e("8016"),t.e("68136"),t.e("50654"),t.e("76540"),t.e("22646"),t.e("87624"),t.e("5528"),t.e("3746"),t.e("43331"),t.e("30419"),t.e("18824"),t.e("80229"),t.e("98053")]).then(t.bind(t,241420));return t=>(0,a.jsx)(e,{...t,guild:n})})})]}),(0,a.jsxs)(d.MenuGroup,{children:[et,(0,a.jsx)(d.MenuCheckboxItem,{id:"hide-muted-channels",label:k.Z.Messages.HIDE_MUTED_CHANNELS,checked:Y,action:()=>u.Z.toggleCollapseGuild(n.id)})]}),(0,a.jsxs)(d.MenuGroup,{children:[er,q&&n.isCommunity()?(0,a.jsx)(d.MenuItem,{id:"report-raid",label:k.Z.Messages.GUILD_REPORT_RAID_BUTTON_TITLE,icon:d.ShieldIcon,color:"danger",action:()=>(0,C.J)(n.id)}):null,X?null:(0,a.jsx)(d.MenuItem,{id:"leave",label:k.Z.Messages.LEAVE_SERVER,icon:d.DoorExitIcon,color:"danger",action:()=>V(n)})]})]})});n.default=F},724213:function(e,n,t){t.d(n,{hi:function(){return c},kH:function(){return E},rz:function(){return I}}),t(789020),t(47120),t(653041),t(524437);var a=t(549817);t(581883);var l=t(984933),i=t(271383),s=t(9156),o=t(630388),r=t(152376),d=t(398758),u=t(372897);function c(e){var n,t;let a=(0,d.r1)(e),l=null!==(t=null===(n=i.ZP.getSelfMember(e))||void 0===n?void 0:n.flags)&&void 0!==t?t:0,r=(0,o.yE)(l,u.q.COMPLETED_ONBOARDING),c=s.ZP.getOptedInChannels(e).size>0;return!a&&!r&&!c}function E(e){if(c(e)){I(e);return}{let n=(0,d.r1)(e);(0,r.QG)(e,!n)}}function I(e){let{include:n=new Set,exclude:t=new Set}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=l.ZP.getChannels(e),s=[...i[l.sH],...i[l.Zb]].filter(e=>{let{channel:n}=e;return!n.isThread()&&!t.has(n.id)}).map(e=>{let{channel:n}=e;return n.id});n.forEach(e=>s.push(e)),a.Z.onboardExistingMember(e,new Set(s))}},837949:function(e,n,t){t.d(n,{Z:function(){return E}});var a=t(735250);t(470079);var l=t(442837),i=t(481060),s=t(430824),o=t(594174),r=t(724213),d=t(398758),u=t(981631),c=t(689938);function E(e){let n=(0,d.DM)(e),t=(0,l.e7)([s.Z],()=>s.Z.getGuild(e)),E=(0,l.e7)([o.default],()=>o.default.getCurrentUser());return null!=E&&null!=t&&(t.hasFeature(u.oNc.COMMUNITY)||E.isStaff())?(0,a.jsx)(i.MenuCheckboxItem,{id:"opt-in",label:c.Z.Messages.GUILD_CHANNEL_OPT_IN,checked:!n,action:()=>{(0,r.kH)(e)}}):null}},750195:function(e,n,t){e.exports={}},800784:function(e,n,t){e.exports={labelWrapper:"labelWrapper_c61a51",label:"label_c61a51"}},463303:function(e,n,t){e.exports={mainChannelContainer:"mainChannelContainer_dc2d6e",enableAlertsContainer:"enableAlertsContainer_dc2d6e",enabledAlertsCheckbox:"enabledAlertsCheckbox_dc2d6e",channelSelect:"channelSelect_dc2d6e"}},82587:function(e,n,t){e.exports={newBadgeRow:"newBadgeRow_f08bf8",newBadge:"newBadge_f08bf8"}}}]);
//# sourceMappingURL=a0559d5119ac841e543b.js.map