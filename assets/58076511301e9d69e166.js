"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["22173"],{210913:function(e,t,n){e.exports=n.p+"f50cda962897d21b9ebe.svg"},526705:function(e,t,n){e.exports=n.p+"b9daa76ecf3a9079606f.svg"},784370:function(e,t,n){e.exports=n.p+"ec5614ac16f5a30ed9c6.gif"},64395:function(e,t,n){e.exports=n.p+"0ba29b416c97dd8e2402.svg"},980568:function(e,t,n){var i=n(570140),s=n(626135),o=n(981631);t.Z={dismissForApplicationId(e){i.Z.dispatch({type:"ACTIVITY_INVITE_EDUCATION_DISMISS",key:e,value:!0}),s.default.track(o.rMx.CLOSE_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e,acknowledged:!0})}}},738619:function(e,t,n){n.d(t,{Z:function(){return W}}),n(653041),n(47120);var i=n(735250),s=n(470079),o=n(120356),a=n.n(o),l=n(392711),r=n.n(l),c=n(913527),u=n.n(c),d=n(748780),h=n(866442),m=n(442837),p=n(692547),g=n(481060),f=n(980568),T=n(560768),_=n(812206),v=n(243778),b=n(843693),E=n(246642),I=n(921227),x=n(314897),C=n(430824),R=n(496675),S=n(699516),N=n(885110),O=n(300429),Z=n(111583),j=n(594174),M=n(451478),A=n(626135),y=n(585483),P=n(70956),L=n(823379),w=n(5192),U=n(981631),k=n(689938),B=n(497800);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let F=[];class V extends s.PureComponent{componentDidMount(){this.timeout=setTimeout(()=>{this.setState({fadeIn:!0}),this.timeout=null,this.logShownEventIfNeeded()},100)}componentDidUpdate(){this.logShownEventIfNeeded()}logShownEventIfNeeded(){let e=this.props.activity.application_id;null!=e&&-1===F.indexOf(e)&&(A.default.track(U.rMx.SHOW_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e}),F.push(e))}componentWillUnmount(){null!==this.timeout&&clearTimeout(this.timeout)}render(){let{activity:e}=this.props;return(0,i.jsxs)("div",{className:a()(B.activityInviteEducation,{[B.activityInviteEducationFadeIn]:this.state.fadeIn}),children:[(0,i.jsx)("div",{className:B.activityInviteEducationArrow}),(0,i.jsx)("span",{children:k.Z.Messages.USER_ACTIVITY_CHAT_INVITE_EDUCATION.format({game:e.name,dismissOnClick:this.handleDismissInviteEducation})})]})}constructor(...e){super(...e),D(this,"state",{fadeIn:!1}),D(this,"timeout",null),D(this,"handleDismissInviteEducation",()=>{let{activity:e}=this.props;null!=e&&null!=e.application_id&&f.Z.dismissForApplicationId(e.application_id)})}}function H(e){let{channel:t,guild:n}=e;return(0,i.jsx)(v.Z,{contentTypes:[],children:e=>{let{visibleContent:t,markAsDismissed:n}=e;return null}})}class G extends s.PureComponent{componentDidMount(){y.S.subscribe(U.CkL.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)}componentWillUnmount(){y.S.unsubscribe(U.CkL.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)}getCooldownTextStyle(){let{color:e}=this.state,{baseTextColor:t,activeTextColor:n}=this.props;return{color:e.interpolate({inputRange:[0,1],outputRange:[t,(0,h.wK)(n,.9)]})}}render(){let e;let{guildId:t,activity:n,showInviteEducation:s,isFocused:o,typingUsers:l,className:c,slowmodeCooldownGuess:h,isBypassSlowmode:m,channel:p,isThreadCreation:f,renderDots:T,poggermodeEnabled:_,isComboing:v}=this.props,{rateLimitPerUser:b}=p,I=j.default.getCurrentUser(),x=C.Z.getGuild(t),R=b>0,N=f?[]:r()(l).keys().filter(e=>e!==(null==I?void 0:I.id)).reject(e=>S.Z.isBlocked(e)).map(e=>j.default.getUser(e)).filter(L.lm).map(e=>w.ZP.getName(t,this.props.channel.id,e)).value();if(0===N.length&&!R&&!v)return s&&null!=n?(0,i.jsx)(V,{activity:n,isFocused:o}):(0,i.jsx)(H,{channel:p,guild:x});let O="",Z=null,M="";if(R){if(Z=(0,i.jsx)(g.TimerIcon,{size:"xs",color:"currentColor",className:B.slowModeIcon}),b>=P.Z.Seconds.HOUR){let e=Math.floor(b/P.Z.Seconds.HOUR),t=Math.floor((b-e*P.Z.Seconds.HOUR)/P.Z.Seconds.MINUTE),n=b-e*P.Z.Seconds.HOUR-t*P.Z.Seconds.MINUTE;M=k.Z.Messages.CHANNEL_SLOWMODE_DESC_HOURS.format({hours:e,minutes:t,seconds:n})}else if(b>=60){let e=Math.floor(b/60);M=k.Z.Messages.CHANNEL_SLOWMODE_DESC_MINUTES.format({minutes:e,seconds:b-60*e})}else M=k.Z.Messages.CHANNEL_SLOWMODE_DESC.format({seconds:b});if(!m&&h>0){let e=u().duration(h);if(h>P.Z.Millis.HOUR){let t="".concat(e.minutes()).padStart(2,"0"),n="".concat(e.seconds()).padStart(2,"0");O="".concat(e.hours(),":").concat(t,":").concat(n)}else{let t="".concat(e.seconds()).padStart(2,"0");O="".concat(e.minutes(),":").concat(t)}}else 0===N.length&&(O=m?k.Z.Messages.CHANNEL_SLOWMODE_DESC_IMMUNE:k.Z.Messages.CHANNEL_SLOWMODE_DESC_SHORT)}let[A,y,U]=N;return e=0===N.length?"":1===N.length?k.Z.Messages.ONE_USER_TYPING.format({a:A}):2===N.length?k.Z.Messages.TWO_USERS_TYPING.format({a:A,b:y}):3===N.length?k.Z.Messages.THREE_USERS_TYPING.format({a:A,b:y,c:U}):k.Z.Messages.SEVERAL_USERS_TYPING,(0,i.jsxs)("div",{className:a()(B.typing,{"stop-animation":!o,[B.isComboing]:_&&v},c),children:[(0,i.jsxs)("div",{className:B.typingDots,children:[N.length>0&&!1!==T&&(0,i.jsx)(g.Dots,{className:B.ellipsis,dotRadius:3.5,themed:!0}),(0,i.jsx)("span",{className:B.text,"aria-live":"polite","aria-atomic":!0,children:e})]}),R&&(0,i.jsx)(g.Tooltip,{text:M,children:e=>(0,i.jsxs)(d.Z.div,{style:this.getCooldownTextStyle(),className:B.cooldownWrapper,...e,children:[O,Z]})}),_&&v&&(0,i.jsx)(E.Z,{channelId:p.id})]})}constructor(...e){super(...e),D(this,"state",{color:new d.Z.Value(0)}),D(this,"emphasizeSlowmodeCooldown",()=>{let{color:e}=this.state;d.Z.sequence([d.Z.timing(e,{toValue:1,duration:100,easing:d.Z.Easing.quad}),d.Z.timing(e,{delay:250,toValue:0,duration:100,easing:d.Z.Easing.quad})]).start()})}}function W(e){let{channel:t,isThreadCreation:n=!1,...s}=e,o=(0,m.e7)([N.Z],()=>N.Z.findActivity(e=>null!=e.application_id)),a=(0,m.e7)([b.ZP,x.default],()=>b.ZP.getUserCombo(x.default.getId(),t.id)),l=(0,m.e7)([I.Z,_.Z],()=>(0,T.Z)(t,o,I.Z,_.Z)),r=(0,m.e7)([O.Z],()=>O.Z.getSlowmodeCooldownGuess(t.id,n?O.S.CreateThread:O.S.SendMessage)),c=(0,m.e7)([R.Z],()=>n?R.Z.can(U.Plq.MANAGE_THREADS,t):R.Z.can(U.Plq.MANAGE_CHANNELS,t)||R.Z.can(U.Plq.MANAGE_MESSAGES,t)),u={...s,baseTextColor:(0,g.useToken)(p.Z.colors.INTERACTIVE_NORMAL).hex(),activeTextColor:(0,g.useToken)(p.Z.colors.INTERACTIVE_NORMAL).hex(),showInviteEducation:l,activity:o,typingUsers:(0,m.e7)([Z.Z],()=>Z.Z.getTypingUsers(t.id)),isFocused:(0,m.e7)([M.Z],()=>M.Z.isFocused()),guildId:t.guild_id,slowmodeCooldownGuess:r,isComboing:null!=a,isBypassSlowmode:c,channel:t,isThreadCreation:n};return(0,i.jsx)(G,{...u})}},785388:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}}),n(47120),n(653041),n(177593),n(411104);var i=n(735250),s=n(470079),o=n(120356),a=n.n(o),l=n(392711),r=n.n(l),c=n(866442),u=n(442837),d=n(780384),h=n(481060),m=n(596454),p=n(129861),g=n(700582),f=n(607070),T=n(633302),_=n(712057),v=n(660189),b=n(372900),E=n(566006),I=n(620652),x=n(815605),C=n(222677),R=n(995774),S=n(665906),N=n(210887),O=n(314897),Z=n(592125),j=n(271383),M=n(542578),A=n(375954),y=n(496675),P=n(699516),L=n(594174),w=n(285952),U=n(768581),k=n(176354),B=n(5192),D=n(709054),F=n(91047),V=n(981631),H=n(689938),G=n(260018),W=n(331651);function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){return null==e.id?T.ZP.convertSurrogateToName(e.name):":".concat(e.name,":")}let Y=e=>{let{emoji:t,channelId:n,messageId:o}=e,[l,r]=s.useState(!0),[c,u]=s.useState([]),d=s.useMemo(()=>{if(null==c||c.length<1)return;let e=(0,x.Zn)(t,c[0],n,{emojiSize:I.M.LARGE,messageId:o});return(0,i.jsx)(I.Z,{className:G.__invalid_effect,effect:e,emojiSize:I.M.LARGE,onComplete:()=>r(!1)})},[c,t,n,o]);return s.useEffect(()=>{let e=!1;return r(!0),!async function(){let n=await (0,k.B6)(t);Array.isArray(n)&&n.length>0&&!e&&u(n)}(),()=>{e=!0}},[t]),(0,i.jsxs)("div",{className:G.burstEmojiSection,children:[d,(0,i.jsx)(m.Z,{className:a()(G.burstEmoji,{[G.hideEmoji]:l}),emojiId:t.id,emojiName:t.name,animated:t.animated,size:"reaction"}),(0,i.jsx)(h.Text,{variant:"text-md/medium",children:K(t)})]})};class J extends s.PureComponent{render(){let{emoji:e,count:t,isSelected:n,setSelected:s,reactionType:o,colors:l}=this.props,r=K(e),u=function(e,t,n,s){let o=null==e.id?k.ZP.getURL(e.name):U.ZP.getEmojiURL({id:e.id,animated:e.animated,size:24});return null!=o&&""!==o?(0,i.jsx)("img",{className:n,src:o,alt:e.name}):(0,i.jsx)("span",{className:s,children:e.name})}(e,24,G.emoji,a()(G.emoji,G.emojiText)),d=o===E.O.BURST,m=(d?H.Z.Messages.BURST_REACTION_REACTORS_A11Y:H.Z.Messages.REACTION_REACTORS_A11Y).format({name:r,n:t}),p={},g={};if(d){let{backgroundColor:e="",opacity:t=1,accentColor:i=""}=null!=l?l:{};if(g.color=i,n){var f;p.background=null!==(f=(0,c.wK)(e,t))&&void 0!==f?f:""}}return(0,i.jsx)(h.Tooltip,{position:"left",text:r,children:l=>{let{onMouseEnter:r,onMouseLeave:c}=l;return(0,i.jsxs)(h.Clickable,{className:a()({[G.reactionDefault]:!n,[G.reactionSelected]:n}),"aria-label":m,onClick:()=>s({emoji:e,reactionType:o}),onMouseEnter:r,onMouseLeave:c,style:p,children:[u,(0,i.jsx)(h.Text,{variant:"text-sm/bold",style:g,children:t})]})}})}}function q(e){let{emoji:t,user:n,message:s,channel:o,guildId:a,reactionType:l,onRemoveReactor:r,disableManage:c=!1}=e,d=(0,u.e7)([O.default],()=>O.default.getId()),m=(0,u.e7)([L.default],()=>L.default.getUser(n.id),[n]),f=(0,S.$R)(o),T=(0,u.e7)([y.Z],()=>y.Z.can(V.Plq.MANAGE_MESSAGES,o)&&f)||d===n.id,_=(0,u.e7)([j.ZP,Z.Z,P.Z],()=>B.ZP.getName(a,o.id,n));return(0,i.jsxs)(w.Z,{className:G.reactorDefault,onContextMenu:e=>(0,F.Pv)(e,n,o),align:w.Z.Align.CENTER,children:[(0,i.jsx)(w.Z.Child,{wrap:!0,grow:0,shrink:0,className:W.marginReset,children:(0,i.jsx)(g.Z,{user:null!=m?m:n,size:h.AvatarSizes.SIZE_24})}),(0,i.jsx)(w.Z.Child,{children:(0,i.jsxs)(h.Text,{tag:"strong",variant:"text-md/normal",className:G.name,children:[null!=_&&""!==_&&(0,i.jsx)("span",{className:n.isPomelo()?"":G.nickname,children:_}),(0,i.jsx)(p.Z,{user:n,className:null!=_&&""!==_?G.tagFaded:null,usernameClass:G.username,discriminatorClass:G.discriminator,forceUsername:!0})]})}),!c&&T&&(0,i.jsx)(h.Clickable,{onClick:function(){C.Vn({emoji:t,userId:n.id,channelId:o.id,messageId:s.id,reactionType:l,isMe:d===n.id}),null==r||r()},children:(0,i.jsx)(h.CloseSmallIcon,{size:"xs",color:"currentColor",className:G.remove})})]})}class X extends s.PureComponent{componentDidMount(){this.loadMore()}componentDidUpdate(e){(!r().isEqual(this.props.reaction,e.reaction)||this.props.reactionType!==e.reactionType)&&this.setState({lastId:null,loadingMore:!1},()=>this.loadMore())}loadMore(){let{message:e,reaction:t,reactionType:n}=this.props,{lastId:i}=this.state;this.setState({loadingMore:!0}),C.U0({channelId:e.getChannelId(),messageId:e.id,emoji:t.emoji,limit:V.pTL,after:i,type:n}).then(e=>{var t;return this.setState({loadingMore:!1,lastId:null===(t=e[e.length-1])||void 0===t?void 0:t.id})})}renderSection(){return null}render(){let{hasMore:e,reactors:t,reaction:n,message:s,reactionType:o}=this.props,a=[];return 0===t.length&&this.state.loadingMore?a.push(length):(a.push(t.length),e&&a.push(1)),(0,i.jsxs)("div",{className:G.reactorsContainer,children:[o===E.O.BURST&&(0,i.jsx)(Y,{emoji:n.emoji,channelId:s.getChannelId(),messageId:s.id}),(0,i.jsx)(h.List,{className:G.reactors,fade:!0,ref:this.scrollerRef,sections:a,sectionHeight:0,rowHeight:this.getRowHeight,renderRow:this.renderRow,renderSection:this.renderSection,onScroll:e?this.handleScroll:void 0})]})}constructor(...e){super(...e),z(this,"scrollerRef",s.createRef()),z(this,"state",{lastId:null,loadingMore:!1}),z(this,"handleScroll",()=>{let{current:e}=this.scrollerRef;if(null==e)return;let t=e.getScrollerState();t.scrollTop+t.offsetHeight>=t.scrollHeight-44&&this.props.hasMore&&!this.state.loadingMore&&this.loadMore()}),z(this,"getRowHeight",(e,t)=>{let{reactors:n}=this.props;if(1===e)return 0===t?44:0;if(0===e){if(0===t&&0===n.length)return 440;if(null!=this.props.reactors[t])return 44}return 0}),z(this,"renderRow",e=>{let{section:t,row:n}=e,{message:s,guildId:o,channel:a,reaction:l,reactors:r,reactionType:c,disableManage:u}=this.props,d=r[n];if(1===t)return 0===n?(0,i.jsx)(h.Spinner,{className:G.spinnerMore},"hasMore"):null;return 0===r.length&&this.state.loadingMore?(0,i.jsx)(h.Spinner,{className:G.spinner},"loadingMore"):null!=d&&(0,i.jsx)(q,{message:s,emoji:l.emoji,guildId:o,channel:a,user:d,reaction:l,reactionType:c,disableManage:u},d.id)})}}let $=u.ZP.connectStores([M.Z],e=>{let{message:t,reaction:n,reactionType:i}=e,s=M.Z.getReactions(t.getChannelId(),t.id,n.emoji,V.pTL,i);if(null==s)return{reactors:[],hasMore:!1};let o=Object.values(s),a=(i===E.O.BURST?n.burst_count:n.count)>o.length;return{reactors:o,hasMore:a}})(X);function Q(e){var t;let{message:n,selectedReaction:o,disableManage:a=!1,disableTabs:l=!1,onClose:r,transitionState:c,"aria-label":m=H.Z.Messages.REACTIONS}=e,p=(0,u.e7)([Z.Z],()=>Z.Z.getChannel(n.getChannelId())),g=null==p?void 0:p.getGuildId(),T=(0,u.e7)([A.Z,v.Z],()=>{var e,t;let i=null!==(t=A.Z.getMessage(n.getChannelId(),n.id))&&void 0!==t?t:null===(e=v.Z.getMessage(D.default.castMessageIdAsChannelId(n.id)))||void 0===e?void 0:e.firstMessage;return null!=i?i.reactions:[]},[n]);let I=(t=T,s.useMemo(()=>{let e=[];return t.forEach(t=>{t.burst_count>0&&e.push({...t,count:0}),t.count>0&&e.push({...t,burst_count:0})}),e.sort((e,t)=>{let n=e.burst_count>0?e.burst_count:e.count;return(t.burst_count>0?t.burst_count:t.count)-n}),e},[t])),x=I[0],[C,S]=function(e,t,n){let[i,o]=s.useState(null!=e?e:t);return s.useEffect(()=>{null!=i&&null==n.find(e=>{let t=null!=e.me_vote?E.O.VOTE:e.burst_count>0?E.O.BURST:E.O.NORMAL;return(0,R.ir)(e.emoji,i.emoji)&&t===i.reactionType})&&o(t)},[i,o,n,t]),[i,o]}(o,null!=x?{emoji:x.emoji,reactionType:x.burst_count>0?E.O.BURST:E.O.NORMAL}:null,T),O=s.useMemo(()=>{var e;return null==C?null:null!==(e=T.find(e=>(0,R.ir)(e.emoji,C.emoji)))&&void 0!==e?e:null},[T,C]),j=(0,u.e7)([f.Z],()=>f.Z.saturation),M=(0,u.e7)([N.Z],()=>(0,d.wj)(N.Z.theme));if(s.useEffect(()=>{(0===T.length||null==C&&null==O)&&setImmediate(r)},[r,T.length,O,C]),null==C||null==O)return(0,i.jsx)(h.Spinner,{});if(null==p)throw Error("MessageReactions.render: Message does not have a channelId");return(0,i.jsx)(b.Z.Provider,{value:null!=g?g:void 0,children:(0,i.jsxs)(h.ModalRoot,{"aria-label":m,transitionState:c,size:h.ModalSize.DYNAMIC,className:G.container,children:[l?null:(0,i.jsx)(h.Scroller,{className:G.scroller,fade:!0,children:I.map(e=>{var t;let n=e.burst_count>0;return(0,i.jsx)(J,{isSelected:ee(C,e,n?E.O.BURST:E.O.NORMAL),setSelected:S,reactionType:n?E.O.BURST:E.O.NORMAL,emoji:e.emoji,count:n?e.burst_count:e.count,colors:null!=e.burst_colors?(0,_.Z)(e.burst_colors,j,M):void 0},"".concat(n?"burst-":"normal-").concat(null!==(t=e.emoji.id)&&void 0!==t?t:"",":").concat(e.emoji.name))})}),(0,i.jsx)($,{message:n,reaction:O,guildId:g,channel:p,reactionType:C.reactionType,disableManage:a})]})})}let ee=(e,t,n)=>r().isEqual(e.emoji,t.emoji)&&e.reactionType===n},963374:function(e,t,n){n.d(t,{nC:function(){return d}}),n(47120),n(757143),n(653041);var i=n(392711),s=n.n(i),o=n(697741);let a=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function l(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function r(e){return e.toLowerCase()}function c(e){return a.has(e)}function u(e){return 0===e.length}function d(e){var t;let n=new Set((t=e,s()(t.split(/\W+/)).map(l).reject(u).map(r).reject(c).map(o.$).value()));return e=>(function e(t,n){if(Array.isArray(t))t.forEach(t=>e(t,n));else if("string"==typeof t.content&&"codeBlock"!==t.type){let e=[],i="";t.content.split(/(\W+)/g).forEach(t=>{var s,a;if(s=t,a=n,!u(s=r(l(s)))&&!c(s)&&a.has((0,o.$)(s)))i.length>0&&e.push({type:"text",content:i}),e.push({type:"highlight",content:t}),i="";else i+=t}),e.length>0&&(i.length>0&&e.push({type:"text",content:i}),"text"===t.type?t.content=e:t.content=[{type:"text",content:e}])}else null!=t.content&&e(t.content,n);return t})(e,n)}},560768:function(e,t,n){n.d(t,{Z:function(){return a}}),n(789020);var i=n(630388),s=n(620662),o=n(981631);function a(e,t,n,a){let l=null==t?void 0:t.application_id;if(null==e||null==t||!(0,s.Z)(t,o.xjy.JOIN)||null==l)return!1;let r=a.getApplication(l);return!(null==r||(0,i.yE)(r.flags,o.udG.EMBEDDED))&&n.shouldShowEducation(l)}},98474:function(e,t,n){n.d(t,{Z:function(){return T}}),n(47120);var i=n(735250),s=n(470079),o=n(887024),a=n(920906),l=n(748780),r=n(596454),c=n(745510),u=n(912893),d=n(153850),h=n(768581),m=n(176354),p=n(675654),g=n(883021);let f=[];function T(e){let{messageId:t,emoji:n,startPosition:T,targetPosition:_}=e,[v,b]=s.useState(0),[E,I]=s.useState(0),[x,C]=s.useState(null),{confettiCanvas:R}=s.useContext(c.h),S=(0,o.uR)(R,x),N=s.useMemo(()=>[{src:null==n.id?m.ZP.getURL(n.name):h.ZP.getEmojiURL({id:n.id,animated:!1,size:22}),colorize:!1}],[n.name,n.id]),O=_.x-_.width/2*.5,Z=_.y-_.height/2*.5,j=(0,a.useSpring)({from:{y:T.y},to:{y:Z},config:{duration:450,easing:l.Z.Easing.in(l.Z.Easing.exp)},onChange:e=>{let{y:t}=e;I(t)}}),M=(0,a.useSpring)({from:{x:T.x,scale:1,opacity:1},to:{x:O,scale:.5,opacity:.4},config:{duration:450,easing:l.Z.Easing.in(l.Z.Easing.ease)},onRest:()=>{(0,u.G)(t,n.name,n.id)},onChange:e=>{let{x:t}=e;b(t)}});return s.useEffect(()=>{v>0&&E>0&&S.createConfetti({...p.We,position:{type:"static",value:{x:v,y:E}}})},[S,v,E]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Ji,{ref:C,sprites:N,colors:f,spriteWidth:p.Ko,spriteHeight:p.Ko}),(0,i.jsx)(d.ZP,{children:(0,i.jsx)(a.animated.div,{style:{...j},className:g.emojiContainer,children:(0,i.jsx)(a.animated.div,{style:{...M,opacity:M.opacity},children:(0,i.jsx)(r.Z,{className:g.emoji,emojiId:n.id,emojiName:n.name,animated:n.animated,size:"jumbo"})})})})]})}},56314:function(e,t,n){n.d(t,{v:function(){return r}});var i=n(442837),s=n(780384),o=n(607070),a=n(210887),l=n(712057);let r=e=>{let t=(0,i.e7)([o.Z],()=>o.Z.saturation),n=(0,i.e7)([a.Z],()=>(0,s.wj)(a.Z.theme));return(0,l.Z)(e,t,n)}},109434:function(e,t,n){n.d(t,{H:function(){return f},v:function(){return T}}),n(47120);var i=n(512722),s=n.n(i),o=n(652874),a=n(313361),l=n(683860),r=n(442837),c=n(592125),u=n(559241);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=new Set,m={layoutType:a.X.LIST,sortOrder:l.z.CREATION_DATE,tagFilter:h,scrollPosition:0};class p{constructor(e,t){d(this,"set",void 0),d(this,"get",void 0),d(this,"channelStates",void 0),d(this,"setChannelState",void 0),d(this,"getChannelState",void 0),d(this,"toggleTagFilter",void 0),d(this,"setTagFilter",void 0),d(this,"setSortOrder",void 0),d(this,"setLayoutType",void 0),d(this,"setScrollPosition",void 0),this.set=e,this.get=t,this.channelStates={},this.setChannelState=(e,t)=>{let n=this.get(),i=this.getChannelState(e),s={...n.channelStates};s[e]={...i,...t},this.set({channelStates:s})},this.getChannelState=e=>{if(null==e)return m;let{channelStates:t}=this.get(),n=t[e];if(null==n){let t=c.Z.getChannel(e);s()(null!=t,"[Forum Channel Store] The channel should not be missing."),n={layoutType:t.getDefaultLayout(),sortOrder:t.getDefaultSortOrder(),tagFilter:h,scrollPosition:0}}return n},this.toggleTagFilter=(e,t)=>{let n=new Set(this.getChannelState(e).tagFilter);n.has(t)?n.delete(t):n.add(t),this.setTagFilter(e,n)},this.setTagFilter=(e,t)=>{this.setChannelState(e,{tagFilter:t}),u.Z.setFilterTagIds(t)},this.setSortOrder=(e,t)=>{this.setChannelState(e,{sortOrder:t}),u.Z.setSortOrder(t)},this.setLayoutType=(e,t)=>{this.setChannelState(e,{layoutType:t}),u.Z.setLayout(t)},this.setScrollPosition=(e,t)=>{this.setChannelState(e,{scrollPosition:t})}}}let g=(0,o.Z)((e,t)=>new p(e,t)),f=e=>{let t=g();return null==(0,r.e7)([c.Z],()=>c.Z.getChannel(e))?m:t.getChannelState(e)},T=()=>g},73315:function(e,t,n){n(627341);var i=n(735250);n(470079);var s=n(120356),o=n.n(s),a=n(278074),l=n(481060),r=n(169525),c=n(678397);t.Z=e=>{let{obscureReason:t,iconClassname:n}=e;return(0,a.EQ)(t).with(r.wk.EXPLICIT_CONTENT,()=>(0,i.jsx)(l.ImageWarningIcon,{className:o()(n,c.obscuredIcon),color:"white"})).with(r.wk.SPOILER,()=>(0,i.jsx)(l.EyeIcon,{size:"md",color:"currentColor",className:n})).otherwise(()=>null)}},404616:function(e,t,n){n.d(t,{Lp:function(){return ee},NN:function(){return ei},TJ:function(){return et},au:function(){return er},kZ:function(){return el},m9:function(){return ea},og:function(){return eu}}),n(47120);var i=n(735250),s=n(470079),o=n(120356),a=n.n(o),l=n(512722),r=n.n(l),c=n(913527),u=n.n(c),d=n(91192),h=n(442837),m=n(692547),p=n(481060),g=n(738619),f=n(393238),T=n(963374),_=n(406432),v=n(169525),b=n(566006),E=n(255269),I=n(937889),x=n(443877),C=n(524444),R=n(287151),S=n(695346),N=n(433355),O=n(592125),Z=n(496675),j=n(699516),M=n(451478),A=n(18732),y=n(68588),P=n(512665),L=n(602623),w=n(55935),U=n(109434),k=n(456269),B=n(109590),D=n(660189),F=n(208970),V=n(73315),H=n(470623),G=n(196255),W=n(858543),z=n(265641),K=n(627896),Y=n(883728),J=n(981631),q=n(768760),X=n(689938),$=n(804702),Q=n(622322);let ee=72,et=72;t.ZP=s.memo(function(e){let{threadId:t,goToThread:n,observePostVisibilityAnalytics:o,overrideMedia:l,className:c,containerWidth:u}=e,{channel:m,isOpen:g,messageCount:T,firstMessage:_,content:v,media:b}=function(e){let{threadId:t,overrideMedia:n}=e,i=(0,h.e7)([O.Z],()=>O.Z.getChannel(t));r()(null!=i,"the thread should not be null here, a store must have missed an update");let s=(0,h.e7)([N.ZP],()=>N.ZP.getCurrentSidebarChannelId(i.parent_id)===i.id),{firstMessage:o}=(0,B.cl)(i),{content:a,firstMedia:l}=(0,k.mX)({firstMessage:o}),{messageCountText:c}=(0,k.nP)(i);return{channel:i,isOpen:s,messageCount:c,firstMessage:o,content:a,media:null!=n?n:l}}({threadId:t,overrideMedia:l}),{ref:E,height:I}=(0,f.Z)(),x=(0,H.xH)(e=>e.setCardHeight);s.useEffect(()=>{null!=I&&x(t,I)},[I,x,t]),s.useEffect(()=>{null==o||o(E.current,t)},[E,o,t]);let C=s.useRef(null),{handleLeftClick:R,handleRightClick:S}=(0,Y.Z)({facepileRef:C,goToThread:n,channel:m}),{role:Z,onFocus:j,...M}=(0,d.JA)(t),{isFocused:A,handleFocus:y,handleBlur:P}=(0,z.Z)(j);return(0,i.jsxs)("div",{ref:E,"data-item-id":t,onClick:R,onContextMenu:S,className:a()($.container,c,{[$.isOpen]:g}),children:[(0,i.jsx)(p.Clickable,{onClick:R,focusProps:{ringTarget:E},onContextMenu:S,"aria-label":X.Z.Messages.FORUM_POST_ARIA_LABEL.format({title:m.name,count:T}),className:$.focusTarget,onFocus:y,onBlur:P,...M}),(0,i.jsxs)("div",{className:$.left,children:[(0,i.jsx)(p.HeadingLevel,{children:(0,i.jsx)(en,{channel:m,firstMessage:_,content:v,hasMediaAttachment:null!=b,containerWidth:u})}),(0,i.jsx)(p.FocusBlock,{enabled:!A,children:(0,i.jsx)(eo,{channel:m,firstMessage:_,facepileRef:C})})]}),(null==_?void 0:_.blocked)||null==b?null:(0,i.jsx)(ed,{channel:m,firstMedia:b})]})});function en(e){let{channel:t,firstMessage:n,content:s,hasMediaAttachment:o,containerWidth:l}=e,{isNew:r,hasUnreads:c}=(0,k.J$)(t),u=ei(t),{postTitleRef:d,isNewBadgeOverflow:h}=(0,K.x)(r,24,l);return(0,i.jsxs)("div",{className:$.body,children:[(0,i.jsx)(W.ZP,{channel:t}),(0,i.jsx)("div",{className:a()($.header,{[$.withNewBadgeOverflow]:h}),children:(0,i.jsxs)("div",{className:$.headerText,children:[(0,i.jsx)(p.Heading,{variant:"heading-lg/semibold",color:c?"header-primary":"text-muted",lineClamp:2,className:$.postTitleText,children:(0,i.jsxs)("span",{ref:d,children:[u,r&&(0,i.jsx)("span",{className:$.newBadgeWrapper,children:(0,i.jsx)(p.TextBadge,{className:$.newBadge,color:m.Z.unsafe_rawColors.BRAND_260.css,text:X.Z.Messages.NEW})})]})}),r&&h&&(0,i.jsx)(p.TextBadge,{className:$.newBadge,color:m.Z.unsafe_rawColors.BRAND_260.css,text:X.Z.Messages.NEW})]})}),(0,i.jsx)("div",{className:$.message,children:(0,i.jsx)(es,{channel:t,message:n,content:s,hasMediaAttachment:o,hasUnreads:c})})]})}function ei(e){let t=(0,h.e7)([F.Z],()=>F.Z.getHasSearchResults(e.parent_id)),n=(0,h.e7)([F.Z],()=>F.Z.getSearchQuery(e.parent_id)),i=s.useMemo(()=>(0,T.nC)(t&&null!=n?n:""),[t,n]);return s.useMemo(()=>(0,I.ZP)({content:e.name,embeds:[]},{postProcessor:i}).content,[e.name,i])}let es=s.memo(function(e){let{message:t,channel:n,content:s,hasMediaAttachment:o,hasUnreads:l}=e,r=(0,h.e7)([j.Z],()=>null!=t&&j.Z.isBlockedForMessage(t)),c=(0,h.e7)([D.Z],()=>D.Z.isLoading(n.id)),u=(0,h.e7)([Z.Z],()=>Z.Z.can(J.Plq.MANAGE_MESSAGES,n)),d=S.cC.useSetting(),m=null;if(r)m=(0,i.jsx)(p.Text,{className:$.blockedMessage,variant:"text-sm/medium",color:"text-muted",children:X.Z.Messages.FORUM_POST_BLOCKED_FIRST_MESSAGE});else{let{contentPlaceholder:e,renderedContent:n}=null==t?{contentPlaceholder:null,renderedContent:null}:(0,P.f)(t,s,r,a()($.messageContent,Q.inlineFormat,Q.__invalid_smallFontSize),{leadingIconClass:$.messageContentLeadingIcon,trailingIconClass:$.messageContentTrailingIcon,iconSize:q.WW});m=null!=n?(0,i.jsx)(p.Text,{variant:"text-sm/semibold",color:l?"header-secondary":"text-muted",children:n}):o?null:(0,i.jsx)(p.Text,{tag:"span",variant:"text-sm/medium",color:l?"header-secondary":"text-muted",className:$.messageContent,children:null==t?c?null:X.Z.Messages.REPLY_QUOTE_MESSAGE_DELETED:e})}return(0,i.jsxs)(y.a.Provider,{value:(0,E.Z)(d,u),children:[!r&&(0,i.jsx)(G.Z,{channel:n,message:t,renderColon:null!=m,hasUnreads:l}),(0,i.jsx)(p.FocusBlock,{className:$.messageFocusBlock,children:m})]})});function eo(e){let{channel:t,facepileRef:n,firstMessage:s}=e,o=(0,k.Q)(t),a=(null==s?void 0:s.reactions)!=null&&s.reactions.length>0;return(0,i.jsxs)("div",{className:$.footer,children:[a||null==s?null:(0,i.jsx)(el,{firstMessage:s,channel:t}),null==s?null:(0,i.jsx)(er,{firstMessage:s,channel:t}),(0,i.jsx)(ea,{channel:t,iconSize:14}),(0,i.jsx)("span",{className:$.bullet,children:"•"}),o.length>0?(0,i.jsxs)("div",{className:$.typing,children:[(0,i.jsx)(eu,{channel:t,userIds:o,facepileRef:n}),(0,i.jsx)("div",{className:$.dots,children:(0,i.jsx)(p.Dots,{themed:!0,dotRadius:2})}),(0,i.jsx)(g.Z,{channel:t,className:$.typingUsers,renderDots:!1})]}):(0,i.jsx)(ec,{channel:t})]})}function ea(e){let{channel:t,iconSize:n,showReadState:s=!1}=e,{messageCountText:o,unreadCount:l}=(0,k.nP)(t);return(0,i.jsxs)("div",{className:a()($.messageCountBox,{[$.hasRead]:s&&null==l}),children:[(0,i.jsx)("span",{className:$.messageCountIcon,children:(0,i.jsx)(p.ChatIcon,{size:"custom",color:"currentColor",width:n,height:n})}),"number"==typeof o?(0,i.jsx)(A.Z,{value:o,digitWidth:9,className:$.messageCountText}):(0,i.jsx)("div",{className:$.messageCountText,children:o}),null==l?null:(0,i.jsxs)(p.Text,{className:$.newMessageCount,variant:"text-sm/semibold",color:"text-brand",children:["(",X.Z.Messages.FORUM_POST_MESSAGE_COUNT_SHORT.format({count:l}),")"]})]})}function el(e){let{firstMessage:t,channel:n}=e,s=(0,h.e7)([O.Z],()=>O.Z.getChannel(n.parent_id)),o=(0,k.Bs)(s),{disableReactionCreates:a,isLurking:l,isPendingMember:r}=(0,x.Z)(n);return null==o||a?null:(0,i.jsx)(R.le,{className:$.updateReactionButton,message:t,readOnly:n.isArchivedLockedThread(),useChatFontScaling:!1,isLurking:l,isPendingMember:r,emoji:o,hideCount:!0,count:0,burst_count:0,me:!1,me_burst:!1,type:b.O.NORMAL,emojiSize:"reaction"})}function er(e){var t;let{firstMessage:n,channel:s}=e,o=(0,k.IN)(n),{disableReactionUpdates:a,isLurking:l,isPendingMember:r}=(0,x.Z)(s);return null==o?null:(0,i.jsx)(R.le,{className:$.updateReactionButton,message:n,readOnly:a||s.isArchivedLockedThread(),isLurking:l,isPendingMember:r,useChatFontScaling:!1,type:o.burst_count>=o.count?b.O.BURST:b.O.NORMAL,emojiSize:"reaction",...o},"".concat(null!==(t=o.emoji.id)&&void 0!==t?t:0,":").concat(o.emoji.name))}function ec(e){var t;let{channel:n}=e,{sortOrder:s}=(0,U.H)(n.parent_id),o=(0,k.xw)(n,s),a=null===(t=n.threadMetadata)||void 0===t?void 0:t.createTimestamp,l=null==a?null:X.Z.Messages.FORUM_POST_CREATED_AT_TOOLTIP.format({timestamp:(0,w.vc)(u()(a),"LLLL")});return(0,i.jsx)(p.Tooltip,{text:l,tooltipClassName:$.timestampTooltip,children:e=>(0,i.jsx)(p.Text,{className:$.__invalid_activityText,variant:"text-sm/normal",color:"header-secondary",...e,children:o})})}function eu(e){let{channel:t,userIds:n,facepileRef:s}=e,o=(0,k.iM)(t,n);return(0,i.jsx)("div",{ref:s,children:(0,i.jsx)(L.Z,{className:$.__invalid_facepile,showDefaultAvatarsForNullUsers:!0,guildId:t.guild_id,users:o,max:5,size:16,hideMoreUsers:!0,showUserPopout:!0})})}function ed(e){let t,n,{channel:s,firstMedia:o}=e,l=(0,h.e7)([M.Z],()=>M.Z.isFocused()),r=(0,_.d$)(o.src),c=S.QK.useSetting(),[u,d]=(0,v.hL)({media:o,channel:s}),m=(0,v.MC)(d),{src:g,width:f,height:T,alt:b}=o;return T>f?n=et:t=ee,(0,i.jsx)(p.FocusBlock,{enabled:!0,children:(0,i.jsxs)("div",{className:$.bodyMedia,onClick:e=>e.stopPropagation(),children:[g.startsWith("data:")?(0,i.jsx)(p.Image,{src:g,maxHeight:t,maxWidth:n,width:f,height:T,alt:null!=b&&u?m:b,className:$.thumbnailContainer,imageClassName:a()({[$.obscured]:u,[$.thumbnailOverride]:!0})}):(0,C.Yi)({src:g,maxHeight:t,maxWidth:n,width:f,height:T,alt:null!=b&&u?m:b,autoPlay:c,animated:r&&!u&&l,containerClassName:$.thumbnailContainer,imageClassName:a()({[$.obscured]:u}),renderForwardComponent:J.VqG}),u&&(0,i.jsx)(V.Z,{iconClassname:$.obscuredTag,obscureReason:d})]})})}},470623:function(e,t,n){n.d(t,{AF:function(){return g},NU:function(){return f},oL:function(){return m},xH:function(){return p}}),n(47120);var i=n(652874),s=n(781402),o=n(430742),a=n(752305),l=n(592125),r=n(703558),c=n(883429),u=n(228392);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h{constructor(e,t,n){var i,s,h;d(this,"channelId",void 0),d(this,"set",void 0),d(this,"get",void 0),d(this,"editorHeight",void 0),d(this,"editorAdditionRowHeight",void 0),d(this,"listViewCardHeights",void 0),d(this,"cardHeightVersion",void 0),d(this,"nameError",void 0),d(this,"messageError",void 0),d(this,"appliedTags",void 0),d(this,"popoutOpen",void 0),d(this,"guidelinesOpen",void 0),d(this,"previewing",void 0),d(this,"onboardingExpanded",void 0),d(this,"submitting",void 0),d(this,"formOpen",void 0),d(this,"name",void 0),d(this,"textAreaState",void 0),d(this,"hasClickedForm",void 0),d(this,"titleFocused",void 0),d(this,"bodyFocused",void 0),d(this,"setEditorHeight",void 0),d(this,"setEditorAdditionRowHeight",void 0),d(this,"setCardHeight",void 0),d(this,"setNameError",void 0),d(this,"setMessageError",void 0),d(this,"toggleAppliedTag",void 0),d(this,"setPopoutOpen",void 0),d(this,"setGuidelinesOpen",void 0),d(this,"setPreviewing",void 0),d(this,"setSubmitting",void 0),d(this,"setFormOpen",void 0),d(this,"setOnboardingExpanded",void 0),d(this,"setTitleFocused",void 0),d(this,"setBodyFocused",void 0),d(this,"setName",void 0),d(this,"setTextAreaState",void 0),d(this,"setHasClickedForm",void 0),d(this,"resetFormState",void 0),d(this,"setFormOpenFromUserAction",void 0),this.channelId=e,this.set=t,this.get=n,this.editorHeight=64,this.editorAdditionRowHeight=0,this.listViewCardHeights={},this.cardHeightVersion=0,this.nameError=null,this.messageError=null,this.appliedTags=new Set,this.popoutOpen=!1,this.guidelinesOpen=!1,this.previewing=!1,this.onboardingExpanded=!1,this.submitting=!1,this.formOpen=!1,this.name="",this.textAreaState=(0,a.eK)(""),this.hasClickedForm=!1,this.titleFocused=!1,this.bodyFocused=!1,this.setEditorHeight=e=>{this.set({editorHeight:e})},this.setEditorAdditionRowHeight=e=>{this.set({editorAdditionRowHeight:e})},this.setCardHeight=(e,t)=>{let{listViewCardHeights:n,cardHeightVersion:i}=this.get();n[e]!==t&&(n[e]=t,this.set({cardHeightVersion:i+1}))},this.setNameError=e=>{this.set({nameError:e})},this.setMessageError=e=>{this.set({messageError:e})},this.toggleAppliedTag=e=>{let{appliedTags:t}=this.get();(t=new Set(t)).has(e)?t.delete(e):t.add(e),this.set({appliedTags:t}),o.Z.changeThreadSettings(this.channelId,{appliedTags:t})},this.setPopoutOpen=e=>{this.set({popoutOpen:e})},this.setGuidelinesOpen=e=>{this.set({guidelinesOpen:e})},this.setPreviewing=e=>{this.set({previewing:e})},this.setSubmitting=e=>{this.set({submitting:e})},this.setFormOpen=e=>{this.set({formOpen:e}),c.Z.clearForumSearch(this.channelId)},this.setOnboardingExpanded=e=>{this.set({onboardingExpanded:e})},this.setTitleFocused=e=>{this.set({titleFocused:e})},this.setBodyFocused=e=>{this.set({bodyFocused:e})},this.setName=e=>{this.set({name:e}),o.Z.changeThreadSettings(this.channelId,{name:e})},this.setTextAreaState=e=>{this.set({textAreaState:e}),o.Z.saveDraft(this.channelId,e.textValue,r.d.FirstThreadMessage)},this.setHasClickedForm=e=>{this.set({hasClickedForm:e})},this.resetFormState=()=>{let e=l.Z.getChannel(this.channelId),t=null==e?"":null==e.template?"":e.template.trim();this.set({name:"",textAreaState:(0,a.eK)(t),appliedTags:new Set,hasClickedForm:!1}),c.Z.clearForumSearch(this.channelId)},this.setFormOpenFromUserAction=()=>{if(this.hasClickedForm)return;let e=l.Z.getChannel(this.channelId);null!=e&&(0,u.HR)({guildId:e.guild_id,channelId:this.channelId}),this.set({hasClickedForm:!0,formOpen:!0}),c.Z.clearForumSearch(this.channelId)};let m=l.Z.getChannel(e);if(null==m)return;let p=null!==(i=r.Z.getThreadSettings(m.id))&&void 0!==i?i:{},g=null==m.template?"":m.template.trim(),f=r.Z.getDraft(m.id,r.d.FirstThreadMessage),T=(0,a.eK)(null!=f&&""!==f.trim()?f:g);this.name=null!==(s=p.name)&&void 0!==s?s:"",h=new Set(p.appliedTags),this.appliedTags=void 0!==h?h:new Set,this.formOpen=this.name.length>0,this.textAreaState=T}}let{Provider:m,useStore:p,useStoreApi:g}=(0,s.Z)();function f(e){return(0,i.Z)((t,n)=>new h(e.id,t,n))}},196255:function(e,t,n){var i=n(735250);n(470079);var s=n(120356),o=n.n(s),a=n(481060),l=n(942951),r=n(456269),c=n(689938),u=n(164675);t.Z=e=>{var t,n;let{message:s,channel:d,renderColon:h,hasUnreads:m}=e,{user:p,author:g}=(0,r.AJ)(d),f=null!==(n=null!==(t=null==g?void 0:g.nick)&&void 0!==t?t:null==p?void 0:p.username)&&void 0!==n?n:"",T=(0,l.l)({user:null==s?void 0:s.author,channelId:d.id,guildId:d.guild_id,messageId:null==s?void 0:s.id,stopPropagation:!0,ariaLabel:c.Z.Messages.FORUM_POST_AUTHOR_A11Y_LABEL.format({name:f})})(null!=g?g:void 0)((0,i.jsx)(i.Fragment,{children:f}),d.id);return(0,i.jsxs)(a.Text,{tag:"span",className:o()(u.author,{[u.hasUnreads]:m}),variant:"text-sm/semibold",children:[T,!0===h?": ":null]})}},858543:function(e,t,n){n.d(t,{DM:function(){return g},ZP:function(){return f}});var i=n(735250);n(470079);var s=n(120356),o=n.n(s),a=n(692547),l=n(481060),r=n(109434),c=n(456269),u=n(479099),d=n(176505),h=n(689938),m=n(804702),p=n(879238);function g(e){let{channel:t,isNew:n}=e,i=(0,c.eV)(t),s=i.slice(void 0,3),o=i.slice(3),a=i.length>3?i.length-3:0,l=t.hasFlag(d.zZ.PINNED),r=s.length>0||l||n;return{shownTags:s,remainingTags:o,moreTagsCount:a,isPinned:l,shouldRenderTagsRow:r,forumPostContainsTags:i.length>0}}function f(e){let{channel:t,isNew:n,tagsClassName:s,className:c}=e,{shownTags:d,remainingTags:f,moreTagsCount:T,isPinned:_,shouldRenderTagsRow:v}=g({channel:t,isNew:n}),{tagFilter:b}=(0,r.H)(t.id);return v?(0,i.jsxs)("div",{className:o()(p.tags,c),children:[n?(0,i.jsx)(l.TextBadge,{className:o()(m.newBadge,m.inTagsRow),color:a.Z.unsafe_rawColors.BRAND_260.css,text:h.Z.Messages.NEW}):null,_&&(0,i.jsx)("div",{className:p.pinIcon,children:(0,i.jsx)(l.Tooltip,{text:h.Z.Messages.PINNED_POST,children:e=>(0,i.jsx)(l.PinIcon,{size:"custom",...e,width:16,height:16,color:"white"})})}),d.map(e=>(0,i.jsx)(u.Z,{tag:e,size:u.Z.Sizes.SMALL,className:o()(s,{[p.tagFiltered]:b.has(e.id)})},e.id)),T>0?(0,i.jsx)(u.f,{tags:f,count:T,size:u.Z.Sizes.SMALL}):null]}):null}},265641:function(e,t,n){n(47120);var i=n(470079);t.Z=e=>{let[t,n]=i.useState(!1),s=i.useCallback(t=>{e(t),n(!0)},[e,n]);return{isFocused:t,handleFocus:s,handleBlur:()=>{n(!1)}}}},627896:function(e,t,n){n.d(t,{x:function(){return s}}),n(47120);var i=n(470079);function s(e,t,n){let s=i.useRef(null),[o,a]=i.useState(!1),l=i.useCallback(()=>{if(e&&null!==s.current){var n;a((null===(n=s.current)||void 0===n?void 0:n.offsetHeight)>2.5*t)}},[a,e,t]);return i.useLayoutEffect(()=>{l()},[l,e,n]),{postTitleRef:s,isNewBadgeOverflow:o}}},883728:function(e,t,n){var i=n(735250);n(470079);var s=n(374470),o=n(239091);t.Z=e=>{let{facepileRef:t,goToThread:a,channel:l}=e;return{handleLeftClick:e=>{var n;!((0,s.k)(e.target)&&(null===(n=t.current)||void 0===n?void 0:n.contains(e.target)))&&a(l,e.shiftKey)},handleRightClick:e=>(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("39285"),n.e("48800"),n.e("89589")]).then(n.bind(n,422200));return t=>(0,i.jsx)(e,{...t,channel:l})})}}},33154:function(e,t,n){n.d(t,{s:function(){return i}}),n(47120);var i,s,o=n(735250),a=n(470079),l=n(442837),r=n(481060),c=n(749210),u=n(153124),d=n(823379),h=n(41776),m=n(981631),p=n(689938),g=n(995637);(s=i||(i={}))[s.CHAT=0]="CHAT",s[s.REACTIONS=1]="REACTIONS";t.Z=e=>{let{type:t,guild:i,closePopout:s,ctaRef:f}=e,T=(0,u.Dt)(),[_,v]=a.useState(!1),b=(0,l.e7)([h.Z],()=>h.Z.isLurking(i.id),[i.id]);a.useEffect(()=>{_&&!b&&s()},[_,b,s]);let E=null,I=p.Z.Messages.LURKER_MODE_POPOUT_UPSELL_BODY;switch(t){case 0:E=p.Z.Messages.LURKER_MODE_POPOUT_CHAT_HEADER;break;case 1:E=p.Z.Messages.LURKER_MODE_POPOUT_REACTIONS_HEADER;break;default:return(0,d.vE)(t)}if(null==E)return null;let x=async()=>{v(!0);try{await c.Z.joinGuild(i.id,{source:m.vtS.CHAT_INPUT_BLOCKER}),s()}catch{v(!1)}};return(0,o.jsxs)(r.Dialog,{className:g.container,"aria-labelledby":T,children:[(0,o.jsx)("img",{alt:"",className:g.image,src:n(64395)}),(0,o.jsxs)("div",{className:g.content,children:[(0,o.jsx)(r.Heading,{variant:"heading-md/semibold",id:T,children:E}),(0,o.jsx)(r.Text,{color:"header-secondary",variant:"text-sm/normal",children:I}),(0,o.jsxs)("div",{className:g.buttonContainer,children:[(0,o.jsx)(r.Button,{buttonRef:f,onClick:x,submitting:_,children:p.Z.Messages.LURKER_MODE_POPOUT_JOIN}),(0,o.jsx)(r.Button,{onClick:s,look:r.Button.Looks.BLANK,className:g.cancel,children:p.Z.Messages.LURKER_MODE_POPOUT_CANCEL})]})]})]})}},960020:function(e,t,n){n.d(t,{I:function(){return i}}),n(47120);var i,s,o,a,l,r,c=n(442837),u=n(570140);(o=i||(i={})).HOVER="HOVER",o.EXTERNAL="EXTERNAL",o.RANDOM="RANDOM";let d={},h={},m={},p=(e,t)=>{let n=null!=t.id?t.id:t.name;return"".concat(e,":").concat(n)},g=(e,t)=>{var n;let i;switch(e){case"HOVER":i="HOVER";break;case"RANDOM":i="RANDOM";break;default:i="EXTERNAL"}let s=Object.fromEntries(Object.entries(null!==(n=h[t])&&void 0!==n?n:{}).filter(e=>{let[,t]=e;return t===i}));if(Object.keys(s).length>=5&&"EXTERNAL"===e){for(let e in s)if(null==m[t]||null==m[t][e]){delete h[t][e],delete s[e];break}}return Object.keys(s).length};class f extends(s=c.ZP.Store){getReactionPickerAnimation(e,t,n){return d["".concat(e,":").concat(t,":").concat(null!=n?n:"")]}getEffectForEmojiId(e,t,n){var i;let s=p(t,n);return null===(i=h[e])||void 0===i?void 0:i[s]}}r="BurstReactionEffectsStore",(l="displayName")in(a=f)?Object.defineProperty(a,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[l]=r,t.Z=new f(u.Z,{BURST_REACTION_EFFECT_CLEAR:e=>{var t;let{channelId:n,messageId:i,emoji:s}=e,o=p(i,s);null===(t=h[n])||void 0===t||delete t[o]},BURST_REACTION_EFFECT_PLAY:e=>{var t,n,i;let{channelId:s,messageId:o,emoji:a,key:l}=e,r=p(o,a);if(g(l,s)>=5)return;let c=null!==(t=h[s])&&void 0!==t?t:{},u=(null!==(n=m[s])&&void 0!==n?n:{})[r],d=c[r];if("HOVER"!==l||null==d){"HOVER"===d&&"EXTERNAL"===l&&null!=u&&("function"==typeof u.destroy&&u.destroy(),null===(i=m[s])||void 0===i||delete i[r],d=void 0);null==d&&(null!=h[s]?h[s][r]=l:h[s]={[r]:l})}},BURST_REACTION_ANIMATION_ADD:e=>{let{channelId:t,messageId:n,emoji:i,animation:s}=e,o=p(n,i);null==m[t]&&(m[t]={}),m[t][o]=s},BURST_REACTION_PICKER_ANIMATION_ADD:e=>{let{messageId:t,emojiName:n,emojiId:i,startPosition:s}=e;d["".concat(t,":").concat(n,":").concat(null!=i?i:"")]=s},BURST_REACTION_PICKER_ANIMATION_CLEAR:e=>{let{messageId:t,emojiName:n,emojiId:i}=e;delete d["".concat(t,":").concat(n,":").concat(null!=i?i:"")]}})},347904:function(e,t,n){n.d(t,{s4:function(){return a},vJ:function(){return l}}),n(757143);var i,s=n(392711),o=n(302221);(i||(i={})).OUT_OF_BURSTS="out of burst reactions modal";let a=(e,t)=>{let n=(0,o.WY)([t.r,t.g,t.b],2);return e=(e=e.replace(/(\[1,0,0,)/g,"[".concat(n[0][0]/255,",").concat(n[0][1]/255,",").concat(n[0][2]/255,","))).replace(/\[0,0,1,/g,"[".concat(n[1][0]/255,",").concat(n[1][1]/255,",").concat(n[1][2]/255,","))},l=(0,s.memoize)(e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n);return Math.abs(t)})},831244:function(e,t,n){n.d(t,{T:function(){return o}});var i=n(347904);let s=[{load:()=>n.e("59642").then(n.t.bind(n,759983,19))},{load:()=>n.e("54931").then(n.t.bind(n,488583,19))},{load:()=>n.e("22523").then(n.t.bind(n,420183,19))},{load:()=>n.e("35247").then(n.t.bind(n,782543,19))},{load:()=>n.e("69923").then(n.t.bind(n,945561,19))},{load:()=>n.e("96246").then(n.t.bind(n,108035,19))},{load:()=>n.e("30997").then(n.t.bind(n,299665,19))},{load:()=>n.e("50987").then(n.t.bind(n,545755,19))},{load:()=>n.e("14192").then(n.t.bind(n,412825,19))},{load:()=>n.e("78073").then(n.t.bind(n,82134,19))},{load:()=>n.e("54021").then(n.t.bind(n,913837,19))},{load:()=>n.e("7573").then(n.t.bind(n,403249,19))},{load:()=>n.e("219").then(n.t.bind(n,36302,19))},{load:()=>n.e("70528").then(n.t.bind(n,181976,19))},{load:()=>n.e("74294").then(n.t.bind(n,654947,19))},{load:()=>n.e("91199").then(n.t.bind(n,945518,19))},{load:()=>n.e("66071").then(n.t.bind(n,634794,19))},{load:()=>n.e("73921").then(n.t.bind(n,558619,19))}],o=async function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];let o=s[(0,i.vJ)("".concat(e).concat(t).concat(n))%s.length];return await o.load()}},432376:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e){let{channel:t,canChat:n,renderReactions:i,canAddNewReactions:s,isLurking:o,isGuest:a,communicationDisabled:l,isActiveChannelOrUnarchivableThread:r,isAutomodQuarantined:c}=e,u=t.isPrivate(),d=t.isSystemDM(),h=(n||u)&&r;return{disableReactionReads:!i,disableReactionCreates:o||a||!h||!((!0===s||u)&&!d&&r),disableReactionUpdates:o||a||!h||!0===l||!0===c}}},443877:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120);var i=n(442837),s=n(715903),o=n(71619),a=n(41776),l=n(665906),r=n(271383),c=n(607744),u=n(496675),d=n(432376),h=n(981631);function m(e){let t=null==e?void 0:e.guild_id,n=(0,i.e7)([c.Z],()=>null==t||c.Z.canChatInGuild(t),[t]),m=(0,i.e7)([a.Z],()=>null!=t&&a.Z.isLurking(t),[t]),p=(0,i.e7)([r.ZP],()=>null!=t&&r.ZP.isCurrentUserGuest(t),[t]),g=(0,i.e7)([u.Z],()=>n&&u.Z.can(h.Plq.ADD_REACTIONS,e),[n,e]),f=(0,s.ux)(t),[,T]=(0,o.AB)(t),_=(0,l.$R)(e);return null==e?{disableReactionReads:!0,disableReactionCreates:!0,disableReactionUpdates:!0,isLurking:!1,isGuest:!1,isPendingMember:!1}:{...(0,d.Z)({channel:e,canChat:n,renderReactions:!0,canAddNewReactions:g,isLurking:m,isGuest:p,communicationDisabled:T,isActiveChannelOrUnarchivableThread:_,isAutomodQuarantined:f}),isLurking:m,isGuest:p,isPendingMember:!1}}},89729:function(e,t,n){n.d(t,{g:function(){return h}});var i=n(392711),s=n.n(i),o=n(995774),a=n(592125),l=n(542578),r=n(699516),c=n(5192),u=n(566006),d=n(689938);function h(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.O.NORMAL,h=arguments.length>3?arguments[3]:void 0,m=l.Z.getReactions(e.getChannelId(),e.id,t,3,i),p=a.Z.getChannel(e.getChannelId()),g=null==p||p.isPrivate()?null:p.getGuildId(),f=e.getReaction(t),T=i===u.O.BURST,_=s()(m).reject(e=>r.Z.isBlocked(e.id)).take(3).map(e=>c.ZP.getName(g,null==p?void 0:p.id,e)).value();if(0===_.length)return"";let v={standard:{reactionTooltip1NInteractive:d.Z.Messages.REACTION_TOOLTIP_1_N_INTERACTIVE,reactionTooltip1N:d.Z.Messages.REACTION_TOOLTIP_1_N,reactionTooltip1:d.Z.Messages.REACTION_TOOLTIP_1,reactionTooltip2NInteractive:d.Z.Messages.REACTION_TOOLTIP_2_N_INTERACTIVE,reactionTooltip2N:d.Z.Messages.REACTION_TOOLTIP_2_N,reactionTooltip2:d.Z.Messages.REACTION_TOOLTIP_2,reactionTooltip3NInteractive:d.Z.Messages.REACTION_TOOLTIP_3_N_INTERACTIVE,reactionTooltip3N:d.Z.Messages.REACTION_TOOLTIP_3_N,reactionTooltip3:d.Z.Messages.REACTION_TOOLTIP_3,reactionTooltipNInteractive:d.Z.Messages.REACTION_TOOLTIP_N_INTERACTIVE,reactionTooltipN:d.Z.Messages.REACTION_TOOLTIP_N},burst:{reactionTooltip1NInteractive:d.Z.Messages.BURST_REACTION_TOOLTIP_1_N_INTERACTIVE,reactionTooltip1N:d.Z.Messages.BURST_REACTION_TOOLTIP_1_N,reactionTooltip1:d.Z.Messages.BURST_REACTION_TOOLTIP_1,reactionTooltip2NInteractive:d.Z.Messages.BURST_REACTION_TOOLTIP_2_N_INTERACTIVE,reactionTooltip2N:d.Z.Messages.BURST_REACTION_TOOLTIP_2_N,reactionTooltip2:d.Z.Messages.BURST_REACTION_TOOLTIP_2,reactionTooltip3NInteractive:d.Z.Messages.BURST_REACTION_TOOLTIP_3_N_INTERACTIVE,reactionTooltip3N:d.Z.Messages.BURST_REACTION_TOOLTIP_3_N,reactionTooltip3:d.Z.Messages.BURST_REACTION_TOOLTIP_3,reactionTooltipNInteractive:d.Z.Messages.BURST_REACTION_TOOLTIP_N_INTERACTIVE,reactionTooltipN:d.Z.Messages.BURST_REACTION_TOOLTIP_N}},b=T?v.burst:v.standard,E=Math.max(0,(null!==(n=T?null==f?void 0:f.burst_count:null==f?void 0:f.count)&&void 0!==n?n:0)-_.length),I=(0,o.Lh)(t);if(1===_.length)return E>0?null!=h?b.reactionTooltip1NInteractive.format({a:_[0],n:E,emojiName:I,onClick:h}):b.reactionTooltip1N.format({a:_[0],n:E,emojiName:I}):b.reactionTooltip1.format({a:_[0],emojiName:I});if(2===_.length)return E>0?null!=h?b.reactionTooltip2NInteractive.format({a:_[0],b:_[1],n:E,emojiName:I,onClick:h}):b.reactionTooltip2N.format({a:_[0],b:_[1],n:E,emojiName:I}):b.reactionTooltip2.format({a:_[0],b:_[1],emojiName:I});if(3===_.length)return E>0?null!=h?b.reactionTooltip3NInteractive.format({a:_[0],b:_[1],c:_[2],n:E,emojiName:I,onClick:h}):b.reactionTooltip3N.format({a:_[0],b:_[1],c:_[2],n:E,emojiName:I}):b.reactionTooltip3.format({a:_[0],b:_[1],c:_[2],emojiName:I});else return null!=h?b.reactionTooltipNInteractive.format({n:E,emojiName:I,onClick:h}):b.reactionTooltipN.format({n:E,emojiName:I})}},287151:function(e,t,n){n.d(t,{aO:function(){return ei},le:function(){return el},op:function(){return es},y4:function(){return eo}}),n(47120);var i,s=n(735250),o=n(470079),a=n(120356),l=n.n(a),r=n(772848),c=n(748780),u=n(866442),d=n(442837),h=n(846519),m=n(481060),p=n(596454),g=n(785388),f=n(607070),T=n(367907),_=n(98474),v=n(339085),b=n(906411),E=n(56314),I=n(400106),x=n(944386),C=n(305325),R=n(33154),S=n(692147),N=n(197115),O=n(659215),Z=n(222677),j=n(995774),M=n(695346),A=n(592125),y=n(430824),P=n(542578),L=n(914010),w=n(594174),U=n(451478),k=n(18732),B=n(672752),D=n(626135),F=n(74538),V=n(960020),H=n(566006),G=n(886132),W=n(183023),z=n(524444),K=n(89729),Y=n(640753),J=n(981631),q=n(474936),X=n(689938),$=n(423192),Q=n(704963),ee=n(667671),et=n(774445);function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ei=9;function es(e,t,n){(0,m.openModal)(e=>(0,s.jsx)(g.default,{...e,message:t,selectedReaction:n}))}function eo(e,t,n){return n===H.O.BURST&&t||n===H.O.NORMAL&&e}class ea extends(i=o.PureComponent){componentWillAppear(e){this.animateIn(e)}componentWillEnter(e){this.animateIn(e)}componentWillUnmount(){this.hideTooltip()}animateIn(e){let{autoUnfurlReactionTooltip:t}=this.props;U.Z.isFocused()?(this.scale.setValue(0),this.opacity.setValue(0),c.Z.parallel([c.Z.timing(this.scale,{toValue:1,duration:t?200:300,easing:c.Z.Easing.inOut(c.Z.Easing.back())}),c.Z.timing(this.opacity,{toValue:1,duration:t?200:300})]).start(e)):(this.scale.setValue(1),this.opacity.setValue(1),e())}render(){let e,t;let{count:n,burst_count:i,colors:o,isBurstReaction:a,hideCount:r,emoji:d,readOnly:h,isLurking:g,isGuest:f,isPendingMember:T,className:v,useChatFontScaling:b,message:E,hideEmoji:I,animationStartPosition:x}=this.props,{shouldShowTooltip:C,tooltipTextAria:R,reactionRef:N,tooltipPositionKey:O}=this.state,Z=b?ee:Q,M={transform:[{scale:this.scale}],opacity:this.opacity},A=a?i:n;if(a&&null!=o){var y;let{accentColor:n,backgroundColor:i,opacity:s}=o,a=null!==(y=(0,u.wK)(null!=i?i:"",s))&&void 0!==y?y:"";this.isMe()&&(M.borderColor=i),M.background=a,e=n,t=n}let P=null==N?void 0:N.getBoundingClientRect(),L=null!=x&&null!=P,w=null==x;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(m.Popout,{shouldShow:C,"aria-label":null!=R&&R,renderPopout:this.renderTooltip,nudgeAlignIntoViewport:!0,position:"top",align:"center",positionKey:O,children:()=>(0,s.jsx)("div",{onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,ref:this.handleSetReactionRef,children:(0,s.jsx)(c.Z.div,{className:l()(Z.reaction,v,{[Z.reactionMe]:this.isMe(),[Z.reactionReadOnly]:h&&!g&&!T&&!f,[Z.shakeReaction]:I&&null==x}),style:M,children:(0,s.jsx)(m.Popout,{renderPopout:this.renderLurkerModeUpsellPopout,position:"top",children:n=>(0,s.jsxs)(m.Clickable,{...n,className:Z.reactionInner,onClick:this.handleClick,"aria-disabled":h,"aria-label":(0,j.iD)(this.isMe(),A,d,a),"aria-pressed":this.isMe(),children:[(0,s.jsx)("div",{className:l()({[Z.burstGlow]:a}),style:{boxShadow:"0 0 16px ".concat(t)}}),(0,s.jsxs)("div",{children:[a?(0,s.jsxs)(s.Fragment,{children:[L&&(0,s.jsx)(_.Z,{messageId:E.id,emoji:d,startPosition:x,targetPosition:P}),w&&(0,s.jsx)(Y.Z,{count:i,emoji:d,channelId:E.getChannelId(),messageId:E.id,useChatFontScaling:b,color:t})]}):null,(0,s.jsx)(p.Z,{className:l()({[Z.hideEmoji]:I}),emojiId:d.id,emojiName:d.name,size:"reaction",animated:d.animated})]}),r?null:(0,s.jsx)(k.Z,{className:Z.reactionCount,value:A,color:e,digitWidth:ei}),(0,s.jsx)(S.Z,{count:A,reactionRef:N})]})})})})})})}constructor(...e){super(...e),en(this,"isReactionEventActive",!1),en(this,"isKeyboardNavigation",!1),en(this,"scale",new c.Z.Value(1)),en(this,"opacity",new c.Z.Value(1)),en(this,"timeout",new h.V7),en(this,"hideTimeout",new h.V7),en(this,"ctaRef",o.createRef()),en(this,"type",H.O.NORMAL),en(this,"colors",{backgroundColor:void 0,borderColor:void 0,textColor:void 0}),en(this,"state",{shouldShowTooltip:!1,tooltipText:null,tooltipTextAria:null,reactionRef:null,tooltipPositionKey:void 0}),en(this,"hasShownTooltip",!1),en(this,"nonce",(0,r.Z)()),en(this,"userCanBurstReact",()=>this.props.userHasPremium),en(this,"handleClick",e=>{e.stopPropagation();let{message:t,emoji:n,readOnly:i,isBurstReaction:s,isPendingMember:o,isLurking:a,isGuest:l,isForumToolbar:r}=this.props,c=A.Z.getChannel(t.getChannelId());if(a||l){var u,d;null===(d=this.ctaRef)||void 0===d||null===(u=d.current)||void 0===u||u.focus();return}let h=t.getChannelId(),m=r?Z.TW.FORUM_TOOLBAR:Z.TW.MESSAGE;if(s&&!this.userCanBurstReact()){(0,O.openBurstReactionsUpsellModal)({analytics:{type:q.cd.BURST_REACTION_UPSELL,page:(null==c?void 0:c.getGuildId())!=null?J.ZY5.GUILD_CHANNEL:J.ZY5.DM_CHANNEL,section:null!=c?(0,j.s4)(c):void 0,object:J.qAy.EMOJI_REACTION_UPSELL}});return}o?this.handleShowVerificationGate():!i&&(this.isMe()?(0,Z.WO)(h,t.id,n,void 0,m,{burst:s}):(0,Z.rU)(h,t.id,n,m,{burst:s}))}),en(this,"handleEnter",e=>{let{emoji:t,message:n,type:i,reduceMotion:s,animateEmoji:o,autoUnfurlReactionTooltip:a}=this.props,l=i===H.O.BURST;l&&!this.isReactionEventActive&&!s&&o&&(0,Z.T6)({channelId:n.getChannelId(),messageId:n.id,emoji:t,key:V.I.HOVER}),this.isReactionEventActive=!0,this.isKeyboardNavigation="focus"===e.type,this.timeout.start(l?750:a?200:500,this.showTooltip,!1)}),en(this,"handleEnterTooltip",()=>{this.isReactionEventActive=!0,this.handleShowTooltip()}),en(this,"handleShowTooltip",()=>{this.hideTimeout.stop(),this.isReactionEventActive&&(this.updateTooltipText(),P.Z.addChangeListener(this.updateTooltipText))}),en(this,"showTooltip",()=>{this.handleShowTooltip(),this.isReactionEventActive&&this.trackReactionTooltipViewed(),this.hasShownTooltip=!0}),en(this,"handleLeave",()=>{this.isReactionEventActive=!1,this.isKeyboardNavigation=!1,this.timeout.stop(),P.Z.removeChangeListener(this.updateTooltipText),this.hideTimeout.start(200,this.hideTooltip,!1)}),en(this,"hideTooltip",()=>{this.setState({shouldShowTooltip:!1}),this.hasShownTooltip&&D.default.track(J.rMx.CLOSE_POPOUT,{nonce:this.nonce})}),en(this,"isMe",()=>{let{me:e,me_burst:t,type:n}=this.props;return eo(e,t,n)}),en(this,"updateTooltipText",()=>{let{message:e,emoji:t,type:n}=this.props,i=(0,K.g)(e,t,n),s=this.isKeyboardNavigation?i:(0,K.g)(e,t,n,J.dG4);this.setState({tooltipText:s,tooltipTextAria:i,shouldShowTooltip:null!=s&&""!==s})}),en(this,"renderLurkerModeUpsellPopout",e=>{let{closePopout:t}=e,{message:n,isLurking:i}=this.props,o=A.Z.getChannel(n.getChannelId()),a=y.Z.getGuild(null==o?void 0:o.getGuildId());return i&&null!=a?(0,s.jsx)(R.Z,{ctaRef:this.ctaRef,type:R.s.REACTIONS,guild:a,closePopout:t}):(0,s.jsx)(s.Fragment,{})}),en(this,"renderEmojiDetails",()=>{let e=this.props.emoji;return null!=e.id&&(0,s.jsx)(ec,{emojiId:e.id,refreshPositionKey:this.refreshTooltipPositionKey,onClose:this.handleLeave,nonce:this.nonce})}),en(this,"renderTooltip",()=>{let{emoji:e,message:t,type:n,me_burst:i,isBurstReaction:o=!1}=this.props,{tooltipText:a}=this.state,r=n=>{let i=A.Z.getChannel(t.getChannelId());if(null!=i)this.handleLeave(),es(i,t,{emoji:e,reactionType:o?H.O.BURST:H.O.NORMAL})},c="string"==typeof a?""===a.trim():null==a,u=()=>c||null==a?null:(0,s.jsx)(m.Text,{variant:"text-sm/normal",className:et.reactionTooltipText,"aria-label":a,children:a});return n===H.O.BURST?(0,s.jsxs)("div",{className:et.reactionTooltip,onMouseEnter:this.handleEnterTooltip,onMouseLeave:this.handleLeave,children:[(0,s.jsx)(m.Clickable,{className:et.burstReactionTooltipInner,onClick:r,children:(0,s.jsxs)("div",{className:et.burstReactionTooltipMessage,children:[(0,s.jsx)(p.Z,{className:et.reactionTooltipEmoji,emojiId:e.id,emojiName:e.name,animated:e.animated,size:this.props.emojiSize}),u()]})}),(()=>{let e=w.default.getCurrentUser();if(i)return(0,s.jsxs)("div",{className:l()(et.burstReactionTooltipPrompt,et.burstReactionTooltipSpacer),children:[(0,F.I5)(e)&&(0,s.jsx)(m.NitroWheelIcon,{size:"md",className:et.burstReactionTooltipNitroIcon,color:B.JX.PREMIUM_TIER_2}),(0,s.jsx)(m.Text,{variant:"text-sm/normal",className:et.reactionTooltipText,"aria-label":"super reaction tooltip cta",children:X.Z.Messages.SUPER_REACTION_TOOLTIP_CTA_REACTED})]});if(this.userCanBurstReact())return(0,s.jsxs)("div",{className:l()(et.burstReactionTooltipPrompt,et.burstReactionTooltipSpacer,et.burstReactionTooltipPromptClickable),children:[(0,s.jsx)(m.NitroWheelIcon,{size:"md",className:et.burstReactionTooltipNitroIcon,color:B.JX.PREMIUM_TIER_2}),(0,s.jsx)(m.Clickable,{onClick:this.handleClick,children:(0,s.jsx)(m.Text,{variant:"text-sm/normal",className:et.reactionTooltipText,"aria-label":"super reaction tooltip cta",children:X.Z.Messages.SUPER_REACTION_TOOLTIP_CTA})})]});if(!this.userCanBurstReact()&&!this.isKeyboardNavigation)return(0,s.jsx)("div",{className:l()(et.burstReactionTooltipPrompt,et.burstReactionTooltipSpacer),children:(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Text,{variant:"text-sm/normal","aria-label":"super reaction tooltip upsell",children:X.Z.Messages.SUPER_REACTION_TOOLTIP_UPSELL}),(0,s.jsx)(N.Z,{subscriptionTier:q.Si.TIER_2,buttonText:X.Z.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL,className:et.burstReactionTooltipUpsellCta,onClick:e=>e.stopPropagation()})]})});return null})(),this.renderEmojiDetails()]}):(0,s.jsxs)("div",{className:et.reactionTooltip,onMouseEnter:this.handleEnterTooltip,onMouseLeave:this.handleLeave,children:[(0,s.jsx)(m.Clickable,{onClick:r,children:(0,s.jsxs)("div",{className:et.reactionTooltipInner,children:[(0,s.jsx)(p.Z,{className:et.reactionTooltipEmoji,emojiId:e.id,emojiName:e.name,animated:e.animated,size:this.props.emojiSize}),u()]})}),this.renderEmojiDetails()]})}),en(this,"refreshTooltipPositionKey",()=>{this.setState({tooltipPositionKey:String(Date.now())})}),en(this,"handleShowVerificationGate",()=>{let{message:e,isPendingMember:t}=this.props;if(!t)return null;let n=A.Z.getChannel(e.getChannelId()),i=y.Z.getGuild(null==n?void 0:n.getGuildId());null!=i&&(0,C.hk)(i.id)}),en(this,"handleSetReactionRef",e=>{this.setState({reactionRef:e})}),en(this,"trackReactionTooltipViewed",()=>{let{emoji:e,message:t,type:n}=this.props,i=w.default.getCurrentUser(),s=A.Z.getChannel(t.getChannelId()),o=n===H.O.BURST,a=(0,F.I5)(i),l=o?q.cd.EMOJI_IN_BURST_REACTION_HOVER:q.cd.EMOJI_IN_REACTION_HOVER;o&&!this.userCanBurstReact()&&!a&&(l=q.cd.EMOJI_IN_BURST_REACTION_HOVER_UPSELL),T.ZP.trackWithMetadata(J.rMx.EXPRESSION_TOOLTIP_VIEWED,{type:l,expression_id:e.id,expression_name:e.name,is_animated:e.animated,is_custom:null!=e.id,nonce:this.nonce}),o&&null!=s&&!a&&!this.userCanBurstReact()&&D.default.track(J.rMx.PREMIUM_UPSELL_VIEWED,{type:q.cd.BURST_REACTION_UPSELL,location:{page:(null==s?void 0:s.getGuildId())!=null?J.ZY5.GUILD_CHANNEL:J.ZY5.DM_CHANNEL,section:(0,j.s4)(s),object:J.qAy.EMOJI_REACTION_TOOLTIP_UPSELL}})})}}en(ea,"defaultProps",{emojiSize:"jumbo"});let el=o.memo(e=>{let{type:t,burst_colors:n,message:i,emoji:o}=e,a=t===H.O.BURST,l=(0,E.v)(a&&null!=n?n:[]),r=(0,d.e7)([V.Z],()=>void 0!==V.Z.getEffectForEmojiId(i.getChannelId(),i.id,o)),c=(0,d.e7)([f.Z],()=>f.Z.useReducedMotion),u=M.Yk.useSetting(),h=w.default.getCurrentUser(),m=(0,F.I5)(h),p=(0,d.e7)([V.Z],()=>V.Z.getReactionPickerAnimation(i.id,o.name,o.id)),g=a&&(r||null!=p);return(0,s.jsx)(ea,{...e,colors:l,isBurstReaction:a,hideEmoji:g,userHasPremium:m,reduceMotion:c,animateEmoji:u,animationStartPosition:p})}),er=e=>{var t;let{emojiId:n,expressionSourceGuild:i,hasJoinedExpressionSourceGuild:o,onClose:a,popoutData:l,currentGuildId:r,nonce:c}=e;(0,x.u)({emojiId:n,currentGuildId:r,popoutData:l,emojiSourceGuildId:null==i?void 0:i.id,nonce:c});let u=null!==(t=null==i?void 0:i.isDiscoverable())&&void 0!==t&&t,d=null!==i&&u;return(0,s.jsx)(s.Fragment,{children:d?null==i?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:$.reactionEmojiDetailsUnfurlGuildDetails,children:(0,s.jsx)(W.Oe,{expressionSourceGuild:i,hasJoinedExpressionSourceGuild:o,isDisplayingJoinGuildButtonInPopout:l.type===G.$.JOIN_GUILD})}),(0,s.jsx)(W.n_,{emojiId:n,expressionSourceGuild:i,hasJoinedEmojiSourceGuild:o,onClose:a,popoutData:l,isDisplayingButtonInTopSection:!1})]}):(0,s.jsx)(m.Text,{variant:"text-sm/normal","aria-label":l.type,children:l.emojiDescription})})},ec=e=>{var t;let{emojiId:n,refreshPositionKey:i,onClose:a,nonce:r}=e,{joinedEmojiSourceGuild:c}=(0,d.cj)([v.Z,y.Z],()=>{let e=v.Z.getCustomEmojiById(n);return{joinedEmojiSourceGuild:(null==e?void 0:e.type)===b.B.GUILD?y.Z.getGuild(null==e?void 0:e.guildId):void 0}}),[u,h]=o.useState(void 0),[p,g]=o.useState(!1),[f,T]=o.useState(!1),[_,E]=o.useState(!1),x=null!=c,C=null!==(t=null==u?void 0:u.isDiscoverable())&&void 0!==t&&t,R=L.Z.getGuildId(),S=null!=R&&(R===(null==u?void 0:u.id)||R===(null==c?void 0:c.id)),N=w.default.getCurrentUser(),O=(0,G.a)({isPremium:F.ZP.isPremium(N),hasJoinedEmojiSourceGuild:x,isDiscoverable:C,emojiComesFromCurrentGuild:S,isUnusableRoleSubscriptionEmoji:!1,userIsRoleSubscriber:!1,isRoleSubscriptionEmoji:!1,shouldHideRoleSubscriptionCTA:!1});o.useEffect(()=>{if(!!p&&!_)(async()=>{i(),T(!0),h(await I.Z.getGuildFromEmojiId(n)),T(!1),E(!0),i()})()},[n,p,_,i]);if(x)return null;let Z=()=>{g(!p)},j=p&&void 0!==u;return(0,s.jsxs)("div",{children:[j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:$.reactionEmojiDetailsDivider}),null!=O.emojiDescription&&O.type!==G.$.UNAVAILABLE&&(0,s.jsx)(m.Text,{variant:"text-sm/normal","aria-label":O.type,children:O.emojiDescription})]}):(()=>{let e=X.Z.Messages.INVENTORY_EMOJI_DETAILS_V2;return(0,s.jsxs)(m.Clickable,{onClick:Z,className:$.reactionEmojiDetailsClickable,children:[(0,s.jsx)(m.Text,{variant:"text-sm/normal",color:"none","aria-label":e,children:e}),(0,s.jsx)(m.ChevronSmallDownIcon,{size:"xs",color:"currentColor",className:l()($.reactionEmojiDetailsArrow,{[$.reactionEmojiDetailsArrowCollapsed]:!p})})]})})(),f?(0,s.jsx)(z.SE,{className:$.emojiDetailsLoader}):j&&(0,s.jsx)(er,{emojiId:n,expressionSourceGuild:u,hasJoinedExpressionSourceGuild:x,onClose:a,popoutData:O,currentGuildId:R,nonce:r})]})}},620652:function(e,t,n){n.d(t,{M:function(){return s},Z:function(){return _}});var i,s,o=n(735250),a=n(470079),l=n(120356),r=n.n(l),c=n(500923),u=n.n(c),d=n(570140),h=n(960020),m=n(831244),p=n(815605),g=n(981631),f=n(114905);(i=s||(s={}))[i.NORMAL=16]="NORMAL",i[i.LARGE=32]="LARGE";let T=async e=>{var t;let{effect:n}=e,i=await (0,m.T)(n.channelId,null!==(t=n.messageId)&&void 0!==t?t:g.lds,n.emoji.name),s=await (0,p.aB)("".concat(n.channelId,":").concat(n.messageId,":").concat(n.emoji.name),n.url,i,n.color);return s.assets[0].p=n.url,s};function _(e){let{className:t,effect:n,onComplete:i,emojiSize:s=16}=e,l=a.useRef(null),c=s*p.Vz,m=(c+s)/2;return a.useEffect(()=>{let e;if(null!=n)return!async function(){if(null!=l.current){let t=await T({effect:n});(e=u().loadAnimation({container:l.current,renderer:"svg",loop:!1,autoplay:!0,animationData:t})).addEventListener("complete",()=>{null==i||i(),e.destroy()}),null!=n.channelId&&null!=n.messageId&&null!=n.emoji&&n.key===h.I.HOVER&&d.Z.dispatch({type:"BURST_REACTION_ANIMATION_ADD",channelId:n.channelId,messageId:n.messageId,emoji:n.emoji,animation:e})}}(),()=>{null!=e&&e.destroy()}},[i,n,s]),(0,o.jsx)("div",{className:f.effectsWrapper,children:(0,o.jsx)("div",{className:r()(f.effect,t),style:{transform:"translateY(".concat(m,"px)"),height:c,width:c},ref:l})})}},640753:function(e,t,n){n(47120);var i=n(735250),s=n(470079),o=n(442837),a=n(570140),l=n(607070),r=n(222677),c=n(695346),u=n(960020),d=n(347904),h=n(620652),m=n(815605),p=n(519282),g=n(775139);t.Z=s.memo(function(e){let{channelId:t,messageId:n,emoji:f,useChatFontScaling:T,color:_,count:v}=e,b=(0,o.e7)([u.Z],()=>u.Z.getEffectForEmojiId(t,n,f)),E=T?g:p,I=s.useMemo(()=>(0,m.Zn)(f,_,t,{key:b,messageId:n}),[_,b,f,t,n]),[x,C]=s.useState(!1),R=(0,o.e7)([l.Z],()=>l.Z.useReducedMotion),S=c.Yk.useSetting(),N=s.useCallback(()=>{a.Z.dispatch({type:"BURST_REACTION_EFFECT_CLEAR",channelId:t,messageId:n,emoji:f})},[f,t,n]);return(s.useEffect(()=>{let e=()=>{if(x)return;let e=(0,d.vJ)("".concat(Date.now()).concat(t).concat(n).concat(f.name))%10;(e+=v>4?4:v-1)>7&&(C(!0),(0,r.T6)({channelId:t,messageId:n,emoji:f,key:u.I.RANDOM}))};if(x||R&&!S||!S)return;e();let i=setInterval(e,5e3);return()=>{clearInterval(i)}},[S,t,v,f,f.name,x,n,R]),null==b)?null:(0,i.jsx)(h.Z,{className:E.effect,effect:I,onComplete:N})})},815605:function(e,t,n){n.d(t,{Vz:function(){return c},Zn:function(){return d},aB:function(){return u}}),n(757143);var i=n(392711),s=n(772848),o=n(134432),a=n(963838),l=n(302221),r=n(347904);let c=7.5,u=(0,i.memoize)((e,t,n,i)=>new Promise(e=>{let s=new Image;s.src=t,s.crossOrigin="Anonymous",s.onload=()=>{let t=32*(0,o.x_)(),a=JSON.stringify(n);if(null!=i&&(a=(0,r.s4)(a,(0,l.oo)(i))),s.width===t&&s.height===t||0===s.width&&0===s.height)e(JSON.parse(a));else{let t=128/s.width*s.height;e(JSON.parse(a=(a=a.replace(/"w":128,"h":128/,'"w":128,"h":'.concat(t))).replace(/"a":{"a":0,"k":\[64,64/,'"a":{"a":0,"k":[64,'.concat(t/2))))}}}));function d(e,t,n,i){let{emojiSize:o,key:l,messageId:r}=null!=i?i:{},c=(0,a._r)(e,null!=o?2*o:void 0);return{channelId:n,messageId:r,emoji:e,animationId:(0,s.Z)(),url:c,key:l,color:t}}},942951:function(e,t,n){n.d(t,{l:function(){return h}});var i=n(735250),s=n(470079),o=n(481060),a=n(100527),l=n(906732),r=n(484459),c=n(103575),u=n(592125),d=n(91047);function h(e){var t,n;let{user:h,channelId:m,guildId:p,messageId:g,stopPropagation:f=!1,ariaLabel:T}=e,{analyticsLocations:_}=(0,l.ZP)(a.Z.USERNAME);let v=(t=h,n=m,s.useCallback(e=>{let i=u.Z.getChannel(n);null!=i&&null!=t&&(0,d.Pv)(e,t,i)},[t,n]));return s.useCallback(e=>(t,n)=>{let a=(n,i)=>(0,s.createElement)(o.NameWithRoleAnchor,{...null!=n?n:{},key:i,onContextMenu:v,name:t,color:null==e?void 0:e.colorString,roleName:null==e?void 0:e.colorRoleName,"aria-label":T}),u=e=>t=>{f&&t.stopPropagation(),e(t)};return(0,i.jsx)(l.Gt,{value:_,children:null!=h?(0,i.jsx)(o.Popout,{position:"right",preload:()=>(0,r.W)(h.id,h.getAvatarURL(p,80),{guildId:p,channelId:m}),renderPopout:t=>(0,i.jsx)(c.Z,{...t,location:"useUsernameHook",userId:h.id,guildId:p,channelId:m,messageId:g,roleId:null==e?void 0:e.colorRoleId}),children:e=>{let{onClick:t,...n}=e;return a({onClick:u(t),...n})}},n):a(void 0,n)})},[_,h,m,p,g,v,f,T])}},989830:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(442837),s=n(314897),o=n(351780),a=n(843693);function l(e,t){return e===t||(null==e?void 0:e.channelId)===(null==t?void 0:t.channelId)&&(null==e?void 0:e.value)===(null==t?void 0:t.value)&&(null==e?void 0:e.multiplier)===(null==t?void 0:t.multiplier)&&!0}function r(e){let t=(0,i.e7)([o.Z],()=>!!o.Z.isEnabled()&&o.Z.combosEnabled);return(0,i.e7)([a.ZP,s.default],()=>t?a.ZP.getUserCombo(s.default.getId(),e):void 0,[e,t],l)}},692147:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250),s=n(470079),o=n(392711),a=n(399606),l=n(351780),r=n(576125),c=n(465858),u=n(112843),d=n(524484);function h(e){let{reactionRef:t,count:n}=e,i=s.useRef(n),r=(0,a.e7)([l.Z],()=>l.Z.getState()),d=(0,u.Z)(),h=(0,c.Z)(t);return s.useEffect(()=>{if(n>i.current&&null!=h){let e=(0,o.clamp)(n,r.confettiCount/2,2*r.confettiCount);d.fire(h.x,h.y,{count:e})}i.current=n},[n,h,d,r.confettiCount]),null}function m(e){return(0,i.jsx)(r.Z,{confettiLocation:d.Hn.REACTION,children:(0,i.jsx)(h,{...e})})}},246642:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var s=n(481060),o=n(44315),a=n(641033),l=n(989830),r=n(689938),c=n(390017);function u(e){let{channelId:t}=e,n=(0,l.Z)(t);if(!(null!=n&&(n.value>0||(null==n?void 0:n.multiplier)>1)))return null;let{multiplier:u}=n,{color:d}=(0,a.yz)(u);return(0,i.jsxs)("div",{className:c.container,children:[(0,i.jsx)(s.Text,{variant:"text-xs/normal",children:r.Z.Messages.POGGERMODE_COMBO_BAR}),(0,i.jsx)(s.Progress,{foregroundColor:(0,o.Lq)(d),className:c.progress,size:s.Progress.Sizes.LARGE,percent:100*(0,a.nc)(n),animate:!0})]})}},659215:function(e,t,n){n.r(t),n.d(t,{default:function(){return p},openBurstReactionsUpsellModal:function(){return g}});var i=n(735250);n(470079);var s=n(481060),o=n(230711),a=n(104494),l=n(639119),r=n(790527),c=n(474936),u=n(981631),d=n(689938),h=n(487690),m=n(784370);function p(e){var t,n;let{onClose:s,analyticsSource:p,...g}=e,f=d.Z.Messages.SUPER_REACTIONS_UPSELL_UNLIMITED_BODY.format({onClick:()=>{o.Z.open(u.oAB.PREMIUM),s()}}),T=(0,l.N)(),_=(0,a.Ng)(),v=null!=T||null!=_;return(0,i.jsx)(r.Z,{artURL:m,artContainerClassName:h.artContainer,modalClassName:h.modalContainer,bodyClassName:h.bodyContainer,type:c.cd.BURST_REACTION_UPSELL,title:d.Z.Messages.SUPER_REACTIONS_UPSELL_TITLE,body:f,glowUp:f,analyticsSource:p,analyticsLocation:{page:u.ZY5.PREMIUM_UPSELL_BURST_REACTIONS,object:u.qAy.BUTTON_CTA},onClose:s,subscribeButtonText:v?void 0:d.Z.Messages.PREMIUM_SETTINGS_GET,subscriptionTier:null!==(n=null==T?void 0:null===(t=T.subscription_trial)||void 0===t?void 0:t.sku_id)&&void 0!==n?n:c.Si.TIER_2,backButtonText:d.Z.Messages.NO_THANKS,...g})}function g(e){let{analytics:t}=e;(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,659215));return n=>(0,i.jsx)(e,{analyticsSource:t,...n})})}},921227:function(e,t,n){var i,s=n(442837),o=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l={};class r extends(i=s.ZP.PersistedStore){initialize(e){Object.assign(l,e)}getState(){return l}shouldShowEducation(e){return!0!==l[e]}}a(r,"displayName","ActivityInviteEducationStore"),a(r,"persistKey","ActivityInviteEducationExperimentStore"),t.Z=new r(o.Z,{ACTIVITY_INVITE_EDUCATION_DISMISS:function(e){return l[e.key]=e.value,!0}})},18732:function(e,t,n){n.d(t,{Z:function(){return g},y:function(){return p}});var i,s,o,a=n(735250),l=n(470079),r=n(392711),c=n.n(r),u=n(748780),d=n(451478);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return{toValue:e,duration:null!=t?t:300,easing:u.Z.Easing.inOut(u.Z.Easing.back())}}function p(e,t,n){if(null!=t){let i=Math.ceil(Math.log10(e+1));return null!=n&&n>0?Math.min(i,n)*t:i*t}}(i=s||(s={}))[i.ABOVE=0]="ABOVE",i[i.VISIBLE=1]="VISIBLE",i[i.BELOW=2]="BELOW";class g extends(o=l.PureComponent){static getDerivedStateFromProps(e,t){let{prevValue:n,currValue:i,nextValue:s}=t;return null==n&&i!==e.value?{prevValue:d.Z.isFocused()?i:null,currValue:e.value}:null!=s&&s!==e.value?{nextValue:e.value}:null}componentDidUpdate(e,t){let{prevValue:n,currValue:i}=this.state;n!==t.prevValue&&null!=n&&this.animateBetween(n,i)}animateBetween(e,t){let n;let{forcePosition:i,animationSpeed:s}=this.props;this.prevAnimate.setValue(1),null!=i?0===i?(this.currAnimate.setValue(0),n=2):2===i&&(this.currAnimate.setValue(2),n=0):e>t?(this.currAnimate.setValue(0),n=2):(this.currAnimate.setValue(2),n=0),u.Z.parallel([u.Z.timing(this.prevAnimate,m(n,s)),u.Z.timing(this.currAnimate,m(1,s))]).start(this.animateNext)}getAnimatedStyle(e){let{animationColor:t}=this.props;return{transform:[{translateY:e.interpolate({inputRange:[0,1,2],outputRange:["-100%","0%","100%"]})}],position:"absolute",top:0,left:0,right:0,bottom:0,...null!=t&&{color:t}}}getMinWidth(e){let{digitWidth:t,padStartLength:n}=this.props;return p(e,t,n)}padValue(e){let{padStartLength:t}=this.props;return null!=t?String(e).padStart(t,"0"):e}render(){let{prevValue:e,currValue:t}=this.state,{color:n,formatString:i}=this.props,s=c().omit(this.props,["value","digitWidth","padStartLength","forcePosition"]);if(null==e)return(0,a.jsx)("div",{...s,style:{color:n,minWidth:this.getMinWidth(t)},children:null!=i?i(this.padValue(t)):this.padValue(t)});let o=Math.max(e,t);return(0,a.jsxs)("div",{...s,style:{color:n,position:"relative",overflow:"hidden"},children:[(0,a.jsx)("div",{style:{visibility:"hidden",minWidth:this.getMinWidth(o)},children:this.padValue(o)}),(0,a.jsx)(u.Z.div,{style:{color:n,...this.getAnimatedStyle(this.prevAnimate)},children:null!=i?i(this.padValue(e)):this.padValue(e)}),(0,a.jsx)(u.Z.div,{style:{color:n,...this.getAnimatedStyle(this.currAnimate)},children:null!=i?i(this.padValue(t)):this.padValue(t)})]})}constructor(e){super(e),h(this,"prevAnimate",void 0),h(this,"currAnimate",void 0),h(this,"animateNext",()=>{let{currValue:e,nextValue:t}=this.state;null!=t?this.setState({prevValue:d.Z.isFocused()?e:null,currValue:t,nextValue:null}):this.setState({prevValue:null})}),this.state={prevValue:null,currValue:e.value,nextValue:null},this.prevAnimate=new u.Z.Value(0),this.currAnimate=new u.Z.Value(1)}}h(g,"Positions",s)},497800:function(e,t,n){e.exports={text:"text_d7ebeb",ellipsis:"ellipsis_d7ebeb",typingDots:"typingDots_d7ebeb",cooldownWrapper:"cooldownWrapper_d7ebeb",slowModeIcon:"slowModeIcon_d7ebeb",typing:"typing_d7ebeb base_d7ebeb",isComboing:"isComboing_d7ebeb",activityInviteEducation:"activityInviteEducation_d7ebeb base_d7ebeb",activityInviteEducationFadeIn:"activityInviteEducationFadeIn_d7ebeb",activityInviteEducationArrow:"activityInviteEducationArrow_d7ebeb"}},260018:function(e,t,n){e.exports={container:"container_f2bfbb",scroller:"scroller_f2bfbb",reactorsContainer:"reactorsContainer_f2bfbb",reactors:"reactors_f2bfbb",reactionSelected:"reactionSelected_f2bfbb",reactionDefault:"reactionDefault_f2bfbb",emoji:"emoji_f2bfbb",emojiText:"emojiText_f2bfbb",burstEmojiSection:"burstEmojiSection_f2bfbb",hideEmoji:"hideEmoji_f2bfbb",burstEmoji:"burstEmoji_f2bfbb",spinner:"spinner_f2bfbb",spinnerMore:"spinnerMore_f2bfbb",reactorDefault:"reactorDefault_f2bfbb reactor_f2bfbb",name:"name_f2bfbb",nickname:"nickname_f2bfbb",username:"username_f2bfbb",tagFaded:"tagFaded_f2bfbb",discriminator:"discriminator_f2bfbb",remove:"remove_f2bfbb"}},883021:function(e,t,n){e.exports={emojiContainer:"emojiContainer_ffd153",emoji:"emoji_ffd153"}},678397:function(e,t,n){e.exports={obscuredIcon:"obscuredIcon_a62ee5"}},804702:function(e,t,n){e.exports={container:"container_d331f1",isOpen:"isOpen_d331f1",dots:"dots_d331f1",focusTarget:"focusTarget_d331f1",left:"left_d331f1",body:"body_d331f1",messageFocusBlock:"messageFocusBlock_d331f1",message:"message_d331f1",messageContent:"messageContent_d331f1",messageContentTrailingIcon:"messageContentTrailingIcon_d331f1",messageContentLeadingIcon:"messageContentLeadingIcon_d331f1",bodyMedia:"bodyMedia_d331f1",obscuredTag:"obscuredTag_d331f1",thumbnailContainer:"thumbnailContainer_d331f1",thumbnailOverride:"thumbnailOverride_d331f1",obscured:"obscured_d331f1",header:"header_d331f1",footer:"footer_d331f1",bullet:"bullet_d331f1",headerText:"headerText_d331f1",postTitleText:"postTitleText_d331f1",newBadgeWrapper:"newBadgeWrapper_d331f1",newBadge:"newBadge_d331f1",inTagsRow:"inTagsRow_d331f1",typing:"typing_d331f1",typingUsers:"typingUsers_d331f1",messageCountBox:"messageCountBox_d331f1",messageCountIcon:"messageCountIcon_d331f1",hasRead:"hasRead_d331f1",messageCountText:"messageCountText_d331f1",newMessageCount:"newMessageCount_d331f1",updateReactionButton:"updateReactionButton_d331f1",timestampTooltip:"timestampTooltip_d331f1",blockedMessage:"blockedMessage_d331f1",withNewBadgeOverflow:"withNewBadgeOverflow_d331f1"}},164675:function(e,t,n){e.exports={author:"author_c2ac9c",hasUnreads:"hasUnreads_c2ac9c"}},879238:function(e,t,n){e.exports={tags:"tags_f451cd",pinIcon:"pinIcon_f451cd",tagFiltered:"tagFiltered_f451cd"}},995637:function(e,t,n){e.exports={container:"container_a9480d",content:"content_a9480d",buttonContainer:"buttonContainer_a9480d",cancel:"cancel_a9480d",image:"image_a9480d"}},704963:function(e,t,n){n.r(e.exports={reactions:"reactions_f61c73",icon:"icon_f61c73",reactionBtn:"reactionBtn_f61c73",active:"active_f61c73",visible:"visible_f61c73",forceShow:"forceShow_f61c73",forceShowLook:"forceShowLook_f61c73",hideEmoji:"hideEmoji_f61c73",reaction:"reaction_f61c73",shakeReaction:"shakeReaction_f61c73",shake:"shake_f61c73",reactionReadOnly:"reactionReadOnly_f61c73",reactionCount:"reactionCount_f61c73",reactionMe:"reactionMe_f61c73",reactionInner:"reactionInner_f61c73",remainingReactions:"remainingReactions_f61c73",premiumIcon:"premiumIcon_f61c73",sparkles:"sparkles_f61c73",burstGlow:"burstGlow_f61c73"})},667671:function(e,t,n){n.r(e.exports={reactions:"reactions_ec6b19",icon:"icon_ec6b19",reactionBtn:"reactionBtn_ec6b19",active:"active_ec6b19",visible:"visible_ec6b19",forceShow:"forceShow_ec6b19",forceShowLook:"forceShowLook_ec6b19",hideEmoji:"hideEmoji_ec6b19",reaction:"reaction_ec6b19",shakeReaction:"shakeReaction_ec6b19",shake:"shake_ec6b19",reactionReadOnly:"reactionReadOnly_ec6b19",reactionCount:"reactionCount_ec6b19",reactionMe:"reactionMe_ec6b19",reactionInner:"reactionInner_ec6b19",remainingReactions:"remainingReactions_ec6b19",premiumIcon:"premiumIcon_ec6b19",sparkles:"sparkles_ec6b19",burstGlow:"burstGlow_ec6b19"})},774445:function(e,t,n){e.exports={reactionTooltip:"reactionTooltip_fba897",reactionTooltipEmoji:"reactionTooltipEmoji_fba897",reactionTooltipText:"reactionTooltipText_fba897",reactionTooltipInner:"reactionTooltipInner_fba897",burstReactionTooltipInner:"burstReactionTooltipInner_fba897",burstReactionTooltipMessage:"burstReactionTooltipMessage_fba897",burstReactionTooltipSpacer:"burstReactionTooltipSpacer_fba897",burstReactionTooltipPrompt:"burstReactionTooltipPrompt_fba897",burstReactionTooltipPromptClickable:"burstReactionTooltipPromptClickable_fba897",burstReactionTooltipNitroIcon:"burstReactionTooltipNitroIcon_fba897",burstReactionTooltipUpsellCta:"burstReactionTooltipUpsellCta_fba897"}},114905:function(e,t,n){e.exports={effect:"effect_e5651",effectsWrapper:"effectsWrapper_e5651"}},519282:function(e,t,n){n.r(e.exports={effect:"effect_de8d64",effects:"effects_de8d64"})},775139:function(e,t,n){n.r(e.exports={effect:"effect_bdca47",effects:"effects_bdca47"})},390017:function(e,t,n){e.exports={container:"container_b80cb2",progress:"progress_b80cb2"}},487690:function(e,t,n){e.exports={artContainer:"artContainer_db3cf5",modalContainer:"modalContainer_db3cf5",bodyContainer:"bodyContainer_db3cf5"}}}]);
//# sourceMappingURL=58076511301e9d69e166.js.map