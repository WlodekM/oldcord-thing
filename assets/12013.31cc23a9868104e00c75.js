"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["12013"],{658317:function(e,n,a){e.exports=a.p+"da6d27036e09e883dfe0.svg"},716269:function(e,n,a){e.exports=a.p+"373eb7c5ed11eb7b9381.svg"},325202:function(e,n,a){e.exports=a.p+"27cea2200bc1969b9519.svg"},933099:function(e,n,a){e.exports=a.p+"2dd3d77ce9a54ada7bb4.svg"},525656:function(e,n,a){e.exports=a.p+"2ed283a97de85a06483f.svg"},394865:function(e,n,a){e.exports=a.p+"e6b9016e5997d883dc85.svg"},158841:function(e,n,a){e.exports=a.p+"4894fa35b7f740c1e27a.svg"},105822:function(e,n,a){e.exports=a.p+"6785c12f8a67f469b22f.svg"},706614:function(e,n,a){e.exports=a.p+"4fd63c0cd57a43555d22.svg"},822158:function(e,n,a){e.exports=a.p+"efef6ae086c915a6c6f0.svg"},813659:function(e,n,a){e.exports=a.p+"51611f63ce590366d4f5.svg"},242917:function(e,n,a){e.exports=a.p+"853bfad03384d556c9c4.svg"},97007:function(e,n,a){e.exports=a.p+"9d929ec9b1e5a8bf3021.svg"},623533:function(e,n,a){e.exports=a.p+"1c9d0b864f319e74c706.svg"},962505:function(e,n,a){e.exports=a.p+"2db49e2100630d28aae1.svg"},459171:function(e,n,a){e.exports=a.p+"faa36139293f87b16067.svg"},514164:function(e,n,a){e.exports=a.p+"2a99298aa6df434262ff.svg"},897166:function(e,n,a){e.exports=a.p+"a34a0075643c72af1839.svg"},834438:function(e,n,a){e.exports=a.p+"e34196d25b7d530ed73a.svg"},786989:function(e,n,a){e.exports=a.p+"8a47dfa0d90a572c70b5.svg"},264577:function(e,n,a){e.exports=a.p+"1afb026a81c8e26b8c86.svg"},866110:function(e,n,a){e.exports=a.p+"7954658c72cbf25f57ec.svg"},530287:function(e,n,a){e.exports=a.p+"442465435e8131baf0e7.svg"},158934:function(e,n,a){e.exports=a.p+"ddea01f7340d1926bb4b.svg"},707466:function(e,n,a){e.exports=a.p+"a46f0b4caf82c9d862c2.svg"},134474:function(e,n,a){e.exports=a.p+"9b4220da626cb51593a9.svg"},224550:function(e,n,a){a(411104);var t=a(735250);a(470079);var s=a(858987),r=a(122289),l=a(63063),i=a(74538),o=a(937615),c=a(296848),u=a(981631),d=a(474936),_=a(689938),I=a(665988);n.Z=function(e){let n,a,E;let{subscriptionPlan:T,isGift:A,isEmbeddedIAP:N,renewalInvoice:P,paymentSourceType:M,hide:p,purchaseType:R,productLine:L,basePrice:f,currentSubscription:C}=e;if(p)return null;let m=null==e.planGroup?[]:e.planGroup;if(null!=P){let e=i.ZP.getIntervalForInvoice(P);n=e.intervalType,a=e.intervalCount,E=(0,o.og)((0,o.T4)(P.total,P.currency),n,a)}else null!=T&&(n=T.interval,a=T.intervalCount);let S=(0,s.K)({purchaseType:R||u.GZQ.SUBSCRIPTION,plan:T,premiumSubscription:null==C?null:C,isGift:!!A,planGroup:m,isPrepaidPaymentSource:!1}),b="",v="";if(N){if(null!=E&&(null==P?void 0:P.subscriptionPeriodEnd)!=null)b=_.Z.Messages.EMBEDDED_ACTIVITIES_IAP_NON_REFUNDABLE_SUBSCRIPTION_RATE_AND_RENEWAL.format({rate:E,renewalDate:P.subscriptionPeriodEnd});else switch(n){case d.rV.MONTH:b=1===a?_.Z.Messages.EMBEDDED_ACTIVITIES_IAP_NON_REFUNDABLE_SUBSCRIPTION_MONTHLY:_.Z.Messages.EMBEDDED_ACTIVITIES_IAP_NON_REFUNDABLE_SUBSCRIPTION_MULTI_MONTH.format({intervalCount:a});break;case d.rV.YEAR:b=_.Z.Messages.EMBEDDED_ACTIVITIES_IAP_NON_REFUNDABLE_SUBSCRIPTION_YEARLY;break;case void 0:v=_.Z.Messages.BILLING_LEGAL_MUMBO_JUMBO_TERMS_LABEL_V2.format({primaryText:S,paidURL:u.EYA.PAID_TERMS}),b=_.Z.Messages.EMBEDDED_ACTIVITIES_IAP_NON_REFUNDABLE.format({});break;default:throw Error("Unexpected interval: ".concat(n))}}else if(R===u.GZQ.ONE_TIME)v=_.Z.Messages.BILLING_LEGAL_MUMBO_JUMBO_TERMS_LABEL_V2.format({primaryText:S,paidURL:u.EYA.PAID_TERMS}),b=L===u.POd.COLLECTIBLES?A?_.Z.Messages.COLLECTIBLES_PURCHASE_DISCLAIMER_GIFT_PAYMENT:_.Z.Messages.COLLECTIBLES_PURCHASE_DISCLAIMER_PAYMENT:_.Z.Messages.ONE_TIME_PURCHASE_FINE_PRINT;else if(null==T||A)switch(A&&(v=_.Z.Messages.BILLING_LEGAL_MUMBO_JUMBO_TERMS_LABEL_V2.format({primaryText:S,paidURL:u.EYA.PAID_TERMS})),n){case d.rV.MONTH:b=A?_.Z.Messages.PREMIUM_PAYMENT_GIFT_SUBTEXT_MONTHLY:_.Z.Messages.SUBSCRIPTION_PAYMENT_LEGALESE_MONTHLY,b=A?_.Z.Messages.PREMIUM_PAYMENT_GIFT_SUBTEXT_MONTHLY:1===a?_.Z.Messages.SUBSCRIPTION_PAYMENT_LEGALESE_MONTHLY:_.Z.Messages.SUBSCRIPTION_PAYMENT_LEGALESE_MULTI_MONTH.format({intervalCount:a});break;case d.rV.YEAR:b=A?_.Z.Messages.PREMIUM_PAYMENT_GIFT_SUBTEXT_YEARLY:_.Z.Messages.SUBSCRIPTION_PAYMENT_LEGALESE_YEARLY;break;case void 0:b="";break;default:throw Error("Unexpected interval: ".concat(n))}else{let e;let t=(0,s.K)({purchaseType:u.GZQ.SUBSCRIPTION,plan:T,premiumSubscription:null==C?null:C,isGift:!1,planGroup:m,isPrepaidPaymentSource:!1});if(null!=f&&null!=n&&null!=a&&(e=(0,o.og)((0,o.T4)(f.amount,f.currency),n,a)),null==e){let e=Error("Missing base rate for legal fine print");(0,r.q2)(e,{tags:{planId:T.id}})}b=(null==C?void 0:C.isPaused)?_.Z.Messages.SUBSCRIPTION_PAYMENT_LEGALESE_RESUME.format({primaryText:t,rate:e,paidURL:u.EYA.PAID_TERMS,contactLink:u.EYA.CONTACT,helpdeskArticle:l.Z.getArticleURL(u.BhN.BILLING)}):null!=C&&(0,c.GY)(C,T.id,m)?_.Z.Messages.SUBSCRIPTION_PAYMENT_LEGALESE_PLAN_CHANGE_V2.format({primaryText:t,rate:e,paidURL:u.EYA.PAID_TERMS,contactLink:u.EYA.CONTACT,helpdeskArticle:l.Z.getArticleURL(u.BhN.BILLING)}):_.Z.Messages.SUBSCRIPTION_PAYMENT_LEGALESE_V2.format({primaryText:t,rate:e,paidURL:u.EYA.PAID_TERMS,contactLink:u.EYA.CONTACT,helpdeskArticle:l.Z.getArticleURL(u.BhN.BILLING)})}return(0,t.jsxs)(t.Fragment,{children:[""!==v&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:v}),(0,t.jsx)("div",{className:I.divider})]}),""!==b&&(0,t.jsx)("div",{children:b}),M===u.HeQ.PAYSAFE_CARD&&(0,t.jsx)("div",{className:I.paymentSourceNoticeCopy,children:_.Z.Messages.SUBSCRIPTION_PAYMENT_LEGALESE_PAYSAFECARD}),M===u.HeQ.SOFORT&&(0,t.jsxs)("div",{className:I.paymentSourceNoticeCopy,children:[_.Z.Messages.SOFORT_MANDATE_AGREEMENT," "]})]})}},490504:function(e,n,a){var t=a(735250);a(470079);var s=a(481060),r=a(410333);n.Z=function(e){let{message:n}=e;return(0,t.jsxs)("div",{className:r.container,children:[(0,t.jsx)(s.CircleInformationIcon,{size:"custom",className:r.icon,width:20,height:20,color:s.tokens.colors.TEXT_WARNING}),(0,t.jsx)(s.Text,{variant:"text-sm/normal",color:"header-muted",children:n})]})}},275850:function(e,n,a){a.d(n,{Z:function(){return M}}),a(411104),a(47120);var t=a(735250),s=a(470079),r=a(120356),l=a.n(r),i=a(692547),o=a(481060),c=a(987032),u=a(46141),d=a(912454),_=a(63063),I=a(981631),E=a(231338),T=a(689938),A=a(591717);let N="***@***.***",P=new u.dm({id:"new_payment_source_id",brand:d.ZP.Types.UNKNOWN,type:I.HeQ.CARD});function M(e){var n,a;let r,{selectedPaymentSourceId:M,paymentSources:p,prependOption:R,hidePersonalInformation:L,onChange:f,onPaymentSourceAdd:C,isTrial:m=!1,disabled:S=!1,className:b,optionClassName:v,dropdownLoading:g}=e,h=0===p.length,O=[...null!=R?[R]:[],...p,P].map((e,n)=>{if(e instanceof u.ZP){let{brand:n,label:a}=function(e,n){if(e instanceof u.dm)return e.id===P.id?{brand:null,label:T.Z.Messages.PAYMENT_SOURCES_ADD}:{brand:n?d.ZP.Types.UNKNOWN:e.brand,label:T.Z.Messages.PAYMENT_SOURCE_CARD_ENDING_IN.format({last4:n?"****":e.last4})};if(e instanceof u.qo)return{brand:d.ZP.Types.PAYPAL,label:n?N:e.email};if(e instanceof u.Sf)return{brand:d.ZP.Types.SOFORT,label:n?N:e.email};else if(e instanceof u.fv)return{brand:d.ZP.Types.GIROPAY,label:T.Z.Messages.PAYMENT_SOURCE_GIROPAY};else if(e instanceof u.Vg)return{brand:d.ZP.Types.PRZELEWY24,label:n?N:e.email};else if(e instanceof u.sn)return{brand:d.ZP.Types.PAYSAFECARD,label:T.Z.Messages.PAYMENT_SOURCE_PAYSAFE_CARD_REDIRECT};else if(e instanceof u.o_)return{brand:d.ZP.Types.GCASH,label:T.Z.Messages.PAYMENT_SOURCE_GCASH};else if(e instanceof u.kX)return{brand:d.ZP.Types.GRABPAY,label:T.Z.Messages.PAYMENT_SOURCE_GRABPAY};else if(e instanceof u.z)return{brand:d.ZP.Types.MOMO_WALLET,label:T.Z.Messages.PAYMENT_SOURCE_MOMO_WALLET};else if(e instanceof u.Xc)return{brand:d.ZP.Types.VENMO,label:n?"***":"@"+e.username};else if(e instanceof u.Om)return{brand:d.ZP.Types.KAKAOPAY,label:T.Z.Messages.PAYMENT_SOURCE_KAKAOPAY};else if(e instanceof u.JC)return{brand:d.ZP.Types.GOPAY_WALLET,label:T.Z.Messages.PAYMENT_SOURCE_GOPAY_WALLET};else if(e instanceof u.U4)return{brand:d.ZP.Types.BANCONTACT,label:T.Z.Messages.PAYMENT_SOURCE_BANCONTACT};else if(e instanceof u.D0)return{brand:d.ZP.Types.EPS,label:T.Z.Messages.PAYMENT_SOURCE_EPS_WITH_BANK.format({bank:(0,c.Ul)(e.bank)})};else if(e instanceof u.jc)return{brand:d.ZP.Types.IDEAL,label:T.Z.Messages.PAYMENT_SOURCE_IDEAL_WITH_BANK.format({bank:(0,c.YE)(e.bank)})};else if(e instanceof u.u_)return{brand:d.ZP.Types.CASH_APP,label:n?"***":e.username};throw Error("Invalid Payment Source")}(e,L);return{value:e.id,label:(0,t.jsxs)("div",{className:A.paymentSourceSelectedOption,children:[null!=n?(0,t.jsx)(d.ZP,{type:d.ZP.getType(n)}):null,(0,t.jsx)("div",{className:l()(A.paymentSourceLabel,{[A.error]:e.invalid}),children:a})]})}}return{key:n,value:e.value,label:(0,t.jsx)("div",{className:A.paymentSourceLabel,children:e.label})}}),U=s.useMemo(()=>p.find(e=>e.id===M),[p,M]);let y=(n=m,a=U,r=null,n&&null!=a&&!a.canRedeemTrial()?r=T.Z.Messages.PAYMENT_SOURCE_REDEMPTION_INVALID:n&&null!=a&&a.hasFlag(E.Cw.NEW)&&(r=T.Z.Messages.BILLING_PAYMENT_AUTHORIZATION_CHARGE.format({helpDeskArticle:_.Z.getArticleURL(I.BhN.PAYMENT_AUTHORIZATION_CHARGE)})),r);return(0,t.jsxs)(t.Fragment,{children:[h?(0,t.jsx)(o.Button,{color:o.ButtonColors.BRAND,fullWidth:!0,onClick:C,children:T.Z.Messages.PAYMENT_SOURCES_ADD}):(0,t.jsx)(o.SingleSelect,{options:O,value:M,onChange:e=>{if(e===P.id)null!=C&&C();else{let n=p.find(n=>n.id===e);null!=f&&f(n)}},isDisabled:S,className:l()({[A.paymentSourceHasWarning]:null!=y},b),optionClassName:v,placeholder:T.Z.Messages.PAYMENT_SOURCE_TYPE_SELECT,renderOptionValue:e=>{let[n]=e;return g?(0,t.jsx)(o.Spinner,{type:o.SpinnerTypes.SPINNING_CIRCLE}):n.label}}),null!=y?(0,t.jsxs)("div",{className:A.paymentSourceWarning,children:[(0,t.jsx)(o.CircleExclamationPointIcon,{size:"custom",width:20,height:20,className:A.paymentSourceWarningIcon,color:i.Z.unsafe_rawColors.YELLOW_300.css}),(0,t.jsx)(o.Text,{variant:"text-xs/normal",children:y})]}):null]})}},672971:function(e,n,a){a(411104),a(47120);var t=a(735250),s=a(470079),r=a(120356),l=a.n(r),i=a(512722),o=a.n(i),c=a(442837),u=a(481060),d=a(850840),_=a(63063),I=a(74538),E=a(981631),T=a(474936),A=a(689938),N=a(112468);function P(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}class M extends s.Component{componentDidMount(){this.props.onChange(this.hasAcceptedNeccessaryTerms(this.props,this.state))}componentDidUpdate(e,n){let a=this.hasAcceptedNeccessaryTerms(e,n),t=this.hasAcceptedNeccessaryTerms(this.props,this.state);t!==a&&this.props.onChange(t)}hasAcceptedNeccessaryTerms(e,n){return(null==e.eulaId||n.hasAcceptedEULA)&&(!e.showWithdrawalWaiver||n.hasAcceptedWithdrawalWaiver)}formatInterval(e){if(e===T.rV.YEAR)return A.Z.Messages.PREMIUM_SUBSCRIPTION_INTERVAL_YEAR;if(e===T.rV.MONTH)return A.Z.Messages.PREMIUM_SUBSCRIPTION_INTERVAL_MONTH;throw Error("Invalid interval type: ".concat(e))}render(){let{eulaId:e,applicationName:n,hasPreviouslyAcceptedEULA:s,forceShow:r,disabled:i,className:c,checkboxClassname:d,checkboxLabelClassname:T,finePrint:P,showPricingLink:M,showWithdrawalWaiver:p,isTrial:R,isDiscount:L,subscriptionPlan:f,finePrintClassname:C}=this.props,{hasAcceptedEULA:m,hasAcceptedWithdrawalWaiver:S}=this.state;return(o()(!R||null!=f,"subscriptionPlan cannot be null if shouldShowUpdatedPaymentModal is true"),r||null!=e&&!s||p)?(0,t.jsxs)("div",{className:c,children:[p&&(0,t.jsx)(u.FormTitle,{className:N.formTitle,children:A.Z.Messages.BILLING_ONLINE_PURCHASE_WAIVER}),null!=e&&(r||!s)?(0,t.jsx)(u.Checkbox,{type:u.Checkbox.Types.INVERTED,value:m,onChange:this.handleToggleEULAAcceptance,disabled:i,className:N.checkbox,children:(0,t.jsx)("div",{className:N.checkboxLabel,children:A.Z.Messages.BILLING_THIRD_PARTY_EULA_LABEL.format({applicationName:n,onClick:n=>{(0,u.openModalLazy)(async()=>{let{default:n}=await a.e("51868").then(a.bind(a,796504));return a=>(0,t.jsx)(n,{eulaId:e,...a})}),n.preventDefault()}})})}):null,null==P?null:(0,t.jsx)("div",{className:l()(N.finePrint,C),children:P}),p?(0,t.jsxs)("div",{className:c,children:[(0,t.jsx)(u.Checkbox,{type:u.Checkbox.Types.INVERTED,value:S,onChange:this.handleToggleEUWithdralWaiverAcceptance,disabled:i,className:l()(N.checkbox,d),children:(0,t.jsx)("div",{className:l()(N.checkboxLabel,T),children:A.Z.Messages.BILLING_ONLINE_PURCHASE_WAIVER_CHECKBOX})}),(0,t.jsx)("div",{className:N.finePrint,children:A.Z.Messages.BILLING_ONLINE_PURCHASE_WAIVER_DISCLAIMER})]}):null,M&&(0,t.jsxs)("div",{className:N.finePrint,children:["*",A.Z.Messages.BILLING_HOW_PRICING_WORKS.format({documentationLink:_.Z.getArticleURL(E.BhN.LOCALIZED_PRICING)})]}),R&&null!=f&&(0,t.jsx)(u.Text,{variant:"text-xs/medium",color:"interactive-normal",children:A.Z.Messages.BILLING_TRIAL_LEGAL_COPY_V2.format({buttonText:(0,I.W_)(null,f),interval:this.formatInterval(null==f?void 0:f.interval),cancelSubscriptionArticle:_.Z.getArticleURL(E.BhN.PREMIUM_DETAILS_CANCEL_SUB),paidServiceTermsArticle:_.Z.getArticleURL(E.BhN.PAID_TERMS)})}),L&&null!=f&&(0,t.jsx)(u.Text,{variant:"text-xs/medium",color:"interactive-normal",children:A.Z.Messages.BILLING_DISCOUNT_LEGAL_COPY.format({buttonText:(0,I.W_)(null,f),interval:this.formatInterval(null==f?void 0:f.interval),cancelSubscriptionArticle:_.Z.getArticleURL(E.BhN.PREMIUM_DETAILS_CANCEL_SUB),paidServiceTermsArticle:_.Z.getArticleURL(E.BhN.PAID_TERMS)})})]}):null}constructor(...e){super(...e),P(this,"state",{hasAcceptedEULA:!this.props.forceShow&&this.props.hasPreviouslyAcceptedEULA,hasAcceptedWithdrawalWaiver:!1}),P(this,"handleToggleEUWithdralWaiverAcceptance",(e,n)=>{this.setState({hasAcceptedWithdrawalWaiver:n})}),P(this,"handleToggleEULAAcceptance",(e,n)=>{this.setState({hasAcceptedEULA:n})})}}n.Z=c.ZP.connectStores([d.Z],e=>{let{eulaId:n}=e;return{hasPreviouslyAcceptedEULA:null!=n&&d.Z.hasAcceptedEULA(n)}})(M)},987032:function(e,n,a){a.d(n,{Ul:function(){return c},YE:function(){return i}}),a(47120);var t=a(818083),s=a(981631),r=a(689938);n.ZP=(0,t.B)({kind:"user",id:"2021-08_regional_payment_methods",label:"Regional Payment Methods",defaultConfig:{enabledPaymentTypes:[],forceCountryCode:null,validCountryCodes:[]},treatments:[{id:1,label:"Regional Payment Method for Germany",config:{enabledPaymentTypes:[s.HeQ.SOFORT],forceCountryCode:"DE",validCountryCodes:["DE"]}},{id:2,label:"Regional Payment Method for US",config:{enabledPaymentTypes:[s.HeQ.VENMO,s.HeQ.CASH_APP],forceCountryCode:"US",validCountryCodes:["US"]}},{id:3,label:"Regional Payment Method for Brazil",config:{enabledPaymentTypes:[],forceCountryCode:"BR",validCountryCodes:["BR"]}},{id:4,label:"Regional Payment Method for Turkey",config:{enabledPaymentTypes:[],forceCountryCode:"TR",validCountryCodes:["TR"]}},{id:5,label:"Regional Payment Method for Poland",config:{enabledPaymentTypes:[s.HeQ.PRZELEWY24],forceCountryCode:"PL",validCountryCodes:["PL"]}},{id:6,label:"Enable paysafecard",config:{enabledPaymentTypes:[s.HeQ.PAYSAFE_CARD],forceCountryCode:"DE",validCountryCodes:["BG","CZ","DK","HU","RO","SE","DE"]}},{id:7,label:"Regional Payment Method for Philippines",config:{enabledPaymentTypes:[s.HeQ.GCASH],forceCountryCode:"PH",validCountryCodes:["PH"]}},{id:8,label:"Regional Payment Method for Malaysia",config:{enabledPaymentTypes:[s.HeQ.GRABPAY_MY],forceCountryCode:"MY",validCountryCodes:["MY"]}},{id:9,label:"Regional Payment Method for Vietnam",config:{enabledPaymentTypes:[s.HeQ.MOMO_WALLET],forceCountryCode:"VN",validCountryCodes:["VN"]}},{id:10,label:"Regional Payment Method for Indonesia",config:{enabledPaymentTypes:[s.HeQ.GOPAY_WALLET],forceCountryCode:"ID",validCountryCodes:["ID"]}},{id:11,label:"Regional Payment Method for South Korea",config:{enabledPaymentTypes:[s.HeQ.KAKAOPAY],forceCountryCode:"KR",validCountryCodes:["KR"]}},{id:12,label:"Regional Payment Method for Belgium",config:{enabledPaymentTypes:[s.HeQ.PAYSAFE_CARD,s.HeQ.SOFORT,s.HeQ.BANCONTACT],forceCountryCode:"BE",validCountryCodes:["BE"]}},{id:13,label:"Regional Payment Method for Austria",config:{enabledPaymentTypes:[s.HeQ.PAYSAFE_CARD,s.HeQ.EPS,s.HeQ.SOFORT],forceCountryCode:"AT",validCountryCodes:["AT"]}},{id:14,label:"Regional Payment Method for Netherlands",config:{enabledPaymentTypes:[s.HeQ.PAYSAFE_CARD,s.HeQ.IDEAL,s.HeQ.SOFORT],forceCountryCode:"NL",validCountryCodes:["NL"]}},{id:15,label:"Launch Paysafecard and Sofort",config:{enabledPaymentTypes:[s.HeQ.PAYSAFE_CARD,s.HeQ.SOFORT],forceCountryCode:"ES",validCountryCodes:["ES","IT"]}},{id:16,label:"Launch Cash App",config:{enabledPaymentTypes:[s.HeQ.CASH_APP],forceCountryCode:"US",validCountryCodes:["US"]}}]});let l=new Map([["abn_amro","ABN AMRO"],["asn_bank","ASN Bank"],["bunq","Bunq"],["handelsbanken","Handelsbanken"],["ing ","ING"],["knab","Knab"],["rabobank","Rabobank"],["revolut","Revolut"],["regiobank","RegioBank"],["sns_bank","SNS Bank (De Volksbank)"],["triodos_bank","Triodos Bank"],["van_lanschot","Van Lanschot"]]);function i(e){return void 0!==e&&l.has(e)?l.get(e):r.Z.Messages.PAYMENT_SOURCE_UNKNOWN}let o=new Map([["arzte_und_apotheker_bank","\xc4rzte- und Apothekerbank"],["austrian_anadi_bank_ag","Austrian Anadi Bank AG"],["bank_austria","Bank Austria"],["bankhaus_carl_spangler","Bankhaus Carl Sp\xe4ngler & Co.AG"],["bankhaus_schelhammer_und_schattera_ag","Bankhaus Schelhammer & Schattera AG"],["bawag_psk_ag","BAWAG P.S.K. AG"],["bks_bank_ag","BKS Bank AG"],["brull_kallmus_bank_ag","Br\xfcll Kallmus Bank AG"],["btv_vier_lander_bank","BTV VIER L\xc4NDER BANK"],["capital_bank_grawe_gruppe_ag","Capital Bank Grawe Gruppe AG"],["dolomitenbank","Dolomitenbank"],["easybank_ag","Easybank AG"],["erste_bank_und_sparkassen","Erste Bank und Sparkassen"],["hypo_alpeadriabank_international_ag","Hypo Alpe-Adria-Bank International AG"],["hypo_noe_lb_fur_niederosterreich_u_wien","HYPO NOE LB f\xfcr Nieder\xf6sterreich u. Wien"],["hypo_oberosterreich_salzburg_steiermark","HYPO Ober\xf6sterreich, Salzburg, Steiermark"],["hypo_tirol_bank_ag","Hypo Tirol Bank AG"],["hypo_vorarlberg_bank_ag","Hypo Vorarlberg Bank AG"],["hypo_bank_burgenland_aktiengesellschaft","HYPO-BANK BURGENLAND Aktiengesellschaft"],["marchfelder_bank","Marchfelder Bank"],["oberbank_ag","Oberbank AG"],["raiffeisen_bankengruppe_osterreich","Raiffeisen Bankengruppe \xd6sterreich"],["schoellerbank_ag","Schoellerbank AG"],["sparda_bank_wien","Sparda-Bank Wien"],["volksbank_gruppe","Volksbank Gruppe"],["volkskreditbank_ag","Volkskreditbank AG"],["vr_bank_braunau","VR-Bank Braunau"]]);function c(e){return void 0!==e&&o.has(e)?o.get(e):r.Z.Messages.PAYMENT_SOURCE_UNKNOWN}},53900:function(e,n,a){a.d(n,{Z:function(){return l}});var t=a(442837),s=a(853872),r=a(78839);function l(){let e=(0,t.e7)([r.ZP],()=>r.ZP.getPremiumTypeSubscription());return(0,t.e7)([s.Z],()=>{var n;return(null==e?void 0:e.paymentSourceId)!=null?null===(n=s.Z.getPaymentSource(e.paymentSourceId))||void 0===n?void 0:n.country:null})}},653798:function(e,n,a){a.d(n,{HE:function(){return R},Ji:function(){return p},KU:function(){return M},PO:function(){return T},R$:function(){return N},i$:function(){return P},q9:function(){return A}});var t=a(735250);a(470079);var s=a(120356),r=a.n(s),l=a(442837),i=a(481060),o=a(911969),c=a(706454),u=a(937615),d=a(104494),_=a(474936),I=a(689938),E=a(188157);function T(e){let{children:n,className:a}=e;return(0,t.jsx)("div",{className:r()(E.table,a),children:n})}function A(e){let{children:n}=e;return(0,t.jsx)("div",{className:E.header,children:n})}function N(e){let{label:n,value:a,className:s}=e;return(0,t.jsxs)("div",{className:r()(E.row,s),children:[(0,t.jsx)("div",{className:E.rowLabel,children:n}),(0,t.jsx)("div",{className:E.rowAmount,children:a})]})}function P(e){let{label:n,value:a,discounts:s,originalAmount:r,interval:T,currency:A,className:P,intervalCount:M,planId:p}=e,R=e=>null!=s?s.find(n=>n.type===e):null,L=R(o.eW.SUBSCRIPTION_PLAN),f=R(o.eW.ENTITLEMENT),C=(0,d.z1)(),m=null!=L&&null!=C&&null!=p&&p===_.Xh.PREMIUM_YEAR_TIER_2,S=null==L||m?null:Math.floor(L.amount/r*100),b=(0,l.e7)([c.default],()=>c.default.locale),v=()=>{var e;let n=(0,u.T3)(b,_.sK[null!==(e=null==C?void 0:C.discount_id)&&void 0!==e?e:"DEFAULT"]);return(0,t.jsx)(i.Text,{variant:"eyebrow",color:"always-white",className:E.annualPlanOptionDiscount,children:I.Z.Messages.BILLING_PLAN_SELECTION_DISCOUNT.format({discount:n})})},g=(0,u.T4)(r,A);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N,{label:n,value:m?(0,t.jsx)("div",{className:E.annualDiscountValues,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:E.annualPlanDiscountPriceSection,children:[v(),a]}),(0,t.jsx)(i.Text,{variant:"text-md/normal",color:"interactive-normal",children:I.Z.Messages.BILLING_ANNUAL_DISCOUNT_YEARLY_PRICE_SUBTEXT.format({regularPrice:g})})]})}):(0,t.jsxs)(t.Fragment,{children:[a,null!=S?(0,t.jsxs)("div",{className:E.rowPercentDiscount,children:["-",S,"%"]}):null]}),className:P}),null!=S?(0,t.jsxs)("div",{className:E.rowDiscountOriginalPrice,children:["(",null!=T&&null!=M?(0,u.og)(g,T,M):g,")"]}):null,null!=f?(0,t.jsx)("div",{className:E.entitlementDiscountRow,children:I.Z.Messages.BILLING_INVOICE_SUBSCRIPTION_CREDIT_APPLIED}):null]})}function M(e){let{extended:n=!1,negativeMarginTop:a=!1,negativeMarginBottom:s=!1}=e;return(0,t.jsx)("div",{className:r()(E.divider,{[E.dividerExtended]:n,[E.negativeMarginTop]:a,[E.negativeMarginBottom]:s})})}function p(e){let{label:n,value:a,className:s}=e;return(0,t.jsxs)("div",{className:r()(E.totalRow,s),children:[(0,t.jsx)("div",{className:E.totalLabel,children:n}),(0,t.jsx)("div",{className:E.totalAmount,children:a})]})}function R(e){let{children:n,className:a}=e;return(0,t.jsx)("div",{className:r()(E.finePrint,a),children:n})}},553797:function(e,n,a){a.d(n,{Z:function(){return u}});var t=a(735250);a(470079);var s=a(120356),r=a.n(s),l=a(937615),i=a(474936),o=a(689938),c=a(342018);function u(e){let{price:n,currency:a,intervalType:s,className:u,intervalCount:d=1,isPrepaidPaymentSource:_=!1}=e,I=(0,l.T4)(n,a),E=null;return s===i.rV.YEAR?E=o.Z.Messages.BILLING_PRICE_PER_YEAR_BOLD.format({price:I}):s===i.rV.MONTH&&1===d?E=o.Z.Messages.BILLING_PRICE_PER_MONTH_BOLD.format({price:I}):s===i.rV.MONTH&&d>1&&(E=o.Z.Messages.BILLING_PRICE_PER_MULTI_MONTHS_BOLD.format({price:I,intervalCount:d})),(0,t.jsx)("div",{className:r()(c.pricePerInterval,u),"data-testid":"PricePerInterval-".concat(a),children:null==s||_?(0,t.jsx)("strong",{children:I}):E})}},585602:function(e,n,a){a.d(n,{Z:function(){return i}});var t=a(735250);a(470079);var s=a(937615),r=a(653798),l=a(689938);function i(e){let{invoice:n}=e;return n.taxInclusive||n.tax<=0?null:(0,t.jsx)(r.R$,{label:l.Z.Messages.TAX_LABEL,value:(0,s.T4)(n.tax,n.currency)})}},314182:function(e,n,a){var t=a(735250),s=a(470079),r=a(120356),l=a.n(r),i=a(351902);let o=s.forwardRef(function(e,n){let{isActive:a,children:s}=e;return(0,t.jsx)("div",{className:l()(i.wrapper,{[i.wrapperActive]:a}),ref:n,children:s})});n.Z=o},42818:function(e,n,a){a.d(n,{As:function(){return O},By:function(){return U},Lu:function(){return y},e9:function(){return j},hG:function(){return Z},nd:function(){return Y},yT:function(){return k}}),a(411104),a(724458),a(47120);var t=a(735250),s=a(470079),r=a(120356),l=a.n(r),i=a(512722),o=a.n(i),c=a(442837),u=a(481060),d=a(911969),_=a(100527),I=a(906732),E=a(509545),T=a(259580),A=a(63063),N=a(74538),P=a(937615),M=a(374649),p=a(591548),R=a(639119),L=a(653798),f=a(585602),C=a(474936),m=a(981631),S=a(689938),b=a(187912);let v=(e,n)=>{var a;return!!(null===(a=e.discounts)||void 0===a?void 0:a.some(e=>e.type===n))},g=(e,n)=>{var a,t,s;return e.subscriptionPlanPrice-(null!==(s=null===(t=e.discounts)||void 0===t?void 0:null===(a=t.find(e=>e.type===n))||void 0===a?void 0:a.amount)&&void 0!==s?s:0)};function h(e){var n;let{invoiceItem:a,overrideAmount:s,showGuildSubscriptionAdjustmentTooltip:r,currency:l,className:i,isPrepaidPaymentSource:_,referralTrialOfferId:I}=e,T=(0,c.e7)([E.Z],()=>E.Z.get(a.subscriptionPlanId)),A=null===(n=(0,R.N)(I))||void 0===n?void 0:n.subscription_trial;o()(null!=T,"Missing subscriptionPlan");let M=function(e,n,a,t){let s=v(e,d.eW.PREMIUM_TRIAL);switch(e.subscriptionPlanId){case C.Xh.PREMIUM_MONTH_LEGACY:case C.Xh.PREMIUM_YEAR_LEGACY:case C.Xh.PREMIUM_MONTH_TIER_0:case C.Xh.PREMIUM_YEAR_TIER_0:case C.Xh.PREMIUM_MONTH_TIER_1:case C.Xh.PREMIUM_YEAR_TIER_1:case C.Xh.PREMIUM_MONTH_TIER_2:case C.Xh.PREMIUM_YEAR_TIER_2:case C.Xh.PREMIUM_3_MONTH_TIER_2:case C.Xh.PREMIUM_6_MONTH_TIER_2:return(0,N.Gf)(e.subscriptionPlanId,s,a,t);case C.Xh.PREMIUM_3_MONTH_GUILD:case C.Xh.PREMIUM_6_MONTH_GUILD:return S.Z.Messages.PREMIUM_GUILD_NUM_MULTI_MONTHS_GUILD_SUBSCRIPTIONS.format({num:e.quantity,intervalCount:n.intervalCount});case C.Xh.PREMIUM_MONTH_GUILD:return S.Z.Messages.PREMIUM_GUILD_NUM_MONTH_GUILD_SUBSCRIPTIONS.format({num:e.quantity});case C.Xh.PREMIUM_YEAR_GUILD:return S.Z.Messages.PREMIUM_GUILD_NUM_YEAR_GUILD_SUBSCRIPTIONS.format({num:e.quantity})}switch(n.interval){case C.rV.MONTH:if(1===n.intervalCount)return S.Z.Messages.MONTHLY_GUILD_SUBSCRIPTION.format({planName:n.name});return S.Z.Messages.MULTI_MONTHS_GUILD_SUBSCRIPTION.format({planName:n.name,intervalCount:n.intervalCount});case C.rV.YEAR:return S.Z.Messages.YEARLY_GUILD_SUBSCRIPTION.format({planName:n.name})}throw Error("Unexpected invoice plan: ".concat(e.subscriptionPlanId))}(a,T,_,(0,N.if)({intervalType:null==A?void 0:A.interval,intervalCount:null==A?void 0:A.interval_count}));!0===r&&(M=(0,t.jsxs)("div",{className:b.invoiceItemLabelWithIcon,children:[(0,t.jsxs)("div",{children:[M," "]}),(0,t.jsx)(u.Tooltip,{text:S.Z.Messages.PREMIUM_SUBSCRIPTION_GUILD_SUBSCRIPTION_ADJUSTMENT_TOOLTIP.format(),"aria-label":S.Z.Messages.PREMIUM_SUBSCRIPTION_GUILD_SUBSCRIPTION_ADJUSTMENT_TEXT,tooltipClassName:b.invoiceItemTooltip,children:e=>(0,t.jsx)(u.CircleQuestionIcon,{size:"md",color:"currentColor",...e,className:b.invoiceItemLabelIcon})})]}));let p=(0,P.T4)(null!=s?s:a.amount,l),f=_?p:(0,P.og)(p,T.interval,T.intervalCount);return(0,t.jsx)(L.i$,{label:M,value:f,originalAmount:a.subscriptionPlanPrice*a.quantity,discounts:a.discounts,interval:T.interval,intervalCount:T.intervalCount,currency:l,className:i,planId:a.subscriptionPlanId})}function O(e){let{label:n,tooltipText:a,tooltipAriaLabel:s}=e;return(0,t.jsxs)("div",{className:b.invoiceItemLabelWithIcon,children:[n,(0,t.jsx)(u.Tooltip,{clickableOnMobile:!0,text:a,"aria-label":s,tooltipClassName:b.invoiceItemTooltip,children:e=>(0,t.jsx)(u.CircleQuestionIcon,{size:"md",color:"currentColor",...e,className:b.invoiceItemLabelIcon})})]})}function U(e){let{invoice:n,isPrepaidPaymentSource:a}=e,s=(0,p.j)(n.invoiceItems),r=s.find(e=>!(0,N.Z8)(e.subscriptionPlanId)&&e.amount>=0),l=s.find(e=>(0,N.Z8)(e.subscriptionPlanId)&&e.amount>=0),i=(0,c.e7)([E.Z],()=>null!=l?E.Z.get(l.subscriptionPlanId):null),o=null!=l?l.amount:0,u=(0,P.T4)(o,n.currency),d=null!=i?(0,P.og)(u,i.interval,i.intervalCount):0;return(0,t.jsxs)(t.Fragment,{children:[null!=r?(0,t.jsx)(h,{invoiceItem:r,currency:n.currency,isPrepaidPaymentSource:a}):null,0!==o&&null!=l&&null!=i?(0,t.jsx)(L.R$,{label:S.Z.Messages.GUILD_SUBSCRIPTION_PURCHASE_MODAL_INVOICE_ROW_CONTENT.format({numGuildSubscriptions:l.quantity,planName:(0,N.Gf)(i.id,!1,a)}),value:a?u:d}):null,(0,t.jsx)(f.Z,{invoice:n}),(0,t.jsx)(L.KU,{}),(0,t.jsx)(L.Ji,{label:(n.taxInclusive?a?S.Z.Messages.BILLING_INVOICE_TOTAL_TAX_INCLUSIVE:S.Z.Messages.BILLING_INVOICE_TODAY_TOTAL_TAX_INCLUSIVE:S.Z.Messages.BILLING_INVOICE_TODAY_TOTAL).format(),value:n.currency===m.pKx.USD?(0,P.T4)(n.total,n.currency):"".concat((0,P.T4)(n.total,n.currency),"*")})]})}function y(e){let{invoice:n,newPlan:a,isPrepaidPaymentSource:s,referralTrialOfferId:r}=e,l=(0,p.j)(n.invoiceItems),i=l.find(e=>e.subscriptionPlanId===a.id);o()(null!=i,"Expected newPlanInvoiceItem");let c=l.find(e=>!(0,N.Z8)(e.subscriptionPlanId)&&e.amount<0),u=l.find(e=>null==e.subscriptionPlanId&&null!=e.discounts&&e.discounts.find(e=>e.type===d.eW.PREMIUM_LEGACY_UPGRADE_PROMOTION)),_=v(i,d.eW.PREMIUM_TRIAL),I=g(i,d.eW.SUBSCRIPTION_PLAN),E=i.quantity*I,T=i.amount+(null!=c?c.amount:0)-E+(null!=u?u.amount:0),A=l.filter(e=>e.subscriptionPlanId===C.Xh.PREMIUM_MONTH_GUILD||e.subscriptionPlanId===C.Xh.PREMIUM_YEAR_GUILD).reduce((e,n)=>e+n.amount,0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h,{invoiceItem:i,currency:n.currency,overrideAmount:E,isPrepaidPaymentSource:s,referralTrialOfferId:r}),0===T||_?null:(0,t.jsx)(L.R$,{label:(0,t.jsx)(O,{label:S.Z.Messages.PREMIUM_SUBSCRIPTION_PLAN_ADJUSTMENT.format({planName:(0,N.PV)(a.id)?(0,N.aq)(a.id):a.name}),tooltipText:S.Z.Messages.PREMIUM_SUBSCRIPTION_ADJUSTMENT_TOOLTIP}),value:(0,P.T4)(T,n.currency)}),0!==A?(0,t.jsx)(L.R$,{label:(0,t.jsx)(O,{label:S.Z.Messages.PREMIUM_SUBSCRIPTION_GUILD_SUBSCRIPTION_ADJUSTMENT,tooltipText:S.Z.Messages.PREMIUM_SUBSCRIPTION_GUILD_SUBSCRIPTION_ADJUSTMENT_TOOLTIP.format(),tooltipAriaLabel:S.Z.Messages.PREMIUM_SUBSCRIPTION_GUILD_SUBSCRIPTION_ADJUSTMENT_TEXT}),value:(0,P.T4)(A,n.currency)}):null,(0,t.jsx)(f.Z,{invoice:n}),(0,t.jsx)(L.KU,{}),(0,t.jsx)(L.Ji,{label:(n.taxInclusive?s?S.Z.Messages.BILLING_INVOICE_TOTAL_TAX_INCLUSIVE:S.Z.Messages.BILLING_INVOICE_TODAY_TOTAL_TAX_INCLUSIVE:S.Z.Messages.BILLING_INVOICE_TODAY_TOTAL).format(),value:n.currency===m.pKx.USD?(0,P.T4)(n.total,n.currency):"".concat((0,P.T4)(n.total,n.currency),"*")})]})}function x(e){let n=e.slice();return n.sort((e,n)=>{let a=(0,N.uZ)(e.subscriptionPlanId),t=(0,N.uZ)(n.subscriptionPlanId);return a&&!t?-1:!a&&t?1:0}),n}function B(e){return e.filter(e=>{let{subscriptionPlanId:n}=e;return n!==C.Xh.NONE_MONTH&&n!==C.Xh.NONE_YEAR})}function Z(e){let{proratedInvoice:n,renewalInvoice:a}=e,{intervalType:s,intervalCount:r}=(0,N.dn)(n),{intervalType:l,intervalCount:i}=(0,N.dn)(a);return s!==l||r!==i||n.subscriptionPeriodEnd.getTime()===a.subscriptionPeriodStart.getTime()?null:(0,t.jsx)("div",{className:b.subscriptionPeriodResetNotice,children:S.Z.Messages.PREMIUM_SUBSCRIPTION_PERIOD_RESET_NOTICE.format({renewalDate:n.subscriptionPeriodEnd})})}function D(e){let{isUpdate:n,currentInvoice:a,newInvoice:s}=e,r=null!=a?(0,p.j)(a.invoiceItems):null,i=null!=a?(0,N.dn)(a):null,{intervalType:o,intervalCount:c}=(0,N.dn)(s),u=null!=i&&(i.intervalType!==o||i.intervalCount!==c);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L.KU,{extended:!0}),null!=a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L.q9,{children:S.Z.Messages.PREMIUM_SUBSCRIPTION_CURRENT_LABEL}),B(x((0,p.j)(a.invoiceItems))).map(e=>(0,t.jsx)(h,{invoiceItem:e,currency:a.currency},e.id)),(0,t.jsx)(L.KU,{extended:!0})]}):null,(0,t.jsx)(L.q9,{children:S.Z.Messages.PREMIUM_SUBSCRIPTION_NEW_LABEL}),B(x((0,p.j)(s.invoiceItems))).map(e=>{let a=null!=r&&!r.some(n=>n.subscriptionPlanId===e.subscriptionPlanId&&n.quantity===e.quantity);return(0,t.jsx)(h,{invoiceItem:e,currency:s.currency,showGuildSubscriptionAdjustmentTooltip:u&&(e.subscriptionPlanId===C.Xh.PREMIUM_MONTH_GUILD||e.subscriptionPlanId===C.Xh.PREMIUM_YEAR_GUILD||e.subscriptionPlanId===C.Xh.PREMIUM_3_MONTH_GUILD||e.subscriptionPlanId===C.Xh.PREMIUM_6_MONTH_GUILD),className:l()({[b.subscriptionAddedInvoiceItem]:!n||a})},e.id)}),(0,t.jsx)(f.Z,{invoice:s}),(0,t.jsx)(L.KU,{}),(0,t.jsx)(L.R$,{label:S.Z.Messages.PREMIUM_SUBSCRIPTION_NEW_TOTAL,value:(0,P.og)((0,P.T4)(s.total,s.currency),o,c),className:b.subscriptionCostRow})]})}function G(e){var n;let{proratedInvoice:a,renewalInvoice:s,isTrial:r,isUpdate:l,overrideRenewalDate:i,trialFooterMessageOverride:o}=e,c=null===(n=(0,R.N)())||void 0===n?void 0:n.subscription_trial,{intervalType:u,intervalCount:d}=(0,N.dn)(s);if(null==a)return null;if(r){let e=(0,N.if)({intervalType:null==c?void 0:c.interval,intervalCount:null==c?void 0:c.interval_count}),n=(null==c?void 0:c.interval)===C.rV.DAY&&(null==c?void 0:c.interval_count)<28?2:7;return(0,t.jsx)(t.Fragment,{children:null!=o?o:S.Z.Messages.PREMIUM_SUBSCRIPTION_RENEWAL_FOOTER_TRIAL_DURATION.format({duration:e,days:n,contactLink:m.EYA.CONTACT,helpdeskArticle:A.Z.getArticleURL(m.BhN.PREMIUM_TRIAL)})})}let _=s.taxInclusive?S.Z.Messages.PREMIUM_SUBSCRIPTION_RENEWAL_FOOTER:S.Z.Messages.PREMIUM_SUBSCRIPTION_RENEWAL_FOOTER_TAX_EXCLUSIVE;return(0,t.jsx)(t.Fragment,{children:_.format({rate:(0,P.og)((0,P.T4)(s.subtotal,s.currency),u,d),renewalDate:null!=i?i:l?null!=a?a.subscriptionPeriodEnd:s.subscriptionPeriodStart:s.subscriptionPeriodEnd,contactLink:m.EYA.CONTACT,helpdeskArticle:A.Z.getArticleURL(m.BhN.BILLING)})})}function Y(e){let{premiumSubscription:n,proratedInvoice:a,renewalInvoice:r,overrideRenewalDate:l,isUpdate:i=!1,isTrial:o=!1,priceOptions:c,isPrepaidPaymentSource:d=!1,trialFooterMessageOverride:E,hideSubscriptionDetails:A=!1,hasAnnualInvoicePreview:N=!1}=e,{analyticsLocations:P}=(0,I.ZP)(),p={subscriptionId:null==n?void 0:n.id,renewal:!0,preventFetch:!i,analyticsLocatinons:P,analyticsLocation:_.Z.SUBSCRIPTION_INVOICE_FOOTER,...c},[R]=(0,M.ED)(p),[f,C]=s.useState(!1);return(0,t.jsxs)(t.Fragment,{children:[d||N?null:(0,t.jsx)(L.HE,{children:(0,t.jsx)(G,{proratedInvoice:a,renewalInvoice:r,isTrial:o,isUpdate:i,overrideRenewalDate:l,trialFooterMessageOverride:E})}),!A&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(u.Clickable,{onClick:()=>C(e=>!e),className:b.subscriptionDetailsToggle,children:[f?S.Z.Messages.PREMIUM_SUBSCRIPTION_HIDE_DETAILS:S.Z.Messages.PREMIUM_SUBSCRIPTION_SHOW_DETAILS,(0,t.jsx)(T.Z,{direction:f?T.Z.Directions.UP:T.Z.Directions.DOWN,className:b.subscriptionDetailsToggleCaret})]}),f?(0,t.jsx)(D,{isUpdate:i,currentInvoice:R,newInvoice:r}):null]})]})}function j(e){let n,{plan:a,className:s,isPrepaidPaymentSource:r=!1,isCustomGift:l=!1,invoicePreview:i}=e,{tax:o,taxInclusive:c,currency:d}=i,_=i.total,I=_-o,E=(0,P.T4)(I,d),T=(0,P.T4)(_,d);return n=l?(0,N.L7)(a.interval,!0,void 0,void 0,!0,(0,N.Rd)(a.id)):S.Z.Messages.BILLING_INVOICE_GIFT_PLAN.format({planName:(0,N.Gf)(a.id,!1,r)}),(0,t.jsxs)("div",{className:s,children:[(0,t.jsx)(u.FormTitle,{children:S.Z.Messages.PREMIUM_GIFTING_BUTTON}),o>=0&&!1===c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Text,{variant:"text-md/bold",className:b.purchaseDetailsHeaderText,children:n}),(0,t.jsxs)(L.PO,{className:s,children:[(0,t.jsx)(L.q9,{children:S.Z.Messages.ONE_TIME_PURCHASE_REVIEW_STEP_PURCHASE_DETAILS_LABEL}),(0,t.jsx)(L.R$,{label:n,value:E}),(0,t.jsx)(f.Z,{invoice:i}),(0,t.jsx)(L.KU,{}),(0,t.jsx)(L.R$,{label:S.Z.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,value:T,className:b.subscriptionCostRow})]})]}):(0,t.jsx)(u.Heading,{variant:"text-md/normal",children:"".concat(n," - ").concat(T)})]})}function k(e){let n,{invoice:a,plan:s}=e,r=(0,p.j)(a.invoiceItems).find(e=>e.subscriptionPlanId===s.id);return o()(null!=r,"newPlanInvoiceItem can not be null"),s.interval===C.rV.MONTH?n=a.taxInclusive?S.Z.Messages.BILLING_TRIAL_MONTHLY_PRICE_AFTER_TRIAL:S.Z.Messages.BILLING_TRIAL_MONTHLY_PRICE_AFTER_TRIAL_TAX_EXCLUSIVE:s.interval===C.rV.YEAR?n=a.taxInclusive?S.Z.Messages.BILLING_TRIAL_YEARLY_PRICE_AFTER_TRIAL:S.Z.Messages.BILLING_TRIAL_YEARLY_PRICE_AFTER_TRIAL_TAX_EXCLUSIVE:o()(!1,"Invalid interval type"),(0,t.jsx)(u.Text,{variant:"text-md/normal",children:n.format({price:(0,P.T4)(r.subscriptionPlanPrice,a.currency)})})}},858987:function(e,n,a){a.d(n,{K:function(){return E},Z:function(){return A}});var t=a(735250);a(470079);var s=a(512722),r=a.n(s),l=a(481060),i=a(598),o=a(74538),c=a(296848),u=a(231338),d=a(689938),_=a(344705),I=a(74316);function E(e){let{purchaseType:n,plan:a,premiumSubscription:t,isGift:s,planGroup:l,isPrepaidPaymentSource:i}=e;if(n===u.GZ.ONE_TIME)return s?d.Z.Messages.PAYMENT_MODAL_BUTTON_PREMIUM_GIFT:d.Z.Messages.GUILD_PRODUCT_PURCHASE_MODAL_CTA;if(r()(null!=a,"Subscription plan must be selected to render SubscriptionReviewButton"),s)return d.Z.Messages.PAYMENT_MODAL_BUTTON_PREMIUM_GIFT;if((0,o.PV)(a.id)){if(i)return d.Z.Messages.BILLING_SELECT_PLAN;if(null!=t)return t.isPaused?d.Z.Messages.RESUME:(0,c.R4)(t,a.id,l)?d.Z.Messages.BILLING_SWITCH_PLAN_UPGRADE:d.Z.Messages.BILLING_SWITCH_PLAN_CHANGE;return(0,o.W_)(null,a)}return d.Z.Messages.BILLING_SUBSCRIBE_TO_PLAN}function T(e,n){null!=e.current&&(e.current.scrollIntoView({behavior:"smooth"}),n())}function A(e){let{legalTermsNodeRef:n,invoiceError:a,planError:s,disablePurchase:r,flashLegalTerms:o,isSubmitting:c,premiumSubscription:u,isGift:A,planGroup:N,isPrepaid:P,isTrial:M,makePurchase:p,needsPaymentSource:R}=e,{selectedPlan:L,hasAcceptedTerms:f,purchaseType:C}=(0,i.usePaymentContext)(),m=E({purchaseType:C,plan:L,premiumSubscription:u,isGift:A,planGroup:N,isPrepaidPaymentSource:P});if(null!=a||null!=s||r)return(0,t.jsx)(l.Button,{color:l.Button.Colors.GREEN,disabled:!0,children:m});if(R)return(0,t.jsx)(l.Tooltip,{text:d.Z.Messages.BILLING_SELECT_PAYMENT_SOURCE_TOOLTIP,children:e=>(0,t.jsx)(l.Button,{...e,color:l.Button.Colors.GREEN,type:"submit","data-testid":"submitButton",disabled:!0,children:m})});if(M)return(0,t.jsxs)(l.ShinyButton,{innerClassName:_.innerButton,"data-testid":f?"purchase":"submitButton",onClick:f?p:()=>T(n,o),color:l.Button.Colors.GREEN,submitting:c,children:[(0,t.jsx)("img",{alt:"",className:_.nitroIcon,src:I}),m]});else if(!f)return(0,t.jsx)(l.Tooltip,{text:d.Z.Messages.BILLING_ACCEPT_TERMS_PAID_SERVICES_TOOLTIP,children:e=>(0,t.jsx)(l.Button,{...e,color:l.Button.Colors.GREEN,type:"submit",onClick:()=>T(n,o),"data-testid":"submitButton",children:m})});else return(0,t.jsx)(l.Button,{"data-testid":"purchase",onClick:p,color:l.Button.Colors.GREEN,submitting:c,children:m})}},912454:function(e,n,a){a.d(n,{Qy:function(){return t},Uy:function(){return _}}),a(757143);var t,s,r,l=a(735250),i=a(470079),o=a(120356),c=a.n(o),u=a(319809);function d(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}(r=t||(t={})).UNKNOWN="unknown",r.VISA="visa",r.DISCOVER="discover",r.MASTERCARD="mastercard",r.AMEX="amex",r.PAYPAL="paypal",r.PAYMENT_REQUEST="paymentRequest",r.G_PAY="gPay",r.DINERS="diners",r.JCB="jcb",r.UNIONPAY="unionpay",r.SOFORT="sofort",r.PRZELEWY24="przelewy24",r.GIROPAY="giropay",r.PAYSAFECARD="paysafecard",r.GCASH="gcash",r.GRABPAY="grabpay",r.MOMO_WALLET="momo_wallet",r.VENMO="venmo",r.KAKAOPAY="kakaopay",r.GOPAY_WALLET="gopay_wallet",r.BANCONTACT="bancontact",r.EPS="eps",r.IDEAL="ideal",r.CASH_APP="cash_app",r.APPLE="apple";let _={SMALL:u.cardIconSmall,MEDIUM:u.cardIconMedium,LARGE:u.cardIconLarge,XLARGE:u.cardIconXLarge};class I extends(s=i.PureComponent){static getType(e){return null==e?"unknown":t[e.replace(/[^a-z0-9_]/gi,"").toUpperCase()]||"unknown"}render(){let{flipped:e,type:n,className:a,size:t}=this.props;return(0,l.jsx)("div",{className:c()(t,u[n],a,{[u.flipped]:e}),children:n})}}d(I,"Types",t),d(I,"Sizes",_),d(I,"defaultProps",{size:_.SMALL,flipped:!1}),n.ZP=I}}]);
//# sourceMappingURL=12013.31cc23a9868104e00c75.js.map