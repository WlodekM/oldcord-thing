"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["44511"],{281958:function(e,t,n){e.exports=n.p+"8ea8a20b355acc3b50a4.svg"},809844:function(e,t,n){e.exports=n.p+"80cb2928688be12b0b33.svg"},176480:function(e,t,n){e.exports=n.p+"9ebae403cd1cc21b469a.svg"},625065:function(e,t,n){e.exports=n.p+"8dc24c1fbe75eed7a12c.svg"},875184:function(e,t,n){e.exports=n.p+"14a2f3e448f5b6db0727.svg"},691270:function(e,t,n){e.exports=n.p+"941a675488737c8b4ddf.svg"},704139:function(e,t,n){e.exports=n.p+"383a9bde1baccc490297.svg"},306059:function(e,t,n){e.exports=n.p+"34224ab48bff9727f3f8.svg"},281485:function(e,t,n){e.exports=n.p+"47d3ea2d7721c75ea6cb.svg"},644106:function(e,t,n){e.exports=n.p+"12da6c6ebb439deb6c3e.svg"},73827:function(e,t,n){e.exports=n.p+"d34be1ad3e2cc536d3fb.svg"},149510:function(e,t,n){e.exports=n.p+"8ca6d866d894de8ce5e7.svg"},646766:function(e,t,n){e.exports=n.p+"02fe0381caa895a722f0.svg"},102811:function(e,t,n){e.exports=n.p+"8da17df309b257dc2960.svg"},485195:function(e,t,n){e.exports=n.p+"d73341fd9c4ccfa62ba5.svg"},98063:function(e,t,n){e.exports=n.p+"fce42c34f4dd0e8bb13c.svg"},111266:function(e,t,n){e.exports=n.p+"4f55ed28cc6035a936d7.svg"},61578:function(e,t,n){e.exports=n.p+"2d58a0636f814ac589e0.svg"},748973:function(e,t,n){e.exports=n.p+"fb9f3dbb28084289614c.svg"},618103:function(e,t,n){e.exports=n.p+"e40148de2cd3950fa38f.svg"},552196:function(e,t,n){e.exports=n.p+"e64fc5fe861b915ee00b.svg"},477591:function(e,t,n){e.exports=n.p+"7bf24cb1e2cefea671c2.svg"},969048:function(e,t,n){e.exports=n.p+"4850de910fb2c5feb07b.svg"},894960:function(e,t,n){e.exports=n.p+"12ce72382180fcf3f422.svg"},705432:function(e,t,n){e.exports=n.p+"6511f71eb92a6c0a5c56.svg"},182936:function(e,t,n){e.exports=n.p+"a39009766cd093a3d189.svg"},97984:function(e,t,n){e.exports=n.p+"089289afb9f220379546.svg"},845133:function(e,t,n){e.exports=n.p+"df670815658f288bce7d.svg"},764896:function(e,t,n){e.exports=n.p+"0c660075ce66b46cdaf0.svg"},780961:function(e,t,n){e.exports=n.p+"6cb2268dd459245064ab.svg"},587952:function(e,t,n){e.exports=n.p+"c6e5417ebc3329487649.svg"},736733:function(e,t,n){e.exports=n.p+"85d3cfb743bc2042b6a0.svg"},932463:function(e,t,n){e.exports=n.p+"43444211c095ba20e57d.png"},988967:function(e,t,n){e.exports=n.p+"f078e1c97fd43f3f8b76.png"},334732:function(e,t,n){e.exports=n.p+"4e58080328165a7dfe9c.svg"},463738:function(e,t,n){e.exports=n.p+"21330e2550c2ad7b019c.jpg"},442937:function(e,t,n){e.exports=n.p+"709211f9d166e74b02a5.png"},362827:function(e,t,n){e.exports=n.p+"34e6d3da86ba4a06ee18.svg"},883760:function(e,t,n){e.exports=n.p+"f42666a35319f6dc033f.svg"},584354:function(e,t,n){e.exports=n.p+"b512a8f75a41236f3d73.svg"},705845:function(e,t,n){e.exports=n.p+"36c01e0245211fc70d3a.svg"},725060:function(e,t,n){e.exports=n.p+"91910abfebb0179f3dd8.svg"},881454:function(e,t,n){e.exports=n.p+"9db0c99df4cb2d4dfa87.svg"},422445:function(e,t,n){e.exports=n.p+"7711ef5d68e18fa4dbcc.svg"},24927:function(e,t,n){e.exports=n.p+"cf30554f58e769dc72b9.svg"},339035:function(e,t,n){e.exports=n.p+"c665e96399eea2be5a07.svg"},435921:function(e,t,n){e.exports=n.p+"9da6c5317c167faaa3c8.svg"},538548:function(e,t,n){e.exports=n.p+"fea1d92557530364cefd.svg"},753033:function(e,t,n){e.exports=n.p+"b8566c6e8b65576532c0.svg"},15717:function(e,t,n){e.exports=n.p+"cf6b9f0ee7c5cee7fb45.svg"},191986:function(e,t,n){e.exports=n.p+"796a40e036bf837c7f85.png"},560580:function(e,t,n){e.exports=n.p+"9f6e4c54393c8fa475cd.svg"},480032:function(e,t,n){e.exports=n.p+"0957cccd566b4fe67718.svg"},699352:function(e,t,n){e.exports=n.p+"7ea30df865ec7af7aac8.svg"},924482:function(e,t,n){e.exports=n.p+"05a4fb5d451bc14d3bda.svg"},774797:function(e,t,n){e.exports=n.p+"a563518c5d8b73f98403.svg"},525377:function(e,t,n){e.exports=n.p+"62b480204691a6aa6249.svg"},497224:function(e,t,n){e.exports=n.p+"eb3a1dcecd0877c44c41.svg"},572344:function(e,t,n){e.exports=n.p+"3086b76a2c725f33166a.svg"},238980:function(e,t,n){e.exports=n.p+"c01a5fa3ed9ed6b36c1f.svg"},840347:function(e,t,n){e.exports=n.p+"dc08facbd3053b6223f2.svg"},711131:function(e,t,n){e.exports=n.p+"6410d8921d8b35df54a5.svg"},467054:function(e,t,n){e.exports=n.p+"4970e51a711883bc86fb.svg"},14894:function(e,t,n){e.exports=n.p+"d3c9d115ad5ee18fdafc.svg"},192029:function(e,t,n){e.exports=n.p+"2fd3f9574d205a172fc0.jpg"},527119:function(e,t,n){e.exports=n.p+"0c275302db905c9fce3e.jpg"},545505:function(e,t,n){e.exports=n.p+"691c0b9237eebf2df1e5.svg"},184269:function(e,t,n){e.exports=n.p+"18433a47992348f39c32.svg"},769928:function(e,t,n){e.exports=n.p+"5a539d8a63649052172a.svg"},12e3:function(e,t,n){e.exports=n.p+"dba60598ea89725ccc0b.svg"},98021:function(e,t,n){e.exports=n.p+"3e6e1d634be03ec9a5c4.svg"},661745:function(e,t,n){e.exports=n.p+"d471416be79dc0e5b746.svg"},800350:function(e,t,n){e.exports=n.p+"84b249d2932173ceac6a.svg"},576394:function(e,t,n){e.exports=n.p+"4d7e94e87a0ed31d889e.svg"},626065:function(e,t,n){e.exports=n.p+"e4dd260504efd1e5ef91.mp4"},546240:function(e,t,n){e.exports=n.p+"9721e9727a29cd556e14.svg"},952009:function(e,t,n){e.exports=n.p+"96098492389840cbb20f.svg"},708690:function(e,t,n){var i=n(570140);t.Z={search(e,t){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",query:e,channelId:t})},clear(e){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",query:"",channelId:e})},select(e){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT",row:e})},addUser(e){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_ADD_USER",userId:e})},removeUser(e){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER",userId:e})},open(e){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN",channelId:e})},close(){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE"})}}},771340:function(e,t,n){var i=n(544891),a=n(570140),l=n(981631);t.Z={fetchRegions(e){i.tn.get({url:l.ANM.REGIONS(e),retries:1,oldFormErrors:!0}).then(t=>a.Z.dispatch({type:"LOAD_REGIONS",regions:t.body,guildId:e}),()=>a.Z.dispatch({type:"LOAD_REGIONS",regions:[],guildId:e}))},changeCallRegion(e,t){i.tn.patch({url:l.ANM.CALL(e),body:{region:t},oldFormErrors:!0})}}},260300:function(e,t,n){var i=n(544891),a=n(570140),l=n(981631);t.Z={show(e,t){a.Z.wait(()=>a.Z.dispatch({type:"TUTORIAL_INDICATOR_SHOW",tutorialId:e,renderData:t}))},hide(e){a.Z.wait(()=>a.Z.dispatch({type:"TUTORIAL_INDICATOR_HIDE",tutorialId:e}))},dismiss(e){a.Z.wait(()=>a.Z.dispatch({type:"TUTORIAL_INDICATOR_DISMISS",tutorialId:e})),i.tn.put({url:l.ANM.TUTORIAL_INDICATOR(e),oldFormErrors:!0})},suppressAll(){a.Z.dispatch({type:"TUTORIAL_INDICATOR_SUPPRESS_ALL"}),i.tn.post({url:l.ANM.TUTORIAL_INDICATORS_SUPPRESS,oldFormErrors:!0})}}},23536:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250),a=n(470079),l=n(442837),s=n(780384),r=n(481060),o=n(332148),c=n(796798),u=n(198620),d=n(624453),h=n(306680),p=n(494404),m=n(257559),_=n(689938);let f=[];function E(e){let{channel:t,onJump:E}=e,{messages:g,loading:C}=(0,l.cj)([d.Z],()=>{let e=d.Z.getPinnedMessages(t.id),n=null!=e?e.messages:f;return{messages:n,loading:null==n||null!=e&&e.loading}}),I=(0,l.e7)([h.ZP],()=>h.ZP.hasUnreadPins(t.id));return a.useEffect(()=>{c.l.getCurrentConfig({location:"pins"}).enabled&&g.some(u.k5)&&o.Z.fetchPins(t.id,!0)},[]),a.useEffect(()=>{I&&o.Z.ackPins(t.id)},[I,t.id]),(0,i.jsx)(r.Dialog,{"aria-label":_.Z.Messages.PINNED_MESSAGES,children:(0,i.jsx)(p.ZP,{onFetch:function(){o.Z.ackPins(t.id),o.Z.fetchPins(t.id)},channel:t,messages:g,loading:C,analyticsName:"Channel Pins",onCloseMessage:function(e,n){null!=e&&(n.shiftKey?o.Z.unpinMessage(t,e.id):m.Z.confirmUnpin(t,e))},onJump:E,getProTip:function(){return t.isPrivate()?_.Z.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DMS:_.Z.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL},renderHeader:()=>(0,i.jsx)(p.h4,{title:_.Z.Messages.PINNED_MESSAGES}),renderEmptyState:function(e){let a=_.Z.Messages.NO_PINS_IN_CHANNEL;t.isPrivate()&&(a=_.Z.Messages.NO_PINS_IN_DM);let l=(0,s.ap)(e)?n(306059):n(281485);return(0,i.jsx)(p.nH,{msg:a,image:l},"emptystate")},listName:"pins"})})}},377993:function(e,t,n){n.d(t,{Z:function(){return w}}),n(47120),n(653041);var i=n(735250),a=n(470079),l=n(873546),s=n(442837),r=n(481060),o=n(239091),c=n(144144),u=n(100527),d=n(906732),h=n(556084),p=n(280234),m=n(484459),_=n(103575),f=n(158776),E=n(699516),g=n(111583),C=n(594174),I=n(467679),x=n(360048),T=n(151827),N=n(626135),v=n(768581),S=n(585483),Z=n(233870),A=n(51144),M=n(998502),b=n(276264),R=n(981631),j=n(689938),L=n(328e3),P=n(279691);let O=[],y=M.ZP.getEnableHardwareAcceleration();function D(e){let{user:t,channel:a,status:u,activities:d,lastOnlineTimestamp:h}=e,p=(0,s.e7)([g.Z],()=>null!=g.Z.getTypingUsers(a.id)[t.id]),I=(0,s.e7)([C.default],()=>C.default.getCurrentUser()),x=(0,s.e7)([f.Z],()=>f.Z.isMobileOnline(t.id)),T=(0,s.e7)([E.Z],()=>E.Z.getNickname(t.id)),N=e=>{(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("60677"),n.e("84979")]).then(n.bind(n,354589));return n=>(0,i.jsx)(e,{...n,user:t,channel:a})})};return(0,i.jsx)(r.Popout,{preload:()=>(0,m.W)(t,{channelId:a.id}),renderPopout:e=>(0,i.jsx)(_.Z,{...e,location:"PrivateChannelRecipients",userId:t.id,channelId:a.id}),position:l.tq?"window_center":"left",spacing:16,onShiftClick:()=>{let e="@".concat(A.ZP.getUserTag(t,{decoration:"never"})),n="<@".concat(t.id,">");S.S.dispatchToLastSubscribed(R.CkL.INSERT_TEXT,{plainText:e,rawText:n}),c.Z.startTyping(a.id)},children:e=>(0,i.jsx)(b.Z,{user:t,currentUser:I,isOwner:t.id===a.ownerId,ownerTooltipText:j.Z.Messages.GROUP_OWNER,shouldAnimateStatus:y,isTyping:p,status:u,activities:d,lastOnlineTimestamp:h,channel:a,onContextMenu:N,isMobile:x,nick:T,...e},t.id)})}function k(e){var t;let{integration:s,channel:c}=e,u=a.useCallback(e=>{(0,o.jW)(e,async()=>{let{default:e}=await n.e("37969").then(n.bind(n,496281));return t=>(0,i.jsx)(e,{...t,channel:c,integration:s})})},[s,c]),d=s.application.bot,h=v.ZP.getApplicationIconURL({id:s.application.id,icon:s.application.icon,bot:null===(t=s.application)||void 0===t?void 0:t.bot,botIconFirst:!0});return null!=d?(0,i.jsx)(r.Popout,{preload:()=>(0,m.W)(d.id,h,{channelId:c.id}),renderPopout:e=>(0,i.jsx)(_.Z,{...e,location:"PrivateChannelRecipients",userId:d.id,channelId:c.id}),position:l.tq?"window_center":"left",spacing:16,children:e=>(0,i.jsx)(x.Z,{onContextMenu:u,className:L.member,name:(0,i.jsx)("span",{className:L.username,children:s.application.name}),avatar:(0,i.jsx)(r.Avatar,{size:r.AvatarSizes.SIZE_32,src:h,"aria-label":s.application.name,statusTooltip:!0}),decorators:(0,i.jsx)(I.Z,{className:L.botTag,verified:null==d?void 0:d.isVerifiedBot()}),id:s.application.id,focusProps:{offset:{top:4,bottom:4,left:4,right:4}},...e})}):null}function U(e,t){if(e.shouldTrackRecentlyOnlineExposure!==t.shouldTrackRecentlyOnlineExposure||e.listItems.length!==t.listItems.length)return!1;for(let n=0;n<e.listItems.length;n++){let i=e.listItems[n],a=t.listItems[n];if(i.user!==a.user||i.status!==a.status||i.activities!==a.activities||i.lastOnlineTimestamp!==a.lastOnlineTimestamp)return!1}return!0}function w(e){let{channel:t}=e,l=C.default.getCurrentUser(),o=null==l?void 0:l.isStaff(),{analyticsLocations:c}=(0,d.ZP)(u.Z.MEMBER_LIST),{shouldTrackRecentlyOnlineExposure:_,listItems:g}=function(e){let{isRecentlyOnlineEnabled:t}=p.Z.useExperiment({location:"n/a"},{autoTrackExposure:!1});return(0,s.e7)([E.Z,C.default,f.Z],()=>{let n=!1,i=(0,Z.T)(e.recipients,C.default),a={};for(let e of i){var l,s,r;if(E.Z.isFriend(e.id)||e.id===(null===(l=C.default.getCurrentUser())||void 0===l?void 0:l.id)){let t=f.Z.getLastOnlineTimestamp(e.id),{isRecentlyOnlineShowable:i,isRecentlyOnlineTrackable:l}=(0,p.$)(t);a[e.id]={status:null!==(s=f.Z.getStatus(e.id))&&void 0!==s?s:R.Skl.OFFLINE,activities:null!==(r=f.Z.getActivities(e.id))&&void 0!==r?r:O,lastOnlineTimestamp:i?t:void 0},l&&(n=!0)}else a[e.id]={status:R.Skl.OFFLINE,activities:O}}let o=[];for(let e of i){let t={user:e,status:a[e.id].status,activities:a[e.id].activities,lastOnlineTimestamp:a[e.id].lastOnlineTimestamp};o.push(t)}if(!t)return{shouldTrackRecentlyOnlineExposure:n,listItems:o};let c=[R.Skl.OFFLINE,R.Skl.INVISIBLE,null,void 0],u=[],d=[],h=[];return o.forEach(e=>{c.includes(e.status)?null!=e.lastOnlineTimestamp?d.push(e):h.push(e):u.push(e)}),{shouldTrackRecentlyOnlineExposure:n,listItems:[...u,...d,...h]}},[e,t],U)}(t);_&&p.Z.trackExposure({location:"private_channel_recipients"});let{installedIntegrations:v,applicationsShelf:S,fetched:A,appsInGDMEnabled:M,availableApplications:b}=(0,h.j)({channelId:t.id});a.useEffect(()=>{if(o)for(let e of g)(0,m.W)(e.user,{dispatchWait:!0,channelId:t.id})},[o,g,t.id]),a.useEffect(()=>{N.default.track(R.rMx.MEMBER_LIST_VIEWED,{channel_id:t.id,channel_type:t.type,guild_id:t.guild_id})},[t.guild_id,t.id,t.type]);let y=o&&g.every(e=>e.user.isStaff());return(0,i.jsx)(d.Gt,{value:c,children:(0,i.jsx)("div",{className:P.membersWrap,children:(0,i.jsxs)(r.Scroller,{className:P.members,fade:!0,children:[(0,i.jsxs)(T.Z,{className:P.membersGroup,children:["".concat(j.Z.Messages.MEMBERS,"—").concat(g.length," "),y?(0,i.jsx)(I.Z,{className:P.__invalid_decorator,type:I.Z.Types.STAFF_ONLY_DM}):null]}),g.map(e=>(0,i.jsx)(D,{user:e.user,status:e.status,activities:e.activities,lastOnlineTimestamp:e.lastOnlineTimestamp,channel:t},e.user.id)),M&&(v.length>0||A&&S.length>0)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T.Z,{className:P.membersGroup,children:"".concat(j.Z.Messages.APPS,"—").concat(v.length)}),v.map(e=>(0,i.jsx)(k,{integration:e,channel:t},e.application.id)),b.length>0&&(0,i.jsx)(x.Z,{className:L.member,onClick:()=>{(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("4536").then(n.bind(n,422677));return n=>(0,i.jsx)(e,{...n,channelId:t.id})})},avatar:(0,i.jsx)("div",{className:P.appIconWrapper,children:(0,i.jsx)(r.PlusSmallIcon,{size:"sm",color:"currentColor"})}),name:j.Z.Messages.PRIVATE_CHANNEL_ADD_APPS})]})]})})})}},944543:function(e,t,n){n(757143),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(771340),u=n(903223),d=n(285952),h=n(689938),p=n(46319);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _={position:"bottom",autoInvert:!1},f=e=>{let{region:t,className:n=p.regionSelectName}=e,a=t.name.replace(/ \(VIP\)$/,"");return(0,i.jsx)("div",{className:n,children:a})};class E extends a.PureComponent{render(){let{region:e,selected:t}=this.props;return(0,i.jsxs)(d.Z,{align:d.Z.Align.CENTER,className:s()({selected:t}),children:[(0,i.jsx)(f,{region:e,className:p.regionSelectName}),t?(0,i.jsx)("i",{className:p.check}):null]})}}class g extends a.PureComponent{componentDidMount(){null==this.props.regions&&c.Z.fetchRegions(null)}render(){let{regions:e}=this.props;if(null==e)return null;let t=this.getSelectedRegion(),n={label:t.name,value:t},a=e.filter(e=>!e.deprecated&&!e.hidden).map(e=>({label:e.name,value:e,key:e.id}));return(0,i.jsx)(o.QuickSelect,{label:h.Z.Messages.REGION,options:a,value:n,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:_,popoutClassName:p.regionSelectPopout})}constructor(...e){super(...e),m(this,"renderOption",(e,t)=>(0,i.jsx)(E,{region:e.value,selected:t},e.value.id)),m(this,"getSelectedRegion",()=>{var e;let{regions:t,call:n}=this.props;return n.regionUpdated&&null!=t&&null!=n.region?null!==(e=t.find(e=>{let{id:t}=e;return t===n.region}))&&void 0!==e?e:{name:n.region,id:n.region}:{id:"automatic",name:h.Z.Messages.AUTOMATIC_REGION,vip:!1,deprecated:!1,hidden:!1}}),m(this,"handleChangeVoiceRegion",e=>{let{value:t}=e,{channelId:n}=this.props.call;c.Z.changeCallRegion(n,t.id)})}}t.Z=r.ZP.connectStores([u.Z],()=>({regions:u.Z.getRegions(null)}))(g)},457868:function(e,t,n){n.d(t,{Z:function(){return X}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(392711),o=n.n(r),c=n(91192),u=n(924826),d=n(873546),h=n(442837),p=n(481060),m=n(239091),_=n(144144),f=n(607070),E=n(100527),g=n(906732),C=n(623624),I=n(518738),x=n(965376),T=n(159299),N=n(484459),v=n(103575),S=n(199902),Z=n(271383),A=n(430824),M=n(158776),b=n(885110),R=n(111583),j=n(594174),L=n(499033),P=n(151827),O=n(176278),y=n(626135),D=n(585483),k=n(700785),U=n(51144),w=n(998502),B=n(276264),H=n(981631),G=n(689938),V=n(260505),F=n(279691);let W=w.ZP.getEnableHardwareAcceleration(),z=44+B.x,Y=a.memo(function(e){let{channel:t,sectionId:l,userId:s,guildOwnerId:r}=e,o=(0,h.e7)([R.Z],()=>R.Z.isTyping(t.id,s)),u=(0,h.e7)([Z.ZP],()=>Z.ZP.getMember(t.guild_id,s)),f=(0,h.e7)([A.Z],()=>{var e;return(null==u?void 0:u.colorRoleId)!=null?null===(e=A.Z.getRole(t.guild_id,u.colorRoleId))||void 0===e?void 0:e.name:void 0},[t.guild_id,u]),E=(0,h.e7)([j.default],()=>j.default.getUser(s)),g=(0,h.e7)([j.default],()=>j.default.getCurrentUser()),I=(null==E?void 0:E.id)===(null==g?void 0:g.id),x=(0,h.e7)([M.Z,b.Z],()=>I?b.Z.getStatus():M.Z.getStatus(s,t.guild_id)),L=(0,h.e7)([M.Z],()=>M.Z.isMobileOnline(s)),P=(0,h.e7)([M.Z,b.Z],()=>I?b.Z.getActivities():M.Z.getActivities(s,t.guild_id)),O=(0,h.e7)([S.Z],()=>S.Z.getAnyStreamForUser(s)),y=(0,c.JA)(s),k=(0,h.e7)([T.Z],()=>T.Z.canUserViewChannel(t.id,l,s)),w=(null==E?void 0:E.id)!=null&&E.id===r,V=a.useCallback(e=>{null!=E&&(0,m.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("70675")]).then(n.bind(n,654663));return n=>(0,i.jsx)(e,{...n,user:E,guildId:t.guild_id,channel:t})})},[E,t]),F=a.useCallback(()=>{if(null==E)return;let e="@".concat(U.ZP.getUserTag(E,{decoration:"never"})),n="<@".concat(E.id,">");D.S.dispatchToLastSubscribed(H.CkL.INSERT_TEXT,{plainText:e,rawText:n}),_.Z.startTyping(t.id)},[E,t]),z=a.useCallback(e=>{e.stopPropagation(),(0,C.f)({guildId:t.guild_id,location:{section:H.jXE.THREAD_MEMBER_LIST,object:H.qAy.BOOST_GEM_ICON}})},[t.guild_id]);if(null==E)return null;let Y=null==u?void 0:u.premiumSince;return(0,i.jsx)(p.Popout,{preload:()=>(0,N.W)(E,{guildId:t.guild_id,channelId:t.id}),renderPopout:e=>(0,i.jsx)(v.Z,{...e,location:"ThreadMembers",userId:E.id,guildId:t.guild_id,channelId:t.id,analyticsParams:{location:{page:H.ZY5.GUILD_CHANNEL,section:H.jXE.THREAD_MEMBER_LIST}}}),position:d.tq?"window_center":"left",spacing:16,onShiftClick:F,children:(e,n)=>{let{isShown:a}=n;return(0,i.jsx)(B.Z,{onContextMenu:V,shouldAnimateStatus:W,user:E,currentUser:g,nick:null==u?void 0:u.nick,status:x,activities:P,colorString:null==u?void 0:u.colorString,colorRoleName:f,isTyping:o,channel:t,guildId:t.guild_id,isMobile:L,selected:a,applicationStream:O,premiumSince:null==Y?null:new Date(Y),onClickPremiumGuildIcon:z,itemProps:y,lostPermissionTooltipText:k?void 0:G.Z.Messages.THREAD_MEMBER_WITHOUT_ACCESS,isOwner:w,...e})}})}),K=a.memo(function(e){let{id:t,label:n,count:a,guildId:l}=e,s=(0,I.p9)({roleId:t,guildId:l,size:16});return t===H.Skl.UNKNOWN?(0,i.jsx)("div",{className:F.membersGroup,children:(0,i.jsx)("div",{className:F.memberGroupsPlaceholder})}):(0,i.jsxs)(P.Z,{className:F.membersGroup,"aria-label":G.Z.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:a}),children:[null!=s?(0,i.jsx)(O.Z,{className:F.roleIcon,...s}):null,(0,i.jsxs)("span",{"aria-hidden":!0,children:[n," — ",a]})]})}),q=a.memo(function(e){let{channel:t}=e;return t.type===H.d4z.PRIVATE_THREAD?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:V.divider}),(0,i.jsxs)(p.Text,{variant:"text-xs/bold",color:"header-secondary",className:V.private,children:[(0,i.jsx)(p.LockIcon,{size:"xxs",color:"currentColor"}),"\xa0",G.Z.Messages.THREAD_BROWSER_PRIVATE]}),(0,i.jsx)(p.Text,{variant:"text-sm/normal",color:"header-secondary",className:V.instructions,children:G.Z.Messages.MEMBER_LIST_PRIVATE_THREAD_INSTRUCTIONS})]}):null});function X(e){let{channel:t,guild:n}=e,l="members-".concat(t.id),{analyticsLocations:r}=(0,g.ZP)(E.Z.MEMBER_LIST),d=(0,x.D)(t.id,n),m=d.filter(e=>e.userIds.length>0).reverse()[0],{navigator:_,listRef:C}=function(e,t){let n=(0,h.e7)([f.Z],()=>f.Z.keyboardModeEnabled),i=a.useRef(null),l=a.useCallback((e,n)=>{let a=i.current;if(null==a)return;let l=parseInt(n,10),[s,r]=a.getSectionRowFromIndex(l),o=0===s&&0===r?t:0;a.scrollToIndex({section:s,row:r,padding:o,callback:()=>{requestAnimationFrame(()=>{var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})})}})},[t]),s=a.useCallback(()=>new Promise(e=>{let t=i.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[]),r=a.useCallback(()=>new Promise(e=>{let t=i.current;if(null==t)return e();t.scrollToBottom({callback(){requestAnimationFrame(()=>setTimeout(e,100))}})}),[]);return{navigator:(0,u.ZP)({id:e,setFocus:l,isEnabled:n,scrollToStart:s,scrollToEnd:r}),listRef:i}}(l,z),I=0===d.length||d.every(e=>0===e.userIds.length);if(a.useEffect(()=>{y.default.track(H.rMx.MEMBER_LIST_VIEWED,{channel_id:t.id,channel_type:t.type,guild_id:t.guild_id})},[t.guild_id,t.id,t.type]),I)return(0,i.jsx)(Q,{channel:t});let T=o().omit(_.containerProps,["ref"]),N=k.iJ(n);return(0,i.jsx)(g.Gt,{value:r,children:(0,i.jsx)(c.bG,{navigator:_,children:(0,i.jsx)(p.FocusJumpSection,{children:e=>(0,i.jsx)("div",{className:s()(F.membersWrap,F.hiddenMembers),children:(0,i.jsx)(p.List,{ref:C,className:F.members,paddingTop:0,sectionHeight:40,renderSection:e=>{let{section:t}=e,a=d[t];return(0,i.jsx)(K,{id:a.id,label:a.label,count:a.userIds.length,guildId:n.id},a.id)},rowHeight:z,renderRow:e=>{let{section:n,row:a}=e,{userIds:l,id:s}=d[n];return(0,i.jsx)(Y,{channel:t,sectionId:s,userId:l[a],guildOwnerId:N},l[a])},footerHeight:e=>d[e]===m&&t.type===H.d4z.PRIVATE_THREAD?80:0,renderFooter:e=>d[e.section]===m?(0,i.jsx)(q,{channel:t},"footer"):null,innerAriaLabel:G.Z.Messages.MEMBERS,innerTag:"ul",sections:d.map(e=>e.userIds.length),fade:!0,...T,...e},l)})})})})}function Q(e){let{channel:t}=e;return(0,i.jsxs)("div",{className:s()(F.membersWrap,F.hiddenMembers,F.members,V.emptyState),children:[(0,i.jsx)(p.Text,{className:V.emptyStateHeader,variant:"text-xs/bold",color:"interactive-normal",children:G.Z.Messages.MEMBERS}),(0,i.jsxs)("div",{className:V.emptyStateIconContainer,children:[(0,i.jsx)("div",{className:V.emptyStateIcon,children:(0,i.jsx)(p.GroupIcon,{size:"lg",color:"currentColor"})}),(0,i.jsx)(L.Z,{className:V.emptyStateStars})]}),(0,i.jsx)(p.Heading,{variant:"heading-md/semibold",children:t.isForumPost()?G.Z.Messages.FORUM_POST_MEMBER_LIST_EMPTY_STATE_HEADER:G.Z.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_HEADER}),(0,i.jsx)(p.Text,{className:V.emptyStateSubtext,variant:"text-sm/normal",color:"header-secondary",children:G.Z.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_SUBTEXT})]})}},599059:function(e,t,n){n.d(t,{Z:function(){return u}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(981631),o=n(889328);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Component{componentDidUpdate(e,t){if(t.focused!==this.state.focused&&this.state.focused){var n;null===(n=this.inputRef.current)||void 0===n||n.focus()}null!==this.props.value&&this.props.value!==e.value&&this.props.value!==this.state.value&&d(this.props.value,this.props,this.state)&&this.setState({value:this.props.value})}render(){let e;let{className:t,name:n,autoComplete:a,maxLen:l}=this.props,r={position:"absolute",left:0,width:"100%",opacity:1};return this.state.focused?e={visibility:"hidden",pointerEvents:"none"}:r.opacity=0,(0,i.jsx)("div",{className:s()(o.outer,t),children:(0,i.jsxs)("div",{className:o.container,children:[(0,i.jsx)("input",{type:"text",className:o.input,ref:this.inputRef,style:r,value:this.state.value,name:n,maxLength:l,autoComplete:a,onKeyPress:this.handleKeyPress,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur}),(0,i.jsx)("div",{className:o.input,style:e,children:this.state.value})]})})}constructor(...e){super(...e),c(this,"inputRef",a.createRef()),c(this,"state",{focused:!1,lastGoodValue:this.props.value,value:this.props.value}),c(this,"handleChange",e=>{let{onChange:t}=this.props;this.setState({value:e.currentTarget.value}),null==t||t(e)}),c(this,"handleFocus",e=>{let{onFocus:t}=this.props;this.setState({focused:!0,lastGoodValue:e.currentTarget.value}),null==t||t(e)}),c(this,"handleBlur",e=>{if(d("",this.props,this.state)){this.setState({focused:!1});let{onBlur:t}=this.props;null==t||t(e)}else this.setState({focused:!1,value:this.state.lastGoodValue})}),c(this,"handleKeyPress",e=>{if(e.which===r.yXg.ENTER){var t;null===(t=this.inputRef.current)||void 0===t||t.blur()}})}}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=""!==e?e:null!=n.value&&""!==n.value?n.value:"";return(null==t.minLen||!(i.length<t.minLen))&&(null==t.maxLen||!(i.length>t.maxLen))&&!0}},538239:function(e,t,n){n.r(t),n.d(t,{activityInviteKey:function(){return Z}}),n(47120);var i=n(735250),a=n(470079),l=n(512722),s=n.n(l),r=n(442837),o=n(481060),c=n(904245),u=n(654030),d=n(744061),h=n(367907),p=n(728345),m=n(812206),_=n(541716),f=n(752305),E=n(893718),g=n(957730),C=n(789407),I=n(300429),x=n(838440),T=n(981631),N=n(689938),v=n(915301);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Z="ActivityInvite";class A extends a.PureComponent{componentDidMount(){this.fetchApplication()}componentDidUpdate(e){let{activity:t}=this.props;t.application_id!==e.activity.application_id&&this.fetchApplication()}fetchApplication(){let{activity:e,application:t}=this.props;null!=e.application_id&&null==t&&p.Z.fetchApplication(e.application_id)}renderTitle(){let{activity:e}=this.props;switch(e.type){case T.IIU.LISTENING:return N.Z.Messages.INVITE_EMBED_LISTENING_INVITE;case T.IIU.PLAYING:case T.IIU.STREAMING:default:return N.Z.Messages.INVITE_EMBED_GAME_INVITE}}render(){let{textValue:e,richValue:t,textFocused:n,contentWarningProps:a}=this.state,{activity:l,analyticsLocations:r,channel:c,activityActionType:h,cooldown:p,application:m,transitionState:f,onClose:g}=this.props,C=p>0,I=C?N.Z.Messages.CHANNEL_SLOWMODE_COOLDOWN.format({seconds:Math.round((p+1e3)/1e3)}):null;return(0,i.jsxs)(o.ModalRoot,{size:o.ModalSize.SMALL,transitionState:f,"aria-label":this.renderTitle(),children:[(0,i.jsx)(o.ModalHeader,{separator:!1,children:(0,i.jsx)(o.Heading,{variant:"heading-lg/semibold",children:this.renderTitle()})}),(0,i.jsxs)(o.ModalContent,{children:[(0,i.jsx)("div",{className:v.subHeader,children:N.Z.Messages.MESSAGE_PREVIEW}),(0,i.jsx)(u.Z,{activityActionType:h,activity:l,className:v.preview,application:m,partyId:null!=l.party?l.party.id:null,isPreview:!0,analyticsLocations:r}),(0,i.jsx)("div",{className:v.subHeader,children:N.Z.Messages.ADD_A_COMMENT_OPTIONAL}),(0,i.jsx)(o.Popout,{position:"top",onRequestClose:()=>{var e;null==a||null===(e=a.onCancel)||void 0===e||e.call(a),this.setState({contentWarningProps:null})},shouldShow:null!=a,renderPopout:e=>{let{closePopout:t}=e;return s()(null!=a,"ActivityInvite.render - renderPopout: contentWarningProps cannot be null"),(0,i.jsx)(d.Z,{onClose:t,...a})},children:()=>(0,i.jsx)(E.Z,{className:v.textArea,textValue:e,richValue:t,focused:n,channel:c,onChange:this.handleTextChange,onSubmit:this.handleShare,type:_.I.FORM,parentModalKey:Z,disableThemedBackground:!0})})]}),(0,i.jsxs)(o.ModalFooter,{children:[(0,i.jsx)(o.Tooltip,{text:I,children:e=>(0,i.jsx)("div",{...e,children:(0,i.jsx)(o.Button,{disabled:C,onClick:this.handleShare,children:N.Z.Messages.INVITE_EMBED_SEND_INVITE})})}),(0,i.jsx)(o.Button,{look:o.Button.Looks.LINK,color:o.Button.Colors.PRIMARY,onClick:g,children:N.Z.Messages.CANCEL})]})]})}constructor(...e){super(...e),S(this,"state",{...(0,f.H2)(),textFocused:!0,contentWarningProps:null}),S(this,"trackInvite",e=>{if(null!=e&&e.ok){let{activity:t,channel:n,activityActionType:i}=this.props,a="";switch(i){case T.mFx.JOIN:a="Invite to Join";break;case T.mFx.LISTEN:a="Invite to Listen";break;case T.mFx.WATCH:a="Invite to Watch"}return h.ZP.trackWithMetadata(T.rMx.INVITE_SENT,{location:"Channel Text Area - ".concat(a),invite_type:t.type===T.IIU.LISTENING?T.dAT.SPOTIFY:T.dAT.APPLICATION,application_id:t.application_id,guild_id:n.getGuildId(),channel_id:n.id,message_id:null!=e?e.body.id:null}),Promise.resolve()}}),S(this,"handleTextChange",(e,t,n)=>{this.setState({textValue:t,richValue:n})}),S(this,"handleShare",()=>{let{channel:e,activity:t,activityActionType:n,cooldown:i,onClose:a}=this.props,{textValue:l,contentWarningProps:s}=this.state;if(i>0)return Promise.resolve({shouldClear:!1,shouldRefocus:!0});let r=g.ZP.parse(e,l),o={activity:t,type:n};return null!=s?(this.setState({contentWarningProps:null}),c.Z.sendMessage(e.id,r,!0,{activityAction:o}).then(e=>this.trackInvite(e)),a(),Promise.resolve({shouldClear:!0,shouldRefocus:!0})):(0,x.v)({openWarningPopout:e=>this.setState({contentWarningProps:e}),type:_.I.FORM,content:l,channel:e}).then(t=>{let{valid:n}=t;return n?(c.Z.sendMessage(e.id,r,!0,{activityAction:o}).then(e=>this.trackInvite(e)),a(),{shouldClear:!1,shouldRefocus:!1}):{shouldClear:!1,shouldRefocus:!1}})})}}t.default=r.ZP.connectStores([I.Z,m.Z],e=>{let{channel:t,activity:n}=e;return{cooldown:I.Z.getSlowmodeCooldownGuess(t.id),application:null!=n.application_id?m.Z.getApplication(n.application_id):C.r9}})(A)},822951:function(e,t,n){n(47120);var i,a=n(735250),l=n(470079),s=n(120356),r=n.n(s),o=n(481060),c=n(285952),u=n(372992);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends(i=l.PureComponent){render(){let e;let{renderFooter:t,selectable:n,renderHeader:i,className:l,onClose:s,children:d}=this.props;return null!=t&&(e=(0,a.jsx)(o.ModalFooter,{direction:c.Z.Direction.HORIZONTAL,children:t()})),(0,a.jsx)(o.Modal,{onCloseRequest:s,renderModal:t=>{let{onClose:h,...p}=t;return(0,a.jsxs)(o.ModalRoot,{className:u.modal,...p,children:[(0,a.jsxs)(o.ModalHeader,{align:c.Z.Justify.BETWEEN,separator:!1,children:[i(),(0,a.jsx)(c.Z.Child,{grow:0,children:(0,a.jsx)(o.ModalCloseButton,{onClick:()=>{null!=s&&s(),h()}})})]}),(0,a.jsx)(o.ModalContent,{className:r()(l,u.content,{selectable:n}),scrollerRef:this.scrollerRef,onScroll:this.handleScroll,children:d}),e]})}})}constructor(...e){super(...e),d(this,"scrollerRef",l.createRef()),d(this,"handleScroll",()=>{let{current:e}=this.scrollerRef;if(null!=e){var t,n;null===(t=(n=this.props).onScroll)||void 0===t||t.call(n,e)}})}}d(h,"defaultProps",{selectable:!1}),t.Z=h},744061:function(e,t,n){n.d(t,{Z:function(){return _}}),n(47120);var i=n(735250),a=n(470079),l=n(692547),s=n(780384),r=n(481060),o=n(367907),c=n(210887),u=n(626135),d=n(981631),h=n(689938),p=n(683993),m=n(622322);function _(e){let{onClose:t,onConfirm:_,onCancel:f,channel:E,analyticsType:g,popoutText:C,animation:I}=e;a.useEffect(()=>{u.default.track(d.rMx.OPEN_POPOUT,{type:g,...(0,o.v_)(E)})},[g,E]);let x=a.useCallback(()=>{null==_||_(),t()},[_,t]),T=a.useCallback(()=>{null==f||f(),t()},[f,t]),N=a.useRef(null);return a.useEffect(()=>{let e;let t=c.Z.theme,i=!1;return null!=I&&(async()=>{let[{default:a},l]=await Promise.all([Promise.resolve().then(n.t.bind(n,500923,23)),(0,s.wj)(t)?I.dark():I.light()]);!i&&null!=N.current&&(e=a.loadAnimation({container:N.current,renderer:"svg",loop:!0,autoplay:!0,animationData:l}))})(),()=>{i=!0,null!=e&&(e.destroy(),e=void 0)}},[I]),(0,i.jsx)(r.Dialog,{"aria-labelledby":"content-warning-popout-label",children:(0,i.jsxs)("form",{className:p.contentWarningPopout,onSubmit:x,children:[(0,i.jsxs)("div",{className:p.body,children:[null!=I&&(0,i.jsx)("div",{className:p.animation,ref:N}),(0,i.jsxs)("div",{className:p.content,children:[(0,i.jsx)("div",{className:p.header,children:h.Z.Messages.SELF_XSS_HEADER}),(0,i.jsx)(r.Text,{id:"content-warning-popout-label",className:m.markup,variant:"text-sm/normal",children:C.body}),(0,i.jsxs)("div",{className:p.buttonWrapper,children:[(0,i.jsxs)("div",{className:p.buttonContainer,children:[(0,i.jsx)(r.Button,{className:p.button,color:r.Button.Colors.PRIMARY,onClick:T,children:h.Z.Messages.EDIT_MESSAGE}),(0,i.jsx)(r.Text,{variant:"text-xs/normal",className:p.buttonHint,children:h.Z.Messages.EVERYONE_POPOUT_ESC.format()})]}),(0,i.jsxs)("div",{className:p.buttonContainer,children:[(0,i.jsx)(r.Button,{className:p.button,onClick:x,type:"submit",autoFocus:!0,children:h.Z.Messages.EVERYONE_POPOUT_SEND_NOW}),(0,i.jsx)(r.Text,{variant:"text-xs/normal",className:p.buttonHint,children:h.Z.Messages.EVERYONE_POPOUT_ENTER.format()})]})]})]})]}),null!=C.footer&&""!==C.footer?(0,i.jsxs)("div",{className:p.footer,children:[(0,i.jsx)(r.CircleInformationIcon,{size:"xs",color:l.Z.unsafe_rawColors.PRIMARY_400.css,className:p.icon}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",children:C.footer})]}):null]})})}},561472:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(442837),s=n(998698),r=n(933557),o=n(703558),c=n(731290),u=n(607744),d=n(819640),h=n(496675),p=n(699516),m=n(594174),_=n(585483),f=n(127654),E=n(205822),g=n(731994),C=n(981631),I=n(689938);t.Z=function(e){let{className:t,style:n,channel:x,draftType:T}=e,[N,v]=a.useState(!0),S=(0,l.e7)([d.Z],()=>d.Z.hasLayers()),Z=(0,l.e7)([h.Z],()=>null!=x&&h.Z.can(C.Plq.ATTACH_FILES,x),[x]),A=null!=(0,l.e7)([s.Z],()=>s.Z.getActiveCommand(x.id)),M=x.getGuildId(),b=T===o.d.FirstThreadMessage,R=(0,l.e7)([m.default],()=>{var e;return!0==!(null===(e=m.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed)}),j=(0,l.e7)([c.Z],()=>c.Z.didAgree(M))&&!R,L=a.useMemo(()=>!S&&(x.isPrivate()&&!x.isManaged()||null!=M&&(!x.isNSFW()||j)&&Z&&u.Z.canChatInGuild(M)),[Z,j,x,M,S]),P=b?C.TPd.GUILD_THREADS_ONLY.has(x.type)?I.Z.Messages.UPLOAD_TO_NEW_POST:I.Z.Messages.UPLOAD_TO_NEW_THREAD:N?I.Z.Messages.UPLOAD_TO.format({destination:(0,r.F6)(x,m.default,p.Z,!0)}):I.Z.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION;return A||!L?null:(0,i.jsx)(E.Z,{className:t,style:n,title:P,description:b?I.Z.Messages.UPLOAD_AREA_NEW_THREAD_HELP:I.Z.Messages.UPLOAD_AREA_HELP,icons:g.J6,onDrop:e=>{if(A)return!1;L&&null!=x&&((0,f.d)(e,x,T,{requireConfirm:N,showLargeMessageDialog:!1}),_.S.dispatchToLastSubscribed(C.CkL.TEXTAREA_FOCUS))},onDragClear:()=>v(!0),onDragOver:e=>{if(A)return!1;!b&&e.shiftKey===N&&v(!e.shiftKey)}})}},36311:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(749210),u=n(594174),d=n(499371),h=n(63063),p=n(981631),m=n(689938),_=n(120841);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends a.PureComponent{componentDidMount(){let{current:e}=this.scroller;null==e||e.scrollToBottom()}render(){let{nsfwDisallowed:e}=this.props,t=m.Z.Messages.NSFW_DESCRIPTION;t=e?m.Z.Messages.AGE_GATE_NSFW_UNDERAGE_BODY.format({helpURL:h.Z.getArticleURL(p.BhN.NSFW_AGE_GATING)}):m.Z.Messages.AGE_GATE_NSFW_DESCRIPTION;let n=e?(0,i.jsx)(d.Z,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:m.Z.Messages.AGE_GATE_NSFW_UNDERAGE_HEADER,description:t,agreement:null,disagreement:m.Z.Messages.BACK,imageClassName:_.ageGatedImage}):(0,i.jsx)(d.Z,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:m.Z.Messages.NSFW_TITLE,description:t,agreement:m.Z.Messages.NSFW_ACCEPT,disagreement:m.Z.Messages.NSFW_DECLINE});return(0,i.jsx)(o.AdvancedScroller,{ref:this.scroller,className:_.scroller,children:(0,i.jsx)("div",{className:s()(this.props.className,_.wrapper),children:n})})}constructor(...e){super(...e),f(this,"scroller",a.createRef()),f(this,"handleDisagree",()=>{let{guild:e}=this.props;null!=e&&c.Z.nsfwReturnToSafety(e.id)}),f(this,"handleAgree",()=>{let{guild:e}=this.props;null!=e&&c.Z.nsfwAgree(e.id)})}}t.Z=r.ZP.connectStores([u.default],()=>{var e;return{nsfwDisallowed:(null===(e=u.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed)===!1}})(E)},888651:function(e,t,n){if(n.d(t,{$:function(){return p},Q:function(){return h}}),12633==n.j)var i=n(582966);var a=n(895162),l=n(749210),s=n(430824),r=n(496675),o=n(979651),c=n(938475),u=n(981631);let d="DRAGGABLE_USER";function h(e){return(0,i.G)(d,{canDrop(e){var t,n;let{channel:i}=e,a=i.getGuildId(),l=null!==(n=null===(t=s.Z.getGuild(a))||void 0===t?void 0:t.maxVideoChannelUsers)&&void 0!==n?n:-1,d=c.ZP.countVoiceStatesForChannel(i.id),h=null!=a&&o.Z.hasVideo(i.id)&&l>0&&d>=l+1;return r.Z.can(u.Plq.MOVE_MEMBERS,i)&&r.Z.can(u.Plq.CONNECT,i)&&!h},drop(e,t){let{channel:n}=e,i=o.Z.getVoiceStateForUser(t.getItem().user.id);(null==i?void 0:i.channelId)!==n.id&&l.Z.setChannel(n.getGuildId(),t.getItem().user.id,n.id)}},(e,t)=>({connectUserDropTarget:e.dropTarget(),isUserOver:t.isOver()&&t.canDrop()}))(e)}function p(e){return(0,a.E)(d,{canDrag(e){let{user:t,canDrag:n}=e;return null!=n&&n},beginDrag(e){let{user:t}=e;return{user:t}}},e=>({connectUserDragSource:e.dragSource()}))(e)}},592471:function(e,t,n){n.d(t,{s:function(){return r}});var i=n(735250),a=n(470079),l=n(709014);let s={hover:{name:"hover",start:0,duration:40},click:{name:"click",start:50,duration:65}},r=()=>{let e=a.useRef(null),t=a.useCallback(()=>{null!=e.current&&e.current.play("click")},[]),r=a.useCallback(()=>{null!=e.current&&e.current.play("hover")},[]),o=a.useCallback(()=>{null!=e.current&&e.current.stopIfPlaying("hover")},[]);return{events:{onClick:t,onMouseEnter:r,onMouseLeave:o},play:t,Component:a.useCallback(t=>(0,i.jsx)(l.L,{...t,src:()=>n.e("8631").then(n.t.bind(n,105262,19)),ref:e,markers:s}),[])}}},652844:function(e,t,n){n.d(t,{O:function(){return r}});var i=n(735250),a=n(470079),l=n(709014);let s={mute:{name:"mute",start:0,duration:70},unmute:{name:"unmute",start:100,duration:70},hover_unmuted:{name:"hover_unmuted",start:180,duration:40},hover_muted:{name:"hover_muted",start:240,duration:40}},r=e=>{let t=a.useRef(null),r=a.useRef(e),o=a.useMemo(()=>()=>{null!=t.current&&t.current.play(e)},[e]),c=a.useCallback(()=>{if(null==t.current)return;let n="mute"===e?"hover_unmuted":"hover_muted";t.current.play(n)},[e]),u=a.useCallback(()=>{if(null==t.current)return;let n="mute"===e?"hover_unmuted":"hover_muted";t.current.stopIfPlaying(n)},[e]);return{events:{onClick:o,onMouseEnter:c,onMouseLeave:u},play:o,Component:a.useCallback(e=>(0,i.jsx)(l.L,{...e,src:()=>n.e("410").then(n.t.bind(n,992285,19)),ref:t,initialAnimation:r.current,markers:s}),[])}}},638730:function(e,t,n){n.d(t,{T:function(){return s},h:function(){return r}}),n(47120);var i=n(470079),a=n(392711);let l=e=>e,s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0,s=r(l,t,n,a),o=i.useRef(e);return i.useEffect(()=>{let t=s(e);o.current=t},[e,s]),0===t?e:o.current},r=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3?arguments[3]:void 0,s=i.useRef((0,a.throttle)(e,t,l));return i.useEffect(()=>(s.current=(0,a.throttle)(e,t,l),()=>{var e;null===(e=s.current)||void 0===e||e.cancel()}),[e,t,l,...n]),s.current}},763520:function(e,t,n){n.d(t,{m:function(){return i},o:function(){return f}}),n(47120);var i,a,l=n(259443),s=n(379649),r=n(314897),o=n(592125),c=n(866960),u=n(19780),d=n(979651),h=n(626135),p=n(981631);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(a=i||(i={})).SELF_VIDEO="self_video",a.SELF_STREAM="self_stream",a.REMOTE_VIDEO="remote_video",a.REMOTE_STREAM="remote_stream",a.CHANGE_VIDEO_BACKGROUND="change_video_background",a.VIDEO_PLAYER="video_player",a.REPLAY_VIDEO_STREAM="replay_video_stream";let _=new Map;class f{onSpinnerStarted(){null==this.spinnerVisibleStart&&(this.spinnerVisibleStart=(0,s.zO)())}trackSpinnerDuration(e,t,n){if(null==this.spinnerVisibleStart)return;let i=function(e){var t;let n=(null!==(t=_.get(e))&&void 0!==t?t:0)+1;return _.set(e,n),n}(n),a=(0,s.zO)()-this.spinnerVisibleStart;if(this.spinnerVisibleStart=null,a<0){this.logger.warn("spinner duration is negative: ".concat(a," ms\n        [").concat(e,", count for stream: ").concat(i,"]"));return}this.logger.info("spinner visible for ".concat(a," ms\n      [").concat(e,", count for stream: ").concat(i,"]"));let l=u.Z.getGuildId(),m=d.Z.getUserVoiceChannelId(l,r.default.getId()),f=function(e){if(null!=e){if(e.isGuildVoice())return"guild_voice";if(e.isGuildStageVoice())return"is_stage_channel";if(e.isDM())return"dm";if(e.isGroupDM())return"group_dm"}return null}(o.Z.getChannel(m));h.default.track(p.rMx.VIDEO_SPINNER_SHOWN_V2,{video_spinner_context:e,duration_video_spinner_visible_ms:a,rtc_connection_id:u.Z.getRTCConnectionId(),media_session_id:u.Z.getMediaSessionId(),event_count_for_stream:i,guild_id:l,channel_id:m,channel_type:f,spinning_user_id:t,connection_type:c.Z.getType(),effective_connection_speed:c.Z.getEffectiveConnectionSpeed(),service_provider:c.Z.getServiceProvider()})}constructor(e){m(this,"logger",void 0),m(this,"spinnerVisibleStart",null),this.logger=new l.Y(e)}}},348600:function(e,t,n){n.d(t,{Z:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2023-03_birthday_activities",label:"Birthday Activities",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Birthday Activities",config:{enabled:!0}},{id:2,label:"Geo test Enable Birthday Activities but no share",config:{enabled:!0}}]})},520599:function(e,t,n){n.d(t,{p:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2024-06_amazon_music_activity_shelf_banner",label:"Amazon Music Activity Shelf Promo Banner",defaultConfig:{enableAmazonMusicShelfPoster:!1},treatments:[{id:1,label:"Enable shelf promo banners",config:{enableAmazonMusicShelfPoster:!0}}]})},611370:function(e,t,n){n.d(t,{T:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2024-07_activity_farm_merge_valley_mini_shelf_banner",label:"Activity Farm Merge Valley Mini-Shelf Banner",defaultConfig:{enableFarmMergeValleyMiniShelfBanner:!1},treatments:[{id:1,label:"Enable mini-shelf banner",config:{enableFarmMergeValleyMiniShelfBanner:!0}}]})},138138:function(e,t,n){n.d(t,{u:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2024-06_activity_rythm_mini_shelf_banner",label:"Activity Rythm Mini-Shelf Banner",defaultConfig:{enableRythmMiniShelfBanner:!1},treatments:[{id:1,label:"Enable mini-shelf banner",config:{enableRythmMiniShelfBanner:!0}}]})},9145:function(e,t,n){n.d(t,{Z:function(){return w}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(993365),c=n(481060),u=n(153867),d=n(110924),h=n(607070),p=n(900211),m=n(740492),_=n(871499),f=n(402113),E=n(592125),g=n(271383),C=n(944486),I=n(594174),x=n(602623),T=n(585483),N=n(792125),v=n(51144),S=n(566620),Z=n(317381),A=n(619915),M=n(988980),b=n(952561),R=n(563218),j=n(719296),L=n(651612),P=n(918559),O=n(981631),y=n(689938),D=n(2314);let k=x.u.SIZE_32,U={[P.MI.NO_CHAT]:D.noChat,[P.MI.RESIZABLE]:D.resizable};function w(e){var t,n;let{maxHeight:l,connectedChannelId:w,renderExternalHeader:B}=e,H=(0,b.Z)(),G=(0,r.Wu)([Z.ZP],()=>null!=w?Z.ZP.getEmbeddedActivitiesForChannel(w):[],[w]),V=(0,r.e7)([E.Z],()=>E.Z.getChannel(w)),F=(0,A.gb)(G),W=(0,A.uF)(F),z=a.useCallback(()=>{(0,S.tg)(P.Ez.PIP)},[]),Y=a.useRef(null),K=(0,r.e7)([Z.ZP],()=>Z.ZP.getFocusedLayout()),q=K!==P.MI.NO_CHAT,[X,Q]=a.useState(null!==(t=m.ZP.activityPanelHeight)&&void 0!==t?t:l),J=a.useCallback(e=>{u.ZP.updatedUnsyncedSettings({activityPanelHeight:e})},[]),$=a.useRef(null),[ee,et]=a.useState({width:0,height:0});a.useLayoutEffect(()=>{if(null==$.current)return;let e=new ResizeObserver(()=>{var e,t,n,i;et({width:null!==(n=null===(e=$.current)||void 0===e?void 0:e.clientWidth)&&void 0!==n?n:0,height:null!==(i=null===(t=$.current)||void 0===t?void 0:t.clientHeight)&&void 0!==i?i:0})});return e.observe($.current),()=>e.disconnect()},[]);let en=ee.width/Math.max(ee.height,1)<P.I0,ei=0,ea=0,el=(0,M.Z)(null==H?void 0:H.id);if(!el){let e=ee.width,t=ee.height;en?((t=ee.width/P.I0)>ee.height&&(e=(t=ee.height)*P.I0),ea=(ee.height-t)/2):((e=Math.min(ee.height*P.I0))>ee.width&&(t=(e=ee.width)/P.I0),ei=(ee.width-e)/2)}let es=W.get(null!==(n=null==H?void 0:H.id)&&void 0!==n?n:""),er=(0,r.e7)([C.Z],()=>C.Z.getChannelId()),eo=(0,r.Wu)([g.ZP],()=>{var e;return null==V?[]:Array.from(null!==(e=null==es?void 0:es.embeddedActivity.userIds)&&void 0!==e?e:[]).map(e=>g.ZP.getMember(V.guild_id,e))},[es,V]),ec=a.useMemo(()=>{let e=new Map;return eo.forEach(t=>{null!=t&&void 0!==t&&e.set(t.userId,t)}),e},[eo]),eu=function(e,t,n){let i=(0,d.Z)(e),l=e!==i,[s,r]=a.useState(!1);a.useEffect(()=>{r(!0);let e=setTimeout(()=>r(!1),50);return()=>clearTimeout(e)},[e]);let o=!h.Z.useReducedMotion&&(l||s);return a.useMemo(()=>{let i=o?{transitionProperty:"height, max-height",transitionDuration:"".concat(50,"ms"),transitionTimingFunction:"ease-in-out"}:void 0;return e&&null!=t?{...i,minHeight:200,maxHeight:n,height:t}:i},[o,e,n,t])}(q,X,l);if(null==H)return null;let ed=[];null!=es&&(ed=Array.from(es.embeddedActivity.userIds).map(e=>I.default.getUser(e)).filter(e=>null!=e&&void 0!==e));let eh=(e,t)=>{var n;if(null==e||void 0===e||void 0===t)return null;let a=ec.get(e.id),l=null!==(n=null==a?void 0:a.nick)&&void 0!==n?n:v.ZP.getName(e);return(0,i.jsx)(c.TooltipContainer,{text:l,position:"bottom",children:(0,i.jsx)("img",{src:e.getAvatarURL(t.guild_id,k),alt:l,className:D.avatar},e.id)},e.id)};return(0,i.jsxs)("div",{className:s()(D.wrapper,U[K],(0,N.Q)(O.BRd.DARK)),ref:Y,style:eu,children:[null==B?void 0:B(),(0,i.jsxs)("div",{className:D.activityPanelContainer,children:[q?null:(0,i.jsx)("div",{className:D.header,children:(0,i.jsx)(o.x,{color:"header-primary",variant:"text-md/semibold",className:D.headerTitle,children:null==H?void 0:H.name})}),(0,i.jsx)("div",{className:s()(D.activityContainer,{[D.activityContainerNoMargin]:el}),style:{paddingLeft:ei,paddingRight:ei,paddingTop:ea,paddingBottom:ea},ref:$,children:(0,i.jsx)(R.Z,{className:D.iframe,embedId:(0,j.Z)(w,H.id)})}),null!=er?(0,i.jsxs)("div",{className:D.footer,children:[(0,i.jsx)(x.Z,{renderIcon:!1,users:ed,size:k,max:6,className:D.userAvatars,renderUser:e=>eh(e,V)}),(0,i.jsxs)("div",{className:D.footerButtons,children:[(0,i.jsx)(L.Z,{channelId:er,className:D.circularButton}),(0,i.jsx)("div",{className:D.leaveButtonContainer,children:(0,i.jsx)(f.Z,{applicationId:H.id,channelId:w,centerButton:!0,color:"red",className:D.leaveActivityButton})}),(0,i.jsx)(_.d,{label:y.Z.Messages.EMBEDDED_ACTIVITIES_MINIMIZE_A11Y_LABEL,onClick:z,iconComponent:c.MinimizeIcon,themeable:!0,className:D.circularButton})]}),(0,i.jsx)("div",{className:D.flex})]}):null]}),q?(0,i.jsx)(p.Z,{minHeight:480,maxHeight:l,resizableNode:Y,onResize:e=>{T.S.dispatch(O.CkL.MANUAL_IFRAME_RESIZING,{resizing:!0}),Q(e)},onResizeEnd:e=>{T.S.dispatch(O.CkL.MANUAL_IFRAME_RESIZING,{resizing:!1}),J(e)}}):null]})}},82888:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(735250),a=n(470079),l=n(399606),s=n(110924),r=n(867176),o=n(566620),c=n(317381),u=n(917107),d=n(9145),h=n(918559);function p(e){let{maxHeight:t,renderExternalHeader:n}=e,{connectedChannelId:p,connectedActivity:m,activityPanelMode:_}=(0,l.cj)([c.ZP],()=>{var e;let t=c.ZP.getConnectedActivityChannelId();return{connectedChannelId:t,connectedActivity:null!=t&&null!==(e=c.ZP.getSelfEmbeddedActivityForChannel(t))&&void 0!==e?e:void 0,activityPanelMode:c.ZP.getActivityPanelMode()}}),f=(0,r.NX)(p,!1,"ActivityPanelUI"),E=(0,s.Z)(p);if(a.useEffect(()=>{null!=p&&null==E&&(0,o.gC)(h.MI.RESIZABLE)},[p,E]),!f)return null;let g=null==m?void 0:m.applicationId;return _!==h.Ez.PANEL||null==g?null:null==p||null==m||(0,u.Z)(p)||null==g?null:(0,i.jsx)(d.Z,{maxHeight:t,connectedChannelId:p,renderExternalHeader:n})}},651612:function(e,t,n){n.d(t,{Z:function(){return C}}),n(653041);var i=n(735250),a=n(470079),l=n(392711),s=n(442837),r=n(481060),o=n(481051),c=n(871499),u=n(306680),d=n(111583),h=n(459273),p=n(566620),m=n(317381),_=n(918559),f=n(981631),E=n(689938),g=n(856230);function C(e){let{channelId:t,className:n,...C}=e,I=a.useRef(null),x=(0,s.e7)([m.ZP],()=>m.ZP.getFocusedLayout()===_.MI.RESIZABLE),T=a.useCallback(()=>{let e=x?_.MI.NO_CHAT:_.MI.RESIZABLE;(0,p.gC)(e)},[x]),{unreadCount:N,mentionCount:v}=function(e){let t=(0,s.e7)([d.Z],()=>!(0,l.isEmpty)(d.Z.getTypingUsers(e)),[e]),{unreadCount:n,mentionCount:i}=(0,s.cj)([u.ZP],()=>({unreadCount:u.ZP.getUnreadCount(e),mentionCount:u.ZP.getMentionCount(e)}),[e]);return{unreadCount:n,mentionCount:i,isTyping:t}}(t),S=a.useCallback(()=>{var e;null===(e=I.current)||void 0===e||e.focus()},[]);(0,h.yp)({event:f.CkL.FOCUS_CHAT_BUTTON,handler:S});let Z=x?E.Z.Messages.HIDE_CHAT:E.Z.Messages.SHOW_CHAT,A=[Z];v>0&&A.push(E.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_MENTIONS.format({mentionCount:v})),N>0&&A.push(E.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_UNREAD);let M=(0,s.e7)([m.ZP],()=>m.ZP.getFocusedLayout()),b=v>0?v:N,R=b>0;return(0,i.jsxs)("div",{className:g.wrapper,children:[(0,i.jsx)(c.d,{buttonRef:I,onClick:T,label:Z,"aria-label":A.join(", "),tooltipPosition:"top",iconComponent:M===_.MI.NO_CHAT?r.ChevronLargeUpIcon:r.ChevronLargeDownIcon,themeable:!0,className:n,...C}),R?(0,i.jsx)(o.Z,{hasMentions:v>0,truncatedCount:b>99?"99+":b,className:g.badge}):null]})}},596040:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(470079),a=n(566620),l=n(782769),s=n(451576);let r=e=>null!=e&&""!==e;function o(e,t){let n=(0,l.z)(null!=t?t:void 0),o=(0,s.Z)(t),c=r(e)||o;return i.useEffect(()=>{c&&n&&(0,a.w1)({guildId:e})},[e,n,c]),c&&n}},683921:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(442837),a=n(317381);function l(e){let{channelId:t}=e;return(0,i.e7)([a.ZP],()=>a.ZP.getEmbeddedActivitiesForChannel(t).some(e=>e.userIds.size>0))}},988980:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(470079),a=n(701488);function l(e){return i.useMemo(()=>!a.P9.includes(null!=e?e:""),[e])}},588580:function(e,t,n){n.d(t,{a:function(){return l}});var i=n(442837),a=n(317381);let l=()=>(0,i.e7)([a.ZP],()=>a.ZP.getState().shouldShowNewActivityIndicator)},451576:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(399606),a=n(592125);function l(e){var t;let n=(0,i.e7)([a.Z],()=>a.Z.getChannel(e));return null!==(t=null==n?void 0:n.isPrivate())&&void 0!==t&&t}},296797:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(470079),a=n(592125),l=n(944486),s=n(585483),r=n(917107),o=n(89425),c=n(197386),u=n(981631);function d(e){let{onTransition:t}=e;i.useEffect(()=>{async function e(e){let{channelId:n}=e;if(!(0,r.Z)(n))return;l.Z.getVoiceChannelId()!==n&&await (0,o.Z)({channelId:n});let i=a.Z.getChannel(n),s=null==i?void 0:i.guild_id;setTimeout(()=>{(0,c.Z)(s,n),null==t||t()},0)}return s.S.subscribe(u.CkL.OPEN_EMBEDDED_ACTIVITY,e),()=>{s.S.unsubscribe(u.CkL.OPEN_EMBEDDED_ACTIVITY,e)}},[t])}},526846:function(e,t,n){n.d(t,{m:function(){return w}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(613828),o=n(772848),c=n(442837),u=n(481060),d=n(2052),h=n(40851),p=n(607070),m=n(100527),_=n(906732),f=n(703656),E=n(210887),g=n(390322),C=n(626135),I=n(348600),x=n(566620),T=n(520599),N=n(611370),v=n(138138),S=n(127255),Z=n(5200),A=n(558317),M=n(403404),b=n(701488),R=n(981631),j=n(689938),L=n(496),P=n(587952),O=n(736733),y=n(932463),D=n(988967),k=n(463738);let U="vc-activities-".concat((0,o.Z)()),w=a.forwardRef(function(e,t){let{channel:n,isHovered:l,closePopout:o,onMouseEnter:w,onMouseLeave:B,onClick:H,className:G}=e,{enabled:V}=I.Z.useExperiment({location:"8009ca_3"}),{enableRythmMiniShelfBanner:F}=v.u.useExperiment({location:"ActivitiesMiniShelf"},{autoTrackExposure:!0}),{enableAmazonMusicShelfPoster:W}=T.p.useExperiment({location:"ActivitiesMiniShelf"},{autoTrackExposure:!0}),{enableFarmMergeValleyMiniShelfBanner:z}=N.T.useExperiment({location:"ActivitiesMiniShelf"},{autoTrackExposure:!0}),Y=(0,c.e7)([E.Z],()=>E.Z.getState().theme),K=(0,c.e7)([p.Z],()=>p.Z.useReducedMotion),{id:q,guild_id:X}=n;a.useEffect(()=>{C.default.track(R.rMx.ACTIVITIES_CENTER_CONTROL_TRAY_BUTTON_HOVERED,{channel_id:q,guild_id:X})},[q,X]),a.useEffect(()=>{!l&&o()},[o,l]);let Q=(0,h.bp)(),{analyticsLocations:J}=(0,_.ZP)(m.Z.ACTIVITIES_MINI_SHELF),{analyticsLocations:$}=(0,_.ZP)([...J,m.Z.ACTIVITIES_MINI_SHELF_BANNER]),ee=Q===R.IlC.POPOUT,et=(0,d.O)(),en=function(e,t){return(0,S.Z)({guildId:e,channel:t}).slice(0,5)}(n.getGuildId(),n);a.useEffect(()=>{let e=setTimeout(()=>x.ux(),1e3);return()=>clearTimeout(e)},[]);let ei=a.useCallback(()=>{var e;(0,M.Z)({channel:n,guildId:null!==(e=n.getGuildId())&&void 0!==e?e:void 0,locationObject:et.location,openInPopout:ee,analyticsLocations:J,opensAppLauncherModal:!0}),B(),H()},[et,J,n,H,B,ee]),ea=a.useCallback(e=>{w(),C.default.track(R.rMx.ACTIVITIES_MINI_SHELF_HOVERED,{channel_id:n.id,guild_id:n.getGuildId()})},[w,n]),el=V?(0,i.jsxs)(r.rU,{to:R.Z5c.ACTIVITIES,children:[(0,i.jsx)("img",{alt:j.Z.Messages.EMBEDDED_ACTIVITIES_BIRTHDAY_ACTIVITIES_HERO_ALT,src:"light"===Y?P:O,className:L.poster}),(0,i.jsx)("div",{className:L.posterDivider})]}):W?(0,i.jsxs)(u.Clickable,{className:s()(L.clickableBanner),onClick:()=>{H(),o(),(0,f.uL)(R.Z5c.ACTIVITY_DETAILS(b.Fu),void 0,void 0,$)},children:[(0,i.jsx)("img",{alt:j.Z.Messages.EMBEDDED_ACTIVITIES_AMAZON_MUSIC_PROMO_BANNER_ALT,src:y,className:L.poster}),(0,i.jsx)("div",{className:L.posterDivider})]}):F?(0,i.jsxs)(u.Clickable,{className:s()(L.clickableBanner),onClick:()=>{H(),o(),(0,f.uL)(R.Z5c.ACTIVITY_DETAILS(b.NC),void 0,void 0,$)},children:[(0,i.jsx)("img",{alt:j.Z.Messages.EMBEDDED_ACTIVITIES_MINI_SHELF_RYTHM_POSTER_ALT,src:k,className:L.poster}),(0,i.jsx)("div",{className:L.posterDivider})]}):z?(0,i.jsxs)(u.Clickable,{className:s()(L.clickableBanner),onClick:()=>{H(),o(),(0,f.uL)(R.Z5c.ACTIVITY_DETAILS(b.Cw),void 0,void 0,$)},children:[(0,i.jsx)("img",{alt:j.Z.Messages.EMBEDDED_ACTIVITIES_MINI_SHELF_FARM_MERGE_VALLEY_POSTER_ALT,src:D,className:L.poster}),(0,i.jsx)("div",{className:L.posterDivider})]}):null;return(0,i.jsx)(_.Gt,{value:J,children:(0,i.jsx)(g.Z,{children:(0,i.jsxs)(u.Dialog,{ref:t,"aria-labelledby":U,className:G,children:[(0,i.jsx)(u.HeadingLevel,{forceLevel:2,children:(0,i.jsx)(u.HiddenVisually,{children:(0,i.jsx)(u.H,{id:U,children:j.Z.Messages.EMBEDDED_ACTIVITIES_MINI_SHELF_TITLE})})}),(0,i.jsxs)("div",{className:L.container,onMouseEnter:ea,onMouseLeave:B,children:[(0,i.jsxs)("div",{className:L.titleContainer,children:[(0,i.jsxs)("div",{className:L.titleLeft,children:[(0,i.jsx)(u.ActivitiesIcon,{size:"md",className:L.titleLeftIcon,color:"var(--interactive-active)"}),(0,i.jsx)(u.Text,{variant:"eyebrow",children:j.Z.Messages.EMBEDDED_ACTIVITIES_AUTO_SUGGEST_ACTIVITIES_TITLE})]}),(0,i.jsxs)(u.Clickable,{className:L.titleRight,onClick:ei,children:[(0,i.jsx)(u.Text,{variant:"eyebrow",children:j.Z.Messages.EMBEDDED_ACTIVITIES_AUTO_SUGGEST_SEE_ALL}),(0,i.jsx)(u.ChevronSmallRightIcon,{size:"custom",width:12,height:12,color:"var(--interactive-active)",className:L.titleRightIcon})]})]}),(0,i.jsx)(_.Gt,{value:$,children:el}),(0,i.jsxs)("div",{className:L.activityContainer,children:[en.map(e=>(0,i.jsx)(Z.Y,{channel:n,activityItem:e,onClick:()=>{o(),H()},aspectRatio:Z.Y.AspectRatio.THIRTEEN_BY_ELEVEN,animatedDivClass:L.activitySuggestion},e.application.id)),(0,i.jsx)("div",{className:s()(L.wumpusRocketOuterContainer,{[L.wumpusReducedMotion]:K}),children:(0,i.jsx)("div",{className:L.wumpusRocketInnerContainer,children:(0,i.jsx)(A.Z,{className:L.wumpusRocket})})})]})]})]})})})})},556505:function(e,t,n){n.d(t,{Z:function(){return c}}),n(47120);var i=n(735250),a=n(470079),l=n(481060),s=n(911969),r=n(689938),o=n(732436);function c(e){let{name:t,labelType:n,collapsed:c=!1,showTooltip:u=!1}=e,d=n===s.ww.NEW?r.Z.Messages.NEW:r.Z.Messages.UPDATED,h=n===s.ww.NEW?o.activityNewBadge:o.activityUpdatedBadge,[p,m]=a.useState(c?"":d);if(a.useEffect(()=>{c?m(""):n===s.ww.NEW?m(r.Z.Messages.NEW):n===s.ww.UPDATED&&m(r.Z.Messages.UPDATED)},[c,n]),n===s.ww.NONE)return null;let _=(0,i.jsx)(l.TextBadge,{className:h,disableColor:!0,text:(0,i.jsx)("span",{children:p})});if(!u)return _;let f=r.Z.Messages.EMBEDDED_ACTIVITIES_FREE_PREVIEW_TOOLTIP.format({activity:t});return(0,i.jsx)(l.TooltipContainer,{text:f,tooltipContentClassName:o.tooltip,children:_})}},5200:function(e,t,n){n.d(t,{Y:function(){return x}}),n(47120);var i,a,l=n(735250),s=n(470079),r=n(120356),o=n.n(r),c=n(920906),u=n(481060),d=n(792125),h=n(542094),p=n(182906),m=n(556505),_=n(513202),f=n(981631),E=n(689938),g=n(107667);let C=["embedded_cover"],I={tension:800,friction:24};function x(e){var t;let{channel:n,activityItem:i,onClick:a,aspectRatio:r=0,animatedDivClass:x}=e,{onActivityItemSelected:T,imageBackground:N,activityAction:v,labelType:S}=(0,h.ZP)({channel:n,activityItem:i,guildId:null!==(t=n.getGuildId())&&void 0!==t?t:void 0,locationObject:{},onActivityItemSelected:a,embeddedActivitiesManager:_.Z,assetNames:C}),[Z,A]=s.useState(!1),M=s.useCallback(()=>{A(!0)},[A]),b=s.useCallback(()=>{A(!1)},[A]),R=s.useMemo(()=>(0,l.jsx)("div",{className:g.overlayBadge,children:(0,l.jsx)("div",{className:g.badgeContainer,children:(0,l.jsx)(m.Z,{name:i.application.name,labelType:S})})}),[i.application.name,S]),j=s.useMemo(()=>{switch(v){case h.JS.JOIN:return(0,l.jsx)("div",{className:g.activityAction,children:(0,l.jsx)("div",{className:g.activityActionButton,children:(0,l.jsx)(u.Text,{variant:"text-sm/medium",color:"always-white",children:E.Z.Messages.JOIN})})});case h.JS.LEAVE:return(0,l.jsx)("div",{className:g.activityAction,children:(0,l.jsx)("div",{className:o()(g.activityActionButton,g.activityActionButtonDanger),children:(0,l.jsx)(u.Text,{variant:"text-sm/medium",color:"always-white",children:E.Z.Messages.EMBEDDED_ACTIVITIES_LEAVE})})});case h.JS.START:default:return(0,l.jsx)(l.Fragment,{})}},[v]);return(0,l.jsx)(u.Button,{onClick:T,color:"transparent",look:u.Button.Looks.BLANK,size:u.Button.Sizes.NONE,onFocus:M,onBlur:b,onMouseEnter:M,onMouseLeave:b,innerClassName:g.activityItemButtonInnerClass,children:(0,l.jsx)(c.Spring,{config:I,from:{value:0},to:{value:Z?1:0},children:e=>{let{value:t}=e;return(0,l.jsx)(c.animated.div,{className:o()((0,d.Q)(f.BRd.DARK),g.activityItem,x,{[g.activityItem_13_11]:0===r,[g.activityItem_16_9]:1===r}),style:{transform:t.to([0,1],[1,1.05]).to(e=>"scale(".concat(e,")"))},children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.Z,{imageBackground:N,applicationName:i.application.name,imageClassName:g.activitySuggestionImage,imageNotFoundClassName:g.brokenImageIconWrapper}),R,j]})})}})})}(a=i||(i={}))[a.THIRTEEN_BY_ELEVEN=0]="THIRTEEN_BY_ELEVEN",a[a.SIXTEEN_BY_NINE=1]="SIXTEEN_BY_NINE",x.AspectRatio=i},563218:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(735250),a=n(470079),l=n(442837),s=n(570140),r=n(519938),o=n(928518),c=n(585483),u=n(317381),d=n(917107),h=n(716600),p=n(918559),m=n(981631);let _=(e,t)=>{s.Z.wait(()=>{(0,r.Cz)(e,t)})};function f(e){let t,{embedId:n,className:s,style:r}=e,f=(0,l.e7)([o.Z],()=>o.Z.getWindow(m.KJ3.CHANNEL_CALL_POPOUT)),E=(0,h.Z)(),g=(0,l.e7)([u.ZP],()=>u.ZP.getActivityPanelMode());if(null!=E&&!(0,d.Z)(E.channelId)&&g===p.Ez.PANEL)t=window;else{var C;t=null!==(C=null==f?void 0:f.window)&&void 0!==C?C:window}let I=a.useRef(null),x=a.useMemo(()=>{let e=null;return()=>{null==e&&(e=t.requestAnimationFrame(()=>{var t,i;_(n,null!==(i=null===(t=I.current)||void 0===t?void 0:t.getBoundingClientRect())&&void 0!==i?i:null),e=null}))}},[n,t]);return a.useEffect(()=>(t.addEventListener("resize",x),c.S.subscribe(m.CkL.REMEASURE_TARGET,x),()=>{t.removeEventListener("resize",x),c.S.unsubscribe(m.CkL.REMEASURE_TARGET,x)}),[x,t]),a.useLayoutEffect(()=>{let e=I.current;if(null==e)return;let t=e.ownerDocument.defaultView;if(null==t)return;x();let i=new t.ResizeObserver(x);return i.observe(e),()=>{i.disconnect(),_(n,null)}},[n,x]),(0,i.jsx)("div",{ref:I,style:r,className:s})}},938655:function(e,t,n){n.d(t,{A:function(){return c},T:function(){return a}});var i,a,l=n(735250);n(470079);var s=n(120356),r=n.n(s),o=n(616347);(i=a||(a={}))[i.POPOUT=0]="POPOUT",i[i.SECONDARY=1]="SECONDARY",i[i.BLACK=2]="BLACK";let c=e=>{let{left:t,top:n=0,right:i=0,bottom:a,size:s=8,alert:c=!1,maskColor:u=1}=e;return(0,l.jsx)("span",{className:r()(o.dot,{[o.alert]:c,[o.maskPopout]:0===u,[o.maskSecondary]:1===u,[o.maskBlack]:2===u}),style:{height:s,width:s,left:t,top:n,right:i,bottom:a}})}},558317:function(e,t,n){var i=n(735250);n(470079);t.Z=e=>(0,i.jsxs)("svg",{viewBox:"0 0 500 350",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"linear-gradient",x1:137.05,y1:259.98,x2:172.2,y2:237.66,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:0,stopColor:"#ffe75c"}),(0,i.jsx)("stop",{offset:1,stopColor:"#ff8c19"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-2",x1:146.1,y1:114.65,x2:204.28,y2:84.63,gradientTransform:"matrix(-.99 .13 .13 .99 416 -12.92)",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:0,stopColor:"#7196ff"}),(0,i.jsx)("stop",{offset:.2,stopColor:"#6990fc"}),(0,i.jsx)("stop",{offset:.49,stopColor:"#547ff4"}),(0,i.jsx)("stop",{offset:.67,stopColor:"#4572ee"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-3",x1:167.18,y1:156.28,x2:118.66,y2:238.11,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:0,stopColor:"#ff8c19"}),(0,i.jsx)("stop",{offset:.55,stopColor:"#ffe75c"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-4",x1:125.79,y1:287.01,x2:241.87,y2:290.82,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:.45,stopColor:"#ffe75c"}),(0,i.jsx)("stop",{offset:.95,stopColor:"#ff8c19"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-5",x1:323.47,y1:303.47,x2:284.74,y2:147.93,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:.08,stopColor:"#717f8e"}),(0,i.jsx)("stop",{offset:1,stopColor:"#d3d7db"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-6",x1:211.38,y1:109.6,x2:273.39,y2:77.6,gradientTransform:"matrix(-.8 .6 .6 .8 325.62 -103.19)",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:.32,stopColor:"#7196ff"}),(0,i.jsx)("stop",{offset:.43,stopColor:"#6a90fc"}),(0,i.jsx)("stop",{offset:.74,stopColor:"#5b84f6"}),(0,i.jsx)("stop",{offset:1,stopColor:"#5680f4"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-7",x1:-96.32,y1:138.47,x2:-101.4,y2:109.82,gradientTransform:"scale(-1 1) rotate(14.5 27.61 -552.62)",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:0,stopColor:"#4572ee"}),(0,i.jsx)("stop",{offset:1,stopColor:"#7196ff"})]}),(0,i.jsx)("linearGradient",{id:"linear-gradient-8",x1:-39.5,y1:59.37,x2:-44.66,y2:30.24,gradientTransform:"matrix(-.98 .17 .17 .98 119.49 49.25)",xlinkHref:"#linear-gradient-7"}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-9",x1:299.25,y1:167.71,x2:244.21,y2:161.69,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:.32,stopColor:"#4572f0"}),(0,i.jsx)("stop",{offset:.52,stopColor:"#4d79f3"}),(0,i.jsx)("stop",{offset:.84,stopColor:"#638bfa"}),(0,i.jsx)("stop",{offset:1,stopColor:"#7196ff"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-10",x1:423.96,y1:48.35,x2:363.72,y2:139.3,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:.45,stopColor:"#ffe75c"}),(0,i.jsx)("stop",{offset:1,stopColor:"#ff8c19"})]}),(0,i.jsx)("style",{children:".cls-3{fill:#ff78b9}.cls-6{fill:#ed5f00}.cls-12{fill:#7196ff}.cls-16{fill:#b6cbff}.cls-18{fill:#7fa0ff}.cls-21{fill:#5783ff}.cls-24{fill:#8e99a5}"})]}),(0,i.jsx)("path",{d:"M391.43 240.7a19.35 19.35 0 0 1-8.76-13.59l-1.46-9.49a1 1 0 0 0-.31-.59.85.85 0 0 0-1.24 0 1 1 0 0 0-.31.59l-1.45 9.49a19.66 19.66 0 0 1-8.76 13.59l-1.26.79a.92.92 0 0 0-.3.35.9.9 0 0 0-.1.45.87.87 0 0 0 .1.45.92.92 0 0 0 .3.35l1.26.79a19.71 19.71 0 0 1 8.76 13.6l1.45 9.48a1 1 0 0 0 .32.57 1 1 0 0 0 1.23 0 .93.93 0 0 0 .31-.57l1.46-9.48a19.34 19.34 0 0 1 8.76-13.6l1.26-.79a1 1 0 0 0 .3-.35 1 1 0 0 0 .1-.45 1 1 0 0 0-.4-.8Z",style:{fill:"#57f287"}}),(0,i.jsx)("path",{d:"M79.4 119.28a19.34 19.34 0 0 1-8.76-13.6l-1.46-9.48a1 1 0 0 0-.31-.6.87.87 0 0 0-1.24 0 1.06 1.06 0 0 0-.31.6l-1.45 9.48a19.71 19.71 0 0 1-8.76 13.6l-1.26.79a.92.92 0 0 0-.3.35.87.87 0 0 0-.1.45.9.9 0 0 0 .1.45.83.83 0 0 0 .3.34l1.26.8a19.66 19.66 0 0 1 8.76 13.59l1.45 9.48a1 1 0 0 0 .32.58 1 1 0 0 0 1.23 0 .92.92 0 0 0 .31-.58l1.46-9.48a19.49 19.49 0 0 1 2.89-7.75 19.24 19.24 0 0 1 5.87-5.84l1.26-.8a.83.83 0 0 0 .3-.34 1 1 0 0 0 .1-.45 1 1 0 0 0-.1-.45.92.92 0 0 0-.3-.35Z",style:{fill:"#8cd9ff"}}),(0,i.jsx)("path",{className:"cls-3",d:"M424.29 277.52a13.59 13.59 0 0 1-4.15-4.12 13.85 13.85 0 0 1-2-5.48l-1-6.69a.66.66 0 0 0-1.31 0l-1 6.69a13.88 13.88 0 0 1-6.18 9.6l-.9.56a.72.72 0 0 0-.21.25.71.71 0 0 0-.07.32.68.68 0 0 0 .28.56l.9.56a13.88 13.88 0 0 1 6.18 9.6l1 6.7a.64.64 0 0 0 .22.4.67.67 0 0 0 .87 0 .64.64 0 0 0 .22-.4l1-6.7a13.85 13.85 0 0 1 2-5.48 13.7 13.7 0 0 1 4.15-4.12l.89-.56a.68.68 0 0 0 .28-.56.71.71 0 0 0-.07-.32.72.72 0 0 0-.21-.25ZM312.67 50.64a13.7 13.7 0 0 1-4.14-4.13 13.46 13.46 0 0 1-2-5.47l-1-6.7a.75.75 0 0 0-.22-.42.6.6 0 0 0-.88 0 .69.69 0 0 0-.22.42l-1 6.7a13.84 13.84 0 0 1-6.18 9.6l-.89.56a.69.69 0 0 0-.21.24.77.77 0 0 0 0 .64.61.61 0 0 0 .21.24l.89.57a13.79 13.79 0 0 1 6.18 9.6l1 6.69a.73.73 0 0 0 .23.41.69.69 0 0 0 .86 0 .73.73 0 0 0 .23-.41l1-6.69a13.65 13.65 0 0 1 6.18-9.6l.89-.57a.61.61 0 0 0 .21-.24.77.77 0 0 0 0-.64.69.69 0 0 0-.21-.24Z"}),(0,i.jsx)("path",{d:"M117 223.15s27.1-4.4 40.07 12.51 18.76 54.19-27.79 56.74c0 0 6.25-3.94 7.41-14.82 0 0-26.64 26.86-60.68 6.25 0 0 9-4.56 16.68-29.87C99.58 231.38 127 233.8 127 233.8s-2.6-5.55-10-10.65Z",style:{fill:"#eb459f"}}),(0,i.jsx)("path",{className:"cls-3",d:"M126.3 258.49s21.35-38.36 36.1-21.1c12.3 14.39 1.6 29.8-36.1 21.1Z"}),(0,i.jsx)("path",{d:"M140.49 210.84a39.73 39.73 0 0 1 36.29 70.69l-.24.12L140.25 211Z",style:{fill:"url(#linear-gradient)"}}),(0,i.jsx)("path",{className:"cls-6",d:"M185.46 233.56a1.25 1.25 0 1 0-1.08-2.25l-27 13 1.14 2.22ZM146.66 223.45c7.56-2.8 21.64-6.61 35.13-2.62a1.25 1.25 0 0 0 .71-2.4c-14.5-4.28-29.23-.2-37 2.75ZM193.82 240.23a1.25 1.25 0 0 0-2.41-.69c-4 14-15.42 24.07-21.73 28.74l1.17 2.28c6.51-4.72 18.63-15.19 22.97-30.33Z"}),(0,i.jsx)("path",{d:"M272.84 128.72c7.42.14 15.65-.7 25.48-1.7a9.76 9.76 0 1 0-2-19.41c-16.47 1.68-25.41 2.46-32.79.33-7.11-2-14.09-7.29-25.76-19.35a9.76 9.76 0 1 0-14 13.57c12.12 12.52 22.1 21 34.38 24.53a56.21 56.21 0 0 0 14.69 2.03Z",style:{fill:"url(#linear-gradient-2)"}}),(0,i.jsx)("path",{d:"M213.51 175.69 180.61 154a69.42 69.42 0 0 0-48.86-10.64l-14 2.17a4.88 4.88 0 0 0-2.09 8.78l51.53 36.94Z",style:{fill:"url(#linear-gradient-3)"}}),(0,i.jsx)("path",{d:"M247.56 242 246 281.4a69.31 69.31 0 0 1-19.83 45.9l-9.9 10.08a4.88 4.88 0 0 1-8.35-3.42v-63.41Z",style:{fill:"url(#linear-gradient-4)"}}),(0,i.jsx)("path",{d:"m195.12 271.32-35.64-69.44a6.69 6.69 0 0 1 2.89-9l172.52-88.56s35.91-16.82 74.81 4.87a13 13 0 0 1 6.63 12.81c-4.86 41.79-39.68 63.62-39.68 63.62l-172.52 88.6a6.69 6.69 0 0 1-9.01-2.9Z",style:{fill:"url(#linear-gradient-5)"}}),(0,i.jsx)("circle",{cx:311.18,cy:167.88,r:30.46}),(0,i.jsx)("path",{className:"cls-6",d:"M311.22 200.86a33 33 0 1 1 15-3.66 33 33 0 0 1-15 3.66Zm-.09-60.94a28 28 0 1 0 24.93 15.19 27.82 27.82 0 0 0-24.93-15.19Z"}),(0,i.jsx)("path",{d:"M213.42 126c7-3.71 14.22-8.75 22.86-14.78a10.4 10.4 0 1 0-11.9-17C209.9 104.24 202 109.6 194 111.44c-7.69 1.78-16.91.51-34-4.69a10.4 10.4 0 0 0-6 19.9c17.77 5.4 31.46 8.12 44.74 5a59.84 59.84 0 0 0 14.68-5.65Z",style:{fill:"url(#linear-gradient-6)"}}),(0,i.jsx)("path",{className:"cls-12",d:"M261.69 121.31c-2.89-11.31-5-17.25-13.46-28.37l-46.85 10.53c-1.67 25.92-6.72 34.81-5.67 43.93.83 7.25 8.38 18.18 23 18.42s21.94-9 32.9-16.55 12.55-18.27 10.08-27.96Z"}),(0,i.jsx)("path",{d:"M192.19 32.35c-12.59 2.17-3 15.4.4 18l29.55-7.24c-18.83-1.33-20.14-12.46-29.95-10.76Z",style:{fill:"#55ef84"}}),(0,i.jsx)("path",{d:"M205.44 47.31a1.23 1.23 0 0 1-.9-.38c-.14-.15-15-15.27-25.26-12.12a1.25 1.25 0 1 1-.73-2.39c11.73-3.59 27.14 12.1 27.79 12.77a1.25 1.25 0 0 1 0 1.77 1.27 1.27 0 0 1-.9.35Z"}),(0,i.jsx)("path",{d:"M230.71 38.82c8.19-3.11 15.33-22.12 1.67-26.55a15.5 15.5 0 0 0-8.25-.24c-22.91 5.18-6.34 30.84-25.54 35.31Z",style:{fill:"#47c26e"}}),(0,i.jsx)("path",{d:"M217.22 46.26a1.26 1.26 0 0 1-1.12-.7 1.24 1.24 0 0 1 .56-1.67c10.32-5.15 10.89-20.58 10.89-20.74a1.23 1.23 0 0 1 1.29-1.21 1.24 1.24 0 0 1 1.21 1.28c0 .7-.6 17.09-12.28 22.91a1.23 1.23 0 0 1-.55.13Z"}),(0,i.jsx)("path",{d:"M253.05 45.91c12-1.77 15.64-3.67 18.58 16 2.73 17.52.16 16.89-14 18.91Z",style:{fill:"url(#linear-gradient-7)"}}),(0,i.jsx)("path",{className:"cls-16",d:"M255.39 50c8.39-1.24 11.08-4.17 13 11.17 1.55 12.32.11 11.83-9.82 13.24Z"}),(0,i.jsx)("path",{className:"cls-12",d:"M194.32 38.29h43.29A25.74 25.74 0 0 1 263.35 64v20.2a20.59 20.59 0 0 1-20.59 20.59h-50.49a20.59 20.59 0 0 1-20.59-20.59V60.93a22.64 22.64 0 0 1 22.64-22.64Z",transform:"matrix(-.99 .17 -.17 -.99 443.95 105.64)"}),(0,i.jsx)("ellipse",{cx:191.65,cy:67.44,rx:4.15,ry:4.98,transform:"rotate(-10.19 191.598 67.447)"}),(0,i.jsx)("path",{className:"cls-16",d:"M215.13 55.86h20.38a13.26 13.26 0 0 1 13.26 13.26v7.29a9.45 9.45 0 0 1-9.45 9.45h-28a9.45 9.45 0 0 1-9.45-9.45v-7.29a13.26 13.26 0 0 1 13.26-13.26Z",transform:"rotate(170.35 225.325 70.857)"}),(0,i.jsx)("ellipse",{cx:253.68,cy:56.65,rx:4.15,ry:4.98,transform:"rotate(-10.19 253.608 56.64)"}),(0,i.jsx)("path",{d:"M213.51 92.38a49.86 49.86 0 0 1-7.2-1.71 1.22 1.22 0 0 0-1.52 1.55c1.48 4.27 5.12 12 9.63 1.86a1.21 1.21 0 0 0-.91-1.7Z"}),(0,i.jsx)("path",{d:"M213.09 96.62c-3.15 4.93-5.76 1.52-7.35-2a6.39 6.39 0 0 1 7.35 2Z",style:{fill:"#ff78b7"}}),(0,i.jsx)("rect",{className:"cls-18",x:215.56,y:78.58,width:12.43,height:3.55,rx:1.76,transform:"rotate(-9.66 221.695 80.354)"}),(0,i.jsx)("rect",{className:"cls-18",x:230.95,y:76.24,width:10.55,height:3.55,rx:1.78,transform:"rotate(-9.66 236.196 78.003)"}),(0,i.jsx)("path",{d:"M173.25 59c-13.14 2.31-17.43 1.63-14.12 21.19 2.85 17.5 6.11 15.93 20.21 13.43Z",style:{fill:"url(#linear-gradient-8)"}}),(0,i.jsx)("path",{className:"cls-16",d:"m173.44 62.83 4.77 24.7c-11.86 1.86-11.85 1.07-14.43-12.24-2.09-10.82.33-11.04 9.66-12.46Z"}),(0,i.jsx)("path",{d:"M230 137.26c31.47-9.59 39-.5 34.65 26.87-2.18 13.85-1.83 27.21-14.49 27-19.91-.34-12.71-17.14-12.14-32.18 0 0-6.33 1.33-11.61 2.24s-10.13-3.45-9.21-11.85 6.58-10.19 12.8-12.08Z",style:{fill:"url(#linear-gradient-9)"}}),(0,i.jsx)("path",{className:"cls-21",d:"M228.51 138.45a1.25 1.25 0 0 1-.51-2.39 42.25 42.25 0 0 1 17.69-3.33 1.27 1.27 0 0 1 1.24 1.27 1.25 1.25 0 0 1-1.25 1.23 39.77 39.77 0 0 0-16.68 3.11 1.34 1.34 0 0 1-.49.11ZM239.23 158a1.2 1.2 0 0 1-.74-.25 1.25 1.25 0 0 1-.26-1.75l5-6.65a1.25 1.25 0 1 1 2 1.49l-5 6.65a1.27 1.27 0 0 1-1 .51ZM199.73 132.31a1.26 1.26 0 0 1-1.17-.8 1.25 1.25 0 0 1 .72-1.62l9.07-3.51a1.25 1.25 0 1 1 .91 2.33l-9.08 3.51a1.2 1.2 0 0 1-.45.09Z"}),(0,i.jsx)("path",{d:"M409.7 109.18c-38.9-21.69-74.81-4.87-74.81-4.87l19.56 38.11 22.2 43.24s34.82-21.83 39.68-63.62a13 13 0 0 0-6.63-12.86Z",style:{fill:"url(#linear-gradient-10)"}}),(0,i.jsx)("ellipse",{cx:367.61,cy:110.41,rx:12.8,ry:5.19,style:{fill:"#fff"}}),(0,i.jsx)("path",{className:"cls-24",d:"m281.46 220.54-56.2 28.63a12.69 12.69 0 0 0-5.55 17.06L298.15 226a12.41 12.41 0 0 0-16.69-5.46ZM242.5 229.16a5.34 5.34 0 0 0-10 3.54l-4.21 2.09a5.36 5.36 0 1 0 1.1 2.24l4.22-2.09a5.27 5.27 0 0 0 2.38 1.65 5.25 5.25 0 0 0 4.08-.27 5.35 5.35 0 0 0 2.42-7.16Zm-17 11.59a2.84 2.84 0 1 1-2.53-5.09 2.81 2.81 0 0 1 1.26-.3 2.91 2.91 0 0 1 .92.15 2.78 2.78 0 0 1 1.63 1.43 2.84 2.84 0 0 1-1.31 3.81Zm13.5-6.67a2.78 2.78 0 0 1-2.17.14 2.84 2.84 0 1 1 2.17-.14Z"})]})},496616:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),l=n(153867),s=n(468026),r=n(740492),o=n(689938);function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=t=>{l.ZP.updatedUnsyncedSettings({disableEmbeddedActivityPopOutAlert:!0}),t(),e()};r.ZP.disableEmbeddedActivityPopOutAlert?e():(0,a.openModal)(a=>(0,i.jsx)(s.default,{confirmText:o.Z.Messages.EMBEDDED_ACTIVITIES_YEP,secondaryConfirmText:o.Z.Messages.DONT_ASK_AGAIN,title:o.Z.Messages.EMBEDDED_ACTIVITIES_CAREFUL,cancelText:o.Z.Messages.EMBEDDED_ACTIVITIES_NVM,onConfirm:()=>{a.onClose(),e()},onCancel:t,onConfirmSecondary:()=>n(a.onClose),body:o.Z.Messages.EMBEDDED_ACTIVITIES_POP_IN_WARNING,...a}),{},a.POPOUT_MODAL_CONTEXT)}},587100:function(e,t,n){var i=n(818083);t.Z=(0,i.B)({kind:"user",id:"2023-03_apps_in_gdms",label:"Apps in GDMs",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Show apps in gdm",config:{enabled:!0}}]})},512751:function(e,t,n){n.d(t,{o:function(){return s}});var i=n(399606),a=n(592125),l=n(587100);function s(e){let t=(0,i.e7)([a.Z],()=>a.Z.getChannel(e)),{enabled:n}=l.Z.useExperiment({location:"baec9c_1"});return n&&function(e){return null!=e&&(!!e.isMultiUserDM()||!!e.isDM()&&!e.isSystemDM()&&null==e.rawRecipients.find(e=>e.bot))}(t)}},963876:function(e,t,n){var i=n(570140);t.Z={setCallChatToastsEnabled(e,t){i.Z.dispatch({type:"CALL_CHAT_TOASTS_SET_ENABLED",channelId:e,toastsEnabled:t})}}},394059:function(e,t,n){var i,a;n.d(t,{K:function(){return i}}),(a=i||(i={}))[a.STREAM=0]="STREAM",a[a.VIDEO=1]="VIDEO"},628581:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(689938);function a(e,t,n,a){return a?i.Z.Messages.CONSOLE_CONNECTING_DISABLED:n?i.Z.Messages.SUPPRESSED:t?i.Z.Messages.SERVER_MUTED_DIALOG_TITLE:e?i.Z.Messages.UNMUTE_ALT:i.Z.Messages.MUTE_ALT}},984014:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(442837),a=n(872810),l=n(199902),s=n(314897);function r(e,t){let n=(0,i.e7)([s.default],()=>s.default.getId()),r=(0,i.e7)([l.Z],()=>{let t=l.Z.getCurrentUserActiveStream();return null!=t&&t.channelId===e},[e]),o=(0,i.e7)([l.Z],()=>l.Z.isSelfStreamHidden(e),[e]);return[(null==t||t===n)&&r,o,t=>{(0,a.pR)(e,t)}]}},27584:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(442837),a=n(846027),l=n(314897),s=n(131951),r=n(981631),o=n(65154);function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Yn.DEFAULT,n=(0,i.e7)([l.default],()=>l.default.getId()),c=(0,i.e7)([s.Z],()=>s.Z.supports(o.AN.DISABLE_VIDEO)&&s.Z.isVideoEnabled()),u=(0,i.e7)([s.Z],()=>s.Z.isLocalVideoDisabled(n,t),[n,t]),d=null==e||e===n;return[d&&(c||u),u,e=>{let i=e?r.ZUi.DISABLED:r.ZUi.MANUAL_ENABLED;a.Z.setDisableLocalVideo(n,i,t)}]}},887012:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(822183),a=n(641015);function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,a.Z)(e),{isSharedCanvasEnabled:l}=i.Z.useExperiment({guildId:e.guild_id,location:"6b64ff_1"},{autoTrackExposure:t});return n||l}},659580:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var i=n(735250);n(470079);var a=n(481060),l=n(410575),s=n(821564),r=n(453925),o=n(632304),c=n(947150),u=n(488021),d=n(822556),h=n(981631),p=n(689938),m=n(528242);function _(e){let{onClose:t,renderOutputDevices:n=!1,renderInputDevices:_=!1,renderInputModes:f=!1,renderInputVolume:E=!1,renderOutputVolume:g=!1,onSelect:C}=e,I=(0,d.Z)(),x=(0,c.Z)(),T=(0,u.Z)(),N=(0,s.Z)(),v=(0,r.Z)(),S=(0,o.Z)();return(0,i.jsx)(l.Z,{object:h.qAy.CONTEXT_MENU,children:(0,i.jsxs)(a.Menu,{onSelect:C,className:m.menu,onClose:t,navId:"audio-device-context","aria-label":p.Z.Messages.AUDIO_DEVICE_ACTIONS,children:[_?(0,i.jsx)(a.MenuGroup,{label:p.Z.Messages.INPUT_DEVICE,children:x}):null,n?(0,i.jsx)(a.MenuGroup,{label:p.Z.Messages.OUTPUT_DEVICE,children:T}):null,f?(0,i.jsx)(a.MenuGroup,{label:p.Z.Messages.FORM_LABEL_INPUT_MODE,children:N}):null,(0,i.jsxs)(a.MenuGroup,{children:[E?v:null,g?S:null,I]})]})})}},677601:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(512722),o=n.n(r),c=n(442837),u=n(704215),d=n(846519),h=n(481060),p=n(570140),m=n(475179),_=n(239091),f=n(287734),E=n(872810),g=n(153867),C=n(944543),I=n(410575),x=n(393238),T=n(110924),N=n(40851),v=n(115130),S=n(317381),Z=n(596040),A=n(296797),M=n(349619),b=n(100527),R=n(367907),j=n(906732),L=n(211644),P=n(258609),O=n(446226),y=n(276598),D=n(569545),k=n(382182),U=n(788983),w=n(928518),B=n(703656),H=n(740492),G=n(793319),V=n(3861),F=n(493754),W=n(937995),z=n(618158),Y=n(880831),K=n(73563),q=n(751843),X=n(616286),Q=n(268353),J=n(786915),$=n(800965),ee=n(107169),et=n(891551),en=n(488785),ei=n(199902),ea=n(314897),el=n(979696),es=n(523746),er=n(430824),eo=n(496675),ec=n(306680),eu=n(944486),ed=n(594174),eh=n(979651),ep=n(285952),em=n(626135),e_=n(934415),ef=n(585483),eE=n(358085),eg=n(792125),eC=n(998502),eI=n(228488),ex=n(358221),eT=n(414910),eN=n(887012),ev=n(909820),eS=n(493010),eZ=n(742603),eA=n(221888),eM=n(900211),eb=n(18759),eR=n(878752),ej=n(354459),eL=n(981631),eP=n(689938),eO=n(549321);function ey(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let eD={[eL.AEg.NORMAL]:eO.normal,[eL.AEg.MINIMUM]:eO.minimum,[eL.AEg.NO_CHAT]:eO.noChat,[eL.AEg.FULL_SCREEN]:eO.fullScreen},ek={[eL.IlC.POPOUT]:eO.popout,[eL.IlC.APP]:null,[eL.IlC.OVERLAY]:null};class eU extends a.PureComponent{getRootNode(){var e,t;return(null!==(t=null===(e=this.props.popoutWindow)||void 0===e?void 0:e.window)&&void 0!==t?t:window).document.getElementById("app-mount")}componentDidMount(){let{channel:e,layout:t}=this.props;this.currentDocument.addEventListener(eI.NO,this.handleFullScreenChange),em.default.track(eL.rMx.VIDEO_LAYOUT_TOGGLED,{video_layout:this.inPopout?"popout":t,...(0,R.AB)(e.id)})}componentWillUnmount(){this._videoBackgroundTooltipTimeout.stop(),this.currentDocument.removeEventListener(eI.NO,this.handleFullScreenChange),!(this.inPopout&&(0,eE.isMac)())&&this.maybeLeaveFullScreen()}componentDidUpdate(e){let{participantsOpen:t,inCall:n,mode:i,layout:a}=this.props,l=this.getRootNode();if(null!=l&&e.mode===eL.WtW.VIDEO&&i===eL.WtW.VOICE&&(0,eI.rB)(l,this.currentDocument)&&(0,eI.Pr)(l,this.currentDocument),e.participantsOpen!==t||a!==e.layout){var s;null===(s=this._contentRef.current)||void 0===s||s.triggerResize()}e.inCall&&!n&&this.inPopout&&p.Z.wait(()=>this.handleClosePopout())}get nativePopoutSupported(){return eE.isPlatformEmbedded&&eC.ZP.supportsFeature(eL.eRX.POPOUT_WINDOWS)}get popoutSupported(){return!eE.isPlatformEmbedded||this.nativePopoutSupported}get popoutOpen(){let{popoutWindow:e}=this.props;return null!=e&&!e.closed}get currentDocument(){let{popoutWindow:e}=this.props;return null!=e&&this.popoutOpen&&this.inPopout?e.document:document}get screenMessage(){return this.popoutOpen&&!this.inPopout&&this.props.inCall?{mainText:eP.Z.Messages.POPOUT_PLAYER_OPENED}:null}get paused(){return this.popoutOpen&&!this.inPopout}get inPopout(){return this.props.appContext===eL.IlC.POPOUT}get viewProperties(){let{layout:e,mode:t,channel:n,inCall:i}=this.props,a=t===eL.WtW.VIDEO&&i&&!(this.popoutOpen&&!this.inPopout),l=t===eL.WtW.VIDEO&&i&&this.popoutSupported,s=t!==eL.WtW.VOICE&&n.isPrivate()&&!this.inPopout&&i,r=n.type===eL.d4z.GUILD_VOICE,o=e===eL.AEg.MINIMUM||e===eL.AEg.NORMAL,c=this.inPopout&&this.nativePopoutSupported,u={renderHeader:!0,useTheme:!1,useExternalHeader:o,canInvite:r,canPopout:l,canFullscreen:a,canSelectRegion:n.isPrivate()&&!n.isBroadcastChannel(),canChangeLayout:s,canStayOnTop:c};if(!i)return{...u,canFullscreen:a,useTheme:!0};switch(e){case eL.AEg.FULL_SCREEN:return{...u,canPopout:!this.inPopout&&this.popoutOpen&&u.canPopout};case eL.AEg.MINIMUM:return{...u,canPopout:!1,useTheme:!0};case eL.AEg.NO_CHAT:case eL.AEg.NORMAL:return{...u}}}renderContent(e){var t;let{selectedParticipant:n,inCall:a,hasConnectPermission:l,mode:s,popoutWindow:r,participantsOpen:o,participants:c,filteredParticipants:u,participantsVersion:d,channel:h,guild:p,layout:m,forceShowControls:_,awaitingRemoteSessionInfo:f,currentChannelActivities:E}=this.props,g=m===eL.AEg.MINIMUM,C=g||m===eL.AEg.NORMAL,I=a&&s===eL.WtW.VIDEO,x=(null!==(t=null==E?void 0:E.length)&&void 0!==t?t:0)>0&&h.isPrivate();return this._lastIdleProps=e,(0,i.jsx)(K.Z,{renderHeader:this.renderHeader,renderBottomLeft:this.renderBottomLeft,renderBottomCenter:this.renderBottomCenter,renderBottomRight:this.renderBottomRight,renderChatButton:h.isGuildVoice()?this.renderChatButton:void 0,renderChatToasts:h.isGuildVoice()?this.renderChatToasts:void 0,renderVoiceChannelEffects:this.renderVoiceChannelEffects,...e,screenMessage:this.screenMessage,disableGradients:g,idle:!_&&a&&!g&&e.idle,children:a&&this.popoutOpen&&!this.inPopout?null:(0,i.jsx)(V.Z,{ref:this._contentRef,inCall:a,paused:this.paused,channel:h,hasConnectPermission:l,guild:p,participants:c,filteredParticipants:u,participantsVersion:d,selectedParticipant:I?n:null,layout:m,idle:e.idle,mode:s,onSelectParticipant:this.handleSelectParticipant,onContextMenuParticipant:this.handleContextMenu,showParticipants:o&&(!C||x),popoutWindow:this.inPopout?r:null,awaitingRemoteSessionInfo:f})})}render(){let{layout:e,channel:t,guild:n,mode:a,chatOpen:l,appContext:r,maxSidebarWidth:o,maxHeight:c,inCall:u}=this.props,{resizedHeight:d}=this.state,h=a===eL.WtW.VIDEO,p=e!==eL.AEg.NO_CHAT&&e!==eL.AEg.FULL_SCREEN&&null!=c;return(0,i.jsxs)("div",{className:s()(eO.wrapper,eD[e],ek[r],{[eO.poppedOut]:this.popoutOpen&&!this.inPopout&&e!==eL.AEg.NO_CHAT&&t.isPrivate(),[eO.video]:h,[eO.chatSidebarOpen]:l}),ref:e=>{this._wrapperRef.current=e,this.props.wrapperRef.current=e},style:p&&null!=d?{minHeight:230,maxHeight:c,height:d}:void 0,children:[(0,i.jsx)("div",{className:s()(eO.callContainer,{[(0,eg.Q)(eL.BRd.DARK)]:h}),ref:e=>{this._callContainerRef.current=e,this.props.callContainerRef.current=e},children:(0,i.jsx)(W.ZP,{timeout:2e3,children:e=>this.renderContent(e)})}),p&&(0,i.jsx)(eM.Z,{minHeight:230,maxHeight:c,resizableNode:this._wrapperRef,onResize:this.handleCallResize,onResizeEnd:this.props.updateStoredCallHeaderHeight}),(0,i.jsx)("div",{className:eO.channelChatWrapper,ref:e=>{this._channelChatRef.current=e,this.props.channelChatRef.current=e},children:l&&(!u||!this.popoutOpen||this.inPopout)&&(0,i.jsx)(eS.Z,{channel:t,guild:n,maxWidth:o})})]})}constructor(...e){super(...e),ey(this,"_prevLayout",eL.AEg.MINIMUM),ey(this,"_wrapperRef",a.createRef()),ey(this,"_callContainerRef",a.createRef()),ey(this,"_channelChatRef",a.createRef()),ey(this,"_contentRef",a.createRef()),ey(this,"_videoBackgroundTooltipTimeout",new d.V7),ey(this,"_lastIdleProps",null),ey(this,"state",{resizedHeight:H.ZP.callHeaderHeight}),ey(this,"handleFullScreenChange",()=>{let e=this.getRootNode();null!=e&&!(0,eI.rB)(e,this.currentDocument)&&this.props.layout===eL.AEg.FULL_SCREEN&&this.handleFullScreen()}),ey(this,"handleFullScreen",()=>{let e=this.getRootNode();null!=e&&(this.props.layout!==eL.AEg.FULL_SCREEN?(this._prevLayout=this.props.layout,this.handleChangeLayout(eL.AEg.FULL_SCREEN),(0,eI.Dj)(e)):this.maybeLeaveFullScreen())}),ey(this,"maybeLeaveFullScreen",()=>{let e=this.getRootNode();if(null!=e)this.props.layout===eL.AEg.FULL_SCREEN&&(this.handleChangeLayout(this._prevLayout),(0,eI.Pr)(e,this.currentDocument))}),ey(this,"handleToggleLayout",()=>{this.handleChangeLayout(this.props.layout===eL.AEg.NORMAL?eL.AEg.NO_CHAT:eL.AEg.NORMAL)}),ey(this,"handleChangeLayout",e=>{let{channel:t,appContext:n,layout:i}=this.props;i!==e&&(m.Z.updateLayout(t.id,e,n),e===eL.AEg.FULL_SCREEN&&t.isPrivate()&&ef.S.dispatch(eL.CkL.TEXTAREA_BLUR))}),ey(this,"handleDisconnect",()=>{this.props.layout===eL.AEg.FULL_SCREEN&&this.handleFullScreen()}),ey(this,"handleContextMenu",(e,t)=>{var a,l;let{channel:s,appContext:r,layout:c}=this.props,u={onClose:()=>{var e;return null===(e=this._lastIdleProps)||void 0===e?void 0:e.onAllowIdle("menu")},context:r};switch(null===(a=this._lastIdleProps)||void 0===a||a.onPreventIdle("menu"),null===(l=this._lastIdleProps)||void 0===l||l.onActive(),e.type){case ej.fO.HIDDEN_STREAM:case ej.fO.STREAM:(0,_.jW)(t,async()=>{let{default:t}=await n.e("22183").then(n.bind(n,987281));return n=>(0,i.jsx)(t,{...n,stream:e.stream,exitFullscreen:this.maybeLeaveFullScreen,appContext:r})},u);return;case ej.fO.USER:let d=ed.default.getUser(e.id);if(null!=d)switch(s.type){case eL.d4z.DM:return(0,_.jW)(t,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("22036"),n.e("56826"),n.e("4793")]).then(n.bind(n,131404));return t=>(0,i.jsx)(e,{...t,showChannelCallItems:!0,showMediaItems:!0,user:d,channel:s,showModalItems:!0})},u);case eL.d4z.GROUP_DM:return(0,_.jW)(t,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("60677"),n.e("84979")]).then(n.bind(n,354589));return t=>(0,i.jsx)(e,{...t,showChannelCallItems:!0,showMediaItems:!0,showChatItems:c===eL.AEg.MINIMUM||c===eL.AEg.NORMAL,user:d,channel:s,showModalItems:!0})},u);case eL.d4z.GUILD_VOICE:let h=s.getGuildId();return o()(null!=h,"GuildID null for guild voice channel"),(0,_.jW)(t,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("12435"),n.e("47195")]).then(n.bind(n,757387));return t=>(0,i.jsx)(e,{...t,showMediaItems:!0,showChannelCallItems:!0,showChatItems:!1,user:d,channel:s,guildId:h,showModalItems:!0})},u)}}}),ey(this,"handleCallResize",e=>{this.setState({resizedHeight:e})}),ey(this,"handleSelectParticipant",(e,t)=>{let{channel:n,selectedParticipant:i,allActiveStreams:a,inCall:l,mode:s}=this.props;(0,ej._5)(e)&&(0,k.p9)(n,eh.Z,er.Z,eo.Z,P.Z)[0]&&(f.default.selectVoiceChannel(n.id),0===a.filter(t=>(0,D.V9)(t)===e.id&&t.state!==eL.jm8.ENDED).length&&(0,E.rn)((0,D.my)(e.id),{forceMultiple:t.shiftKey})),l&&s===eL.WtW.VIDEO&&((null==i?void 0:i.id)===e.id?m.Z.selectParticipant(n.id,null):m.Z.selectParticipant(n.id,e.id))}),ey(this,"handleOpenPopout",()=>{let{channel:e,connectedToEmbeddedActivity:t}=this.props,n=()=>{let t=e.getGuildId();null!=t&&(0,B.uL)((0,e_.LY)(t)),U.hP(e)};t?(0,M.Z)(n):n()}),ey(this,"handleStayOnTop",e=>{U.hY(eL.KJ3.CHANNEL_CALL_POPOUT,e)}),ey(this,"handleClosePopout",()=>{U.xv(eL.KJ3.CHANNEL_CALL_POPOUT)}),ey(this,"handleFullscreenParticipant",(e,t)=>{let{layout:n,selectedParticipant:i}=this.props,a=n===eL.AEg.FULL_SCREEN;(!a&&(null==i?void 0:i.id)!==e.id||a&&(null==i?void 0:i.id)===e.id)&&this.handleSelectParticipant(e,t),this.handleFullScreen()}),ey(this,"renderRegionSelect",()=>{let e;let{call:t,channel:n,layout:a}=this.props;return!this.inPopout&&a!==eL.AEg.FULL_SCREEN&&null!=t&&!n.isManaged()&&(e=(0,i.jsx)(C.Z,{call:t})),(0,i.jsx)(ep.Z,{justify:ep.Z.Justify.END,children:e})}),ey(this,"renderBottomCenter",()=>{let{channel:e,inCall:t,layout:n}=this.props;return t||n===eL.AEg.MINIMUM||n===eL.AEg.NORMAL?(0,i.jsx)(G.ZP,{exitFullScreen:this.maybeLeaveFullScreen,channel:e,onDisconnectCall:this.handleDisconnect,idleProps:this._lastIdleProps}):null}),ey(this,"renderBottomLeft",()=>{let{layout:e,mentionCount:t,channel:n,appContext:a,useNewInviteButton:l,selectedParticipant:r,shouldUseVoiceEffectsActionBar:o,inCall:c,participants:u}=this.props;if(!c)return null;let d=e===eL.AEg.NO_CHAT?q.Z.Directions.UP:q.Z.Directions.DOWN,p=[eL.AEg.FULL_SCREEN,eL.AEg.NO_CHAT].includes(e),m=u.some(e=>e.type===ej.fO.STREAM),_=e===eL.AEg.FULL_SCREEN?()=>{this._prevLayout=eL.AEg.NORMAL,this.handleFullScreen()}:this.handleToggleLayout,{canChangeLayout:f,canInvite:E}=this.viewProperties,g=l?(0,i.jsx)(F.Z,{channel:n,stream:(null==r?void 0:r.type)===ej.fO.STREAM?(0,D.my)(r.id):void 0,applicationId:(null==r?void 0:r.type)===ej.fO.ACTIVITY?r.id:void 0,appContext:a,className:eO.leftTrayIcon,exitFullScreen:this.maybeLeaveFullScreen,analyticsLocation:n.type===eL.d4z.GUILD_VOICE?eL.ZY5.GUILD_CHANNEL:eL.ZY5.DM_CHANNEL}):(0,i.jsx)(J.Z,{channel:n,stream:(null==r?void 0:r.type)===ej.fO.STREAM?(0,D.my)(r.id):void 0,className:eO.leftTrayIcon,exitFullScreen:this.maybeLeaveFullScreen,analyticsLocation:n.type===eL.d4z.GUILD_VOICE?eL.ZY5.GUILD_CHANNEL:eL.ZY5.DM_CHANNEL});return(0,i.jsxs)(i.Fragment,{children:[E&&!o?g:null,f?(0,i.jsxs)(ep.Z,{className:eO.iconWrapper,align:ep.Z.Align.CENTER,grow:0,children:[(0,i.jsx)(q.Z,{label:p?eP.Z.Messages.SHOW_CHAT:eP.Z.Messages.HIDE_CHAT,direction:d,className:eO.leftTrayIcon,onClick:_}),p&&t>0?(0,i.jsx)(h.NumberBadge,{className:eO.badge,count:t}):null]}):null,(null==r?void 0:r.type)!==ej.fO.STREAM&&(null==r?void 0:r.type)!==ej.fO.ACTIVITY||o?null:(0,i.jsx)(z.Z,{children:(0,i.jsx)(eA.Z,{className:s()(eO.leftTrayIcon,eO.viewersButton),participant:r,maxVisibleUsers:4,guildId:n.getGuildId(),channelId:n.id,disableInteraction:this.inPopout||e===eL.AEg.FULL_SCREEN})}),o&&(0,i.jsx)(eR.Z,{channel:n,hasActiveStream:m,themeable:this.viewProperties.useTheme}),(0,i.jsx)(y.Z,{showLeftDivider:o,themeable:this.viewProperties.useTheme,className:eO.leftTrayIcon,channel:n})]})}),ey(this,"renderBottomRight",()=>{let{popoutWindow:e,popoutWindowAlwaysOnTop:t,currentUserId:n,selectedParticipant:a}=this.props,{canFullscreen:l,canStayOnTop:s,canPopout:r,useTheme:o}=this.viewProperties;return(0,i.jsxs)(i.Fragment,{children:[null!=a&&a.type!==ej.fO.ACTIVITY&&a.user.id!==n?(0,i.jsx)(et.Z,{context:(0,eT.Z)(a.type),userId:a.user.id,currentWindow:this.inPopout?null!=e?e:void 0:window,sliderClassName:eO.volumeSlider,className:eO.rightTrayIcon}):null,s?(0,i.jsx)(ee.Z,{className:eO.rightTrayIcon,popoutWindowAlwaysOnTop:t,onToggleStayOnTop:this.handleStayOnTop}):null,r?(0,i.jsx)($.Z,{themeable:o,popoutOpen:this.popoutOpen,className:eO.rightTrayIcon,onOpenPopout:this.handleOpenPopout,onClosePopout:this.handleClosePopout}):null,l?(0,i.jsx)(Q.Z,{themeable:o,node:this.getRootNode(),guestWindow:e,className:eO.rightTrayIcon,onClick:this.handleFullScreen}):null]})}),ey(this,"renderChatButton",e=>{let{className:t,showingClassName:n}=e,{channel:a,chatOpen:l,inCall:s}=this.props;return l||this.popoutOpen&&!this.inPopout&&s?null:(0,i.jsx)(X.T,{channelId:a.id,className:t,showingClassName:n})}),ey(this,"renderChatToasts",()=>{let{showChatToasts:e,chatOpen:t,channel:n,inCall:a}=this.props;return!e||t||this.popoutOpen&&!this.inPopout&&a?null:(0,i.jsx)(ev.ZP,{children:(0,i.jsx)(Y.Z,{className:eO.chatToasts,channelId:n.id})})}),ey(this,"renderVoiceChannelEffects",()=>{let{channel:e,callContainerDimensions:t}=this.props;return(0,i.jsx)(eb.ZP,{children:(0,i.jsx)(en.Z,{callHeight:t.height,channelId:e.id})})}),ey(this,"renderHeader",()=>{let{renderExternalHeader:e,channel:t,guild:n,appContext:a,chatOpen:l,inCall:s}=this.props,{useExternalHeader:r,canSelectRegion:o,renderHeader:c}=this.viewProperties;return c?(0,i.jsxs)(z.Z,{children:[(0,i.jsx)("div",{className:eO.headerWrapper,children:r?null==e?void 0:e():(0,i.jsx)(eZ.Z,{channel:t,guild:n,appContext:a,inCall:s,isChatOpen:l||this.popoutOpen&&!this.inPopout&&s,exitFullScreen:this.maybeLeaveFullScreen})}),o?this.renderRegionSelect():null]}):null})}}t.Z=function(e){var t;let{channel:n,renderExternalHeader:l,maxHeight:s}=e,{width:r=0,ref:o}=(0,x.Z)(),{width:d=0,height:p=0,ref:_}=(0,x.Z)(),{ref:f}=(0,x.Z)(),E=(0,N.bp)(),C=(0,O.Z)(),M=(0,c.e7)([eu.Z],()=>{var e;return(null!==(e=null==C?void 0:C.channelId)&&void 0!==e?e:eu.Z.getVoiceChannelId())===n.id}),R=(0,T.Z)(M),{participants:y,filteredParticipants:D,participantsVersion:k,mode:U,layout:B,participantsOpen:G,chatOpen:V,selectedParticipant:F}=(0,c.cj)([ex.Z],()=>{let e=E===eL.IlC.POPOUT,t=ex.Z.getMode(n.id);e&&(t=eL.WtW.VIDEO);let i=t===eL.WtW.VIDEO?ex.Z.getLayout(n.id,E):eL.AEg.MINIMUM;return e&&i!==eL.AEg.FULL_SCREEN&&(i=eL.AEg.NO_CHAT),{mode:t,layout:i,selectedParticipant:t!==eL.WtW.VOICE?ex.Z.getSelectedParticipant(n.id):null,participants:ex.Z.getParticipants(n.id),filteredParticipants:ex.Z.getFilteredParticipants(n.id),participantsOpen:ex.Z.getParticipantsOpen(n.id),chatOpen:ex.Z.getChatOpen(n.id),participantsVersion:ex.Z.getParticipantsVersion(n.id)}},[E,n.id]),W=(0,c.Wu)([ei.Z],()=>ei.Z.getAllActiveStreams()),{selectedStream:z}=(0,c.cj)([ei.Z],()=>({selectedStream:null!=F?ei.Z.getActiveStreamForStreamKey(F.id):null}),[F]),Y=(0,c.e7)([er.Z],()=>er.Z.getGuild(n.getGuildId())),K=(0,c.e7)([es.Z],()=>es.Z.getCall(n.id),[n.id]),q=(0,c.e7)([ec.ZP],()=>ec.ZP.getMentionCount(n.id),[n.id]),X=(0,c.e7)([ea.default],()=>ea.default.getId()),{popoutWindow:Q,popoutWindowAlwaysOnTop:J}=(0,c.cj)([w.Z],()=>({popoutWindow:w.Z.getWindow(eL.KJ3.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:w.Z.getIsAlwaysOnTop(eL.KJ3.CHANNEL_CALL_POPOUT)})),$=(0,c.e7)([eo.Z],()=>eo.Z.can(eL.Plq.CONNECT,n)),ee=(0,c.e7)([el.Z],()=>el.Z.getToastsEnabled(n.id)),et=(0,c.e7)([P.Z],()=>P.Z.getAwaitingRemoteSessionInfo()),en=(0,c.e7)([H.ZP],()=>H.ZP.callHeaderHeight),ed=a.useCallback(e=>{g.ZP.updatedUnsyncedSettings({callHeaderHeight:e})},[]),eh=null!==(t=null==Y?void 0:Y.id)&&void 0!==t?t:null,ep=(0,Z.Z)(eh,n.id),em=(0,c.e7)([v.Z],()=>v.Z.getFetchState(),[]),e_=(0,T.Z)(em);a.useEffect(()=>{"errored"===em&&"errored"!==e_&&(0,h.showToast)((0,h.createToast)(eP.Z.Messages.EMBEDDED_ACTIVITIES_DEVELOPER_ACTIVITY_SHELF_FETCH_ERROR,h.ToastType.FAILURE))},[em,e_]);let ef=(0,c.e7)([S.ZP],()=>S.ZP.getSelfEmbeddedActivityForChannel(n.id),[n]);a.useEffect(()=>{M&&!R&&null!=ef&&m.Z.selectParticipant(n.id,ef.applicationId)},[M,R,ef,n.id]),a.useEffect(()=>{let e=!1,t=null;return(async()=>{M&&U===eL.WtW.VIDEO&&(t=await eC.ZP.blockDisplaySleep(),e&&null!=t&&eC.ZP.unblockDisplaySleep(t))})(),()=>{null!=t?eC.ZP.unblockDisplaySleep(t):e=!0}},[M,U]),(0,A.Z)({onTransition:void 0});let eE=(0,eN.Z)(n,!0),eg=(0,L.bn)(u.z.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK),{analyticsLocations:eI}=(0,j.ZP)(b.Z.CHANNEL_CALL),eT=S.ZP.getEmbeddedActivitiesForChannel(n.id);return(0,i.jsx)(j.Gt,{value:eI,children:(0,i.jsx)(I.Z,{page:eL.ZY5.CHANNEL_CALL,children:(0,i.jsx)(ev.B2,{children:(0,i.jsxs)(eb._A,{children:[(0,i.jsx)(eU,{channel:n,guild:Y,hasConnectPermission:$,participantsOpen:G,renderExternalHeader:l,appContext:E,call:K,popoutWindow:Q,popoutWindowAlwaysOnTop:J,mentionCount:q,selectedStream:z,mode:U,inCall:M,participants:y,filteredParticipants:D,participantsVersion:k,layout:B,chatOpen:V,maxSidebarWidth:r-550,shouldUseVoiceEffectsActionBar:eE,currentUserId:X,selectedParticipant:F,allActiveStreams:W,useNewInviteButton:ep,connectedToEmbeddedActivity:null!=ef,showChatToasts:ee,storedCallHeaderHeight:en,updateStoredCallHeaderHeight:ed,wrapperRef:o,callContainerDimensions:{width:d,height:p},callContainerRef:_,channelChatRef:f,width:r,maxHeight:s,forceShowControls:eg,awaitingRemoteSessionInfo:et,currentChannelActivities:eT}),!n.isPrivate()&&(0,i.jsx)(eb.YR,{}),(0,i.jsx)(ev.H_,{})]})})})})}},909820:function(e,t,n){n.d(t,{B2:function(){return r},H_:function(){return s}});let{Layer:i,LayerContainer:a,LayerProvider:l}=(0,n(481060).createLayer)("ChannelCallChat"),s=a,r=l;t.ZP=i},493010:function(e,t,n){var i=n(735250),a=n(470079),l=n(704215),s=n(481060),r=n(475179),o=n(561472),c=n(287746),u=n(325708),d=n(541716),h=n(605236),p=n(703558),m=n(502568),_=n(585483),f=n(909820),E=n(981631),g=n(921944),C=n(689938),I=n(423289);t.Z=function(e){let{channel:t,guild:n,maxWidth:x}=e;a.useEffect(()=>{(0,h.EW)(l.z.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK,{dismissAction:g.L.AUTO})},[]);let T=a.useCallback(()=>{r.Z.updateChatOpen(t.id,!1),_.S.safeDispatch(E.CkL.FOCUS_CHAT_BUTTON)},[t.id]),N=(0,i.jsx)(m.ZP.Icon,{icon:s.CloseSmallIcon,tooltip:C.Z.Messages.CLOSE,onClick:T});return(0,i.jsxs)(u.Z,{sidebarType:u.y.CallChatSidebar,maxWidth:x,floatingLayer:f.ZP,children:[(0,i.jsx)(o.Z,{channel:t,draftType:p.d.ChannelMessage}),(0,i.jsxs)(m.ZP,{toolbar:N,"aria-label":C.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:[(0,i.jsx)(m.ZP.Icon,{icon:s.ChatIcon,disabled:!0,"aria-label":C.Z.Messages.VOICE_CHAT_TEXT_CHANNEL}),(0,i.jsx)(m.ZP.Title,{children:t.name})]}),(0,i.jsx)("div",{className:I.chat,children:(0,i.jsx)(c.Z,{channel:t,guild:n,chatInputType:d.I.SIDEBAR},t.id)})]})}},742603:function(e,t,n){n.d(t,{Z:function(){return V}}),n(47120);var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(442837),r=n(481060),o=n(99690),c=n(40851),u=n(657305),d=n(835473),h=n(12498),p=n(933557),m=n(471445),_=n(554747),f=n(854698),E=n(897669),g=n(984370),C=n(910611),I=n(454585),x=n(134483),T=n(210975),N=n(809244),v=n(618158),S=n(366695),Z=n(502568),A=n(792125),M=n(358221),b=n(362721),R=n(887012),j=n(613548),L=n(221888),P=n(339340),O=n(354459),y=n(981631),D=n(231338),k=n(689938),U=n(254772),w=n(622322);function B(e){let{focusedParticipant:t,channel:n}=e,a=(0,c.bp)(),l=(0,s.e7)([M.Z],()=>M.Z.getLayout(n.id,a));return(0,i.jsx)(v.Z,{children:(0,i.jsx)(L.Z,{className:U.participants,participant:t,maxVisibleUsers:5,guildId:n.getGuildId(),channelId:n.id,disableInteraction:a===y.IlC.POPOUT||l===y.AEg.FULL_SCREEN})})}function H(e){let{user:t,channel:n,stream:a,color:l}=e,s=(0,N.Z)(n,t,a);return null==t||null==a?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z,{className:U.avatar,size:r.AvatarSizes.SIZE_24,user:t,animate:!1}),(0,i.jsx)(r.Text,{className:U.playingText,variant:"text-md/medium",color:l,children:s})]})}function G(e){let t,{focusedApplication:n,focusedParticipant:a,channel:l}=e,s=(0,R.Z)(l,!0),o=(0,_.qY)(l.id),c=null!=o?(0,f.DK)(o):null,d=null!=o;if((null==a?void 0:a.type)===O.fO.ACTIVITY)null!=n&&(t=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z.ZP.Divider,{className:U.divider}),(0,i.jsx)(S.Z,{game:n,className:U.activityIcon}),(0,i.jsx)(r.Text,{className:U.playingText,variant:"text-md/normal",color:"none",children:(0,u.Z)(n.name)}),s&&(0,i.jsx)(B,{channel:l,focusedParticipant:a})]}));else if((null==a?void 0:a.type)===O.fO.STREAM){let e=a.user,n=a.stream;t=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z.ZP.Divider,{className:U.divider}),(0,i.jsx)(H,{user:e,channel:l,stream:n,color:s?"header-primary":"none"}),s&&(0,i.jsx)(B,{channel:l,focusedParticipant:a})]})}else d&&(t=(0,i.jsx)(E.Z,{guildEvent:o,recurrenceId:c}));return(0,i.jsx)("div",{className:U.container,children:t})}function V(e){let{channel:t,guild:a,appContext:o,inCall:c,isChatOpen:u,exitFullScreen:_}=e,{focusedParticipant:f}=(0,s.cj)([M.Z],()=>({focusedParticipant:M.Z.getSelectedParticipant(t.id),participantsOpen:M.Z.getParticipantsOpen(t.id)}),[t.id]),E=(0,p.ZP)(t),N=(0,m.KS)(t),[v]=(0,d.Z)((null==f?void 0:f.type)===O.fO.ACTIVITY?[f.id]:[]),S=k.Z.Messages.VOICE_CHANNEL;t.isDM()?S=k.Z.Messages.DM:t.isGroupDM()&&(S=k.Z.Messages.GROUP_DM);let R=(0,s.e7)([h.Z],()=>h.Z.getChannelStatus(t)),L=t.isGuildVoice()&&c&&null!=R&&R.length>0,B=(0,b.Z)(t),H=L?(0,i.jsx)(r.Tooltip,{text:k.Z.Messages.VOICE_CHANNEL_SET_STATUS,delay:500,position:"bottom",shouldShow:B,children:e=>(0,i.jsxs)(r.Clickable,{...e,className:l()(U.channelStatusClickable,{[U.hoverable]:B}),onClick:B?V:void 0,children:[(0,i.jsx)(r.Text,{variant:"text-xs/normal",className:l()(U.channelStatus,w.markup,{[U.hoverable]:B}),children:I.Z.parseVoiceChannelStatus(R,!0,{channelId:t.id})}),B&&(0,i.jsx)(r.PencilIcon,{size:"custom",color:"currentColor",className:l()(U.pencilIcon,U.hoverable),width:14,height:14})]})}):null;function V(){(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,339340));return n=>(0,i.jsx)(e,{channel:t,...n})},{modalKey:P.VOICE_CHANNEL_STATUS_MODAL_KEY})}let F=(0,T.m$)({channelId:t.id,location:"ChannelCallHeader"});return(0,i.jsxs)("div",{className:U.subtitleContainer,children:[(0,i.jsxs)(Z.ZP,{onDoubleClick:g.O,transparent:!0,className:(0,A.Q)(D.BR.DARK),childrenBottom:H,toolbar:(0,i.jsx)(j.Z,{inPopout:o===y.IlC.POPOUT,channel:t,appContext:o,inCall:c,isChatOpen:u,exitFullScreen:_}),children:[null!=N?(0,i.jsx)(Z.ZP.Icon,{icon:N,disabled:!0,"aria-label":S}):null,(0,i.jsx)(Z.ZP.Title,{children:(0,i.jsxs)(i.Fragment,{children:[E,F&&(0,i.jsx)(r.ShieldLockIcon,{size:"xxs","aria-label":k.Z.Messages.E2EE_CALL_VERIFIED_A11Y,color:r.tokens.colors.INTERACTIVE_NORMAL,className:U.secureFramesIcon})]})}),(0,i.jsx)(C.TS,{channel:t,guild:a}),(0,i.jsx)(G,{focusedApplication:v,focusedParticipant:f,channel:t})]}),(0,i.jsx)(x.Z,{channelId:t.id})]})}},613548:function(e,t,n){n.d(t,{Z:function(){return F}}),n(653041);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(392711),o=n.n(r),c=n(848246),u=n(442837),d=n(481060),h=n(320007),p=n(236091),m=n(569545),_=n(517525),f=n(6242),E=n(757692),g=n(386542),C=n(141321),I=n(44136),x=n(651183),T=n(618158),N=n(390322),v=n(616286),S=n(961048),Z=n(179424),A=n(786915),M=n(975146),b=n(991617),R=n(606304),j=n(594174),L=n(502568),P=n(805009),O=n(368666),y=n(358221),D=n(887012),k=n(444253),U=n(355827),w=n(354459),B=n(981631),H=n(689938),G=n(605130);function V(e){let{channelId:t,guildId:n}=e,a=Date.now(),l=(0,u.e7)([R.Z,y.Z],()=>o()(R.Z.getSpeakers()).map(e=>y.Z.getParticipant(t,e)).filter(e=>null!=e&&e.type===w.fO.USER&&e.speaking&&!(0,I.ZP)(e)).sortBy(e=>-R.Z.getSpeakingDuration(e.user.id,a)).slice(0,3).value());return 0===l.length?null:(0,i.jsx)(i.Fragment,{children:l.map((e,t)=>(0,i.jsx)(d.Tooltip,{position:"bottom",color:d.Tooltip.Colors.GREY,text:H.Z.Messages.CHANNEL_CALL_CURRENT_SPEAKER.format({username:e.user.username}),children:a=>(0,i.jsx)(P.Z,{...a,className:s()(G.speaker,{[G.last]:t===l.length-1}),user:e.user,speaking:!0,collapsed:!0,guildId:n})},e.id))})}function F(e){let{inPopout:t,channel:n,appContext:l,inCall:s,isChatOpen:r,exitFullScreen:o}=e,I=n.id,{voiceParticipantsHidden:R,selectedParticipant:P,userParticipantCount:H}=(0,u.cj)([y.Z],()=>({selectedParticipant:y.Z.getSelectedParticipant(I),voiceParticipantsHidden:y.Z.getVoiceParticipantsHidden(I),userParticipantCount:y.Z.getUserParticipantCount(I)}),[I]),F=(0,u.e7)([j.default],()=>j.default.getCurrentUser()),W=(0,D.Z)(n),{available:z,activated:Y,hqStreamingState:K}=(0,g.k)(c.q.STREAM_HIGH_QUALITY),q=z&&Y&&K.hqStreamingIsEnabled,X=(0,E.o)(P,F),Q=(0,f.lL)("CallHeader",!0,F,X),{preventIdle:J,allowIdle:$}=(0,T.Y)("popup"),ee=[];if(W){let e=(null==P?void 0:P.type)===w.fO.STREAM?(0,m.my)(P.id):void 0,t=(null==P?void 0:P.type)===w.fO.ACTIVITY?P.id:void 0;ee.push((0,i.jsx)(A.Z,{className:G.button,channel:n,applicationId:t,stream:e,exitFullScreen:o,analyticsLocation:n.type===B.d4z.GUILD_VOICE?B.ZY5.GUILD_CHANNEL:B.ZY5.DM_CHANNEL},"invite-button"))}return R&&ee.push((0,i.jsx)(V,{channelId:I,guildId:n.guild_id},"current-speaker")),ee.push((0,i.jsx)(p.Z,{className:G.button,channelId:I},"clips-enabled-indicator")),(null==P?void 0:P.type)===w.fO.STREAM&&(ee.push((0,i.jsx)(x.Z,{className:G.button,participant:P},"warning")),ee.push((0,i.jsx)(_.Z,{size:O.ZP.Sizes.LARGE,className:G.button,participant:P,showQuality:!0,premiumIndicator:q||Q.enabled},"live-indicator"))),R&&ee.push((0,i.jsx)(d.Popout,{position:"bottom",renderPopout:()=>(0,i.jsx)(N.Z,{children:(0,i.jsx)(U.Z,{channel:n})}),children:(e,t)=>{let{isShown:n}=t;return(0,a.createElement)(M.Z,{...e,isActive:n,count:H,key:"call-members",className:G.button})}},"call-members-popout")),s&&ee.push(null!=P?(0,i.jsx)(Z.Z,{className:G.button,channelId:I},"deselect-participant"):(0,i.jsx)(b.Z,{className:G.button,channelId:I,isHorizontal:!0},"select-participant")),!t&&ee.push((0,i.jsx)(h.Z,{className:G.button},"clips")),ee.push((0,i.jsx)(C.Z,{onOpen:J,onClose:$,className:G.button},"recents")),ee.push((0,i.jsx)(d.Popout,{position:"bottom",renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(N.Z,{children:(0,i.jsx)(k.Z,{channelId:I,onClose:t,appContext:l,exitFullScreen:o})})},children:(e,t)=>{let{isShown:n}=t;return(0,a.createElement)(S.Z,{...e,key:"more-options",isActive:n,className:G.lastButton})}},"more-options-popout")),!r&&(ee.push((0,i.jsx)(L.ZP.Divider,{className:G.divider},"divider")),ee.push((0,i.jsx)(v.T,{channelId:n.id,className:G.chatButtonSpacer,disabled:!0},"chat-spacer"))),(0,i.jsx)(i.Fragment,{children:ee})}},444253:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(358221),r=n(441061),o=n(431368),c=n(167675),u=n(418469),d=n(673539),h=n(354459),p=n(689938);function m(e){let{channelId:t,onClose:n,appContext:m,exitFullScreen:_,onSelect:f}=e,E=(0,a.e7)([s.Z],()=>s.Z.getSelectedParticipant(t)),g=(null==E?void 0:E.type)===h.fO.STREAM?E.stream:null,C=(0,r.Z)(t),I=(0,c.Z)(),x=(0,o.Z)(t),T=(0,d.Z)(t);return(0,i.jsxs)(l.Menu,{navId:"channel-call-overflow-popout",onClose:n,"aria-label":p.Z.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,onSelect:f,children:[C,I,x,T,(0,u.Z)(g,m,_)]})}},355827:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(207055),r=n(938475),o=n(981631),c=n(689938),u=n(603497);function d(e){let{channel:t}=e,n=(0,a.e7)([r.ZP],()=>r.ZP.getVoiceStatesForChannel(t));return(0,i.jsxs)("div",{className:u.root,children:[(0,i.jsx)(l.Text,{variant:"text-xs/bold",className:u.header,children:c.Z.Messages.CHANNEL_CALL_MEMBERS_POPOUT_HEADER.format({count:n.length})}),(0,i.jsx)(l.Scroller,{className:u.scroller,children:(0,i.jsx)(s.Z,{allowDragging:!1,allowPreviews:!1,className:u.voiceUsers,channel:t,voiceStates:n,collapsed:!1,location:o.Sbl.CHANNEL_CALL})})]})}},900211:function(e,t,n){n.d(t,{Z:function(){return r}}),n(47120);var i=n(735250),a=n(470079),l=n(347469),s=n(144734);function r(e){let{resizableNode:t,onResize:n,onResizeEnd:r,minHeight:o,maxHeight:c}=e,[u,d]=a.useState(null);a.useEffect(()=>{var e,n;d(null!==(n=null===(e=t.current)||void 0===e?void 0:e.offsetHeight)&&void 0!==n?n:null)},[t]);let h=(0,l.Z)({initialElementDimension:u,minDimension:o,maxDimension:c,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:l.y.VERTICAL_BOTTOM});return(0,i.jsx)("div",{onMouseDown:h,className:s.resizeHandle})}},351248:function(e,t,n){n.d(t,{Z:function(){return S}}),n(653041),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(748780),o=n(442837),c=n(215569),u=n(780384),d=n(481060),h=n(410030),p=n(451478),m=n(421600),_=n(354459),f=n(330280),E=n(83922),g=n(120393);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let I={STEPS:23,FRAME_DURATION:17,FRAME_SIZE:26},x={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:r.Z.Easing.inOut(r.Z.Easing.back()),EASING_OUT:r.Z.Easing.quad},T=200,N=125;class v extends a.PureComponent{componentDidMount(){this.componentDidAppear()}componentDidAppear(){let{scaleAnimation:e,widthAnimation:t}=this;e.setValue(1),t.setValue(1)}componentWillEnter(e){let{scaleAnimation:t,widthAnimation:n}=this;t.setValue(0),n.setValue(0),r.Z.parallel([r.Z.timing(t,{toValue:1,duration:x.DURATION_IN,easing:x.EASING_IN}),r.Z.timing(n,{toValue:1,duration:T})]).start(e)}componentWillLeave(e){let{scaleAnimation:t,spriteAnimation:n,spriteOpacity:i,widthAnimation:a}=this;i.setValue(1),n.setValue(0);let l=[];for(let e=0;e<I.STEPS;e++)l.push(r.Z.timing(n,{toValue:-I.FRAME_SIZE*e,duration:I.FRAME_DURATION}));r.Z.sequence([r.Z.timing(t,{toValue:0,duration:x.DURATION_OUT,easing:x.EASING_OUT}),r.Z.sequence(l),r.Z.timing(a,{toValue:0,duration:N})]).start(e)}getScaleStyle(){let{scaleAnimation:e}=this;return r.Z.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[x.SCALE_MIN,x.SCALE_MAX]})}],opacity:e})}getSpriteStyle(){let{spriteAnimation:e,spriteOpacity:t}=this;return{backgroundPosition:e,opacity:t}}getWidthStyle(){return{width:this.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px","".concat(this.props.width,"px")]})}}render(){let{theme:e,children:t,className:n}=this.props,a=(0,u.wj)(e),l=s()(f.sprite,{[g.crossWhite]:a,[g.crossGrey]:!a});return(0,i.jsxs)(r.Z.div,{className:s()(f.transition,n),style:this.getWidthStyle(),children:[(0,i.jsx)("div",{className:s()(f.spriteWrapper,E.horizontal,E.justifyCenter,E.alignCenter),children:(0,i.jsx)(r.Z.div,{className:l,style:this.getSpriteStyle()})}),(0,i.jsx)(r.Z.div,{style:this.getScaleStyle(),children:t})]})}constructor(...e){super(...e),C(this,"scaleAnimation",new r.Z.Value(0)),C(this,"spriteAnimation",new r.Z.Value(0)),C(this,"spriteOpacity",new r.Z.Value(0)),C(this,"widthAnimation",new r.Z.Value(0))}}function S(e){var t,n;let{participants:a,onContextMenu:l,className:r,onClick:u,width:E,guildId:g}=e,C=(0,h.ZP)();let I=(t=E,n=a.length,((0,d.getAvatarSize)(d.AvatarSizes.SIZE_80)+16)*n>t?d.AvatarSizes.SIZE_40:d.AvatarSizes.SIZE_80),x=(0,o.e7)([p.Z],()=>p.Z.isFocused()),T=a.map(e=>{var t,n;if(e.type!==_.fO.USER)return null;let{user:a,voiceState:s,speaking:r,ringing:o}=e;return(0,i.jsx)(v,{className:f.participant,width:(0,d.getAvatarSize)(I),theme:C,children:(0,i.jsx)(m.Z,{src:a.getAvatarURL(g,(0,d.getAvatarSize)(I),r&&x),size:I,muted:null!==(t=null==s?void 0:s.isVoiceMuted())&&void 0!==t&&t,deafen:null!==(n=null==s?void 0:s.isVoiceDeafened())&&void 0!==n&&n,speaking:r,ringing:o,onClick:t=>null==u?void 0:u(e,t),onContextMenu:t=>null==l?void 0:l(e,t)},e.id)},a.id)});return(0,i.jsx)(c.W,{component:"div",className:s()(f.root,r),children:T})}},415635:function(e,t,n){n.d(t,{Z:function(){return f}}),n(47120);var i=n(735250),a=n(470079),l=n(772848),s=n(442837),r=n(570140),o=n(607070),c=n(367907),u=n(37091),d=n(721264),h=n(963838),p=n(39127),m=n(981631),_=n(350983);function f(e){let{channelId:t,guildId:n,userId:f,containerDimensions:E}=e,g=(0,s.e7)([o.Z],()=>o.Z.useReducedMotion),[C,I]=a.useState([]),x=C.length<50;a.useEffect(()=>{function e(e){var i;let{channelId:a,userId:s,emoji:r,animationType:o,animationId:p}=e;if(null!=f&&f!==s||u.Z.getEnabled()&&(0,d.Z)(null!==(i=null==r?void 0:r.name)&&void 0!==i?i:""))return;let _=null!=r&&null!=o&&null!=p;if(a===t&&!g&&x&&_){let e=(0,h._r)(r),i=null!=r.id&&!r.animated,a={id:(0,l.Z)(),animationType:o,animationId:p,shouldResize:i,url:e,userId:s};I(e=>[...e,a]),c.ZP.trackWithMetadata(m.rMx.VOICE_CHANNEL_EFFECT_VIEWED,{channel_id:t,guild_id:n})}}return r.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",e),()=>{r.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",e)}},[t,n,f,g,x]);let T=a.useCallback(e=>{I(t=>{let n=[...t],i=n.findIndex(t=>t.id===e);return n.splice(i,1),n})},[]);return g?null:(0,i.jsx)("div",{className:_.effectsWrapper,style:{width:E.width},children:(0,i.jsx)("div",{className:_.effects,children:C.map(e=>(0,i.jsx)(p.Z,{containerDimensions:E,effect:e,onComplete:T},e.id))})})}},18759:function(e,t,n){n.d(t,{YR:function(){return s},_A:function(){return r}});let{Layer:i,LayerContainer:a,LayerProvider:l}=(0,n(481060).createLayer)("VoiceChannelEffectsCall"),s=a,r=l;t.ZP=i},575175:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),l=n(846027),s=n(468026),r=n(503856),o=n(689938);function c(e,t){if(t&&(0,r.p)()){(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("41281").then(n.bind(n,669732));return t=>(0,i.jsx)(e,{...t})});return}if(t){(0,a.openModal)(e=>(0,i.jsx)(s.default,{...e,title:o.Z.Messages.SUPPRESSED,body:o.Z.Messages.SUPPRESSED_PERMISSION_BODY}));return}if(e){(0,a.openModal)(e=>(0,i.jsx)(s.default,{...e,title:o.Z.Messages.SERVER_MUTED_DIALOG_TITLE,body:o.Z.Messages.SERVER_MUTED_DIALOG_BODY}));return}l.Z.toggleSelfMute()}},295510:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(153867),l=n(468026),s=n(394059),r=n(689938);function o(e){let{type:t,onConfirm:n,...o}=e,c=t===s.K.STREAM?r.Z.Messages.HIDE_SELF_STREAM_CONFIRMATION_HEADER:r.Z.Messages.HIDE_SELF_VIDEO_CONFIRMATION_HEADER,u=t===s.K.STREAM?r.Z.Messages.HIDE_SELF_STREAM_CONFIRMATION_BODY:r.Z.Messages.HIDE_SELF_VIDEO_CONFIRMATION_BODY;return(0,i.jsx)(l.default,{confirmText:r.Z.Messages.CONFIRM,secondaryConfirmText:r.Z.Messages.DONT_ASK_AGAIN,title:c,cancelText:r.Z.Messages.CANCEL,onConfirm:n,onConfirmSecondary:()=>{a.ZP.updatedUnsyncedSettings({disableHideSelfStreamAndVideoConfirmationAlert:!0}),n()},body:u,...o})}},441061:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(475179),r=n(358221),o=n(689938);function c(e){let t=(0,a.e7)([r.Z],()=>r.Z.getVoiceParticipantsHidden(e));return(0,i.jsx)(l.MenuCheckboxItem,{id:"no-video-hide",label:o.Z.Messages.STREAM_SHOW_NON_VIDEO,checked:!t,action:()=>s.Z.toggleVoiceParticipantsHidden(e,!t)})}},431368:function(e,t,n){n.d(t,{Z:function(){return d}}),n(47120);var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(740492),r=n(984014),o=n(295510),c=n(394059),u=n(689938);function d(e,t){let[n,d,h]=(0,r.Z)(e,t),p=(0,a.e7)([s.ZP],()=>s.ZP.disableHideSelfStreamAndVideoConfirmationAlert);return n?(0,i.jsx)(l.MenuCheckboxItem,{id:"self-stream-hide",label:u.Z.Messages.SHOW_SELF_STREAM,checked:!d,action:()=>{if(p||d)return h(!d);(0,l.openModal)(e=>(0,i.jsx)(o.Z,{...e,type:c.K.STREAM,onConfirm:()=>h(!d)}))}}):null}},167675:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(740492),r=n(27584),o=n(295510),c=n(394059),u=n(65154),d=n(689938);function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.Yn.DEFAULT,[n,h,p]=(0,r.Z)(e,t),m=(0,a.e7)([s.ZP],()=>s.ZP.disableHideSelfStreamAndVideoConfirmationAlert);return n?(0,i.jsx)(l.MenuCheckboxItem,{id:"self-video-hide",label:d.Z.Messages.SHOW_SELF_VIDEO,checked:!h,action:()=>{if(m||h)return p(!h);(0,l.openModal)(e=>(0,i.jsx)(o.Z,{...e,type:c.K.VIDEO,onConfirm:()=>p(!h)}))}}):null}},947150:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(846027),r=n(131951);function o(){let e=(0,a.e7)([r.Z],()=>Object.values(r.Z.getInputDevices())),t=(0,a.e7)([r.Z],()=>r.Z.getInputDeviceId());return e.map(e=>{let{id:n,disabled:a,name:r}=e;return(0,i.jsx)(l.MenuRadioItem,{id:"input-".concat(n),group:"input-devices",disabled:a,label:r,checked:n===t,action:()=>s.Z.setInputDevice(n)},"input-".concat(n))})}},488021:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(846027),r=n(131951);function o(){let e=(0,a.e7)([r.Z],()=>Object.values(r.Z.getOutputDevices())),t=(0,a.e7)([r.Z],()=>r.Z.getOutputDeviceId());return e.map(e=>{let{id:n,disabled:a,name:r}=e;return(0,i.jsx)(l.MenuRadioItem,{group:"output-devices",id:"output-".concat(n),disabled:a,label:r,checked:n===t,action:()=>s.Z.setOutputDevice(n)},"output-".concat(n))})}},673539:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(979696),r=n(963876),o=n(689938);function c(e){let t=(0,a.e7)([s.Z],()=>s.Z.getToastsEnabled(e));return(0,i.jsx)(l.MenuCheckboxItem,{id:"show-call-chat-toasts",label:o.Z.Messages.SHOW_NEW_MESSAGE_PREVIEWS,checked:t,action:()=>r.Z.setCallChatToastsEnabled(e,!t)})}},822556:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(481060),l=n(230711),s=n(981631),r=n(689938);function o(){return(0,i.jsx)(a.MenuItem,{id:"voice-settings",label:r.Z.Messages.VOICE_SETTINGS,action:()=>l.Z.open(s.oAB.VOICE),icon:a.SettingsIcon})}},213652:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(435064),o=n(39604),c=n(441167),u=n(871499),d=n(199902),h=n(314897),p=n(358221),m=n(354459),_=n(689938),f=n(407423);function E(e){let{channel:t}=e,n=(0,l.e7)([p.Z],()=>p.Z.getSelectedParticipant(t.id)),E=(null==n?void 0:n.type)===m.fO.STREAM,g=(0,l.e7)([d.Z],()=>E?d.Z.getActiveStreamForStreamKey(n.id):null),{ignoreSenderPreference:C}=c.Z.useExperiment({location:"ActionBarClipsButton"},{autoTrackExposure:!1}),{viewerClippingAllowed:I,isAtMaxSavingClipOperations:x}=(0,l.cj)([r.Z],()=>({viewerClippingAllowed:null!=g&&(r.Z.isViewerClippingAllowedForUser(g.ownerId)||C),isAtMaxSavingClipOperations:r.Z.getIsAtMaxSaveClipOperations()})),T=r.Z.getSettings().clipsEnabled,N=(null==g?void 0:g.ownerId)===h.default.getId(),v=!T||!(N||I)||x||null==n,S=a.useCallback(e=>(0,i.jsx)(s.CameraIcon,{...e,color:"currentColor"}),[]);return(0,i.jsx)(u.Z,{className:f.actionBarButton,onClick:()=>{!v&&(N?(0,o.C1)():(0,o.C1)(n.id))},disabled:v,iconComponent:S,label:null==g?_.Z.Messages.CLIPS_VIEWERSIDE_BUTTON_FOCUS_TOOLTIP:N||I?T?x?void 0:_.Z.Messages.CLIPS_SAVE:_.Z.Messages.CLIPS_VIEWERSIDE_BUTTON_ENABLE_CLIPS_TOOLTIP:_.Z.Messages.CLIPS_VIEWERSIDE_BUTTON_DISABLED_TOOLTIP,grow:!1})}},320427:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var a=n(399606),l=n(481060),s=n(125268),r=n(673125),o=n(292793),c=n(871499),u=n(304388),d=n(689938);function h(){let e=(0,a.e7)([r.Z],()=>r.Z.getDrawMode()),t=(null==e?void 0:e.type)===o.W.LINE,n=()=>{t?(0,s.Bo)(null):(0,s.Bo)({type:o.W.LINE})};return(0,i.jsx)(u.Z,{renderPopout:()=>null,children:e=>{let{...a}=e;return(0,i.jsx)(c.Z,{...a,label:d.Z.Messages.SHARED_CANVAS_DRAW_MODE_LINE,isActive:t,iconComponent:l.PencilIcon,onClick:n})}})}},145010:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250);n(470079);var a=n(399606),l=n(481060),s=n(125268),r=n(673125),o=n(292793),c=n(390322),u=n(871499),d=n(12168),h=n(304388),p=n(689938);function m(e){let{channel:t}=e,n=(0,a.e7)([r.Z],()=>r.Z.getDrawMode()),m=(null==n?void 0:n.type)===o.W.EMOJI_HOSE,_=(e,t)=>{null!=e?(0,s.Bo)({type:o.W.EMOJI_HOSE,emojiName:e.name,emojiId:e.id}):m&&(0,s.Bo)(null),null==t||t()};return(0,i.jsx)(h.Z,{renderPopout:e=>{let{closePopout:n,onFocus:a}=e;return(0,i.jsx)(c.Z,{children:(0,i.jsx)(d.Z,{title:p.Z.Messages.SHARED_CANVAS_DRAW_MODE_EMOJI_HOSE,channel:t,closePopout:n,onFocus:a,onSelectEmoji:e=>_(e,n)})})},children:e=>(0,i.jsx)(u.Z,{...e,iconComponent:l.PaintbrushThinIcon,isActive:m||e.isActive,onClick:t=>{_(null),e.onClick(t)}})})}},933686:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250),a=n(470079),l=n(442837),s=n(774078),r=n(390322),o=n(272929),c=n(456631),u=n(381871),d=n(304388);function h(e){let{channel:t}=e,n=(0,l.e7)([c.Z],()=>c.Z.effectCooldownEndTime),h=a.useMemo(()=>null!=n?(n.getTime()-Date.now())/1e3:0,[n]),{seconds:p}=(0,s.Z)(null!=n?n:new Date),m=p>0;return(0,i.jsx)(d.Z,{renderPopout:e=>{let{closePopout:n,onFocus:a}=e;return(0,i.jsx)(r.Z,{children:(0,i.jsx)(u.Z,{channel:t,closePopout:n,onFocus:a})})},children:e=>{let{onMouseEnter:t,...n}=e;return(0,i.jsx)(o.Z,{totalCooldownSeconds:h,remainingCooldownSeconds:p,onMouseEnter:e=>{var n,i;return n=e,i=t,void(!m&&i(n))},...n})}})}},304388:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(481060),s=n(579185),r=n(420212),o=n(407423);function c(e){let{renderPopout:t,onMouseEnter:n,onMouseLeave:l,closePopout:s,isHovered:r,...o}=e;return a.useEffect(()=>{!r&&s()},[s,r]),(0,i.jsx)("div",{onMouseEnter:n,onMouseLeave:l,children:t({closePopout:s,...o})})}t.Z=a.forwardRef(function(e,t){let{renderPopout:n,children:u}=e,[d,h]=a.useState(!1),{isHovered:p,setIsHovered:m,onMouseEnter:_,onMouseLeave:f,cancelTimers:E}=(0,s.Z)(200,300);function g(e){"focus"!==e.type&&!d&&_()}function C(){!d&&f()}function I(e){E(),h(!d),(!p||d)&&e()}a.useImperativeHandle(t,()=>({hidePopout(){m(!1),h(!1)}}),[m,h]);let x=p||d;return(0,i.jsx)(l.Popout,{shouldShow:x,animationPosition:"top",position:"top",align:"left",spacing:16,onRequestClose:()=>{m(!1),h(!1)},renderPopout:e=>(0,i.jsx)(c,{isHovered:x,onFocus:()=>h(!0),onMouseEnter:_,onMouseLeave:C,renderPopout:n,...e}),children:e=>{let{onClick:t,onKeyDown:n}=e;return(0,i.jsx)(i.Fragment,{children:u({onClick:e=>I(()=>t(e)),onKeyDown:e=>{var t,i;return t=e,i=n,void((t.key===r.vn.ENTER||t.key===r.vn.SPACE)&&I(()=>i(t)))},className:o.actionBarButton,onMouseEnter:g,onMouseLeave:C,isActive:x})})}})})},997614:function(e,t,n){n.d(t,{Z:function(){return x}}),n(47120);var i=n(735250),a=n(470079),l=n(399606),s=n(704215),r=n(481060),o=n(239091),c=n(706140),u=n(242291),d=n(458263),h=n(603074),p=n(294629),m=n(390322),_=n(871499),f=n(131951),E=n(459273),g=n(304388),C=n(981631),I=n(689938);function x(e){let{channel:t,themeable:x}=e,T=t.getGuildId(),{mute:N,suppress:v}=(0,p.Z)(t),S=(0,l.e7)([f.Z],()=>f.Z.isDeaf()),Z=N||v||S,A=(0,u.sR)({isSoundboardButtonDisabled:Z}),[M,b]=(0,c.c)(A);function R(e){null!=T&&(0,o.jW)(e,async()=>{let{default:e}=await n.e("56049").then(n.bind(n,338991));return t=>(0,i.jsx)(e,{guildId:T,...t})})}let j=a.useRef(null),L=a.useCallback(()=>{var e;null===(e=j.current)||void 0===e||e.hidePopout()},[]);return(0,E.yp)({event:C.CkL.TOGGLE_SOUNDBOARD,handler:L}),(0,i.jsx)(g.Z,{ref:j,renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(m.Z,{children:(0,i.jsx)(h.Z,{guildId:T,channel:t,onClose:n,gridNotice:M===s.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&(0,i.jsx)(d.o,{onClose:n,markAsDismissed:b}),analyticsSource:"action bar button"})})},children:e=>(0,i.jsx)(_.Z,{themeable:x,label:function(){if(N)return I.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_GUILD_MUTE;if(v)return I.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_SUPPRESSED;if(S)return I.Z.Messages.SOUNDBOARD_OPEN_SOUNBOARRD_ERROR_DEAFENED}(),iconComponent:r.SoundboardIcon,disabled:Z,onContextMenu:R,...e})})}},159909:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(399606),l=n(481060),s=n(125268),r=n(673125),o=n(871499),c=n(304388),u=n(689938);function d(){let e=(0,a.e7)([r.Z],()=>!r.Z.visibleOverlayCanvas);return(0,i.jsx)(c.Z,{renderPopout:()=>null,children:t=>{let{...n}=t;return(0,i.jsx)(o.Z,{...n,label:u.Z.Messages.SHARED_CANVAS_HIDE_OVERLAY_DRAWINGS,isActive:e,iconComponent:l.EyeIcon,onClick:s.LT})}})}},878752:function(e,t,n){n.d(t,{Z:function(){return N}});var i=n(735250);n(470079);var a=n(512722),l=n.n(a),s=n(442837),r=n(779618),o=n(446226),c=n(441167),u=n(822183),d=n(641015),h=n(131951),p=n(594174),m=n(700785),_=n(213652),f=n(320427),E=n(145010),g=n(933686),C=n(997614),I=n(159909),x=n(981631),T=n(549967);function N(e){let{channel:t,hasActiveStream:n,themeable:a=!1}=e,N=(0,s.e7)([p.default],()=>{let e=p.default.getCurrentUser();return l()(null!=e,"CenterControlTray: currentUser cannot be undefined"),e}),v=(0,o.Z)(),{isSharedCanvasEnabled:S}=u.Z.useExperiment({guildId:null==t?void 0:t.guild_id,location:"b7309a_1"}),{enableViewerClipping:Z}=c.Z.useExperiment({location:"VoiceEffectsActionBar"},{autoTrackExposure:!1}),A=(0,r.Z)(h.Z);if(null==t||null!=v)return null;let M=(0,d.Z)(t),b=m.BT({permission:x.Plq.ADD_REACTIONS,user:N,context:t});return(0,i.jsxs)("div",{className:T.voiceEffectsActionBar,children:[M&&(0,i.jsx)(C.Z,{channel:t,themeable:a}),b&&(0,i.jsx)(g.Z,{channel:t}),Z&&A&&(0,i.jsx)(_.Z,{channel:t}),S&&n&&(0,i.jsx)(f.Z,{}),S&&n&&(0,i.jsx)(E.Z,{channel:t}),S&&n&&(0,i.jsx)(I.Z,{})]})}},193701:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(442837),a=n(375954);function l(e){let t=(0,i.e7)([a.Z],()=>a.Z.getLastMessage(e));return null==t?void 0:t.changelogId}},631937:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(470079),a=n(442837),l=n(661111),s=n(706454),r=n(306680),o=n(626135),c=n(802098),u=n(193701),d=n(702321),h=n(981631);function p(e){let t=(0,u.Z)(e),n=(0,a.e7)([s.default],()=>s.default.locale),p=(0,a.e7)([c.Z],()=>c.Z.getChangelog(null!=t?t:"",n),[t,n]),m=(0,d.Z)(e),_=i.useRef(m?Date.now():null),f=(0,a.e7)([r.ZP],()=>r.ZP.getUnreadCount(e),[e]);i.useEffect(()=>{_.current=Date.now()},[m]),i.useEffect(()=>{m&&null!=t&&l.Z.fetchChangelog(t,n,!0)},[t,n,m]),i.useEffect(()=>{m&&null!=p&&o.default.track(h.rMx.CHANGE_LOG_OPENED,{change_log_id:"".concat(p.date,":").concat(p.revision),unread_count:f})},[m,p]),i.useEffect(()=>{let e=_.current;return()=>{m&&null!=p&&null!=e&&(o.default.track(h.rMx.CHANGE_LOG_CLOSED,{seconds_open:Math.round((Date.now()-e)/1e3),change_log_id:"".concat(p.date,":").concat(p.revision),unread_count:f}),_.current=0)}},[m,p])}},655687:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(933557),a=n(981631),l=n(689938);function s(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.ZP)(e,!0),s=(0,i.ZP)(e,!1);if(null==e||null==n)return{placeholder:"",accessibilityLabel:""};if(t)return{placeholder:l.Z.Messages.READ_ONLY_CHANNEL,accessibilityLabel:l.Z.Messages.READ_ONLY_CHANNEL};if(e.isForumPost())return{placeholder:l.Z.Messages.FORUM_POST_TEXTAREA_PLACEHOLDER.format({channel:n}),accessibilityLabel:l.Z.Messages.TEXTAREA_FORUM_POST_A11Y_LABEL.format({channel:s})};if(a.TPd.THREADS.has(e.type))return{placeholder:l.Z.Messages.TEXTAREA_PLACEHOLDER.format({channel:n}),accessibilityLabel:l.Z.Messages.TEXTAREA_THREAD_A11Y_LABEL.format({channel:s})};if(e.type===a.d4z.DM)return{placeholder:l.Z.Messages.DM_TEXTAREA_PLACEHOLDER.format({channel:n}),accessibilityLabel:l.Z.Messages.TEXTAREA_TEXT_DM_A11Y_LABEL.format({channel:s})};return{placeholder:l.Z.Messages.TEXTAREA_PLACEHOLDER.format({channel:n}),accessibilityLabel:l.Z.Messages.TEXTAREA_TEXT_CHANNEL_A11Y_LABEL.format({channel:s})}}},823748:function(e,t,n){n(47120),n(653041);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(512722),o=n.n(r),c=n(392711),u=n.n(c),d=n(266067),h=n(848246),p=n(442837),m=n(704215),_=n(952265),f=n(481060),E=n(239091),g=n(377993),C=n(457868),I=n(561472),x=n(36311),T=n(112724),N=n(902840),v=n(110924),S=n(317381),Z=n(82888),A=n(917107),M=n(358221),b=n(677601),R=n(541716),j=n(236091),L=n(663993),P=n(252618),O=n(201493),y=n(605236),D=n(174130),k=n(588322),U=n(517525),w=n(445384),B=n(613464),H=n(705563),G=n(730647),V=n(66999),F=n(826763),W=n(180216),z=n(51486),Y=n(168843),K=n(442336),q=n(57304),X=n(605953),Q=n(374306),J=n(984370),$=n(910611),ee=n(915718),et=n(518311),en=n(180539),ei=n(882378),ea=n(207868),el=n(246919),es=n(754688),er=n(41776),eo=n(6242),ec=n(757692),eu=n(386542),ed=n(134483),eh=n(703656),ep=n(359110),em=n(854709),e_=n(14091),ef=n(6025),eE=n(897473),eg=n(922482),eC=n(504185),eI=n(657218),ex=n(66556),eT=n(739830),eN=n(377929),ev=n(900157),eS=n(108427),eZ=n(171368),eA=n(346967),eM=n(524329),eb=n(995532),eR=n(738643),ej=n(433355),eL=n(592125),eP=n(703558),eO=n(486472),ey=n(731290),eD=n(430824),ek=n(158776),eU=n(768119),ew=n(944486),eB=n(914010),eH=n(594174),eG=n(979651),eV=n(368666),eF=n(792125),eW=n(933557),ez=n(287746),eY=n(325708),eK=n(335615),eq=n(992744),eX=n(923029),eQ=n(176505),eJ=n(981631),e$=n(918559),e0=n(354459),e1=n(921944),e2=n(440493),e7=n(157925),e4=n(689938),e3=n(175803);function e5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let e6=(0,L.Un)({createPromise:()=>n.e("49131").then(n.bind(n,434878)),webpackId:434878,renderLoader:()=>(0,i.jsx)("div",{className:e3.loader,children:(0,i.jsx)(f.Spinner,{})}),name:"ForumChannel"});class e9 extends a.PureComponent{componentDidMount(){(0,eS.e)("guild_channel")}componentDidUpdate(e){null!=this.props.channel&&null!=e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1}),this.openChannelModal()}openChannelContextMenu(e,t){let{guild:a}=this.props;o()(null!=t,"Missing channel in Channel.openChannelContextMenu"),o()(null!=a,"Missing guild in Channel.openChannelContextMenu"),(0,E.jW)(e,async()=>{let{default:e}=await n.e("24783").then(n.bind(n,439635));return n=>(0,i.jsx)(e,{...n,channel:t,guild:a})})}openThreadContextMenu(e,t){o()(null!=t,"Missing channel in Channel.openChannelContextMenu"),(0,E.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return n=>(0,i.jsx)(e,{...n,channel:t})})}openDMContextMenu(e,t){o()(null!=t,"Missing channel in Channel.openDMContextMenu");let a=eH.default.getUser(t.getRecipientId());o()(null!=a,"Missing user in Channel.openDMContextMenu"),(0,E.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("22036"),n.e("56826"),n.e("4793")]).then(n.bind(n,131404));return n=>(0,i.jsx)(e,{...n,user:a,channelSelected:!0,channel:t})})}shouldRenderCall(){let{channel:e,showCall:t,nsfwAllowed:n,nsfwAgree:i}=this.props;return(!(null==e?void 0:e.isNSFW())||n&&i)&&t}renderCall(){let{channel:e}=this.props;if(o()(null!=e,"Missing channel in Channel.renderCall"),!this.shouldRenderCall())return null;switch(e.type){case eJ.d4z.GUILD_STAGE_VOICE:return(0,i.jsx)(eC.Z,{channel:e},e.id);case eJ.d4z.GUILD_VOICE:case eJ.d4z.DM:case eJ.d4z.GROUP_DM:case eJ.d4z.PUBLIC_THREAD:case eJ.d4z.PRIVATE_THREAD:let t=this.props.height-200;return(0,i.jsx)(b.Z,{channel:e,renderExternalHeader:this.renderHeaderBar,maxHeight:t},"call-".concat(e.id));default:return null}}renderEmbeddedActivityPanel(){let{channel:e}=this.props,t=this.shouldRenderCall();if(o()(null!=e,"Missing channel in Channel.renderEmbeddedActivityPanel"),t)return null;let n=this.props.height-200;return(0,i.jsx)(Z.Z,{maxHeight:n,renderExternalHeader:this.renderHeaderBar})}renderChat(){let{channel:e,nsfwAgree:t,guild:n,nsfwAllowed:a,needSubscriptionToAccess:l}=this.props;if(o()(null!=e,"Missing channel in Channel.renderChat"),l)return(o()(null!=n,"premium channels must exist within a guild"),null==e?void 0:e.isRoleSubscriptionTemplatePreviewChannel())?(0,i.jsx)(F.Z,{guildId:n.id}):(0,i.jsx)(G.l,{guildId:n.id,children:(0,i.jsx)(W.Z,{channelId:e.id,guildId:n.id})});if(e.isNSFW()&&(!a||!t))return(0,i.jsx)(x.Z,{guild:n});if(e.isGuildVocal())return null;if(e.isDirectory())return o()(null!=n,"directory channels must exist within a guild"),(0,i.jsx)(O.Z,{channel:e,guild:n});if(e.isForumLikeChannel()){o()(null!=n,"forum channels must exist within a guild");let t={isThreadSidebarFloating:this.state.isThreadSidebarFloating,threadSidebarWidth:this.state.threadSidebarWidth};return(0,i.jsx)(e6,{channel:e,guild:n,sidebarState:t},e.id)}return(0,i.jsx)(ez.Z,{channel:e,guild:n,chatInputType:R.I.NORMAL},null!=n?n.id:"home")}renderSidebar(){let{searchId:e,channel:t,parentChannel:n,guild:a,needSubscriptionToAccess:l,section:s,showCall:r,showActivityPanel:c}=this.props;if(o()(null!=t,"Missing channel in Channel.renderSidebar"),__OVERLAY__||l);else if(s===eJ.ULH.PROFILE&&t.isPrivate()&&!r&&!c)return(0,i.jsx)(eA.Z,{location:"Channel",channel:t},"private-channel-profile-".concat(t.id));else if(s===eJ.ULH.MEMBERS)switch(t.type){case eJ.d4z.GROUP_DM:return(0,i.jsx)(g.Z,{channel:t},"private-channel-recipients-".concat(t.id));case eJ.d4z.GUILD_DIRECTORY:case eJ.d4z.GUILD_FORUM:case eJ.d4z.GUILD_MEDIA:case eJ.d4z.GUILD_ANNOUNCEMENT:case eJ.d4z.GUILD_TEXT:var u;let d=!0===eJ.TPd.GUILD_THREADS_ONLY.has(t.type)?t.id:null!==(u=t.guild_id)&&void 0!==u?u:t.id;return(0,i.jsx)(eK.Z,{channel:t},"channel-members-".concat(d));case eJ.d4z.ANNOUNCEMENT_THREAD:if(null!=n)return(0,i.jsx)(eK.Z,{channel:n},"channel-members-".concat(n.id));break;case eJ.d4z.PUBLIC_THREAD:case eJ.d4z.PRIVATE_THREAD:if(!t.isArchivedThread()&&null!=a)return(0,i.jsx)(C.Z,{channel:t,guild:a},"channel-members-".concat(t.id))}else if(s===eJ.ULH.SEARCH&&null!=e)return(0,i.jsx)(e_.Z,{searchId:e});return null}openChannelModal(){let{channel:e,guildId:t,hasModalOpen:a,showWelcomeModal:l,isLurking:s,isUnavailable:r,showRealNameModal:o}=this.props;return null==e||null==t||r||a?null:(o&&(0,f.openModalLazy)(async()=>{let{default:e}=await n.e("53900").then(n.bind(n,784280));return n=>(0,i.jsx)(e,{...n,guildId:t})},{onCloseCallback:()=>w.Z.viewPrompt(e2.r.REAL_NAME_PROMPT,t),modalKey:"Guild Hub Real Name Modal"}),l&&(0,f.openModalLazy)(async()=>{let{default:e}=await n.e("77578").then(n.bind(n,184782));return n=>(0,i.jsx)(e,{...n,guildId:t})},{onCloseCallback:()=>(0,eM.y0)(t,s),modalKey:"Guild Welcome Screen Modal"}),null)}renderThreadSidebar(){let e;let{channel:t,section:n,channelSidebarState:a,guildSidebarState:l,nsfwAgree:s,nsfwAllowed:r,width:o}=this.props;if(null==l&&null==a)return null;if(n===eJ.ULH.SIDEBAR_CHAT&&null!=a){if((null==t?void 0:t.isNSFW())&&(!r||!s))return null;switch(a.type){case eE.tI.CREATE_THREAD:if(null==t?void 0:t.isForumLikeChannel())return null;e=(0,i.jsx)(eI.Z,{parentChannelId:a.parentChannelId,parentMessageId:a.parentMessageId,location:a.location});break;case eE.tI.VIEW_THREAD:let n=(null==t?void 0:t.isForumLikeChannel())?k.Z:ev.Z;e=(0,i.jsx)(n,{channelId:a.channelId});break;case eE.tI.VIEW_CHANNEL:case eE.tI.VIEW_MESSAGE_REQUEST:default:return null}}if(null!=l&&null==e){if(l.type===eE.jL.GUILD_MEMBER_MOD_VIEW){let{guildId:e,userId:t}=l.details;return(0,i.jsx)("div",{style:{width:eJ.$Y6},className:e3.guildSidebar,children:(0,i.jsx)(B.Z,{guildId:e,userId:t,onClose:()=>ef.Z.closeGuildSidebar(e)})})}return null}if(null==e)return null;let c=(null==t?void 0:t.type)!=null&&eJ.TPd.GUILD_THREADS_ONLY.has(t.type)?528:450,u=o-eJ.PrS-c;return(0,i.jsx)(eY.Z,{sidebarType:(null==t?void 0:t.type)!=null&&eJ.TPd.GUILD_THREADS_ONLY.has(t.type)?eY.y.PostSidebar:eY.y.ThreadSidebar,maxWidth:u,onWidthChange:this.handleThreadSidebarResize,children:e})}render(){let{channel:e,guild:t,formattedChannelName:n,isUnavailable:a,layout:l,section:r,hasModalOpen:o,guildSidebarState:c,hasTextActivityInPanelMode:u}=this.props,{threadSidebarWidth:d,isThreadSidebarFloating:h}=this.state,p=this.shouldRenderCall();if(a)return(0,i.jsx)(eq.Z,{});if(null==e)return(0,i.jsx)(eX.Z,{channelId:this.props.channelId});let m=r===eJ.ULH.SIDEBAR_CHAT,_=null!=c&&!m,f=!e.isForumLikeChannel()&&!o,E=null==t?void 0:t.name;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P.yY,{location:E,subsection:null!=n?n:void 0}),(0,i.jsxs)("div",{className:s()(e3.chat,{[e3.threadSidebarOpen]:m||_,[e3.threadSidebarFloating]:m&&h}),children:[f?(0,i.jsx)(I.Z,{style:{right:m?d:void 0},className:e3.uploadArea,channel:e,draftType:eP.d.ChannelMessage}):null,p||u?null:this.renderHeaderBar(),this.renderCall(),this.renderEmbeddedActivityPanel(),(0,i.jsxs)("div",{className:s()(e3.content,{[e3.noChat]:l===eJ.AEg.NO_CHAT}),children:[this.renderChat(),this.renderSidebar()]})]}),this.renderThreadSidebar(),(0,i.jsx)(z.Z,{})]})}constructor(...e){super(...e),e5(this,"state",{topicExpanded:!1,threadSidebarWidth:void 0,isThreadSidebarFloating:!1}),e5(this,"handleTitleParentClick",()=>{let{parentChannel:e}=this.props;if(null!=e)(0,ep.Kh)(e.id)}),e5(this,"_handleContextMenu",(e,t)=>{switch(t.type){case eJ.d4z.GUILD_VOICE:case eJ.d4z.GUILD_ANNOUNCEMENT:case eJ.d4z.GUILD_TEXT:case eJ.d4z.GUILD_FORUM:case eJ.d4z.GUILD_MEDIA:this.openChannelContextMenu(e,t);break;case eJ.d4z.ANNOUNCEMENT_THREAD:case eJ.d4z.PUBLIC_THREAD:case eJ.d4z.PRIVATE_THREAD:this.openThreadContextMenu(e,t);break;case eJ.d4z.DM:this.openDMContextMenu(e,t)}}),e5(this,"handleContextMenu",e=>{o()(null!=this.props.channel,"Missing channel in Channel.handleContextMenu"),this._handleContextMenu(e,this.props.channel)}),e5(this,"handleParentContextMenu",e=>{o()(null!=this.props.parentChannel,"Missing parentChannel in Channel.handleParentContextMenu"),this._handleContextMenu(e,this.props.parentChannel)}),e5(this,"handleThreadSidebarResize",(e,t)=>{this.setState({threadSidebarWidth:e,isThreadSidebarFloating:t})}),e5(this,"openUserProfile",()=>{let{channel:e}=this.props;o()(null==e?void 0:e.isPrivate(),"Missing private channel in Channel.openUserProfile"),(0,eZ.openUserProfileModal)({userId:e.getRecipientId(),guildId:e.guild_id,channelId:e.id,analyticsLocation:{section:eJ.jXE.CHANNEL_HEADER}})}),e5(this,"renderJoinRequestInterviewButtons",()=>{let{channel:e}=this.props;return(null==e?void 0:e.hasFlag(eQ.zZ.IS_JOIN_REQUEST_INTERVIEW_CHANNEL))?(0,i.jsx)(H.Z,{channelId:e.id,showTrailingDivider:!0}):null}),e5(this,"renderClipsEnabledIndicatorToolbarItem",()=>{let{inCall:e,voiceChannel:t}=this.props;return e?(0,i.jsx)(j.Z,{channelId:null!=t?t.id:null}):null}),e5(this,"renderStreamQualityLiveIndicatorToolbarItem",()=>{let{selectedParticipant:e,premiumIndicatorEnabled:t}=this.props;return(null==e?void 0:e.type)!==e0.fO.STREAM?null:(0,i.jsx)(U.Z,{size:eV.ZP.Sizes.LARGE,participant:e,showQuality:!0,premiumIndicator:t},"live-indicator")}),e5(this,"renderHeaderToolbar",()=>{let{channel:e,parentChannel:t,isLurking:n,showCall:a,showActivityPanel:l}=this.props;o()(null!=e,"Missing channel in Channel.renderHeaderToolbar");let s=[];if(e.isSystemDM())return s;switch(e.type){case eJ.d4z.GUILD_STAGE_VOICE:case eJ.d4z.GUILD_VOICE:break;case eJ.d4z.DM:s.push(this.renderClipsEnabledIndicatorToolbarItem()),s.push(this.renderStreamQualityLiveIndicatorToolbarItem()),s.push((0,i.jsx)(ee.Z,{channel:e},"calls")),s.push((0,i.jsx)(q.Z,{channel:e},"pins")),s.push((0,i.jsx)(et.Z,{channel:e,tooltip:e4.Z.Messages.GROUP_DM_ADD_FRIENDS},"invite")),s.push((0,i.jsx)(en.Z,{channel:e,showCallOrActivityPanel:a||l},"profile")),s.push((0,i.jsx)(ei.Z,{channel:e},"safety_tools"));break;case eJ.d4z.GROUP_DM:if(s.push(this.renderJoinRequestInterviewButtons()),s.push(this.renderClipsEnabledIndicatorToolbarItem()),s.push(this.renderStreamQualityLiveIndicatorToolbarItem()),s.push((0,i.jsx)(ee.Z,{channel:e},"calls")),s.push((0,i.jsx)(q.Z,{channel:e},"pins")),!e.isManaged()){let t=e4.Z.Messages.GROUP_DM_ADD_FRIENDS;s.push((0,i.jsx)(et.Z,{channel:e,tooltip:t},"invite"))}s.push((0,i.jsx)(Y.Z,{channelId:e.id},"members"));break;case eJ.d4z.ANNOUNCEMENT_THREAD:case eJ.d4z.PRIVATE_THREAD:case eJ.d4z.PUBLIC_THREAD:null!=t&&!t.isForumLikeChannel()&&s.push((0,i.jsx)(ex.Z,{channel:t},"browser")),e.isVocalThread()&&s.push((0,i.jsx)(ea.Z,{channel:e},"thread-call")),s.push((0,i.jsx)(eT.Z,{channel:e},"notifications")),s.push((0,i.jsx)(q.Z,{channel:e},"pins")),!e.isArchivedThread()&&s.push((0,i.jsx)(Y.Z,{channelId:e.id},"members")),null!=t&&(0,N.Lp)(e)&&s.push((0,i.jsx)(X.Z,{channel:e},"summaries")),s.push((0,i.jsx)(eN.Z,{channel:e},"threads-overflow"));break;case eJ.d4z.GUILD_ANNOUNCEMENT:case eJ.d4z.GUILD_TEXT:s.push((0,i.jsx)(D.Z,{channel:e},"favorites")),s.push((0,i.jsx)(ex.Z,{channel:e},"browser")),!n&&s.push((0,i.jsx)(K.Z,{channel:e},"notifications")),s.push((0,i.jsx)(q.Z,{channel:e},"pins")),s.push((0,i.jsx)(Y.Z,{channelId:e.id},"members")),(0,N.Lp)(e)&&s.push((0,i.jsx)(X.Z,{channel:e},"summaries"));break;case eJ.d4z.GUILD_FORUM:case eJ.d4z.GUILD_MEDIA:!n&&(s.push((0,i.jsx)(Q.Z,{channel:e},"forum-onboarding")),s.push((0,i.jsx)(K.Z,{channel:e},"notifications"))),!__OVERLAY__&&s.push((0,i.jsx)(Y.Z,{channelId:e.id},"members"));break;case eJ.d4z.GUILD_DIRECTORY:s.push((0,i.jsx)(Y.Z,{channelId:e.id},"members"))}return s}),e5(this,"renderMobileToolbar",()=>{let{channel:e}=this.props;o()(null!=e,"Missing channel in Channel.renderHeaderToolbar");let t=[];if(e.isSystemDM())return t;switch(e.type){case eJ.d4z.GUILD_STAGE_VOICE:case eJ.d4z.GUILD_VOICE:case eJ.d4z.DM:break;case eJ.d4z.GROUP_DM:t.push((0,i.jsx)(Y.Z,{channelId:e.id},"members"));break;case eJ.d4z.ANNOUNCEMENT_THREAD:case eJ.d4z.PRIVATE_THREAD:case eJ.d4z.PUBLIC_THREAD:!e.isArchivedThread()&&t.push((0,i.jsx)(Y.Z,{channelId:e.id},"members"));break;case eJ.d4z.GUILD_ANNOUNCEMENT:case eJ.d4z.GUILD_TEXT:case eJ.d4z.GUILD_FORUM:case eJ.d4z.GUILD_MEDIA:case eJ.d4z.GUILD_DIRECTORY:t.push((0,i.jsx)(Y.Z,{channelId:e.id},"members"))}return t}),e5(this,"renderFollowButton",()=>{let{showFollowButton:e,channel:t}=this.props;return e?(0,i.jsx)(f.Button,{size:f.Button.Sizes.MIN,color:f.Button.Colors.PRIMARY,className:e3.followButton,onClick:()=>(0,f.openModalLazy)(async()=>{let{default:e}=await n.e("54642").then(n.bind(n,720589));return n=>(0,i.jsx)(e,{channel:t,...n})}),children:e4.Z.Messages.FOLLOW}):null}),e5(this,"renderHeaderBar",()=>{let{channel:e,channelName:t,parentChannel:n,guild:a,guildId:l,showCall:r,showActivityPanel:c,hasVideo:u,headerGuildBreadcrumbPosition:d,isFavorites:h}=this.props;o()(null!=e,"Missing channel in Channel.renderHeaderBar"),o()(null!=t,"Should not be null if channel is not null.");let p=e.isDM()&&!e.isSystemDM()?this.openUserProfile:void 0,m=(null==n?void 0:n.guild_id)!=null&&(null==n?void 0:n.id)!=null?this.handleTitleParentClick:void 0;return(0,i.jsxs)("div",{className:e3.subtitleContainer,children:[(0,i.jsxs)(J.Z,{guildId:l,channelId:e.id,channelType:e.type,hideSearch:e.isDirectory()||h&&!(0,em.X)(),showDivider:h&&!(0,em.X)(),toolbar:this.renderHeaderToolbar(),mobileToolbar:this.renderMobileToolbar(),className:s()(e3.title,u&&r?(0,eF.Q)(eJ.BRd.DARK):null),transparent:r||c,"aria-label":e4.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:["left"===d&&(0,i.jsx)($.TS,{channel:e,guild:a,caretPosition:"right"}),(0,$.ud)({channel:e,channelName:t,parentChannel:n,guild:a,hasVideo:u,handleContextMenu:this.handleContextMenu,handleParentContextMenu:this.handleParentContextMenu,handleClick:p,handleParentClick:m,renderFollowButton:this.renderFollowButton}),"right"===d&&(0,i.jsx)($.TS,{channel:e,guild:a,caretPosition:"left"}),(0,$.v0)(e,a)]},"header-".concat(e.id)),(0,i.jsx)(ed.Z,{channelId:e.id})]})})}}let e8=(0,T.Z)(e9);t.Z=a.memo(function(e){var t;let{providedChannel:n}=e,[l,s]=a.useState(null),r=(0,p.e7)([ew.Z],()=>ew.Z.getChannelId()),o=(0,p.e7)([ew.Z],()=>ew.Z.getVoiceChannelId()),c=(0,p.e7)([eL.Z],()=>null!=n?n:eL.Z.getChannel(r),[r,n]),f=(0,p.e7)([eL.Z],()=>eL.Z.getChannel(o),[o]),E=null==c?void 0:c.parent_id,g=(0,p.e7)([eL.Z],()=>eL.Z.getChannel(E),[E]),C=(0,p.e7)([eD.Z],()=>eD.Z.getGuild(null==c?void 0:c.guild_id),[c]),{needSubscriptionToAccess:I}=(0,V.Z)(null!==(t=null==c?void 0:c.id)&&void 0!==t?t:void 0),x=(0,p.e7)([M.Z],()=>{let e=null!=r?M.Z.getParticipants(r):[],t=null!=r?M.Z.getActivityParticipants(r):[];return e.length-t.length>0},[r]),T=(0,p.e7)([S.ZP],()=>{var e;return S.ZP.getSelfEmbeddedActivityForChannel(null!==(e=null==c?void 0:c.id)&&void 0!==e?e:eJ.lds)}),Z=(0,p.e7)([S.ZP],()=>S.ZP.getActivityPanelMode()),b=null!=T&&!(0,A.Z)(null==c?void 0:c.id)&&Z===e$.Ez.PANEL,R=(0,p.e7)([eG.Z],()=>null!=c&&c.isVocalThread()&&!u().isEmpty(eG.Z.getVoiceStatesForChannel(c.id)),[c]),j=null!=c&&c.isPrivate()&&!b&&x,L=(null==c?void 0:c.isGuildVocal())||j||R,{welcomeModalChannelId:P}=(0,d.TH)(),O=(0,p.e7)([er.Z],()=>null!=c&&er.Z.isLurking(c.guild_id),[c]),D=(0,p.e7)([eb.Z],()=>eb.Z.hasSeen(null==c?void 0:c.guild_id,O),[c,O]),k=(0,p.e7)([M.Z,S.ZP],()=>null!=S.ZP.getConnectedActivityChannelId()&&S.ZP.getActivityPanelMode()===e$.Ez.PANEL?S.ZP.getFocusedLayout()===e$.MI.NO_CHAT?eJ.AEg.NO_CHAT:eJ.AEg.NORMAL:null!=r?M.Z.getLayout(r):eJ.AEg.NORMAL,[r]),U=(0,p.e7)([M.Z],()=>null!=c?M.Z.getSelectedParticipant(c.id):null),w=(0,p.e7)([eH.default],()=>eH.default.getCurrentUser()),B=(0,el.Z)(C),H=(0,eR.Z)(P,null==C?void 0:C.id),{section:G,channelSidebarState:F}=(0,p.cj)([ej.ZP],()=>({section:ej.ZP.getSection(r,null==c?void 0:c.isDM()),channelSidebarState:ej.ZP.getSidebarState(r)}),[r,c]),W=null==C?void 0:C.id,z=(0,p.e7)([ej.ZP],()=>ej.ZP.getGuildSidebarState(W),[W]),Y=(0,p.e7)([eB.Z],()=>eB.Z.getGuildId())===eJ.I_8,{available:K,activated:q,hqStreamingState:X}=(0,eu.k)(h.q.STREAM_HIGH_QUALITY),Q=K&&q&&X.hqStreamingIsEnabled,J=(0,ec.o)(U,w),$=(0,eo.lL)("Channel",!0,w,J),ee=(0,eW.ZP)(c),et=(0,eW.ZP)(c,!0),en=null!=c&&o===c.id,ei=null!=c&&c.isGuildStageVoice();a.useEffect(()=>{var e,t,n;let i=(0,eh.s1)();if((null==i?void 0:null===(e=i.location)||void 0===e?void 0:e.state)===e7.Df){let{channelId:e}=null!==(n=(0,es.Qj)(null==i?void 0:null===(t=i.location)||void 0===t?void 0:t.pathname))&&void 0!==n?n:{};null!=e&&s(e)}},[]),a.useEffect(()=>{null!=l&&null!=c&&ei&&c.id===l&&!en&&((0,eg.Cq)(c),s(null))},[l,ei]);let ea=(0,N.ts)(c),ed=null!=c&&c.isPrivate(),ep=(0,v.Z)(ed),em=(0,v.Z)(null==c?void 0:c.id);a.useEffect(()=>{let e=ep&&!ed,t=ep&&ed&&(null==c?void 0:c.id)!==em;(e||t)&&(0,y.EW)(m.z.ACTIVITY_GDM_CALL_TOOLTIP,{dismissAction:e1.L.AUTO})},[null==c?void 0:c.id,em,ed,ep]);let e_=(0,_.f9)();return(0,i.jsx)(e8,{guildId:null==c?void 0:c.guild_id,channelId:r,channel:c,channelName:ee,formattedChannelName:et,parentChannel:g,voiceChannel:f,layout:k,needSubscriptionToAccess:I,isLurking:O,hasModalOpen:e_,section:G,channelSidebarState:F,guildSidebarState:z,guild:C,searchId:(0,p.e7)([eU.Z],()=>eU.Z.getCurrentSearchId()),showCall:!I&&L,showActivityPanel:b,nsfwAgree:(0,p.e7)([ey.Z],()=>ey.Z.didAgree(null==c?void 0:c.guild_id)),isMobile:(0,p.e7)([ek.Z],()=>(null==c?void 0:c.type)===eJ.d4z.DM&&ek.Z.isMobileOnline(c.getRecipientId()),[c]),isUnavailable:(0,p.e7)([eO.Z],()=>(null==c?void 0:c.guild_id)!=null&&eO.Z.isUnavailable(c.guild_id),[c]),showRealNameModal:B,showWelcomeModal:!D&&H,showFollowButton:(null==c?void 0:c.type)===eJ.d4z.GUILD_ANNOUNCEMENT&&(null==C?void 0:C.hasFeature(eJ.oNc.NEWS))||!1,...(0,p.cj)([eG.Z],()=>({hasVideo:null!=c&&eG.Z.hasVideo(c.id)}),[c]),inCall:en,selectedParticipant:U,nsfwAllowed:(null==w?void 0:w.nsfwAllowed)===!0,showChannelSummaries:ea,isFavorites:Y,headerGuildBreadcrumbPosition:Y?"left":"right",premiumIndicatorEnabled:Q||$.enabled,hasTextActivityInPanelMode:b})})},287746:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(512722),s=n.n(l),r=n(873546),o=n(106351),c=n(442837),u=n(481060),d=n(430742),h=n(904245),p=n(144144),m=n(166459),_=n(966390),f=n(738619),E=n(410575),g=n(744061),C=n(857595),I=n(607070),x=n(367907),T=n(555573),N=n(456007),v=n(10718),S=n(895924),Z=n(581364),A=n(667204),M=n(541716),b=n(752305),R=n(424595),j=n(516887),L=n(974251),P=n(893718),O=n(436660),y=n(603009),D=n(28546),k=n(295474),U=n(521476),w=n(69882),B=n(71619),H=n(185145),G=n(736052),V=n(898188),F=n(925975),W=n(957730),z=n(400023),Y=n(64078),K=n(351780),q=n(843693),X=n(217871),Q=n(139577),J=n(247944),$=n(623292),ee=n(807092),et=n(268350),en=n(155409),ei=n(314897),ea=n(433355),el=n(703558),es=n(323873),er=n(271383),eo=n(375954),ec=n(496675),eu=n(944486),ed=n(117530),eh=n(594174),ep=n(482207),em=n(626135),e_=n(459273),ef=n(585483),eE=n(709054),eg=n(838440),eC=n(228488),eI=n(127654),ex=n(979956),eT=n(655687),eN=n(25007),ev=n(199649),eS=n(1397),eZ=n(981631),eA=n(689938),eM=n(175803);function eb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eR(e){e.preventDefault()}let ej=/^\+(?!\w+):?(?!:)(\w+)?:?$/;function eL(e){let{isSidebar:t,...n}=e;return t?(0,i.jsx)("section",{...n,role:"complementary"}):(0,i.jsx)("main",{...n})}class eP extends a.PureComponent{componentDidMount(){el.Z.addChangeListener(this.draftDidChange)}componentWillUnmount(){el.Z.removeChangeListener(this.draftDidChange)}componentDidUpdate(e,t){let{channel:n}=this.props,{textValue:i}=this.state;if(e.channel.id!==n.id){this.draftDidChange(this.props);return}if(e.hasModalOpen&&!this.props.hasModalOpen){let e=el.Z.getDraft(n.id,el.d.ChannelMessage);e!==i&&this.setState((0,b.eK)(e))}t.textValue.length<eZ.J6R&&i.length>=eZ.J6R&&em.default.track(eZ.rMx.MESSAGE_LENGTH_LIMIT_REACHED,{})}handleEditLastMessage(e){let{channel:t}=this.props;h.Z.startEditMessage(t.id,e.id,e.content),x.ZP.trackWithMetadata(eZ.rMx.MESSAGE_EDIT_UP_ARROW)}handleRecallLastCommand(e){if(null==e.interactionData)return;let{channel:t}=this.props,{commandKey:n,interactionOptions:i}=(0,Z.XA)(e.interactionData),{command:a,application:l}=v.Xq(t,n);if(null!=a){var s,r;let e=null!=l?{type:S.Qi.APPLICATION,id:l.id,icon:null!==(r=null==l?void 0:null===(s=l.bot)||void 0===s?void 0:s.username)&&void 0!==r?r:l.icon,name:l.name,application:l}:null;T.Po({channelId:t.id,command:a,section:e,location:S.Vh.RECALL,initialValues:(0,N.Dw)(a,null!=i?i:[])})}}render(){let{channel:e,focused:t,onResize:n,onBlur:a,onFocus:l,highlighted:r,pendingReply:o,chatInputType:c,placeholder:d,accessibilityLabel:h,shakeIntensity:p,poggermodeEnabled:m}=this.props,{contentWarningProps:_}=this.state,f=(0,i.jsx)(P.Z,{textValue:this.state.textValue,richValue:this.state.richValue,focused:t,className:eM.channelTextArea,channel:e,placeholder:d,accessibilityLabel:h,pendingReply:o,type:c,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:n,onFocus:l,onBlur:a,onKeyDown:this.handleKeyDown,renderAttachButton:this.renderAttachButton,renderAppLauncherButton:this.renderAppLauncherButton,renderApplicationCommandIcon:this.renderApplicationCommandIcon,promptToUpload:eI.d,highlighted:r,setEditorRef:e=>this.editorRef=e});return(0,i.jsx)(u.Popout,{position:"top",onRequestClose:()=>{var e;null==_||null===(e=_.onCancel)||void 0===e||e.call(_),this.setState({contentWarningProps:null})},shouldShow:null!=_,renderPopout:e=>{let{closePopout:t}=e;return s()(null!=_,"ChannelTextAreaForm > Popout > renderPopout: contentWarningProps cannot be null"),(0,i.jsx)(g.Z,{onClose:t,..._})},children:()=>m?(0,i.jsx)(u.Shaker,{isShaking:p>0,intensity:p,children:f}):f})}constructor(...e){var t;super(...e),t=this,eb(this,"isFirstChange",!0),eb(this,"editorRef",null),eb(this,"state",{...(0,b.eK)(el.Z.getDraft(this.props.channel.id,el.d.ChannelMessage)),contentWarningProps:null}),eb(this,"draftDidChange",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props,{textValue:n}=t.state,i=el.Z.getDraft(e.channel.id,el.d.ChannelMessage);n!==i&&(""===i||""===n)&&t.setState((0,b.eK)(i),()=>{if(n!==i){let{onFocus:e}=t.props;null==e||e()}})}),eb(this,"handleKeyDown",e=>{let{keyboardModeEnabled:t,onKeyDown:n,channel:i}=this.props,a=e.shiftKey||e.altKey||e.ctrlKey||e.metaKey,l=0!==this.state.textValue.length;switch(e.which){case eZ.yXg.DELETE:case eZ.yXg.BACKSPACE:this.handleIncrementCombo("",1);return;case eZ.yXg.ARROW_UP:if(a||l)return;if(e.preventDefault(),t)ed.Z.getUploadCount(i.id,el.d.ChannelMessage)>0?ef.S.dispatchToLastSubscribed(eZ.CkL.FOCUS_ATTACHMENT_AREA):ef.S.dispatchToLastSubscribed(eZ.CkL.FOCUS_MESSAGES,{atEnd:!0});else{let{channel:e}=this.props,t=eo.Z.getLastCommandMessage(e.id),n=eo.Z.getLastEditableMessage(e.id);null!=t&&null!=n?eE.default.compare(n.id,t.id)>0?this.handleEditLastMessage(n):this.handleRecallLastCommand(t):null!=t?this.handleRecallLastCommand(t):null!=n&&this.handleEditLastMessage(n)}return;case eZ.yXg.ESCAPE:if(a||e.target!==e.currentTarget)return;if(e.preventDefault(),t){(0,C.rf)();return}if(ed.Z.getUploadCount(i.id,el.d.ChannelMessage)>0){m.Z.clearAll(i.id,el.d.ChannelMessage);return}}null==n||n(e,l)}),eb(this,"handleIncrementCombo",(e,t)=>{var n;if(!this.props.poggermodeEnabled)return;let i=this.props.channel.id,a=ei.default.getId(),l=q.ZP.getUserCombo(a,i),s=(null!==(n=null==l?void 0:l.value)&&void 0!==n?n:0)+1;(0,Y.SE)({channelId:i,userId:a,value:null!=e?e.length:s,multiplier:t})}),eb(this,"handleTextareaChange",(e,t,n)=>{let{keyboardModeEnabled:i,channel:{id:a}}=this.props;d.Z.changeDraft(a,t,el.d.ChannelMessage);let l=""!==t&&n!==this.state.richValue,s=l&&!ej.test(t)&&!t.startsWith("/")&&(!this.isFirstChange||t!==this.state.textValue);this.isFirstChange=!1,s&&this.state.textValue.length<t.length&&this.handleIncrementCombo(),s?p.Z.startTyping(a):""===t&&p.Z.stopTyping(a),l&&i&&(0,C.rf)(),this.setState({textValue:t,richValue:n})}),eb(this,"handleSendMessage",async e=>{let{value:t,uploads:n,stickers:i,command:a,commandOptionValues:l,isGif:s}=e;if(0===(t=t.trim()).length&&(null==i||0===i.length)&&(null==n||0===n.length))return Promise.resolve({shouldClear:!1,shouldRefocus:!0});let{guild:r,channel:o,pendingReply:c,chatInputType:u}=this.props,d=!1;if(null!=a){if(a.inputType===S.iw.BUILT_IN_INTEGRATION)return ef.S.dispatch(eZ.CkL.SHAKE_APP,{duration:200,intensity:2}),Promise.resolve({shouldClear:!1,shouldRefocus:!0});let e=await (0,A.Z)({command:a,optionValues:null!=l?l:{},context:{guild:r,channel:o}});if(a.inputType!==S.iw.BUILT_IN_TEXT)return Promise.resolve({shouldClear:!0,shouldRefocus:!0});null!=e&&(t=null!=e.content&&""!==e.content?e.content:t,d=!0===e.tts)}return(0,eg.v)({openWarningPopout:e=>this.setState({contentWarningProps:e}),type:this.props.chatInputType,content:t,stickers:i,uploads:n,channel:o}).then(e=>{let{valid:a,failureReason:l}=e;if(!a)return l===eZ.zYc.SLOWMODE_COOLDOWN?(ef.S.dispatch(eZ.CkL.SHAKE_APP,{duration:200,intensity:2}),ef.S.dispatch(eZ.CkL.EMPHASIZE_SLOWMODE_COOLDOWN),{shouldClear:!1,shouldRefocus:!0}):{shouldClear:!1,shouldRefocus:!1};let p=(0,F.g)(t,{channel:o,isEdit:!1});null!=p&&(null!=p.content&&(t=p.content),null!=p.tts&&(d=p.tts));let f=W.ZP.parse(o,t);f.tts=f.tts||d;let E=h.Z.getSendMessageOptionsForReply(c);if(s)return h.Z.sendMessage(o.id,f,void 0,E),(0,$.A6)(o.id),{shouldClear:!1,shouldRefocus:!0};if(null!=n&&n.length>0){let e=(0,ex.KZ)(n);if((0,ex.Bf)(e,null==r?void 0:r.id))return(0,eI.G)(o,e),{shouldClear:!1,shouldRefocus:!1};_.Z.uploadFiles({channelId:o.id,uploads:n,draftType:el.d.ChannelMessage,parsedMessage:f,options:{...E,stickerIds:i}}),m.Z.clearAll(o.id,el.d.ChannelMessage)}else null!=i&&i.length>0?""!==t?h.Z.sendMessage(o.id,f,void 0,{...E,stickerIds:i}):h.Z.sendStickers(o.id,i,t,E,f.tts):h.Z.sendMessage(o.id,f,void 0,E);return this.setState((0,b.H2)()),(0,$.A6)(o.id),(0,et.qB)(o.id,u.drafts.type),{shouldClear:!0,shouldRefocus:!0}})}),eb(this,"handleSetValue",e=>{var t,n;let i=null===(t=this.editorRef)||void 0===t?void 0:t.getSlateEditor();null!=i&&(O.Q.select(i,[]),i.insertText(e),null===(n=this.editorRef)||void 0===n||n.focus())}),eb(this,"renderAttachButton",(e,t)=>(0,i.jsx)(L.Z,{className:t,channel:this.props.channel,draftType:el.d.ChannelMessage,editorTextContent:this.state.textValue,setValue:this.handleSetValue,canOnlyUseTextCommands:e})),eb(this,"renderAppLauncherButton",e=>{let{ref:t}=e;return(0,i.jsx)(R.Z,{ref:t})}),eb(this,"renderApplicationCommandIcon",(e,t,n)=>(0,i.jsx)(j.Z,{className:n,command:e,section:t,channel:this.props.channel}))}}class eO extends a.PureComponent{static getDerivedStateFromProps(e,t){let{channel:n}=e,{currentChannelId:i}=t;return n.id!==i?{textAreaFocused:null!=n&&!r.tq&&ec.Z.can(eZ.Plq.SEND_MESSAGES,n),currentChannelId:n.id}:null}componentDidMount(){ef.S.subscribe(eZ.CkL.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)}componentDidUpdate(e){(this.props.isEditing!==e.isEditing||this.props.hasModalOpen!==e.hasModalOpen)&&(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus())}componentWillUnmount(){ef.S.unsubscribe(eZ.CkL.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)}render(){var e;let t;let{channel:n,guild:a,keyboardModeEnabled:l,hasModalOpen:s,pendingReply:r,chatInputType:c,placeholder:d,accessibilityLabel:h,showQuarantinedUserBanner:p,filterAfterTimestamp:m,communicationDisabledUntil:_,shakeIntensity:g,poggermodeEnabled:C,isSelectedResourceChannel:I,showAutomodUserProfileChatBlocker:x}=this.props,{textAreaFocused:T,textAreaHighlighted:N}=this.state,v=c===M.I.SIDEBAR;t=v&&n.type===eZ.d4z.GUILD_VOICE?eA.Z.Messages.TEXT_IN_VOICE_A11Y_LABEL:v&&n.type===eZ.d4z.GUILD_STAGE_VOICE?eA.Z.Messages.TEXT_IN_STAGE_A11Y_LABEL:o.T.THREADS.has(n.type)?eA.Z.Messages.THREAD_A11Y_LABEL:eA.Z.Messages.CHANNEL_A11Y_LABEL;let S=(0,i.jsx)(en.Z,{tutorialId:"writing-messages",position:"left",offsetX:75,children:(0,i.jsx)(eP,{focused:T,highlighted:N,channel:n,guild:a,keyboardModeEnabled:l,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,hasModalOpen:s,pendingReply:r,chatInputType:c,placeholder:d,accessibilityLabel:h,shakeIntensity:g,poggermodeEnabled:C})});return(0,i.jsx)(E.Z,{page:this.getAnalyticsPage(),children:(0,i.jsx)(ep.sW,{children:(0,i.jsxs)(e_.I3,{ref:this.dispatchGroupRef,children:[(0,i.jsx)(e_.d9,{event:eZ.CkL.TEXTAREA_FOCUS,handler:this.handleInputFocus}),(0,i.jsx)(e_.d9,{event:eZ.CkL.TEXTAREA_BLUR,handler:this.handleInputBlur}),(0,i.jsx)(e_.d9,{event:eZ.CkL.OPEN_EXPRESSION_PICKER,handler:this.handleOpenExpressionPicker}),(0,i.jsxs)(eL,{isSidebar:v,className:eM.chatContent,"aria-label":t.format({channelName:n.name}),onMouseDown:this.handleChatInteract,onKeyDown:this.handleKeyDown,onFocus:this.handleChatInteract,children:[(0,i.jsx)(eN.Z,{channel:n,guild:a,narrow:v}),(0,i.jsxs)(u.HeadingLevel,{component:(0,i.jsx)(u.HiddenVisually,{children:(0,i.jsx)(u.H,{children:eA.Z.Messages.CHANNEL_CHAT_HEADING.format({channelName:n.name})})}),children:[(0,i.jsx)(z.Z,{channel:n,forceCozy:I,filterAfterTimestamp:m,showingQuarantineBanner:p}),null==n.guild_id||v?null:(0,i.jsx)(V.Z,{guildId:n.guild_id,channel:n}),I?null:null!==(e=this.renderMessageBanner({channel:n,showQuarantinedUserBanner:p,guild:a,communicationDisabledUntil:_,showAutomodUserProfileChatBlocker:x}))&&void 0!==e?e:(0,i.jsxs)("form",{ref:this.inputFormRef,onSubmit:eR,className:eM.form,children:[C&&(0,i.jsx)(X.Z,{channelId:n.id}),n.isPrivate()?(0,i.jsx)(ev.Z,{channel:n,children:S}):(0,i.jsx)(eS.Z,{channel:n,children:S}),(0,i.jsx)(f.Z,{channel:n,poggermodeEnabled:C}),!v&&(0,i.jsx)(y.Z,{})]}),(0,i.jsx)(ep.kw,{})]})]})]})})},"messages-".concat(n.id))}constructor(...e){super(...e),eb(this,"inputFormRef",a.createRef()),eb(this,"state",{textAreaFocused:!1,textAreaHighlighted:!1,currentChannelId:this.props.channel.id}),eb(this,"dispatchGroupRef",a.createRef()),eb(this,"handleRequestFocus",e=>{e.channelId===this.props.channel.id&&this.setState({textAreaFocused:!0})}),eb(this,"getAnalyticsPage",()=>{let{channel:e}=this.props;if(null==e)return null;switch(e.type){case eZ.d4z.GUILD_ANNOUNCEMENT:case eZ.d4z.GUILD_TEXT:case eZ.d4z.GUILD_FORUM:case eZ.d4z.GUILD_MEDIA:return E.Z.Pages.GUILD_CHANNEL;case eZ.d4z.GROUP_DM:case eZ.d4z.DM:return E.Z.Pages.DM_CHANNEL;default:return null}}),eb(this,"handleInputFocus",e=>{var t;if(null===(t=this.dispatchGroupRef.current)||void 0===t||t.bumpDispatchPriority(),!(0,eC.rB)())(null==e?void 0:e.highlight)!=null?this.setState({textAreaFocused:!0,textAreaHighlighted:null==e?void 0:e.highlight}):this.setState({textAreaFocused:!0})}),eb(this,"handleInputBlur",()=>{(document.hasFocus()||this.props.hasModalOpen)&&this.setState({textAreaFocused:!1,textAreaHighlighted:!1})}),eb(this,"handleInputKeyDown",(e,t)=>{this.state.textAreaHighlighted&&this.setState({textAreaHighlighted:!1}),!t&&this._handleMoveToPane(e)}),eb(this,"handleKeyDown",e=>{var t;if(null===(t=this.inputFormRef.current)||void 0===t?!void 0:!t.contains(e.target))this._handleMoveToPane(e)}),eb(this,"_handleMoveToPane",e=>{let{keyboardModeEnabled:t,chatInputType:n,channel:i}=this.props;if(!!t)switch(e.which){case eZ.yXg.ARROW_LEFT:n===M.I.SIDEBAR&&ef.S.dispatch(eZ.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:eu.Z.getChannelId()});return;case eZ.yXg.ARROW_RIGHT:n===M.I.NORMAL&&ef.S.dispatch(eZ.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:ea.ZP.getCurrentSidebarChannelId(i.id)})}}),eb(this,"handleOpenExpressionPicker",e=>{let{activeView:t}=e;(0,D.PG)(t,this.props.chatInputType)}),eb(this,"handleChatInteract",()=>{var e;null===(e=this.dispatchGroupRef.current)||void 0===e||e.bumpDispatchPriority()}),eb(this,"renderMessageBanner",e=>{let{channel:t,showQuarantinedUserBanner:n,guild:a,communicationDisabledUntil:l,showAutomodUserProfileChatBlocker:s}=e;return t.type===eZ.d4z.DM&&n?(0,i.jsx)(J.Z,{}):null!=l&&(0,w.J)(l)&&null!=a&&!ec.Z.can(eZ.Plq.ADMINISTRATOR,a)?(0,i.jsx)(H.T,{guild:a,disabledUntil:l}):s?(0,i.jsx)(U.h,{guild:a}):null})}}t.Z=a.memo(function(e){let{channel:t,guild:n,chatInputType:a,filterAfterTimestamp:l}=e,{placeholder:s,accessibilityLabel:r}=(0,eT.Z)(t),o=(0,J.S)(eh.default.getCurrentUser(),t),[d]=(0,B.AB)(null==n?void 0:n.id),h=(0,k.Ux)(null==n?void 0:n.id),p=(0,c.e7)([eh.default],()=>eh.default.getCurrentUser()),m=(0,c.e7)([er.ZP],()=>{var e,t,i;return null!=p&&null!==(i=null===(e=er.ZP.getMember(null!==(t=null==n?void 0:n.id)&&void 0!==t?t:eZ.lds,null==p?void 0:p.id))||void 0===e?void 0:e.isPending)&&void 0!==i&&i}),_=(0,c.e7)([K.Z],()=>K.Z.isEnabled()),f=(0,Q.Z)(t.id),E=(0,G.Z)(t.id);return(0,i.jsx)(eO,{channel:t,isEditing:null!=(0,c.e7)([es.Z],()=>es.Z.getEditingMessageId(t.id)),hasModalOpen:(0,u.useModalsStore)(u.hasAnyModalOpenSelector),guild:n,keyboardModeEnabled:(0,c.e7)([I.Z],()=>I.Z.keyboardModeEnabled),pendingReply:(0,c.e7)([ee.Z],()=>ee.Z.getPendingReply(t.id)),chatInputType:a,placeholder:s,accessibilityLabel:r,filterAfterTimestamp:l,showQuarantinedUserBanner:o,communicationDisabledUntil:d,shakeIntensity:f,poggermodeEnabled:_,isSelectedResourceChannel:E,showAutomodUserProfileChatBlocker:h&&!m})})},25007:function(e,t,n){var i=n(735250),a=n(470079),l=n(481369),s=n(944103),r=n(946050),o=n(256413),c=n(292853),u=n(359565),d=n(226027);t.Z=a.memo(function(e){let{channel:t,narrow:n}=e,a=(0,o.Z)(t),h=(0,l.Z)(),{canRenderNotice:p,recordNoticeRender:m}=(0,s.Z)(t);return t.isArchivedLockedThread()?(0,i.jsx)(u.s,{channel:t,narrow:n}):t.isLockedThread()?(0,i.jsx)(u.q,{channel:t,narrow:n}):a&&h.includes(d.E.OPT_IN_CHANNEL)?(0,i.jsx)(c.Z,{channel:t,narrow:n}):p?(0,i.jsx)(r.Z,{channel:t,onChannelChange:m}):null})},325708:function(e,t,n){n.d(t,{Z:function(){return E},y:function(){return i}}),n(47120);var i,a,l=n(735250),s=n(470079),r=n(120356),o=n.n(r),c=n(392711),u=n(692547),d=n(153867),h=n(347469),p=n(740492),m=n(36645),_=n(923756);(a=i||(i={}))[a.PostSidebar=0]="PostSidebar",a[a.ThreadSidebar=1]="ThreadSidebar",a[a.CallChatSidebar=2]="CallChatSidebar",a[a.MessageRequestSidebar=3]="MessageRequestSidebar",a[a.HomeSidebar=4]="HomeSidebar";function f(e){let{resizableNode:t,onResize:n,onResizeEnd:i,maxWidth:a}=e,s=(0,h.Z)({minDimension:m.C,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:i,orientation:h.y.HORIZONTAL_LEFT});return(0,l.jsx)("div",{onMouseDown:s,className:_.resizeHandle})}function E(e){let{sidebarType:t,maxWidth:n,onWidthChange:i,children:a,floatingLayer:r}=e,h=s.useRef(null),E=function(e){switch(e){case 0:return"postSidebarWidth";case 1:return"threadSidebarWidth";case 2:return"callChatSidebarWidth";case 3:return"messageRequestSidebarWidth";case 4:return"homeSidebarWidth"}}(t),[g,C]=s.useState(p.ZP[E]),I=s.useCallback(e=>{d.ZP.updatedUnsyncedSettings({[E]:e})},[E]),x=(0,m.W)({maxWidth:n}),T=(0,c.clamp)(g,m.C,n),N=x?T:T+u.Z.modules.chat.RESIZE_HANDLE_WIDTH;s.useEffect(()=>{null==i||i(T,x)},[T,i,x]);let v=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:o()(_.chatTarget,{[_.floating]:x,[_.notFloating]:!x}),style:{width:N}}),!x&&(0,l.jsx)(f,{maxWidth:n,resizableNode:h,onResize:C,onResizeEnd:I}),(0,l.jsx)("div",{ref:h,className:o()(_.container,{[_.floating]:x}),style:{width:T},children:a})]});if(x){let e=null!=r?r:s.Fragment;return(0,l.jsx)(e,{children:(0,l.jsx)("div",{className:_.chatLayerWrapper,children:v})})}return(0,l.jsx)(l.Fragment,{children:v})}},335615:function(e,t,n){n.d(t,{Z:function(){return el}}),n(47120),n(724458);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(392711),o=n.n(r),c=n(91192),u=n(924826),d=n(873546),h=n(442837),p=n(902704),m=n(481060),_=n(239091),f=n(941028),E=n(144144),g=n(276264),C=n(607070),I=n(100527),x=n(367907),T=n(906732),N=n(493324),v=n(611064),S=n(677432),Z=n(178762),A=n(868671),M=n(623624),b=n(518738),R=n(280234),j=n(480384),L=n(155409),P=n(484459),O=n(103575),y=n(439170),D=n(430824),k=n(111583),U=n(594174),w=n(153124),B=n(151827),H=n(176278),G=n(585483),V=n(823379),F=n(51144),W=n(998502),z=n(981631),Y=n(689938),K=n(279691);function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let X=W.ZP.getEnableHardwareAcceleration(),Q=44+g.x,J={origin:{x:38,y:11},targetWidth:232,targetHeight:40,offset:{x:0,y:0}};class $ extends a.Component{shouldComponentUpdate(e){return!(0,p.Z)(this.props,e,["channelId"])}render(){let{colorString:e,colorRoleName:t,isOwner:n,nick:a,user:l,currentUser:s,activities:r,applicationStream:o,status:c,channel:u,guildId:h,isTyping:p,isMobileOnline:_,lastOnlineTimestamp:f,premiumSince:E,...C}=this.props,I=null!=E?new Date(E):null;return(0,i.jsx)(m.Popout,{preload:()=>(0,P.W)(l,{channelId:u.id,guildId:h}),renderPopout:this.renderUserPopout,position:d.tq?"window_center":"left",spacing:16,onShiftClick:this.handleShiftClick,children:(d,m)=>{let{isShown:E}=m;return(0,i.jsx)(g.Z,{className:K.member,onContextMenu:this.renderUserContextMenu,shouldAnimateStatus:X,user:l,currentUser:s,nick:a,status:c,activities:r,applicationStream:o,isOwner:n,premiumSince:I,colorString:e,colorRoleName:t,isTyping:p,channel:u,guildId:h,isMobile:_,onClickPremiumGuildIcon:this.openGuildSubscriptionModal,selected:E,itemProps:C,lastOnlineTimestamp:f,...d})}})}constructor(...e){super(...e),q(this,"renderUserContextMenu",e=>{(0,_.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("12435"),n.e("47195")]).then(n.bind(n,757387));return t=>(0,i.jsx)(e,{...t,user:this.props.user,guildId:this.props.guildId,channel:this.props.channel,showMediaItems:!0})})}),q(this,"handleShiftClick",()=>{let{user:e,channel:t}=this.props,n="@".concat(F.ZP.getUserTag(e,{decoration:"never"})),i="<@".concat(e.id,">");G.S.dispatchToLastSubscribed(z.CkL.INSERT_TEXT,{plainText:n,rawText:i}),E.Z.startTyping(t.id)}),q(this,"openGuildSubscriptionModal",e=>{let{guildId:t}=this.props;if(null!=t)e.stopPropagation(),(0,M.f)({guildId:t,location:{section:z.jXE.MEMBER_LIST,object:z.qAy.BOOST_GEM_ICON}})}),q(this,"renderUserPopout",e=>(0,i.jsx)(O.Z,{...e,location:"ChannelMembers",userId:this.props.user.id,guildId:this.props.guildId,channelId:this.props.channel.id,roleId:this.props.colorRoleId,analyticsParams:{location:{page:z.ZY5.GUILD_CHANNEL,section:z.jXE.MEMBER_LIST}}}))}}let ee=a.memo(e=>{let{colorRoleId:t,...n}=e,{channel:l,user:s,status:r,isGuildEligibleForRecentlyOnline:o,index:u}=e,d=(0,c.JA)("".concat(u)),p=(0,h.e7)([k.Z],()=>k.Z.isTyping(l.id,s.id)),m=(0,h.e7)([U.default],()=>U.default.getCurrentUser()),_=(0,h.e7)([D.Z],()=>{var e;return null!=t?null===(e=D.Z.getRole(l.guild_id,t))||void 0===e?void 0:e.name:void 0},[l,t]);return a.useEffect(()=>{r===z.Skl.OFFLINE&&o&&R.Z.trackExposure({location:"guild_member_list"})},[o,r]),(0,i.jsx)($,{...n,...d,isTyping:p,currentUser:m,colorRoleName:_})}),et=a.memo(function(e){let{id:t,title:n,count:a,guildId:l}=e,s=(0,b.p9)({roleId:t,guildId:l,size:16});return t===z.Skl.UNKNOWN?(0,i.jsx)("div",{className:K.membersGroup,children:(0,i.jsx)("div",{className:K.memberGroupsPlaceholder})}):(0,i.jsxs)(B.Z,{className:K.membersGroup,children:[(0,i.jsx)(m.HiddenVisually,{children:Y.Z.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:a})}),(0,i.jsxs)("span",{"aria-hidden":!0,children:[null!=s?(0,i.jsx)(H.Z,{className:K.roleIcon,...s}):null,n," — ",a]})]})});function en(e){let{index:t}=e,n=(0,c.JA)("".concat(t));return(0,i.jsx)(g.Z,{itemProps:n})}class ei extends a.Component{shouldComponentUpdate(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version||e.groups.length!==this.props.groups.length}componentDidMount(){this.updateSubscription(),this.trackMemberListViewed(),this._areActivitiesExperimentallyHidden=(0,N.$)("ChannelMembers")}componentDidUpdate(e){e.channel.id!==this.props.channel.id&&this.updateSubscription(),this.trackMemberListViewed(),this.updateMaxContentFeedRowSeen()}getContentFeedAdjustedDimensions(e){let{height:t,rowHeight:n,y:i}=e,a=this.getContentFeedHeight(),l=Math.max(0,t-Math.max(0,a-i)),s=Math.floor(l/n);return{height:l,rowHeight:n,rowsVisible:s,y:Math.max(0,i-a)}}getDimensions(){let e=this._list;if(null==e)return{y:0,height:0,rowHeight:0};let{offsetHeight:t,scrollTop:n}=e.getScrollerState(),i=Math.floor(t/Q);return this.getContentFeedAdjustedDimensions({height:t,rowHeight:Q,rowsVisible:i,y:n})}render(){let{groups:e,listId:t,channel:n}=this.props;return(0,i.jsx)(m.FocusJumpSection,{children:a=>(0,i.jsx)(w.FG,{children:l=>(0,i.jsx)("aside",{className:s()(K.membersWrap,K.hiddenMembers),"aria-labelledby":l,children:(0,i.jsx)(m.HeadingLevel,{component:(0,i.jsx)(m.HiddenVisually,{children:(0,i.jsx)(m.H,{id:l,children:Y.Z.Messages.MEMBERS_LIST_LANDMARK_LABEL.format({channel:n.name})})}),children:(0,i.jsx)(c.SJ,{children:n=>{let{ref:l,role:r,...o}=n;return(0,i.jsx)(m.List,{innerRole:r,innerAriaLabel:Y.Z.Messages.MEMBERS,ref:e=>{var t;this._list=e,this.props.listRef.current=e,l.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},className:s()(K.members,{[K.fullWidth]:d.tq}),paddingTop:0,sectionHeight:40,rowHeight:this.getRowHeightComputer(),renderSection:this.renderSection,renderRow:this.renderRow,sections:e.map(e=>e.count),onScroll:this.handleScroll,fade:!0,customTheme:!0,...o,...a},t)}})})})})})}constructor(...e){super(...e),q(this,"_list",null),q(this,"_areActivitiesExperimentallyHidden",!1),q(this,"lastReportedAnalyticsChannel",void 0),q(this,"setList",e=>{this._list=e,this.props.listRef.current=e}),q(this,"renderSection",e=>{let{section:t}=e,{groups:n,channel:l}=this.props,s=n[t];return(0,v.R)(s)?(0,a.createElement)(v.Z,{...s,key:"section-".concat(t)}):0===t?(0,i.jsx)(L.Z,{tutorialId:"whos-online",position:"left",inlineSpecs:J,children:(0,i.jsx)(et,{...s,guildId:l.guild_id})},"section-".concat(t)):(0,a.createElement)(et,{...s,key:"section-".concat(t),guildId:l.guild_id})}),q(this,"getRowProps",e=>{let{groups:t,rows:n}=this.props,i=t[e.section];if(null==i)return null;let{index:a}=i;return null==a||"row"!==e.type?null:n[a+1+e.row]}),q(this,"renderRow",e=>{let{section:t,row:n,rowIndex:a}=e,{channel:l,isRecentlyOnlineEnabled:s}=this.props,r=this.getRowProps(e);if(null!=r){if(r.type===y.so.MEMBER&&"user"in r){let{colorString:e,colorRoleId:t,user:n,status:o,isOwner:c,isMobileOnline:u,nick:d,activities:h,applicationStream:p,premiumSince:m,lastOnlineTimestamp:_}=r;return(0,i.jsx)(ee,{colorString:e,colorRoleId:t,user:n,status:o,isOwner:c,nick:d,activities:this._areActivitiesExperimentallyHidden?[]:h,applicationStream:p,channel:l,guildId:l.guild_id,premiumSince:m,isMobileOnline:u,index:a,lastOnlineTimestamp:s?_:void 0,isGuildEligibleForRecentlyOnline:this.props.isGuildEligibleForRecentlyOnline},"member-".concat(r.user.id))}if(r.type===y.so.CONTENT_INVENTORY){let e="content-inventory-".concat(r.entry.id);return null!=r.entry.original_id&&(e+="-".concat(r.entry.original_id)),(0,i.jsx)(Z.ZP,{...r,channel:this.props.channel,index:a},e)}if(r.type===y.so.HIDDEN_CONTENT_INVENTORY)return(0,i.jsx)(S.Z,{},"content-inventory-hidden-entry")}return(0,i.jsx)(en,{index:a},"placeholder-".concat(t,":").concat(n))}),q(this,"handleScroll",()=>{this.updateSubscription(),this.updateMaxContentFeedRowSeen()}),q(this,"updateMaxContentFeedRowSeen",o().debounce(()=>{let e=this._list;if(null==e)return;let{offsetHeight:t,scrollTop:n}=e.getScrollerState();this.props.updateMaxContentFeedRowSeen(n+t-40)},50)),q(this,"getContentFeedGroup",()=>{let e=this.props.groups[A.T];if((0,v.R)(e))return e}),q(this,"hasContentFeed",()=>null!=this.getContentFeedGroup()),q(this,"getRowHeightComputer",()=>{let e=this.getContentFeedGroup();if(null!=e){let{rows:t}=this.props,n=e.index;return function(e,i){if(e===A.T){let e=t[n+1+i];return(0,Z.iZ)(e)}return Q}}return Q}),q(this,"getContentFeedHeight",()=>{let e=this.getContentFeedGroup();return null!=e?e.feedHeight+40:0}),q(this,"updateSubscription",o().debounce(()=>{if(null==this._list)return;let{channel:e}=this.props,{rowHeight:t,y:n,height:i}=this.getDimensions();(0,f.TV)({guildId:e.guild_id,channelId:e.id,y:n,height:i,rowHeight:t})},50)),q(this,"trackMemberListViewed",()=>{var e;if(this.lastReportedAnalyticsChannel===this.props.channel.id)return;let t=null===(e=this._list)||void 0===e?void 0:e.getItems(),{rowsVisible:n}=this.getDimensions();if(void 0===n||0===n||null==t)return;this.hasContentFeed()&&(t=t.filter(e=>e.section!==A.T));let i=t.map(e=>this.getRowProps(e)).slice(0,n+1).filter(V.lm);if(0===i.length)return;let a=i.reduce((e,t)=>t.type!==y.so.MEMBER?e:(e.num_users_visible++,t.isMobileOnline&&e.num_users_visible_with_mobile_indicator++,null!=t.activities&&t.activities.length>0&&(e.num_users_visible_with_activity++,t.activities.some(e=>e.type===z.IIU.PLAYING)&&e.num_users_visible_with_game_activity++),null!=t.user.avatarDecoration&&e.num_users_visible_with_avatar_decoration++,e),{num_users_visible:0,num_users_visible_with_mobile_indicator:0,num_users_visible_with_game_activity:0,num_users_visible_with_activity:0,num_users_visible_with_avatar_decoration:0});this.lastReportedAnalyticsChannel=this.props.channel.id,x.ZP.trackWithMetadata(z.rMx.MEMBER_LIST_VIEWED,{...a})})}}function ea(e){let{channel:t,className:n}=e,{analyticsLocations:l}=(0,T.ZP)(I.Z.MEMBER_LIST),r=(0,h.e7)([C.Z],()=>C.Z.keyboardModeEnabled),o=(0,h.cj)([y.ZP],()=>y.ZP.getProps(t.guild_id,t.id)),{rows:d,groups:p,version:m,updateMaxRowSeen:_}=(0,A.H)({memberStoreProps:o,channelId:t.id,guildId:t.guild_id}),f=a.useRef(null),E=a.useCallback((e,t)=>{let n=f.current;if(null==n)return;let i=parseInt(t,10),[a,l]=n.getSectionRowFromIndex(i),s=0===a&&0===l?Q:0;n.scrollToIndex({section:a,row:l,padding:s,callback:()=>{requestAnimationFrame(()=>{var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})})}})},[]),g=a.useCallback(()=>new Promise(e=>{let t=f.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[]),x=a.useCallback(()=>new Promise(e=>{let t=f.current;if(null==t)return e();t.scrollToBottom({callback(){requestAnimationFrame(()=>setTimeout(e,100))}})}),[]),N=(0,u.ZP)({id:"members-".concat(t.id),setFocus:E,isEnabled:r,scrollToStart:g,scrollToEnd:x}),v=(0,h.e7)([j.Z],()=>j.Z.getPriorityGuilds().includes(t.guild_id));return(0,i.jsx)(T.Gt,{value:l,children:(0,i.jsx)("div",{className:s()(K.container,n),children:(0,i.jsx)(c.bG,{navigator:N,children:(0,i.jsx)(ei,{...e,...o,version:m,groups:p,rows:d,listRef:f,isGuildEligibleForRecentlyOnline:v,updateMaxContentFeedRowSeen:_})})})})}function el(e){let{channel:t,className:n}=e,l=a.useDeferredValue(t);return a.useMemo(()=>(0,i.jsx)(ea,{channel:l,className:n}),[l,n])}},862679:function(e,t,n){var i=n(735250),a=n(470079),l=n(873546),s=n(442837),r=n(481060),o=n(433355),c=n(373791),u=n(96413);t.Z=a.memo(function(e){let{message:t,subtitle:n,countdown:d,buttonText:h,buttonColor:p,buttonSubmitting:m,onButtonClick:_,imageSrc:f,animationSrc:E,secondaryButtonText:g,onSecondaryButtonClick:C,children:I,useReducedMotion:x=!1}=e,T=(0,s.e7)([o.ZP],()=>o.ZP.getState().isMembersOpen);if(l.tq&&T)return null;if(null==t)return(0,i.jsx)(i.Fragment,{children:a.Children.only(I)});let N=null;return null!=f?N=(0,i.jsx)("img",{alt:"",src:f,className:u.image}):null!=E&&(N=(0,i.jsx)(r.LottieAnimation,{importData:E,shouldAnimate:!x,className:u.animation})),(0,i.jsxs)("div",{className:u.wrapper,children:[(0,i.jsxs)("div",{className:u.content,children:[N,(0,i.jsxs)("div",{className:u.text,children:[(0,i.jsx)(r.Heading,{variant:"heading-md/semibold",className:u.title,children:t}),null!=n&&(0,i.jsx)(r.Text,{color:"text-muted",variant:"text-xs/normal",children:n})]})]}),(0,i.jsxs)("div",{className:u.buttonContainer,children:[null!=g&&(0,i.jsx)(r.Button,{className:u.button,size:r.Button.Sizes.SMALL,onClick:C,look:r.Button.Looks.LINK,color:r.Button.Colors.PRIMARY,submitting:m,children:g}),null!=h&&(0,i.jsx)(r.Button,{className:u.button,innerClassName:u.innerButton,size:r.Button.Sizes.SMALL,onClick:_,submitting:m,color:null!=p?p:r.Button.Colors.PRIMARY,children:h})]}),null!=d&&(0,i.jsx)(c.Z,{className:u.countdown,deadline:d})]})})},992744:function(e,t,n){var i=n(735250),a=n(470079),l=n(780384),s=n(481060),r=n(410030),o=n(367907),c=n(984370),u=n(981631),d=n(689938),h=n(574827),p=n(66737),m=n(525377);t.Z=()=>{let e=(0,r.ZP)();a.useEffect(()=>{o.ZP.trackWithMetadata(u.rMx.GUILD_OUTAGE_VIEWED,{})},[]);let t=(0,l.wj)(e)?p:m;return(0,i.jsxs)("div",{className:h.container,children:[(0,i.jsxs)(c.Z,{toolbar:(0,i.jsx)(a.Fragment,{}),children:[(0,i.jsx)(c.Z.Icon,{icon:s.TextIcon,"aria-hidden":!0}),(0,i.jsx)(c.Z.Title,{children:d.Z.Messages.GUILD_UNAVAILABLE_HEADER})]}),(0,i.jsxs)("div",{className:h.content,children:[(0,i.jsx)("img",{alt:"",className:h.splashImage,src:t}),(0,i.jsx)(s.Heading,{className:h.splashHeader,variant:"heading-lg/medium",children:d.Z.Messages.GUILD_UNAVAILABLE_TITLE}),(0,i.jsx)(s.Text,{className:h.splashText,variant:"text-md/normal",children:d.Z.Messages.GUILD_UNAVAILABLE_BODY})]})]})}},199649:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(194359),r=n(631937),o=n(702321),c=n(377171),u=n(699516),d=n(626135),h=n(63063),p=n(862679),m=n(981631),_=n(596401),f=n(689938);function E(e){let{channel:t,children:E}=e,g=(0,a.e7)([u.Z],()=>u.Z.isBlocked(t.getRecipientId()));(0,r.Z)(t.id);let C=(0,o.Z)(t.id),I=t.isSystemDM(),x=g&&!I&&!t.isMultiUserDM(),T={};if(I){let e=C?(0,i.jsxs)(i.Fragment,{children:[f.Z.Messages.SYSTEM_DM_OPEN_BLOG,(0,i.jsx)(l.WindowLaunchIcon,{size:"xs",color:c.Z.HEADER_PRIMARY})]}):f.Z.Messages.LEARN_MORE;T.message=f.Z.Messages.SYSTEM_DM_CHANNEL_DESCRIPTION,T.subtitle=f.Z.Messages.SYSTEM_DM_CHANNEL_DESCRIPTION_SUBTEXT,T.buttonText=e,T.onButtonClick=()=>{if(C){open(_.D2),d.default.track(m.rMx.CHANGE_LOG_CTA_CLICKED,{cta_type:"chat_blocker",target:_.D2});return}open(h.Z.getArticleURL(m.BhN.SYSTEM_DMS))},T.imageSrc=n(780961)}else x&&(T.message=f.Z.Messages.DM_VERIFICATION_TEXT_BLOCKED,T.buttonText=f.Z.Messages.UNBLOCK,T.onButtonClick=()=>{s.Z.unblockUser(t.getRecipientId())});return(0,i.jsx)(p.Z,{...T,children:E})}},923029:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250),a=n(470079),l=n(873546),s=n(442837),r=n(481060),o=n(911560),c=n(210887),u=n(914010),d=n(502568),h=n(981631),p=n(689938),m=n(676821);function _(e){let t,{channelId:_}=e;a.useEffect(()=>{o.Z.loadThread(_)});let f=(0,s.e7)([u.Z],()=>u.Z.getGuildId())===h.I_8,E=(0,s.e7)([c.Z],()=>c.Z.theme);return t=f?(0,i.jsx)(r.EmptyStateText,{note:p.Z.Messages.FAVORITES_EMPTY_BODY,children:p.Z.Messages.FAVORITES_EMPTY_TITLE}):null!=_?(0,i.jsx)(r.Spinner,{type:r.Spinner.Type.SPINNING_CIRCLE}):(0,i.jsx)(r.EmptyStateText,{note:p.Z.Messages.CHANNELS_UNAVAILABLE_BODY,children:p.Z.Messages.CHANNELS_UNAVAILABLE_TITLE}),(0,i.jsxs)("div",{className:m.noChannel,children:[l.tq&&(0,i.jsx)(d.ZP,{children:(0,i.jsx)(a.Fragment,{})}),(0,i.jsxs)(r.EmptyState,{theme:E,children:[(0,i.jsx)(r.EmptyStateImage,{darkSrc:f?n(691270):n(625065),lightSrc:f?n(704139):n(875184),width:272,height:222}),t]})]})}},1397:function(e,t,n){n.d(t,{Z:function(){return F}}),n(47120);var i=n(735250),a=n(470079),l=n(512722),s=n.n(l),r=n(442837),o=n(481060),c=n(893776),u=n(528963),d=n(749210),h=n(607070),p=n(391650),m=n(645896),_=n(353093),f=n(717057),E=n(693546),g=n(881952),C=n(305325),I=n(246364),x=n(937111),T=n(270801),N=n(652730),v=n(41776),S=n(657352),Z=n(33154),A=n(144114),M=n(703656),b=n(210887),R=n(237904),j=n(271383),L=n(430824),P=n(607744),O=n(496675),y=n(594174),D=n(700785),k=n(862679),U=n(981631),w=n(815660),B=n(689938),H=n(796340);function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class V extends a.PureComponent{componentDidMount(){let{isFollowable:e,channelFollowingUsersSeen:t,channel:n}=this.props;e&&null==t&&u.Z.fetchChannelFollowerStats(n.id)}componentDidUpdate(e){let{shouldShowLurkerModeSuccessPopout:t,guild:n,showMemberVerificationModal:i,clanInfo:a}=this.props;if(!i&&!e.shouldShowLurkerModeSuccessPopout&&t&&null!=n){if((0,_.EJ)(n)&&null==a)return;this.setState({shouldShowLurkerModeSuccessPopout:!0})}}render(){let{isFollowable:e,isLurking:t,notClaimed:l,notPhoneVerified:s,notEmailVerified:r,newMember:c,memberDeadline:u,newAccount:d,accountDeadline:h,theme:p,children:m,canSendMessages:_,channelFollowingUsersSeen:f,showLurkerModeUpsellPopout:E,showMemberVerificationModal:g,useReducedMotion:C,isStaff:x,guildJoinRequest:T}=this.props,{shouldShowLurkerModeUpsellPopout:N,shouldShowLurkerModeSuccessPopout:v}=this.state,S={theme:p,useReducedMotion:C};if(e&&!_){if(S.message=B.Z.Messages.FOLLOW_NEWS_CHAT_INPUT_MESSAGE,null!=f&&f>=1e3){let e=1e3*Math.floor(f/1e3);S.subtitle=B.Z.Messages.FOLLOW_NEWS_CHAT_INPUT_SUBTITLE.format({count:e.toLocaleString()})}S.buttonText=B.Z.Messages.FOLLOW,S.onButtonClick=this.handleFollowAnnouncement,S.imageSrc=n(485195),t&&(S.onSecondaryButtonClick=this.handleJoinServer,S.secondaryButtonText=B.Z.Messages.LURKER_MODE_CHAT_INPUT_BUTTON)}else if(l)S.message=B.Z.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED,S.buttonText=B.Z.Messages.CLAIM_ACCOUNT,S.onButtonClick=g?this.handleShowMemberVerification:this.handleClaimAccount,S.imageSrc=n(102811);else if(g)switch(null==T?void 0:T.applicationStatus){case I.wB.SUBMITTED:S.message=B.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE,S.subtitle=B.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE,S.buttonText=B.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION,S.onButtonClick=this.handleCancelApplication,S.imageSrc=n(281958);break;case I.wB.REJECTED:S.message=B.Z.Messages.MEMBER_VERIFICATION_REJECTED_TITLE,S.buttonText=B.Z.Messages.MEMBER_VERIFICATION_LEARN_MORE,S.onButtonClick=this.handleViewApplicationRejection,S.imageSrc=n(809844);break;default:S.message=B.Z.Messages.MEMBER_VERIFICATION_CHAT_BLOCKER_TEXT,S.buttonText=B.Z.Messages.MEMBER_VERIFICATION_NOTICE_CTA,S.buttonColor=o.ButtonColors.BRAND,S.onButtonClick=this.handleShowMemberVerification;S.animationSrc=()=>n.e("26176").then(n.t.bind(n,737848,19)).then(e=>{let{default:t}=e;return t})}else s&&!x?(S.message=B.Z.Messages.GUILD_VERIFICATION_TEXT_NOT_PHONE_VERIFIED,S.buttonText=B.Z.Messages.VERIFY_PHONE,S.onButtonClick=this.handleVerifyPhone,S.imageSrc=n(98063)):r?(S.message=B.Z.Messages.GUILD_VERIFICATION_TEXT_NOT_VERIFIED,S.buttonText=B.Z.Messages.RESEND_VERIFICATION_EMAIL,S.onButtonClick=this.handleResendVerification,S.imageSrc=n(102811)):c?(S.message=B.Z.Messages.GUILD_VERIFICATION_TEXT_MEMBER_AGE.format({min:U.YeM.MEMBER_AGE}),S.countdown=u):d&&(S.message=B.Z.Messages.GUILD_VERIFICATION_TEXT_ACCOUNT_AGE.format({min:U.YeM.ACCOUNT_AGE}),S.countdown=h);return(0,i.jsx)(o.Popout,{position:"top",align:"left",shouldShow:v,onRequestClose:()=>this.setState({shouldShowLurkerModeSuccessPopout:!1}),renderPopout:this.renderSuccessPopout,children:e=>(0,i.jsx)(k.Z,{...S,children:(0,i.jsxs)(a.Fragment,{children:[this.renderMemberVerificationSuccessModal(),E?(0,i.jsx)(o.Popout,{renderPopout:this.renderLurkerModeUpsellPopout,shouldShow:N,position:"top",children:e=>(0,i.jsx)(o.Clickable,{...e,className:H.clickableChannelTextArea,onClick:this.handleTextAreaClick,children:m})}):m]})})})}constructor(...e){super(...e),G(this,"state",{submitting:!1,shouldShowLurkerModeUpsellPopout:!1,shouldShowLurkerModeSuccessPopout:!1}),G(this,"renderSuccessPopout",e=>{let{closePopout:t}=e,{guild:n}=this.props;return s()(null!=n,"This guildID cannot be null"),(0,i.jsx)(S.Z,{onClose:t,guild:n})}),G(this,"handleCancelApplication",()=>{let{guild:e}=this.props;if(null!=e)(0,o.openModal)(t=>(0,i.jsx)(o.ConfirmModal,{header:B.Z.Messages.MODIFY_FOLLOWED_NEWS_HEADER,confirmText:B.Z.Messages.CONFIRM,cancelText:B.Z.Messages.CANCEL,onConfirm:()=>E.Z.removeGuildJoinRequest(e.id),confirmButtonColor:o.Button.Colors.BRAND,...t,children:(0,i.jsx)(o.Text,{variant:"text-md/normal",children:B.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE})}))}),G(this,"handleViewApplicationRejection",()=>{let{guild:e}=this.props;if(null!=e)(0,o.openModalLazy)(async()=>{let{default:t}=await n.e("3378").then(n.bind(n,76075));return n=>(0,i.jsx)(t,{guildId:e.id,...n})})}),G(this,"handleShowMemberVerification",()=>{let{guild:e}=this.props;null!=e&&(0,C.hk)(e.id)}),G(this,"handleClaimAccount",()=>{p.j()}),G(this,"handleVerifyPhone",()=>{(0,o.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("76540"),n.e("21518")]).then(n.bind(n,607018));return t=>(0,i.jsx)(e,{reason:A.L.GUILD_PHONE_REQUIRED,...t})},{modalKey:w.M})}),G(this,"handleResendVerification",()=>{var e;c.Z.verifyResend();let t=null===(e=y.default.getCurrentUser())||void 0===e?void 0:e.email;null!=t&&(0,o.openModal)(e=>(0,i.jsx)(o.ConfirmModal,{...e,header:B.Z.Messages.VERIFICATION_EMAIL_TITLE,confirmText:B.Z.Messages.OKAY,confirmButtonColor:o.Button.Colors.BRAND,children:(0,i.jsx)(o.Text,{variant:"text-md/normal",children:B.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:t})})}))}),G(this,"handleTextAreaClick",()=>{let{showLurkerModeUpsellPopout:e}=this.props;this.setState({shouldShowLurkerModeUpsellPopout:e})}),G(this,"handleJoinServer",async()=>{this.setState({submitting:!0});let e=this.props.channel.getGuildId();try{await d.Z.joinGuild(e,{source:U.vtS.CHAT_INPUT_BLOCKER})}catch{this.setState({submitting:!1})}}),G(this,"handleGoBack",()=>{this.setState({submitting:!0}),(0,M.s1)().goBack()}),G(this,"handleFollowAnnouncement",()=>{let{channel:e}=this.props;(0,o.openModalLazy)(async()=>{let{default:t}=await n.e("54642").then(n.bind(n,720589));return n=>(0,i.jsx)(t,{channel:e,...n})})}),G(this,"closeLurkerModeUpsellPopout",()=>{this.setState({shouldShowLurkerModeUpsellPopout:!1})}),G(this,"renderLurkerModeUpsellPopout",()=>{let{guild:e}=this.props;return s()(null!=e,"GuildVerification.renderLurkerModeUpsellPopout - guild cannot be undefined"),(0,i.jsx)(Z.Z,{type:Z.s.CHAT,guild:e,closePopout:this.closeLurkerModeUpsellPopout})}),G(this,"renderMemberVerificationSuccessModal",()=>{let{guild:e,guildJoinRequest:t}=this.props,n=(null==t?void 0:t.applicationStatus)===I.wB.APPROVED;if(null==e||null==t||!n||(0,g.d3)(t))return null;let a=()=>{E.Z.ackUserGuildJoinRequest(e.id,t.joinRequestId)};return(0,_.EJ)(e)?(0,i.jsx)(o.Modal,{renderModal:t=>(0,i.jsx)(f.Z,{...t,onAccept:a,guildId:e.id}),onCloseRequest:a}):(0,i.jsx)(o.Modal,{renderModal:t=>(0,i.jsx)(T.Z,{...t,onAccept:a,guildName:e.name}),onCloseRequest:a})})}}function F(e){var t,n;let{channel:l,children:s}=e,o=l.getGuildId(),c=(0,r.e7)([L.Z],()=>L.Z.getGuild(o)),u=(0,r.e7)([P.Z],()=>P.Z.getCheck(o)),d=l.type===U.d4z.GUILD_ANNOUNCEMENT&&null!=c&&c.hasFeature(U.oNc.NEWS),p=(0,r.e7)([R.Z],()=>d?R.Z.getFollowerStatsForChannel(l.id):null),f=(0,r.e7)([v.Z],()=>v.Z.isLurking(o)),E=(0,r.e7)([y.default],()=>y.default.getCurrentUser()),C=null!==(t=null==E?void 0:E.isStaff())&&void 0!==t&&t,T=(0,r.e7)([j.ZP],()=>{var e,t;return null!=E&&null!==(t=null===(e=j.ZP.getMember(o,E.id))||void 0===e?void 0:e.isPending)&&void 0!==t&&t}),S=!!(null==c?void 0:c.hasVerificationGate()),Z=(T||u.notClaimed)&&S,A=(0,r.e7)([N.Z],()=>N.Z.shouldShowPopout(o)),M=(0,r.e7)([O.Z],()=>O.Z.can(U.Plq.SEND_MESSAGES,l)),k=(0,r.e7)([x.Z],()=>x.Z.getRequest(o)),[w,B]=(0,m.L_)(o),H=(0,m.Cc)(o),G=(null==k?void 0:k.applicationStatus)===I.wB.APPROVED;a.useEffect(()=>{if(!(!(0,_.EJ)(c)||!G||(0,g.d3)(k))&&null==H)B()},[c,G,k,H]);let F={...u,guild:c,isLurking:f,isFollowable:d,shouldShowLurkerModeSuccessPopout:A,showLurkerModeUpsellPopout:f&&null!=c&&D.Uu(U.Plq.SEND_MESSAGES,l),theme:b.Z.theme,canSendMessages:M,channelFollowingUsersSeen:null!=p?p.usersSeenEver:null,hasVerificationGate:S,showMemberVerificationModal:Z,guildJoinRequestStatus:null!==(n=null==k?void 0:k.applicationStatus)&&void 0!==n?n:I.wB.STARTED,guildJoinRequest:k,useReducedMotion:h.Z.useReducedMotion,isStaff:C,isLoading:w,clanInfo:H};return(0,i.jsx)(V,{...F,channel:l,children:s})}},424595:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(499254),u=n(541099),d=n(827498),h=n(314734),p=n(689938),m=n(840884);t.Z=a.memo(a.forwardRef(function(e,t){let[n,l]=a.useState(!1),_=(0,r.e7)([u.Z],()=>u.Z.shouldShowPopup()),f=a.useCallback(()=>{_?c.y(d.ti.DISMISSED):c._(d._b.TEXT)},[_]),E=()=>{l(!0)},g=()=>{l(!1)};return(0,i.jsx)(o.Tooltip,{text:p.Z.Messages.APP_LAUNCHER_USE_APP_TOOLTIP,children:e=>(0,i.jsx)("div",{ref:t,...e,className:s()(m.buttonContainer,h.t4),children:(0,i.jsx)(o.Button,{look:o.Button.Looks.BLANK,size:o.Button.Sizes.NONE,tabIndex:0,className:m.button,onClick:f,onMouseEnter:E,onMouseOver:E,onMouseLeave:g,onFocus:E,onBlur:g,"aria-label":p.Z.Messages.APP_LAUNCHER_USE_APP_TOOLTIP,focusProps:{offset:{top:4,bottom:4,left:-4,right:-4}},innerClassName:m.buttonContents,children:(0,i.jsx)(o.AppsIcon,{className:s()(n?m.iconHovered:m.iconUnhovered)})})})})}))},516887:function(e,t,n){var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(481060),o=n(826298),c=n(719065);t.Z=a.memo(function(e){var t;let{className:n,channel:a,section:l}=e,u=null!=l?(0,o.ky)(l):null;return(0,i.jsx)("div",{className:s()(n,c.wrapper),children:(0,i.jsx)("div",{className:c.icon,children:null!=u?(0,i.jsx)(r.Tooltip,{text:null!==(t=null==l?void 0:l.name)&&void 0!==t?t:"",position:"top",children:e=>(0,i.jsx)(u,{...e,channel:a,section:l,width:24,height:24})}):null})})})},974251:function(e,t,n){n(47120),n(411104);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(704215),c=n(481060),u=n(53281),d=n(110924),h=n(40851),p=n(867176),m=n(620662),_=n(924557),f=n(435064),E=n(712114),g=n(605236),C=n(536442),I=n(79390),x=n(665906),T=n(695346),N=n(433355),v=n(819640),S=n(375954),Z=n(496675),A=n(885110),M=n(627553),b=n(38761),R=n(585483),j=n(358085),L=n(127654),P=n(316595),O=n(193910),y=n(951211),D=n(981631),k=n(356659),U=n(921944),w=n(689938),B=n(81023);t.Z=a.memo(function(e){var t,l;let H,{className:G,channel:V,draftType:F,editorTextContent:W,setValue:z,canOnlyUseTextCommands:Y}=e,K=(0,h.bp)(),q=a.useRef(null),X=(0,r.e7)([A.Z],()=>A.Z.getActivities()),Q=(0,r.e7)([f.Z],()=>f.Z.getSettings().clipsEnabled),J=(0,r.e7)([f.Z],()=>f.Z.getLastClipsSession()),$=(0,r.Wu)([f.Z],()=>f.Z.getNewClipIds()),ee=(0,r.e7)([N.ZP],()=>null==N.ZP.getCurrentSidebarChannelId(V.id)),{showClipsHeaderEntrypoint:et}=_.NV.useExperiment({location:"ChannelAttachButton"},{autoTrackExposure:!1}),en=(0,r.e7)([C.qc],()=>C.qc.hasHotspot(C.v6.CLIPS_CHANNEL_ATTACH_REMINDER)),ei=(0,c.useModalsStore)(e=>(0,c.hasModalOpenSelector)(e,k.Qr)),ea=(0,r.e7)([v.Z],()=>v.Z.hasLayers()),el=(0,r.e7)([f.Z],()=>f.Z.hasClips()),[es,er]=a.useState(null),eo=(0,_.Go)()&&(Q||el),ec=V.isPrivate(),eu=(0,r.e7)([Z.Z],()=>ec||Z.Z.can(D.Plq.ATTACH_FILES,V)&&Z.Z.can(D.Plq.SEND_MESSAGES,V)),ed=(0,d.Z)(J);(null==ed?void 0:ed.newClipIds.length)!==(null==J?void 0:J.newClipIds.length)&&(null!==(t=null==J?void 0:J.newClipIds.length)&&void 0!==t?t:0)>0&&null==es&&en&&ee&&!ei&&!et&&!ea&&er("recentClips");let eh=(e,t,n)=>{null!=t&&"ETOOLARGE"===t.code?(0,L.G)(V,[]):(0,L.d)(e,V,F,{requireConfirm:!0,showLargeMessageDialog:n}),R.S.dispatchToLastSubscribed(D.CkL.TEXTAREA_FOCUS)},ep=(0,r.e7)([S.Z],()=>S.Z.hasCurrentUserSentMessageSinceAppStart());function em(){(0,c.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("2668"),n.e("48706")]).then(n.bind(n,542055));return t=>(0,i.jsx)(e,{...t,channelId:V.id})},{modalKey:k.Qr}),er(null)}a.useEffect(()=>{let e=()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.activateUploadDialogue()};return R.S.subscribe(D.CkL.UPLOAD_FILE,e),()=>{R.S.unsubscribe(D.CkL.UPLOAD_FILE,e)}});let e_=(0,x.NE)(V),ef=(0,x.Xu)(V),eE=!T.dN.useSetting()&&!(0,j.isAndroidWeb)()&&null!=window.ResizeObserver,eg=(0,I.UI)(null!=V?V:void 0),eC=(0,c.useRedesignIconContext)().enabled,eI=(0,p.qB)(V.id,"ChannelAttachButton"),ex=null!==(l=null==$?void 0:$.length)&&void 0!==l?l:0,eT=(0,y.Z)({canAttachFiles:eu,canStartThreads:e_||ef,useSlate:eE,hasClips:eo,canUseApplicationCommands:!Y,channel:V,activities:X,newClipsCount:ex,canPostPolls:eg,canLaunchActivities:eI,appContext:K});if(0===eT.length)return null;let eN=X.some(e=>(0,m.Z)(e,D.xjy.SYNC)),ev=X.some(e=>(0,m.Z)(e,D.xjy.JOIN)&&!(0,m.Z)(e,D.xjy.EMBEDDED))||eN;H=eC?(0,i.jsx)(c.CirclePlusIcon,{className:B.__invalid_attachButtonIcon,colorClass:B.attachButtonPlus}):ev?(0,i.jsx)(b.Z,{className:B.__invalid_attachButtonIcon,foreground:B.attachButtonPlay,background:B.attachButtonPlus,width:24,height:24}):ex>0?(0,i.jsx)(M.Z,{className:B.__invalid_attachButtonIcon,foreground:B.attachButtonClip,background:B.attachButtonPlus,width:24,height:24}):(0,i.jsx)(c.CirclePlusIcon,{size:"md",color:"currentColor",className:B.__invalid_attachButtonIcon,colorClass:B.attachButtonPlus});let eS=(0,i.jsx)(c.Popout,{shouldShow:null!=es,animation:c.Popout.Animation.NONE,align:"recentClips"===es?"center":"left",position:"top",positionKey:null!=es?es:"null",onRequestOpen:()=>{ep&&(0,g.EW)(o.z.ACTIVITIES_CHAT_BUTTON_NUX_V2,{dismissAction:U.L.TAKE_ACTION}),er("attachMenu")},onRequestClose:()=>{!(0,c.hasAnyModalOpen)()&&(ep&&(0,g.EW)(o.z.ACTIVITIES_CHAT_MENU_NEW_BADGE,{dismissAction:U.L.TAKE_ACTION}),er(null))},renderPopout:e=>{switch(es){case"recentClips":return(0,i.jsx)(E.Z,{...e,onOpenClips:em,lastClipsSession:J});case"attachMenu":return(0,i.jsx)(O.Z,{...e,onClose:()=>er(null),options:eT,channel:V,onFileUpload:()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.activateUploadDialogue()},draftType:F,editorTextContent:W,setValue:z,openClips:em});default:throw Error("Invalid popout type provided")}},children:e=>(0,i.jsx)(c.Button,{look:c.Button.Looks.BLANK,size:c.Button.Sizes.NONE,className:s()(B.attachButton,G),innerClassName:B.attachButtonInner,"aria-label":w.Z.Messages.CHAT_ATTACH_UPLOAD_OR_INVITE,onDoubleClick:eu?()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.activateUploadDialogue()}:void 0,...e,children:H})});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:B.uploadInput,children:(0,i.jsx)(u.Z,{ref:q,onChange:e=>{eh(e.currentTarget.files,e.currentTarget.err),e.currentTarget.value=""},multiple:V.rateLimitPerUser<=0,tabIndex:-1,"aria-hidden":!0})}),(0,i.jsx)("div",{className:B.attachWrapper,children:(0,i.jsx)(P.Z,{channel:V,isOmniMenuOpen:"attachMenu"===es,openOmniMenu:()=>er("attachMenu"),children:eS})})]})})},316595:function(e,t,n){n.d(t,{Z:function(){return u}}),n(653041);var i=n(735250),a=n(470079),l=n(442837),s=n(704215),r=n(243778),o=n(375954),c=n(423490);function u(e){let{children:t}=e,n=(0,l.e7)([o.Z],()=>o.Z.hasCurrentUserSentMessageSinceAppStart()),u=a.useMemo(()=>{let e=[];return n&&e.push(s.z.ACTIVITIES_CHAT_BUTTON_NUX_V2),e},[n]);return(0,i.jsx)(r.Z,{contentTypes:u,children:e=>{let{visibleContent:n}=e;if(n===s.z.ACTIVITIES_CHAT_BUTTON_NUX_V2)return(0,i.jsx)(c.Q,{children:t});return t}})}},423490:function(e,t,n){n.d(t,{Q:function(){return I}});var i,a,l=n(735250),s=n(470079),r=n(500923),o=n.n(r),c=n(442837),u=n(704215),d=n(607070),h=n(605236),p=n(175355),m=n(160683),_=n(921944),f=n(627952);function E(e){let t=(0,c.e7)([d.Z],()=>d.Z.useReducedMotion),n=s.useRef(null);return s.useEffect(()=>{let i;return null!=n.current&&(i=o().loadAnimation({container:n.current,renderer:"svg",loop:!0,autoplay:!t,animationData:JSON.parse(JSON.stringify(e))})),()=>{null==i||i.destroy()}},[n,t,e]),n}function g(){return(0,l.jsx)("div",{ref:E(i||(i=n.t(p,2))),className:f.glow})}function C(){return(0,l.jsx)("div",{ref:E(a||(a=n.t(m,2))),className:f.trinkets})}let I=e=>{let{children:t}=e;return s.useEffect(()=>{setTimeout(()=>(0,h.EW)(u.z.ACTIVITIES_CHAT_BUTTON_NUX_V2,{dismissAction:_.L.AUTO_DISMISS}),1e4)},[]),(0,l.jsxs)("div",{className:f.animation,children:[(0,l.jsx)(g,{}),(0,l.jsx)("div",{className:f.circleLayer}),(0,l.jsx)("div",{className:f.omniButton,children:t}),(0,l.jsx)(C,{})]})}},193910:function(e,t,n){n.d(t,{Z:function(){return L}}),n(653041),n(47120);var i=n(735250),a=n(470079),l=n(831209),s=n(442837),r=n(704215),o=n(481060),c=n(538239),u=n(566620),d=n(403404),h=n(906732),p=n(605236),m=n(706140),_=n(243778),f=n(488131),E=n(375954),g=n(626135),C=n(585483),I=n(403182),x=n(127654),T=n(752305),N=n(951211),v=n(981631),S=n(921944),Z=n(489887),A=n(689938),M=n(356195);function b(e,t,a,l){(0,o.openModalLazy)(async()=>{let{default:s}=await Promise.resolve().then(n.bind(n,538239));return n=>(0,i.jsx)(s,{...n,activity:e,channel:t,activityActionType:a,analyticsLocations:l})},{modalKey:c.activityInviteKey})}let R=/(.*)```(\w+)\n(.*)```(.*)/s;function j(){let e=(0,s.e7)([E.Z],()=>E.Z.hasCurrentUserSentMessageSinceAppStart()),t=[];e&&t.push(r.z.ACTIVITIES_CHAT_MENU_NEW_BADGE);let[n]=(0,m.c)(t);return a.useEffect(()=>()=>{n===r.z.ACTIVITIES_CHAT_MENU_NEW_BADGE&&(0,p.EW)(r.z.ACTIVITIES_CHAT_MENU_NEW_BADGE,{dismissAction:S.L.TAKE_ACTION})},[n]),(0,i.jsx)(_.Z,{contentTypes:t,children:e=>{let{visibleContent:t}=e;return t===r.z.ACTIVITIES_CHAT_MENU_NEW_BADGE?(0,i.jsx)(o.TextBadge,{text:A.Z.Messages.NEW,color:l.Z.BUTTON_DANGER_BACKGROUND}):null}})}function L(e){let{channel:t,options:s,onFileUpload:c,onClose:m,onSelect:_,draftType:E,editorTextContent:L,setValue:P,openClips:O}=e,{analyticsLocations:y}=(0,h.ZP)();a.useEffect(()=>{g.default.track(v.rMx.OPEN_POPOUT,{type:"Send Attachment",channel_id:t.id,guild_id:t.guild_id})},[t.guild_id,t.id]);function D(){(0,f.R6)(t,void 0,"Plus Button")}function k(){g.default.track(v.rMx.CHANNEL_ATTACH_MENU_USE_APPS_CLICKED),P("/",(0,T.JM)("/"))}function U(){O()}function w(){(0,p.EW)(r.z.POLLS_CHAT_INPUT_COACHMARK,{dismissAction:S.L.TAKE_ACTION}),(0,o.openModalLazy)(async()=>{let{default:e}=await n.e("68784").then(n.bind(n,611611));return n=>(0,i.jsx)(e,{...n,channel:t})},{modalKey:Z.$z})}function B(){g.default.track(v.rMx.CHANNEL_ATTACH_MENU_START_ACTIVITY_CLICKED,{channel_type:t.type,channel_id:t.id,guild_id:t.guild_id}),(0,d.Z)({channel:t,guildId:t.guild_id,locationObject:{page:t.isPrivate()?v.ZY5.DM_CHANNEL:v.ZY5.GUILD_CHANNEL,section:v.jXE.CHANNEL_TEXT_AREA,object:v.qAy.CONTEXT_MENU_ITEM,objectType:v.Qqv.ACTIVITY},openInPopout:!1,enableSelectedTextChannelInvite:!0,analyticsLocations:y}),(0,u.w1)({guildId:t.guild_id})}function H(){let e=L,n="txt",i="",a=L.match(R);null!=a&&(i=a[1],n=a[2],e=a[3],i+=a[4]),(0,x.d)([(0,I.dp)(new Blob([e],{type:"text/plain"}),"message.".concat(n))],t,E),C.S.dispatchToLastSubscribed(v.CkL.CLEAR_TEXT),""!==i&&C.S.dispatchToLastSubscribed(v.CkL.INSERT_TEXT,{plainText:i})}return(0,i.jsx)(o.Menu,{onSelect:_,navId:"channel-attach",onClose:m,"aria-label":A.Z.Messages.CHANNEL_ACTIONS_MENU_LABEL,className:M.menu,children:s.map(function(e){var n;let a=(0,i.jsxs)("div",{className:M.optionLabel,children:[(0,i.jsx)(e.icon,{className:M.optionIcon,color:"currentColor"}),(0,i.jsx)("div",{className:M.optionName,children:e.display}),null!=e.badgeVal&&e.badgeVal>0&&(0,i.jsx)(o.NumberBadge,{className:M.badge,color:null!==(n=e.badgeColor)&&void 0!==n?n:l.Z.STATUS_DANGER,count:e.badgeVal})]});switch(e.type){case N.r.UPLOAD_A_FILE:return(0,i.jsx)(o.MenuItem,{id:"upload-file",label:a,action:c},"upload-file");case N.r.UPLOAD_TEXT_AS_FILE:if(""===L)return null;return(0,i.jsx)(o.MenuItem,{id:"upload-text-as-file",label:a,action:H},"upload-text-as-file");case N.r.CLIPS:return(0,i.jsx)(o.MenuItem,{id:"clips",label:a,action:U},"clips");case N.r.POLL:return(0,i.jsx)(o.MenuItem,{id:"poll",label:a,action:w},"poll");case N.r.INVITE_TO_PLAY_GAME:return(0,i.jsx)(o.MenuItem,{id:"play",label:a,action:()=>{var n;return n=e.activity,void(g.default.track(v.rMx.OPEN_MODAL,{type:"Send Join Invite",application_id:n.application_id,location:v.jXE.CHANNEL_TEXT_AREA}),b(n,t,v.mFx.JOIN,y))}},"play");case N.r.INVITE_TO_LISTEN:return(0,i.jsx)(o.MenuItem,{id:"listen",label:a,action:()=>{var n;return n=e.activity,void(g.default.track(v.rMx.OPEN_MODAL,{type:"Send Listen Invite",location:v.jXE.CHANNEL_TEXT_AREA}),b(n,t,v.mFx.LISTEN,y))}},"listen");case N.r.INVITE_TO_WATCH:return(0,i.jsx)(o.MenuItem,{id:"watch",label:a,action:()=>{var n;return n=e.activity,void(g.default.track(v.rMx.OPEN_MODAL,{type:"Send Watch Invite",location:v.jXE.CHANNEL_TEXT_AREA}),b(n,t,v.mFx.WATCH,y))}},"watch");case N.r.CREATE_THREAD:return(0,i.jsx)(o.MenuItem,{id:"THREAD",label:a,action:D},"THREAD");case N.r.SLASH_COMMAND:return(0,i.jsx)(o.MenuItem,{id:"SLASH_COMMAND",label:a,action:k},"SLASH_COMMAND");case N.r.ACTIVITY:return(0,i.jsx)(o.MenuItem,{id:"activity",label:a,action:B,hint:(0,i.jsx)(j,{})},"activity");default:return null}})})}},951211:function(e,t,n){n.d(t,{Z:function(){return p},r:function(){return i}}),n(653041);var i,a,l=n(481060),s=n(620662),r=n(933557),o=n(377171),c=n(699516),u=n(594174),d=n(981631),h=n(689938);function p(e){let{canAttachFiles:t,canStartThreads:n,useSlate:i,canUseApplicationCommands:a,hasClips:p,channel:m,activities:_,newClipsCount:f,canPostPolls:E,canLaunchActivities:g,appContext:C}=e,I=[];return t&&(I.push({type:"UPLOAD_A_FILE",icon:l.FileUpIcon,display:h.Z.Messages.CHAT_ATTACH_UPLOAD_A_FILE}),I.push({type:"UPLOAD_TEXT_AS_FILE",icon:l.FileUpIcon,display:h.Z.Messages.CHAT_ATTACH_UPLOAD_TEXT_AS_FILE})),p&&t&&C!==d.IlC.POPOUT&&I.push({type:"CLIPS",icon:l.ClipsIcon,display:h.Z.Messages.CLIPS_SHARE_A_CLIP,badgeVal:f,badgeColor:o.Z.BG_BRAND}),n&&I.push({type:"CREATE_THREAD",icon:l.ThreadPlusIcon,display:h.Z.Messages.CREATE_THREAD}),E&&I.push({type:"POLL",icon:l.PollsIcon,display:h.Z.Messages.CREATE_POLL}),i&&a&&I.push({type:"SLASH_COMMAND",icon:l.AppsIcon,display:h.Z.Messages.CHAT_ATTACH_USE_SLASH_COMMAND}),g&&I.push({type:"ACTIVITY",icon:l.ActivitiesIcon,display:h.Z.Messages.EMBEDDED_ACTIVITIES_START_ACTIVITY_LABEL}),_.forEach(e=>{if(!(0,s.Z)(e,d.xjy.EMBEDDED))e.type===d.IIU.PLAYING&&(0,s.Z)(e,d.xjy.JOIN)&&I.push({type:"INVITE_TO_GAME",icon:l.DpadIcon,display:h.Z.Messages.CHAT_ATTACH_INVITE_TO_PLAY_GAME.format({channel:(0,r.F6)(m,u.default,c.Z,!0),game:null!=e?e.name:""}),activity:e}),e.type===d.IIU.LISTENING&&(0,s.Z)(e,d.xjy.SYNC)&&I.push({type:"INVITE_TO_LISTEN",icon:l.UserPlayIcon,display:h.Z.Messages.CHAT_ATTACH_INVITE_TO_LISTEN.format({channel:(0,r.F6)(m,u.default,c.Z,!0),name:null!=e?e.name:""}),activity:e}),e.type===d.IIU.WATCHING&&(0,s.Z)(e,d.xjy.SYNC)&&I.push({type:"INVITE_TO_WATCH",icon:l.EyeIcon,display:h.Z.Messages.CHAT_ATTACH_INVITE_TO_WATCH.format({channel:(0,r.F6)(m,u.default,c.Z,!0),name:null!=e?e.name:""}),activity:e})}),I}(a=i||(i={})).UPLOAD_A_FILE="UPLOAD_A_FILE",a.UPLOAD_TEXT_AS_FILE="UPLOAD_TEXT_AS_FILE",a.INVITE_TO_PLAY_GAME="INVITE_TO_GAME",a.INVITE_TO_LISTEN="INVITE_TO_LISTEN",a.INVITE_TO_WATCH="INVITE_TO_WATCH",a.CREATE_THREAD="CREATE_THREAD",a.SLASH_COMMAND="SLASH_COMMAND",a.CLIPS="CLIPS",a.POLL="POLL",a.ACTIVITY="ACTIVITY"},105671:function(e,t,n){n.d(t,{i:function(){return u}});var i=n(392711),a=n.n(i),l=n(442837),s=n(77498),r=n(823379),o=n(353093),c=n(308083);function u(e){return(0,l.e7)([s.Z],()=>{let t=a()(e).map(e=>{var t;return null===(t=s.Z.getDetectableGame(e))||void 0===t?void 0:t.name}).filter(r.lm).value();return(0,o.f6)(t,c.uw)})}},805519:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120),n(773603);var i=n(470079),a=n(442837),l=n(693546),s=n(826581),r=n(937111),o=n(430824),c=n(496675),u=n(709054),d=n(981631);function h(e){let[t,n]=i.useState(!1),[h,p]=i.useState(!1),m=u.default.cast(e),{joinRequest:_,guild:f}=(0,a.cj)([s.Z,r.Z,o.Z,c.Z],()=>{var e;let t=s.Z.getRequest(m);if(null==t)return{joinRequest:null,isModmin:!1,guild:null};let n=null!==(e=o.Z.getGuild(t.guildId))&&void 0!==e?e:r.Z.getJoinRequestGuild(t.guildId);return{joinRequest:t,isModmin:null!=n&&c.Z.can(d.Plq.KICK_MEMBERS,n),guild:n}});return i.useEffect(()=>{null==f&&!h&&(p(!0),l.Z.fetchRequestToJoinGuilds())},[f,h]),i.useEffect(()=>{null==_&&(n(!0),l.Z.fetchGuildJoinRequest(m).finally(()=>{n(!1)}))},[_,m]),{loading:t,joinRequest:_,joinRequestGuild:f}}},940725:function(e,t,n){n.d(t,{h:function(){return h}}),n(47120);var i=n(704215),a=n(442837),l=n(645041),s=n(271383),r=n(430824),o=n(594174),c=n(353093),u=n(954138),d=n(981631);function h(e,t){let n=(0,u.Z)(t),h=(0,a.e7)([o.default,r.Z,s.ZP],()=>(function(e){let[t,n,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[o.default,r.Z,s.ZP];if(null==e)return!1;let a=n.getGuild(e);if(null==a||!(0,c.EJ)(a)||null==a.clan)return!1;let l=t.getCurrentUser();if(null==l)return!1;let u=i.getMember(e,l.id);if(null==l.clan)return!0;let d=(null==u?void 0:u.joinedAt)!=null?new Date(u.joinedAt):null,h=null!=d&&Date.now()-d.getTime()>2592e5,{identityGuildId:p,identityEnabled:m}=l.clan;return null!=p&&null==m?e===p:null==p&&null==m?h:(p!==e||!1!==m)&&null!=p&&!1===m&&h})(e,[o.default,r.Z,s.ZP]),[e]),p=(0,l.FT)(i.C.ADOPT_CLAN_IDENTITY_NOTICE,null!=e?e:d.lds);return n&&h&&!p}},532490:function(e,t,n){n.d(t,{p:function(){return i}}),n(47120);var i,a,l=n(735250),s=n(470079),r=n(120356),o=n.n(r),c=n(920906),u=n(442837),d=n(481060),h=n(393238),p=n(434650),m=n(607070),_=n(594174),f=n(5192),E=n(603368),g=n(856682),C=n(284019),I=n(689938),x=n(544954);(a=i||(i={})).LEFT="left",a.RIGHT="right";t.Z=s.memo(function(e){let{guildId:t,primaryColor:n,children:i,canSignCharter:a=!0,onSignCharter:r,animationDelayMs:T=1e3,signHintButtonText:N,signHintHelperText:v,signHintPosition:S="left",className:Z,fullHeight:A}=e,M=s.useRef(null),[b,R]=s.useState(!1),j=s.useCallback(e=>{e.preventDefault(),e.stopPropagation(),null==r||r(),R(!0)},[r]),[L,P]=s.useState(!1),[O,y]=s.useState(!1),D=s.useRef(null),k=s.useCallback(e=>{e&&(D.current=setTimeout(()=>{y(!0)},T))},[T]),U=(0,p.O)(k),w=(0,u.e7)([m.Z],()=>m.Z.useReducedMotion),B=(0,u.e7)([_.default],()=>_.default.getCurrentUser()),[H,G]=(0,c.useSpring)(()=>{var e,t;return e=S,t=w,"left"===e?{right:t?68:0,config:c.config.stiff}:{left:t?68:0,config:c.config.stiff}}),[V,F]=(0,c.useSpring)(()=>({opacity:0,top:-24,onRest:()=>{b&&P(!0)}}));s.useEffect(()=>{if(O)G({..."left"===S?{right:68,config:c.config.stiff}:{left:280,config:c.config.stiff}}),F({opacity:1,top:-24});O&&b&&F({opacity:0,top:0})},[O,b,S]),s.useEffect(()=>()=>{null!=D.current&&clearTimeout(D.current)},[]);let W=o()(x.signHintAnimationContainer,L&&x.noDisplay,"left"===S?x.signTextLeft:x.signTextRight),z=(0,d.useToken)(d.tokens.colors.BG_SURFACE_OVERLAY),Y=(0,d.useToken)(d.tokens.colors.BG_BRAND),K=null!=n?n:Y.hex(),q=(0,E.j1)(K,z.hex()),{height:X=87,ref:Q}=(0,h.Z)(a),J=(0,c.useTransition)(a,{from:{opacity:0,height:0},enter:{opacity:1,height:null!=X?X:87},config:c.config.stiff,immediate:w});return(0,l.jsx)("div",{className:o()(x.container,Z),ref:U,children:(0,l.jsx)(g.Z,{fullHeight:A,children:(0,l.jsxs)("div",{className:o()(x.overviewSidebarWrapper,A&&x.fullHeight),children:[(0,l.jsx)(d.ScrollerNone,{fade:!0,className:x.overviewSidebarContent,children:(0,l.jsx)("div",{className:x.scrollContentContainer,children:i})}),J((e,n)=>n&&(0,l.jsx)(c.animated.div,{className:x.signatureBlockContainer,style:e,children:(0,l.jsx)("div",{ref:Q,children:(0,l.jsxs)(d.Clickable,{onClick:j,className:o()(x.signatureBlock,{[x.clickable]:null!=r}),children:[(0,l.jsx)("div",{ref:M,className:x.signHintContainer,children:(0,l.jsxs)(c.animated.div,{className:W,style:{...H,...V},children:[(0,l.jsx)("div",{className:x.signContainerButton,children:(0,l.jsxs)(C.Z,{themeColor:K,className:x.signButton,size:d.Button.Sizes.SMALL,onClick:e=>{var t;null===(t=M.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}),j(e)},children:[(0,l.jsx)("div",{className:o()(x.signCarot,{[x.signCarotCustomColors]:null!=q}),style:null!=q?q:{borderColor:K}}),null!=N?N:I.Z.Messages.CLAN_SETUP_OVERVIEW_SIGN_CTA]})}),(0,l.jsx)(d.Text,{variant:"text-xs/normal",color:"text-muted",className:x.signHintHelperText,children:null!=v?N:I.Z.Messages.CLAN_SETUP_OVERVIEW_SIGN_HELP})]})}),(0,l.jsx)(d.Text,{variant:"text-md/normal",color:"none",children:"x"}),b?(0,l.jsx)(d.Text,{variant:"text-lg/normal",color:"header-primary",className:x.signatureText,children:f.ZP.getName(t,null,B)}):(0,l.jsx)(d.Text,{variant:"text-lg/normal",color:"none",className:x.signatureText,children:I.Z.Messages.CLAN_SETUP_OVERVIEW_SIGNATURE})]})})}))]})})})})},717057:function(e,t,n){n.d(t,{Z:function(){return R}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(913527),o=n.n(r),c=n(442837),u=n(481060),d=n(410030),h=n(271383),p=n(430824),m=n(594174),_=n(153124),f=n(709054),E=n(931240),g=n(645896),C=n(603368),I=n(532490),x=n(380365),T=n(979264),N=n(620929),v=n(284019),S=n(308083),Z=n(981631),A=n(689938),M=n(595737);function b(e){var t;let{guildId:n,clanInfo:l,onSignCharter:r}=e,c=a.useMemo(()=>{let e=f.default.extractTimestamp(n);return o()(new Date(e)).format("MMMM YYYY")},[n]),d=a.useMemo(()=>new Set(l.games),[l.games]);return(0,i.jsx)(I.Z,{guildId:n,signHintPosition:I.p.LEFT,primaryColor:null===(t=l.branding)||void 0===t?void 0:t.primaryColor,onSignCharter:r,children:(0,i.jsxs)("div",{className:M.scrollContentsContainer,children:[(0,i.jsx)(T.aG,{guildId:n,clanBadge:l.badge.imageHash,clanTag:l.tag,textVariant:"heading-lg/semibold",badgeSize:S.NC.SIZE_24,className:M.clanTagChiplet}),(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Heading,{variant:"heading-xxl/normal",color:"text-muted",className:M.charterHeaderText,children:A.Z.Messages.CLAN_SETUP_OVERVIEW_TITLE}),(0,i.jsx)(u.Heading,{variant:"heading-xxl/bold",color:"interactive-active",className:M.charterHeaderText,children:l.name}),(0,i.jsx)(u.Text,{variant:"text-md/normal",color:"text-muted",className:M.establishedDate,children:A.Z.Messages.CLAN_SETUP_OVERVIEW_ESTABLISHED.format({date:c})})]}),(0,i.jsx)(N.p,{applicationIds:d,playstyle:l.playstyle,className:s()(M.charterBodyText,M.gameSection)}),(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"text-muted",className:M.charterBodyText,children:A.Z.Messages.CLAN_SETUP_OVERVIEW_TEXT_WRAP})]})})}function R(e){var t;let{guildId:n,onClose:l,onAccept:r,...o}=e,f=(0,_.Dt)(),I=(0,g.Cc)(n),T=(0,g.E8)(),[N,S]=a.useState(!0),[R,j]=a.useState(!1),L=a.useCallback(()=>{r(),l()},[r,l]);a.useEffect(()=>{null==I&&!T&&L()},[I,L,T]);let P=a.useCallback(()=>{N&&(0,E.nE)(n,N,Z.Sbl.CREATE_JOIN_GUILD_MODAL),L()},[n,L,N]),O=a.useCallback(()=>{j(!0)},[]),y=(0,c.e7)([p.Z],()=>p.Z.getGuild(n)),D=(0,c.e7)([m.default],()=>m.default.getCurrentUser()),k=(0,c.e7)([h.ZP],()=>null!=D?h.ZP.getMember(n,D.id):null),U=(0,d.ZP)(),w=(0,C.nP)(null==I?void 0:null===(t=I.branding)||void 0===t?void 0:t.primaryColor,[u.tokens.colors.BG_BRAND,.7]),B=u.tokens.colors.BG_SURFACE_OVERLAY.resolve({theme:U,saturation:1}).hex(),H=(0,C.nj)(w,B,"top center");return null==y||null==D||null==k||null==I?null:(0,i.jsx)(u.ModalRoot,{...o,transitionState:o.transitionState,"aria-labelledby":f,className:M.modal,size:u.ModalSize.DYNAMIC,children:(0,i.jsxs)(u.ModalContent,{className:M.content,style:H,children:[(0,i.jsxs)("div",{className:M.infoSide,children:[(0,i.jsxs)("div",{className:M.titlesContainer,children:[(0,i.jsx)("div",{className:M.title,children:(0,i.jsx)(u.Heading,{variant:"heading-xxl/medium",children:A.Z.Messages.CLAN_JOIN_SUCCESS_TITLE.format({name:y.name})})}),(0,i.jsx)(u.Text,{className:M.subtitle,variant:"text-md/normal",children:A.Z.Messages.CLAN_JOIN_SUCCESS_SUBTITLE})]}),(0,i.jsx)(x.Z,{guildId:n,isTagAdopted:N,onChangeUseTag:S})]}),(0,i.jsx)("div",{className:M.scrollMainContainer,children:(0,i.jsx)(b,{guildId:n,clanInfo:I,onSignCharter:O})}),(0,i.jsx)(v.Z,{onClick:P,color:u.Button.Colors.BRAND,themeColor:w,fullWidth:!1,className:s()(M.ctaButton,R?M.ctaButtonSigned:null),children:(0,i.jsxs)("div",{className:M.ctaButtonInner,children:[(0,i.jsx)(u.Text,{color:"currentColor",variant:"text-md/medium",children:A.Z.Messages.CLAN_JOIN_SUCCESS_MAIN_CTA}),(0,i.jsx)(u.ArrowLargeRightIcon,{size:"custom",width:20,height:20,color:null==w?void 0:(0,C.$0)(w).hex()})]})})]})})}},380365:function(e,t,n){var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(271383),o=n(430824),c=n(594174),u=n(5192),d=n(645896),h=n(979264),p=n(308083),m=n(689938),_=n(457017);t.Z=a.memo(function(e){var t,n,a,f,E,g;let{guildId:C,isTagAdopted:I,onChangeUseTag:x}=e,T=(0,d.Cc)(C),N=(0,l.e7)([o.Z],()=>o.Z.getGuild(C)),v=null!==(f=null==T?void 0:null===(t=T.badge)||void 0===t?void 0:t.imageHash)&&void 0!==f?f:null==N?void 0:null===(n=N.clan)||void 0===n?void 0:n.badge,S=null!==(E=null==T?void 0:T.tag)&&void 0!==E?E:null==N?void 0:null===(a=N.clan)||void 0===a?void 0:a.tag,Z=(0,l.e7)([c.default],()=>c.default.getCurrentUser()),A=(0,l.e7)([r.ZP],()=>null!=Z?r.ZP.getMember(C,Z.id):null);return null==N||null==Z||null==A||null==v?null:(0,i.jsxs)("div",{className:_.previewSection,children:[(0,i.jsxs)("div",{className:_.chatPreview,children:[(0,i.jsx)(s.Avatar,{src:Z.getAvatarURL(C,40),size:s.AvatarSizes.SIZE_40,"aria-hidden":!0}),(0,i.jsxs)("div",{className:_.previewText,children:[(0,i.jsxs)("div",{className:_.userName,children:[(0,i.jsx)(s.NameWithRole,{className:_.userName,name:u.ZP.getName(C,null,Z),color:null!==(g=A.colorString)&&void 0!==g?g:void 0}),I&&(0,i.jsx)(h.aG,{guildId:C,clanBadge:v,clanTag:S,badgeSize:p.NC.SIZE_12,textVariant:"text-xs/semibold"})]}),(0,i.jsx)("div",{className:_.fakeMessage,style:{width:"80%"}}),(0,i.jsx)("div",{className:_.fakeMessage,style:{width:"50%"}})]})]}),(0,i.jsx)("div",{className:_.divider}),(0,i.jsxs)("div",{className:_.settingSection,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(s.Text,{variant:"text-md/normal",color:"header-primary",children:m.Z.Messages.CLAN_SUCCESS_USE_TAG_TEXT}),(0,i.jsx)(s.Text,{variant:"text-xs/normal",color:"text-muted",children:m.Z.Messages.CLAN_SUCCESS_USE_TAG_HELP})]}),(0,i.jsx)(s.Switch,{onChange:x,checked:I})]})]})})},603009:function(e,t,n){n.d(t,{Z:function(){return R}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(920906),o=n(704215),c=n(481060),u=n(442837),d=n(410030),h=n(607070),p=n(645041),m=n(430824),_=n(914010),f=n(594174),E=n(626135),g=n(645896),C=n(905362),I=n(603368),x=n(353093),T=n(940725),N=n(114487),v=n(979264),S=n(981631),Z=n(921944),A=n(689938),M=n(492120);function b(e){var t;let{guild:n,showToast:l,onConfirm:o,onDismiss:p}=e,[m,_]=a.useState(!1),E=a.useRef(null),C=(0,g.Cc)(n.id),T=(0,d.ZP)(),S=(0,u.e7)([h.Z],()=>h.Z.useReducedMotion),Z=(0,I.nP)(null==C?void 0:null===(t=C.branding)||void 0===t?void 0:t.primaryColor,[c.tokens.colors.BG_BRAND,.5]),b=c.tokens.colors.BG_SURFACE_OVERLAY.resolve({theme:T,saturation:1}).hex(),R=(0,I.nj)(Z,b,"top left",.3,"30%"),j=(0,u.e7)([f.default],()=>{var e;return null===(e=f.default.getCurrentUser())||void 0===e?void 0:e.clan},[]);a.useLayoutEffect(()=>{var e;if(null==E.current)return;let t=null===(e=E.current)||void 0===e?void 0:e.parentNode;return null!=t&&(t.style.zIndex="1003"),()=>{null!=t&&(t.style.zIndex="1002")}},[]);let L=a.useCallback(e=>{e.stopPropagation(),e.preventDefault(),p()},[p]),P=a.useCallback(e=>{e.stopPropagation(),e.preventDefault(),o()},[o]),O=(0,r.useTransition)(l,{from:{transform:S?"translateY(0)":"translateY(16px)",opacity:0,pointerEvents:"none"},enter:{transform:"translateY(0)",opacity:1,pointerEvents:"all"},leave:{transform:S?"translateY(0)":"translateY(16px)",opacity:0,pointerEvents:"none"},config:{mass:1,tension:500,friction:18,clamp:!0},delay:200}),y=(0,x.Zp)(n,j),D=y?A.Z.Messages.CLAN_USER_ADOPT_TAG_NEW_IDENTITY_TITLE.format({guildName:n.name}):A.Z.Messages.CLAN_USER_ADOPT_TAG_UPSELL_TITLE.format({guildName:n.name}),k=y?A.Z.Messages.CLAN_USER_ADOPT_TAG_NEW_IDENTITY_DESCRIPTION:A.Z.Messages.CLAN_USER_ADOPT_TAG_UPSELL_DESCRIPTION,U=y?A.Z.Messages.CLAN_USER_ADOPT_TAG_NEW_IDENTITY_ARIA_LABEL.format({guildName:n.name}):A.Z.Messages.CLAN_USER_ADOPT_TAG_UPSELL_ARIA_LABEL.format({guildName:n.name});return O((e,t)=>{var a,l;return t&&(0,i.jsx)(r.animated.div,{onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),className:s()(M.wrapper),style:{...e,...R},ref:E,children:(0,i.jsx)(c.ClickableContainer,{"aria-label":U,onClick:P,children:(0,i.jsxs)("div",{className:s()(M.toastContainerInner,m?M.hovered:null),children:[(0,i.jsxs)("div",{className:M.guildIconContainer,children:[(0,i.jsx)(N.Z,{guild:n,iconSize:64,className:M.icon}),(0,i.jsx)("div",{className:M.guildTagContainer,children:(0,i.jsx)(v.aG,{guildId:n.id,clanTag:null===(a=n.clan)||void 0===a?void 0:a.tag,clanBadge:null===(l=n.clan)||void 0===l?void 0:l.badge,className:M.guildClanTag})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)(c.Heading,{variant:"heading-md/bold",color:"header-primary",children:D})}),(0,i.jsx)("div",{children:(0,i.jsx)(c.Text,{variant:"text-sm/medium",color:"header-secondary",children:k})})]}),(0,i.jsx)("div",{children:(0,i.jsx)(c.Clickable,{className:M.toastButton,onClick:L,children:(0,i.jsx)(c.CloseSmallBoldIcon,{size:"custom",width:20,height:20})})})]})})})})}function R(e){let{}=e,t=(0,u.e7)([_.Z],()=>_.Z.getGuildId()),n=(0,T.h)(t,"clan_tag_upsell_toast"),l=(0,u.e7)([m.Z],()=>m.Z.getGuild(t),[t]),[s,r]=a.useState(!1),c=a.useRef(null);a.useEffect(()=>(n&&(c.current=window.setTimeout(()=>{r(!0),E.default.track(S.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:o.C[o.C.ADOPT_CLAN_IDENTITY_NOTICE],guild_id:null!=t?t:S.lds})},2500)),()=>{null!=c.current&&window.clearTimeout(c.current)}),[]);let d=a.useCallback(()=>{if(r(!1),null!=t)(0,C.S)(t)},[,t]),h=a.useCallback(()=>{if(r(!1),null!=t)(0,p.Qd)(o.C.ADOPT_CLAN_IDENTITY_NOTICE,null!=t?t:S.lds,!0,Z.L.DISMISS)},[t]);return n&&null!=t&&null!=l?(0,i.jsx)(b,{guild:l,onConfirm:d,onDismiss:h,showToast:s}):null}},570938:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var a=n(325767);function l(e){let{width:t=24,height:n=24,color:l="currentColor",...s}=e;return(0,i.jsxs)("svg",{...(0,a.Z)(s),width:t,height:n,viewBox:"0 0 24 24",children:[(0,i.jsx)("path",{d:"M11.659 0.987386C11.7762 0.670872 12.2238 0.670871 12.341 0.987385L13.7473 4.78792C13.7841 4.88744 13.8626 4.96589 13.9621 5.00272L17.7626 6.40904C18.0791 6.52616 18.0791 6.97384 17.7626 7.09096L13.9621 8.49728C13.8626 8.53411 13.7841 8.61256 13.7473 8.71207L12.341 12.5126C12.2238 12.8291 11.7762 12.8291 11.659 12.5126L10.2527 8.71207C10.2159 8.61256 10.1374 8.53411 10.0379 8.49728L6.23739 7.09096C5.92087 6.97384 5.92087 6.52616 6.23739 6.40904L10.0379 5.00272C10.1374 4.96589 10.2159 4.88744 10.2527 4.78792L11.659 0.987386Z",fill:l}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4176 10.3072C17.7105 10.0143 18.1853 10.0143 18.4782 10.3072C18.7711 10.6001 18.7711 11.075 18.4782 11.3679L22.4539 15.3436C22.6763 15.5659 22.5427 15.9467 22.2302 15.9814L20.9173 16.1273C20.743 16.1467 20.6054 16.2843 20.586 16.4586L20.4402 17.7715C20.4054 18.084 20.0246 18.2176 19.8023 17.9952L15.8266 14.0195L13.0606 16.7855L18.2495 21.9745C18.5424 22.2674 18.5424 22.7422 18.2495 23.0351C17.9566 23.328 17.4817 23.328 17.1888 23.0351L11.9999 17.8462L6.81097 23.0351C6.51807 23.328 6.0432 23.328 5.75031 23.0351C5.45741 22.7422 5.45742 22.2673 5.75031 21.9745L10.9392 16.7855L8.17322 14.0195L4.19751 17.9952C3.97517 18.2176 3.59436 18.084 3.55964 17.7715L3.41377 16.4586C3.3944 16.2843 3.25679 16.1467 3.08247 16.1273L1.76961 15.9814C1.4571 15.9467 1.32352 15.5659 1.54586 15.3436L5.52157 11.3679C5.22868 11.075 5.22868 10.6001 5.52157 10.3072C5.81447 10.0143 6.28934 10.0143 6.58223 10.3072L11.9999 15.7249L17.4176 10.3072Z",fill:l})]})}},856682:function(e,t,n){n.d(t,{Z:function(){return f}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(920906),o=n(393238),c=n(410030),u=n(231338),d=n(118807);let h={mass:1,tension:400,friction:60,clamp:!0},p={mass:1,tension:600,friction:60,clamp:!0};function m(e){let{paperColor:t,paperColorAlt:n,axleColor:a}=e;return(0,i.jsxs)("svg",{width:"365",height:"59",viewBox:"0 0 365 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsxs)("g",{"clip-path":"url(#clip0_1063_2338)",children:[(0,i.jsx)("path",{d:"M335.8 1.80005H57.2998V58.8H357C357 58.8 352 54.7 351.5 51.8C350.1 43.6 351.6 17.8 351.6 17.8C351.6 9.00005 344.5 1.80005 335.8 1.80005Z",fill:n}),(0,i.jsx)("path",{d:"M11.7998 28.2999C2.7998 28.3999 2.7998 11.9999 11.7998 12.0999C20.7998 11.9999 20.7998 28.3999 11.7998 28.2999Z",fill:a}),(0,i.jsx)("path",{d:"M27.8999 40.3999C6.3999 40.7999 6.3999 -0.300075 27.8999 -7.45849e-05C49.3999 -0.300075 49.3999 40.7999 27.8999 40.3999Z",fill:a}),(0,i.jsx)("path",{d:"M31.4997 31.4C17.0997 31.6 17.0997 8.79999 31.4997 8.89999C45.8997 8.69999 45.8997 31.5 31.4997 31.4Z",fill:n}),(0,i.jsx)("path",{d:"M336 8.09998H37.2997C29.4997 8.09998 23.1997 13.5 23.1997 20.2C23.1997 26.9 29.4997 32.3 37.2997 32.3H336C343.8 32.3 350.1 26.9 350.1 20.2C350.1 13.5 343.8 8.09998 336 8.09998Z",fill:a}),(0,i.jsx)("path",{d:"M338.5 31.4C324.1 31.6 324.1 8.79999 338.5 8.89999C352.9 8.69999 352.9 31.5 338.5 31.4Z",fill:n}),(0,i.jsx)("path",{d:"M346.4 40.4C324.9 40.7 324.9 -0.400029 346.4 -2.87746e-05C367.9 -0.300029 367.9 40.8 346.4 40.4Z",fill:a}),(0,i.jsx)("path",{d:"M348.8 33.6999C338.7 33.8999 338.7 6.39995 348.8 6.69995C358.9 6.49995 358.9 33.9999 348.8 33.6999Z",fill:n}),(0,i.jsx)("path",{d:"M355.4 27.4C346 27.5 346 12.5 355.4 12.7C364.8 12.6 364.8 27.6 355.4 27.4Z",fill:a}),(0,i.jsx)("path",{d:"M357.9 27.5C348.5 27.6 348.5 12.6 357.9 12.8C367.3 12.7 367.3 27.7 357.9 27.5Z",fill:n}),(0,i.jsx)("path",{d:"M321.8 1.79997H55.7998C41.9998 1.79997 30.7998 13.002 30.7998 26.8045V846.952H307.6H320.989L321.8 15.9025C321.8 8.1011 328.1 1.69995 336 1.69995H321.8V1.79997Z",fill:t})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1063_2338",children:(0,i.jsx)("rect",{width:"365",height:"59",fill:"white"})})})]})}function _(e){let{paperColor:t,paperColorAlt:n}=e;return(0,i.jsxs)("svg",{width:"365",height:"101",viewBox:"0 0 365 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsxs)("g",{"clip-path":"url(#clip0_1063_2355)",children:[(0,i.jsx)("path",{d:"M321.8 -743.231L30.7998 -741.136V-718.279V100.139H305.852C314.398 100.121 321.789 92.9688 321.8 83.8672V-729.158C321.8 -736.943 321.8 -743.231 321.8 -743.231Z",fill:t}),(0,i.jsx)("path",{d:"M30.7998 15.5372V100.137H305.6C314.5 100.137 321.8 92.9371 321.8 83.9371V15.4371H30.7998V15.5372Z",fill:"url(#paint0_linear_1063_2355)"}),(0,i.jsx)("path",{d:"M283 84.1371C283 84.1371 283.8 66.7371 283 58.1371C282.8 55.9371 280 52.1371 280 52.1371H0C0 52.1371 2.7 55.9371 3 58.1371C3.7 64.1371 3 76.1371 3 76.1371C3 89.3371 13.8 100.137 27 100.137H299C290.2 100.137 283 92.9371 283 84.1371Z",fill:n})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"paint0_linear_1063_2355",x1:"176.3",y1:"15.5371",x2:"176.3",y2:"100.137",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{"stop-opacity":"0","stop-color":t}),(0,i.jsx)("stop",{offset:"1","stop-color":n})]}),(0,i.jsx)("clipPath",{id:"clip0_1063_2355",children:(0,i.jsx)("rect",{width:"365",height:"100",fill:"white",transform:"translate(0 0.337158)"})})]})]})}function f(e){let{children:t,fullHeight:n=!1}=e,[l,f]=a.useState(!1),{height:E,ref:g}=(0,o.Z)(),{height:C,ref:I}=(0,o.Z)(),x=n?C:59+(null!=E?E:100)+101,T=(0,r.useSpring)({from:{height:0},to:{height:x},config:h,delay:l?0:800,onRest:()=>f(!0)}),N=(0,r.useSpring)({from:{opacity:0},to:{opacity:1},config:p,delay:1e3}),v=(0,c.Fg)(),S=v===u.BR.LIGHT?"#FFFFFF":"#1C1D23",Z=v===u.BR.LIGHT?"#EBEDEF":"#26272F",A=v===u.BR.LIGHT?"#CCCCCC":"#1A1A1E";return(0,i.jsx)("div",{className:d.container,ref:I,children:(0,i.jsxs)(r.animated.div,{className:d.heightContainer,style:{...T,overflow:l?"initial":"hidden"},children:[(0,i.jsx)(m,{paperColor:S,paperColorAlt:Z,axleColor:A}),(0,i.jsx)("div",{className:s()(d.content,n&&d.fullHeight),ref:g,children:(0,i.jsx)("div",{className:s()(d.innerContent,n&&d.fullHeight),style:{backgroundColor:S},children:(0,i.jsx)(r.animated.div,{className:s()(d.contentAnimContainer,n&&d.fullHeight),style:N,children:t})})}),(0,i.jsx)(_,{paperColor:S,paperColorAlt:Z})]})})}},282256:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(434650),o=n(393903),c=n(353093),u=n(979264),d=n(256037);t.Z=a.memo(function(e){let{children:t,isOverlay:n,contextGuildId:l,...h}=e,p=a.useRef(null),[m,_]=a.useState({maskImage:"none"}),f=a.useCallback(()=>{var e,t;if(n){_({maskImage:"none"});return}let i=null===(e=E.current)||void 0===e?void 0:e.getBoundingClientRect(),a=null===(t=p.current)||void 0===t?void 0:t.getBoundingClientRect();if(null==i||null==a){_({maskImage:"none"});return}let l=a.right-i.right,s=a.width-l;if(s>a.width){_({maskImage:"none"});return}_({maskImage:"linear-gradient(to right, rgba(0, 0, 0, 1) 0, rgba(0, 0, 0, 0) ".concat(s,"px)")})},[]),E=(0,o.y)(f),g=(0,c.p0)(h.userId,l);a.useEffect(()=>{if(null!=E.current)f()},[g]);let C=(0,r.O)(f);return(0,i.jsxs)("div",{className:s()(d.container,n&&d.isOverlayContainer),ref:E,children:[(0,i.jsx)("div",{className:d.usernameContainer,children:t}),(0,i.jsx)("div",{className:d.chipletParent,ref:C,children:(0,i.jsx)("span",{className:s()(d.chipletContainer,!g&&n&&d.noPadding),ref:p,style:m,children:(0,i.jsx)(u.ZP,{...h,contextGuildId:l,className:s()(h.className,n&&d.isOverlayTag)})})})]})})},620929:function(e,t,n){n.d(t,{p:function(){return v}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(913527),o=n.n(r),c=n(442837),u=n(481060),d=n(430824),h=n(650461),p=n(353093),m=n(105671),_=n(532490),f=n(979264),E=n(570938),g=n(550271),C=n(116175),I=n(308083),x=n(689938),T=n(772661);function N(e){let{guildId:t,tag:n,badge:a,primaryColor:l,secondaryColor:s}=e;return null==n||0===n.length?(0,i.jsx)("div",{className:T.placeholderIcon,children:(0,i.jsx)(E.Z,{height:42,width:42})}):(0,i.jsx)(f.aG,{guildId:t,className:T.charterClanTag,clanTag:n,textVariant:"heading-lg/semibold",textColor:"text-normal",badgeSize:I.NC.SIZE_24,clanBadge:(0,i.jsx)(g.A,{className:T.charterClanBadge,badge:a,width:I.NC.SIZE_24,height:I.NC.SIZE_24,primaryTintColor:l,secondaryTintColor:s})})}function v(e){let{applicationIds:t,playstyle:n,className:l}=e,r=a.useMemo(()=>Array.from(t),[t]),o=(0,m.i)(r),c=a.useMemo(()=>{if(null==o)return null;let e=(0,I.mv)(n);return null==e?x.Z.Messages.CLAN_SETUP_OVERVIEW_TEXT_GAMES.format({games:o}):x.Z.Messages.CLAN_SETUP_OVERVIEW_TEXT_GAMES_AND_PLAYSTYLE.format({playstyle:e,games:o})},[o,n]);return(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"text-muted",className:s()(T.overviewText,l),children:null==c?x.Z.Messages.CLAN_SETUP_OVERVIEW_TEXT_DEFAULT:c})}t.Z=12633==n.j?e=>{let{guildId:t}=e,n=(0,h.Wg)(),l=(0,c.e7)([d.Z],()=>{var e,n;return null!==(n=null===(e=d.Z.getGuild(t))||void 0===e?void 0:e.name)&&void 0!==n?n:""}),{gameApplicationIds:s,playstyle:r,interests:m,tag:f,badgeKind:E,badgePrimaryColor:g,badgeSecondaryColor:S}=(0,c.cj)([h.ZP],()=>{var e;return null!==(e=h.ZP.getStateForGuild(t).progress)&&void 0!==e?e:n}),Z=a.useMemo(()=>(null==m?void 0:m.size)>0?(0,p.f6)(Array.from(m),I.nt):null,[m]);return(0,i.jsxs)(_.Z,{...e,children:[(0,i.jsx)(N,{guildId:t,tag:f,badge:E,primaryColor:null!=g?g:C.Nh,secondaryColor:null!=S?S:C.vY}),(0,i.jsx)(u.Heading,{variant:"heading-xl/normal",color:"text-muted",className:T.overviewHeaderPrelude,children:x.Z.Messages.CLAN_SETUP_OVERVIEW_TITLE}),(0,i.jsx)(u.Heading,{variant:"heading-xl/bold",color:"interactive-active",className:T.overviewGuildName,children:l}),(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"text-muted",className:T.overviewText,children:x.Z.Messages.CLAN_SETUP_OVERVIEW_ESTABLISHED.format({date:o()().format("MMMM YYYY")})}),(0,i.jsx)(v,{applicationIds:s,playstyle:r}),null!=Z?(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"text-muted",className:T.overviewText,children:x.Z.Messages.CLAN_SETUP_OVERVIEW_TEXT_TRAITS.format({traits:Z})}):null,(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"text-muted",className:T.overviewText,children:x.Z.Messages.CLAN_SETUP_OVERVIEW_TEXT_WRAP})]})}:null},236091:function(e,t,n){var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(442837),r=n(692547),o=n(481060),c=n(358221),u=n(594190),d=n(836157),h=n(199902),p=n(924557),m=n(435064),_=n(354459),f=n(689938),E=n(66824);t.Z=e=>{let{className:t,channelId:n}=e,a=(0,p.Go)(),{enableDecoupledGameClipping:g}=d.Z.useExperiment({location:"ClipsEnabledIndicator"},{autoTrackExposure:!1});return(0,s.e7)([h.Z,c.Z,m.Z,u.ZP],()=>{var e;if(null==n)return!1;let t=h.Z.getCurrentUserActiveStream(),i=null===(e=u.ZP.getVisibleGame())||void 0===e?void 0:e.windowHandle;return null!=t&&!!m.Z.getSettings().clipsEnabled&&!!a||null!=i&&!!m.Z.getSettings().decoupledClipsEnabled&&!!g||c.Z.getParticipants(n).some(e=>e.type===_.fO.USER&&m.Z.isClipsEnabledForUser(e.user.id))})?(0,i.jsxs)(o.TooltipContainer,{text:f.Z.Messages.CLIPS_ENABLED_VIEWER_TOOLTIP,color:o.TooltipColors.GREY,className:l()(t,E.clipsEnabledIndicator),children:[(0,i.jsx)(o.IconBadge,{icon:o.ClipsIcon,shape:o.BadgeShapes.ROUND_LEFT,color:r.Z.unsafe_rawColors.PRIMARY_500.css,className:E.clipBadgeIcon}),(0,i.jsx)(o.TextBadge,{text:f.Z.Messages.CLIPS_ENABLED_BADGE,shape:o.BadgeShapes.ROUND_RIGHT,color:r.Z.unsafe_rawColors.PRIMARY_500.css,className:E.clipBadgeText})]}):null}},712114:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(735250),a=n(470079),l=n(990547),s=n(481060),r=n(213609),o=n(536442),c=n(39604),u=n(176127),d=n(689938),h=n(397031);function p(e){let{onOpenClips:t,lastClipsSession:n,closePopout:p}=e;return(a.useEffect(()=>()=>{(0,c.eL)()},[]),(0,r.Z)({type:l.ImpressionTypes.VIEW,name:l.ImpressionNames.HOTSPOT,properties:{hotspot_location:o.v6.CLIPS_CHANNEL_ATTACH_REMINDER}}),null==n)?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)("div",{className:h.recentClipsPopout,children:[(0,i.jsx)("div",{className:h.thumbnailStackContainer,children:(0,i.jsx)(u.Z,{})}),(0,i.jsx)(s.Heading,{className:h.header,color:"header-primary",variant:"heading-md/extrabold",children:d.Z.Messages.CLIPS_YOU_HAVE_NEW_CLIPS.format({count:n.newClipIds.length})}),(0,i.jsx)(s.Text,{color:"text-normal",className:h.__invalid_content,variant:"text-sm/medium",children:d.Z.Messages.CLIPS_SESSION_ENDED_TOOLTIP_BODY.format({applicationName:n.applicationName})}),(0,i.jsxs)("div",{className:h.buttonsContainer,children:[(0,i.jsx)(s.Button,{color:s.Button.Colors.PRIMARY,look:s.Button.Looks.LINK,onClick:function(){(0,o.Kw)(o.v6.CLIPS_CHANNEL_ATTACH_REMINDER),p()},children:d.Z.Messages.CLIPS_SESSION_ENDED_TOOLTIP_SECONDARY_CTA}),(0,i.jsx)(s.Button,{color:s.Button.Colors.BRAND,onClick:t,children:d.Z.Messages.CLIPS_SESSION_ENDED_TOOLTIP_PRIMARY_CTA})]})]})}},71585:function(e,t,n){n(47120),n(653041);var i,a=n(442837),l=n(570140);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let r=()=>({itemImpressions:[]}),o=r(),c=new Set,u=new Set,d=0,h=!1,p=!1;function m(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e&&Date.now()<d)return;o.itemImpressions.length>1e3&&(o.itemImpressions=[]);let t=0,n=Date.now()-2592e5;for(let e=0;e<o.itemImpressions.length;e++){let[i,a]=o.itemImpressions[e];if(a<n)t=e+1;else break}t>0&&(o.itemImpressions=o.itemImpressions.slice(t));let i=p?1e3:576e5,a=new Set,l=new Set,s=Date.now()-i,r=null;for(let[e,t]of o.itemImpressions)t<s?a.add(e):null==r&&(r=t+i),l.add(e);c=a,u=l,d=null!=r?r:1/0,h=!0}class _ extends(i=a.ZP.PersistedStore){initialize(e){o={...o,...null!=e?e:{}}}getState(){return o}getImpressionCappedItemIds(){return m(),c}getDebugFastImpressionCappingEnabled(){return p}reset(){o=r()}}s(_,"displayName","ContentInventoryPersistedStore"),s(_,"persistKey","ContentInventoryPersistedStore"),t.Z=new _(l.Z,{CONTENT_INVENTORY_TRACK_ITEM_IMPRESSIONS:function(e){let{itemIds:t}=e;!h&&m();let n=Date.now(),i=!1;for(let e of t)!u.has(e)&&(o.itemImpressions.push([e,n]),i=!0);return m(i),i},CONTENT_INVENTORY_DEBUG_CLEAR_IMPRESSIONS:function(){o.itemImpressions=[],m(!0)},CONTENT_INVENTORY_DEBUG_LOG_IMPRESSIONS:function(){return console.log("Item impressions:",o.itemImpressions),!1},CONTENT_INVENTORY_DEBUG_TOGGLE_FAST_IMPRESSION_CAPPING:function(){p=!p}})},493324:function(e,t,n){n.d(t,{$:function(){return a}});let i=(0,n(818083).B)({kind:"user",id:"2024-02_hide_member_list_activities",label:"Hide member list activities",defaultConfig:{hideActivities:!1},treatments:[{id:1,label:"Enabled (hide activities)",config:{hideActivities:!0}}]});function a(e){return i.getCurrentConfig({location:e},{autoTrackExposure:!0}).hideActivities}},219634:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120),n(653041);var i=n(470079),a=n(149765),l=n(442837),s=n(902704),r=n(592125),o=n(720202),c=n(271383),u=n(700785),d=n(231338);let h=[],p=new Set;function m(e){let{entries:t,channelId:n}=e,m=(0,l.e7)([r.Z],()=>r.Z.getChannel(n)),_=null==m?void 0:m.guild_id,f=i.useRef(new Set),E=i.useMemo(()=>{let e=new Set(null==t?void 0:t.map(e=>e.author_id));return!(0,s.E)([...f.current],[...e])&&(f.current=e),f.current},[t]);i.useEffect(()=>{if(null!=_)Array.from(E).forEach(e=>{o.Z.requestMember(_,e)})},[E,_]);let g=(0,l.Wu)([c.ZP],()=>{if(null==_)return h;let e=[];for(let t of E)c.ZP.isMember(_,t)&&e.push(t);return e},[E,_]),C=i.useMemo(()=>{if(null==m||0===g.length)return p;let e=new Set;for(let t of g){let n=u.uB({user:t,context:m});a.e$(n,d.Pl.VIEW_CHANNEL)&&e.add(t)}return e},[g,m]);return i.useMemo(()=>null==t?void 0:t.filter(e=>C.has(e.author_id)),[t,C])}},520951:function(e,t,n){n.d(t,{Z:function(){return u}}),n(47120);var i=n(470079),a=n(442837),l=n(162461),s=n(71585),r=n(146282),o=n(561308);let c=new Set;function u(e){let t=(0,a.e7)([s.Z,r.Z],()=>{let e=r.Z.getDebugImpressionCappingDisabled();return!(0,l.wm)("useFilterImpressionCappedContent")||e?c:s.Z.getImpressionCappedItemIds()},[e]);return i.useMemo(()=>{if(null==e)return{entries:e,filteredIds:c};let n=new Set;return{entries:e.filter(e=>!!(0,o.kr)(e)||!t.has(e.id)||(n.add(e.id),!1)),filteredIds:n}},[e,t])}},809017:function(e,t,n){n.d(t,{G:function(){return i}});let i="content-inventory-feed"},571243:function(e,t,n){n.d(t,{a:function(){return a}});let i=(0,n(818083).B)({id:"2024-04_memberlist_one_click_reply",kind:"user",label:"Memberlist One Click Reply",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"One click reply enabled",config:{enabled:!0}}]}),a=e=>{let{location:t,autoTrackExposure:n=!0}=e,{enabled:a}=i.useExperiment({location:t},{autoTrackExposure:n});return a}},69259:function(e,t,n){n.d(t,{L:function(){return s}});var i=n(626135),a=n(206583),l=n(981631);let s=(e,t)=>{i.default.track(l.rMx.RANKING_ITEM_INTERACTED,{request_id:t.requestId,item_id:t.entry.id,surface_type:a.Kd.GUILD_MEMBER_LIST,channel_id:t.channelId,guild_id:t.guildId,interaction_type:e,destination_channel_id:t.destinationChannelId,destination_guild_id:t.destinationGuildId})}},256726:function(e,t,n){n.d(t,{CR:function(){return m},UU:function(){return h},jE:function(){return d}}),n(627494),n(757143);var i=n(884439),a=n(55e3),l=n(693824),s=n(690725),r=n(561308),o=n(737583),c=n(169040),u=n(689938);let d=e=>{let{timestamp:t}=e;return[{iconPath:c.mb,text:t}]},h=e=>{var t;let n=null===(t=(0,r.PJ)(e,i.N.AGGREGATE_COUNT))||void 0===t?void 0:t.count;return null==n?[]:[{iconPath:c.eF,text:u.Z.Messages.MEMBER_LIST_CONTENT_FEED_TOP_ARTIST_TRACKS_THIS_WEEK.format({count:n})}]},p=e=>{let{avatarSrc:t,mediaImageSrc:n}=e;return{AvatarImage:t,...null!=n&&{MediaImage:n}}},m=async e=>{let{user:t,channel:n,mediaImageSrc:i,artist:r,description:d,colors:h,badges:m}=e,_=p({avatarSrc:t.getAvatarURL(n.guild_id,128),mediaImageSrc:i}),f=r.replaceAll(/[^a-zA-Z0-9 ]/g,"").replaceAll(" ","-");return await (0,s.f)({assetsToLoad:_,drawImage:e=>{(function(e,t){let n=t.map((e,t)=>({color:e,stop:t}));e.setSize({w:c.nx,h:c.bg},4),e.drawRoundedGradientRect(n,{x:0,y:c.bg},{x:c.nx,y:0},{x:0,y:0,h:c.bg,w:c.nx},8)})(e,h),function(e){e.setColor("rgba(108, 111, 124, 0.24)"),e.drawRoundedRect({x:c.nx-c.sB-c.if,y:c.sB,w:c.if,h:c.wI},4,!0),e.setColor("rgba(255, 255, 255, 0.5)"),e.setFont({size:12,family:["gg sans","sans-serif"],weight:500,truncate:l.GX.None}),e.drawText(u.Z.Messages.BETA,{x:c.nx-c.sB-29,y:26},!0)}(e),function(e){e.drawRoundedImage("MediaImage",{x:c.sB,y:c.sB},{w:c.Pu,h:c.Pu},8,{fillMode:l.JU.Contain})===l.vP.Failure&&e.drawPath(a.Cv,{x:c.sB,y:c.sB},!0,2+2/3)}(e),function(e){e.drawRoundedImage("AvatarImage",{x:c.Iq,y:c.sB},{w:c.$S,h:c.$S},50)}(e),function(e,t){e.setColor("white"),e.setFont({size:16,truncate:l.GX.Wrap}),e.drawText(t,{x:c.Iq,y:64,h:32,w:c.kC},!0)}(e,d),(0,o.J)({canvas:e,badges:m,startPosition:c.Iq,maxWidth:c.kC})},exportConfigs:{format:l.kH.CloudUpload,quality:1,fileName:"user-reacting-to-".concat(f,".png").toLowerCase(),fileType:"png",channelId:n.id}})}},644810:function(e,t,n){n.d(t,{B:function(){return d}}),n(653041);var i=n(55e3),a=n(693824),l=n(690725),s=n(737583),r=n(169040),o=n(689938);let c=(e,t,n)=>({AvatarImage:e,...null!=t&&{MediaImage:t},...null!=n&&{ApplicationImage:n}}),u=(e,t)=>{let n=[{iconPath:r.i6,text:e}];return null!=t&&n.push({iconPath:r.fj,text:t}),n},d=async e=>{let{mediaImageSrc:t,entry:n,avatarSrc:d,description:h,timestamp:p,episodeDescription:m,colors:_,channelId:f}=e,E=n.extra.media_title,g=c(d,t);return await (0,l.f)({assetsToLoad:g,drawImage:e=>{let t=_.map((e,t)=>({color:e,stop:t}));e.setSize({w:r.nx,h:r.bg},4),e.drawRoundedGradientRect(t,{x:0,y:r.bg},{x:r.nx,y:0},{x:0,y:0,h:r.bg,w:r.nx},8),e.setColor("rgba(108, 111, 124, 0.24)"),e.drawRoundedRect({x:r.nx-r.sB-r.if,y:r.sB,w:r.if,h:r.wI},4,!0),e.setColor("rgba(255, 255, 255, 0.5)"),e.setFont({size:12,family:["gg sans","sans-serif"],weight:500,truncate:a.GX.None}),e.drawText(o.Z.Messages.BETA,{x:r.nx-r.sB-29,y:26},!0),e.setColor("white");let n=e.drawRoundedImage("MediaImage",{x:r.sB,y:r.sB},{w:r.Pu,h:r.Pu},8,{fillMode:a.JU.Contain});n===a.vP.Failure&&(n=e.drawRoundedImage("ApplicationImage",{x:r.sB,y:r.sB},{w:r.Pu,h:r.Pu},8)),n===a.vP.Failure&&e.drawPath(i.Cv,{x:r.sB,y:r.sB},!0,2+2/3),e.drawRoundedImage("AvatarImage",{x:r.Iq,y:r.sB},{w:r.$S,h:r.$S},50),e.setFont({size:16,truncate:a.GX.Wrap}),e.drawText(h,{x:r.Iq,y:64,h:32,w:r.kC},!0);let l=u(p,m);(0,s.J)({canvas:e,badges:l,startPosition:r.Iq,maxWidth:r.kC})},exportConfigs:{format:a.kH.CloudUpload,quality:1,fileName:"user-reacting-to-".concat(E,".png").toLowerCase(),fileType:"png",channelId:f}})}},590026:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(470079),a=n(876215),l=n(442837),s=n(146282),r=n(219634),o=n(520951),c=n(897674),u=n(206583);let d=new Set([a.s.PLAYED_GAME,a.s.WATCHED_MEDIA,a.s.TOP_GAME,a.s.TOP_ARTIST,a.s.LISTENED_SESSION]);function h(e){let t=(0,c.Z)(u.YN.GLOBAL_FEED);t=(0,r.Z)({entries:t,channelId:e}),t=i.useMemo(()=>null==t?void 0:t.filter(e=>d.has(e.content_type)),[t]);let{entries:n,filteredIds:a}=(0,o.Z)(t);return t=n,{requestId:(0,l.e7)([s.Z],()=>s.Z.getFeedRequestId(u.YN.GLOBAL_FEED)),entries:t,impressionCappedEntryIds:a}}},611064:function(e,t,n){n.d(t,{R:function(){return E}});var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(239091),o=n(151827),c=n(485267),u=n(146282),d=n(703180),h=n(809017),p=n(981631),m=n(689938),_=n(493893),f=n(279691);function E(e){return(null==e?void 0:e.id)===h.G}t.Z=a.memo(function(e){let t,{title:h,onToggleExpand:E,expanded:g,expandedCount:C}=e,I=(0,l.e7)([u.Z],()=>u.Z.hidden),x=a.useCallback(e=>{(0,r.jW)(e,async()=>{let{MemberListContentSettingsMenu:e}=await Promise.resolve().then(n.bind(n,703180));return()=>(0,i.jsx)(e,{closePopout:r.Zy})})},[]);return(0,i.jsxs)(o.Z,{className:f.membersGroup,children:[(0,i.jsx)(s.HiddenVisually,{children:m.Z.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:h,count:C})}),(0,i.jsxs)(s.Clickable,{onClick:e=>{if(e.currentTarget===e.target||e.currentTarget.contains(e.target))return I?(0,c.l)():C>3?E():(0,p.dG4)()},onContextMenu:x,tag:"span","aria-hidden":!0,className:_.headerContainer,children:[(0,i.jsxs)("div",{className:_.header,children:[(0,i.jsxs)("span",{children:[h," — ",C]}),(0,i.jsx)(d.default,{})]}),C<=3&&!I?null:(t=I?(0,i.jsx)(s.ChevronSmallUpIcon,{className:_.toggleExpandIcon}):g?(0,i.jsx)(s.ChevronSmallDownIcon,{className:_.toggleExpandIcon}):(0,i.jsx)(s.ChevronSmallRightIcon,{className:_.toggleExpandIcon}),(0,i.jsx)(s.FocusRing,{children:(0,i.jsx)("div",{tabIndex:0,className:_.toggleExpandIcon,children:t})}))]})]})})},677432:function(e,t){t.Z=()=>null},178762:function(e,t,n){n.d(t,{YN:function(){return M},iZ:function(){return b}}),n(47120);var i=n(735250),a=n(470079),l=n(392711),s=n.n(l),r=n(91192),o=n(876215),c=n(442837),u=n(481060),d=n(239091),h=n(607070),p=n(439170),m=n(594174),_=n(687694),f=n(69259),E=n(91140),g=n(227172),C=n(551228),I=n(678869),x=n(278399),T=n(886217),N=n(555672),v=n(644548),S=n(335326),Z=n(268010),A=n(206583);let M=72;function b(e){return(null==e?void 0:e.type)===p.so.CONTENT_INVENTORY?M:0}let R=s().throttle(e=>{(0,f.L)(A.xP.CARD_HOVER,e)},5e3,{leading:!0,trailing:!1}),j=e=>{let{entry:t,...n}=e;switch(t.content_type){case o.s.PLAYED_GAME:return(0,i.jsx)(E.Z,{...n,entry:t});case o.s.WATCHED_MEDIA:return(0,i.jsx)(S.ZP,{...n,entry:t});case o.s.TOP_GAME:return(0,i.jsx)(N.ZP,{...n,entry:t});case o.s.TOP_ARTIST:return(0,i.jsx)(x.ZP,{...n,entry:t});case o.s.LISTENED_SESSION:return(0,i.jsx)(C.ZP,{...n,entry:t});default:return null}},L=e=>{let{entry:t,...n}=e;switch(t.content_type){case o.s.PLAYED_GAME:return(0,i.jsx)(g.Z,{...n,entry:t});case o.s.WATCHED_MEDIA:return(0,i.jsx)(Z.Z,{...n,entry:t});case o.s.TOP_GAME:return(0,i.jsx)(v.Z,{...n,entry:t});case o.s.TOP_ARTIST:return(0,i.jsx)(T.Z,{...n,entry:t});case o.s.LISTENED_SESSION:return(0,i.jsx)(I.Z,{...n,entry:t});default:return null}};t.ZP=a.memo(e=>{var t;let{index:l,...s}=e,[o,p]=a.useState("default"),E=(0,r.JA)("".concat(l)),g=null===(t=m.default.getCurrentUser())||void 0===t?void 0:t.isStaff(),C={entry:s.entry,channelId:s.channel.id,guildId:s.channel.guild_id,requestId:s.requestId},{openOnHover:I}=(0,_.C)({location:"MemberListContentRow"}),x=a.useRef(!1),[T,N]=a.useState(!1),[v,S]=a.useState(!1),[Z,M]=a.useState(!1),b=(0,c.e7)([h.Z],()=>h.Z.keyboardModeEnabled);a.useEffect(()=>{T&&b&&M(!0)},[T,b]);let P=a.useCallback(e=>{if(!!g)(0,d.jW)(e,async()=>{let{default:e}=await n.e("153").then(n.bind(n,330150));return()=>(0,i.jsx)(e,{entry:s.entry,requestId:s.requestId})})},[s,g]),O=a.useCallback(()=>{p(String(Date.now()))},[]),y=()=>{x.current=!1,setTimeout(()=>{!x.current&&(N(!1),M(b))},100)};return(0,i.jsx)("div",{onMouseEnter:()=>{x.current=!0,setTimeout(()=>{x.current&&N(!0),I&&(0,f.L)(A.xP.CARD_CLICK,C)},100)},onMouseLeave:y,children:(0,i.jsx)(u.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(L,{closePopout:t,updatePopoutPosition:O,...s})},position:"left",shouldShow:I?T:v,positionKey:o,onRequestOpen:()=>(0,f.L)(A.xP.CARD_CLICK,C),onRequestClose:()=>{Z&&y(),!I&&(N(!1),S(!1))},spacing:8,children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(u.Clickable,{onClick:()=>{I&&!T&&N(!0),!I&&S(e=>!e)},children:(0,i.jsx)(u.FocusRing,{offset:{top:4,bottom:4,left:4,right:4},children:(0,i.jsx)("div",{...e,...E,onMouseEnter:()=>{R(C)},onContextMenu:P,children:(0,i.jsx)(j,{...s,selected:n})})})})}})})})},703180:function(e,t,n){n.r(t),n.d(t,{MemberListContentSettingsMenu:function(){return u}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(485267),r=n(146282),o=n(981631),c=n(689938);let u=e=>{let{closePopout:t}=e,u=(0,a.e7)([r.Z],()=>r.Z.hidden);return(0,i.jsx)(l.Menu,{onSelect:()=>{},navId:"member-list-settings-menu",variant:"fixed",onClose:null!=t?t:o.dG4,"aria-label":c.Z.Messages.CONTENT_INVENTORY_MEMBERLIST_SETTINGS_ALT,children:(0,i.jsxs)(l.MenuGroup,{children:[(0,i.jsx)(l.MenuItem,{id:"about",label:c.Z.Messages.CONTENT_INVENTORY_MEMBERLIST_SETTINGS_ABOUT,icon:l.CircleInformationIcon,action:()=>{(0,l.openModalLazy)(async()=>{let{default:e}=await n.e("71517").then(n.bind(n,549505));return t=>(0,i.jsx)(e,{...t})}),null==t||t()}}),(0,i.jsx)(l.MenuCheckboxItem,{id:"hide",label:c.Z.Messages.CONTENT_INVENTORY_MEMBERLIST_SETTINGS_HIDE,checked:u,action:()=>{(0,s.l)(),null==t||t()}})]})})};t.default=()=>(0,i.jsx)(l.Popout,{animation:l.Popout.Animation.NONE,position:"bottom",align:"right",renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(u,{closePopout:t})},children:e=>(0,i.jsx)(l.Clickable,{...e,onClick:t=>{t.stopPropagation(),e.onClick(t)},style:{width:"12px",height:"12px"},children:(0,i.jsx)(l.SettingsIcon,{size:"xxs"})})})},227172:function(e,t,n){var i=n(735250),a=n(470079),l=n(758713),s=n(442837),r=n(481060),o=n(620662),c=n(841784),u=n(420660),d=n(429589),h=n(757182),p=n(706454),m=n(374129),_=n(639351),f=n(823379),E=n(192918),g=n(22211),C=n(561308),I=n(919394),x=n(438226),T=n(206295),N=n(91140),v=n(297781),S=n(591853),Z=n(265048),A=n(981631),M=n(689938);let b={[l.z.DESKTOP]:null,[l.z.LINUX]:null,[l.z.MACOS]:null,[l.z.NINTENDO]:null,[l.z.IOS]:null,[l.z.ANDROID]:null,[l.z.XBOX]:_.Z,[l.z.PLAYSTATION]:m.Z};t.Z=e=>{let{channel:t,entry:n,requestId:l,closePopout:m}=e,{iconUrl:_,iconTitle:R,user:j,details:L,gameTitle:P,activity:O}=(0,Z.F)(n),{primaryColor:y,secondaryColor:D}=(0,T.Z)(_),k=(0,s.e7)([p.default],()=>p.default.locale),{streamPreviewUrl:U,stream:w}=(0,g.Z)(n),{displayParticipants:B,participant1:H,participant2:G,numOtherParticipants:V}=(0,E.Z)(n,3),F=(0,r.useToken)(r.tokens.colors.CONTENT_INVENTORY_OVERLAY_TEXT_PRIMARY),W=a.useCallback(e=>{if(null==_||null==t||null==j)return;let i=V>0?(0,x.VY)({entry:n,channel:t,users:[H,G],countOthers:V}):(0,x.HV)(n,t,j);return(0,I.SO)({entry:n,applicationImageSrc:_,avatarSrcs:B.map(e=>e.getAvatarURL(t.guild_id,128)),description:i,timestamp:(0,C.yh)(n,k),colors:[y,D],channelId:e})},[_,t,B,n,k,V,H,G,y,D,j]);if(null==j)return null;let z=null!=n.extra.platform?b[n.extra.platform]:null,Y=(0,i.jsx)(v.Gk,{location:v.Gt.POPOUT,children:N.W.map((e,t)=>(0,i.jsx)(e,{entry:n},t))}),K=null==U?(0,i.jsx)(S.wG,{thumbnailSrc:_,thumbnailTitle:R,channel:t,headerIcons:null!=z?(0,i.jsx)(z,{color:F.hex(),width:16,height:16}):null,userDescription:(0,C.kr)(n)?M.Z.Messages.MEMBER_LIST_CONTENT_POPOUT_USER_PLAYING:M.Z.Messages.MEMBER_LIST_CONTENT_POPOUT_USER_PLAYED,title:P,subtitle:L,badges:Y,entry:n}):(0,i.jsx)(S.jL,{channel:t,streamPreviewSrc:U,title:n.extra.game_name,badges:Y,userDescription:M.Z.Messages.MEMBER_LIST_CONTENT_POPOUT_USER_STREAMING,entry:n,stream:w}),q=(0,o.Z)(O,A.xjy.JOIN)||(0,c.Z)(O)?(0,i.jsx)(d.Z,{activity:O,user:j,ButtonComponent:e=>(0,i.jsx)(S.Ll,{IconComponent:r.GameControllerIcon,...e})}):null,X=[q,(0,u.Z)(O)?(0,i.jsx)(h.Z,{activity:O,ButtonComponent:e=>(0,i.jsx)(S.Ll,{IconComponent:r.EyeIcon,...e})}):null].filter(f.lm);return(0,i.jsxs)(S.yR,{children:[K,(0,i.jsx)(S.St,{children:(0,i.jsx)(S.WT,{closePopout:m,user:j,channel:t,generateReactionImage:W,reactionImageAltText:(0,x.IS)(n,j),entry:n,requestId:l,buttons:X})})]})}},551228:function(e,t,n){n.d(t,{pi:function(){return E}}),n(47120);var i=n(735250),a=n(470079),l=n(512722),s=n.n(l),r=n(442837),o=n(276852),c=n(594174),u=n(719247),d=n(297781),h=n(443487),p=n(43205),m=n(689938),_=n(41899);let f=[d.XF];function E(e){var t,n,i,a,l,s,d;let h=(0,r.e7)([u.Z],()=>u.Z.getMatchingActivity(e)),p=(0,r.e7)([c.default],()=>c.default.getUser(e.author_id));if(null==h||null==p)return{};let m=e.extra.entries[0],_=null!==(a=null!==(i=(0,o.Z)(h))&&void 0!==i?i:null===(t=h.assets)||void 0===t?void 0:t.small_image)&&void 0!==a?a:m.media.image_url,f=null!==(s=null!==(l=h.state)&&void 0!==l?l:null===(n=m.media.artists[0])||void 0===n?void 0:n.name)&&void 0!==s?s:m.media.title,E=null!==(d=h.details)&&void 0!==d?d:m.media.title;return{activity:h,artist:f,currentEntry:m,imageUrl:_,title:E,user:p}}t.ZP=a.memo(function(e){let{entry:t,channel:n,selected:a}=e,{activity:l,artist:r,imageUrl:o}=E(t);return s()(null!=l,"There must be a matching live Activity for LISTENED_SESSION"),(0,i.jsxs)(h.Zb,{selected:a,children:[(0,i.jsxs)(h.e$,{children:[(0,i.jsx)(h.F9,{entry:t,channelId:n.id,guildId:n.guild_id}),(0,i.jsx)(h.ll,{children:function(e){return m.Z.Messages.MEMBER_LIST_CONTENT_FEED_LISTENING_TO_MEDIA.format({media:e})}(r)}),(0,i.jsx)(d.Gk,{location:d.Gt.CARD,children:f.map((e,n)=>(0,i.jsx)(e,{entry:t},n))})]}),(0,i.jsx)(p.f,{src:o,size:48,className:_.thumbnail})]})})},678869:function(e,t,n){n.d(t,{Z:function(){return j}}),n(627494),n(757143),n(653041);var i=n(735250),a=n(470079),l=n(423875),s=n(442837),r=n(902704),o=n(481060),c=n(952164),u=n(768419),d=n(456190),h=n(239470),p=n(894344),m=n(314897),_=n(936195),f=n(5192),E=n(561308),g=n(256726),C=n(206295),I=n(551228),x=n(591853),T=n(371991),N=n(410441),v=n(981631),S=n(616922),Z=n(689938),A=n(861666),M=n(208899);let b=(e,t,n)=>{let{artist:i,media:a}=e,l=Z.Z.Messages.MEMBER_LIST_CONTENT_FEED_USER_LISTENING_TO_MEDIA_ARTIST,s=f.ZP.getName(t.guild_id,t.id,n);return l.plainFormat({artist:i,userName:s,media:a}).replaceAll("*","")};function R(e){let{activity:t}=e,n=t.timestamps,l=(0,T.tS)(n),{durationTimestamp:s,seekBarStyles:r}=a.useMemo(()=>{var e;let{start:n,end:i}=null!==(e=t.timestamps)&&void 0!==e?e:{};if(null==n||null==i)return{};let a=Math.min(i,l),s=i-n,r=Math.floor((a-n)/s*100);return{seekBarStyles:{width:"".concat(r,"%")},durationTimestamp:(0,E.T_)({start:i},n)}},[t,l]);return null==r?null:(0,i.jsxs)("div",{className:A.listeningTimeline,children:[(0,i.jsx)(T.x3,{entry:n}),(0,i.jsx)("div",{className:A.seekBarContainer,children:(0,i.jsx)("div",{className:A.seekBarFill,style:r})}),(0,i.jsx)(o.Text,{variant:"text-xs/normal",tabularNumbers:!0,color:void 0,children:s})]})}function j(e){var t,n,T;let A,j,L,{channel:P,entry:O,requestId:y,closePopout:D}=e,{activity:k,currentEntry:U,artist:w,imageUrl:B,title:H,user:G}=(0,I.pi)(O),{primaryColor:V,secondaryColor:F}=(0,C.Z)(B),W=(0,s.e7)([u.Z,m.default],()=>(null==k?void 0:k.type)===v.IIU.LISTENING&&null!=G?(0,h.Z)(u.Z,m.default,G,k):void 0,[k,G],r.Z),z=a.useCallback(()=>{var e;if(null==P||null==G)return;let t=null===(e=k.timestamps)||void 0===e?void 0:e.start,n=(0,E.T_)(null!=t?{start:t}:O,Date.now());return(0,g.CR)({user:G,channel:P,mediaImageSrc:B,artist:w,description:b({artist:w,media:H},P,G),colors:[V,F],badges:(0,g.jE)({timestamp:n})})},[k,w,P,O,B,V,F,H,G]);if(null==k||null==U)return null;let Y=w,K=[];if(U.media.provider===l.p.SPOTIFY&&(null==W?void 0:W.syncDisabled)===!1){A=()=>{(0,p.Z)(W,S.kG.USER_ACTIVITY_SYNC),D()},K.push((0,i.jsx)(x.Ll,{onClick:A,IconComponent:o.UserPlayIcon,children:Z.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_LISTEN_ALONG},"listen-along"));Y=(0,i.jsx)(_.Z,{artists:w,canOpen:null!=k.sync_id,linkClassName:M.popoutTextSecondary,onOpenSpotifyArtist:e=>{(0,c.d$)(k,G.id,e)}}),j=()=>{(0,c.aG)(k)},L=(0,d.Z)(W,S.kG.USER_ACTIVITY_SYNC,null!=P?f.ZP.getNickname(P.guild_id,P.id,G):void 0)}let q=(0,i.jsx)(x.wG,{thumbnailSrc:B,channel:P,entry:O,headerIcons:(0,i.jsx)(N.Z,{onClick:A,"aria-label":L,provider:U.media.provider}),userDescription:(0,E.kr)(O)?Z.Z.Messages.MEMBER_LIST_CONTENT_POPOUT_USER_LISTENING:Z.Z.Messages.MEMBER_LIST_CONTENT_POPOUT_USER_LISTENED,title:H,onClickTitle:j,subtitle:Y,badges:null,children:(null===(t=k.timestamps)||void 0===t?void 0:t.start)!=null&&(0,i.jsx)(R,{activity:k})});return(0,i.jsxs)(x.yR,{children:[q,(0,i.jsx)(x.St,{children:(0,i.jsx)(x.WT,{closePopout:D,user:G,channel:P,generateReactionImage:z,reactionImageAltText:(n=w,T=G,Z.Z.Messages.ACTIVITY_REACTION_IMAGE_ALT_TEXT_LISTENING.format({username:T.username,activity:n})),entry:O,requestId:y,buttons:K})})]})}},278399:function(e,t,n){n.d(t,{Ho:function(){return m},y9:function(){return _}});var i=n(735250),a=n(470079),l=n(317261),s=n(823379),r=n(162461),o=n(561308),c=n(297781),u=n(443487),d=n(43205),h=n(689938),p=n(41899);let m=[c.An],_=[l._.WEEK];t.ZP=a.memo(e=>{let{entry:t,channel:n,selected:a}=e;if(!(0,r.Rg)("MemberListTopArtistContent"))return null;let l=(0,o.Nq)(t);return null!=l&&(0,s.Hi)(l,_)?(0,i.jsxs)(u.Zb,{selected:a,children:[(0,i.jsxs)(u.e$,{children:[(0,i.jsx)(u.F9,{entry:t,channelId:n.id,guildId:n.guild_id}),(0,i.jsx)(u.ll,{children:h.Z.Messages.MEMBER_LIST_CONTENT_FEED_LISTENED_TO_MEDIA.format({media:t.extra.artist.name})}),(0,i.jsx)(c.Gk,{location:c.Gt.CARD,children:m.map((e,n)=>(0,i.jsx)(e,{entry:t},n))})]}),(0,i.jsx)(d.f,{src:t.extra.media.image_url,size:48,className:p.thumbnail})]}):null})},886217:function(e,t,n){n(627494),n(757143);var i=n(735250),a=n(470079),l=n(317261),s=n(442837),r=n(594174),o=n(823379),c=n(5192),u=n(561308),d=n(256726),h=n(206295),p=n(278399),m=n(297781),_=n(591853),f=n(410441),E=n(689938);let g=(e,t,n,i)=>{let a=function(e){if(e===l._.WEEK)return E.Z.Messages.MEMBER_LIST_CONTENT_FEED_TOP_ARTIST_WEEK_POPOUT}(i),s=c.ZP.getName(t.guild_id,t.id,n),r=e.extra.artist.name;return a.plainFormat({artist:r,userName:s}).replaceAll("*","")},C=(e,t)=>E.Z.Messages.ACTIVITY_REACTION_IMAGE_ALT_TEXT_TOP_ARTIST.format({username:t.username,artist:e.extra.artist.name});t.Z=e=>{let{channel:t,entry:n,requestId:l,closePopout:c}=e,{parent_title:I,provider:x,image_url:T}=n.extra.media,N=n.extra.artist.name,v=(0,s.e7)([r.default],()=>r.default.getUser(n.author_id)),{primaryColor:S,secondaryColor:Z}=(0,h.Z)(T),A=(0,u.Nq)(n),M=a.useCallback(()=>{if(null==v||!(0,o.Hi)(A,p.y9))return;let e=g(n,t,v,A);return(0,d.CR)({user:v,channel:t,mediaImageSrc:T,artist:N,description:e,colors:[S,Z],badges:(0,d.UU)(n)})},[T,N,t,n,S,A,Z,v]);return null!=v&&(0,o.Hi)(A,p.y9)?(0,i.jsxs)(_.yR,{children:[(0,i.jsx)(_.wG,{thumbnailSrc:T,channel:t,entry:n,headerIcons:(0,i.jsx)(f.Z,{provider:x}),userDescription:E.Z.Messages.MEMBER_LIST_CONTENT_POPOUT_USER_LISTENED,title:I,subtitle:N,badges:(0,i.jsx)(m.Gk,{location:m.Gt.POPOUT,children:p.Ho.map((e,t)=>(0,i.jsx)(e,{entry:n},t))})}),(0,i.jsx)(_.St,{children:(0,i.jsx)(_.WT,{closePopout:c,user:v,channel:t,generateReactionImage:M,reactionImageAltText:C(n,v),entry:n,requestId:l})})]}):null}},555672:function(e,t,n){n.d(t,{Hs:function(){return p},qy:function(){return _}});var i=n(735250),a=n(470079),l=n(317261),s=n(561308),r=n(297781),o=n(443487),c=n(43205),u=n(265048),d=n(689938),h=n(41899);let p=[r.E6],m=[l._.WEEK];function _(e){return null!=e&&m.includes(e)}t.ZP=a.memo(e=>{let{entry:t,channel:n,selected:a}=e,{iconUrl:l}=(0,u.F)(t),m=(0,s.Nq)(t);return null!=m&&_(m)?(0,i.jsxs)(o.Zb,{selected:a,children:[(0,i.jsxs)(o.e$,{children:[(0,i.jsx)(o.F9,{entry:t,channelId:n.id,guildId:n.guild_id}),(0,i.jsx)(o.ll,{children:function(e){return d.Z.Messages.MEMBER_LIST_CONTENT_FEED_PLAYED_GAME.format({gameName:e.extra.game_name})}(t)}),(0,i.jsx)(r.Gk,{location:r.Gt.CARD,children:p.map((e,n)=>(0,i.jsx)(e,{entry:t},n))})]}),(0,i.jsx)(c.f,{src:l,size:48,className:h.thumbnail})]}):null})},644548:function(e,t,n){n(627494),n(757143);var i=n(735250),a=n(470079),l=n(317261),s=n(70956),r=n(5192),o=n(561308),c=n(919394),u=n(206295),d=n(555672),h=n(297781),p=n(591853),m=n(265048),_=n(689938);let f=(e,t,n,i)=>{let a=function(e){if(e===l._.WEEK)return _.Z.Messages.MEMBER_LIST_CONTENT_FEED_TOP_GAME_WEEK_POPOUT}(i),s=r.ZP.getName(t.guild_id,t.id,n),o=e.extra.game_name;return a.plainFormat({gameName:o,userName:s}).replaceAll("*","")},E=(e,t)=>_.Z.Messages.ACTIVITY_REACTION_IMAGE_ALT_TEXT_PLAYING.format({username:t.username,activity:e.extra.game_name});t.Z=e=>{let{channel:t,entry:n,requestId:l,closePopout:r}=e,{iconUrl:g,iconTitle:C,user:I,details:x,gameTitle:T}=(0,m.F)(n),{primaryColor:N,secondaryColor:v}=(0,u.Z)(g),S=(0,o.yA)(n),Z=(0,o.Nq)(n),A=a.useCallback(e=>{if(null!=I&&null!=S&&null!=Z&&!!(0,d.qy)(Z))return(0,c.SO)({entry:n,applicationImageSrc:g,avatarSrcs:[I.getAvatarURL(t.guild_id,128)],description:f(n,t,I,Z),timestamp:_.Z.Messages.MEMBER_LIST_CONTENT_FEED_TIMESTAMP_FOR_HOURS.format({hours:Math.round(S/s.Z.Seconds.HOUR)}),colors:[N,v],channelId:e})},[g,t,S,n,N,Z,v,I]);return null!=I&&null!=S&&null!=Z&&(0,d.qy)(Z)?(0,i.jsxs)(p.yR,{children:[(0,i.jsx)(p.wG,{thumbnailSrc:g,thumbnailTitle:C,channel:t,entry:n,userDescription:_.Z.Messages.MEMBER_LIST_CONTENT_POPOUT_USER_PLAYED,title:T,subtitle:x,badges:(0,i.jsx)(h.Gk,{location:h.Gt.POPOUT,children:d.Hs.map((e,t)=>(0,i.jsx)(e,{entry:n},t))})}),(0,i.jsx)(p.St,{children:(0,i.jsx)(p.WT,{closePopout:r,user:I,channel:t,generateReactionImage:A,reactionImageAltText:E(n,I),entry:n,requestId:l})})]}):null}},335326:function(e,t,n){n.d(t,{Bj:function(){return f},td:function(){return _}});var i=n(735250),a=n(470079),l=n(442837),s=n(835473),r=n(594174),o=n(81063),c=n(297781),u=n(443487),d=n(43205),h=n(701488),p=n(689938),m=n(41899);let _=[c.Yl,c.Rg],f=e=>{var t;let n=(0,s.q)(e.extra.application_id),i=null==n?void 0:n.getIconURL(128),a=(0,l.e7)([r.default],()=>r.default.getUser(e.author_id)),c=(0,o.getAssetImage)(e.extra.application_id,e.extra.media_assets_large_image,[h.Si.LARGE,h.Si.LARGE]),u=/\w+ (\d+), \w+ (\d+)/.exec(null!==(t=e.extra.media_assets_large_text)&&void 0!==t?t:"");return{user:a,mediaImageSrc:null!=c?c:i,episodeDescription:null!=u?p.Z.Messages.MEMBER_LIST_CONTENT_FEED_WATCH_SEASON_EPISODE.format({seasonNum:u[1],episodeNum:u[2]}):null}};t.ZP=a.memo(e=>{let{entry:t,channel:n,selected:a}=e,{mediaImageSrc:l}=f(t);return(0,i.jsxs)(u.Zb,{selected:a,children:[(0,i.jsxs)(u.e$,{children:[(0,i.jsx)(u.F9,{entry:t,channelId:n.id,guildId:n.guild_id}),(0,i.jsx)(u.ll,{children:p.Z.Messages.MEMBER_LIST_CONTENT_FEED_WATCHED_MEDIA.format({mediaTitle:t.extra.media_title})}),(0,i.jsx)(c.Gk,{location:c.Gt.CARD,children:_.map((e,n)=>(0,i.jsx)(e,{entry:t},n))})]}),(0,i.jsx)(d.f,{src:l,size:48,className:m.thumbnail,alt:t.extra.media_title})]})})},268010:function(e,t,n){n(627494),n(757143);var i=n(735250),a=n(470079),l=n(442837),s=n(692547),r=n(481060),o=n(706454),c=n(5192),u=n(561308),d=n(644810),h=n(206295),p=n(335326),m=n(297781),_=n(591853),f=n(689938);let E=(e,t,n)=>{let i=f.Z.Messages.MEMBER_LIST_CONTENT_FEED_USER_WATCHED_MEDIA,a=c.ZP.getName(t.guild_id,t.id,n),l=e.extra.media_title;return i.plainFormat({mediaTitle:l,userName:a,episodeDescription:e.extra.media_subtitle}).replaceAll("*","")},g=(e,t)=>f.Z.Messages.ACTIVITY_REACTION_IMAGE_ALT_TEXT_WATCHING.format({username:t.username,activity:e.extra.media_title});t.Z=e=>{let{channel:t,entry:n,requestId:c,closePopout:C}=e,{user:I,mediaImageSrc:x,episodeDescription:T}=(0,p.Bj)(n),{primaryColor:N,secondaryColor:v}=(0,h.Z)(x),S=(0,l.e7)([o.default],()=>o.default.locale),Z=a.useCallback(e=>{if(null!=I&&null!=x)return(0,d.B)({entry:n,mediaImageSrc:x,avatarSrc:I.getAvatarURL(t.guild_id,128),description:E(n,t,I),timestamp:(0,u.yh)(n,S),episodeDescription:T,colors:[N,v],channelId:e})},[t,n,T,S,x,N,v,I]);return null==I?null:(0,i.jsxs)(_.yR,{children:[(0,i.jsx)(_.wG,{thumbnailSrc:x,channel:t,entry:n,userDescription:(0,u.kr)(n)?f.Z.Messages.MEMBER_LIST_CONTENT_POPOUT_USER_WATCHING:f.Z.Messages.MEMBER_LIST_CONTENT_POPOUT_USER_WATCHED,title:n.extra.media_title,subtitle:n.extra.media_subtitle,headerIcons:(0,i.jsx)(r.CrunchyrollNeutralIcon,{size:"xs",color:s.Z.colors.CONTENT_INVENTORY_OVERLAY_UI_MOD}),badges:(0,i.jsx)(m.Gk,{location:m.Gt.POPOUT,children:p.td.map((e,t)=>(0,i.jsx)(e,{entry:n},t))})}),(0,i.jsx)(_.St,{children:(0,i.jsx)(_.WT,{closePopout:C,user:I,channel:t,generateReactionImage:Z,reactionImageAltText:g(n,I),entry:n,requestId:c})})]})}},111386:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(704215),s=n(481060),r=n(243778),o=n(689938),c=n(604598),u=n(442937);let d=()=>(0,i.jsxs)("div",{className:c.coachtipInner,children:[(0,i.jsx)("img",{src:u,alt:o.Z.Messages.CONTENT_INVENTORY_COACHTIP_IMAGE_ALT,className:c.coachtipAsset}),(0,i.jsxs)("div",{className:c.coachtipTextContainer,children:[(0,i.jsx)(s.Heading,{variant:"heading-lg/semibold",children:o.Z.Messages.CONTENT_INVENTORY_COACHTIP_HEADER}),(0,i.jsx)(s.Text,{variant:"text-md/normal",color:"text-secondary",children:o.Z.Messages.CONTENT_INVENTORY_COACHTIP_TEXT})]})]});t.Z=e=>{let{children:t}=e,[n]=(0,r.U)([l.z.CONTENT_INVENTORY_ONE_CLICK_REPLY_COACHTIP]),[o,u]=a.useState(!1);return(a.useEffect(()=>{setTimeout(()=>{u(!0)},300)}),n!==l.z.CONTENT_INVENTORY_ONE_CLICK_REPLY_COACHTIP)?(0,i.jsx)(i.Fragment,{children:t}):(0,i.jsx)(s.Tooltip,{text:(0,i.jsx)(d,{}),tooltipClassName:c.coachtip,tooltipContentClassName:c.coachtipContent,position:"left",allowOverflow:!0,forceOpen:o,shouldShow:o,hideOnClick:!1,"aria-label":"test",children:e=>(0,i.jsx)("div",{...e,children:t})})}},591853:function(e,t,n){n.d(t,{Ll:function(){return eh},St:function(){return el},WT:function(){return es},jL:function(){return ed},wG:function(){return eu},yR:function(){return en}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(512722),o=n.n(r);n(699581);var c=n(442837),u=n(704215),d=n(692547),h=n(481060),p=n(493683),m=n(475179),_=n(287734),f=n(872810),E=n(607070),g=n(220779),C=n(201133),I=n(605236),x=n(543241),T=n(318374),N=n(258609),v=n(774073),S=n(382182),Z=n(871118),A=n(359110),M=n(171368),b=n(12168),R=n(592125),j=n(430824),L=n(496675),P=n(699516),O=n(9156),y=n(979651),D=n(938475),k=n(346656),U=n(409216),w=n(368666),B=n(626135),H=n(768581),G=n(5192),V=n(26033),F=n(192918),W=n(22211),z=n(571243),Y=n(69259),K=n(206295),q=n(111386),X=n(43205),Q=n(469153),J=n(206583),$=n(981631),ee=n(689938),et=n(208899);function en(e){let{children:t}=e,n=a.useRef(null);return(0,h.useFocusLock)(n),(0,i.jsx)("div",{className:et.popout,ref:n,children:t})}function ei(e){let{children:t,backgroundImgSrc:n,className:a,style:l={}}=e,{primaryColor:r,secondaryColor:o}=(0,K.Z)(n);return(0,i.jsx)("div",{"data-disable-adaptive-theme":!0,className:s()(et.hero,"theme-".concat($.BRd.DARK),a),style:{background:"linear-gradient(45deg, ".concat(r,", ").concat(o,")"),...l},children:t})}let ea=a.createContext(null);function el(e){let{children:t}=e,n=a.useRef(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:et.interactionsContainerHeader,ref:e=>n.current=e}),(0,i.jsx)("div",{className:et.interactionsContainer,children:(0,i.jsx)(ea.Provider,{value:n.current,children:t})})]})}function es(e){let{channel:t,user:n,generateReactionImage:l,reactionImageAltText:s,closePopout:r,entry:_,requestId:f,buttons:E=[],header:x}=e,[T,N]=a.useState(!1),[v,S]=a.useState(null),Z=(0,c.e7)([L.Z],()=>L.Z.can($.Plq.SEND_MESSAGES,t)),M=(0,z.a)({location:"PopoutReactor"}),[b,y]=a.useState(!1),[w,H]=a.useState(!1),{voiceBar:V,joinVoiceButton:F}=function(e){let{channel:t,entry:n,requestId:l}=e,{streamPreviewUrl:s,channel:r}=(0,W.Z)(n),o=(0,c.e7)([j.Z],()=>null!=r?j.Z.getGuild(r.guild_id):void 0),u=(0,c.Wu)([D.ZP],()=>null!=r?D.ZP.getVoiceStatesForChannel(r):[],[r]),p=a.useMemo(()=>{for(let e of u){let t=R.Z.getDMFromUserId(e.user.id),n=null!=t&&O.ZP.isChannelMuted(null,t),i=P.Z.isBlocked(e.user.id);if(n||i)return!0}return!1},[u]);if(null==r||null==o)return{voiceBar:void 0,joinVoiceButton:void 0};let _=null!=s,f=()=>{m.Z.updateChatOpen(r.id,!0),(0,A.Kh)(r.id),(0,Y.L)(J.xP.VOICE_CHANNEL_PREVIEWED,{entry:n,channelId:t.id,guildId:t.guild_id,requestId:l,destinationChannelId:r.id,destinationGuildId:r.guild_id})},E=p?ee.Z.Messages.MEMBER_LIST_CONTENT_POPOUT_BLOCKED_USER_WARNING:ee.Z.Messages.MEMBER_LIST_CONTENT_POPOUT_PREVIEW_VOICE_CHANNEL,g=e=>{let{children:t}=e;return(0,i.jsx)(h.Tooltip,{"aria-label":E,text:(0,i.jsxs)(i.Fragment,{children:[p&&(0,i.jsx)(h.WarningIcon,{size:"custom",width:13,height:13,className:et.popoutBlockedWarningIcon}),E]}),shouldShow:!0,children:t},"voice-preview")},C=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:et.voiceChannelPopoutReactorHeader,children:[(0,i.jsx)(g,{children:e=>(0,i.jsxs)(h.Clickable,{...e,"aria-label":ee.Z.Messages.MEMBER_LIST_CONTENT_POPOUT_PREVIEW_VOICE_CHANNEL,onClick:f,className:et.voiceChannelPopoutReactorChannel,children:[(0,i.jsx)(k.Z,{guild:o,size:k.Z.Sizes.SMOL,className:et.voiceChannelGuildIcon,active:!0}),(0,i.jsx)(h.ChevronSmallRightIcon,{size:"xxs",color:d.Z.colors.INTERACTIVE_NORMAL}),(0,i.jsx)(h.VoiceNormalIcon,{size:"xs",color:d.Z.colors.TEXT_NORMAL}),(0,i.jsx)(h.Text,{variant:"text-sm/medium",color:"text-normal",className:et.voiceChannelName,children:r.name})]})}),(0,i.jsx)(U.Z,{guildId:o.id,users:u,max:3,renderUser:(e,t)=>(0,i.jsx)(h.Avatar,{src:e.user.getAvatarURL(o.id,16),size:h.AvatarSizes.SIZE_16,"aria-label":"avatar",className:t}),renderMoreUsers:e=>(0,i.jsx)("div",{className:et.voiceChannelAdditionalParticipants,children:(0,i.jsx)(h.Text,{variant:"text-xxs/semibold",color:"text-normal",children:e})})})]}),(0,i.jsx)("div",{className:et.primaryActionPopoutDivider})]});return{voiceBar:C,joinVoiceButton:(0,i.jsx)(g,{children:e=>(0,i.jsx)(eh,{...e,color:h.Button.Colors.GREEN,onClick:f,IconComponent:_?h.ScreenIcon:h.VoiceNormalIcon,children:ee.Z.Messages.PREVIEW})})}}({channel:t,entry:_,requestId:f}),K=null!=F&&0===E.length?[F]:E,X=K.length>0,en=K.length>=2,[ei,ea]=a.useState(!X),el="#".concat(t.name),es=G.ZP.getName(t.guild_id,t.id,n),eo=T?ee.Z.Messages.CONTENT_INVENTORY_SWITCH_SEND_MESSAGE_TO_USER:ee.Z.Messages.CONTENT_INVENTORY_SWITCH_SHARE_TO_CHANNEL,ec=async e=>{if(null!=e){if(B.default.track($.rMx.CONTENT_POPOUT_EMOJI_CLICKED,{surface_type:J.Kd.GUILD_MEMBER_LIST,channel_id:t.id,guild_id:t.guild_id}),M){let a;if((0,I.EW)(u.z.CONTENT_INVENTORY_ONE_CLICK_REPLY_COACHTIP),y(!0),H(!1),T)a=t;else{var i;let e=await p.Z.getOrEnsurePrivateChannel(n.id);a=null!==(i=R.Z.getChannel(e))&&void 0!==i?i:null}return o()(null!=a,"Send channel must be defined"),ed({reply:":".concat(e.name,":"),sendToChannel:a,onComplete:()=>{H(!0),setTimeout(()=>{y(!1),r()},600)},interactionType:J.xP.REACTION_EMOJI_REACT_SENT})}ea(!0),null!=v&&(v.insertEmoji(e,!1,!1),v.focus())}},eu=async e=>{let i;if(M&&(0,I.EW)(u.z.CONTENT_INVENTORY_ONE_CLICK_REPLY_COACHTIP),T)i=t;else{let e=await p.Z.openPrivateChannel(n.id,!1,!1),t=R.Z.getChannel(e);o()(null!=t,"DM channel must be defined"),i=t}let a=i.type===$.d4z.DM?J.xP.DM_REACTION_MESSAGE_SENT:J.xP.CHANNEL_REACTION_MESSAGE_SENT;return ed({reply:e,sendToChannel:i,onComplete:r,interactionType:a})},ed=async e=>{var n;let{reply:i,sendToChannel:a,onComplete:r,interactionType:c}=e;let u=await (n=l,async function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];try{return await n(...t)}catch(e){throw e}})(a.id);o()(null!=u,"Reaction image must be defined"),await (0,C.B)({file:u,channel:a,altText:s,reply:i}),(0,Y.L)(c,{entry:_,channelId:t.id,guildId:t.guild_id,requestId:f,destinationChannelId:a.id,destinationGuildId:a.guild_id}),null==r||r()},ep=null!=x?x:null!=V?V:void 0;return(0,i.jsxs)("div",{style:{pointerEvents:b?"none":"all"},children:[(0,i.jsx)(Q.Z,{sent:w,shown:b,className:et.toastContainer}),null!=ep?ep:M?(0,i.jsx)(q.Z,{children:(0,i.jsxs)("div",{className:et.emojiHotrailShareToChannel,children:[(0,i.jsx)(er,{channel:t,onClickSuggestion:ec}),(0,i.jsx)(g.dE,{onSelectEmoji:ec})]})}):(0,i.jsx)("div",{className:et.emojiHotrailShareToChannel,children:(0,i.jsx)(er,{channel:t,onClickSuggestion:ec})}),(0,i.jsxs)("div",{className:ei?et.inputContainerShareToChannel:et.hiddenButRenderedInputField,children:[X&&(0,i.jsx)(h.Clickable,{onClick:()=>ea(!1),className:et.primaryActionPopoutMessageCloseIcon,children:(0,i.jsx)(h.CloseSmallIcon,{size:"custom",width:20,height:20,color:d.Z.colors.ICON_PRIMARY})}),(0,i.jsx)("div",{className:et.replyInputWrapper,children:(0,i.jsx)(g.A7,{placeholder:ee.Z.Messages.TEXTAREA_PLACEHOLDER.format({channel:T?el:"@".concat(es)}),onEnter:eu,setEditorRef:e=>S(e),channel:T?t:void 0,showEmojiButton:null!=ep,renderAttachButton:Z?()=>(0,i.jsx)(h.Tooltip,{text:eo,children:e=>(0,i.jsx)(h.Clickable,{...e,className:et.shareToChannelButton,onClick:()=>N(e=>!e),children:T?(0,i.jsx)(h.TextIcon,{size:"custom",width:20,height:20}):(0,i.jsx)(h.AtIcon,{size:"custom",width:20,height:20})})}):void 0})})]}),!1===ei&&(0,i.jsxs)("div",{className:et.primaryActionPopoutActionButtons,children:[(0,i.jsxs)(h.Button,{className:et.secondaryButton,color:h.Button.Colors.CUSTOM,onClick:()=>ea(!0),innerClassName:et.iconButton,size:en?h.Button.Sizes.MIN:h.Button.Sizes.LARGE,children:[(0,i.jsx)(h.ChatIcon,{size:"custom",width:20,height:20,colorClass:et.secondaryText}),!en&&(0,i.jsx)(h.Text,{variant:"text-md/semibold",className:et.secondaryText,children:ee.Z.Messages.USER_POPOUT_MESSAGE})]},"toggleMessageMode"),K]})]})}let er=e=>{let{channel:t,onClickSuggestion:n}=e,[l,s]=a.useState(!1);a.useEffect(()=>{s(!0)},[]);let r=!!E.Z.keyboardModeEnabled&&!l,o=(0,x.wC)(t.guild_id).slice(0,5).map(e=>null==e.id?{emoji:e,url:e.url}:{emoji:e,url:(0,H.gT)({id:e.id,animated:e.animated,size:58})});return(0,i.jsx)(i.Fragment,{children:o.map(e=>{let{emoji:t,url:a}=e;return null!=a?(0,i.jsx)("div",{children:(0,i.jsx)(h.TooltipContainer,{text:ee.Z.Messages.CONTENT_INVENTORY_REPLY_WITH_EMOJI.format({emojiName:t.name}),position:"top","aria-label":ee.Z.Messages.CONTENT_INVENTORY_REPLY_WITH_EMOJI.format({emojiName:t.name}),color:h.Tooltip.Colors.PRIMARY,shouldShow:!r&&void 0,children:(0,i.jsx)(b.u,{emoji:t,isDisabled:!l,onClick:()=>n(t),className:et.emoji})})},t.name):null})})};function eo(e){let{channel:t,userDescription:n,headerIcons:a,entry:l}=e,r=t.guild_id,{displayParticipants:o,participant1:c,participant2:u,numOtherParticipants:d}=(0,F.Z)(l,3),p=[c,u];return(0,i.jsxs)("div",{className:et.popoutContentHeader,children:[(0,i.jsxs)("div",{className:et.popoutUserContainer,children:[(0,i.jsx)(T.Z,{maxUsers:3,users:o,size:h.AvatarSizes.SIZE_24,avatarClassName:et.popoutStackedAvatar,hideOverflowCount:!0,disableUsernameTooltip:!0}),(0,i.jsx)(h.Spacer,{size:8,horizontal:!0}),(0,i.jsx)(h.Heading,{variant:"heading-sm/normal",className:et.popoutTextSecondary,children:n.format({user1:G.ZP.getName(r,t.id,p[0]),user2:G.ZP.getName(r,t.id,p[1]),countOthers:d,nameHook:(e,t)=>(0,i.jsx)(h.Clickable,{tag:"span",onClick:()=>(0,M.openUserProfileModal)({userId:p[parseInt(t)].id}),className:et.maybeClickable,children:(0,i.jsx)(h.Text,{variant:"text-sm/medium",className:s()(et.popoutUsername,et.popoutTextPrimary),children:e},t)})})})]}),(0,i.jsx)("div",{className:et.popoutHeaderIcons,children:a})]})}function ec(e){let{children:t,onClick:n}=e;return null==n?(0,i.jsx)(i.Fragment,{children:t}):(0,i.jsx)(h.Clickable,{className:et.maybeClickable,onClick:n,children:t})}function eu(e){var t;let{thumbnailSrc:a,thumbnailFallbackSrc:l,thumbnailTitle:s,title:r,subtitle:o,badges:c,children:u,onClickTitle:d,onClickSubtitle:p,...m}=e,{entry:_}=m,f=(0,V.d)(_),E=(0,v.ZP)({location:"ContentPopout",applicationId:f?null===(t=_.extra)||void 0===t?void 0:t.application_id:void 0})&&f?()=>{(0,h.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7613"),n.e("55799")]).then(n.bind(n,644941));return t=>(0,i.jsx)(e,{applicationId:_.extra.application_id,...t})})}:void 0;return(0,i.jsxs)(ei,{backgroundImgSrc:a,children:[(0,i.jsx)(eo,{...m}),(0,i.jsxs)("div",{className:et.popoutContentBody,children:[(0,i.jsx)("div",{className:et.popoutThumbnailContainer,children:(0,i.jsx)(ec,{onClick:E,children:(0,i.jsx)(X.f,{size:72,alt:s,src:a,fallbackSrc:l,className:et.contentImage})})}),(0,i.jsx)(h.Spacer,{size:16,horizontal:!0}),(0,i.jsxs)("div",{children:[(0,i.jsx)(ec,{onClick:null!=d?d:E,children:(0,i.jsx)(h.Heading,{variant:"heading-md/medium",className:et.popoutTextPrimary,lineClamp:3,children:r})}),null!=o?(0,i.jsx)(ec,{onClick:null!=p?p:E,children:(0,i.jsx)(h.Text,{variant:"text-md/normal",className:et.popoutTextSecondary,children:o})}):null,(0,i.jsx)(h.Spacer,{size:8}),c]})]}),u]})}function ed(e){let{title:t,badges:n,stream:l,...s}=e,r=(0,c.e7)([R.Z],()=>R.Z.getChannel(null==l?void 0:l.channelId)),[o]=a.useMemo(()=>(0,S.p9)(r,y.Z,j.Z,L.Z,N.Z),[r]);return null==l?null:(0,i.jsxs)(ei,{className:et.streamingPopoutHero,children:[(0,i.jsx)(eo,{...s,headerIcons:(0,i.jsx)(w.ZP,{size:w.ZP.Sizes.SMALL})}),(0,i.jsx)(h.Spacer,{size:16}),(0,i.jsx)(ec,{onClick:o?()=>{_.default.selectVoiceChannel(l.channelId),(0,f.iV)(l)}:void 0,children:(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)(Z.Z,{className:et.streamingPopoutHero,stream:l}),o&&(0,i.jsx)("div",{className:et.streamCTA,children:(0,i.jsx)(h.Text,{variant:"text-md/normal",children:ee.Z.Messages.WATCH_STREAM})})]})}),(0,i.jsx)(h.Spacer,{size:16}),(0,i.jsx)(h.Heading,{variant:"heading-md/semibold",className:et.popoutTextPrimary,lineClamp:3,children:t}),(0,i.jsx)(h.Spacer,{size:8}),n]})}function eh(e){let{IconComponent:t,children:n,className:a,...l}=e;return(0,i.jsxs)(h.Button,{...l,className:s()(a,et.primaryButton),innerClassName:null!=t?et.iconButton:void 0,size:h.Button.Sizes.LARGE,children:[null!=t?(0,i.jsx)(t,{size:"custom",width:20,height:20,color:d.Z.colors.WHITE}):null,(0,i.jsx)(h.Text,{variant:"text-md/semibold",color:"always-white",children:n})]})}},469153:function(e,t,n){var i=n(735250);n(470079);var a=n(920906),l=n(442837),s=n(481060),r=n(607070),o=n(689938),c=n(575317),u=n(354603);let d=()=>(0,i.jsxs)("div",{className:u.toast,children:[(0,i.jsx)(s.Spinner,{type:s.SpinnerTypes.SPINNING_CIRCLE_SIMPLE,className:c.loadingSpinner}),(0,i.jsx)(s.Text,{color:"header-primary",variant:"text-md/normal",children:o.Z.Messages.CONTENT_INVENTORY_MESSAGE_SENDING})]});t.Z=e=>{let{shown:t,sent:n,className:c}=e,u=(0,l.e7)([r.Z],()=>r.Z.useReducedMotion),h=(0,a.useTransition)(t,{from:{transform:u?"translateY(0)":"translateY(16px)",opacity:0},enter:{transform:"translateY(0)",opacity:1},leave:{transform:u?"translateY(0)":"translateY(16px)",opacity:0},config:{mass:1,tension:500,friction:18,clamp:!0},delay:200});return(0,i.jsx)(i.Fragment,{children:h((e,t)=>t&&(0,i.jsx)(a.animated.div,{className:c,style:e,children:n?(0,i.jsx)(s.Toast,{message:o.Z.Messages.CONTENT_INVENTORY_MESSAGE_SENT,type:s.ToastType.SUCCESS,id:"success_message_toast"}):(0,i.jsx)(s.Toast,{message:"",type:s.ToastType.CUSTOM,id:"custom_loading_message_toast",options:{component:(0,i.jsx)(d,{})}})}))})}},410441:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(423875),l=n(481060),s=n(908841),r=n(689938),o=n(346737);let c={[a.p.PROVIDER_UNSPECIFIED]:null,[a.p.SPOTIFY]:{getLabel:()=>r.Z.Messages.SPOTIFY,Icon:s.Z}};function u(e){var t;let{onClick:n,provider:a,"aria-label":s}=e,r=(0,l.useToken)(l.tokens.colors.CONTENT_INVENTORY_OVERLAY_TEXT_PRIMARY),{Icon:u,getLabel:d}=null!==(t=c[a])&&void 0!==t?t:{};if(null==u)return null;let h=null!=s?s:null==d?void 0:d(),p=(0,i.jsx)(u,{color:r.hex(),width:16,height:16});return null==n?(0,i.jsx)("div",{className:o.container,"aria-label":h,children:p}):(0,i.jsx)(l.Tooltip,{text:h,children:e=>(0,i.jsx)(l.Clickable,{className:o.container,...e,onClick:n,children:p})})}},868671:function(e,t,n){n.d(t,{H:function(){return C},T:function(){return g}}),n(47120),n(724458);var i=n(470079),a=n(442837),l=n(570140),s=n(439170),r=n(592125),o=n(451478),c=n(626135),u=n(162461),d=n(146282),h=n(590026),p=n(178762),m=n(206583),_=n(809017),f=n(981631),E=n(689938);let g=0;function C(e){let{memberStoreProps:{groups:t,rows:n,version:g},channelId:C,guildId:I}=e,[x,T]=i.useState(!1),{requestId:N,entries:v,impressionCappedEntryIds:S}=(0,h.Z)(C),Z=(0,a.e7)([d.Z],()=>d.Z.hidden),A=(0,a.e7)([o.Z],()=>o.Z.isFocused()),M=(0,a.e7)([r.Z],()=>r.Z.getChannel(C)),b=(null==M?void 0:M.isForumChannel())===!1,[R,j,L,P]=i.useMemo(()=>{let e;if(null==v||0===v.length||null==N||!b)return[t,n,g];let i=x?v.length:3,a=v.slice(0,i);e=Z?[{type:s.so.HIDDEN_CONTENT_INVENTORY}]:a.map(e=>({type:s.so.CONTENT_INVENTORY,entry:e,requestId:N}));let l={id:_.G,type:s.so.CONTENT_INVENTORY_GROUP,key:_.G,count:e.length,index:n.length,title:E.Z.Messages.CONTENT_INVENTORY_MEMBERLIST_GROUP_TITLE,onToggleExpand:()=>{T(e=>{let t=!e;return c.default.track(f.rMx.MEMBERLIST_CONTENT_FEED_TOGGLED,{channel_id:C,guild_id:I,expanded:t}),t})},expanded:x,expandedCount:v.length,feedHeight:e.map(p.iZ).reduce((e,t)=>e+t,0)};return[[l,...t],[...n,l,...e],Math.random(),e]},[C,v,x,t,I,N,n,g,Z,b]),O=i.useRef(0),y=i.useRef(v),D=i.useRef(),k=i.useRef({impressionCappedEntryIds:S}),U=i.useCallback(e=>{var t;let n=Math.floor(e/p.YN),i=Math.min(null!==(t=null==P?void 0:P.length)&&void 0!==t?t:0,n);O.current=Math.max(O.current,i)},[P]);return i.useEffect(()=>{y.current=v},[v]),i.useEffect(()=>{k.current={impressionCappedEntryIds:S}},[S]),i.useEffect(()=>(O.current=0,D.current=Date.now(),()=>{var e,t;if(null==N||null==D.current||Date.now()-D.current<3e3)return;let n=null!==(t=null===(e=y.current)||void 0===e?void 0:e.map(e=>e.id))&&void 0!==t?t:[],i=n.slice(0,O.current);if(!Z&&!!A&&!!b)c.default.track(f.rMx.RANKING_ITEMS_SEEN,{request_id:N,first_shown_at:D.current,item_ids:i,surface_type:m.Kd.GUILD_MEMBER_LIST,channel_id:C,guild_id:I,all_item_ids:n,impression_capped_item_ids:[...k.current.impressionCappedEntryIds]}),(0,u.wm)("useInjectContentInventoryFeed")&&l.Z.dispatch({type:"CONTENT_INVENTORY_TRACK_ITEM_IMPRESSIONS",itemIds:i})}),[N,C,I,Z,A,b]),{groups:R,rows:j,version:L,updateMaxRowSeen:U}}},597:function(e,t,n){n.d(t,{c:function(){return c}});var i=n(954955),a=n.n(i),l=n(544891),s=n(570140),r=n(486527),o=n(981631);let c=a()(async e=>{try{s.Z.dispatch({type:"EVENT_DIRECTORY_FETCH_START"});let t=await l.tn.get({url:o.ANM.DIRECTORY_CHANNEL_ENTRIES(e),query:{type:r.C2.GUILD_SCHEDULED_EVENT}});s.Z.dispatch({type:"EVENT_DIRECTORY_FETCH_SUCCESS",channelId:e,entries:t.body})}catch(e){s.Z.dispatch({type:"EVENT_DIRECTORY_FETCH_FAILURE"})}},200)},99325:function(e,t,n){n.d(t,{Dr:function(){return g},Rq:function(){return f},So:function(){return E},Su:function(){return C},YZ:function(){return p},_Q:function(){return I},bF:function(){return m},c$:function(){return h},kx:function(){return _}});var i=n(954955),a=n.n(i),l=n(990547),s=n(544891),r=n(570140),o=n(573261),c=n(866112),u=n(486527),d=n(981631);let h=a()(async(e,t)=>{try{r.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_START"});let n=await s.tn.get({url:d.ANM.DIRECTORY_CHANNEL_ENTRIES(e),query:{category_id:t}});r.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_SUCCESS",channelId:e,entries:n.body})}catch(e){r.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_FAILURE"})}},200),p=a()(async e=>{try{let t=await s.tn.get({url:d.ANM.DIRECTORY_CHANNEL_CATEGORY_COUNTS(e)});r.Z.dispatch({type:"GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS",channelId:e,counts:t.body})}catch(e){}},200);async function m(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.AR.UNCATEGORIZED,a=await o.Z.post({url:d.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),body:{description:n,primary_category_id:i},trackedActionData:{event:l.NetworkActionNames.DIRECTORY_GUILD_ENTRY_CREATE,properties:{directory_channel_id:e,guild_id:t,primary_category_id:i}}});r.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_CREATE",channelId:e,entry:a.body})}function _(e,t){o.Z.delete({url:d.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),trackedActionData:{event:l.NetworkActionNames.DIRECTORY_GUILD_ENTRY_DELETE,properties:{directory_channel_id:e,guild_id:t}}}),r.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_DELETE",channelId:e,guildId:t})}let f=a()(async(e,t)=>{if(!c.Z.shouldFetch(e,t)){r.Z.dispatch({type:"GUILD_DIRECTORY_CACHED_SEARCH",channelId:e,query:t});return}try{r.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_START",channelId:e,query:t});let n=await s.tn.get({url:d.ANM.DIRECTORY_ENTRIES_SEARCH(e),query:{query:t}});r.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_SUCCESS",channelId:e,query:t,results:n.body})}catch(e){r.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_FAILURE"})}},200),E=e=>{r.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_CLEAR",channelId:e})},g=async function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.AR.UNCATEGORIZED,a=await s.tn.patch({url:d.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),body:{description:n,primary_category_id:i}});r.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_UPDATE",channelId:e,entry:a.body})},C=(e,t)=>{r.Z.dispatch({type:"GUILD_DIRECTORY_CATEGORY_SELECT",channelId:e,categoryId:t})},I=async(e,t)=>{try{let n=await s.tn.get({url:d.ANM.DIRECTORY_CHANNEL_LIST_BY_ID(e),query:{entity_ids:t}});r.Z.dispatch({type:"GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS",channelId:e,entries:n.body})}catch(e){}}},866112:function(e,t,n){n(653041);var i,a,l,s,r=n(442837),o=n(570140),c=n(975984);let u=[],d={},h={};class p extends(i=r.ZP.Store){getSearchState(e){var t;return null!==(t=d[e])&&void 0!==t?t:{mostRecentQuery:"",fetching:!1}}getSearchResults(e,t){var n,i,a;return null!==(a=null===(i=h[e])||void 0===i?void 0:null===(n=i[t])||void 0===n?void 0:n.results)&&void 0!==a?a:u}shouldFetch(e,t){var n,i;let a=null===(i=h[e])||void 0===i?void 0:null===(n=i[t])||void 0===n?void 0:n.lastSearchedAt;return null==a||Date.now()-a>12e4}}s="GuildDirectorySearchStore",(l="displayName")in(a=p)?Object.defineProperty(a,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[l]=s,t.Z=new p(o.Z,{GUILD_DIRECTORY_SEARCH_START:function(e){let{channelId:t,query:n}=e;d[t]={fetching:!0,mostRecentQuery:n}},GUILD_DIRECTORY_SEARCH_SUCCESS:function(e){let{channelId:t,query:n,results:i}=e;d[t]={...d[t],fetching:!1};let a=[];i.forEach(e=>{let t=(0,c.MQ)(e);a.push(t)}),h[t]={...h[t],[n]:{results:(0,c.Th)(a),lastSearchedAt:Date.now()}}},GUILD_DIRECTORY_SEARCH_FAILURE:function(e){let{channelId:t}=e;d[t]={...d[t],fetching:!1}},GUILD_DIRECTORY_SEARCH_CLEAR:function(e){let{channelId:t}=e;d[t]={fetching:!1,mostRecentQuery:""}},GUILD_DIRECTORY_CACHED_SEARCH:function(e){let{channelId:t,query:n}=e;d[t]={fetching:!1,mostRecentQuery:n}},GUILD_DIRECTORY_ENTRY_DELETE:function(e){var t;let{channelId:n,guildId:i}=e,a=null===(t=d[n])||void 0===t?void 0:t.mostRecentQuery;if(null==a)return;let l=h[n][a];if(null==l)return;let s=l.results.filter(e=>e.guildId!==i);h[n]={...h[n],[d[n].mostRecentQuery]:{...l,results:s}}}})},273387:function(e,t,n){n(47120);var i,a,l,s,r=n(442837),o=n(570140),c=n(975984),u=n(486527);let d=Object.freeze({}),h=!1,p={},m={},_={},f={},E={};class g extends(i=r.ZP.Store){isFetching(){return h}getCurrentCategoryId(e){var t;return null!==(t=m[e])&&void 0!==t?t:u.AR.ALL}getDirectoryEntries(e,t){var n;return null!=t?null===(n=_[e])||void 0===n?void 0:n[t]:p[e]}getDirectoryEntry(e,t){var n;return null===(n=p[e])||void 0===n?void 0:n[t]}getDirectoryAllEntriesCount(e){var t;return Object.keys(null!==(t=p[e])&&void 0!==t?t:{}).length}getDirectoryCategoryCounts(e){var t;return null!==(t=f[e])&&void 0!==t?t:d}getAdminGuildEntryIds(e){return E[e]}}s="GuildDirectoryStore",(l="displayName")in(a=g)?Object.defineProperty(a,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[l]=s,t.Z=new g(o.Z,{GUILD_DIRECTORY_FETCH_START:function(){h=!0},GUILD_DIRECTORY_FETCH_SUCCESS:function(e){let{channelId:t,entries:n}=e;h=!1;let i={},a={};n.forEach(e=>{let t=(0,c.MQ)(e);i[t.guildId]=t,null!=a[t.primaryCategoryId]?a[t.primaryCategoryId][t.guildId]=t:a[t.primaryCategoryId]={[t.guildId]:t}}),p[t]=i,_[t]=a},GUILD_DIRECTORY_FETCH_FAILURE:function(){h=!1},GUILD_DIRECTORY_ENTRY_CREATE:function(e){var t,n,i,a,l;let{channelId:s,entry:r}=e,o=(0,c.MQ)(r);if(null==o||(null===(t=p[s])||void 0===t?void 0:t[o.guildId])!=null)return;p[s]={...p[s],[o.guildId]:o};let d=null!==(i=o.primaryCategoryId)&&void 0!==i?i:u.AR.UNCATEGORIZED;if(_[s]={..._[s],[d]:{...null===(n=_[s])||void 0===n?void 0:n[d],[o.guildId]:o}},null!=f[s]){let e=null!==(l=null===(a=f[s])||void 0===a?void 0:a[d])&&void 0!==l?l:0;f[s]={...f[s],[d]:e+1}}},GUILD_DIRECTORY_ENTRY_DELETE:function(e){var t,n;let{channelId:i,guildId:a}=e,l=null===(t=p[i])||void 0===t?void 0:t[a];if(null==l)return;let s=l.primaryCategoryId,r=Object.assign({},p[i]);delete r[a],null===(n=E[i])||void 0===n||n.delete(a),E[i]=new Set(E[i]),p[i]=r;let o=Object.assign({},_[i][s]);if(delete o[a],_[i]={..._[i],[s]:o},null!=f[i]){let e=f[i][s]-1;f[i]={...f[i],[s]:e>=0?e:0}}},GUILD_DIRECTORY_ENTRY_UPDATE:function(e){var t,n,i,a,l,s,r,o,d;let{channelId:h,entry:m}=e,E=(0,c.MQ)(m),g=null===(t=p[h])||void 0===t?void 0:t[E.guildId];p[h]={...p[h],[E.guildId]:{...g,...E}};let C=null!==(a=null==g?void 0:g.primaryCategoryId)&&void 0!==a?a:u.AR.UNCATEGORIZED,I=null!==(l=E.primaryCategoryId)&&void 0!==l?l:u.AR.UNCATEGORIZED,x=Object.assign({},null===(n=_[h])||void 0===n?void 0:n[C]);null!=g&&C!==I&&delete x[E.guildId],_[h]={..._[h],[C]:x,[I]:{...null===(i=_[h])||void 0===i?void 0:i[I],[E.guildId]:{...g,...E}}},I!==C&&null!=f[h]&&(f[h]={...f[h],[C]:(null===(s=f[h])||void 0===s?void 0:s[C])>0?(null===(r=f[h])||void 0===r?void 0:r[C])-1:0,[I]:(null!==(d=null===(o=f[h])||void 0===o?void 0:o[I])&&void 0!==d?d:0)+1})},GUILD_DIRECTORY_CATEGORY_SELECT:function(e){let{channelId:t,categoryId:n}=e;m[t]=n},GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS:function(e){let{channelId:t,counts:n}=e;f[t]=n},GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS:function(e){let{channelId:t,entries:n}=e,i=new Set;n.forEach(e=>{let t=(0,c.MQ)(e);i.add(t.guildId)}),E[t]=i}})},975984:function(e,t,n){n.d(t,{Lz:function(){return d},MQ:function(){return o},TR:function(){return h},Th:function(){return u},_N:function(){return c},gX:function(){return p}}),n(47120);var i=n(512722),a=n.n(i),l=n(392711),s=n.n(l),r=n(486527);function o(e){var t,n,i,l,s,o,c;return a()(e.type===r.C2.GUILD,"Directory entries must be connected to a guild!"),{channelId:e.directory_channel_id,guildId:e.entity_id,type:e.type,authorId:e.author_id,createdAt:e.created_at,description:e.description,primaryCategoryId:e.primary_category_id,name:null===(t=e.guild)||void 0===t?void 0:t.name,icon:null===(n=e.guild)||void 0===n?void 0:n.icon,splash:null===(i=e.guild)||void 0===i?void 0:i.splash,features:new Set(null===(l=e.guild)||void 0===l?void 0:l.features),approximateMemberCount:null===(s=e.guild)||void 0===s?void 0:s.approximate_member_count,approximatePresenceCount:null===(o=e.guild)||void 0===o?void 0:o.approximate_presence_count,featurableInDirectory:null===(c=e.guild)||void 0===c?void 0:c.featurable_in_directory}}let c=5;function u(e){return s().orderBy(e,[e=>e.approximateMemberCount],["desc"])}function d(e){var t;return(t=e.filter(e=>e.featurableInDirectory&&p(e)),s().orderBy(t,[e=>e.createdAt],["desc"])).slice(0,c)}function h(e){return u(e)}function p(e){var t;return(null!==(t=e.approximateMemberCount)&&void 0!==t?t:0)>=5}},683818:function(e,t,n){n.d(t,{G:function(){return c},Z:function(){return o}});var i=n(442837),a=n(592125),l=n(430824),s=n(496675),r=n(981631);function o(e){let t=(0,i.e7)([l.Z],()=>l.Z.getGuild(e.guildId)),n=(0,i.e7)([a.Z],()=>a.Z.getChannel(e.channelId)),o=(0,i.e7)([s.Z],()=>s.Z.can(r.Plq.ADMINISTRATOR,t)),c=(0,i.e7)([s.Z],()=>s.Z.can(r.Plq.MANAGE_MESSAGES,n));return{isEntryAdmin:o,canEdit:o||c,canRemove:o||c}}function c(e){return(0,i.e7)([s.Z],()=>s.Z.can(r.Plq.SEND_MESSAGES,e))}},201493:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(570140),o=n(45114),c=n(147754),u=n(306680),d=n(626135),h=n(597),p=n(99325),m=n(866112),_=n(273387),f=n(683818),E=n(102888),g=n(65839),C=n(453879),I=n(408310),x=n(486527),T=n(981631),N=n(509616);t.Z=e=>{var t;let{channel:v,guild:S}=e,{currentCategoryId:Z,directoryEntries:A,categoryCounts:M,allEntriesCount:b,isLoading:R}=(0,l.cj)([_.Z],()=>{let e=_.Z.getCurrentCategoryId(v.id),t=_.Z.getDirectoryEntries(v.id,e===x.AR.ALL?null:e),n=_.Z.getDirectoryCategoryCounts(v.id),i=_.Z.getDirectoryAllEntriesCount(v.id);return{currentCategoryId:e,directoryEntries:t,categoryCounts:n,allEntriesCount:i,isLoading:_.Z.isFetching()}});a.useEffect(()=>()=>{let e=u.ZP.lastMessageId(v.id);if(null!=e)r.Z.wait(()=>{(0,o.In)(v.id,!0,!0,e)})},[v.id]);let j=a.useMemo(()=>null!=A?(0,C.v)(Object.values(A),Z):null,[A,Z]),{mostRecentQuery:L,searchFetching:P,searchResults:O}=(0,l.cj)([m.Z],()=>{let{mostRecentQuery:e,fetching:t}=m.Z.getSearchState(v.id);return{mostRecentQuery:e,searchFetching:t,searchResults:m.Z.getSearchResults(v.id,e)}}),[y,D]=a.useState(L),k=""!==L,{showHubEventsList:U}=c.Z.useExperiment({guildId:null!==(t=S.id)&&void 0!==t?t:"",location:"6f7fb0_1"},{autoTrackExposure:!1});a.useEffect(()=>{p.c$(v.id),p.YZ(v.id),U&&h.c(v.id),D(L)},[v.id]),a.useEffect(()=>{d.default.track(T.rMx.GUILD_DIRECTORY_CHANNEL_VIEWED,{directory_channel_id:v.id,directory_guild_id:S.id,primary_category_id:Z})},[v.id,S.id,Z]);let w=(0,f.G)(v)?()=>{(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("79764").then(n.bind(n,533202));return t=>(0,i.jsx)(e,{...t,directoryGuildName:S.name,directoryGuildId:S.id,directoryChannelId:v.id,currentCategoryId:Z===x.AR.ALL?null:Z})})}:void 0,B=e=>{0!==y.trim().length&&e.charCode===T.yXg.ENTER&&(p.Rq(v.id,y),d.default.track(T.rMx.GUILD_DIRECTORY_SEARCH,{directory_channel_id:v.id,directory_guild_id:S.id}))},H=()=>{D(""),p.So(v.id)};return k?(0,i.jsx)(I.Z,{searchQuery:y,setSearchQuery:D,mostRecentQuery:L,handleSearchKeyPress:B,handleClearSearch:H,handleCreateOrAddGuild:w,searchResults:O,searchFetching:P}):null==j&&null==Z?(0,i.jsx)("div",{className:N.pageContainer,children:(0,i.jsx)(s.Spinner,{className:N.spinner})}):(null==j?void 0:j.length)===0&&null==Z?(0,i.jsx)("div",{className:N.pageContainer,children:(0,i.jsx)(E.Z,{guild:S,onAddGuild:w})}):(0,i.jsx)(g.Z,{channel:v,searchQuery:y,setSearchQuery:D,handleSearchKeyPress:B,handleClearSearch:H,handleCreateOrAddGuild:w,currentCategoryId:Z,handleSelectCategory:e=>{p.Su(v.id,e)},directoryEntries:j,categoryCounts:M,allEntriesCount:b,isLoading:R})}},102888:function(e,t,n){var i=n(735250),a=n(470079),l=n(481060),s=n(128557),r=n(981631),o=n(689938),c=n(937618);t.Z=e=>{let{guild:t,onAddGuild:u}=e,d=a.useCallback(()=>{(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("17520")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:t,source:r.t4x.HUB_DIRECTORY,analyticsLocation:{section:r.jXE.HUB_WELCOME_CTA}})})},[t]);return(0,i.jsxs)("div",{className:c.emptyWrapper,children:[(0,i.jsx)("img",{className:c.emptyImage,alt:"",src:n(705845)}),(0,i.jsx)(l.Heading,{className:c.emptyTitle,variant:"heading-xl/semibold",children:o.Z.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_TITLE.format({guildName:t.name})}),(0,i.jsx)(l.Text,{variant:"text-md/normal",className:c.emptySubtitle,children:o.Z.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_SUBTITLE}),null!=u?(0,i.jsx)(s.i,{className:c.emptyCTA,iconUrl:n(362827),header:o.Z.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_ADD_SERVER,completed:!1,onClick:u}):null,(0,i.jsx)(s.i,{className:c.emptyCTA,iconUrl:n(538548),header:o.Z.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_INVITE,completed:!1,onClick:d})]})}},400251:function(e,t,n){n.d(t,{m:function(){return Z}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(239091),u=n(749210),d=n(134432),h=n(769654),p=n(601964),m=n(430824),_=n(940627),f=n(346656),E=n(806519),g=n(404975),C=n(768581),I=n(683818),x=n(16853),T=n(981631),N=n(689938),v=n(699996),S=n(883760);let Z=e=>{let{onClick:t}=e;return(0,i.jsxs)(o.Clickable,{onClick:t,className:v.addEntryCard,children:[(0,i.jsx)("img",{alt:"",src:S}),(0,i.jsx)(o.Text,{variant:"text-sm/semibold",color:"header-primary",className:v.addServerText,children:N.Z.Messages.HUB_ADD_SERVER_CTA})]})};function A(e){let{entry:t}=e,[l,r]=a.useState(!1),{canEdit:c}=(0,I.Z)(t);return(0,i.jsx)("div",{className:s()(v.actionButtonsContainer,{[v.forceButtonsShow]:l}),children:(0,i.jsxs)(g.ZP,{children:[c?(0,i.jsx)(o.Tooltip,{text:N.Z.Messages.HUB_ENTRY_UPDATE,hideOnClick:!0,children:e=>{let{onClick:a,...l}=e;return(0,i.jsx)(g.zx,{...l,onClick:()=>{null==a||a(),(0,o.openModalLazy)(async()=>{let{default:e}=await n.e("34191").then(n.bind(n,303647));return n=>(0,i.jsx)(e,{...n,entry:t})})},"aria-label":N.Z.Messages.HUB_ENTRY_UPDATE,children:(0,i.jsx)(o.PencilIcon,{size:"xs",color:"currentColor",className:v.overflowIcon})})}}):null,(0,i.jsx)(x.Z,{onRequestOpen:()=>r(!0),onRequestClose:()=>r(!1),entry:t,hideEditButton:!0,children:e=>{let{onClick:t,...n}=e;return(0,i.jsx)(o.Tooltip,{text:N.Z.Messages.MORE,hideOnClick:!0,children:e=>{let{onClick:a,...l}=e;return(0,i.jsx)(g.zx,{...n,...l,onClick:e=>{null==a||a(),t(e)},"aria-label":N.Z.Messages.MORE,children:(0,i.jsx)(o.MoreHorizontalIcon,{size:"md",color:"currentColor",className:v.overflowIcon})})}})}})]})})}t.Z=e=>{var t;let{entry:l}=e,[s,g]=a.useState(!1),I=null!=(0,r.e7)([m.Z],()=>m.Z.getGuild(l.guildId)),x=async()=>{g(!0);try{I?(0,h.X)(l.guildId):await u.Z.joinGuild(l.guildId,{source:T.vtS.DIRECTORY_ENTRY})}finally{g(!1)}},S=C.ZP.getGuildSplashURL({id:l.guildId,splash:l.splash,size:300*(0,d.x_)()}),Z=null!==(t=C.ZP.getGuildIconURL({id:l.guildId,icon:l.icon,size:40}))&&void 0!==t?t:void 0,M=N.Z.Messages.JOIN;return I&&(M=N.Z.Messages.HUB_DIRECTORY_CARD_JOINED_GUILD_BUTTON),(0,i.jsxs)("div",{className:v.card,onContextMenu:e=>{(0,c.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,643560));return t=>(0,i.jsx)(e,{...t,entry:l})})},children:[(0,i.jsxs)("div",{className:v.cardHeader,children:[(0,i.jsx)("div",{className:v.splash,children:null!=S&&(0,i.jsx)("img",{src:S,alt:"",className:v.splashImage})}),(0,i.jsx)("div",{className:v.guildIcon,children:(0,i.jsx)(E.ZP,{mask:E.ZP.Masks.SQUIRCLE,width:48,height:48,children:(0,i.jsx)("div",{className:v.iconMask,children:(0,i.jsx)(f.Z,{className:v.icon,iconSrc:Z,guild:new p.ZP(l),size:f.Z.Sizes.MEDIUM,active:!0})})})})]}),(0,i.jsxs)("div",{className:v.guildInfo,children:[(0,i.jsxs)("div",{className:v.title,children:[(0,i.jsx)(_.Z,{className:v.guildBadge,guild:l,tooltipColor:o.Tooltip.Colors.PRIMARY}),(0,i.jsx)(o.Text,{className:v.guildName,variant:"heading-md/semibold",color:"header-primary",children:l.name})]}),(0,i.jsx)(o.Text,{className:v.description,variant:"text-sm/normal",color:"header-secondary",children:l.description}),(0,i.jsxs)("div",{className:v.memberInfo,children:[null!=l.approximatePresenceCount&&(0,i.jsxs)("div",{className:v.memberCount,children:[(0,i.jsx)("div",{className:v.dotOnline}),(0,i.jsx)(o.Text,{variant:"text-xs/normal",color:"header-secondary",children:N.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:l.approximatePresenceCount})})]}),null!=l.approximateMemberCount&&(0,i.jsxs)("div",{className:v.memberCount,children:[(0,i.jsx)("div",{className:v.dotOffline}),(0,i.jsx)(o.Text,{variant:"text-xs/normal",color:"header-secondary",children:N.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:l.approximateMemberCount})})]})]}),(0,i.jsx)(o.Button,{submitting:s,className:v.joinButton,color:I?o.Button.Colors.PRIMARY:o.Button.Colors.GREEN,onClick:x,children:M})]}),(0,i.jsx)(A,{entry:l})]})}},643560:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var i=n(735250),a=n(470079),l=n(481060),s=n(239091),r=n(299206),o=n(726521),c=n(99325),u=n(683818),d=n(689938);function h(e){let{entry:t,onSelect:h,closePopout:p,forceLightTheme:m,hideEditButton:_=!1}=e,{isEntryAdmin:f,canEdit:E,canRemove:g}=(0,u.Z)(t),C=(0,r.Z)({id:t.guildId,label:d.Z.Messages.COPY_ID_GUILD,onSuccess:p});a.useEffect(()=>{!E&&!g&&null==C&&(0,s.Zy)()});let I=()=>{c.kx(t.channelId,t.guildId)};function x(){(0,s.Zy)(),null==p||p()}return(0,i.jsxs)(l.Menu,{className:m?"theme-light":null,navId:"guild-entry-context",onClose:x,"aria-label":d.Z.Messages.GUILD_ACTIONS_MENU_LABEL,onSelect:h,children:[(0,i.jsxs)(l.MenuGroup,{children:[E&&!_?(0,i.jsx)(l.MenuItem,{id:"update-entry",label:d.Z.Messages.HUB_ENTRY_UPDATE,action:function(){(0,l.openModalLazy)(async()=>{let{default:e}=await n.e("34191").then(n.bind(n,303647));return n=>(0,i.jsx)(e,{...n,entry:t})}),x()}}):null,g?(0,i.jsx)(l.MenuItem,{id:"remove-from-hub",label:d.Z.Messages.HUB_ENTRY_REMOVE,action:function(){(0,l.openModal)(e=>(0,i.jsx)(l.ConfirmModal,{header:d.Z.Messages.HUB_ENTRY_REMOVE,confirmText:d.Z.Messages.REMOVE,cancelText:d.Z.Messages.CANCEL,onConfirm:I,...e,children:(0,i.jsx)(l.Text,{variant:"text-md/normal",children:d.Z.Messages.HUB_ENTRY_REMOVE_BODY.format({guildName:t.name})})})),x()},color:"danger"}):null,f?null:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.MenuItem,{id:"report-server-listing",label:d.Z.Messages.REPORT_SERVER_NO_NAME,action:function(){null!=t&&((0,o.sq)(t),x())},icon:l.FlagIcon,color:"danger"})})]}),(0,i.jsx)(l.MenuGroup,{children:C})]})}},16853:function(e,t,n){var i=n(735250);n(470079);var a=n(481060),l=n(643560);t.Z=e=>{let{entry:t,forceLightTheme:n,hideEditButton:s,children:r,onRequestOpen:o,onRequestClose:c}=e;return(0,i.jsx)(a.Popout,{onRequestOpen:o,onRequestClose:c,animation:a.Popout.Animation.NONE,position:"bottom",spacing:4,align:"right",renderPopout:e=>{let{closePopout:a}=e;return(0,i.jsx)(l.default,{entry:t,closePopout:a,forceLightTheme:n,hideEditButton:s})},children:r})}},65839:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(399606),o=n(481060),c=n(112724),u=n(430824),d=n(496675),h=n(768581),p=n(400251),m=n(486527),_=n(981631),f=n(689938),E=n(509616),g=n(201698),C=n(584354),I=n(725060);let x=(0,c.Z)(e=>{let{searchQuery:t,setSearchQuery:n,handleClearSearch:a,handleSearchKeyPress:l,width:r}=e,c=null!=r&&r<=800;return(0,i.jsxs)("div",{className:g.header,children:[(0,i.jsx)("img",{alt:"",className:g.headerImage,src:c?I:C}),(0,i.jsx)("div",{className:g.headerContentWrapper,children:(0,i.jsxs)("div",{className:s()(g.headerContent,{[g.headerContentSmall]:c}),children:[(0,i.jsx)(o.Heading,{variant:"heading-xl/semibold",className:g.searchTitle,children:f.Z.Messages.HUB_DIRECTORY_SEARCH_TITLE}),(0,i.jsx)(o.Text,{variant:"text-md/normal",className:g.searchSubtitle,children:f.Z.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE}),(0,i.jsx)(o.SearchBox,{searchTerm:t,className:g.searchBox,inputClassName:g.searchBoxInput,closeIconClassName:g.closeIcon,searchIconClassName:g.searchIcon,label:f.Z.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:f.Z.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:n,onClear:a,onKeyPress:l,cta:null!=t&&t.length>0?f.Z.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})]})})]})});function T(e){let{guild:t,directoryEntries:n,handleCreateOrAddGuild:a,isLoading:l}=e,c=(0,r.e7)([d.Z],()=>d.Z.can(_.Plq.ADMINISTRATOR,t)),u=[];null!=n&&n.forEach(e=>{u=u.concat(e.entries)}),u.sort((e,t)=>{var n,i;return(null!==(n=t.approximateMemberCount)&&void 0!==n?n:0)-(null!==(i=e.approximateMemberCount)&&void 0!==i?i:0)});let m=h.ZP.getGuildSplashURL({id:t.id,splash:t.splash});return(0,i.jsx)("div",{className:E.pageContainer,children:(0,i.jsxs)(o.AdvancedScrollerAuto,{className:E.scroller,children:[(0,i.jsxs)("div",{className:g.header,children:[null!=m?(0,i.jsx)("img",{alt:"",className:s()(g.headerImage,g.headerImageSimple),src:m}):null,(0,i.jsx)("div",{className:g.headerImageBG}),(0,i.jsx)("div",{className:g.headerContentWrapper,children:(0,i.jsx)("div",{className:s()(g.headerContent,g.headerContentSmall),children:(0,i.jsx)(o.Heading,{variant:"heading-xl/semibold",color:"always-white",children:f.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:"Midjourney"})})})})]}),l&&null==n?(0,i.jsx)(o.Spinner,{className:E.spinner}):(0,i.jsxs)("div",{className:E.cardsContainer,children:[u.map(e=>(0,i.jsx)(p.Z,{entry:e},e.guildId)),c&&null!=a?(0,i.jsx)(p.m,{onClick:a}):null]})]})})}t.Z=e=>{let{channel:t,directoryEntries:n,handleCreateOrAddGuild:l,searchQuery:s,setSearchQuery:c,handleClearSearch:d,handleSearchKeyPress:h,currentCategoryId:C,handleSelectCategory:I,categoryCounts:N,allEntriesCount:v,isLoading:S}=e,Z=(0,r.e7)([u.Z],()=>u.Z.getGuild(t.getGuildId()));return null!=Z&&Z.hasFeature(_.oNc.SHARD)?(0,i.jsx)(T,{guild:Z,directoryEntries:n,handleCreateOrAddGuild:l,isLoading:S}):(0,i.jsx)("div",{className:E.pageContainer,children:(0,i.jsxs)(o.AdvancedScrollerAuto,{className:E.scroller,children:[(0,i.jsx)(x,{searchQuery:s,setSearchQuery:c,handleClearSearch:d,handleSearchKeyPress:h}),(0,i.jsx)(o.AdvancedScrollerThin,{orientation:"horizontal",children:(0,i.jsxs)(o.TabBar,{className:g.tabBar,type:"top",look:"brand",selectedItem:C,onItemSelect:e=>{I(e)},children:[(0,i.jsx)(o.TabBar.Item,{className:g.tabBarItem,id:m.AR.ALL,children:"".concat(f.Z.Messages.DIRECTORY_CATEGORY_ALL," (").concat(v,")")},m.AR.ALL),(0,m.b7)(t.id).map(e=>{let{value:t,label:n}=e;return(0,i.jsx)(o.TabBar.Item,{className:g.tabBarItem,id:t,children:"".concat(n," ").concat(null!=N[t]?"(".concat(N[t],")"):"")},t)})]})}),S&&null==n?(0,i.jsx)(o.Spinner,{className:E.spinner}):null==n?void 0:n.map((e,t)=>(0,i.jsxs)(a.Fragment,{children:[void 0!==e.header?(0,i.jsx)(o.Text,{variant:"text-md/semibold",className:g.sectionHeader,children:e.header}):null,(0,i.jsxs)("div",{className:E.cardsContainer,children:[e.entries.map(e=>(0,i.jsx)(p.Z,{entry:e},e.guildId)),e.appendEndCard&&null!=l?(0,i.jsx)(p.m,{onClick:l}):null]})]},t))]})})}},453879:function(e,t,n){n.d(t,{v:function(){return s}}),n(47120),n(653041);var i=n(975984),a=n(486527),l=n(689938);function s(e,t){if(t!==a.AR.ALL)return[{entries:(0,i.TR)(e),appendEndCard:!0}];let n=[],s=(0,i.Lz)(e),r=new Set(s.map(e=>e.guildId));s.length>0&&n.push({header:l.Z.Messages.SEARCH_NEWEST,entries:s,appendEndCard:!1});let o=e.filter(e=>!r.has(e.guildId));return(o=(0,i.Th)(o)).length>0&&n.push({header:l.Z.Messages.ALL_SERVERS,entries:o,appendEndCard:!0}),n}},408310:function(e,t,n){var i=n(735250);n(470079);var a=n(481060),l=n(671533),s=n(400251),r=n(689938),o=n(509616),c=n(573929),u=n(176480);t.Z=e=>{let t,{searchQuery:n,setSearchQuery:d,mostRecentQuery:h,handleClearSearch:p,handleSearchKeyPress:m,handleCreateOrAddGuild:_,searchResults:f,searchFetching:E}=e;if(E)t=(0,i.jsx)("div",{className:o.pageContainer,children:(0,i.jsx)(a.Spinner,{className:o.spinner})});else if(0===f.length){let e=null!=_?r.Z.Messages.DIRECTORY_SEARCH_NO_RESULTS_SUBTITLE.format({addServerHook:function(e,t){return(0,i.jsx)(a.Anchor,{onClick:_,children:e},t)}}):r.Z.Messages.DIRECTORY_SEARCH_NO_RESULTS_NO_ADD;t=(0,i.jsxs)("div",{className:c.emptySearchWrapper,children:[(0,i.jsx)("img",{className:c.emptySearchImage,alt:"",src:u}),(0,i.jsx)(a.Heading,{variant:"heading-xl/semibold",color:"header-primary",className:c.emptySearchTitle,children:r.Z.Messages.DIRECTORY_SEARCH_NO_RESULTS_TITLE}),(0,i.jsx)(a.Text,{variant:"text-md/normal",color:"header-secondary",className:c.emptySearchSubtitle,children:e})]})}else t=(0,i.jsx)("div",{className:o.cardsContainer,children:f.map(e=>(0,i.jsx)(s.Z,{entry:e},e.guildId))});return(0,i.jsx)("div",{className:o.pageContainer,children:(0,i.jsxs)(a.ScrollerAuto,{className:o.scroller,children:[(0,i.jsxs)("div",{className:c.searchHeader,children:[(0,i.jsxs)("div",{className:c.headerTitleWrapper,children:[(0,i.jsx)(a.Clickable,{onClick:p,className:c.arrow,children:(0,i.jsx)(l.Z,{direction:l.Z.Directions.LEFT})}),(0,i.jsx)(a.Heading,{variant:"heading-xl/semibold",className:c.searchPageTitle,children:r.Z.Messages.DIRECTORY_SEARCH_RESULTS_HEADER.format({numResults:f.length,query:h})})]}),(0,i.jsx)(a.SearchBox,{searchTerm:n,className:c.searchPageBox,inputClassName:c.searchPageInput,label:r.Z.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:r.Z.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:d,onClear:p,onKeyPress:m,cta:null!=n&&n.length>0?r.Z.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})]}),t]})})}},381586:function(e,t,n){n.d(t,{N:function(){return r}});var i=n(442837),a=n(581883),l=n(915486),s=n(57207);function r(e){let t=(0,s.i)([e]),n=(0,i.e7)([a.Z],()=>{var e;return null===(e=a.Z.settings.userContent)||void 0===e?void 0:e.dismissedContents});return 0===t.length||null!=n&&(0,l.jl)(n,e)}},396769:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(481060),l=n(285952),s=n(701612);function r(e){let{icon:t,onClick:n,label:r}=e;return(0,i.jsx)(a.Button,{look:a.Button.Looks.BLANK,size:a.Button.Sizes.MIN,className:s.button,onClick:n,children:(0,i.jsxs)(l.Z,{align:l.Z.Align.CENTER,children:[(0,i.jsx)("div",{className:s.buttonIcon,children:t}),(0,i.jsx)(a.Text,{variant:"text-md/normal",color:"none",children:r})]})})}},7782:function(e,t,n){var i=n(735250),a=n(470079),l=n(873546),s=n(442837),r=n(481060),o=n(194359),c=n(333984),u=n(486622),d=n(922409),h=n(86203),p=n(6025),m=n(621853),_=n(171368),f=n(433355),E=n(699516),g=n(594174),C=n(806519),I=n(768581),x=n(525541),T=n(981631),N=n(377668),v=n(228168),S=n(689938),Z=n(713049);let A=e=>{let{userId:t,channelId:n}=e,l=(0,s.e7)([m.Z],()=>m.Z.getMutualGuilds(t),[t]),o=a.useMemo(()=>null!=l?l.slice(0,3).map((e,t)=>{let{guild:n}=e,a=null!=n?I.ZP.getGuildIconURL({id:n.id,icon:n.icon,size:24}):null;if(null==a)return null;let s=t===(l.length>3?3:l.length)-1,r=(0,i.jsx)("img",{src:a,alt:"",className:Z.avatar},t);return s?r:(0,i.jsx)(C.ZP,{className:Z.avatarMask,mask:C.ZP.Masks.VOICE_USER_SUMMARY_ITEM,width:24,height:24,children:r},t)}).filter(e=>null!=e):[],[l]);return null==l||0===l.length?(0,i.jsx)(r.Text,{color:"header-secondary",variant:"text-sm/normal",children:S.Z.Messages.NO_MUTUAL_GUILDS}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:Z.avatarContainer,children:o}),(0,i.jsx)(r.Clickable,{onClick:()=>{(0,_.openUserProfileModal)({userId:t,channelId:n,section:v.oh.MUTUAL_GUILDS,analyticsLocation:{section:T.jXE.DIRECT_MESSAGE}})},children:(0,i.jsx)(r.Text,{className:Z.mutualGuilds,variant:"text-sm/normal",children:S.Z.Messages.USER_PROFILE_MUTUAL_GUILDS.format({count:l.length})})})]})},M=e=>{var t;let{relationshipType:n,userId:a,showingBanner:l}=e,s=null===(t=g.default.getUser(a))||void 0===t?void 0:t.bot,c=()=>{o.Z.addRelationship({userId:a,context:{location:T.ZY5.DM_CHANNEL}})},u=(0,i.jsx)(r.Button,{className:Z.action,size:r.Button.Sizes.TINY,color:r.Button.Colors.PRIMARY,onClick:()=>{o.Z.addRelationship({userId:a,context:{location:T.ZY5.DM_CHANNEL},type:T.OGo.BLOCKED})},children:S.Z.Messages.BLOCK});switch(n){case T.OGo.NONE:return(0,i.jsxs)(i.Fragment,{children:[!s&&!l&&(0,i.jsx)(r.Button,{className:Z.action,size:r.Button.Sizes.TINY,onClick:c,children:S.Z.Messages.ADD_FRIEND}),u]});case T.OGo.FRIEND:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Button,{className:Z.action,size:r.Button.Sizes.TINY,onClick:()=>{o.Z.removeFriend(a,{location:T.ZY5.DM_CHANNEL})},color:r.Button.Colors.PRIMARY,children:S.Z.Messages.REMOVE_FRIEND}),u]});case T.OGo.BLOCKED:return(0,i.jsx)(r.Button,{className:Z.action,size:r.Button.Sizes.TINY,onClick:()=>{o.Z.unblockUser(a,{location:T.ZY5.DM_CHANNEL})},color:r.Button.Colors.PRIMARY,children:S.Z.Messages.UNBLOCK});case T.OGo.PENDING_INCOMING:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Text,{className:Z.action,color:"header-secondary",variant:"text-sm/normal",children:S.Z.Messages.FRIEND_REQUEST_RECEIVED}),(0,i.jsx)(r.Button,{className:Z.action,size:r.Button.Sizes.TINY,onClick:c,children:S.Z.Messages.FRIEND_REQUEST_ACCEPT}),(0,i.jsx)(r.Button,{className:Z.action,size:r.Button.Sizes.TINY,color:r.Button.Colors.PRIMARY,onClick:()=>{o.Z.cancelFriendRequest(a,{location:T.ZY5.DM_CHANNEL})},children:S.Z.Messages.FRIEND_REQUEST_IGNORE}),u]});case T.OGo.PENDING_OUTGOING:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Button,{className:Z.action,size:r.Button.Sizes.TINY,disabled:!0,children:S.Z.Messages.ADD_FRIEND_BUTTON_AFTER}),u]});default:return null}},b=e=>{let{channelId:t,otherUserId:n}=e,l=a.useCallback(()=>{(0,r.showToast)((0,r.createToast)(S.Z.Messages.MESSAGE_REQUESTS_SPAM_REQUEST_ERROR_ALERT_TITLE,r.ToastType.FAILURE))},[]),s=a.useCallback(()=>{p.Z.closeChannelSidebar(f.uZ)},[]),o=a.useCallback(()=>{p.Z.closeChannelSidebar(f.uZ)},[]),{acceptMessageRequest:c,rejectMessageRequest:d,isAcceptLoading:h,isRejectLoading:m,isOptimisticAccepted:_,isOptimisticRejected:E}=(0,u.m)({user:g.default.getUser(n),onError:l,onAcceptSuccess:o,onRejectSuccess:s}),C=h||m||_||E;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Button,{className:Z.action,size:r.Button.Sizes.TINY,onClick:()=>c(t),disabled:C,submitting:h,children:S.Z.Messages.MESSAGE_REQUEST_ACCEPT}),(0,i.jsx)(r.Button,{className:Z.action,size:r.Button.Sizes.TINY,onClick:()=>d(t),color:r.Button.Colors.PRIMARY,disabled:C,submitting:m,children:S.Z.Messages.MESSAGE_REQUEST_IGNORE})]})};t.Z=e=>{let{userId:t,channel:n,showingBanner:a}=e,{channelId:r}=(0,d._)(),o=(0,s.e7)([c.Z],()=>null!=r&&c.Z.isSpam(r),[r]),u=(0,s.e7)([E.Z],()=>E.Z.getRelationshipType(t),[t]),p=n.id===r;return t===N.fL?null:o||p?(0,i.jsxs)("div",{className:Z.mobileContainer,children:[(0,i.jsx)("div",{className:Z.mobileMutualGuilds,children:(0,i.jsx)(A,{userId:t,channelId:n.id})}),(0,i.jsxs)("div",{className:Z.mobileButtons,children:[(0,i.jsx)(b,{channelId:n.id,otherUserId:t}),(0,i.jsx)(h.Z,{channel:n})]})]}):!0===l.tq||p?(0,i.jsxs)("div",{className:Z.mobileContainer,children:[(0,i.jsx)("div",{className:Z.mobileMutualGuilds,children:(0,i.jsx)(A,{userId:t,channelId:n.id})}),(0,i.jsxs)("div",{className:Z.mobileButtons,children:[(0,i.jsx)(M,{relationshipType:u,userId:t,showingBanner:a}),!a&&(0,i.jsx)(x.Z,{otherUserId:t,channel:n,navigateAwayOnReportSuccess:!1})]})]}):(0,i.jsxs)("div",{className:Z.container,children:[(0,i.jsx)(A,{userId:t,channelId:n.id}),(0,i.jsx)("div",{className:Z.divider}),(0,i.jsx)(M,{relationshipType:u,userId:t,showingBanner:a}),!a&&(0,i.jsx)(x.Z,{otherUserId:t,channel:n})]})}},967128:function(e,t,n){n.d(t,{Kq:function(){return u},Ot:function(){return d},jz:function(){return h}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(481060),r=n(534091),o=n(981631),c=n(407863);function u(e){let{locked:t=!1,channelType:n}=e,a=(0,s.useRedesignIconContext)().enabled,r=n===o.d4z.GUILD_VOICE||n===o.d4z.GUILD_STAGE_VOICE;if(!a)return(0,i.jsx)("div",{className:l()(c.emptyChannelIcon,c.emptyChannelIconSvg,{[c.locked]:t,[c.voiceChat]:r})});{let e=r?s.ChatIcon:t?s.TextLockIcon:s.TextIcon;return(0,i.jsx)("div",{className:l()(c.emptyChannelIcon,c.emptyChannelIconComponent),children:(0,i.jsx)(e,{color:s.tokens.colors.WHITE,size:"custom",width:42,height:42})})}}function d(e){let{children:t,className:n}=e;return(0,i.jsx)(s.Heading,{"aria-hidden":"true",className:l()(n,c.header),variant:"heading-xxl/extrabold",children:t})}function h(e){let{children:t}=e;return(0,i.jsx)(s.Text,{variant:"text-md/normal",color:"none",className:c.description,children:t})}t.ZP=function(e){let{className:t,channelId:n,children:a,...s}=e;return(0,i.jsx)("div",{className:l()(t,c.container),id:(0,r.p)(n,n),...s,children:a})}},600084:function(e,t,n){n.d(t,{Z:function(){return O}});var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(570140),o=n(933557),c=n(605436),u=n(736052),d=n(878857),h=n(621853),p=n(484459),m=n(131704),_=n(984933),f=n(496675),E=n(594174),g=n(51144),C=n(7782),I=n(967128),x=n(320781),T=n(269203),N=n(753898),v=n(734386),S=n(184279),Z=n(438306),A=n(544142),M=n(128557),b=n(981631),R=n(176505),j=n(689938),L=n(331651);function P(e){let{canManageRoles:t,channel:n}=e,a=t&&(0,c.Yk)(n),s=(0,l.e7)([_.ZP],()=>null!=n.guild_id&&n===_.ZP.getDefaultChannel(n.guild_id),[n]);if((0,u.Z)(n.id))return null;if(n.isForumPost())return(0,i.jsx)(x.Z,{channel:n});if(m.Ec.has(n.type))return(0,i.jsx)(A.Z,{channel:n});else if(s)return(0,i.jsx)(M.Z,{channel:n});else if(a)return(0,i.jsx)(v.Z,{channel:n});return(0,i.jsx)(Z.Z,{channel:n})}function O(e){var t;let{channel:n,showingBanner:c}=e,u=(0,o.ZP)(n),{type:m}=n,_=(0,l.e7)([E.default],()=>n.isPrivate()?E.default.getUser(n.getRecipientId()):null),x=g.ZP.useUserTag(_),{canManageRoles:v,canReadMessageHistory:Z}=(0,l.cj)([f.Z],()=>({canManageRoles:f.Z.can(b.Plq.MANAGE_ROLES,n),canReadMessageHistory:f.Z.can(b.Plq.READ_MESSAGE_HISTORY,n)})),A=(0,l.e7)([h.Z],()=>m===b.d4z.DM?h.Z.getMutualGuilds(n.getRecipientId()):null,[n,m]),{systemDMRedesignEnabled:M}=d.Z.useExperiment({location:"bf1a4f_1"},{autoTrackExposure:null!==(t=n.isSystemDM())&&void 0!==t&&t});if(a.useEffect(()=>{m===b.d4z.DM&&null==A&&null!=_&&r.Z.wait(()=>(0,p.Z)(n.getRecipientId(),_.getAvatarURL(null,80),{withMutualGuilds:!0}))},[A,m,n,_]),n.isSystemDM())return M?(0,i.jsx)(S.Z,{channel:n}):(0,i.jsx)(N.Z,{channel:n,children:j.Z.Messages.SYSTEM_DM_EMPTY_MESSAGE});if(m===b.d4z.DM)return(0,i.jsxs)(N.Z,{channel:n,user:_,children:[null!=_&&(0,i.jsx)(s.Heading,{variant:"heading-xl/medium",className:L.marginBottom20,children:x}),j.Z.Messages.BEGINNING_DM.format({username:u}),(0,i.jsx)(C.Z,{userId:n.getRecipientId(),channel:n,showingBanner:c})]});if(n.isMultiUserDM())return n.isManaged()?(0,i.jsxs)(I.ZP,{channelId:n.id,children:[(0,i.jsx)(I.Ot,{children:j.Z.Messages.BEGINNING_CHANNEL_WELCOME.format({channelName:u})}),(0,i.jsx)(I.jz,{children:j.Z.Messages.BEGINNING_GROUP_DM_MANAGED})]}):n.hasFlag(R.zZ.IS_JOIN_REQUEST_INTERVIEW_CHANNEL)?(0,i.jsx)(T.Z,{channel:n}):(0,i.jsx)(N.Z,{channel:n,children:j.Z.Messages.BEGINNING_GROUP_DM.format({name:u})});return Z?(0,i.jsx)(P,{channel:n,canManageRoles:v}):(0,i.jsx)(I.ZP,{channelId:n.id,children:(0,i.jsx)(I.jz,{children:j.Z.Messages.BEGINNING_CHANNEL_NO_HISTORY.format({channelName:u})})})}},320781:function(e,t,n){n.d(t,{Z:function(){return p}}),n(47120);var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(471445),r=n(456269),o=n(660189),c=n(257511),u=n(967128),d=n(689938),h=n(73409);function p(e){var t;let{channel:n}=e,p=(0,r.eV)(n),{firstMessage:m}=(0,a.cj)([o.Z],()=>o.Z.getMessage(n.id)),_=new Set((0,r.kn)(n,p)),f=null!==(t=(0,s.KS)(n))&&void 0!==t?t:l.ChatIcon;return(0,i.jsxs)(u.ZP,{channelId:n.id,className:h.container,children:[(0,i.jsx)("div",{className:h.iconWrapper,children:(0,i.jsx)(f,{className:h.icon,strokeWidth:1.75})}),(0,i.jsx)(u.Ot,{className:h.header,children:n.name}),null==m&&(0,i.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",children:d.Z.Messages.REPLY_QUOTE_MESSAGE_DELETED}),(0,i.jsx)(c.Z,{appliedTags:_})]})}},269203:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(805519),r=n(246364),o=n(705563),c=n(594174),u=n(346656),d=n(967128),h=n(689938),p=n(573475);function m(e){var t;let{joinRequest:n,guild:s}=e,o=(0,a.e7)([c.default],()=>c.default.getUser(n.userId));return(0,i.jsxs)("div",{className:p.summaryContainer,children:[(0,i.jsxs)("div",{className:p.summaryHeader,children:[null!=s&&(0,i.jsxs)("div",{className:p.summaryHeaderClanInfo,children:[(0,i.jsx)(u.Z,{guild:s,active:!0,size:u.Z.Sizes.SMOL,className:p.guildIcon}),(0,i.jsx)(l.Heading,{variant:"heading-sm/semibold",color:"header-primary",children:s.name})]}),null!=o&&(0,i.jsx)(l.Heading,{variant:"heading-xl/semibold",color:"header-primary",children:h.Z.Messages.MEMBER_VERIFICATION_USERS_APPLICATION.format({username:o.globalName})})]}),null===(t=n.formResponses)||void 0===t?void 0:t.filter(e=>e.field_type!==r.QJ.TERMS).map(e=>{let t=e.field_type===r.QJ.MULTIPLE_CHOICE&&null!=e.response?e.choices[e.response]:e.response;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{className:p.summarySeparator}),(0,i.jsxs)("div",{className:p.formResponseContainer,children:[(0,i.jsx)(l.Text,{variant:"text-xs/semibold",color:"text-muted",children:e.label}),(0,i.jsx)(l.Text,{variant:"text-md/medium",color:"text-primary",children:t})]})]})})]})}function _(e){let{channel:t}=e,{loading:n,joinRequest:a,joinRequestGuild:r}=(0,s.Z)(t.id);return(0,i.jsx)(d.ZP,{channelId:t.id,className:p.container,children:(0,i.jsx)(d.jz,{children:null!=a&&null!=a.formResponses?(0,i.jsxs)("div",{className:p.formContainer,children:[(0,i.jsx)("div",{children:(0,i.jsx)(m,{guild:r,joinRequest:a})}),(0,i.jsx)(o.Z,{channelId:t.id,showProfile:!0})]}):n?(0,i.jsx)(l.Spinner,{}):null})})}},753898:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(607070),r=n(43267),o=n(933557),c=n(266076),u=n(204197),d=n(967128);function h(e){var t;let{channel:n,children:h,user:p}=e,m=(0,a.e7)([s.Z],()=>s.Z.useReducedMotion),_=null!==(t=(0,o.ZP)(n))&&void 0!==t?t:"",{avatarDecorationSrc:f,eventHandlers:E,isAnimating:g}=(0,u.Z)({user:p,size:l.AvatarSizes.SIZE_80,animateOnHover:!0});return(0,i.jsxs)(d.ZP,{channelId:n.id,...E,children:[(()=>{let e=!m&&g;return n.isMultiUserDM()?(0,i.jsx)(c.Z,{channel:n,size:l.AvatarSizes.SIZE_80,experimentLocation:"empty_messages",animated:e,"aria-label":_}):(0,i.jsx)(l.Avatar,{"aria-label":_,size:l.AvatarSizes.SIZE_80,src:(0,r.x)(n,80,e),avatarDecoration:f})})(),(0,i.jsx)(d.Ot,{children:_}),(0,i.jsx)(d.jz,{children:h})]})}},525541:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(481060),l=n(493683),s=n(726521),r=n(213010),o=n(718538),c=n(689938);function u(e){let{otherUserId:t,channel:n,buttonSize:u=a.ButtonSizes.TINY,className:d,buttonText:h,navigateAwayOnReportSuccess:p=!0,onReportClick:m,onReportSubmit:_,onMouseEnter:f,onMouseLeave:E}=e,g=(0,r.Q)(t),C=(0,o.V)(n.id,t);if(!g||null==C)return null;let I=()=>{null==_||_(),l.Z.closePrivateChannel(n.id,p)};return(0,i.jsx)(a.Button,{className:d,size:u,color:a.Button.Colors.RED,disabled:null==C,onClick:()=>{null==m||m(),(0,s.WL)(C,I)},onMouseEnter:f,onMouseLeave:E,children:null!=h?h:c.Z.Messages.REPORT_SPAM})}},734386:function(e,t,n){n.d(t,{Z:function(){return P}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(392711),o=n.n(r),c=n(149765),u=n(866442),d=n(442837),h=n(481060),p=n(787014),m=n(911969),_=n(933557),f=n(605436),E=n(185413),g=n(434404),C=n(454585),I=n(430824),x=n(496675),T=n(594174),N=n(183156),v=n(52736),S=n(700785),Z=n(51144),A=n(396769),M=n(967128),b=n(318374),R=n(981631),j=n(689938),L=n(147673);function P(e){let{channel:t}=e,[n,l]=a.useState(!1),r=(0,_.ZP)(t,!0),P=t.guild_id,O=(0,d.e7)([I.Z],()=>null!=P?I.Z.getRoles(P):void 0),y=(0,d.e7)([T.default,I.Z],()=>{var e;return T.default.getUser(null===(e=I.Z.getGuild(P))||void 0===e?void 0:e.ownerId)}),D=a.useMemo(()=>null!=P?o()(O).sortBy(e=>-e.position).filter(e=>!(0,f.pM)(P,e.id)).value():[],[P,O]),k=a.useMemo(()=>o()(D).filter(e=>{if(null==P)return!1;let n=S.I0({forceRoles:{[e.id]:e},context:t});return c.e$(n,R.Plq.ADMINISTRATOR)||c.e$(n,R.Plq.VIEW_CHANNEL)}).value(),[t,P,D]),U=(0,d.Wu)([T.default],()=>{let e={};for(let n of(null!=y&&(e[y.id]=y),Object.values(t.permissionOverwrites))){if(n.type!==m.BN.MEMBER||null!=e[n.id])continue;let t=T.default.getUser(n.id);null!=t&&(e[t.id]=t)}return o()(e).filter(e=>{var n;let i=S.BT({permission:R.Plq.ADMINISTRATOR,user:e,context:t}),a=null!==(n=t.permissionOverwrites[e.id])&&void 0!==n?n:S.Hn,l=c.e$(a.allow,R.Plq.VIEW_CHANNEL);return i||l}).value()},[t,y]),w=x.Z.can(R.Plq.MANAGE_CHANNELS,t)||x.Z.can(R.Plq.MANAGE_ROLES,t);function B(){p.ZP.open(t.id)}let H=a.useCallback(()=>l(!1),[]);return(0,i.jsxs)(M.ZP,{channelId:t.id,children:[(0,i.jsx)(M.Kq,{locked:!0,channelType:t.type}),(0,i.jsx)(M.Ot,{children:j.Z.Messages.BEGINNING_CHANNEL_WELCOME.format({channelName:r})}),(0,i.jsx)(M.jz,{children:j.Z.Messages.BEGINNING_ROLE_REQUIRED_CHANNEL_DESCRIPTION.format({channelName:r,topicHook:()=>C.Z.parseTopic(t.topic,!0,{channelId:t.id})})}),w?(0,i.jsxs)("div",{className:L.channelSettingButtons,children:[(0,i.jsx)(A.Z,{label:j.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TITLE,onClick:()=>l(!0),icon:(0,i.jsx)(h.GroupIcon,{size:"xs",color:"currentColor"})}),(0,i.jsx)(A.Z,{label:j.Z.Messages.EDIT_CHANNEL,onClick:B,icon:(0,i.jsx)(h.PencilIcon,{size:"xs",color:"currentColor"})})]}):null,(0,i.jsxs)("div",{className:L.members,children:[function(){if(1!==U.length||k.length>0)return(0,i.jsx)(b.Z,{guildId:t.guild_id,className:L.avatars,maxUsers:5,users:U});let e=U[0],n=Z.ZP.getName(e);return(0,i.jsxs)("div",{className:L.avatars,children:[(0,i.jsx)(h.Avatar,{src:e.getAvatarURL(t.guild_id,24),"aria-label":n,size:h.AvatarSizes.SIZE_24}),(0,i.jsx)(h.Text,{tag:"span",className:L.singleUserName,variant:"text-md/normal",children:n}),"\xa0",(0,i.jsx)(h.Text,{tag:"span",variant:"text-md/normal",color:"text-muted",children:j.Z.Messages.ROLE_REQUIRED_SINGLE_USER_MESSAGE})]})}(),k.map((e,n)=>{var a,l;let r=null!==(l=e.colorString)&&void 0!==l?l:(0,u.Rf)(R.p6O),o=(null===(a=e.tags)||void 0===a?void 0:a.guild_connections)!==void 0;return w?(0,i.jsx)(N.Z,{className:s()(L.role,{[L.last]:n===k.length-1}),roleName:e.name,roleColor:r,disabled:!w,verified:o,onClick:()=>{g.Z.open(t.guild_id,R.pNK.MEMBERS),g.Z.selectRole(e.id)}},e.id):(0,i.jsx)(v.Z,{className:s()(L.role,{[L.last]:n===k.length-1}),roleName:e.name,roleColor:r,verified:o},e.id)})]}),n?(0,i.jsx)(h.Modal,{renderModal:e=>(0,i.jsx)(E.default,{...e,onClose:()=>(H(),e.onClose()),channelId:t.id}),onCloseRequest:()=>l(!1)}):null]})}},184279:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250);n(470079);var a=n(481060),l=n(43267),s=n(933557),r=n(534091),o=n(797717),c=n(967128),u=n(689938),d=n(492932),h=n(191986);let p=()=>(0,i.jsx)("svg",{width:"46",height:"34",viewBox:"0 0 46 34",className:d.chatBubbleLip,xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M0 33.4637C16.1697 28.954 21.1764 9.59155 19.2146 0L45.681 0.000148089C45.681 0.000148089 44.681 9.14498 40.1914 18.3023C34.4077 30.0996 6.2893 33.1232 0 33.4637Z"})});function m(e){var t;let{channel:n}=e,m=null!==(t=(0,s.ZP)(n))&&void 0!==t?t:"";return(0,i.jsxs)("div",{id:(0,r.p)(n.id,n.id),className:d.headerContainer,children:[(0,i.jsx)("img",{src:h,className:d.wumpusImage,alt:""}),(0,i.jsxs)("div",{className:d.chatBubbleContainer,children:[(0,i.jsx)(p,{}),(0,i.jsxs)("div",{className:d.chatBubble,children:[(0,i.jsx)(a.Avatar,{"aria-label":m,size:a.AvatarSizes.SIZE_80,src:(0,l.x)(n,80,!1)}),(0,i.jsxs)(c.Ot,{className:d.emptyMessageHeader,children:[m,(0,i.jsx)(o.Z,{className:d.flowerStar,size:24,children:(0,i.jsx)(a.CheckmarkSmallIcon,{size:"md",color:"currentColor",className:d.verified})})]}),(0,i.jsx)(c.jz,{children:u.Z.Messages.SYSTEM_DM_EMPTY_MESSAGE})]})]})]})}},438306:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(787014),r=n(933557),o=n(454585),c=n(131704),u=n(496675),d=n(396769),h=n(967128),p=n(981631),m=n(689938),_=n(193308);function f(e){let{channel:t}=e,n=(0,r.ZP)(t,!0),f=(0,a.e7)([u.Z],()=>u.Z.can(p.Plq.MANAGE_CHANNELS,t)&&c.dF.has(t.type));return(0,i.jsxs)(h.ZP,{channelId:t.id,children:[(0,i.jsx)(h.Kq,{channelType:t.type}),(0,i.jsx)(h.Ot,{children:m.Z.Messages.BEGINNING_CHANNEL_WELCOME.format({channelName:n})}),(0,i.jsx)(h.jz,{children:m.Z.Messages.BEGINNING_CHANNEL_DESCRIPTION.format({channelName:n,topicHook:()=>o.Z.parseTopic(t.topic,!0,{channelId:t.id})})}),f?(0,i.jsx)("div",{className:_.buttonContainer,children:(0,i.jsx)(d.Z,{label:m.Z.Messages.EDIT_CHANNEL,onClick:()=>{s.ZP.open(t.id)},icon:(0,i.jsx)(l.PencilIcon,{size:"xs",color:"currentColor"})})}):null]})}},544142:function(e,t,n){n.d(t,{Z:function(){return N}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(442837),r=n(481060),o=n(239091),c=n(100527),u=n(906732),d=n(471445),h=n(484459),p=n(103575),m=n(271383),_=n(594174),f=n(51144),E=n(967128),g=n(981631),C=n(689938),I=n(971055);function x(e){var t,a;let{userId:d,channel:E}=e,{analyticsLocations:g}=(0,u.ZP)(c.Z.USERNAME),C=(0,s.e7)([_.default],()=>_.default.getUser(d)),x=(0,s.e7)([m.ZP],()=>null!=d?m.ZP.getMember(E.guild_id,d):null);function T(e){if(null==C)return null;(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("70675")]).then(n.bind(n,654663));return t=>(0,i.jsx)(e,{...t,user:C,guildId:E.guild_id,channel:E})})}let N=null!==(a=null!==(t=null==x?void 0:x.nick)&&void 0!==t?t:f.ZP.getName(C))&&void 0!==a?a:"???",v=null==x?void 0:x.colorString;return null==C?(0,i.jsx)("span",{className:l()(I.threadCreatorName,I.unknownCreatorName),children:N}):(0,i.jsx)(u.Gt,{value:g,children:(0,i.jsx)(r.Popout,{preload:()=>(0,h.W)(C,{guildId:E.guild_id,channelId:E.id}),renderPopout:e=>(0,i.jsx)(p.Z,{location:"ThreadEmptyMessage",userId:C.id,guildId:E.guild_id,channelId:E.id,roleId:null==x?void 0:x.colorRoleId,...e}),position:"right",children:e=>(0,i.jsx)(r.Clickable,{...e,tag:"span",className:I.threadCreatorName,onContextMenu:T,children:(0,i.jsx)(r.NameWithRole,{name:N,color:null!=v?v:void 0})})})})}function T(e){let{channel:t}=e,{threadMetadata:n}=t;return null==n?(0,i.jsx)("div",{style:{marginTop:-8}}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Text,{variant:"text-md/normal",color:"header-secondary",children:(0,i.jsx)("div",{className:I.subtitle,children:C.Z.Messages.THREAD_STARTED_BY.format({usernameHook:(e,n)=>(0,i.jsx)(x,{userId:t.ownerId,channel:t},n)})})}),t.type===g.d4z.PRIVATE_THREAD?(0,i.jsx)(r.Text,{variant:"text-md/normal",color:"header-secondary",children:C.Z.Messages.EMPTY_MESSAGE_PRIVATE_THREAD_INSTRUCTIONS}):null]})}function N(e){var t;let{channel:n}=e,a=null!==(t=(0,d.KS)(n))&&void 0!==t?t:r.ThreadIcon;return(0,i.jsxs)(E.ZP,{channelId:n.id,children:[(0,i.jsx)("div",{className:I.iconWrapper,children:(0,i.jsx)(a,{className:I.icon})}),(0,i.jsx)(E.Ot,{children:n.name}),(0,i.jsx)(T,{channel:n})]})}},128557:function(e,t,n){n.d(t,{Z:function(){return L},i:function(){return j}}),n(47120),n(653041);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(77866),o=n(748780),c=n(442837),u=n(704215),d=n(481060),h=n(699682),p=n(367907),m=n(812206),_=n(644914),f=n(434404),E=n(330010),g=n(314897),C=n(430824),I=n(594174),x=n(259580),T=n(585483),N=n(63063),v=n(358085),S=n(709054),Z=n(967128),A=n(981631),M=n(231873),b=n(689938),R=n(715287);function j(e){let{className:t,iconUrl:n,icon:l,header:r,completed:o,onClick:c}=e,[u,p]=a.useState(!1),m=(0,h.Z)(o);return a.useEffect(()=>{null!=m&&o!==m&&(p(!0),setTimeout(()=>p(!1),1e3))},[o,m]),(0,i.jsxs)(d.Clickable,{className:s()(t,R.card,{[R.completed]:o}),onClick:c,children:[null!=l?l:(0,i.jsx)("div",{className:R.icon,style:{backgroundImage:"url('".concat(n,"')")}}),(0,i.jsx)(d.Text,{color:"header-primary",className:s()(R.cardTextContainer,R.cardHeader),variant:"text-sm/normal",children:r}),o?(0,i.jsx)(d.CheckmarkLargeIcon,{size:"md",color:"currentColor",className:s()(R.checkmark,{[R.animate]:u})}):(0,i.jsx)(x.Z,{className:R.arrow,direction:x.Z.Directions.RIGHT})]})}function L(e){let{channel:t}=e,l=(0,c.e7)([C.Z],()=>null!=t?C.Z.getGuild(t.getGuildId()):null,[t]),h=null!=l&&S.default.extractTimestamp(l.id)<Date.now()-A._8R,x=(0,c.e7)([g.default],()=>(null==l?void 0:l.ownerId)===g.default.getId(),[l]),{canInvite:L,canManageGuild:P,canMessage:O}=(0,_.TE)(t,l),y=(0,c.e7)([I.default],()=>{var e,t;return(null===(e=I.default.getCurrentUser())||void 0===e?void 0:e.desktop)===!0||(null===(t=I.default.getCurrentUser())||void 0===t?void 0:t.mobile)===!0}),{guildPopulated:D,guildMessaged:k,guildPersonalized:U}=(0,_.h_)(l),{handleInvite:w,handleMessage:B,handlePersonalize:H,handleDownload:G,handleAddApplication:V}=function(e){let t=a.useCallback(()=>{p.ZP.trackWithMetadata(A.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:M.Ft.CHANNEL_WELCOME,action:M.j7.INVITE}),null!=e&&(0,d.openModalLazy)(async()=>{let{default:t}=await Promise.all([n.e("7654"),n.e("17520")]).then(n.bind(n,560114));return n=>(0,i.jsx)(t,{...n,guild:e,source:A.t4x.CHANNEL_WELCOME,analyticsLocation:{section:A.jXE.CHANNEL_WELCOME_CTA}})})},[e]),l=a.useCallback(()=>{p.ZP.trackWithMetadata(A.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:M.Ft.CHANNEL_WELCOME,action:M.j7.SEND_MESSAGE}),T.S.dispatch(A.CkL.TEXTAREA_FOCUS,{highlight:!0,channelId:A.lds})},[]),s=a.useCallback(()=>{p.ZP.trackWithMetadata(A.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:M.Ft.CHANNEL_WELCOME,action:M.j7.PERSONALIZE_SERVER}),null!=e&&f.Z.open(e.id,A.pNK.OVERVIEW,{section:A.jXE.CHANNEL_WELCOME_CTA})},[e]),r=a.useCallback(()=>{p.ZP.trackWithMetadata(A.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:M.Ft.CHANNEL_WELCOME,action:M.j7.DOWNLOAD}),(0,d.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,431583));return t=>(0,i.jsx)(e,{source:A.jXE.CHANNEL_WELCOME_CTA,...t})})},[]);return{handleInvite:t,handleMessage:l,handlePersonalize:s,handleDownload:r,handleAddApplication:a.useCallback(()=>{null!=e&&(p.ZP.trackWithMetadata(A.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:M.Ft.CHANNEL_WELCOME,action:M.j7.ADD_APP}),(0,d.openModalLazy)(async()=>{let{default:t}=await n.e("77875").then(n.bind(n,657300));return n=>{var a;return(0,i.jsx)(t,{guildId:null!==(a=e.id)&&void 0!==a?a:"",...n,analyticsType:u.z.APP_DIRECTORY_SERVER_SETUP_UPSELL_MODAL})}}))},[e])}}(l),F=!(y||D||k||U),{titleAnimatedStyle:W,opacities:z}=function(e){let t=(0,r.Z)(()=>new o.Z.Value(0)),n=(0,r.Z)(()=>new o.Z.Value(0)),i=[];return i.push((0,r.Z)(()=>new o.Z.Value(0))),i.push((0,r.Z)(()=>new o.Z.Value(0))),i.push((0,r.Z)(()=>new o.Z.Value(0))),i.push((0,r.Z)(()=>new o.Z.Value(0))),a.useEffect(()=>{o.Z.stagger(300,[o.Z.parallel([o.Z.timing(n,{toValue:1,duration:450}),o.Z.timing(t,{toValue:1,duration:450})]),o.Z.stagger(100,[o.Z.timing(i[0],{toValue:1,duration:300}),o.Z.timing(i[1],{toValue:1,duration:300}),o.Z.timing(i[2],{toValue:1,duration:300}),o.Z.timing(i[3],{toValue:1,duration:300})])]).start()},[n,t,i]),{titleAnimatedStyle:e?{transform:[{translateY:t.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})}],opacity:n}:{},opacities:i}}(F),Y=(0,c.e7)([m.Z],()=>m.Z.getGuildApplicationIds(null==l?void 0:l.id)).length>0;if(a.useEffect(()=>{var e;(0,E.i)(null!==(e=null==l?void 0:l.id)&&void 0!==e?e:A.lds)},[l]),null==l)return null;let K=[];!h&&(L&&K.push((0,i.jsx)(o.Z.div,{className:R.cardWrapper,style:F?{opacity:z[K.length]}:{},children:(0,i.jsx)(j,{iconUrl:n(538548),header:b.Z.Messages.WELCOME_CTA_INVITE_TITLE,completed:D,onClick:w})},"invite")),P&&K.push((0,i.jsx)(o.Z.div,{className:R.cardWrapper,style:F?{opacity:z[K.length]}:{},children:(0,i.jsx)(j,{iconUrl:n(753033),header:b.Z.Messages.WELCOME_CTA_PERSONALIZE_TITLE,completed:U,onClick:H})},"customize")),O&&K.push((0,i.jsx)(o.Z.div,{className:R.cardWrapper,style:F?{opacity:z[K.length]}:{},children:(0,i.jsx)(j,{iconUrl:n(15717),header:b.Z.Messages.WELCOME_CTA_MESSAGE_TITLE,completed:k,onClick:B})},"message")),(0,v.isWeb)()&&K.push((0,i.jsx)(o.Z.div,{className:R.cardWrapper,style:F?{opacity:z[K.length]}:{},children:(0,i.jsx)(j,{iconUrl:n(435921),header:b.Z.Messages.WELCOME_CTA_DOWNLOAD_TITLE,completed:y,onClick:G})},"download")),K.push((0,i.jsx)(o.Z.div,{className:R.cardWrapper,style:F?{opacity:z[K.length]}:{},children:(0,i.jsx)(j,{iconUrl:n(881454),header:b.Z.Messages.WELCOME_CTA_APPS_RECOMMENDATION_TITLE,completed:Y,onClick:V})},"addapp")));let q=x?b.Z.Messages.WELCOME_CTA_SUBTITLE_OWNER:b.Z.Messages.WELCOME_CTA_SUBTITLE_MEMBER;h&&(q=b.Z.Messages.WELCOME_CTA_SUBTITLE_EXISTING_SERVER);let X="".concat(N.Z.getArticleURL(A.BhN.GUILD_GETTING_STARTED),"?utm_source=discord&utm_medium=blog&utm_campaign=2020-06_help-new-user&utm_content=--t%3Apm");return(0,i.jsx)(Z.ZP,{channelId:t.id,children:(0,i.jsx)("div",{className:R.container,children:(0,i.jsxs)("div",{className:R.inner,children:[(0,i.jsxs)(o.Z.div,{style:W,children:[(0,i.jsx)(d.Heading,{className:R.titleName,variant:"heading-xxl/semibold",children:b.Z.Messages.WELCOME_CTA_TITLE.format({guildName:l.name})}),(0,i.jsxs)(d.Text,{color:"header-secondary",className:s()({[R.subtitle]:!0,[R.noChildren]:0===K.length}),variant:"text-sm/normal",children:[q," ",K.length>0?b.Z.Messages.WELCOME_CTA_SUBTITLE_ACTION_WITH_GUIDE.format({guideURL:X}):null]})]}),K]})})})}},174130:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(502568),r=n(853856),o=n(117984),c=n(593214),u=n(362658),d=n(916069),h=n(689938);function p(e){let{channel:t}=e,{isFavoritesPerk:n}=(0,u.z)("ChannelFavoritesHeaderButton"),p=(0,d.Z)(),{notifyFavoriteAdded:m}=(0,c.up)(),_=(0,a.e7)([r.Z],()=>r.Z.isFavorite(t.id));if(!n||p)return null;let f=_?l.StarIcon:l.StarOutlineIcon,E=_?h.Z.Messages.UNFAVORITE_CHANNEL:h.Z.Messages.FAVORITE_CHANNEL;return(0,i.jsx)(s.ZP.Icon,{icon:f,tooltip:E,"aria-label":E,onClick:()=>{_?(0,o.oC)(t.id):(m(),(0,o.kj)(t.id))}})}},961675:function(e,t,n){n(47120);var i,a=n(442837),l=n(570140);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let r=new Set;class o extends(i=a.ZP.PersistedStore){initialize(e){null!=e&&(r=new Set(e))}hasHidden(e){return r.has(e)}getState(){return r}}s(o,"displayName","ForumChannelAdminOnboardingGuideStore"),s(o,"persistKey","ForumChannelAdminOnboardingGuideStore"),t.Z=new o(l.Z,{ADMIN_ONBOARDING_GUIDE_HIDE:function(e){let{channelId:t,hide:n}=e;n?r.add(t):r.delete(t)}})},257511:function(e,t,n){n.d(t,{Z:function(){return s}}),n(47120);var i=n(735250);n(470079);var a=n(479099),l=n(28264);function s(e){let{appliedTags:t,setAppliedTags:n}=e,s=null!=n?e=>{t.has(e)&&(t.delete(e),n(new Set(t)))}:void 0;return(0,i.jsx)("div",{className:l.tags,children:Array.from(t).map(e=>(0,i.jsx)(a.Z,{tag:e,onRemove:s,size:null==s?a.Z.Sizes.SMALL:a.Z.Sizes.MEDIUM},e.id))})}},432771:function(e,t,n){n.d(t,{c:function(){return s}});var i=n(913527),a=n.n(i),l=n(709054);let s=e=>{let t=l.default.extractTimestamp(e);return!a()().isBefore(a()(t).add(a().duration(15,"days")))}},62764:function(e,t,n){n.d(t,{Z:function(){return j}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(852229),o=n(442837),c=n(481060),u=n(393238),d=n(330726),h=n(48929),p=n(333535),m=n(566006),_=n(443877),f=n(60174),E=n(216337),g=n(920888),C=n(287151),I=n(569471),x=n(346479),T=n(592125),N=n(934415),v=n(456269),S=n(109590),Z=n(228392),A=n(981631),M=n(689938),b=n(349369),R=n(704963);function j(e){let{postId:t,isFirstMessage:n,isLastItem:l=!1,parentChannelId:j}=e,{ref:L,width:P}=(0,u.Z)(),[O,y]=a.useState(3),[D,k]=a.useState(!n),[U,w]=(0,d.Z)(!1,2e3),B=(0,o.e7)([T.Z],()=>T.Z.getChannel(t),[t]),{firstMessage:H}=(0,S.cl)(B),G=(0,o.e7)([I.Z],()=>I.Z.hasJoined(t)),{disableReactionUpdates:V,disableReactionCreates:F,isLurking:W,isGuest:z,isPendingMember:Y}=(0,_.Z)(B),K=(0,o.e7)([T.Z],()=>T.Z.getChannel(j)),q=(0,v.Bs)(K),X=(0,o.e7)([h.Z],()=>h.Z.shouldDisplayPrompt(t)&&!0===n,[t,n]),Q=a.useCallback(e=>{let t=e[0];if(null!=t&&n){let e=t.intersectionRect,n=t.boundingClientRect;k((e.bottom-e.top)/(n.bottom-n.top)<1)}},[n]);a.useLayoutEffect(()=>{let e=L.current;if(null==e||!n)return;let t=new IntersectionObserver(Q,{threshold:1});return t.observe(e),()=>{t.disconnect()}});let[J,$]=a.useState(!0);if(a.useEffect(()=>{if(null!=P)y(Math.floor((P-280)/58)),$(!1)},[P]),null==B||null==H)return null;let ee=H.reactions.length>0,et=()=>{G?x.Z.leaveThread(B,"Forum Toolbar"):x.Z.joinThread(B,"Forum Toolbar")},en=()=>{(0,Z.B)({postId:B.id,location:{section:A.jXE.CHANNEL_HEADER}}),(0,r.J)((0,N.EO)(B,K)),w(!0)},ei=G?c.CheckmarkLargeIcon:c.BellIcon;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:s()(b.container,{[b.header]:D}),ref:L,children:[(0,i.jsxs)("div",{className:s()(b.reactButtons,{[b.loading]:J}),children:[!ee&&!F&&null!=q&&(0,i.jsx)("div",{className:R.reactions,children:(0,i.jsx)(C.le,{message:H,readOnly:!1,useChatFontScaling:!1,isLurking:W,isGuest:z,isPendingMember:Y,emoji:q,type:m.O.NORMAL,hideCount:!0,count:0,me:!1,burst_count:0,me_burst:!1})}),(0,i.jsx)(g.Z,{message:H,channel:B,disableReactionCreates:!0,disableReactionUpdates:V,isLurking:W,isGuest:z,isPendingMember:Y,maxReactions:O,className:b.reactions,useChatFontScaling:!1,isForumToolbar:!0,forceHideReactionCreates:!0}),!F&&(0,i.jsx)(f.X,{type:m.O.NORMAL,message:H,channel:B,useChatFontScaling:!1,className:b.addReactButton,isForumToolbar:!0,children:!ee&&M.Z.Messages.FORUM_REACT_TO_POST})]}),(0,i.jsxs)("div",{className:b.buttons,children:[(0,i.jsx)(c.Tooltip,{text:M.Z.Messages.FORUM_FOLLOW_TOOLTIP,children:e=>(0,i.jsxs)(c.Button,{...e,look:c.Button.Looks.BLANK,size:c.Button.Sizes.SMALL,onClick:et,className:b.button,innerClassName:s()(b.buttonInner,{[b.active]:G}),children:[(0,i.jsx)(ei,{size:"xs",color:"currentColor"}),G?M.Z.Messages.FORUM_FOLLOWING_POST:M.Z.Messages.FOLLOW]})}),(0,i.jsx)(c.Tooltip,{text:M.Z.Messages.COPY_LINK,children:e=>(0,i.jsxs)(c.Button,{...e,look:c.Button.Looks.BLANK,size:c.Button.Sizes.SMALL,onClick:en,className:b.button,innerClassName:b.buttonInner,children:[U?(0,i.jsx)(c.CheckmarkLargeIcon,{size:"custom",color:"currentColor",width:16,height:16}):(0,i.jsx)(c.LinkIcon,{size:"custom",color:"currentColor",width:16,height:16}),U?M.Z.Messages.COPIED:null]})})]})]}),X&&(0,i.jsx)(p.Z,{threadId:t}),(0,i.jsx)(E.Z,{channel:B,isLastItem:l})]})}},588322:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(735250),a=n(470079),l=n(442837),s=n(239091),r=n(561472),o=n(933557),c=n(287746),u=n(541716),d=n(910611),h=n(703656),p=n(664342),m=n(592125),_=n(703558),f=n(430824),E=n(502568),g=n(228392),C=n(689938),I=n(656437);function x(e){let{channelId:t}=e,x=(0,l.e7)([m.Z],()=>m.Z.getChannel(t)),T=(0,l.e7)([m.Z],()=>m.Z.getChannel(null==x?void 0:x.parent_id)),N=(0,l.e7)([f.Z],()=>f.Z.getGuild(null==x?void 0:x.getGuildId())),v=(0,o.ZP)(x),S=a.useRef(!1);if(a.useEffect(()=>{null!=x&&!S.current&&(S.current=!0,(0,g.lN)(x))},[x]),null==x||null==N)return null;let Z=(0,i.jsx)(p.Z,{channel:x});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Z,{channel:x,draftType:_.d.ChannelMessage}),(0,i.jsx)(E.ZP,{toolbar:Z,"aria-label":C.Z.Messages.THREAD_HEADER_BAR_A11Y_LABEL,children:(0,d.ud)({channel:x,parentChannel:T,channelName:v,guild:N,inSidebar:!0,handleContextMenu:function(e){(0,s.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return t=>(0,i.jsx)(e,{...t,channel:x})})},handleClick:function(){null!=x&&(0,h.XU)(x.guild_id,x.id)}})}),(0,i.jsx)("div",{className:I.chat,children:(0,i.jsx)(c.Z,{channel:x,guild:N,chatInputType:u.I.SIDEBAR},t)})]})}},257115:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(927923),a=n(689938);function l(e){switch(e){case i.YE.XBOX:return a.Z.Messages.XBOX_REMOTE_CONNECTED_RAW;case i.YE.PLAYSTATION:return a.Z.Messages.PLAYSTATION_REMOTE_CONNECTED_RAW}}},43982:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var a=n(512722),l=n.n(a),s=n(392711),r=n.n(s),o=n(970731),c=n(981631),u=n(689938),d=n(623829),h=n(480032),p=n(699352);let m=null;function _(e){let{onDismiss:t,onAccept:n,popoutPosition:a,gameConsoleAccounts:s}=e;l()(s.length>0,"Rendering ConsoleNUXTooltip without a game console account"),(null==m||null==s.find(e=>e.type===m))&&(m=r().shuffle(s)[0].type);let _=null,f=null;switch(m){case c.ABu.XBOX:_=u.Z.Messages.CONSOLE_NUX_TOOLTIP_BODY_XBOX,f=p;break;case c.ABu.PLAYSTATION:case c.ABu.PLAYSTATION_STAGING:_=u.Z.Messages.CONSOLE_NUX_TOOLTIP_BODY_PS5,f=h}return(0,i.jsx)(o.ZP,{header:u.Z.Messages.CONSOLE_NUX_TOOLTIP_HEADER,content:_,asset:(0,i.jsx)("img",{src:f,alt:"",className:d.art}),onClick:n,onSecondaryClick:t,markAsDismissed:t,buttonCTA:u.Z.Messages.CONSOLE_NUX_TOOLTIP_ACCEPT,secondaryButtonCTA:u.Z.Messages.CONSOLE_NUX_TOOLTIP_DISMISS,caretPosition:"top"===a?o.DF.BOTTOM_LEFT:o.DF.TOP_LEFT})}},276598:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120),n(653041);var i=n(735250),a=n(470079),l=n(442837),s=n(704215),r=n(481060),o=n(358221),c=n(243778),u=n(390322),d=n(871499),h=n(819640),p=n(797258),m=n(446226),_=n(937393),f=n(43982),E=n(721351),g=n(420529),C=n(927923),I=n(981631),x=n(921944),T=n(689938),N=n(40275);function v(e){let{onClose:t,channel:n}=e,a=(0,g.Z)(n);return(0,i.jsx)(r.Menu,{onClose:t,onSelect:()=>null,navId:"transfer-menu","aria-label":T.Z.Messages.TRANSFER,children:a})}function S(e){let{channel:t,showLeftDivider:n=!1,...g}=e,S=(0,m.Z)(),Z=(0,l.e7)([p.Z],()=>{var e,t;return null===(e=p.Z.getSessionById(null!==(t=null==S?void 0:S.sessionId)&&void 0!==t?t:""))||void 0===e?void 0:e.clientInfo.os}),A=(0,l.e7)([h.Z],()=>h.Z.hasLayers()),[M,b]=(0,l.Wu)([o.Z],()=>[o.Z.getMode(t.id),o.Z.getLayout(t.id)]),R=(0,r.useModalsStore)(r.hasAnyModalOpenSelector),j=(0,_.Z)(),L=j.filter(e=>e.twoWayLink),[P,O]=a.useState(!1);if(null==S&&0===j.length||t.isBroadcastChannel())return null;let y=I.WtW.VOICE!==M&&[I.AEg.NO_CHAT,I.AEg.FULL_SCREEN].includes(b)?"top":"bottom",D=[];return L.length>0&&D.push(s.z.DONUT_DESKTOP_NUX),(0,i.jsx)(c.Z,{contentTypes:D,children:e=>{let{visibleContent:a,markAsDismissed:l}=e,o=a===s.z.DONUT_DESKTOP_NUX;return(0,i.jsxs)(i.Fragment,{children:[n?(0,i.jsx)("div",{className:N.leftDivider}):null,(0,i.jsx)(r.Popout,{position:y,spacing:o?16:void 0,positionKey:"".concat(M,":").concat(b),onRequestClose:()=>O(!1),shouldShow:(o||P)&&!A&&!R,renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(u.Z,{children:o?(0,i.jsx)(f.Z,{popoutPosition:y,onDismiss:()=>l(x.L.UNKNOWN),onAccept:()=>{l(x.L.UNKNOWN),O(!0)},gameConsoleAccounts:L}):(0,i.jsx)(v,{onClose:()=>{n()},channel:t})})},children:e=>{var t;return(0,i.jsx)(d.Z,{...e,...g,onClick:()=>O(!0),label:null!=(t=Z)?t===C.YE.XBOX?T.Z.Messages.XBOX_REMOTE_CONNECTED_RAW:T.Z.Messages.PLAYSTATION_REMOTE_CONNECTED_RAW:T.Z.Messages.CONSOLE_TRANSFER,iconComponent:(0,E.Z)(Z)})}})]})}})}},475674:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(442837),a=n(199902),l=n(314897),s=n(858340),r=n(959457),o=n(557457),c=n(614963),u=n(981631);function d(e){let t=(0,o.Wc)(e),n=e.stream.guildId,d=e.stream.ownerId;return(0,i.e7)([r.Z,s.Z,l.default,a.Z],()=>{if(null==d)return null;let e=d===l.default.getId();if(!e&&null==a.Z.getActiveStreamForUser(d,n))return null;let i=e&&null!=s.Z.getHookError(u.K3D.SOUND);return(0,c.Z)(r.Z.getQuality(),r.Z.getStatsHistory(n,d,e),i,t)},[t,n,d])}},718805:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(569545),a=n(382182),l=n(981631),s=n(689938);function r(e,t,n,r){return null==t||t.state===l.jm8.ENDED||(0,i.V9)(t)!==(0,i.V9)(e)?(0,a.P9)(r):t.ownerId===n?s.Z.Messages.WATCH_STREAM_STREAMING:s.Z.Messages.WATCH_STREAM_WATCHING}},614963:function(e,t,n){n.d(t,{Z:function(){return p}});var i,a,l=n(251625),s=n(823379),r=n(981631),o=n(689938);function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return e<=5?3:e<=15?10:15}function u(e,t){let n={packetsSentOrReceived:0,packetsLost:0,packetLossRate:0,frameRate:0,resolution:0,numDatapoints:0},i=e.slice(-1*t).filter(s.lm);if(0===i.length)return{type:"streamer",...n};i.forEach((e,t,i)=>{n.packetsSentOrReceived+=t>0?i[t].packetsSentOrReceived-i[t-1].packetsSentOrReceived:0,n.packetsLost+=t>0?i[t].packetsLost-i[t-1].packetsLost:0,n.frameRate+=e.frameRate,n.resolution+=e.resolution});let a=i[0].type,l=i.length;return{type:a,packetsSentOrReceived:n.packetsSentOrReceived,packetsLost:n.packetsLost,packetLossRate:n.packetsLost/(n.packetsLost+n.packetsSentOrReceived),frameRate:n.frameRate/l,resolution:n.resolution/l,numDatapoints:l}}(i=a||(a={})).PACKET_LOSS="Packet Loss",i.FRAME_RATE_INPUT="Frame Rate Encode",i.FRAME_RATE_NETWORK="Frame Rate Decode",i.SOUNDSHARE_FAILED="Soundshare Failed",i.BAD_CONNECTION="Bad Connection";let d=(0,l.oH)((e,t)=>({message:e,errorType:t}));function h(e,t){if("streamer"===e.type){if(100*e.packetLossRate>10)return d(o.Z.Messages.STREAM_BAD_STREAMER,"Packet Loss");if(e.frameRate<=c(t))return d(o.Z.Messages.STREAM_BAD_STREAMER,"Frame Rate Encode")}else{if(100*e.packetLossRate>10)return d(o.Z.Messages.STREAM_BAD_SPECTATOR,"Packet Loss");if(e.frameRate<=c(t))return d(o.Z.Messages.STREAM_BAD_SPECTATOR,"Frame Rate Decode")}return null}function p(e,t,n,i){if(n)return d(o.Z.Messages.STREAM_SOUNDSHARE_FAILED,"Soundshare Failed");if(null!=t){let e=u(t,5),n=u(t,30);if(n.numDatapoints>=5){var a;return null!==(a=h(e,null==i?void 0:i.maxFrameRate))&&void 0!==a?a:h(n,null==i?void 0:i.maxFrameRate)}}return e===r.IE4.BAD?d(o.Z.Messages.STREAM_NETWORK_QUALITY_ERROR,"Bad Connection"):null}},871118:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(543882),u=n(592125),d=n(496675),h=n(981631),p=n(689938),m=n(654984);function _(e){let{isLoading:t,noText:n,previewText:a,className:l}=e;return(0,i.jsx)("div",{className:s()(m.emptyPreviewContainer,l),children:t?(0,i.jsx)(o.Spinner,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:m.emptyPreviewImage}),n?null:(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"none",className:m.emptyPreviewText,children:null!=a?a:p.Z.Messages.STREAM_NO_PREVIEW})]})})}function f(e){let{stream:t,className:n,noText:l=!1}=e,o=(0,r.e7)([u.Z],()=>u.Z.getBasicChannel(t.channelId)),f=(0,r.e7)([d.Z],()=>null!=o&&d.Z.canBasicChannel(h.S7T.CONNECT,o)),{url:E,isLoading:g}=(0,r.cj)([c.Z],()=>({url:f?c.Z.getPreviewURL(t.guildId,t.channelId,t.ownerId):null,isLoading:f&&c.Z.getIsPreviewLoading(t.guildId,t.channelId,t.ownerId)})),C=a.useRef(g?null:E);a.useEffect(()=>{!g&&(C.current=E)},[E,g]);let I=null==E||g?C.current:E;return null==I?(0,i.jsx)(_,{className:n,isLoading:g,noText:l,previewText:f?void 0:p.Z.Messages.STREAM_NO_PERMISSION_CTA}):(0,i.jsx)("div",{className:s()(n,m.root),children:(0,i.jsx)("img",{src:I,alt:"",className:m.image})})}},701362:function(e,t,n){n.d(t,{Z:function(){return b}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(717881),u=n(58540),d=n(850827),h=n(258609),p=n(199902),m=n(314897),_=n(430824),f=n(496675),E=n(158776),g=n(979651),C=n(387204),I=n(626135),x=n(382182),T=n(687516),N=n(718805),v=n(871118),S=n(981631),Z=n(689938),A=n(143046);class M extends a.PureComponent{componentDidMount(){let{user:e,streamApplication:t}=this.props;I.default.track(S.rMx.OPEN_POPOUT,{type:"Stream Preview",other_user_id:e.id,application_id:null!=t?t.id:null,application_name:null!=t?t.name:null,game_id:null!=t?t.id:null,is_streaming:!0})}renderPreview(e){let{onWatch:t,activeStream:n,currentUserId:a,canWatch:l,unavailableReason:s}=this.props;return(0,i.jsxs)(o.Clickable,{onClick:t,className:A.previewContainer,children:[(0,i.jsx)(v.Z,{className:A.previewImage,stream:e}),l?(0,i.jsx)("div",{className:A.previewHover,children:(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"none",className:A.white,children:(0,N.Z)(e,n,a,s)})}):null]})}render(){let{activity:e,user:t,stream:n,previewIsOpen:a}=this.props;return null==n?null:(0,i.jsx)("div",{className:s()(A.streamPreviewWrapper,{[A.mounted]:a}),children:(0,i.jsxs)("div",{className:A.streamPreview,children:[this.renderPreview(n),(0,i.jsxs)("div",{className:A.body,children:[null!=e?(0,i.jsx)(c.Z,{hideHeader:!0,type:c.P.STREAM_PREVIEW,activity:e,user:t,guildId:n.guildId,channelId:n.channelId,analyticsParams:{location:{page:S.ZY5.GO_LIVE_MODAL,section:S.jXE.STREAM_VIEWER_POPOUT}}}):(0,i.jsx)(d.Z,{type:c.P.STREAM_PREVIEW,applicationStream:n,user:t,guildId:n.guildId,channelId:n.channelId,className:A.activityActions,color:A.watchButton}),(0,i.jsx)(C.Z,{type:C.Z.Types.INLINE,className:A.protip,children:__OVERLAY__?Z.Z.Messages.WATCH_STREAM_IN_APP:Z.Z.Messages.WATCH_STREAM_TIP})]})]})})}}function b(e){let{user:t,channel:n,...l}=e,[s,o]=(0,r.Wu)([g.Z,_.Z,f.Z,h.Z],()=>(0,x.p9)(n,g.Z,_.Z,f.Z,h.Z)),c=(0,r.e7)([p.Z],()=>p.Z.getStreamForUser(t.id,n.getGuildId())),d=(0,r.e7)([p.Z],()=>p.Z.getActiveStreamForApplicationStream(c)),C=(0,r.e7)([m.default],()=>m.default.getId()),I=(0,T.Cf)(c),N=(0,r.e7)([E.Z],()=>(0,T.Um)(c,E.Z)),v=a.useMemo(()=>({[n.guild_id]:[t.id]}),[n.guild_id,t.id]);return(0,u.$)(v),(0,i.jsx)(M,{...l,canWatch:s,unavailableReason:o,user:t,streamApplication:I,stream:c,activeStream:d,currentUserId:C,activity:N})}},517525:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(920906),o=n(468194),c=n(442837),u=n(692547),d=n(477690),h=n(481060),p=n(2052),m=n(906732),_=n(484459),f=n(594174),E=n(368666),g=n(626135),C=n(74538),I=n(557457),x=n(475674),T=n(981631),N=n(474936),v=n(689938),S=n(244438);let Z=(0,o.Mg)(d.Z.LIVE_INDICATOR_BORDER_RADIUS),A={opacity:0,transform:"translate3d(100%, 0, 0)"},M={opacity:1,transform:"translate3d(0%, 0, 0)"},b={opacity:0},R={opacity:1},j={borderRadius:"".concat(Z,"px ").concat(Z,"px ").concat(Z,"px ").concat(Z,"px")},L={borderRadius:"0px ".concat(Z,"px ").concat(Z,"px 0px")},P={mass:1,tension:500,friction:18,clamp:!0},O=e=>{let t,l,{participant:r,isUpsellEnabled:o,shape:d,size:_,didTrackUpsellViewed:Z,setDidTrackUpsellViewed:A,className:M,premiumIndicator:b}=e,R=(0,I.Wc)(r),{analyticsLocations:j}=(0,m.ZP)(),L=null!=(0,x.Z)(r);try{t=(0,I.nG)(R)}catch(e){t=!1}try{l=(0,I.tR)(R)}catch(e){l=!1}let P=t||l,{location:O}=(0,p.O)(),y=(0,c.e7)([f.default],()=>f.default.getCurrentUser()),D=o&&!C.ZP.isPremium(y,N.p9.TIER_1)&&!C.ZP.canStreamQuality(C.ZP.StreamQuality.MID,y),k=a.useCallback(()=>{D&&P&&(0,h.openModalLazy)(async()=>{let{default:e}=await n.e("28479").then(n.bind(n,78865));return t=>(0,i.jsx)(e,{...t,analyticsSource:O})})},[D,P,O]);if(a.useEffect(()=>{!Z&&P&&(g.default.track(T.rMx.PREMIUM_UPSELL_VIEWED,{type:N.cd.STREAM_QUALITY_INDICATOR,has_premium_stream_fps:t,has_premium_stream_resolution:l,location_stack:j}),A(!0))},[t,l,P,Z,A,j]),null==R)return null;let U=(0,i.jsx)(h.Tooltip,{text:L?v.Z.Messages.SCREENSHARE_QUALITY_TOOLTIP_REDUCED:P?v.Z.Messages.SCREENSHARE_QUALITY_TOOLTIP_PREMIUM:v.Z.Messages.SCREENSHARE_QUALITY_TOOLTIP_NORMAL,position:"bottom",color:h.Tooltip.Colors.GREY,children:e=>(0,i.jsxs)(h.Clickable,{...e,onClick:k,className:s()(S.qualityIndicator,_,E.eE[d],L?S.qualityIndicatorLowQuality:S.qualityIndicatorFullQuality,{[S.clickable]:D&&P}),children:[P?(0,i.jsx)(h.NitroWheelIcon,{size:"md",color:"currentColor",className:S.premiumStreamIcon}):null,(0,i.jsx)("span",{className:S.qualityResolution,children:(0,I.ml)(R.maxResolution)}),(0,i.jsx)("span",{children:(0,I.bp)(R.maxFrameRate)})]})});return(0,i.jsx)(h.TextBadge,{text:U,className:s()(M,S.qualityIndicatorBadge,{[S.qualityIndicatorBadgePremium]:b}),color:u.Z.unsafe_rawColors.PRIMARY_500.css,shape:d})};t.Z=e=>{let{participant:t,showQuality:n,isUpsellEnabled:l=!0,size:o,className:c,premiumIndicator:u}=e,[d,p]=a.useState(!1),m=(0,I.Wc)(t),{reducedMotion:f}=a.useContext(h.AccessibilityPreferencesContext),g=n&&null!=m;a.useEffect(()=>{(0,_.Z)(t.stream.ownerId,t.user.getAvatarURL(t.stream.guildId,80),{dispatchWait:!0})},[t]);let C=(0,r.useTransition)(g,{enter:{from:f.enabled?b:A,to:f.enabled?R:M},leave:f.enabled?b:A,config:P}),x=(0,r.useSpring)({to:g?L:j,config:P});return(e=>{let{className:n,popoutProps:a}=e;return(0,i.jsxs)("div",{className:s()(S.streamQualityIndicator,n),...a,children:[C((e,n)=>n?(0,i.jsx)(r.animated.div,{style:e,children:(0,i.jsx)(O,{className:S.liveQualityIndicator,participant:t,size:o,shape:h.BadgeShapes.ROUND_LEFT,isUpsellEnabled:l,didTrackUpsellViewed:d,setDidTrackUpsellViewed:p,premiumIndicator:u})}):null),(0,i.jsx)(r.animated.div,{style:x,className:S.liveIndicator,children:(0,i.jsx)(E.ZP,{look:E.jZ.RED,size:o,shape:g?h.BadgeShapes.ROUND_RIGHT:h.BadgeShapes.ROUND})})]})})({className:c})}},989941:function(e,t,n){let i;n.d(t,{Z:function(){return l}});var a=n(145597);function l(e,t){if(__OVERLAY__){let e=t.getGame(),n=(0,a.QF)();return null==e||null==n?null:(null==i?void 0:i.id)===e.id&&(null==i?void 0:i.pid)===n?i:i={id:e.id,pid:n,pidPath:[],nativeProcessObserverId:0,hidden:!1,elevated:!1,name:e.name,lastFocused:0,exePath:"",exeName:"",cmdLine:"",processName:"",distributor:null,windowHandle:null,fullscreenType:0}}return e.getVisibleGame()}},93687:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2024-04_gdm_presence",label:"Group DM Presence",defaultConfig:{isFacepileEnabled:!1,isStatusIndicatorEnabled:!1,isTypingIndicatorEnabled:!1},treatments:[{id:1,label:"Status Indicator Only",config:{isFacepileEnabled:!1,isStatusIndicatorEnabled:!0,isTypingIndicatorEnabled:!1}},{id:2,label:"Typing Indicator Only",config:{isFacepileEnabled:!1,isStatusIndicatorEnabled:!1,isTypingIndicatorEnabled:!0}},{id:3,label:"Status Indicator + Typing Indicator",config:{isFacepileEnabled:!1,isStatusIndicatorEnabled:!0,isTypingIndicatorEnabled:!0}},{id:4,label:"Facepile Only",config:{isFacepileEnabled:!0,isStatusIndicatorEnabled:!1,isTypingIndicatorEnabled:!1}},{id:5,label:"Facepile + Status Indicator",config:{isFacepileEnabled:!0,isStatusIndicatorEnabled:!0,isTypingIndicatorEnabled:!1}},{id:6,label:"Facepile + Typing Indicator",config:{isFacepileEnabled:!0,isStatusIndicatorEnabled:!1,isTypingIndicatorEnabled:!0}},{id:7,label:"Facepile + Typing Indicator + Status Indicator",config:{isFacepileEnabled:!0,isStatusIndicatorEnabled:!0,isTypingIndicatorEnabled:!0}}]});t.Z=i},266076:function(e,t,n){var i=n(735250),a=n(470079),l=n(481060),s=n(43267),r=n(93687),o=n(785232);t.Z=a.memo(function(e){let{channel:t,size:n,facepileSizeOverride:a,experimentLocation:c,isTyping:u,status:d,className:h,animated:p=!1,...m}=e,{isFacepileEnabled:_}=r.Z.useExperiment({location:c},{autoTrackExposure:!0});return t.recipients.length>=2&&_&&null==t.icon?(0,i.jsx)(o.Z,{"aria-label":m["aria-label"],"aria-hidden":m["aria-hidden"],className:h,recipients:t.recipients,size:null!=a?a:n,isTyping:u,status:d}):(0,i.jsx)(l.Avatar,{"aria-hidden":m["aria-hidden"],"aria-label":m["aria-label"],className:h,size:n,src:(0,s.x)(t,80,p)})})},785232:function(e,t,n){var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(594174),r=n(429239);t.Z=function(e){let{recipients:t,size:n,status:o,isTyping:c,className:u,...d}=e,h=l.AvatarSizeSpecs[n],p=(0,a.Wu)([s.default],()=>t.slice(0,2).map(e=>{let t=s.default.getUser(e);if(null!=t)return t.getAvatarURL(void 0,h.size,!1)}),[t,h.size]);return(0,i.jsx)(r.Z,{"aria-label":d["aria-label"],"aria-hidden":d["aria-hidden"],backSrc:p[0],frontSrc:p[1],size:n,status:o,isTyping:null!=c&&c,className:u})}},440493:function(e,t,n){var i;n.d(t,{r:function(){return i}}),(i||(i={})).REAL_NAME_PROMPT="REAL_NAME_PROMPT"},445384:function(e,t,n){var i=n(570140);t.Z={viewPrompt:function(e,t){i.Z.wait(()=>{i.Z.dispatch({type:"GUILD_PROMPT_VIEWED",prompt:e,guildId:t})})}}},420438:function(e,t,n){n(47120);var i,a=n(442837),l=n(570140);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let r={};class o extends(i=a.ZP.PersistedStore){initialize(e){for(let t in e){let n=e[t];r[t]=new Set(n)}}hasViewedPrompt(e,t){let n=r[t];return null!=n&&(!!n.has(e)||!1)}getState(){return r}}s(o,"displayName","GuildPromptsStore"),s(o,"persistKey","GuildPromptsStore"),t.Z=new o(l.Z,{GUILD_PROMPT_VIEWED:function(e){let{prompt:t,guildId:n}=e,i=r[n];return null==i?(r[n]=new Set,r[n].add(t),!0):!i.has(t)&&(i.add(t),!0)},GUILD_DELETE:function(e){let{guild:t}=e;return null!=r[t.id]&&!t.unavailable&&(delete r[t.id],!0)}})},232961:function(e,t,n){n.d(t,{I:function(){return a}});var i=n(570140);function a(e){i.Z.dispatch({type:"REMOVE_AUTOMOD_MESSAGE_NOTICE",messageId:e})}},521476:function(e,t,n){n.d(t,{h:function(){return h}}),n(47120);var i=n(735250);n(470079);var a=n(481060),l=n(100527),s=n(906732),r=n(545594),o=n(295474),c=n(981631),u=n(689938),d=n(959417);function h(e){var t,n;let{guild:h}=e,{analyticsLocations:p}=(0,s.ZP)(l.Z.AUTOMOD_PROFILE_QUARANTINE_ALERT),[m,_]=(0,o.ww)({guildId:null!==(t=null==h?void 0:h.id)&&void 0!==t?t:c.lds,analyticsLocations:p,openWithoutBackstack:!0}),f=_?u.Z.Messages.GUILD_AUTOMOD_PROFILE_INVALID_DESCRIPTION:u.Z.Messages.GUILD_AUTOMOD_PROFILE_INVALID_NO_PERMS_DESCRIPTION,E=_?u.Z.Messages.GUILD_AUTOMOD_UPDATE_PROFILE_CTA:u.Z.Messages.GUILD_AUTOMOD_UPDATE_ACCOUNT_USERNAME_CTA;return(0,i.jsx)("div",{children:(0,i.jsx)(r.i,{bannerIcon:(0,i.jsx)(a.ChatXIcon,{size:"lg",color:"currentColor",className:d.bannerIcon}),bannerHeader:u.Z.Messages.GUILD_AUTOMOD_PROFILE_INVALID_MODAL_TITLE_MOBILE.format({guildName:null!==(n=null==h?void 0:h.name)&&void 0!==n?n:""}),bannerSubtext:f,containerStyles:d.bannerContainer,headerStyles:d.bannerHeader,children:(0,i.jsx)(a.Button,{onClick:()=>{m()},size:a.Button.Sizes.SMALL,children:E})})})}},251794:function(e,t,n){n.d(t,{q:function(){return s},z:function(){return l}});var i=n(735250);n(470079);var a=n(481060);function l(e,t,l){(0,a.openModalLazy)(async()=>{let{default:a}=await n.e("72920").then(n.bind(n,109730));return n=>(0,i.jsx)(a,{guildId:e,userId:t,anaylticsLocations:l,...n})})}function s(e,t,l){(0,a.openModalLazy)(async()=>{let{default:a}=await n.e("76233").then(n.bind(n,171494));return n=>(0,i.jsx)(a,{guildId:e,userId:t,anaylticsLocations:l,...n})})}},322937:function(e,t,n){n.d(t,{$:function(){return s}});var i=n(470079),a=n(774078),l=n(202107);function s(e){let{communicationDisabledUntil:t,userId:n,guildId:s}=null!=e?e:{},r=(0,a.Z)(null!=t?Date.parse(t):Date.now()),o=r.seconds,c=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(null==e||null==s||null==n){clearTimeout(c.current);return}return o<=0&&null==c.current&&(c.current=setTimeout(()=>{l.Z.clearGuildMemberTimeout(s,n)},1e3)),()=>{null!=c.current&&(clearTimeout(c.current),c.current=null)}},[s,n,o,t,e]),r}},185145:function(e,t,n){n.d(t,{T:function(){return f}}),n(47120);var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(545594),r=n(314897),o=n(271383),c=n(373791),u=n(322937),d=n(134049),h=n(893732),p=n(590433),m=n(689938),_=n(327820);function f(e){let{guild:t,disabledUntil:n}=e,[f,E]=(0,d.i)(t.id),g=(0,a.e7)([o.ZP,r.default],()=>o.ZP.getMember(t.id,r.default.getId()),[t.id]);return(0,u.$)(g),(0,i.jsxs)("div",{children:[f?(0,i.jsx)(h.Z,{onClose:()=>E(t.id),guildName:t.name}):null,(0,i.jsx)(s.i,{bannerIcon:(0,i.jsx)(l.ClockWarningIcon,{size:"md",color:"currentColor",className:_.bannerIcon}),bannerHeader:m.Z.Messages.GUILD_COMMUNICATION_DISABLED_NOTICE_HEADER,bannerSubtext:m.Z.Messages.GUILD_COMMUNICATION_DISABLED_CHAT_NOTICE_DESCRIPTION.format({link:p.cu}),containerStyles:_.bannerContainer,headerStyles:_.bannerHeader,children:(0,i.jsx)(l.Text,{variant:"text-sm/semibold",children:(0,i.jsx)(c.Z,{deadline:new Date(n),showUnits:!0,stopAtOneSec:!0})})})]})}},893732:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(481060),l=n(689938),s=n(695584);function r(e){let{onClose:t,guildName:n}=e;return(0,i.jsxs)("div",{className:s.container,children:[(0,i.jsx)("div",{className:s.iconContainer,children:(0,i.jsx)(a.ClockWarningIcon,{size:"custom",color:"currentColor",className:s.icon,width:20,height:20})}),(0,i.jsxs)("div",{className:s.header,children:[(0,i.jsx)(a.Heading,{variant:"heading-md/semibold",className:s.headerText,children:l.Z.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_HEADER}),(0,i.jsx)(a.Text,{variant:"text-sm/normal",children:l.Z.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_SUBHEADER.format({guildName:n})}),(0,i.jsx)(a.Button,{onClick:t,className:s.button,children:l.Z.Messages.OKAY})]})]})}},356778:function(e,t,n){n.d(t,{II:function(){return p},Ow:function(){return C},P2:function(){return T},mw:function(){return i},z0:function(){return I}}),n(47120);var i,a,l=n(470079),s=n(652874),r=n(143927),o=n(570140),c=n(110924),u=n(840877),d=n(952537),h=n(981631);let p=-1;(a=i||(i={})).MESSAGES="messages",a.LINKS="links",a.MEDIA="media",a.ALL_COUNTS="all_counts";function m(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=JSON.stringify(i);return a?"guild_".concat(t,"_search_tab_").concat(n,"_for_").concat(e,"_with_additonal_").concat(l):"guild_".concat(t,"_search_").concat(n,"_for_").concat(e,"_with_additonal_").concat(l)}let _={searchFetcher:null,searchTabFetcher:null,result:null,messageCount:p,lastMessage:null},f=(0,s.Z)(()=>new Map),E=(e,t)=>{f.setState(n=>{let i=n.get(e);return null==i?n.set(e,{..._,...t}):n.set(e,{...i,...t}),n})},g=e=>f(t=>t.get(e),r.Z);function C(e,t,n){let i=null!=n?n:{};switch(t){case"links":return{author_id:e,has:["link"],...i};case"media":return{author_id:e,attachment_extension:["png","jpg","webp","mov","mp4","gif","mp3","wav","flac","ogg"],...i};case"all_counts":return{author_id:[e],limit:1,cursor:null,...i};default:return{author_id:e,...i}}}function I(e,t,n){return function(e,t,n,i){let{addtionalQuery:a,shouldDispatch:s=!1}=i,r=l.useMemo(()=>m(e,t,n,a),[e,t,n,a]),f=g(r),I=(0,c.Z)(r),[x,T]=l.useState({});return l.useEffect(()=>{if(I!==r){let i=C(e,n,a),l=new u.ZP(t,h.aib.GUILD,i);E(r,{searchFetcher:l,messageCount:p,lastMessage:null}),setTimeout(()=>{l.fetch(e=>{let n=e.body,i=n.messages[0];if(E(r,{searchFetcher:l,result:n,messageCount:n.total_results,lastMessage:i}),T({}),s){var a,c;o.Z.dispatch({type:"MOD_VIEW_SEARCH_FINISH",searchId:t,guildId:t,analyticsId:n.analytics_id,totalResults:n.total_results,channels:n.channels,messages:n.messages,threads:null!==(a=n.threads)&&void 0!==a?a:[],members:(null!==(c=n.members)&&void 0!==c?c:[]).map(e=>(0,d.Z)(e)),hasError:!1,doingHistoricalIndex:n.doing_deep_historical_index,documentsIndexed:n.documents_indexed})}},e=>{},e=>{E(r,{messageCount:0,lastMessage:null}),T({})})})}return()=>{}},[e,t,f,r,n,a]),null!=f?f:_}(e,t,"messages",n)}function x(e,t,n,i){let a=l.useMemo(()=>m(e,t,n,i,!0),[e,t,n,i]),s=g(a),r=(0,c.Z)(a);return{key:a,previousKey:r,state:s}}function T(e,t,n){var i,a,s;let{key:r,state:o}=x(e,t,"messages",n),{key:c,state:d}=x(e,t,"links",n),{key:m,state:_}=x(e,t,"media",n),f=l.useMemo(()=>C(e,"all_counts",n),[e,n]),g=l.useMemo(()=>({tabs:{messages:C(e,"messages",f),links:C(e,"links",f),media:C(e,"media",f)},track_exact_total_hits:!0}),[e,f]),I=l.useCallback(e=>{let t=e.messages,n=e.links,i=e.media;E(r,t),E(c,n),E(m,i)},[c,m,r]),T=l.useCallback(e=>{I({messages:e,links:e,media:e})},[I]);l.useEffect(()=>{let e=new u.tJ(t,h.aib.GUILD,f,g);T({searchTabFetcher:e,messageCount:p,lastMessage:null});let n=setTimeout(async()=>{let t=null;try{let n=await e.makeRequest();t=null==n?void 0:n.body}catch(e){t=null}if(null==t)T({messageCount:0,lastMessage:null});else{var n,i,a,l,s,r;let e=t.tabs.messages,o=t.tabs.links,c=t.tabs.media;I({messages:{messageCount:null!==(n=null==e?void 0:e.total_results)&&void 0!==n?n:0,lastMessage:null!==(i=null==e?void 0:e.messages[0])&&void 0!==i?i:null},links:{messageCount:null!==(a=null==o?void 0:o.total_results)&&void 0!==a?a:0,lastMessage:null!==(l=null==o?void 0:o.messages[0])&&void 0!==l?l:null},media:{messageCount:null!==(s=null==c?void 0:c.total_results)&&void 0!==s?s:0,lastMessage:null!==(r=null==c?void 0:c.messages[0])&&void 0!==r?r:null}})}v({})});return()=>{e.cancel(),clearTimeout(n)}},[e,t,f,g,T,I]);let[N,v]=l.useState({});return{messagesCount:null!==(i=null==o?void 0:o.messageCount)&&void 0!==i?i:p,linksCount:null!==(a=null==d?void 0:d.messageCount)&&void 0!==a?a:p,mediaCount:null!==(s=null==_?void 0:_.messageCount)&&void 0!==s?s:p}}},613464:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(749210),u=n(110924),d=n(58540),h=n(100527),p=n(906732),m=n(527379),_=n(484459),f=n(318661),E=n(502762),g=n(271383),C=n(594174),I=n(189357),x=n(718617),T=n(327250),N=n(228168),v=n(668972);function S(e){let{userId:t,guildId:n,onClose:l,className:S,infoPanelClassName:Z,style:A}=e,M=(0,I.ms)(n),b=(0,r.e7)([C.default],()=>C.default.getUser(t),[t]),R=(0,r.e7)([g.ZP],()=>g.ZP.getMember(n,t),[n,t]),[j,L]=a.useState(null==b||null==R),P=(0,u.Z)(R),O=a.useRef(null),{analyticsLocations:y}=(0,p.ZP)(h.Z.GUILD_MEMBER_MOD_VIEW),D=(0,f.ZP)(t,n);return(a.useEffect(()=>{!M&&l()},[M,l]),a.useEffect(()=>{null!=P&&null==R&&!j&&l()},[j,R,l,P]),a.useEffect(()=>{null!=b&&null!=R&&L(!1)},[b,R]),a.useEffect(()=>{let e=null==R;return!j&&e&&(O.current=window.setTimeout(l,500)),()=>{null!=O.current&&window.clearTimeout(O.current)}},[j,R,l]),(0,d.$)({[n]:[t]}),a.useEffect(()=>{(async function e(){let e=[c.Z.requestMembersById(n,[t]),(0,m.nb)(n,[t]),(0,_.W)(t,void 0,{guildId:n,dispatchWait:!0})];await Promise.all(e),L(!1)})()},[n,t]),M)?j||null==b||null==R?(0,i.jsx)("div",{className:s()(v.sidebarContianer,v.loadingContainer,S),style:A,children:(0,i.jsx)(o.Spinner,{animated:!0,type:j?o.Spinner.Type.SPINNING_CIRCLE:o.Spinner.Type.CHASING_DOTS})}):(0,i.jsx)(p.Gt,{value:y,children:(0,i.jsx)("div",{className:s()(v.sidebarContianer,S),style:A,children:(0,i.jsx)(E.Z,{user:b,displayProfile:D,profileType:N.y0.MODAL,forceShowPremium:!0,className:s()(v.profileThemedContainer),children:(0,i.jsxs)("div",{className:s()(v.innerContainer),children:[(0,i.jsx)(T.Z,{userId:t,guildId:n,onClose:l}),(0,i.jsx)(x.Z,{userId:t,guildId:n,onClose:l,className:Z})]})})})}):null}},370595:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(481060),r=n(991570),o=n(50493),c=n(689938),u=n(638649),d=n(332513);function h(e){let{userId:t,guildId:n,onNavigate:a,backPanel:h=o.k.INFO}=e,p=(0,r.f)(t,n,.8,s.tokens.colors.BACKGROUND_SECONDARY);return(0,i.jsxs)("div",{className:l()(d.header),style:{backgroundColor:p},children:[(0,i.jsx)("div",{className:l()(d.headerTitle),children:(0,i.jsxs)(s.Clickable,{className:l()(u.backButton),onClick:()=>null==a?void 0:a(h),children:[(0,i.jsx)(s.ArrowSmallLeftIcon,{size:"custom",className:l()(u.__invalid_backButtonIcon),width:20,height:20}),(0,i.jsx)(s.Heading,{variant:"heading-md/semibold",children:c.Z.Messages.BACK})]})}),(0,i.jsx)("div",{className:l()(u.__invalid_options),children:(0,i.jsx)(s.KeyCombo,{shortcut:"esc",keyClassName:u.keyComboInner,className:u.keyComboContainer})})]})}},991570:function(e,t,n){n.d(t,{f:function(){return o}});var i=n(442837),a=n(481060),l=n(318661),s=n(721987),r=n(594174);function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8,o=arguments.length>3?arguments[3]:void 0,c=(0,i.e7)([r.default],()=>r.default.getUser(e),[e]),u=(0,l.ZP)(e,t),{theme:d}=(0,s.Z)({user:c,displayProfile:u,isPreview:!0});return(0,a.useToken)(null!=o?o:a.tokens.colors.BACKGROUND_NESTED_FLOATING,d).hex({opacity:n})}},718617:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(735250),a=n(470079),l=n(920906),s=n(442837),r=n(186325),o=n(110924),c=n(714338),u=n(433355),d=n(863840),h=n(189432),p=n(727381),m=n(313692),_=n(596443),f=n(50493),E=n(981631);function g(e,t){return n=>{if(0===n)return"auto";let i="forwards"===t.current,a=n>0,l=!1;return a&&i&&"left"===e&&(l=!0),a&&!i&&"right"===e&&(l=!0),!a&&i&&"right"===e&&(l=!0),!a&&!i&&"left"===e&&(l=!0),l?"calc(".concat(100*Math.abs(n),"% + ").concat(Math.round(12*Math.abs(n)),"px)"):"auto"}}function C(e){var t,n;let{userId:C,guildId:I,onClose:x,analyticsLocation:T,className:N}=e,v=(0,s.e7)([u.ZP],()=>u.ZP.getGuildSidebarState(I),[I]),S=null!==(t=null==v?void 0:v.details.modViewPanel)&&void 0!==t?t:f.k.INFO,Z=(0,o.Z)(C);let A=null==(n=S)?null:n===f.k.INFO?"backwards":"forwards",M=(0,d.Z)(A),{reducedMotion:b}=a.useContext(r.S),R=a.useCallback(e=>{null!=v&&(0,h.r)(I,C,v.baseChannelId,{modViewPanel:e})},[v,I,C]),j=a.useMemo(()=>({[E.EkH.CLOSE_MODAL]:{binds:["esc"],comboKeysBindGlobal:!0,action(){if(S===f.k.INFO)return x();return R(f.k.INFO)}}}),[x,S,R]);a.useEffect(()=>(c.Z.enable(),c.Z.enableTemp(j),()=>c.Z.disableTemp()),[j]);let L=(0,l.useTransition)(S,{immediate:Z!==C,value:0,from:{value:1},enter:{value:0},leave:{value:-1}});return(0,i.jsx)(l.animated.div,{style:{position:"relative",height:"100%",flex:1,overflow:"hidden"},children:L((e,t,n)=>{var a,s,r;let{key:o}=n;return(0,i.jsx)(l.animated.div,{style:{position:"absolute",display:"flex",flexDirection:"column",backfaceVisibility:"hidden",width:"100%",height:"100%",...b.enabled?{opacity:null===(a=e.value)||void 0===a?void 0:a.to(e=>1-Math.abs(e))}:{left:null===(s=e.value)||void 0===s?void 0:s.to(g("left",M)),right:null===(r=e.value)||void 0===r?void 0:r.to(g("right",M))}},children:function(e){switch(e){case f.k.INFO:return(0,i.jsx)(p.Z,{userId:C,guildId:I,onNavigate:R,className:N});case f.k.MESSAGE_HISTORY:return(0,i.jsx)(m.Z,{userId:C,guildId:I,onNavigate:()=>R(f.k.INFO),className:N});case f.k.PERMISSIONS:return(0,i.jsx)(_.Z,{userId:C,guildId:I,onNavigate:()=>R(f.k.INFO),className:N});default:return null}}(t)},o)})})}},753042:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(399606),r=n(481060),o=n(388905),c=n(376923),u=n(16829),d=n(430824),h=n(944486),p=n(189432),m=n(776767),_=n(981631),f=n(689938),E=n(332513);function g(e){let{member:t}=e,n=(0,s.e7)([d.Z],()=>d.Z.getGuild(t.guildId),[t.guildId]),a=(0,c.mh)(t.userId,t.guildId),g=(0,c.mV)(t.userId,t.guildId),C=(0,c.LD)(t.userId),I=(0,c.wi)(t.userId,t.guildId);return null==n?null:(0,i.jsx)("div",{className:l()(E.__invalid_safetySignalsMainContainer),children:(0,i.jsx)(r.FormItem,{title:f.Z.Messages.ACCOUNT,titleClassName:E.infoTitle,children:(0,i.jsxs)(m.WM,{children:[(0,i.jsx)(m._2,{icon:(0,i.jsx)(r.ShieldUserIcon,{size:"custom",width:m.Mn,height:m.Mn,className:E.__invalid_unusualDMLabelIcon}),name:(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"text-normal",children:f.Z.Messages.MEMBER_VERIFICATION_ACCOUNT_VERIFIED}),description:a?(0,i.jsx)(r.CheckmarkBoldIcon,{size:"custom",width:m.Mn,height:m.Mn,color:r.tokens.colors.INFO_POSITIVE_FOREGROUND}):(0,i.jsx)(r.CloseLargeBoldIcon,{size:"custom",width:m.Mn,height:m.Mn,color:r.tokens.colors.INFO_DANGER_FOREGROUND})}),g!==c.qc.NO_GATE&&(0,i.jsx)(m._2,{icon:(0,i.jsx)(r.BookCheckIcon,{size:"custom",width:m.Mn,height:m.Mn,className:E.__invalid_unusualDMLabelIcon}),name:(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"text-normal",children:f.Z.Messages.GUILD_MEMBER_MOD_VIEW_AGREE_TO_RULES}),description:g===c.qc.AGREED?(0,i.jsx)(r.CheckmarkBoldIcon,{size:"custom",width:m.Mn,height:m.Mn,color:r.tokens.colors.INFO_POSITIVE_FOREGROUND}):(0,i.jsx)(r.CloseLargeBoldIcon,{size:"custom",width:m.Mn,height:m.Mn,color:r.tokens.colors.INFO_DANGER_FOREGROUND})}),(0,i.jsx)(m._2,{icon:(0,i.jsx)(r.ClydeIcon,{size:"custom",color:"currentColor",width:m.Mn,height:m.Mn}),name:(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"text-normal",children:f.Z.Messages.GUILD_MEMBER_MOD_VIEW_DISCORD_JOIN_DATE}),description:(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"text-normal",children:C})}),(0,i.jsx)(m._2,{icon:(0,i.jsx)(o.Vj,{guild:n,size:o.Vj.Sizes.SMOL,animate:!1,className:E.guildIcon}),name:(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"text-normal",children:f.Z.Messages.GUILD_MEMBER_MOD_VIEW_GUILD_JOIN_DATE}),description:(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"text-normal",children:I})}),(0,i.jsx)(m._2,{icon:(0,i.jsx)(r.GroupPlusIcon,{size:"custom",width:m.Mn,height:m.Mn}),name:(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"text-normal",children:f.Z.Messages.GUILD_MEMBER_MOD_VIEW_INVITE_LINK_LABEL}),description:(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"text-normal",children:(0,i.jsx)(u.ZP,{userId:t.userId,guildId:t.guildId,showInviterAsFooter:!0,onClickInviter:e=>{let n=h.Z.getChannelId();(0,p.r)(t.guildId,e.id,null!=n?n:_.lds)}})})})]})})})}},787469:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(399606),o=n(481060),c=n(893966),u=n(472596),d=n(285173),h=n(430824),p=n(496675),m=n(776767),_=n(981631),f=n(689938),E=n(332513);function g(e){let{member:t}=e,n=(0,r.e7)([h.Z],()=>h.Z.getGuild(t.guildId)),l=(0,r.e7)([h.Z],()=>h.Z.getRoles(t.guildId)),g=a.useMemo(()=>null==n?[]:null==t.highestRoleId?t.roles:t.roles.filter(e=>null!=e&&e!==t.highestRoleId).sort((e,t)=>{var n,i,a,s;return null!==(s=null!==(a=null===(n=l[t])||void 0===n?void 0:n.position)&&void 0!==a?a:0-(null===(i=l[e])||void 0===i?void 0:i.position))&&void 0!==s?s:0}),[t.roles,t.highestRoleId,n,l]),C=(0,r.e7)([c.Z],()=>c.Z.getEnhancedMember(t.guildId,t.userId),[t.guildId,t.userId]),I=(0,u.zq)(C),x=(0,u.qr)(t),T=(0,r.e7)([p.Z],()=>p.Z.can(_.Plq.MANAGE_ROLES,n),[n]);return null==n?null:(0,i.jsx)(o.FormItem,{title:f.Z.Messages.ROLES,titleClassName:E.infoTitle,children:(0,i.jsx)(m.WM,{children:(0,i.jsx)(m._2,{description:(0,i.jsxs)("div",{className:E.roleContainer,children:[(0,i.jsx)(o.Tooltip,{"aria-label":f.Z.Messages.GUILD_MEMBER_MOD_VIEW_PERMISSION_GRANTED_BY_ARIA_LABEL,tooltipContentClassName:E.__invalid_permissionTooltip,allowOverflow:!0,text:f.Z.Messages.GUILD_MEMBER_MOD_VIEW_HIGHEST_ROLE,children:e=>{let{onMouseEnter:n,onMouseLeave:a}=e;return(0,i.jsx)(o.Clickable,{onMouseEnter:n,onMouseLeave:a,children:(0,i.jsx)(d.Z,{className:s()(E.roleTooltipItem,E.highestRole),role:I,guildId:t.guildId})})}}),g.map(e=>(0,i.jsx)(d.Z,{className:s()(E.roleTooltipItem),role:l[e],guildId:t.guildId},e)),T&&(0,i.jsx)(o.Tooltip,{"aria-label":f.Z.Messages.ADD_ROLE_A11Y_LABEL,tooltipContentClassName:E.__invalid_permissionTooltip,allowOverflow:!0,text:f.Z.Messages.ADD_ROLE_A11Y_LABEL,children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,i.jsx)(o.Clickable,{className:s()(E.addRoleContainer),onClick:x,onMouseEnter:t,onMouseLeave:n,children:(0,i.jsx)(o.CirclePlusIcon,{size:"custom",color:"currentColor",className:s()(E.addRoleIcon),width:20,height:20})})}})]})})})})}},477718:function(e,t,n){n.d(t,{Z:function(){return M}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(913527),o=n.n(r),c=n(399606),u=n(481060),d=n(480137),h=n(906732),p=n(884737),m=n(376923),_=n(472596),f=n(987707),E=n(501801),g=n(271383),C=n(430824),I=n(274730),x=n(5192),T=n(776767),N=n(689938),v=n(361163),S=n(130081),Z=n(332513);function A(e){let{log:t,member:n,guild:l}=e,{analyticsLocations:r}=(0,h.ZP)(),d=p.nm(t),f=p.QM(t),C=p.of(t),I=p.J5(t),T=(0,m.LJ)(t.id),Z=(0,c.e7)([g.ZP],()=>null!=t.userId?g.ZP.getMember(n.guildId,t.userId):null,[n.guildId,t.userId]),A=a.useCallback(e=>t=>{t.preventDefault(),t.stopPropagation(),null!=e&&(0,_.RE)(e,r)},[r]),M=a.useCallback(()=>null==t.user?null:(0,i.jsx)(u.Tooltip,{text:N.Z.Messages.GUILD_MEMBER_MOD_VIEW_AUDIT_LOG_SOURCE_USER,children:e=>{var a;let{onMouseEnter:l,onMouseLeave:r}=e;return(0,i.jsx)(u.Clickable,{tag:"span",className:v.username,onClick:A(Z),onMouseEnter:l,onMouseLeave:r,children:(0,i.jsxs)(u.Text,{variant:"text-sm/medium",tag:"span",children:["@",(0,i.jsx)(u.NameWithRole,{name:x.ZP.getName(n.guildId,null,t.user),color:null!==(a=null==Z?void 0:Z.colorString)&&void 0!==a?a:void 0,className:s()(v.__invalid_memberNameText)})]})})}}),[A,t.user,n.guildId,Z])();return(0,i.jsxs)("div",{className:s()(S.modInfoItem,v.auditLogItem),children:[(0,i.jsxs)("div",{className:v.auditLogItemTitleContainer,children:[(0,i.jsxs)("div",{className:v.auditLogItemTitle,children:[null!=d&&(0,i.jsx)(u.Text,{variant:"text-sm/semibold",color:"header-primary",children:d}),null!=f&&(0,i.jsxs)(u.Text,{variant:"text-sm/normal",color:"header-secondary",children:["(","string"==typeof f?f:o()(f).fromNow(),")"]})]}),(0,i.jsx)("div",{className:v.auditLogItemDate,children:(0,i.jsx)(u.Text,{variant:"text-sm/medium",color:"header-primary",children:T})})]}),null!=C&&(0,i.jsx)("div",{className:v.auditLogSecondaryContainer,children:(0,i.jsxs)("div",{className:v.auditLogReason,children:[M,(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"text-muted",tag:"span",children:C})]})}),null==C&&null!=I&&(0,i.jsx)("div",{className:v.auditLogSecondaryContainer,children:(0,i.jsxs)("div",{className:v.auditLogSecondary,children:[M,(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"text-muted",tag:"span",children:I})]})}),null==C&&null==I&&(0,i.jsx)("div",{className:v.auditLogSecondaryContainer,children:(0,i.jsx)("div",{className:v.auditLogSecondary,children:(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"text-muted",tag:"span",children:(0,i.jsx)(E.tP,{log:t,guild:l,onContentClick:()=>{},className:v.auditLogExpandedChangeDetails})})})})]})}function M(e){let{member:t}=e,n=(0,c.e7)([C.Z],()=>C.Z.getGuild(t.guildId),[t.guildId]),l=(0,c.e7)([f.Z],()=>{let e=f.Z.logs;return null==e||null==n?[]:I._$(e,n)},[n]);return(a.useEffect(()=>{(async function e(e,t){await d.gV(t,e)})(t.guildId,t.userId)},[t.guildId,t.userId]),null==n||0===l.length)?null:(0,i.jsx)("div",{className:s()(Z.__invalid_safetySignalsMainContainer),children:(0,i.jsx)(u.FormItem,{title:N.Z.Messages.GUILD_MEMBER_MOD_VIEW_RECENT_AUDIT_LOG,titleClassName:Z.infoTitle,children:l.length>0?(0,i.jsx)(T.WM,{children:l.map(e=>(0,i.jsx)(A,{log:e,member:t,guild:n},e.id))}):null})})}},776767:function(e,t,n){n.d(t,{Mn:function(){return o},WM:function(){return u},_2:function(){return c}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(481060),r=n(130081);let o=16;function c(e){let{description:t,name:n,icon:a,onNavigate:c,className:u,missingNavIcon:d}=e;return(0,i.jsxs)(s.Clickable,{onClick:c,className:l()(r.modInfoItem,null!=c&&r.modInfoAction,u),children:[null!=a&&(0,i.jsx)("div",{className:l()(r.modInfoItemIcon),children:a}),null!=n&&(0,i.jsx)("div",{className:l()(r.modInfoItemName),children:n}),(0,i.jsx)("div",{className:l()(r.modInfoItemDescription),children:t}),null!=c&&(0,i.jsx)("div",{className:l()(r.modInfoItemActionIcon),children:(0,i.jsx)(s.ChevronLargeRightIcon,{size:"custom",width:o,height:o})}),null==c&&null!=d&&(0,i.jsx)("div",{className:l()(r.modInfoItemActionIcon),children:d})]})}function u(e){let{children:t}=e;return(0,i.jsx)("div",{className:l()(r.modInfoItemContainer),children:t})}},791176:function(e,t,n){n(653041);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(399606),o=n(481060),c=n(285173),u=n(422559),d=n(430824),h=n(233608),p=n(776767),m=n(351127),_=n(50493),f=n(981631),E=n(689938),g=n(926452);function C(e){var t,n;let{permission:a,roleIds:l,guild:h,specMap:p}=e,_=f.Plq[a],C=null!==(n=null===(t=p[_.toString()])||void 0===t?void 0:t.title)&&void 0!==n?n:(0,u.wt)(_),I=m._o.has(_),x=(0,r.e7)([d.Z],()=>d.Z.getRoles(h.id));return(0,i.jsx)(o.Tooltip,{"aria-label":E.Z.Messages.GUILD_MEMBER_MOD_VIEW_PERMISSION_GRANTED_BY_ARIA_LABEL,tooltipClassName:g.roleTooltipContainer,tooltipContentClassName:g.roleTooltipContentContainer,allowOverflow:!0,text:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Text,{variant:"text-sm/normal",children:I?E.Z.Messages.GUILD_MEMBER_MOD_VIEW_ELEVATED_PERMISSION_GRANTED_BY:E.Z.Messages.GUILD_MEMBER_MOD_VIEW_PERMISSION_GRANTED_BY}),l.map(e=>(0,i.jsx)("div",{className:s()(g.roleTooltipItem),children:(0,i.jsx)(c.Z,{role:x[e],guildId:h.id})},e))]}),children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,i.jsxs)(o.Clickable,{className:s()(g.permissionChiplet,{[g.elevatedPermission]:I}),onMouseEnter:t,onMouseLeave:n,children:[I&&(0,i.jsx)(o.ShieldLockIcon,{size:"custom",width:16,height:16,color:o.tokens.colors.TEXT_BRAND}),(0,i.jsx)(o.Text,{variant:"text-xs/medium",color:"interactive-normal",children:C})]})}})}t.Z=a.memo(function(e){let{member:t,onNavigate:n}=e,l=(0,r.e7)([d.Z],()=>d.Z.getGuild(t.guildId),[t.guildId]),c=(0,m.B2)(t.userId,t.guildId,m.Qn),u=(0,m.B2)(t.userId,t.guildId,m.pd),I=Object.keys(c).length,x=Object.keys(u).length,T=a.useMemo(()=>null!=l?h.Z.getGuildPermissionSpecMap(l):null,[l]),N=a.useMemo(()=>null!=l?h.Z.generateGuildPermissionSpec(l):null,[l]),v=a.useMemo(()=>{if(null==l||null==T)return null;if(0===I)return(0,i.jsx)("div",{className:s()(g.permissionChiplet,g.noModPerms),children:(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"text-positive",children:E.Z.Messages.GUILD_MEMBER_MOD_VIEW_MOD_NO_MOD_PERMS_FOUND})});let e=[];return null==N||N.forEach(t=>{t.permissions.forEach(t=>{let n=t.flag,a=m.pd.find(e=>f.Plq[e]===n);if(null==a)return;let s=c[a];if(null!=s)e.push((0,i.jsx)(C,{permission:a,roleIds:s,guild:l,specMap:T},a))})}),e},[l,I,c,N,T]);return null==l?null:(0,i.jsx)(o.FormItem,{title:(0,i.jsxs)("div",{className:g.headerContainer,children:[(0,i.jsx)(o.Text,{variant:"eyebrow",color:"header-secondary",children:E.Z.Messages.GUILD_MEMBER_MOD_VIEW_MOD_PERMSSISONS_TITLE}),(0,i.jsxs)(o.Clickable,{className:g.viewAllPermissions,onClick:()=>n(_.k.PERMISSIONS),children:[(0,i.jsx)(o.Text,{variant:"eyebrow",color:"interactive-normal",children:E.Z.Messages.GUILD_MEMBER_MOD_VIEW_VIEW_ALL_PERMISSIONS.format({count:x})}),(0,i.jsx)(o.ChevronSmallRightIcon,{size:"custom",width:16,height:16})]})]}),titleClassName:g.__invalid_infoTitle,children:(0,i.jsx)(p.WM,{children:(0,i.jsx)(p._2,{description:(0,i.jsx)("div",{className:g.permissionsContainer,children:v})})})})})},727381:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(399606),r=n(481060),o=n(271383),c=n(594174),u=n(777288),d=n(991570),h=n(753042),p=n(787469),m=n(477718),_=n(791176),f=n(908474),E=n(467014),g=n(689938),C=n(332513);function I(e){let{userId:t,guildId:n}=e,a=(0,d.f)(t,n,.8,r.tokens.colors.BACKGROUND_SECONDARY);return(0,i.jsxs)("div",{className:l()(C.header),style:{backgroundColor:a},children:[(0,i.jsxs)("div",{className:l()(C.headerTitle),children:[(0,i.jsx)(u.Z,{width:16,height:16}),(0,i.jsx)(r.Heading,{variant:"heading-md/semibold",children:g.Z.Messages.GUILD_MEMBER_MOD_VIEW_TITLE})]}),(0,i.jsx)("div",{children:(0,i.jsx)(r.KeyCombo,{shortcut:"esc",keyClassName:C.keyComboInner,className:C.keyComboContainer})})]})}function x(e){let{userId:t,guildId:n,location:a,className:u,onNavigate:g}=e,x=(0,s.e7)([c.default],()=>c.default.getUser(t),[t]),T=(0,s.e7)([o.ZP],()=>o.ZP.getMember(n,t),[n,t]),N=(0,d.f)(t,n);return null==x||null==T?null:(0,i.jsxs)(r.Scroller,{className:l()(C.container,u),style:{backgroundColor:N},children:[(0,i.jsx)(I,{userId:t,guildId:n}),(0,i.jsxs)("div",{className:l()(C.innerContainer),children:[(0,i.jsx)(f.Z,{member:T}),(0,i.jsx)(E.Z,{userId:t,guildId:n}),(0,i.jsx)(_.Z,{member:T,onNavigate:g}),(0,i.jsx)(p.Z,{member:T}),(0,i.jsx)(h.Z,{member:T}),(0,i.jsx)(m.Z,{member:T})]})]})}},908474:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250),a=n(470079),l=n(399606),s=n(481060),r=n(69882),o=n(815790),c=n(893966),u=n(373791),d=n(776767),h=n(689938),p=n(332513);function m(e){let{member:t}=e,n=t.userId,m=t.guildId,_=(0,l.e7)([c.Z],()=>c.Z.getEnhancedMember(m,n),[n,m]),f=(null!=_?_:t).unusualDMActivityUntil,E=a.useCallback(e=>{if(null==e)return null;let t=new Date(e).getTime();return(0,o.fv)(t,o.jq.JOINED_AT)},[]),g=a.useMemo(()=>null==t?null:E(f),[t,E,f]),C=a.useMemo(()=>(0,r.J)(t.communicationDisabledUntil),[t.communicationDisabledUntil]),I=a.useMemo(()=>null==t.communicationDisabledUntil?new Date:new Date(t.communicationDisabledUntil),[t.communicationDisabledUntil]);return null!=f||C?(0,i.jsx)(s.FormItem,{title:h.Z.Messages.MEMBER_SAFETY_TABLE_HEADER_FLAGS,titleClassName:p.infoTitle,children:(0,i.jsxs)(d.WM,{children:[null!=f&&(0,i.jsx)(d._2,{icon:(0,i.jsx)(s.ChatAlertIcon,{size:"custom",color:"currentColor",width:d.Mn,height:d.Mn,className:p.__invalid_unusualDMLabelIcon}),name:(0,i.jsx)(s.Text,{variant:"text-sm/semibold",color:"text-normal",children:h.Z.Messages.MEMBER_SAFETY_UNUSUAL_DM_ACTIVITY}),description:(0,i.jsx)(s.Text,{variant:"text-sm/semibold",color:"text-normal",children:g})}),C&&null!=I&&(0,i.jsx)(d._2,{icon:(0,i.jsx)(s.ClockWarningIcon,{size:"custom",color:"currentColor",width:d.Mn,height:d.Mn,className:p.__invalid_unusualDMLabelIcon}),name:(0,i.jsx)(s.Text,{variant:"text-sm/semibold",color:"text-normal",children:h.Z.Messages.GUILD_COMMUNICATION_DISABLED_ON_MEMBER}),description:(0,i.jsx)(s.Text,{variant:"text-sm/semibold",color:"text-normal",children:(0,i.jsx)(u.Z,{deadline:I,showUnits:!0,stopAtOneSec:!0})})})]})}):null}},467014:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(433355),o=n(189432),c=n(356778),u=n(776767),d=n(50493),h=n(689938),p=n(332513);function m(e){let{userId:t,guildId:n}=e,m=(0,l.e7)([r.ZP],()=>r.ZP.getGuildSidebarState(n),[n]),{messagesCount:_,linksCount:f,mediaCount:E}=(0,c.P2)(t,n),g=new Intl.NumberFormat(h.Z.getLocale()).format(_),C=new Intl.NumberFormat(h.Z.getLocale()).format(f),I=new Intl.NumberFormat(h.Z.getLocale()).format(E),x=a.useCallback(async e=>{if(null==m)return;let i=(0,c.Ow)(t,e);await (0,o.r)(n,t,m.baseChannelId,{modViewPanel:d.k.MESSAGE_HISTORY,additionalSearchQuery:i})},[n,m,t]);return(0,i.jsx)(s.FormItem,{title:h.Z.Messages.GUILD_MEMBER_MOD_VIEW_GUILD_MESSAGE_ACTIVITY_TITLE,titleClassName:p.infoTitle,children:(0,i.jsxs)(u.WM,{children:[(0,i.jsx)(u._2,{icon:(0,i.jsx)(s.ChatIcon,{size:"custom",color:"currentColor",width:u.Mn,height:u.Mn}),name:(0,i.jsx)(s.Text,{variant:"text-sm/semibold",color:"text-normal",children:h.Z.Messages.MESSAGES}),description:_===c.II?(0,i.jsx)(s.Spinner,{type:s.SpinnerTypes.SPINNING_CIRCLE,className:p.loadingSpinner}):(0,i.jsx)(s.Text,{variant:"text-sm/semibold",color:"interactive-normal",children:g}),onNavigate:_>0?()=>x(c.mw.MESSAGES):void 0}),(0,i.jsx)(u._2,{icon:(0,i.jsx)(s.LinkIcon,{size:"custom",width:u.Mn,height:u.Mn}),name:(0,i.jsx)(s.Text,{variant:"text-sm/semibold",color:"text-normal",children:h.Z.Messages.QUICKSEARCH_LINKS}),description:f===c.II?(0,i.jsx)(s.Spinner,{type:s.SpinnerTypes.SPINNING_CIRCLE,className:p.loadingSpinner}):(0,i.jsx)(s.Text,{variant:"text-sm/semibold",color:"interactive-normal",children:C}),onNavigate:f>0?()=>x(c.mw.LINKS):void 0}),(0,i.jsx)(u._2,{icon:(0,i.jsx)(s.ImagesIcon,{size:"custom",width:u.Mn,height:u.Mn}),name:(0,i.jsx)(s.Text,{variant:"text-sm/semibold",color:"text-normal",children:h.Z.Messages.QUICKSEARCH_MEDIA}),description:E===c.II?(0,i.jsx)(s.Spinner,{type:s.SpinnerTypes.SPINNING_CIRCLE,className:p.loadingSpinner}):(0,i.jsx)(s.Text,{variant:"text-sm/semibold",color:"interactive-normal",children:I}),onNavigate:E>0?()=>x(c.mw.MEDIA):void 0})]})})}},313692:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(392711),o=n(399606),c=n(481060),u=n(963374),d=n(735020),h=n(786761),p=n(937889),m=n(619753),_=n(433355),f=n(271383),E=n(594174),g=n(189432),C=n(356778),I=n(370595),x=n(991570),T=n(50493),N=n(332513),v=n(812387);function S(e){var t,n;let{userId:l,guildId:S,location:Z,className:A,onNavigate:M}=e,b=a.useRef(null),R=(0,o.e7)([_.ZP],()=>_.ZP.getGuildSidebarState(S),[S]),j=a.useRef(0),[L,P]=a.useState(null!==(t=null==R?void 0:R.details.additionalSearchQuery)&&void 0!==t?t:{}),O=(0,C.z0)(l,S,{addtionalQuery:L,shouldDispatch:!0}),y=(0,o.e7)([E.default],()=>E.default.getUser(l),[l]),D=(0,o.e7)([f.ZP],()=>f.ZP.getMember(S,l),[S,l]),k=(0,x.f)(l,S);a.useLayoutEffect(()=>{let e=null==R?void 0:R.details.scrollOffset;if(null!=e){var t;null===(t=b.current)||void 0===t||t.scrollTo({to:e,animate:!1})}},[]);let U=a.useCallback(e=>{if(null==R)return;let t=e.target.scrollTop;j.current=t,(0,g.r)(S,l,R.baseChannelId,{modViewPanel:T.k.MESSAGE_HISTORY,additionalSearchQuery:L,scrollOffset:j.current})},[S,l,R,L]),w=(0,r.throttle)(U,300),B=a.useCallback(e=>{if(null==R)return;let t={...L,offset:25*e};P(t),(0,g.r)(S,l,R.baseChannelId,{modViewPanel:T.k.MESSAGE_HISTORY,additionalSearchQuery:t,scrollOffset:j.current})},[S,l,R,L]),H=null!==(n=null==L?void 0:L.offset)&&void 0!==n?n:0,G=(0,o.e7)([d.Z],()=>{if(null==O.result)return[];let e=O.result.messages,t=(0,u.nC)("");return e.map(e=>e.map(e=>{let n=d.Z.getMessage(e.id,e.channel_id),i=(0,h.e5)(e);return null!=n&&(i=i.merge({attachments:n.attachments,embeds:n.embeds})),i.isSearchHit?i.set("customRenderedContent",(0,p.ZP)(i,{postProcessor:t,allowHeading:!0,allowList:!0})):i}))},[O.result]),V=a.useMemo(()=>{var e,t,n,i;return null==O.result?{documentsIndexed:0,isSearching:!0,isIndexing:!1,isHistoricalIndexing:!1,offset:H,totalResults:0,hasError:!1,showBlockedResults:!1,showNoResultsAlt:!1}:{documentsIndexed:null!==(e=O.result.documents_indexed)&&void 0!==e?e:0,isSearching:!1,isIndexing:null!==(t=O.result.doing_deep_historical_index)&&void 0!==t&&t,isHistoricalIndexing:null!==(n=O.result.doing_deep_historical_index)&&void 0!==n&&n,offset:H,totalResults:null!==(i=O.result.total_results)&&void 0!==i?i:0,hasError:!1,showBlockedResults:!1,showNoResultsAlt:!1}},[O.result,H]);return null==y||null==D||null==V?null:(0,i.jsxs)("div",{className:s()(N.container,A),style:{backgroundColor:k},children:[(0,i.jsx)(I.Z,{guildId:S,userId:l,onNavigate:M}),(0,i.jsx)(c.AdvancedScroller,{className:s()(v.innerContainer),ref:b,onScroll:w,children:(0,i.jsx)(m.Z,{searchResults:G,search:V,searchId:l,renderEmbeds:!0,blockCount:0,scrollTo:()=>{},onChangePage:B})})]})}},596443:function(e,t,n){n.d(t,{Z:function(){return R}}),n(47120),n(653041);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(954955),o=n.n(r),c=n(399606),u=n(481060),d=n(605436),h=n(79712),p=n(285173),m=n(434404),_=n(422559),f=n(271383),E=n(430824),g=n(496675),C=n(594174),I=n(233608),x=n(370595),T=n(991570),N=n(351127),v=n(981631),S=n(689938),Z=n(332513),A=n(210712);function M(e){var t,n,l,r;let{permission:o,roleIds:f,guild:C,specMap:I,categoryTitle:x}=e,T=(0,c.e7)([E.Z],()=>E.Z.getRoles(C.id)),Z=v.Plq[o],M=null!==(l=null===(t=I[Z.toString()])||void 0===t?void 0:t.title)&&void 0!==l?l:(0,_.wt)(Z),b=null!==(r=null===(n=I[Z.toString()])||void 0===n?void 0:n.description)&&void 0!==r?r:"",R=N._o.has(Z),j=N.Qn.includes(o),L=f.length,P=(0,c.e7)([g.Z],()=>g.Z.can(v.Plq.MANAGE_ROLES,C),[C]),O=a.useCallback(async e=>{if(!!P)await m.Z.open(C.id,v.pNK.ROLES),await m.Z.selectRole(e)},[P,C.id]);return(0,i.jsxs)("div",{className:s()(A.permissionItemContainer,{[A.elevatedPermission]:R}),children:[(0,i.jsxs)("div",{className:s()(A.permissionItemHeader),children:[(0,i.jsxs)("div",{className:A.permissionTitle,children:[(0,i.jsx)(u.Text,{variant:"text-md/medium",color:"header-primary",children:M}),null!=x&&(0,i.jsxs)("div",{className:A.permissionItemSubheader,children:[(0,i.jsx)(u.Text,{variant:"text-xs/normal",color:"header-muted",children:x}),R&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{height:4,width:4,"aria-hidden":"true",color:u.tokens.colors.INTERACTIVE_MUTED.css}),(0,i.jsx)(u.Tooltip,{text:S.Z.Messages.GUILD_MEMBER_MOD_VIEW_ELEVATED_PERMISSION_TOOLTIP,children:e=>(0,i.jsxs)(u.Clickable,{className:A.elevatedPermissionContainer,...e,children:[(0,i.jsx)(u.ShieldLockIcon,{size:"custom",width:12,height:12,color:u.tokens.colors.TEXT_BRAND}),(0,i.jsx)(u.Text,{variant:"text-xs/normal",color:"text-brand",children:S.Z.Messages.GUILD_MEMBER_MOD_VIEW_ELEVATED_PERMISSION})]})})]}),!R&&j&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{height:4,width:4,"aria-hidden":"true",color:u.tokens.colors.INTERACTIVE_MUTED.css}),(0,i.jsx)("div",{className:A.elevatedPermissionContainer,children:(0,i.jsx)(u.Text,{variant:"text-xs/normal",color:"header-muted",children:S.Z.Messages.GUILD_MEMBER_MOD_VIEW_MOD_PERMISSION})})]})]})]}),(0,i.jsx)(u.Text,{variant:"text-sm/medium",color:"text-normal",children:S.Z.Messages.GUILD_MEMBER_MOD_VIEW_ROLE_COUNT.format({roleCount:L})})]}),null!=b&&(0,i.jsx)("div",{className:A.permissionItemDescription,children:(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"text-secondary",children:b})}),(0,i.jsx)("div",{className:A.permissionItemRoleContainer,children:f.map(e=>(0,i.jsx)(u.Clickable,{className:s()(A.roleTooltipItem,{[A.editable]:P&&!(0,d.pM)(C.id,e)&&!(0,N.Ov)(e,C.id)}),onClick:()=>O(e),children:(0,N.Ov)(e,C.id)?(0,i.jsx)("div",{className:A.roleChiplet,children:(0,i.jsx)(u.Text,{variant:"text-xs/medium",color:"text-normal",children:S.Z.Messages.GUILD_OWNER})}):(0,i.jsx)(p.Z,{role:T[e],guildId:C.id,className:A.roleChiplet})},e))})]})}function b(e,t){return t.toLowerCase().includes(e.toLowerCase())}function R(e){let{userId:t,guildId:n,location:l,className:r,onNavigate:d}=e,h=(0,c.e7)([C.default],()=>C.default.getUser(t),[t]),p=(0,c.e7)([E.Z],()=>E.Z.getGuild(n),[n]),m=(0,c.e7)([f.ZP],()=>f.ZP.getMember(n,t),[n,t]),g=(0,T.f)(t,n),R=(0,N.B2)(t,n,N.pd),j=Object.keys(R).length,L=a.useMemo(()=>null!=p?I.Z.getGuildPermissionSpecMap(p):null,[p]),P=a.useMemo(()=>null!=p?I.Z.generateGuildPermissionSpec(p):null,[p]),[O,y]=a.useState(""),[D,k]=a.useState(""),U=a.useCallback(o()(k,300),[]),w=a.useCallback(e=>{y(e),U(e)},[U]),B=a.useCallback(()=>{y(""),k("")},[]),H=a.useMemo(()=>{if(null==p||null==L||null==m)return null;if(0===j)return(0,i.jsx)("div",{className:s()(A.__invalid_permissionChiplet,A.__invalid_noModPerms),children:(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"text-positive",children:S.Z.Messages.GUILD_MEMBER_MOD_VIEW_MOD_NO_MOD_PERMS_FOUND})});let e=[];return null==P||P.forEach(t=>{t.permissions.forEach(n=>{let a=n.flag,l=N.pd.find(e=>v.Plq[e]===a);if(null==l)return;let s=R[l];if(null!=s){if(D.length>0){var r,o,c,u,d;let e=null!==(u=null===(r=L[a.toString()])||void 0===r?void 0:r.title)&&void 0!==u?u:(0,_.wt)(a),n=null!==(d=null===(c=L[a.toString()])||void 0===c?void 0:null===(o=c.description)||void 0===o?void 0:o.toString())&&void 0!==d?d:"",i=t.title,s=N._o.has(a),h=N.Qn.includes(l),p=s?S.Z.Messages.GUILD_MEMBER_MOD_VIEW_ELEVATED_PERMISSION:h?S.Z.Messages.GUILD_MEMBER_MOD_VIEW_MOD_PERMISSION:null,m=b(D,e),f=b(D,n),E=b(D,i),g=null!=p&&b(D,p);if(!m&&!f&&!E&&!g)return}e.push((0,i.jsx)(M,{permission:l,roleIds:s,guild:p,specMap:L,categoryTitle:t.title},l))}})}),e},[p,L,m,j,P,R,D]);return null==h||null==m?null:(0,i.jsxs)("div",{className:s()(Z.container,r),style:{backgroundColor:g},children:[(0,i.jsx)(x.Z,{guildId:n,userId:t,onNavigate:d}),(0,i.jsx)(u.Scroller,{className:A.permissionsGroupContainer,children:(0,i.jsx)(u.FormItem,{title:S.Z.Messages.GUILD_MEMBER_MOD_VIEW_MOD_PERMSSISONS_PANEL_TITLE,titleClassName:A.__invalid_infoTitle,children:(0,i.jsxs)("div",{className:A.permissionsItemContainer,children:[(0,i.jsx)(u.SearchBar,{className:A.searchBar,query:O,placeholder:S.Z.Messages.GUILD_MEMBER_MOD_VIEW_PERMISSIONS_SEARCH_PLACEHOLDER,onChange:w,onClear:B,autoComplete:"off",inputProps:{autoCapitalize:"none",autoCorrect:"off",spellCheck:"false"}}),H]})})})]})}},351127:function(e,t,n){n.d(t,{B2:function(){return f},Ov:function(){return _},Qn:function(){return p},_o:function(){return m},pd:function(){return h}}),n(47120),n(411104),n(653041);var i=n(149765),a=n(399606),l=n(271383),s=n(430824),r=n(594174),o=n(700785),c=n(981631),u=n(135899);let d=[c.Plq.USE_CLYDE_AI],h=Object.keys(c.Plq).filter(e=>!d.includes(c.Plq[e])),p=Array.from(new Set([...u.$X,...c.yYS,c.Plq.ADMINISTRATOR,c.Plq.KICK_MEMBERS,c.Plq.BAN_MEMBERS,c.Plq.MANAGE_GUILD,c.Plq.MANAGE_CHANNELS,c.Plq.MANAGE_ROLES,c.Plq.MANAGE_MESSAGES,c.Plq.MANAGE_THREADS,c.Plq.MANAGE_GUILD_EXPRESSIONS,c.Plq.CREATE_GUILD_EXPRESSIONS,c.Plq.MANAGE_EVENTS,c.Plq.CREATE_EVENTS,c.Plq.MODERATE_MEMBERS,c.Plq.MENTION_EVERYONE,c.Plq.MANAGE_WEBHOOKS])).map(e=>{let t=h.find(t=>c.Plq[t]===e);if(null==t)throw Error("Permission ".concat(e," not found in Permissions"));return t}),m=new Set(c.yYS);function _(e,t){return e===t}function f(e,t,n){let u=(0,a.e7)([s.Z],()=>s.Z.getGuild(t),[t]);return(0,a.e7)([l.ZP,r.default,s.Z],()=>{let a={},d=l.ZP.getMember(t,e),h=r.default.getUser(e);if(null==u||null==d||null==h)return a;let p=s.Z.getRole(u.id,u.getEveryoneRoleId()),m=o.uB({user:h,context:u});for(let e of n){let t=c.Plq[e];if(!!i.e$(m,t)){for(let n of(a[e]=[],d.roles)){let l=s.Z.getRole(u.id,n);if(null!=l)(i.e$(l.permissions,c.Plq.ADMINISTRATOR)||i.Db(l.permissions,t))&&a[e].push(l.id)}null!=p&&(i.e$(p.permissions,c.Plq.ADMINISTRATOR)||i.Db(p.permissions,t))&&a[e].push(p.id),u.isOwner(h)&&a[e].push(h.id)}}return a},[u,t,n,e])}},327250:function(e,t,n){n.d(t,{Z:function(){return j}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(399606),r=n(481060),o=n(493683),c=n(906732),u=n(69882),d=n(251794),h=n(386696),p=n(910693),m=n(314897),_=n(271383),f=n(430824),E=n(496675),g=n(158776),C=n(885110),I=n(594174),x=n(572004),T=n(5192),N=n(51144),v=n(991570),S=n(981631),Z=n(689938),A=n(342821);function M(e){let{user:t,backgroundColor:n,guildId:a,onClose:l}=e,o=t.id,c=(0,s.e7)([C.Z,g.Z,m.default],()=>o===m.default.getId()?C.Z.getStatus():g.Z.getStatus(o,a),[o,a]);return(0,i.jsxs)("div",{className:A.topRow,style:{backgroundColor:n},children:[(0,i.jsxs)("div",{className:A.memberNameContainer,children:[(0,i.jsx)("div",{className:A.memberAvatar,children:(0,i.jsx)(r.Avatar,{src:t.getAvatarURL(a,48),"aria-label":t.username,size:r.AvatarSizes.SIZE_48,status:c})}),(0,i.jsx)("div",{className:A.memberName,children:(0,i.jsx)(r.Text,{variant:"text-lg/medium",children:(0,i.jsx)(r.NameWithRole,{name:T.ZP.getName(a,null,t),color:r.tokens.colors.HEADER_PRIMARY.css})})}),(0,i.jsx)("div",{className:A.__invalid_memberGlobalName,children:(0,i.jsx)(r.Text,{variant:"text-md/medium",color:"text-normal",children:N.ZP.getUserTag(t)})})]}),(0,i.jsx)("div",{className:A.__invalid_close,children:(0,i.jsx)(r.Text,{variant:"text-md/medium",color:"text-normal",children:(0,i.jsx)(r.Clickable,{className:A.closeAction,onClick:l,children:(0,i.jsx)(r.CloseSmallIcon,{size:"md",color:"currentColor"})})})})]})}function b(e){let{tag:t="div",disabled:n,children:a,onClick:s,...o}=e;return(0,i.jsx)(r.Clickable,{...o,tag:t,className:l()(A.bottomRowAction,{[A.bottomRowActionDisabled]:n}),onClick:n?void 0:s,children:(0,i.jsx)("div",{className:A.innerBottomRowAction,children:a})})}function R(e){let{backgroundColor:t,user:a,member:l,guildId:m}=e,_=(0,s.e7)([f.Z],()=>f.Z.getGuild(m)),{canKickUser:g,canBanUser:C,canModerateMembers:T}=(0,s.cj)([E.Z,I.default,f.Z],()=>({canKickUser:null!=_&&E.Z.canManageUser(S.Plq.KICK_MEMBERS,a,_),canBanUser:null!=_&&E.Z.canManageUser(S.Plq.BAN_MEMBERS,a,_),canModerateMembers:null!=_&&(0,h.F)(_.id,a.id,[I.default,f.Z,E.Z])}),[a,_]),N=(0,u.b)(l),{analyticsLocations:v,newestAnalyticsLocation:M}=(0,c.ZP)(),R=(0,p.sE)(m,{targetUserId:a.id,location:M,locations:v});return(0,i.jsxs)("div",{className:A.bottomRow,children:[(0,i.jsxs)(b,{"aria-label":Z.Z.Messages.SEND_DM,style:{backgroundColor:t},onClick:()=>{o.Z.openPrivateChannel(a.id)},children:[(0,i.jsx)(r.ChatIcon,{size:"custom",color:"currentColor",width:22,height:22}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",color:"none",children:Z.Z.Messages.SEND_DM})]}),(0,i.jsxs)(b,{disabled:!g,"aria-label":Z.Z.Messages.KICK,style:{backgroundColor:t},onClick:()=>{(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("5454").then(n.bind(n,854360));return t=>(0,i.jsx)(e,{...t,location:M,guildId:m,user:a})})},children:[(0,i.jsx)(r.UserMinusIcon,{size:"custom",width:22,height:22,color:r.tokens.colors.TEXT_NORMAL.css}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",color:"none",children:Z.Z.Messages.KICK})]}),(0,i.jsxs)(b,{disabled:!C,"aria-label":Z.Z.Messages.BAN,style:{backgroundColor:t},onClick:()=>{(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("43350").then(n.bind(n,98746));return t=>(0,i.jsx)(e,{...t,location:M,guildId:m,user:a})})},children:[(0,i.jsx)(r.HammerIcon,{size:"custom",width:22,height:22,color:r.tokens.colors.TEXT_NORMAL.css}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",color:"none",children:Z.Z.Messages.BAN})]}),(0,i.jsxs)(b,{disabled:!T,"aria-label":Z.Z.Messages.TIMEOUT_USER,style:{backgroundColor:t},onClick:()=>{N?(0,d.q)(l.guildId,l.userId,v):(0,d.z)(l.guildId,l.userId,v)},children:[(0,i.jsx)(r.ClockWarningIcon,{size:"custom",width:22,height:22,color:r.tokens.colors.TEXT_NORMAL.css}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",color:"none",children:N?Z.Z.Messages.REMOVE:Z.Z.Messages.TIMEOUT_USER})]}),(0,i.jsxs)(b,{"aria-label":Z.Z.Messages.COPY_ID,style:{backgroundColor:t},onClick:()=>{R(p.jQ.COPY_ID),(0,x.JG)(a.id)},disabled:!x.wS,children:[(0,i.jsx)(r.IdIcon,{size:"custom",width:22,height:22,color:r.tokens.colors.TEXT_NORMAL.css}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",color:"none",children:Z.Z.Messages.COPY_ID})]})]})}function j(e){let{userId:t,guildId:n,onClose:a}=e,l=(0,s.e7)([I.default],()=>I.default.getUser(t),[t]),o=(0,s.e7)([_.ZP],()=>_.ZP.getMember(n,t),[n,t]),c=(0,v.f)(t,n,.8,r.tokens.colors.BACKGROUND_SECONDARY);return null==l||null==o?null:(0,i.jsxs)("div",{className:A.container,children:[(0,i.jsx)(M,{user:l,guildId:n,onClose:a,backgroundColor:c}),(0,i.jsx)(R,{user:l,member:o,guildId:n,backgroundColor:c})]})}},270801:function(e,t,n){var i=n(735250);n(470079);var a=n(481060),l=n(153124),s=n(689938),r=n(793447);let o=()=>n.e("39248").then(n.t.bind(n,48603,19)).then(e=>{let{default:t}=e;return t});t.Z=e=>{let t=(0,l.Dt)();return(0,i.jsxs)(a.ModalRoot,{...e,transitionState:e.transitionState,"aria-labelledby":t,children:[(0,i.jsx)("div",{className:r.animationContainer,children:(0,i.jsx)(a.LottieAnimation,{importData:o,className:r.animationMiddle})}),(0,i.jsx)(a.ModalContent,{children:(0,i.jsxs)("div",{className:r.container,children:[(0,i.jsx)(a.Heading,{variant:"heading-xl/semibold",className:r.header,id:t,children:s.Z.Messages.MEMBER_VERIFICATION_APPROVED_APPLICATION_MODAL_TITLE.format({guildName:e.guildName})}),(0,i.jsx)(a.Text,{variant:"text-sm/normal",color:"header-secondary",children:s.Z.Messages.MEMBER_VERIFICATION_APPROVED_APPLICATION_MODAL_DESC}),(0,i.jsx)(a.Button,{className:r.button,onClick:()=>{e.onAccept(),e.onClose()},children:s.Z.Messages.MEMBER_VERIFICATION_APPROVED_APPLICATION_MODAL_CONFIRM})]})})]})}},705563:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(171368),r=n(650774),o=n(430824),c=n(496675),u=n(502568),d=n(709054),h=n(826581),p=n(246364),m=n(360328),_=n(981631),f=n(689938),E=n(695572);function g(e){let{channelId:t,showProfile:n=!1,showTrailingDivider:g=!1}=e,C=d.default.cast(t),{joinRequest:I,isModmin:x,guildId:T,maxMembers:N}=(0,a.cj)([h.Z,o.Z,c.Z],()=>{let e=h.Z.getRequest(C),t=o.Z.getGuild(null==e?void 0:e.guildId);return{joinRequest:e,isModmin:null!=t&&c.Z.can(_.Plq.KICK_MEMBERS,t),guildId:null==t?void 0:t.id,maxMembers:null==t?void 0:t.maxMembers}}),v=(0,a.e7)([r.Z],()=>null!=T?r.Z.getMemberCount(T):0),S=null!=N&&(null!=v?v:0)>=N,{approveRequest:Z,rejectRequest:A,submitting:M}=(0,m.s)(null==I?void 0:I.guildId,null==I?void 0:I.userId);return null!=I&&I.applicationStatus===p.wB.SUBMITTED&&x?(0,i.jsxs)("div",{className:E.buttons,children:[(0,i.jsx)(l.Tooltip,{text:f.Z.Messages.CLAN_APPLICATION_MAX_MEMBER_LIMIT_TOOLTIP,shouldShow:S,children:e=>(0,i.jsx)(l.Button,{...e,color:l.Button.Colors.GREEN,submitting:M,onClick:Z,size:l.ButtonSizes.SMALL,disabled:S,children:f.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVE_APPLICATION})}),(0,i.jsx)(l.Button,{color:l.Button.Colors.RED,onClick:A,size:l.ButtonSizes.SMALL,disabled:M||I.applicationStatus!==p.wB.SUBMITTED,children:f.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_DENY_APPLICATION}),n&&(0,i.jsx)(l.Button,{color:l.Button.Colors.TRANSPARENT,onClick:()=>{(0,s.openUserProfileModal)({userId:I.userId,guildId:I.guildId,analyticsLocation:{section:_.jXE.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:_.qAy.JOIN_REQUEST}})},size:l.ButtonSizes.SMALL,children:f.Z.Messages.VIEW_PROFILE}),g&&(0,i.jsx)(u.ZP.Divider,{})]}):null}},360328:function(e,t,n){n.d(t,{s:function(){return c}}),n(47120);var i=n(735250),a=n(470079),l=n(481060),s=n(693546),r=n(246364),o=n(689938);function c(e,t){let[c,u]=a.useState(!1),d=()=>{(0,l.showToast)((0,l.createToast)(o.Z.Messages.ERROR_GENERIC_TITLE,l.ToastType.FAILURE))},h=async()=>{if(!c&&null!=e&&null!=t){u(!0);try{await s.Z.updateGuildJoinRequest(e,t,r.wB.APPROVED)}catch{d()}finally{u(!1)}}};return{approveRequest:h,rejectRequest:()=>{null!=e&&null!=t&&(0,l.openModalLazy)(async()=>{let{default:a}=await n.e("56496").then(n.bind(n,113886));return n=>(0,i.jsx)(a,{modalProps:n,guildId:e,userId:t,onError:d})})},submitting:c}}},376923:function(e,t,n){n.d(t,{LD:function(){return E},LJ:function(){return g},mV:function(){return _},mh:function(){return f},qc:function(){return i},wi:function(){return C}}),n(789020),n(47120);var i,a,l=n(470079),s=n(913527),r=n.n(s),o=n(399606),c=n(271383),u=n(430824),d=n(594174),h=n(630388),p=n(709054);n(893966),n(527379);var m=n(372897);function _(e,t){var n,i;let a=(0,o.e7)([d.default],()=>d.default.getUser(e),[e]),l=(0,o.e7)([c.ZP],()=>c.ZP.getMember(t,e),[t,e]),s=(0,o.e7)([u.Z],()=>u.Z.getGuild(t),[t]);return(null==s?void 0:s.hasVerificationGate())?null==a||null==l||null==s?1:(0,h.yE)(null!==(n=l.flags)&&void 0!==n?n:0,m.q.BYPASSES_VERIFICATION)||(0,h.yE)(null!==(i=l.flags)&&void 0!==i?i:0,m.q.COMPLETED_ONBOARDING)?2:1:0}function f(e,t){var n;let i=(0,o.e7)([d.default],()=>d.default.getUser(e),[e]),a=(0,o.e7)([c.ZP],()=>c.ZP.getMember(t,e),[t,e]);if(null==i||null==a)return!1;let l=(0,h.yE)(null!==(n=a.flags)&&void 0!==n?n:0,m.q.BYPASSES_VERIFICATION),s=(null==i?void 0:i.isPhoneVerified())||(null==i?void 0:i.isStaff()),r=(null==a?void 0:a.joinedAt)!=null;return i.verified||s||r||l}function E(e){return l.useMemo(()=>{let t=p.default.extractTimestamp(e);return r()(new Date(t)).format("MMM DD, YYYY")},[e])}function g(e){return l.useMemo(()=>{let t=p.default.extractTimestamp(e);return r()(new Date(t)).format("MM/DD/YYYY")},[e])}function C(e,t){let n=(0,o.e7)([c.ZP],()=>c.ZP.getMember(t,e),[t,e]),i=null==n?void 0:n.joinedAt;return l.useMemo(()=>null==i?"":r()(new Date(i)).format("MMM DD, YYYY"),[i])}(a=i||(i={}))[a.NO_GATE=0]="NO_GATE",a[a.NO_AGREEMENT=1]="NO_AGREEMENT",a[a.AGREED=2]="AGREED"},637271:function(e,t,n){var i,a=n(442837),l=n(570140),s=n(592125),r=n(176505);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c={},u={};class d extends(i=a.ZP.PersistedStore){initialize(e){var t;c=null!==(t=null==e?void 0:e.selectedResourceChannelIdByGuildId)&&void 0!==t?t:{}}getState(){return{selectedResourceChannelIdByGuildId:c}}getSelectedResourceChannelId(e){return null==e?null:c[e]}getHomeNavigationChannelId(e){var t;return null==e?null:null!==(t=c[e])&&void 0!==t?t:u[e]}}o(d,"displayName","GuildOnboardingHomeNavigationStore"),o(d,"persistKey","GuildOnboardingHomeNavigationStore"),t.Z=new d(l.Z,{CHANNEL_SELECT:function(e){let{channelId:t,guildId:n}=e;if(null==n||t===r.oC.GUILD_HOME)return;let i=s.Z.getChannel(t),a=c[n],l=u[n];if(!((null==i?void 0:i.isThread())&&(null==i?void 0:i.parent_id)!=null&&[l,a].includes(null==i?void 0:i.parent_id)))t!==a&&delete c[n],t!==l&&delete u[n]},SELECT_HOME_RESOURCE_CHANNEL:function(e){let{channelId:t,guildId:n}=e;null==t?delete u[n]:c[n]=t,delete u[n]},SELECT_NEW_MEMBER_ACTION_CHANNEL:function(e){let{channelId:t,guildId:n}=e;delete c[n],u[n]=t}})},655359:function(e,t,n){n.d(t,{K_:function(){return d},P3:function(){return u},PE:function(){return h}}),n(789020);var i=n(399606),a=n(271383),l=n(630388),s=n(563534),r=n(846121),o=n(460347),c=n(372897);function u(e,t){var n;let a=(0,o.Z)(e),l=(0,i.e7)([s.Z],()=>s.Z.getNewMemberActions(e),[e]),c=(0,i.e7)([r.Z],()=>r.Z.getCompletedActions(e));if(!a)return{};let u=null!==(n=null==l?void 0:l.findIndex(e=>e.channelId===t.id))&&void 0!==n?n:0,d=u>=0&&null!=l?l[u]:null,h=null!=d&&(null==c?void 0:c[d.channelId])===!0;return{channelAction:d,completed:h}}function d(e,t){let n=(0,i.e7)([s.Z],()=>s.Z.getNewMemberActions(e)),a=(0,i.e7)([r.Z],()=>r.Z.getCompletedActions(e));return null==n?void 0:n.find(e=>(null==a?void 0:a[e.channelId])!==!0&&e.channelId!==t)}function h(e){var t;let n=(0,i.e7)([a.ZP],()=>a.ZP.getSelfMember(e));return(0,l.yE)(null!==(t=null==n?void 0:n.flags)&&void 0!==t?t:0,c.q.COMPLETED_HOME_ACTIONS)}},736052:function(e,t,n){n.d(t,{Z:function(){return u}}),n(789020);var i=n(399606),a=n(592125),l=n(630388),s=n(637271),r=n(931261),o=n(981631),c=n(176505);function u(e){var t;let n=(0,i.e7)([a.Z],()=>a.Z.getChannel(e)),u=null!=n&&(0,l.yE)(n.flags,c.zZ.IS_GUILD_RESOURCE_CHANNEL),d=(0,i.e7)([s.Z],()=>s.Z.getSelectedResourceChannelId(null==n?void 0:n.guild_id)),h=(0,r.g)(null!==(t=null==n?void 0:n.guild_id)&&void 0!==t?t:o.lds);return null!=n&&h&&u&&d===n.id}},898188:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(748780),o=n(399606),c=n(481060),u=n(607070),d=n(933557),h=n(471445),p=n(592125),m=n(271383),_=n(526120),f=n(734893),E=n(655359),g=n(931261),C=n(305762),I=n(689938),x=n(121568);function T(e){let{action:t}=e,n=(0,o.e7)([p.Z],()=>p.Z.getChannel(t.channelId)),a=(0,d.ZP)(n,!0);return null==n?(0,i.jsx)(c.Text,{variant:"text-xxs/normal",color:"header-secondary",children:I.Z.Messages.IN_CHANNEL.format({channelName:I.Z.Messages.UNKNOWN_CHANNEL_PLACEHOLDER})}):(0,i.jsx)(c.Text,{variant:"text-xxs/normal",color:"header-secondary",children:I.Z.Messages.IN_CHANNEL.format({channelName:a})})}function N(e){var t;let{channelId:n,emojiId:a,emojiName:l}=e,s=(0,o.e7)([p.Z],()=>p.Z.getChannel(n));if(null==s)return null;let r=null!==(t=(0,h.KS)(s))&&void 0!==t?t:c.TextIcon;return(0,i.jsx)(C.Z,{emojiId:a,emojiName:l,size:C.R.MEDIUM,defaultComponent:(0,i.jsx)(r,{className:x.channelIcon})})}function v(e){var t,n,l,d;let{guildId:h,channel:p,className:m}=e,{channelAction:g,completed:C}=(0,E.P3)(h,p),v=(0,E.K_)(h,null==g?void 0:g.channelId),S=(0,o.e7)([u.Z],()=>u.Z.useReducedMotion),Z=(null==g?void 0:g.actionType)===f.oi.VIEW,A=(0,c.useToken)(c.tokens.colors.WHITE),[M,b]=a.useState(!1),[R]=a.useState(new r.Z.Value(0)),[j]=a.useState(new r.Z.Value(0));a.useEffect(()=>{C?r.Z.timing(R,{toValue:0,duration:S?1:350,easing:r.Z.Easing.quad,delay:Z?0:500}).start(()=>b(!0)):r.Z.timing(R,{toValue:1,duration:S?1:350,easing:r.Z.Easing.quad,delay:400}).start()},[C,R,Z,S]),a.useEffect(()=>{C&&M&&r.Z.timing(j,{toValue:1,duration:S?0:350,easing:r.Z.Easing.quad,delay:400}).start()},[C,j,M,S]);let L=a.useCallback(()=>{null!=v&&(0,_.gp)(h,v.channelId)},[h,v]);return null==g||Z&&!M?null:(0,i.jsx)("div",{className:s()(x.container,m),children:M&&null!=v?(0,i.jsx)(r.Z.div,{style:{marginBottom:j.interpolate({inputRange:[0,1],outputRange:[-60,0]})},children:(0,i.jsxs)(c.Clickable,{className:s()(x.banner,x.clickable),onClick:L,children:[(0,i.jsx)(N,{channelId:v.channelId,emojiId:null===(t=v.emoji)||void 0===t?void 0:t.id,emojiName:null==v?void 0:null===(n=v.emoji)||void 0===n?void 0:n.name}),(0,i.jsxs)("div",{className:x.text,children:[(0,i.jsx)(c.Text,{variant:"text-md/semibold",color:"header-primary",children:I.Z.Messages.MEMBER_ACTIONS_NEXT_STEP.format({step:v.title})}),(0,i.jsx)(T,{action:v})]}),(0,i.jsx)("div",{className:x.iconCircle,children:(0,i.jsx)(c.ArrowSmallRightIcon,{size:"xs",color:A.hex(),className:x.nextIcon})})]})}):(0,i.jsxs)(r.Z.div,{className:x.banner,style:{marginBottom:R.interpolate({inputRange:[0,1],outputRange:[-60,0]})},children:[(0,i.jsx)(N,{channelId:g.channelId,emojiId:null===(l=g.emoji)||void 0===l?void 0:l.id,emojiName:null==g?void 0:null===(d=g.emoji)||void 0===d?void 0:d.name}),(0,i.jsxs)("div",{className:x.text,children:[(0,i.jsx)(c.Text,{variant:"text-md/semibold",color:"header-primary",children:g.title}),(0,i.jsx)(c.Text,{variant:"text-xxs/normal",color:"text-muted",children:I.Z.Messages.MEMBER_ACTION_CHAT})]}),C?(0,i.jsx)(c.CircleCheckIcon,{size:"custom",color:"currentColor",className:x.completed,secondaryColor:A.hex(),width:20,height:20}):null]})})}function S(e){let{guildId:t,channel:n,className:a}=e,l=(0,g.g)(t),s=(0,o.e7)([m.ZP],()=>{var e;return(null===(e=m.ZP.getSelfMember(t))||void 0===e?void 0:e.isPending)===!0});return(0,E.PE)(t)||s||!l?null:(0,i.jsx)(v,{guildId:t,channel:n,className:a})}},231873:function(e,t,n){var i,a,l,s,r,o;n.d(t,{Ft:function(){return l},Rg:function(){return i},j7:function(){return a}}),(s=i||(i={})).INVITE="member_joined",s.CHANNEL="create_channel",s.AVATAR="avatar",s.MESSAGE="send_message",s.COMPLETED="completed",s.DISMISSED="dismissed",(r=a||(a={})).PERSONALIZE_SERVER="Personalize Server",r.INVITE="Invite Friends",r.CREATE_CHANNEL="Create Channel",r.SEND_MESSAGE="Send Message",r.DOWNLOAD="Download",r.ADD_APP="Add App",r.DISMISS_GUILD_PROGRESS="Dismiss Guild Progress",r.DISCORD_OVERVIEW_VIDEO="Discord Overview Video",r.JOIN_GUILD="Join Guild",r.CONTACT_SYNC="Sync Contacts",r.DISMISS="Dismiss",(o=l||(l={})).CHANNEL_WELCOME="Channel Welcome CTA",o.GUILD_PROGRESS="Guild Progress",o.HUB_PROGRESS="Hub Progress"},644914:function(e,t,n){n.d(t,{TE:function(){return C},h_:function(){return I}}),n(47120);var i=n(470079),a=n(392711),l=n.n(a),s=n(442837),r=n(159300),o=n(901461),c=n(314897),u=n(592125),d=n(984933),h=n(650774),p=n(430824),m=n(819640),_=n(375954),f=n(496675),E=n(709054),g=n(981631);function C(e,t){return(0,s.cj)([f.Z],()=>({canInvite:(0,r.b)(f.Z,t,e),canManageGuild:null!=t&&f.Z.can(g.Plq.MANAGE_GUILD,t),canMessage:null!=e&&f.Z.can(g.Plq.SEND_MESSAGES,e),canCreateChannel:null!=t&&f.Z.can(g.Plq.MANAGE_CHANNELS,t)}),[t,e])}function I(e){var t;return{guildPopulated:function(e){let t=(0,s.e7)([u.Z],()=>u.Z.getChannel(null==e?void 0:e.systemChannelId)),n=(0,s.Wu)([_.Z],()=>null!=t?_.Z.getMessages(t.id).toArray():[]);return(0,s.e7)([h.Z],()=>{var t;let i=null!==(t=h.Z.getMemberCount(null==e?void 0:e.id))&&void 0!==t?t:0,a=n.some(e=>e.type===g.uaV.USER_JOIN);return i>1||a},[e,n])}(e),guildMessaged:function(e){let t=(0,s.e7)([u.Z],()=>null!=e?u.Z.getMutableBasicGuildChannelsForGuild(e.id):null);return function(e){let t=(0,s.e7)([c.default],()=>c.default.getId());return(0,s.e7)([_.Z],()=>l().some(e,e=>{let n=_.Z.getMessages(e.id).toArray();return l().some(n,e=>e.author.id===t&&!(0,o.Z)(e))}))}(i.useMemo(()=>null==t?[]:l().values(t),[t]))}(e),guildPersonalized:function(e){let t=(0,s.e7)([m.Z],()=>m.Z.hasLayers()),n=(0,s.e7)([p.Z],()=>p.Z.getGuild(null==e?void 0:e.id));return(null==n?void 0:n.icon)!=null&&!t}(e),guildChannelCreated:(t=e,(0,s.e7)([d.ZP],()=>{let e=d.ZP.getChannels(null==t?void 0:t.id),n=e[d.Zb];function i(e){return null!=t&&E.default.extractTimestamp(e.channel.id)-E.default.extractTimestamp(t.id)>500}return e[d.sH].some(i)||n.some(i)},[t]))}}},406074:function(e,t,n){n.d(t,{C:function(){return d}});var i=n(149765),a=n(442837),l=n(160404),s=n(592125),r=n(430824),o=n(584825),c=n(790285),u=n(981631);function d(e){let{guildId:t,channelId:n}=e,d=(0,o.qi)(t);return(0,a.Wu)([s.Z,r.Z,l.Z],()=>{let e=s.Z.getChannel(n),a=r.Z.getGuild(t),o=l.Z.isViewingServerShop(t);return null!=a&&null!=e?d.filter(t=>(function(e,t,n){let{isPreviewingRoles:a=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!(a||e.published))return!1;let l=n.permissionOverwrites[e.role_id];if((0,c.TG)(n,l))return!0;let s=r.Z.getRole(t.id,t.getEveryoneRoleId()),o=null!=s&&!i.e$(s.permissions,u.Plq.VIEW_CHANNEL),d=(0,c.wB)(n,n.permissionOverwrites[t.id]),h=r.Z.getRole(t.id,e.role_id);return o&&!d&&null!=h&&(0,c.MT)(h)&&!(0,c.wB)(n,l)})(t,a,e,{isPreviewingRoles:o})):[]},[t,n,d])}},660196:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(470079),a=n(442837),l=n(367907),s=n(906732),r=n(703656),o=n(626135),c=n(730647),u=n(289393),d=n(934826),h=n(981631);function p(e){var t;let{guildId:n,groupListingId:p,location:m,relevantSubscriptionListingIds:_}=e,f=(0,c.f)("useTrackRoleSubscriptionUpsellAnalytics"),{activeSubscription:E}=(0,d.Z)(p),g=null!=E,C=(0,a.Wu)([u.Z],()=>(null!=_?_:[]).filter(e=>{var t;return(null===(t=u.Z.getSubscriptionListing(e))||void 0===t?void 0:t.published)===!0}),[_]),{analyticsLocations:I}=(0,s.ZP)(null!==(t=(0,r.DR)())&&void 0!==t?t:[]),x=i.useRef(!1);i.useEffect(()=>{f&&null!=p&&null!=C&&!x.current&&(x.current=!0,o.default.track(h.rMx.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED,{role_subscription_group_listing_id:p,role_subscription_listing_ids:C,is_premium_member:g,location_stack:I,location:m,...(0,l.hH)(n)}))},[n,p,f,m,C,g,I])}},826763:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var a=n(481060),l=n(434404),s=n(962086),r=n(303737),o=n(981631),c=n(689938),u=n(45341),d=n(497224);function h(e){let{guildId:t}=e;return(0,i.jsx)("div",{className:u.upsellPage,children:(0,i.jsxs)("div",{className:u.upsellContainer,children:[(0,i.jsx)("img",{src:d,alt:""}),(0,i.jsxs)("div",{className:u.upsellContent,children:[(0,i.jsx)(a.Heading,{variant:"heading-xl/semibold",children:c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL_UPSELL_HEADER}),(0,i.jsx)(a.Text,{variant:"text-sm/normal",className:u.bodyText,children:c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL_UPSELL_BODY}),(0,i.jsx)(a.Button,{size:a.Button.Sizes.MEDIUM,onClick:()=>{(0,s.mL)(t),l.Z.open(t,o.pNK.ROLE_SUBSCRIPTIONS,void 0,o.KsC.ROLE_SUBSCRIPTION_TIERS),(0,r.GN)(t)},className:u.__invalid_button,children:c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL_UPSELL_BUTTON})]})]})})}},470134:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(481060),o=n(923726),c=n(689938),u=n(80045);function d(e){let{text:t,hasScrolled:n}=e;return(0,i.jsxs)("div",{className:s()(u.container,{[u.containerHide]:n}),children:[(0,i.jsx)("div",{className:u.notice,children:(0,i.jsx)(r.Text,{className:u.__invalid_label,variant:"text-md/medium",color:"header-primary",children:t})}),(0,i.jsx)("div",{className:u.noticeArrow})]})}function h(e){let[t,n]=a.useState(),[l,s]=a.useState(),[r,u]=a.useState(!1),[h,p]=a.useState(!1),{enabled:m}=(0,o.s1)(e);return a.useEffect(()=>{m&&null!=t&&null!=l?u(t<l):u(!1)},[m,t,l]),{horizontalScrollNotice:a.useMemo(()=>r?(0,i.jsx)(d,{text:c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_LISTINGS_SCROLLABLE_NOTICE,hasScrolled:h}):null,[r,h]),handleScroll:()=>p(!0),handleSetScrollerRef:e=>{var t;return s(null==e?void 0:null===(t=e.getScrollerState())||void 0===t?void 0:t.scrollWidth)},handleSetContainerRef:e=>n(null==e?void 0:e.clientWidth)}}},36246:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(873546),r=n(481060),o=n(470134),c=n(874771);function u(e){let{guildId:t,children:n,className:a}=e,{horizontalScrollNotice:u,handleScroll:d,handleSetScrollerRef:h,handleSetContainerRef:p}=(0,o.Z)(t),m=(0,i.jsx)("div",{className:c.tierPreviewsContainer,children:(0,i.jsx)("div",{className:l()(c.tierPreviews,a),children:n})});return!s.tq&&(m=(0,i.jsxs)(i.Fragment,{children:[u,(0,i.jsx)(r.AdvancedScroller,{className:c.scroller,orientation:"horizontal",ref:h,onScroll:d,children:m})]})),(0,i.jsx)("div",{className:c.carouselMaxWidth,ref:p,children:m})}},180216:function(e,t,n){n.d(t,{Z:function(){return E}}),n(47120);var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(592125),o=n(430824),c=n(584825),u=n(406074),d=n(660196),h=n(36246),p=n(305342),m=n(981631),_=n(689938),f=n(212017);function E(e){let{guildId:t,channelId:n}=e,E=(0,u.C)({guildId:t,channelId:n}),g=(0,c.GG)(t),C=(0,c.YB)(t),I=(0,l.e7)([o.Z],()=>o.Z.getGuild(t),[t]),x=null==I?void 0:I.name,T=(0,l.e7)([r.Z],()=>r.Z.getChannel(n)),N=a.useMemo(()=>{let e={};for(let t of g)for(let n of t.subscription_listings_ids)e[n]=t.id;return e},[g]);return((0,d.Z)({guildId:t,location:m.Sbl.ROLE_SUBSCRIPTION_GATED_CHANNEL,relevantSubscriptionListingIds:E.map(e=>e.id)}),null==I)?(0,i.jsx)("div",{className:f.__invalid_spinnerContainer,children:(0,i.jsx)(s.Spinner,{className:f.__invalid_spinner})}):(0,i.jsxs)(s.ScrollerAuto,{className:f.pageContainer,children:[(0,i.jsx)(s.Heading,{variant:"heading-xl/semibold",className:f.joinCtaTitle,children:_.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_UPSELL_PAGE_CTA.format({serverName:x,channelName:null==T?void 0:T.name})}),(0,i.jsx)(s.Text,{className:f.joinCtaSubtitle,variant:"text-md/normal",color:"header-secondary",children:null==C?void 0:C.description}),(0,i.jsx)(h.Z,{guildId:t,children:E.filter(e=>null!=N[e.id]).map(e=>(0,i.jsx)(p.Z,{guildId:t,listingId:e.id,groupListingId:N[e.id],analyticsLocation:m.Sbl.ROLE_SUBSCRIPTION_GATED_CHANNEL},e.id))})]})}},389303:function(e,t,n){n.d(t,{Z:function(){return c}}),n(47120);var i=n(314897),a=n(496675),l=n(938475),s=n(700785),r=n(924301),o=n(85243);function c(e){if(!e.isGuildVoice()||r.ZP.getGuildScheduledEventsByIndex(r.bN.CHANNEL_EVENT_ACTIVE(e.id)).length<1||!a.Z.can(o.AN,e))return!1;let t=new Set(l.ZP.getVoiceStatesForChannel(e).map(e=>e.user.id)),n=i.default.getId();for(let i of t)if(i!==n&&s.BT({permission:o.AN,user:i,context:e}))return!1;return!0}},95764:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(40851),r=n(889161),o=n(390322),c=n(871499),u=n(592125),d=n(15274),h=n(482241),p=n(389303),m=n(554747),_=n(689938),f=n(791671);function E(e){let{channelId:t,onClick:n}=e,E=(0,s.bp)(),g=(0,m.qY)(t),C=(0,a.e7)([u.Z],()=>u.Z.getChannel(t),[t]),{canManageGuildEvent:I}=(0,r.XJ)(C),x=I(g);if(null==g)return null;let T=()=>{if(null!=C&&(0,p.Z)(C)){(0,d.lC)(C,E);return}n()},N=()=>{h.Z.endEvent(g.id,g.guild_id)};return x?(0,i.jsx)(l.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(o.Z,{children:(0,i.jsx)(l.Menu,{navId:"exit-options",onSelect:()=>{},"aria-label":_.Z.Messages.DISCONNECT_MENU,onClose:t,children:(0,i.jsx)(l.MenuItem,{id:"end-voice-event",color:"danger",action:N,label:_.Z.Messages.END_EVENT,icon:l.CircleXIcon})})})},align:"center",position:"top",animation:l.Popout.Animation.FADE,children:e=>{let{onClick:t}=e;return(0,i.jsx)(c.d,{label:_.Z.Messages.DISCONNECT_SELF,color:"red",iconComponent:l.PhoneHangUpIcon,onClick:T,onPopoutClick:t,className:f.buttonSpacing})}}):(0,i.jsx)(c.d,{className:f.buttonSpacing,label:_.Z.Messages.DISCONNECT_SELF,color:"red",iconComponent:l.PhoneHangUpIcon,onClick:n})}},334877:function(e,t,n){n.d(t,{l:function(){return i}});let i=(0,n(652874).Z)(e=>({canCloseModal:!0,onUpdateCanCloseModal(t){e({canCloseModal:t})}}))},897669:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var a=n(481060),l=n(502568),s=n(894017),r=n(79874),o=n(854698),c=n(390966),u=n(689938),d=n(638849);function h(e){let{guildEvent:t,recurrenceId:n}=e,h=(0,r.ZP)(t,n),p=(0,s.Z)(n,t.id);if(null==t)return null;let m=(null==t?void 0:t.scheduled_start_time)!=null?(0,o.lh)(p,h.startTime,new Date(null==t?void 0:t.scheduled_start_time)):null;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.ZP.Divider,{className:d.divider}),(0,i.jsx)(c.z,{startTime:h.startTime.toISOString(),status:null!=m?m:t.status,liveText:u.Z.Messages.LIVE_EVENT,className:d.eventSchedule,textVariant:"text-lg/semibold",eventType:t.entity_type,guildEventId:null==t?void 0:t.id,recurrenceId:n}),(0,i.jsx)(a.Text,{color:"header-secondary",variant:"text-md/normal",className:d.eventName,children:t.name})]})}},688641:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(481060),r=n(689938),o=n(935560);function c(e){let{className:t,iconContainerClassName:n,icon:a,color:c,title:u,description:d,userCount:h,onClick:p,highlight:m}=e;return(0,i.jsxs)(s.Clickable,{className:l()(o.container,t,null!=m&&{[o.pulse]:m}),onClick:p,children:[(0,i.jsx)("div",{style:{backgroundColor:c},className:l()(o.icon,n),children:a}),(0,i.jsxs)("div",{className:o.textContainer,children:[(0,i.jsx)(s.Heading,{variant:"heading-md/semibold",children:u}),(0,i.jsx)(s.Text,{variant:"text-xs/normal",color:"header-secondary",className:o.inline,children:d}),null!=h&&h>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Text,{variant:"text-xs/normal",color:"header-secondary",className:o.dot,children:"•"}),(0,i.jsx)(s.Text,{variant:"text-xs/normal",color:"header-secondary",className:o.inline,children:r.Z.Messages.GUILD_EVENT_INTERESTED.format({count:h})})]}):null]}),(0,i.jsx)(s.ChevronSmallRightIcon,{size:"xs",color:"currentColor",className:o.caret})]})}},596449:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(692547),l=n(481060),s=n(576749),r=n(688641),o=n(689938);function c(e){let{className:t,guildId:c}=e,u=(0,s.Z)();return(0,i.jsx)(r.Z,{className:t,icon:(0,i.jsx)(l.CalendarIcon,{size:"custom",color:"currentColor",height:20,width:20}),color:a.Z.unsafe_rawColors.BRAND_500.css,title:o.Z.Messages.SCHEDULE_EVENT,description:o.Z.Messages.SCHEDULE_EVENT_DESCRIPTION,onClick:function(){(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("22347"),n.e("58023"),n.e("35454")]).then(n.bind(n,779250));return t=>(0,i.jsx)(e,{...t,guildId:c})},u)}})}},459502:function(e,t,n){n.d(t,{Z:function(){return f}}),n(724458);var i=n(735250);n(470079);var a=n(442837),l=n(692547),s=n(481060),r=n(889161),o=n(592125),c=n(15274),u=n(924301),d=n(554747),h=n(854698),p=n(688641),m=n(689938),_=n(769129);function f(e){let{channelId:t}=e,f=(0,a.e7)([o.Z],()=>o.Z.getChannel(t),[t]),E=(0,d.sz)(t),g=null!=(0,d.qY)(t),{canManageGuildEvent:C}=(0,r.XJ)(f),I=(0,a.cj)([u.ZP],()=>E.reduce((e,t)=>(e[t.id]=u.ZP.getUserCount(t.id,(0,h.DK)(t)),e),{}));return E.length<1||g?null:(0,i.jsx)(i.Fragment,{children:E.map(e=>(0,i.jsx)(p.Z,{icon:(0,i.jsx)(s.CalendarIcon,{size:"custom",color:"currentColor",height:20,width:20}),color:l.Z.unsafe_rawColors.GREEN_360.css,title:(C(e)?m.Z.Messages.GUILD_EVENT_START_PROMPT:m.Z.Messages.GUILD_EVENT_UPCOMING_PROMPT).format({eventName:e.name}),description:m.Z.Messages.GUILD_EVENT_START_PROMPT_DESCRIPTION.format({startTime:(0,h.ub)(e.scheduled_start_time).startDateTimeString}),onClick:()=>{var t;C(t=e)?(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("22347"),n.e("84722"),n.e("8006")]).then(n.bind(n,296864));return n=>(0,i.jsx)(e,{...n,event:t})}):(0,c.bO)({eventId:t.id,parentGuildId:t.guild_id})},userCount:I[e.id],className:_.eventPrompt},e.id))})}},856691:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(692547),l=n(481060),s=n(40851),r=n(881824),o=n(688641),c=n(689938);function u(e){let{className:t,channel:n,highlight:u}=e,d=(0,s.bp)();return(0,i.jsx)(o.Z,{highlight:null!=u&&u,className:t,icon:(0,i.jsx)(l.StageIcon,{size:"custom",color:"currentColor",height:20,width:20}),color:a.Z.unsafe_rawColors.GREEN_360.css,title:c.Z.Messages.STAGE_CHANNEL_START_TITLE,description:c.Z.Messages.STAGE_CHANNEL_START_SUBTITLE,onClick:function(){(0,r.T)(n,d)}})}},576749:function(e,t,n){var i=n(481060),a=n(40851),l=n(334877),s=n(981631);let r="guild-event-modal";t.Z=()=>{let e=(0,a.bp)()===s.IlC.POPOUT?i.POPOUT_MODAL_CONTEXT:i.DEFAULT_MODAL_CONTEXT;return{modalKey:r,contextKey:e,onCloseRequest:()=>{l.l.getState().canCloseModal&&(0,i.closeModal)(r,e)}}}},262317:function(e,t,n){n.d(t,{XX:function(){return k},ul:function(){return U}}),n(47120);var i,a=n(735250),l=n(470079),s=n(120356),r=n.n(s),o=n(149765),c=n(846519),u=n(481060),d=n(475179),h=n(239091),p=n(287734),m=n(872810),_=n(888651),f=n(100527),E=n(258609),g=n(257115),C=n(569545),I=n(382182),x=n(525925),T=n(701362),N=n(224184),v=n(484459),S=n(103575),Z=n(314897),A=n(430824),M=n(496675),b=n(979651),R=n(805009),j=n(981631),L=n(927923),P=n(70722),O=n(689938),y=n(492787);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){let{numUsers:t}=e;return(0,a.jsx)("div",{className:y.moreContainer,children:(0,a.jsxs)(u.Text,{color:"text-muted",variant:"text-sm/medium",children:["+",t]})})}function U(e){let{numAudience:t,collapsed:n}=e,i=n?t:O.Z.Messages.LISTENING_COUNT.format({count:t});return(0,a.jsxs)("div",{className:r()(y.audienceContainer,{[y.audienceContainerCollapsed]:n}),children:[(0,a.jsx)("div",{className:y.audienceIconContainer,children:(0,a.jsx)(u.HeadphonesIcon,{size:"md",color:"currentColor",className:y.audienceIcon})}),(0,a.jsx)(u.Text,{color:"text-muted",variant:"text-sm/medium",children:i})]})}class w extends(i=l.PureComponent){get canWatchStream(){let{channel:e,isStreaming:t}=this.props;return t&&(0,I.p9)(e,b.Z,A.Z,M.Z,E.Z)[0]}render(){let{userPopoutOpen:e}=this.state,{connectUserDragSource:t,canDrag:n,isSelfOnOtherClient:i,user:l,channel:s}=this.props,r=(0,a.jsx)("div",{className:y.draggable,"data-dnd-name":s.name,onMouseEnter:i?void 0:this.handleMouseEnter,onMouseLeave:i?void 0:this.handleHidePreview,children:(0,a.jsx)(u.Popout,{preload:()=>(0,v.W)(l.id,l.getAvatarURL(s.guild_id,80),{guildId:s.guild_id,channelId:s.id}),position:"right",renderPopout:this.renderUserPopout,shouldShow:e,onRequestClose:this.handleCloseUserPopout,children:e=>this.renderUser(e)})});return n?t(r):r}constructor(...e){super(...e),D(this,"domElementRef",l.createRef()),D(this,"state",{userPopoutOpen:!1,isHoveringHangStatus:!1}),D(this,"setIsHoveringHangStatusDelayed",new c.sW(500,()=>{this.setState({isHoveringHangStatus:!0})})),D(this,"handleClickUser",()=>{this.setState({userPopoutOpen:!this.state.userPopoutOpen})}),D(this,"handleCloseUserPopout",()=>{this.setState({userPopoutOpen:!1})}),D(this,"handleHidePreview",()=>{let{hidePreview:e,isStreaming:t,user:n,showHangStatus:i}=this.props;(t||i)&&(null==e||e(n.id)),this.setState({isHoveringHangStatus:!1})}),D(this,"handleMouseEnter",()=>{let{user:e,showPreview:t,isStreaming:n,showHangStatus:i}=this.props;(n||i)&&!this.state.userPopoutOpen&&(null==t||t(e.id))}),D(this,"handleHoverHangStatus",e=>{let{previewIsOpen:t}=this.props;e&&t?this.setIsHoveringHangStatusDelayed.delay():!e&&this.setIsHoveringHangStatusDelayed.isDelayed()&&this.setIsHoveringHangStatusDelayed.cancel()}),D(this,"handleHoverIcons",e=>{e&&(this.setIsHoveringHangStatusDelayed.cancel(),this.setState({isHoveringHangStatus:!1}))}),D(this,"handleWatchStream",()=>{let{user:e,channel:t,isWatching:n,hidePreview:i}=this.props;if(!this.canWatchStream)return;let a={streamType:P.lo.GUILD,ownerId:e.id,channelId:t.id,guildId:t.guild_id};Z.default.getId()!==e.id&&p.default.selectVoiceChannel(t.id),n?((0,x.Z)(a),d.Z.selectParticipant(a.channelId,(0,C.V9)(a))):(0,m.iV)(a),null==i||i(e.id)}),D(this,"handleJoinVoice",()=>{let{user:e,channel:t,hidePreview:n}=this.props;M.Z.can(o.$e(j.Plq.CONNECT,j.Plq.VIEW_CHANNEL),t)&&(p.default.selectVoiceChannel(t.id),null==n||n(e.id))}),D(this,"handleUserContextMenu",e=>{let{channel:t,user:i}=this.props;(0,h.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("12435"),n.e("47195")]).then(n.bind(n,757387));return n=>(0,a.jsx)(e,{...n,user:i,guildId:t.guild_id,channel:t,showMediaItems:!0,showStageChannelItems:t.isGuildStageVoice()})})}),D(this,"renderUserPopout",e=>{let{channel:t,user:n}=this.props,i=t.getGuildId();return(0,a.jsx)(S.Z,{location:"VoiceUser",userId:n.id,guildId:null!=i?i:void 0,channelId:t.id,newAnalyticsLocations:[f.Z.VOICE_USER],...e})}),D(this,"renderStreamPopout",()=>{let{user:e,channel:t,previewIsOpen:n,location:i}=this.props;return(0,a.jsx)(T.Z,{user:e,channel:t,onWatch:this.handleWatchStream,previewIsOpen:n,location:i})}),D(this,"renderHangStatusPopout",()=>{let{hangStatusActivity:e,previewIsOpen:t,user:n,channel:i}=this.props;return(0,a.jsx)(N.Z,{userId:n.id,channel:i,hangStatusActivity:e,previewIsOpen:t})}),D(this,"renderUser",e=>{let{isSelfOnOtherClient:t,otherClientSessionType:n,voicePlatform:i,shouldShowPreview:l,mute:s,localMute:o,localVideoDisabled:c,speaking:d,disconnected:h,user:p,deaf:m,priority:_,collapsed:f,isStreaming:E,isGuest:C,nick:I,video:x,serverMute:T,serverDeaf:N,tabIndex:v,embeddedApplication:S,channel:Z,hangStatusActivity:A,showHangStatus:M,isSelf:b,application:j}=this.props,{userPopoutOpen:P,isHoveringHangStatus:D}=this.state,k=L.al.has(null!=n?n:""),U={user:p,speaking:d,disconnected:h,mute:s,localMute:o,localVideoDisabled:c,isStreaming:E,isGuest:C,video:x,priority:_,deaf:m,nick:I,collapsed:f,overlap:f,serverMute:T,serverDeaf:N,tabIndex:v,otherClientSessionType:n,voicePlatform:i,embeddedApplication:S,avatarContainerClass:r()({[y.userAvatar]:!0}),disabled:t&&!k,selected:P,onClick:k?void 0:this.handleClickUser,onDoubleClick:this.handleWatchStream,onContextMenu:this.handleUserContextMenu,guildId:Z.guild_id,hangStatusActivity:A,showHangStatus:M,isSelf:b,application:j,channelId:Z.id};if(t){var w;return(0,a.jsx)(u.Tooltip,{text:null!==(w=(0,g.Z)(n))&&void 0!==w?w:O.Z.Messages.CONNECTED_ON_ANOTHER_CLIENT,children:e=>{let{onClick:t,onContextMenu:n,...i}=e;return(0,a.jsx)(R.Z,{...U,...i})}})}return(0,a.jsx)(u.Popout,{position:"right",renderPopout:M&&D||!E?this.renderHangStatusPopout:this.renderStreamPopout,shouldShow:l&&!P,onRequestClose:this.handleHidePreview,spacing:0,children:()=>(0,a.jsx)(R.Z,{...U,onMouseDown:e.onMouseDown,onKeyDown:e.onKeyDown,handleHoverHangStatus:this.handleHoverHangStatus,handleHoverIcons:this.handleHoverIcons})})})}}D(w,"defaultProps",{isSelfOnOtherClient:!1}),t.ZP=(0,_.$)(w)},207055:function(e,t,n){n(47120),n(653041);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(846519),c=n(586902),u=n(317381),d=n(812206),h=n(835473),p=n(362721),m=n(574176),_=n(106301),f=n(512384),E=n(470956),g=n(199902),C=n(314897),I=n(271383),x=n(131951),T=n(496675),N=n(158776),v=n(885110),S=n(797258),Z=n(606304),A=n(979651),M=n(805009),b=n(51144),R=n(649739),j=n(262317),L=n(981631),P=n(524484),O=n(298332);let y=a.memo(e=>{var t;let{mute:n,deaf:a,user:l,channel:s,sessionId:o,nick:T}=e,M=l.id,O=(0,r.e7)([C.default],()=>C.default.getId()===M,[M]),[y,D,k]=(0,r.Wu)([x.Z],()=>O?[!x.Z.isSupported()||x.Z.isSelfMute()||x.Z.isSelfMutedTemporarily(),x.Z.isSelfDeaf(),!1]:[!x.Z.isSupported()||x.Z.isLocalMute(M),!1,x.Z.isLocalVideoDisabled(M)],[O,M]),U=(0,r.e7)([Z.Z],()=>Z.Z.isPrioritySpeaker(M)),w=(0,c.Z)({userId:M,checkSoundSharing:!0}),B=(0,r.e7)([I.ZP],()=>I.ZP.isGuestOrLurker(s.guild_id,M)),H=(0,r.e7)([u.ZP],()=>u.ZP.getEmbeddedActivitiesForChannel(s.id).find(e=>{let{userIds:t}=e;return t.has(M)}),[M,s.id]),G=(0,h.Z)(null!=H?[H.applicationId]:[]),V=(0,R.Hr)("voice_users_eligibility_check",!1),F=(0,r.e7)([N.Z,v.Z],()=>O?v.Z.getActivities():N.Z.getActivities(M,s.guild_id)).find(e=>null!=e.application_id&&e.type===L.IIU.PLAYING),W=(0,r.e7)([d.Z],()=>(null==F?void 0:F.application_id)!=null?d.Z.getApplication(null==F?void 0:F.application_id):void 0);null!=W&&R.ZP.trackExposure({location:"voice_users"});let[z,Y]=(0,r.Wu)([g.Z],()=>[g.Z.getStreamForUser(M,s.getGuildId()),g.Z.getActiveStreamForUser(M,s.getGuildId())],[s,M]),K=(0,r.e7)([S.Z],()=>S.Z.getSessionById(o)),q=b.ZP.useName(l),X=(0,r.e7)([A.Z],()=>A.Z.getVoicePlatformForChannel(s.id,M),[s.id,M]),{enableHangStatus:Q}=m.n.useExperiment({guildId:s.guild_id,location:"VoiceUsers"}),J=(0,p.Z)(s,!0,l),$=(0,r.e7)([_.Z],()=>O?_.Z.getHangStatusActivity():null,[O]),ee=(0,r.e7)([N.Z],()=>N.Z.findActivity(M,e=>e.type===L.IIU.HANG_STATUS),[M]),et=(0,E.Eu)(s.id,M);return(0,i.jsx)(f.Z,{shakeLocation:P.oZ.VOICE_USER,isShaking:w,children:(0,i.jsx)(j.ZP,{...e,nick:null!=T?T:q,canDrag:e.canDrag&&!B,otherClientSessionType:null==K?void 0:null===(t=K.clientInfo)||void 0===t?void 0:t.os,voicePlatform:X,localMute:y&&!O,localVideoDisabled:k,mute:n||y,deaf:a||D,speaking:w,disconnected:et,priority:U,embeddedApplication:G[0],isStreaming:null!=z&&z.channelId===s.id,isWatching:null!=Y&&Y.state!==L.jm8.ENDED,isGuest:B,showHangStatus:J&&Q&&(C.default.getId()===l.id||null!=ee),hangStatusActivity:O?$:ee,isSelf:C.default.getId()===l.id,application:Q||V?W:void 0})})});y.displayName="ConnectedVoiceUser";let D=[];t.Z=function(e){let{allowPreviews:t=!0,allowDragging:n=!0,channel:l,voiceStates:c,collapsed:u,collapsedMax:d=6,tabIndex:p,location:m,numAudience:_,withGuildIcon:f=!1,className:g,children:I}=e,[x,v]=a.useState(null),[S,Z]=a.useState(!1),A=a.useRef(null),b=(0,E.Es)(l.id,null!=c?c:D),R=a.useRef(new o.sW(50,()=>{v(A.current),A.current=null})),P=a.useRef(new o.sW(175,()=>{v(null)})),k=a.useCallback(e=>{t&&(Z(!0),P.current.cancel(),A.current=e,R.current.delay())},[t]),U=a.useCallback(e=>{t&&(R.current.cancel(),x===e&&(Z(!1),P.current.delay()))},[t,x]),w=(0,r.Wu)([N.Z],()=>{if(u)return[];let e=new Set;return null==b||b.forEach(t=>{let{user:n}=t;N.Z.getActivities(n.id,l.guild_id).forEach(t=>{null!=t.application_id&&e.add(t.application_id)})}),Array.from(e)});(0,h.Z)(w);let B=(()=>{if(null==b||0===b.length)return null;let e=(u&&b.length>d+1?b.slice(0,d):b).map(e=>{var t;let{user:a,nick:s,voiceState:r}=e;return(0,i.jsx)(y,{user:a,nick:s,isSelfOnOtherClient:C.default.getId()===a.id&&r.sessionId!==C.default.getSessionId(),mute:r.isVoiceMuted(),deaf:r.isVoiceDeafened(),video:r.selfVideo,serverMute:r.mute,serverDeaf:r.deaf,sessionId:null!==(t=r.sessionId)&&void 0!==t?t:"",channel:l,collapsed:u,canDrag:n&&T.Z.can(L.Plq.MOVE_MEMBERS,l),showPreview:k,hidePreview:U,previewIsOpen:S,shouldShowPreview:x===a.id,tabIndex:p,location:m},a.id)});return null!=_&&_>0?e.push((0,i.jsx)(j.ul,{collapsed:u,numAudience:_})):u&&b.length>d+1&&e.push((0,i.jsx)(j.XX,{numUsers:b.length-d})),e})();return null==B&&null==I?null:(0,i.jsxs)(M.e,{className:s()(g,O.list,{[O.collapsed]:u,[O.withGuildIcon]:f}),collapsed:u,children:[B,I]})}},51486:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(399606),s=n(704215),r=n(952265),o=n(481060),c=n(243778),u=n(38618),d=n(914010),h=n(921944);function p(e){return"dismissible_content_".concat(h.R.GUILD_TAKEOVER_MODAL,"-").concat(e)}t.Z=a.memo(function(){return!function(){let e=(0,l.e7)([u.Z],()=>u.Z.isConnected())?[]:[],[t,m]=(0,c.U)(e,h.R.GUILD_TAKEOVER_MODAL),_=(0,r.f9)(),f=a.useRef(null);a.useEffect(()=>{if(null==t){f.current=null;return}if(!_&&f.current!==t)!function(e){let{dismissibleContent:t,markAsDismissed:a}=e,l={onCloseCallback:e=>a(null!=e?e:h.L.UNKNOWN),modalKey:p(t)},r=d.Z.getGuildId();if(t===s.z.SERVER_SHOP_UPSELL)null!=r&&(0,o.openModalLazy)(async()=>{let{default:e}=await n.e("7302").then(n.bind(n,756779));return t=>(0,i.jsx)(e,{...t,guildId:r,markAsDismissed:a})},l)}({dismissibleContent:t,markAsDismissed:m}),f.current=t},[t,_,m]),a.useEffect(()=>()=>{null!=t&&(0,r.Mr)(p(t))},[t])}(),null})},224184:function(e,t,n){var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(399606),o=n(481060),c=n(287734),u=n(654904),d=n(314897),h=n(271383),p=n(496675),m=n(19780),_=n(594174),f=n(626135),E=n(906605),g=n(574176),C=n(833858),I=n(866071),x=n(223135),T=n(625938),N=n(981631),v=n(689938),S=n(684501);t.Z=e=>{let{hangStatusActivity:t,userId:l,channel:Z,previewIsOpen:A}=e,{enableHangStatus:M}=g.n.useExperiment({guildId:Z.guild_id,location:"HangStatusPopout"}),b=(0,r.e7)([d.default],()=>d.default.getId()),R=(0,r.e7)([_.default],()=>_.default.getUser(l)),j=(0,r.e7)([m.Z],()=>m.Z.getChannelId()===Z.id),L=(0,r.e7)([p.Z],()=>p.Z.can(N.Plq.CONNECT,Z)),P=(null==t?void 0:t.emoji)==null||(0,I.K)(t.emoji,Z),O=(0,r.e7)([h.ZP],()=>null!=Z.guild_id&&null!=R?h.ZP.getMember(Z.guild_id,l):null),y=a.useMemo(()=>null!=R?(0,u.SG)(void 0,O,R,{size:40}):void 0,[O,R]);return(a.useEffect(()=>{(0,E.UP)()},[]),a.useEffect(()=>{M&&null!=t&&A&&null!=R&&b!==l&&f.default.track(N.rMx.VIEW_HANG_STATUS,{source:"HangStatusPopout",guild_id:Z.guild_id,channel_id:Z.id})},[M,t,A,R,b,l,Z]),M&&null!=R)?b===l?(0,i.jsx)("div",{className:s()(S.popoutWrapper,{[S.mounted]:A}),children:(0,i.jsx)(T.y,{currentStatus:t,channel:Z})}):null==t?null:(0,i.jsx)("div",{className:s()(S.popoutWrapper,{[S.mounted]:A}),children:(0,i.jsxs)("div",{className:S.popout,children:[(0,i.jsxs)("div",{className:S.contentContainer,children:[(0,i.jsxs)("div",{className:S.statusGroup,children:[(0,i.jsx)(o.Text,{variant:"text-xs/medium",color:"text-muted",children:v.Z.Messages.STATUS_LEAD_IN_JUST}),(0,i.jsx)(o.Text,{variant:"text-sm/semibold",color:"text-normal",className:S.statusText,children:(0,C.O8)(t)})]}),(0,i.jsxs)("div",{className:S.iconGroup,children:[(0,i.jsx)(x.Z,{className:S.statusIcon,hangStatusActivity:t}),(0,i.jsxs)("div",{className:S.avatarWrapper,children:[(0,i.jsx)(o.Avatar,{className:S.avatar,size:o.AvatarSizes.SIZE_40,src:y,"aria-hidden":!0}),(0,i.jsx)("div",{className:S.outline})]})]})]}),!j&&L?(0,i.jsx)(o.Button,{className:S.cta,size:o.Button.Sizes.SMALL,onClick:()=>{!j&&L&&(c.default.selectVoiceChannel(Z.id),f.default.track(N.rMx.HANG_STATUS_CTA_CLICKED,{source:"HangStatusPopout",guild_id:Z.guild_id,channel_id:Z.id}))},children:v.Z.Messages.CUSTOM_HANG_STATUS_CTA}):null,j&&P?(0,i.jsx)(o.Button,{className:S.cta,size:o.Button.Sizes.SMALL,onClick:()=>{let e=t.state;e===N.tNA.CUSTOM?(0,o.openModalLazy)(async()=>{let{default:e}=await n.e("1631").then(n.bind(n,333541));return n=>(0,i.jsx)(e,{...n,startingText:t.details,startingEmoji:t.emoji})}):(0,E.Zx)(e,!0),f.default.track(N.rMx.SWIPE_HANG_STATUS,{guild_id:Z.guild_id,channel_id:Z.id,media_session_id:m.Z.getMediaSessionId()})},children:v.Z.Messages.CUSTOM_HANGS_STATUS_COPY_CTA}):null]})}):null}},625938:function(e,t,n){n.d(t,{y:function(){return Z}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(392711),o=n.n(r),c=n(442837),u=n(704215),d=n(481060),h=n(788307),p=n(605236),m=n(594174),_=n(768581),f=n(906605),E=n(106301),g=n(833858),C=n(866071),I=n(223135),x=n(981631),T=n(231338),N=n(689938),v=n(362759);let S=e=>{let{style:t,className:n,name:a,icon:l}=e;return(0,i.jsx)(d.Tooltip,{text:a,children:e=>(0,i.jsx)("div",{className:s()(n,v.iconWidget),style:t,...e,children:null!=l&&l})})},Z=e=>{let{currentStatus:t,channel:l}=e,r=a.useRef(E.Z.getRecentCustomStatuses()),Z=a.useRef((0,p.un)(u.z.HANG_STATUS_NEW_BADGE)).current,A=(0,g.V)(),[M,b]=a.useState(null!=t?t:null),R=(0,c.e7)([m.default],()=>m.default.getCurrentUser()),j=()=>{!Z&&(0,p.EW)(u.z.HANG_STATUS_NEW_BADGE)},L=(e,t)=>{e.stopPropagation(),(0,f.Zx)(t,!0),j()},P=(e,t)=>{e.stopPropagation(),(0,f._s)(t.status,t.emoji,!0),j()},O=a.useCallback(e=>{e.stopPropagation(),(0,f.Sc)(!0)},[]),y=e=>{e.stopPropagation(),(0,d.openModalLazy)(async()=>{let{default:e}=await n.e("1631").then(n.bind(n,333541));return t=>(0,i.jsx)(e,{...t})}),j()},D=a.useCallback(e=>{b({type:x.IIU.HANG_STATUS,name:"Hang Status",state:e})},[]),k=a.useCallback(e=>{b({type:x.IIU.HANG_STATUS,name:"Hang Status",state:T.tN.CUSTOM,details:e.status,emoji:e.emoji})},[]);return(0,i.jsxs)("div",{className:v.popout,children:[!Z&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:v.popoutBackground}),(0,i.jsxs)("div",{className:v.onboarding,children:[(0,i.jsxs)("div",{className:v.title,children:[(0,i.jsx)(d.Text,{variant:"text-md/semibold",color:"header-primary",children:N.Z.Messages.ACTIVITY_STATUS}),(0,i.jsx)(d.TextBadge,{text:N.Z.Messages.BETA,disableColor:!0,className:v.newBadge})]}),(0,i.jsx)(d.Text,{variant:"text-xs/normal",color:"text-muted",className:v.helpText,children:N.Z.Messages.HANG_STATUS_HELP}),(0,i.jsxs)("div",{className:v.iconGroup,children:[null!=R&&(0,i.jsxs)("div",{className:v.avatarWrapper,children:[(0,i.jsx)(d.Avatar,{className:v.avatar,size:d.AvatarSizes.SIZE_40,src:(0,_.ov)(R),"aria-hidden":!0}),(0,i.jsx)("div",{className:v.outline})]}),(0,i.jsx)(I.Z,{className:v.statusIcon,hangStatusActivity:M})]})]})]}),(0,i.jsxs)("div",{className:v.options,children:[(0,i.jsxs)("div",{className:v.iconsContainer,children:[Object.entries(A).map(e=>{let[n,a]=e;return(0,i.jsx)(d.Clickable,{"aria-label":a.title,onMouseEnter:()=>D(n),onClick:e=>L(e,n),children:(0,i.jsx)(S,{className:s()(v.iconWidget,{[v.selectedWidget]:n===(null==t?void 0:t.state)}),name:a.title,icon:(0,i.jsx)("img",{src:a.icon,alt:"",className:v.icon}),style:n===(null==t?void 0:t.state)?{backgroundColor:null!=a.color?a.color:void 0}:{}})},n)}),(0,i.jsx)(d.Clickable,{"aria-label":N.Z.Messages.STATUS_POPOUT_CLEAR_STATUS,onClick:O,onMouseEnter:()=>b(null),children:(0,i.jsx)(S,{className:v.optionButton,name:N.Z.Messages.STATUS_POPOUT_CLEAR_STATUS,icon:(0,i.jsx)(d.DenyIcon,{size:"md",color:"currentColor",className:v.editIcon,colorClass:v.editIconColor})})})]}),(0,i.jsx)("div",{className:v.divider}),(0,i.jsxs)("div",{className:v.iconsContainer,children:[r.current.map((e,n)=>{let a=e.status===(null==t?void 0:t.details)&&o().isEqual(e.emoji,null==t?void 0:t.emoji),r=null!=e.emoji&&!(0,C.K)(e.emoji,l);return(0,i.jsxs)(d.Clickable,{"aria-label":e.status,onMouseEnter:()=>k(e),onClick:r?void 0:t=>P(t,e),className:v.statusOptionContainer,children:[(0,i.jsx)(S,{className:s()(v.iconWidget,{[v.selectedWidget]:a}),name:e.status,icon:null!=e.emoji?(0,i.jsx)(h.I,{className:v.customIcon,emoji:e.emoji,hideTooltip:!0}):null,style:a?{backgroundColor:"#7174B7B3"}:{backgroundColor:"#6466914D"}}),r?(0,i.jsx)("div",{className:v.emojiLockIconContainer,children:(0,i.jsx)(d.LockIcon,{size:"xs",color:"currentColor",className:v.emojiLockIcon})}):null]},"custom-status-".concat(n))}),r.current.length>0?(0,i.jsx)(d.Clickable,{"aria-label":null!=t?N.Z.Messages.STATUS_POPOUT_EDIT_CUSTOM:N.Z.Messages.STATUS_POPOUT_SET_CUSTOM,onClick:y,children:(0,i.jsx)(S,{className:v.optionButton,name:null!=t?N.Z.Messages.STATUS_POPOUT_EDIT_CUSTOM:N.Z.Messages.STATUS_POPOUT_SET_CUSTOM,icon:(0,i.jsx)(d.PencilIcon,{size:"custom",color:"currentColor",width:20,height:20,colorClass:v.editIconColor})})},"custom-status-edit"):(0,i.jsxs)(d.Clickable,{"aria-label":N.Z.Messages.STATUS_POPOUT_SET_CUSTOM,onClick:y,className:v.setCustomButton,children:[(0,i.jsx)(d.PencilIcon,{size:"xs",color:"currentColor",className:v.editIcon,colorClass:v.editIconColor}),(0,i.jsx)(d.Text,{variant:"text-xs/medium",color:"interactive-active",children:N.Z.Messages.STATUS_POPOUT_SET_CUSTOM})]},"custom-status-edit-full")]})]})]})}},73752:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2021-04_longer_group_dm_invites",label:"Longer Group DM Invites",defaultConfig:{inviteMaxAgeSeconds:86400},treatments:[{id:1,label:"Makes group DM invites expire after 1 week.",config:{inviteMaxAgeSeconds:604800}}]});t.Z=i},946734:function(e,t,n){n.d(t,{Z:function(){return A}}),n(47120);var i=n(735250),a=n(470079),l=n(392711),s=n.n(l),r=n(442837),o=n(481060),c=n(100527),u=n(906732),d=n(150039),h=n(171368),p=n(271383),m=n(430824),_=n(594174),f=n(514342),E=n(502568),g=n(602623),C=n(251625),I=n(823379),x=n(981631),T=n(228168),N=n(689938),v=n(743630);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Z{updateData(e){let{userId:t,user:n,channelId:i,analyticsLocations:a}=e;this.userId=t,this.user=n,this.channelId=i,this.analyticsLocations=a}getNicknameGuildPairs(){return this.generateNicknameGuildPairs(this.user)}renderNicknamePairs(){return this.getNicknameGuildPairs().map((e,t)=>{let[n,l]=e,s=(0,i.jsx)(o.Clickable,{tag:"span",onClick:this.handleClick,children:n});return l.length>0&&(s=(0,i.jsx)(o.TooltipContainer,{className:v.tooltip,text:l.join(", "),position:"bottom",children:s})),(0,i.jsxs)(a.Fragment,{children:[0!==t?", ":null,s]},t)})}constructor({userId:e,user:t,channelId:n,analyticsLocations:a}){S(this,"userId",void 0),S(this,"user",void 0),S(this,"channelId",void 0),S(this,"analyticsLocations",void 0),S(this,"generateNicknameGuildPairs",(0,C.oH)(e=>{var t;return s()(p.ZP.getNicknameGuildsMapping(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:this.userId)).toPairs().map(e=>{let[t,n]=e;return[t,n.map(e=>{var t;return null===(t=m.Z.getGuild(e))||void 0===t?void 0:t.name}).filter(I.lm)]}).value()})),S(this,"renderMoreAvatars",()=>(0,i.jsx)(o.TooltipContainer,{text:N.Z.Messages.AKA_MORE_AVATARS_OVERFLOW,position:"bottom",children:(0,i.jsx)(o.Clickable,{className:v.moreAvatars,onClick:this.handleClick,children:(0,i.jsx)(o.CirclePlusIcon,{size:"xs",color:"currentColor",className:v.plusIcon})})},"more-avatars")),S(this,"handleClick",()=>{(0,h.openUserProfileModal)({userId:this.userId,channelId:this.channelId,sourceAnalyticsLocations:this.analyticsLocations,section:T.oh.MUTUAL_GUILDS,analyticsLocation:{section:x.jXE.CHANNEL_HEADER}})}),this.userId=e,this.user=t,this.channelId=n,this.analyticsLocations=a}}function A(e){let{channel:t}=e,n=t.getRecipientId(),l=(0,d.gc)(n),s=Array(l.length).fill(null),{analyticsLocations:h}=(0,u.ZP)(c.Z.AKA),p=function(e){let{userId:t,channelId:n,analyticsLocations:i}=e,l=(0,r.e7)([_.default],()=>_.default.getUser(t),[t]),[s]=a.useState(()=>new Z({user:l,userId:t,channelId:n,analyticsLocations:i}));return s.updateData({userId:t,user:l,channelId:n,analyticsLocations:i}),s}({userId:n,analyticsLocations:h,channelId:t.id});return 0===p.getNicknameGuildPairs().length&&0===l.length?(0,i.jsx)("div",{className:v.spacer}):(0,i.jsxs)(u.Gt,{value:h,children:[(0,i.jsx)(E.iz,{}),(0,i.jsx)(o.TextBadge,{text:N.Z.Messages.AKA,disableColor:!0,className:v.akaBadge}),l.length>0?(0,i.jsx)(g.Z,{size:16,users:s,showUserPopout:!1,renderUser:(e,t,n)=>{var a;let s=p.user,r=l[n];return null==r||null==s?null:(0,i.jsx)(o.TooltipContainer,{text:null===(a=m.Z.getGuild(r))||void 0===a?void 0:a.name,position:"bottom",children:(0,i.jsx)("img",{alt:"",className:v.avatar,onClick:p.handleClick,src:s.getAvatarURL(r,16),"aria-hidden":!0})},r[1])},renderMoreUsers:p.renderMoreAvatars,guildId:void 0,max:3,className:v.avatars}):null,p.getNicknameGuildPairs().length>0?(0,i.jsx)(f.Z,{position:"bottom",className:v.nicknames,children:p.renderNicknamePairs()}):null]})}},168843:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(816782),r=n(367907),o=n(433355),c=n(914010),u=n(502568),d=n(981631),h=n(689938);function p(e){let{channelId:t}=e,n=(0,a.e7)([o.ZP],()=>o.ZP.getSection(t)),p=(0,a.e7)([c.Z],()=>c.Z.getGuildId()),m=n===d.ULH.MEMBERS;return(0,i.jsx)(u.JO,{tooltip:m?h.Z.Messages.MEMBER_LIST_SHOWN:h.Z.Messages.MEMBER_LIST_HIDDEN,icon:l.GroupIcon,onClick:()=>{r.ZP.trackWithMetadata(d.rMx.MEMBER_LIST_TOGGLED,{channel_id:t,guild_id:p,member_list_open:!m}),s.Z.toggleMembersSection()},selected:m})}},99843:function(e,t,n){var i=n(735250);n(470079);var a=n(493683),l=n(599059),s=n(762914),r=n(933557),o=n(981631),c=n(109742);t.Z=e=>{let{channel:t}=e,n=(0,r.ZP)(t),u=(0,s.Dd)(t.id);return(0,i.jsx)("div",{className:c.container,onDoubleClick:e=>e.stopPropagation(),children:u?(0,i.jsx)("div",{className:c.channelName,children:n}):(0,i.jsx)(l.Z,{minLen:1,maxLen:o.HN8,className:c.channelName,name:"channel_name",autoComplete:"off",value:null!=n?n:"",onBlur:e=>{n!==e.currentTarget.value&&a.Z.setName(t.id,e.currentTarget.value)}})})}},442336:function(e,t,n){n.d(t,{Z:function(){return f}}),n(47120);var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(92114),o=n(9156),c=n(502568),u=n(585483),d=n(621600),h=n(110255),p=n(981631),m=n(689938),_=n(777794);function f(e){let{channel:t}=e,n=(0,s.useRedesignIconContext)().enabled,[f,E]=(0,l.Wu)([o.ZP],()=>[o.ZP.isChannelMuted(t.getGuildId(),t.id),o.ZP.resolvedMessageNotifications(t)],[t]),[g,C]=a.useState(!1);a.useEffect(()=>{let e=()=>C(!0);return u.S.subscribe(p.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e),()=>{u.S.unsubscribe(p.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}},[]);let I=e=>{e.shiftKey?r.Z.updateChannelOverrideSettings(t.guild_id,t.id,{muted:!f},d.UE.muted(!f)):C(e=>!e)},x=m.Z.Messages.NOTIFICATION_SETTINGS;return(0,i.jsx)(s.Popout,{shouldShow:g,animation:s.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:()=>C(!1),renderPopout:e=>(0,i.jsx)(h.Z,{...e,channel:t,navId:"channel-context",label:m.Z.Messages.CHANNEL_ACTIONS_MENU_LABEL}),children:(e,t)=>{let{isShown:a}=t;return(0,i.jsx)(c.ZP.Icon,{...e,onClick:I,tooltip:a?null:x,icon:f||E!==p.bL.ALL_MESSAGES?s.BellSlashIcon:s.BellIcon,foreground:f&&!n?_.strikethrough:null,"aria-label":x,selected:a})}})}},57304:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(23536),o=n(40851),c=n(762914),u=n(731290),d=n(306680),h=n(594174),p=n(502568),m=n(585483),_=n(981631),f=n(689938);t.Z=function(e){let{channel:t}=e,n=(0,l.e7)([u.Z,h.default],()=>{let e=h.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!u.Z.didAgree(t.getGuildId()))},[t]),[E,g]=a.useState(!1),C=(0,l.e7)([d.ZP],()=>d.ZP.hasUnreadPins(t.id),[t]),I=(0,o.Aq)(),x=(0,c.Dd)(t.id),T=a.useCallback(()=>{!n&&g(e=>!e)},[n]);function N(e){!(null==e?void 0:e.shiftKey)&&I.dispatch(_.CkL.POPOUT_CLOSE)}return(a.useEffect(()=>(m.S.subscribe(_.CkL.TOGGLE_CHANNEL_PINS,T),()=>{m.S.unsubscribe(_.CkL.TOGGLE_CHANNEL_PINS,T)}),[T]),x)?null:(0,i.jsx)(s.Popout,{shouldShow:E,animation:s.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,ignoreModalClicks:!0,onRequestClose:()=>g(!1),renderPopout:function(e){return(0,i.jsx)(r.Z,{...e,onJump:N,channel:t})},children:(e,t)=>{let{isShown:a}=t;return(0,i.jsx)(p.JO,{...e,onClick:T,tooltip:a?null:f.Z.Messages.PINNED_MESSAGES,icon:s.PinIcon,"aria-label":f.Z.Messages.PINNED_MESSAGES,disabled:n,showBadge:C,selected:a})}})}},605953:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(479313),r=n(765104),o=n(502568),c=n(626135),u=n(981631),d=n(814249),h=n(689938);function p(e){let{channel:t}=e,n=(0,a.e7)([r.Z],()=>r.Z.shouldShowTopicsBar());return(0,i.jsx)(o.ZP.Icon,{icon:l.TopicsIcon,onClick:()=>{c.default.track(u.rMx.SUMMARIES_SIDEBAR_TOGGLED,{summaries_sidebar_open:!n,source:d.Dc.TOOLBAR_BUTTON,guild_id:t.guild_id,channel_id:t.id,channel_type:t.type}),(0,s.e7)()},tooltip:n?h.Z.Messages.SUMMARIES_SHOWN:h.Z.Messages.SUMMARIES_HIDDEN,selected:n,"aria-expanded":n})}},372564:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(374470),o=n(481060),c=n(239091),u=n(822951),d=n(933557),h=n(454585),p=n(984370),m=n(981631),_=n(689938),f=n(504273);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){let{channel:t,onClose:n,transitionState:a}=e,l=(0,d.ZP)(t,!0);return(0,i.jsx)(o.ModalRoot,{transitionState:a,"aria-label":_.Z.Messages.FORM_LABEL_CHANNEL_TOPIC,children:(0,i.jsx)(o.ModalContent,{children:(0,i.jsx)(u.Z,{selectable:!0,onClose:n,renderHeader:()=>(0,i.jsx)(o.Heading,{variant:"heading-lg/semibold",children:l}),children:(0,i.jsx)(o.Text,{selectable:!0,variant:"text-md/normal",className:f.content,children:h.Z.parseTopic(t.topic,!0,{channelId:t.id})})})})})}function C(e){return e.matches("a")||"highlight"===e.className||e.className.includes("mention")}class I extends a.Component{render(){let{channel:e}=this.props;return e.isMultiUserDM()||null==e.topic||0===e.topic.length?null:(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(p.Z.Divider,{}),(0,i.jsxs)("div",{className:s()(f.topic,f.expandable),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:this.handleContextMenu,onClick:this.handleClick,children:[(0,i.jsx)(o.Clickable,{onClick:this.handleClick,"aria-label":_.Z.Messages.OPEN_CHANNEL_TOPIC,className:f.topicClickTarget}),h.Z.parseTopic(e.topic,!0,{channelId:e.id,allowLinks:!0})]})]})}constructor(...e){super(...e),E(this,"_mouseDown",!1),E(this,"_mouseUp",!1),E(this,"handleOpenTopic",e=>{let t=e.target;if((0,r.k)(t)){if(C(t))return;let e=t.parentNode;if((0,r.k)(e)&&C(e))return}(0,o.openModal)(e=>(0,i.jsx)(g,{...e,...this.props}))}),E(this,"onMouseDown",()=>{this._mouseDown=!0}),E(this,"onMouseMove",()=>{this._mouseDown&&(this._mouseDown=!1)}),E(this,"onMouseUp",e=>{this._mouseDown&&e.button!==m.AeJ.SECONDARY&&this.handleOpenTopic(e),this._mouseUp=!0,this._mouseDown=!1}),E(this,"handleContextMenu",e=>{let{channel:t,guild:a}=this.props;(0,c.jW)(e,async()=>{let{default:e}=await n.e("24783").then(n.bind(n,439635));return n=>(0,i.jsx)(e,{...n,channel:t,guild:a,includeTopic:!0})})}),E(this,"handleClick",e=>{if(this._mouseUp){this._mouseUp=!1;return}this.handleOpenTopic(e)})}}t.Z=I},374306:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(961675),r=n(883429),o=n(238349),c=n(109434),u=n(456269),d=n(432771),h=n(920303),p=n(502568),m=n(689938);function _(e){var t,n;let{channel:_}=e,f=(0,u.r_)(_),E=(0,a.e7)([s.Z],()=>s.Z.hasHidden(_.id)),g=(0,d.c)(_.id),{sortOrder:C,tagFilter:I}=(0,c.H)(_.id),x=(0,a.e7)([o.Z,h.Z],()=>!!(o.Z.getThreadIds(_.id,C,I).length>0)||!!(h.Z.getThreads(_.id,C,I).length>0)||!1,[_.id,C,I]),T=_.isMediaChannel();if(!f||g||T&&x)return null;let N=(t=E,n=T,t?n?m.Z.Messages.MEDIA_CHANNEL_ADMIN_EDUCATION_SHOW:m.Z.Messages.FORUM_CHANNEL_ONBOARDING_SHOW:n?m.Z.Messages.MEDIA_CHANNEL_ADMIN_EDUCATION_HIDE:m.Z.Messages.FORUM_CHANNEL_ONBOARDING_HIDE);return(0,i.jsx)(p.JO,{tooltip:N,icon:l.CircleInformationIcon,onClick:()=>r.Z.hideAdminOnboarding(_.id,!E),selected:!E})}},217314:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250);n(470079);var a=n(399606),l=n(481060),s=n(210975),r=n(158776),o=n(699516),c=n(594174),u=n(51144),d=n(984370),h=n(689938),p=n(175803);function m(e){let t=e.channel.getRecipientId(),n=e.channel.isSystemDM(),m=(0,a.e7)([c.default],()=>c.default.getUser(t)),_=(0,a.e7)([r.Z],()=>r.Z.getStatus(t)),f=(0,a.e7)([r.Z],()=>r.Z.isMobileOnline(t)),E=(0,a.e7)([o.Z],()=>o.Z.getNickname(t)),g=u.ZP.useUserTag(m),C=(0,s.m$)({channelId:e.channel.id,location:"HeaderBarDirectMessageV2"});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.HiddenVisually,{children:h.Z.Messages.DIRECT_MESSAGE}),null!=m&&!n&&(0,i.jsx)("div",{children:(0,i.jsx)(l.Avatar,{status:_,isMobile:f,className:p.avatar,size:l.AvatarSizes.SIZE_24,"aria-label":u.ZP.getName(m),src:m.getAvatarURL(void 0,24)})}),(0,i.jsx)(d.Z.Title,{level:e.level,onClick:e.handleClick,onContextMenu:e.handleContextMenu,className:null!=e.handleClick?p.cursorPointer:null,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.TooltipContainer,{text:g,position:"bottom",children:null!=E?E:u.ZP.getName(m)}),C&&(0,i.jsx)(l.ShieldLockIcon,{size:"xxs","aria-label":h.Z.Messages.E2EE_CALL_VERIFIED_A11Y,color:l.tokens.colors.INTERACTIVE_NORMAL,className:p.secureFramesIcon})]})})]})}},910611:function(e,t,n){n.d(t,{TS:function(){return R},ud:function(){return Z},v0:function(){return M}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(933557),u=n(471445),d=n(266076),h=n(703656),p=n(699516),m=n(914010),_=n(594174),f=n(467679),E=n(346656),g=n(946734),C=n(99843),I=n(372564),x=n(984370),T=n(217314),N=n(981631),v=n(689938),S=n(175803);function Z(e){let{channel:t,channelName:n,parentChannel:l,guild:r,inSidebar:h=!1,handleClick:m,handleContextMenu:f,handleParentClick:E,handleParentContextMenu:g,renderFollowButton:I}=e,Z=(0,u.KS)(t,r),{prefix:A,level:M}=function(e,t){var n,i;switch(e){case N.d4z.DM:return{prefix:v.Z.Messages.DIRECT_MESSAGE,level:1};case N.d4z.GROUP_DM:return{prefix:v.Z.Messages.GROUP_DM,level:1};case N.d4z.GUILD_DIRECTORY:return{prefix:null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",level:1};case N.d4z.GUILD_ANNOUNCEMENT:case N.d4z.GUILD_TEXT:case N.d4z.GUILD_FORUM:case N.d4z.GUILD_MEDIA:case N.d4z.GUILD_STAGE_VOICE:case N.d4z.GUILD_VOICE:return{prefix:null!==(i=null==t?void 0:t.name)&&void 0!==i?i:"",level:1};case N.d4z.ANNOUNCEMENT_THREAD:case N.d4z.PUBLIC_THREAD:case N.d4z.PRIVATE_THREAD:return{prefix:v.Z.Messages.THREAD,level:2};default:return{prefix:null,level:1}}}(t.type,r),R=(0,i.jsxs)(i.Fragment,{children:[null!=A?(0,i.jsxs)(o.HiddenVisually,{children:[A,":"]}):null," ",n]});switch(t.type){case N.d4z.DM:return(0,i.jsx)(T.Z,{level:M,channel:t,handleClick:m,handleContextMenu:f});case N.d4z.GROUP_DM:if(t.isManaged())return R;return(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(o.HiddenVisually,{children:v.Z.Messages.GROUP_DM}),(0,i.jsx)("div",{children:(0,i.jsx)(d.Z,{"aria-hidden":!0,channel:t,size:o.AvatarSizes.SIZE_24,facepileSizeOverride:o.AvatarSizes.SIZE_32,experimentLocation:"header_bar",className:S.avatar})}),(0,i.jsx)(C.Z,{channel:t},"channel-".concat(t.id))]});case N.d4z.GUILD_ANNOUNCEMENT:case N.d4z.GUILD_TEXT:case N.d4z.GUILD_FORUM:case N.d4z.GUILD_MEDIA:return(0,i.jsxs)(a.Fragment,{children:[b(Z,t.type===N.d4z.GUILD_ANNOUNCEMENT?v.Z.Messages.NEWS_CHANNEL:v.Z.Messages.TEXT_CHANNEL),(0,i.jsx)(x.Z.Title,{level:M,onContextMenu:f,onClick:m,children:R}),null!=I?I():null]});case N.d4z.GUILD_VOICE:return(0,i.jsxs)(a.Fragment,{children:[b(Z,v.Z.Messages.VOICE_CHANNEL),(0,i.jsx)(x.Z.Title,{level:M,onContextMenu:f,onClick:m,children:R})]});case N.d4z.GUILD_STAGE_VOICE:return(0,i.jsxs)(a.Fragment,{children:[b(Z,v.Z.Messages.STAGE_CHANNEL),(0,i.jsx)(x.Z.Title,{level:M,onContextMenu:f,onClick:m,children:R})]});case N.d4z.ANNOUNCEMENT_THREAD:case N.d4z.PUBLIC_THREAD:case N.d4z.PRIVATE_THREAD:let j=null;if(!h&&null!=l){let e=(0,u.KS)(l,r);j=(0,i.jsxs)(a.Fragment,{children:[b(e,v.Z.Messages.TEXT_CHANNEL),(0,i.jsx)(x.Z.Title,{level:M,onContextMenu:g,onClick:E,className:s()(S.parentChannelName,S.cursorPointer),children:(0,c.F6)(l,_.default,p.Z)}),(0,i.jsx)(x.Z.Caret,{})]})}let L=(null==l?void 0:l.type)!=null&&N.TPd.GUILD_THREADS_ONLY.has(l.type);return(0,i.jsxs)(a.Fragment,{children:[j,b(L?null:Z,v.Z.Messages.THREAD),(0,i.jsx)(x.Z.Title,{level:M,onContextMenu:f,onClick:m,className:s()({[S.cursorPointer]:h,[S.forumPostTitle]:L}),children:R})]});case N.d4z.GUILD_DIRECTORY:let P=(null==r?void 0:r.hasFeature(N.oNc.HUB))?v.Z.Messages.HUB_DIRECTORY_CHANNEL_TITLE.format({guildName:n}):n;return(0,i.jsxs)(a.Fragment,{children:[null!==Z?(0,i.jsx)(x.Z.Icon,{iconClassName:S.__invalid_icon,icon:Z,"aria-hidden":!0}):null,(0,i.jsxs)(x.Z.Title,{level:M,onContextMenu:f,onClick:m,children:[null!=A?(0,i.jsxs)(o.HiddenVisually,{children:[A,":"]}):null," ",P]})]});default:return null}}let A=e=>{let{channel:t}=e,n=(0,r.e7)([_.default],()=>_.default.getCurrentUser()),a=(0,r.e7)([_.default],()=>_.default.getUser(t.getRecipientId()));return t.isDM()&&(null==n?void 0:n.isStaff())&&(null==a?void 0:a.isStaff())?(0,i.jsx)(f.Z,{type:f.Z.Types.STAFF_ONLY_DM}):null};function M(e,t){switch(e.type){case N.d4z.DM:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A,{channel:e}),(0,i.jsx)(g.Z,{channel:e},e.id)]});case N.d4z.GUILD_ANNOUNCEMENT:case N.d4z.GUILD_TEXT:case N.d4z.GUILD_VOICE:case N.d4z.GUILD_STAGE_VOICE:case N.d4z.GROUP_DM:return null!=t?(0,i.jsx)(I.Z,{channel:e,guild:t},e.id):null;default:return null}}function b(e,t){return(0,i.jsxs)(i.Fragment,{children:[null!==e&&(0,i.jsx)(x.Z.Icon,{iconClassName:S.__invalid_icon,icon:e,"aria-hidden":!0}),(0,i.jsx)(o.HiddenVisually,{children:t})]})}function R(e){let{guild:t,channel:n,caretPosition:a="left"}=e;return(0,r.e7)([m.Z],()=>m.Z.getGuildId())!==N.I_8||null==t?null:(0,i.jsxs)("div",{className:S.guildBreadcrumbContainer,children:["left"===a&&(0,i.jsx)(x.Z.Caret,{direction:"left"}),(0,i.jsx)(E.Z,{guild:t,size:E.Z.Sizes.SMALLER,className:S.guildBreadcrumbIcon,active:!0}),(0,i.jsx)(x.Z.Title,{onClick:()=>{(0,h.XU)(t.id,n.id)},className:s()(S.parentChannelName,S.cursorPointer),children:t.name}),"right"===a&&(0,i.jsx)(x.Z.Caret,{direction:"right"})]})}},575464:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(91192),r=n(442837),o=n(481060),c=n(129861),u=n(700582),d=n(158776),h=n(285952),p=n(51144),m=n(864731);function _(e){let{user:t,row:n,hideDiscriminator:a,comparator:_,selected:f,checked:E,onClick:g,onMouseEnter:C,"aria-setsize":I,"aria-posinset":x}=e,T=(0,r.e7)([d.Z],()=>d.Z.getStatus(t.id)),N=(0,s.JA)(String(t.id));return(0,i.jsx)(o.Clickable,{id:"user-row-".concat(n),className:m.friendWrapper,onClick:()=>{null!=g&&g(t.id)},onMouseEnter:()=>{null!=C&&C(n)},...N,role:"option","aria-selected":E,"aria-setsize":I,"aria-posinset":x,children:(0,i.jsxs)(h.Z,{align:h.Z.Align.CENTER,className:l()(m.friend,{[m.friendSelected]:f}),children:[(0,i.jsx)(u.Z,{user:t,status:T,className:m.avatar}),(0,i.jsxs)(h.Z,{className:m.match,align:h.Z.Align.BASELINE,children:[(0,i.jsx)(o.Text,{tag:"strong",className:m.nickname,"aria-hidden":!0,variant:"text-md/medium",children:null!=_&&_===t.tag?p.ZP.getName(t):null!=_&&""!==_?_:p.ZP.getName(t)}),(0,i.jsx)(c.Z,{user:t,hideDiscriminator:a,className:m.discordTag,usernameClass:m.__invalid_weightMedium,discriminatorClass:m.__invalid_weightMedium,forceUsername:!0})]}),(0,i.jsx)(o.Checkbox,{displayOnly:!0,size:22,value:E,className:m.checkbox})]})})}},915718:function(e,t,n){n.d(t,{Z:function(){return k}}),n(47120),n(653041);var i=n(735250),a=n(470079),l=n(442837),s=n(704215),r=n(481060),o=n(26151),c=n(287734),u=n(40851),d=n(607070),h=n(451576),p=n(358221),m=n(605236),_=n(243778),f=n(590293),E=n(970731),g=n(560688),C=n(173507),I=n(523746),x=n(819640),T=n(131951),N=n(699516),v=n(594174),S=n(979651),Z=n(502568),A=n(810090),M=n(585483),b=n(63063),R=n(981631),j=n(921944),L=n(65154),P=n(689938),O=n(745380);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class D extends a.PureComponent{componentDidMount(){M.S.subscribe(R.CkL.CALL_START,this.handleVoiceClick)}componentWillUnmount(){M.S.unsubscribe(R.CkL.CALL_START,this.handleVoiceClick)}renderVideoCallButton(){let e,t;let{inCall:n,callActive:a,callUnavailable:l,isBlocked:s,channel:o,mode:c}=this.props;if(n||a&&c===R.WtW.VOICE)return null;let u=o.isManaged(),d=null,h=!1;return T.Z.supports(L.AN.VIDEO)?s?(d=P.Z.Messages.CALL_UNAVAILABLE_BLOCKED_USERS,e=r.Tooltip.Colors.RED,h=!0):a&&c===R.WtW.VIDEO?(t=this.handleJoinVideoCall,d=u?P.Z.Messages.CONNECT:P.Z.Messages.JOIN_VIDEO_CALL):(t=this.handleStartVideoCall,d=u?P.Z.Messages.CONNECT:P.Z.Messages.START_VIDEO_CALL):(h=!0,t=this.handleBrowserNotSupported,d=P.Z.Messages.BROWSER_NOT_SUPPORTED),(0,i.jsx)(Z.ZP.Icon,{icon:r.VideoIcon,onClick:t,disabled:h||l,tooltip:d,tooltipColor:e})}renderVoiceCallButton(){let e;let{inCall:t,canShowTooltip:n,callActive:a,callUnavailable:l,isBlocked:o,channel:c,canShowActivityGdmTooltip:u,dismissibleContentTypes:d,useReducedMotion:h}=this.props;if(t)return null;let p=c.isManaged(),m="",f=!1;l?(m=p?P.Z.Messages.VOICE_UNAVAILABLE:P.Z.Messages.CALL_UNAVAILABLE,e=r.Tooltip.Colors.RED,f=!0):o?(m=P.Z.Messages.CALL_UNAVAILABLE_BLOCKED_USERS,e=r.Tooltip.Colors.RED,f=!0):m=a?p?P.Z.Messages.CONNECT:P.Z.Messages.JOIN_VOICE_CALL:p?P.Z.Messages.CONNECT:P.Z.Messages.START_VOICE_CALL;let g=(0,i.jsx)(Z.ZP.Icon,{icon:r.PhoneCallIcon,onClick:this.handleVoiceClick,disabled:f,tooltip:m,tooltipColor:e});return(0,i.jsx)(_.Z,{contentTypes:d,children:e=>{let{visibleContent:a,markAsDismissed:l}=e;if(a===s.z.ACTIVITY_GDM_CALL_TOOLTIP)return(0,i.jsx)(r.Popout,{position:"bottom",align:"center",animation:r.Popout.Animation.TRANSLATE,shouldShow:n&&u&&!t,renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(E.ZP,{header:(0,i.jsxs)("div",{children:[(0,i.jsx)(A.Z,{className:O.tooltipImage,autoPlay:!h,src:"https://cdn.discordapp.com/attachments/860252504826445825/1078051428028924006/mobile_coachmark.mp4",width:248,height:139.5,loop:!0,muted:!0}),(0,i.jsx)(r.Heading,{variant:"heading-md/bold",color:"always-white",children:P.Z.Messages.EMBEDDED_ACTIVITIES_DM_TOOLTIP_HEADER})]}),content:(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Text,{variant:"text-sm/normal",color:"always-white",children:P.Z.Messages.EMBEDDED_ACTIVITIES_DM_TOOLTIP_BODY}),(0,i.jsx)(r.Anchor,{href:b.Z.getArticleURL(R.BhN.ACTIVITIES),children:P.Z.Messages.LEARN_MORE})]}),buttonCTA:P.Z.Messages.GOT_IT,onClick:()=>{t(),l(j.L.UNKNOWN)},className:O.tooltip})},children:()=>g});return g}})}render(){return(0,i.jsxs)(a.Fragment,{children:[this.renderVoiceCallButton(),this.renderVideoCallButton()]})}constructor(...e){super(...e),y(this,"handleStartCall",(e,t)=>{let{channel:n,notFriend:i,appContext:a}=this.props,l=i?n.getRecipientId():null,s=()=>o.Z.call(n.id,t,!i&&!n.isManaged()&&!(null==e?void 0:e.shiftKey),l);t?(0,C.Z)(s,a):s()}),y(this,"handleJoinCall",e=>{c.default.selectVoiceChannel(this.props.channel.id,e)}),y(this,"handleVoiceClick",e=>{let{callUnavailable:t,callActive:n,canShowActivityGdmTooltip:i}=this.props;if(i&&(0,m.EW)(s.z.ACTIVITY_GDM_CALL_TOOLTIP,{dismissAction:j.L.AUTO}),t);else if(n)return this.handleJoinCall(!1);else return this.handleStartCall(e,!1)}),y(this,"handleStartVideoCall",e=>{this.handleStartCall(e,!0)}),y(this,"handleJoinVideoCall",()=>{let{appContext:e}=this.props;(0,C.Z)(()=>this.handleJoinCall(!0),e)}),y(this,"handleBrowserNotSupported",()=>{(0,g.Z)()})}}function k(e){let{channel:t}=e,n=(0,f.Z)(),r=(0,l.e7)([p.Z],()=>p.Z.getMode(t.id)),o=(0,l.e7)([S.Z],()=>S.Z.isInChannel(t.id)),c=(0,l.e7)([d.Z],()=>d.Z.useReducedMotion),{callActive:m,callUnavailable:_}=(0,l.cj)([I.Z],()=>({callActive:I.Z.isCallActive(t.id),callUnavailable:I.Z.isCallUnavailable(t.id)})),E=t.getRecipientId(),{notFriend:g,isBlocked:C}=(0,l.cj)([N.Z],()=>({notFriend:t.type===R.d4z.DM&&null!=E&&!N.Z.isFriend(E),isBlocked:t.type===R.d4z.DM&&null!=E&&N.Z.isBlocked(E)})),T=(0,l.e7)([v.default],()=>v.default.getUser(E)),Z=(0,u.bp)(),A=[],M=(0,h.Z)(t.id),b=(0,l.e7)([x.Z],()=>x.Z.hasLayers());M&&!b&&A.push(s.z.ACTIVITY_GDM_CALL_TOOLTIP);let[j,L]=a.useState(!1);return(a.useEffect(()=>{let e=setTimeout(()=>{L(!0)},250);return()=>clearTimeout(e)},[]),n||(null==T?void 0:T.bot))?null:(0,i.jsx)(D,{channel:t,mode:r,inCall:o,callActive:m,callUnavailable:_,notFriend:g,isBlocked:C,appContext:Z,canShowTooltip:j,canShowActivityGdmTooltip:M,dismissibleContentTypes:A,useReducedMotion:c})}},518311:function(e,t,n){n.d(t,{Z:function(){return eu}}),n(411104),n(653041),n(47120);var i,a=n(735250),l=n(470079),s=n(120356),r=n.n(s),o=n(392711),c=n.n(o),u=n(913527),d=n.n(u),h=n(873546),p=n(442837),m=n(481060),_=n(570140),f=n(26151),E=n(493683),g=n(758059),C=n(447543),I=n(708690),x=n(194359),T=n(425493),N=n(461745),v=n(40851),S=n(367907),Z=n(762914),A=n(43267),M=n(933557),b=n(366980),R=n(703656),j=n(131704),L=n(592125),P=n(341165),O=n(544610),y=n(19780),D=n(306680),k=n(699516),U=n(246946),w=n(594174),B=n(285952),H=n(153124),G=n(502568),V=n(626135),F=n(572004),W=n(585483),z=n(823379),Y=n(709054),K=n(51144),q=n(73752),X=n(575464),Q=n(981631),J=n(689938),$=n(994175),ee=n(838009),et=n(331651);function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ei=(0,H.hQ)(),ea=(0,H.hQ)();function el(e){let{className:t,children:n}=e;return(0,a.jsxs)(B.Z,{align:B.Z.Align.CENTER,justify:B.Z.Justify.CENTER,direction:B.Z.Direction.VERTICAL,className:r()($.errorState,t),children:[(0,a.jsx)("div",{className:r()($.errorStateIcon,et.marginBottom20)}),n]})}let es=e=>{var t;let{channel:n,onClose:i}=e,l=null!==(t=(0,M.ZP)(n))&&void 0!==t?t:"",s=(0,p.e7)([D.ZP],()=>{var e;return null!==(e=D.ZP.lastMessageId(n.id))&&void 0!==e?e:n.id});return(0,a.jsx)(m.Clickable,{onClick:()=>{(0,R.XU)(Q.ME,n.id),i()},children:(0,a.jsxs)("div",{className:$.confirmChannelItemContainer,children:[(0,a.jsx)(m.Avatar,{src:(0,A.x)(n),size:m.AvatarSizes.SIZE_24,"aria-label":l}),(0,a.jsx)("span",{className:$.confirmChannelName,children:l}),(0,a.jsx)("span",{className:$.lastActiveTimestamp,children:d()(Y.default.extractTimestamp(s)).fromNow()})]})})},er=e=>{let{onConfirm:t,channelIds:n,...i}=e,l=(0,p.Wu)([L.Z],()=>Array.from(n).map(L.Z.getChannel),[n]);return(0,a.jsxs)(m.ConfirmModal,{header:J.Z.Messages.GROUP_DM_INVITE_CONFIRM,confirmText:J.Z.Messages.GROUP_DM_INVITE_CONFIRM_BUTTON,cancelText:J.Z.Messages.CANCEL,onConfirm:t,confirmButtonColor:m.Button.Colors.BRAND,...i,children:[(0,a.jsx)(m.Text,{variant:"text-md/normal",children:J.Z.Messages.GROUP_DM_INVITE_CONFIRM_DESCRIPTION}),(0,a.jsx)(m.FormTitle,{className:$.selectExistingFormHeader,children:J.Z.Messages.GROUP_DM_INVITE_SELECT_EXISTING}),(0,a.jsx)(m.Scroller,{className:$.confirmInviteScroller,children:l.filter(z.lm).sort((e,t)=>{var n,i;let a=null!==(n=e.lastMessageId)&&void 0!==n?n:e.id,l=null!==(i=t.lastMessageId)&&void 0!==i?i:t.id;return Y.default.compare(l,a)}).map(e=>(0,a.jsx)(es,{onClose:i.onClose,channel:e},e.id))})]})};class eo extends(i=l.PureComponent){componentDidMount(){let{channel:e}=this.props;_.Z.wait(()=>I.Z.open(null==e?void 0:e.id));let t=(0,S.v_)(e);null!=e?e.isDM()?V.default.track(Q.rMx.OPEN_POPOUT,{...t,type:"Add Friends to DM",source:"DM",is_friend:!this.isNotFriends()}):V.default.track(Q.rMx.OPEN_POPOUT,{...t,type:"Add Friends to DM",source:"Group DM"}):V.default.track(Q.rMx.OPEN_POPOUT,{...t,type:"New Group DM",source:"Friends List"}),W.S.subscribe(Q.CkL.SCROLL_PAGE_UP,this.scrollPageUp),W.S.subscribe(Q.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown)}componentWillUnmount(){W.S.unsubscribe(Q.CkL.SCROLL_PAGE_UP,this.scrollPageUp),W.S.unsubscribe(Q.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown),null!=this.copyTimeout&&clearTimeout(this.copyTimeout),_.Z.wait(()=>I.Z.close())}isNotFriends(){let{channel:e}=this.props;if(null==e||!e.isDM())return!1;let t=e.getRecipientId();if(null==t)throw Error("no recipient in DM");return!k.Z.isFriend(t)}createInvite(){let{channel:e}=this.props;if(null==e||!e.isMultiUserDM()||this.isPartyFull())return;let{inviteMaxAgeSeconds:t}=q.Z.getCurrentConfig({location:"5326c5_1"},{autoTrackExposure:!1});C.Z.createInvite(e.id,{max_age:t},Q.t4x.GROUP_DM)}isPartyFull(){let{channel:e}=this.props;return null!=e&&e.recipients.length+1>=this.getMaxParticipants()}getMaxParticipants(){let{channel:e}=this.props,t=w.default.getCurrentUser();return null!=t&&t.isStaff()?Q.p3w:null!=e&&e.isBroadcastChannel()?Q.keq:null!=e&&e.userLimit>0?e.userLimit:Q.pAY}getRemaining(){let{channel:e,selectedUsers:t}=this.props,n=(null==e?0:e.recipients.length)+1;return this.getMaxParticipants()-t.size-n}renderCreateGroupButton(){let{channel:e,selectedUsers:t}=this.props,n=this.getRemaining(),i=null!=e&&0===t.size||n<0,l=t.size>1?J.Z.Messages.CREATE_GROUP_DM:J.Z.Messages.CREATE_DM;return(0,a.jsx)(m.Button,{fullWidth:!0,disabled:i,onClick:this.handleInviteUsers,children:l})}renderAddUsersButton(){let{channel:e,selectedUsers:t}=this.props;if(null==e||e.isDM())return;let n=this.getRemaining(),i=0===t.size||n<0;return(0,a.jsx)("div",{className:$.addButton,children:(0,a.jsx)(m.Button,{size:m.Button.Sizes.SMALL,disabled:i,onClick:this.handleInviteUsers,children:J.Z.Messages.ADD})})}renderSubtitle(){if(!this.props.hasFriends||this.isNotFriends()||this.isPartyFull())return null;let e=this.getRemaining(),t=e<=0?J.Z.Messages.GROUP_DM_INVITE_FULL_SUB2.format({number:this.getMaxParticipants()}):J.Z.Messages.GROUP_DM_INVITE_REMAINING.format({number:e});return(0,a.jsx)(m.Text,{variant:"text-xs/normal",className:r()($.subtitle,{[$.subtitleWarning]:e<0},et.marginTop4),children:t})}renderSearchBar(){var e;let{query:t,hasFriends:n,results:i,selectedRow:l,selectedUsers:s}=this.props;if(!n||this.isNotFriends())return null;let o=[];return s.forEach(e=>{let t=w.default.getUser(e);null!=t&&o.push(K.ZP.getName(t))}),(0,a.jsxs)(B.Z,{className:r()($.searchBar,et.marginTop20),children:[(0,a.jsx)(N.ZP,{ref:this.searchBarRef,className:$.searchBarComponent,autoFocus:!0,placeholder:0===s.size?J.Z.Messages.GROUP_DM_SEARCH_PLACEHOLDER:void 0,disabled:this.isPartyFull(),size:N.ZP.Sizes.MEDIUM,query:t,selectedRow:l,sections:[null!==(e=null==i?void 0:i.length)&&void 0!==e?e:0],tags:o,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onRemoveTag:this.handleRemoveUser,inputProps:{"aria-labelledby":ei,"aria-controls":ea,"aria-expanded":!0,"aria-activedescendant":"user-row-".concat(l)}}),this.renderAddUsersButton()]})}renderHeader(){let e=null!=this.scrollerRef.current&&this.state.separator,t=this.isNotFriends()?J.Z.Messages.GROUP_DM_ADD_FRIENDS:J.Z.Messages.GROUP_DM_HEADER;return(0,a.jsxs)(m.ModalHeader,{direction:B.Z.Direction.VERTICAL,align:B.Z.Align.STRETCH,className:$.__invalid_header,separator:e,children:[h.tq?this.renderMobileCloseButton():null,(0,a.jsx)(m.Heading,{id:ei,variant:"heading-lg/semibold",children:t}),this.renderSubtitle(),this.renderSearchBar()]})}renderBody(){let{channel:e,hasFriends:t,results:n}=this.props;if(this.isNotFriends()){let t=null!=e?e.getRecipientId():null;if(null==t)throw Error("no recipient in DM");let n=w.default.getUser(t),i=null!=n?n.username:"",l=null!=n&&k.Z.getRelationshipType(n.id)===Q.OGo.PENDING_OUTGOING;return(0,a.jsxs)(el,{className:$.notFriends,children:[(0,a.jsx)("div",{children:J.Z.Messages.GROUP_DM_INVITE_NOT_FRIENDS.format({username:i})}),(0,a.jsx)(m.Button,{disabled:l,size:m.Button.Sizes.SMALL,onClick:()=>null!=n?this.handleAddFriend(n):null,className:et.marginTop20,children:l?J.Z.Messages.ADD_FRIEND_BUTTON_AFTER:J.Z.Messages.ADD_FRIEND_BUTTON})]})}return t?this.isPartyFull()?(0,a.jsxs)(el,{className:$.partyFull,children:[(0,a.jsx)("div",{children:J.Z.Messages.GROUP_DM_INVITE_FULL_MAIN}),(0,a.jsx)("div",{children:J.Z.Messages.GROUP_DM_INVITE_FULL_SUB2.format({number:this.getMaxParticipants()})})]}):0===n.length?(0,a.jsx)(el,{className:r()($.noResults,et.marginBottom20),children:(0,a.jsx)("div",{children:J.Z.Messages.GROUP_DM_INVITE_EMPTY})}):(0,a.jsx)(m.List,{ref:this.scrollerRef,sections:[n.length],className:$.scroller,renderRow:this.renderRow,rowHeight:this.getRowHeight,renderSection:this.renderSection,sectionHeight:0,onScroll:this.handleScroll,paddingTop:0,paddingBottom:14,fade:!0,role:void 0,innerRole:"listbox",innerId:ea,innerAriaMultiselectable:!0,innerAriaOrientation:"vertical"}):(0,a.jsxs)(el,{className:$.noFriends,children:[(0,a.jsx)("div",{children:J.Z.Messages.GROUP_DM_INVITE_NO_FRIENDS}),(0,a.jsx)(m.Button,{autoFocus:!0,color:m.Button.Colors.GREEN,fullWidth:!0,size:m.Button.Sizes.SMALL,onClick:this.handleAddFriendNavigation,className:et.marginTop20,children:J.Z.Messages.ADD_FRIEND})]})}renderSection(){return null}renderInviteLink(){let{channel:e,invite:t,hideInstantInvites:n}=this.props,{copied:i}=this.state;if(null==e||!e.isMultiUserDM()||this.isPartyFull())return null;let s=null!=t?(0,b.Z)(t.code):"";return(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)(m.FormTitle,{tag:"h5",className:et.marginBottom8,children:J.Z.Messages.GROUP_DM_INVITE_LINK_TITLE}),(0,a.jsxs)(B.Z,{className:r()(ee.input,{[ee.success]:i}),justify:B.Z.Justify.BETWEEN,align:B.Z.Align.CENTER,children:[s.length>0?(0,a.jsx)(m.TextInput,{className:$.copyInput,name:"invite",value:n?J.Z.Messages.INSTANT_INVITE_HIDDEN:s,editable:!1,inputClassName:$.input,spellCheck:"false",onClick:e=>e.currentTarget.select()}):(0,a.jsx)(m.TextInput,{className:$.copyInput,name:"invite",value:s,placeholder:(0,b.Z)(J.Z.Messages.GROUP_DM_INVITE_LINK_EXAMPLE),editable:!1,inputClassName:$.input,spellCheck:"false",onClick:()=>this.createInvite()}),F.wS&&s.length>0?(0,a.jsx)(m.Button,{size:m.Button.Sizes.SMALL,color:i?m.Button.Colors.GREEN:m.Button.Colors.BRAND,className:$.copyButton,onClick:()=>this.handleCopyInvite(s),children:i?J.Z.Messages.INVITE_COPIED:J.Z.Messages.COPY}):null,0===s.length?(0,a.jsx)(m.Button,{size:m.Button.Sizes.SMALL,color:m.Button.Colors.BRAND,className:$.copyButton,onClick:()=>this.createInvite(),children:J.Z.Messages.GROUP_DM_INVITE_LINK_CREATE}):null]}),s.length>0?(0,a.jsx)(m.Text,{variant:"text-xs/normal",className:r()(et.marginTop8,$.footerText),children:J.Z.Messages.INVITE_EXPIRES_HOURS.format({numHours:"".concat(24)})}):null]})}renderFooter(){let{hasFriends:e,channel:t}=this.props;if(this.isNotFriends()||!e||this.isPartyFull())return null;let n=null==t||t.isDM()?this.renderCreateGroupButton():this.renderInviteLink();if(null!=n)return(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)("div",{className:$.footerSeparator}),(0,a.jsx)(B.Z,{direction:B.Z.Direction.VERTICAL,className:$.footer,children:n})]})}render(){let{transitionState:e}=this.props;return(0,a.jsxs)(m.ModalRoot,{transitionState:null!=e?e:m.ModalTransitionState.ENTERED,className:$.popout,children:[this.renderHeader(),this.renderBody(),this.renderFooter()]})}handleAddFriend(e){this.props.onClose(),x.Z.sendRequest({discordTag:K.ZP.getUserTag(e,{identifiable:"always"}),context:{location:"Group DM"}})}constructor(...e){super(...e),en(this,"state",{separator:!1,copied:!1}),en(this,"copyTimeout",void 0),en(this,"scrollerRef",l.createRef()),en(this,"searchBarRef",l.createRef()),en(this,"_mobileCloseRef",l.createRef()),en(this,"scrollPageUp",()=>{var e;null===(e=this.scrollerRef.current)||void 0===e||e.scrollPageUp({animate:!0})}),en(this,"scrollPageDown",()=>{var e;null===(e=this.scrollerRef.current)||void 0===e||e.scrollPageDown({animate:!0})}),en(this,"renderMobileCloseButton",()=>(0,a.jsx)("div",{className:r()($.mobileToolsContainer),ref:this._mobileCloseRef,children:(0,a.jsx)(m.FocusRingScope,{containerRef:this._mobileCloseRef,children:(0,a.jsx)("div",{children:(0,a.jsx)(T.Z,{className:$.mobileToolsCloseIcon,closeAction:this.props.onClose,keybind:"ESC"})})})})),en(this,"getRowHeight",(e,t)=>{if(e>0)return 0;let{results:n}=this.props;return null!=n[t]?42:0}),en(this,"renderRow",e=>{let{section:t,row:n}=e;if(t>0)return null;let{results:i,selectedUsers:l,selectedRow:s,hideDiscriminator:r}=this.props,o=i[n];if(null==o)return null;let{user:c,comparator:u}=o,d=l.has(c.id);return(0,a.jsx)(X.Z,{row:n,user:c,hideDiscriminator:r,comparator:u,checked:d,selected:n===s,onClick:this.handleClick,onMouseEnter:this.focusResult,"aria-posinset":n+1,"aria-setsize":i.length},c.id)}),en(this,"forceFocus",()=>{let e=this.searchBarRef.current;null==e||e.focus()}),en(this,"focusResult",e=>{I.Z.select(e)}),en(this,"handleSelect",(e,t)=>{let{results:n,channel:i}=this.props;null==t?I.Z.clear(null==i?void 0:i.id):null!=n&&this.handleClick(n[t].user.id)}),en(this,"handleSelectionChange",(e,t)=>{I.Z.select(t);let n=this.scrollerRef.current;null!=n&&n.scrollToIndex({section:e,row:t,padding:8})}),en(this,"handleQueryChange",e=>{let{channel:t}=this.props;I.Z.search(e,null==t?void 0:t.id)}),en(this,"handleRemoveUser",e=>{let t=Array.from(this.props.selectedUsers);I.Z.removeUser(t[e]),this.forceFocus()}),en(this,"handleClick",e=>{let{selectedUsers:t,query:n,channel:i}=this.props;t.has(e)?I.Z.removeUser(e):(I.Z.addUser(e),n.length>0&&I.Z.clear(null==i?void 0:i.id)),this.forceFocus()}),en(this,"handleAddFriendNavigation",()=>{(0,R.uL)(Q.Z5c.FRIENDS),g.Z.setSection(Q.pJs.ADD_FRIEND),this.props.onClose()}),en(this,"handleScroll",()=>{let e=this.scrollerRef.current;null!=e&&this.setState({separator:!e.isScrolledToTop()})}),en(this,"createNewDM",e=>{E.Z.openPrivateChannel(e,!1,!1,"New Group DM")}),en(this,"pushToExistingDM",(e,t)=>{let n=y.Z.getChannelId()===e.id;E.Z.addRecipients(e.id,t,Q.Sbl.ADD_FRIENDS_TO_DM).then(i=>{if(!!n){if(e.isDM()&&i!==e.id){f.Z.call(i,!1,!0);return}f.Z.ring(i,t)}})}),en(this,"handleInviteUsers",()=>{let{channel:e,selectedUsers:t,onClose:n}=this.props,i=Array.from(t);if(null!=e){let t=ed(Array.from(new Set([...e.recipients,...i])));t.size>0?(0,m.openModal)(n=>(0,a.jsx)(er,{...n,onConfirm:()=>this.pushToExistingDM(e,i),channelIds:t}),{},(0,m.modalContextFromAppContext)(this.context.appContext)):this.pushToExistingDM(e,i)}else{let e=ed(i);i.length>1&&e.size>0?(0,m.openModal)(t=>(0,a.jsx)(er,{...t,onConfirm:()=>this.createNewDM(i),channelIds:e}),{},(0,m.modalContextFromAppContext)(this.context.appContext)):this.createNewDM(i)}n()}),en(this,"handleCopyInvite",e=>{let{channel:t,invite:n}=this.props;null!=n&&(0,F.JG)(e),null!=this.copyTimeout&&clearTimeout(this.copyTimeout),this.setState({copied:!0}),this.copyTimeout=setTimeout(()=>{this.setState({copied:!1})},1e3),V.default.track(Q.rMx.COPY_INSTANT_INVITE,{server:null,channel:null!=t?t.id:null,channel_type:null!=t?t.type:null,location:Q.Sbl.ADD_FRIENDS_TO_DM,code:null!=n?n.code:null})})}}en(eo,"contextType",v.ZP);let ec=p.ZP.connectStores([O.Z,P.Z,U.Z],e=>{let t,{channel:n}=e;return null!=n&&null!=(t=P.Z.getInvite(n.id))&&t.isExpired()&&(t=null),{...O.Z.getState(),invite:t,hideDiscriminator:U.Z.hidePersonalInformation,hideInstantInvites:U.Z.hideInstantInvites}})(eo);function eu(e){let{channel:t,iconClassName:n,icon:i,tooltip:s,tooltipPosition:r="bottom",popoutPosition:o="bottom",popoutAlign:c="right",subscribeToGlobalHotkey:u=!1}=e,[d,h]=l.useState(null!=t&&t.isGroupDM()&&0===t.recipients.length),p=(0,Z.Dd)(null==t?void 0:t.id),_=l.useCallback(()=>h(e=>!e),[]);return(l.useEffect(()=>(u&&W.S.subscribe(Q.CkL.TOGGLE_DM_CREATE,_),()=>{W.S.unsubscribe(Q.CkL.TOGGLE_DM_CREATE,_)}),[u,_]),p)?null:(0,a.jsx)(m.Popout,{renderPopout:e=>(0,a.jsx)(ec,{...e,onClose:e.closePopout,channel:t}),position:o,shouldShow:d,align:c,onRequestClose:()=>h(!1),animation:m.Popout.Animation.NONE,children:e=>(0,a.jsx)(G.ZP.Icon,{...e,onClick:_,icon:null!=i?i:null==t?m.ChatPlusIcon:m.GroupPlusIcon,className:n,iconClassName:n,tooltip:s,tooltipPosition:r})})}function ed(e){let t=eh(e);return new Set(c()(L.Z.getMutablePrivateChannels()).values().filter(e=>(0,j.bc)(e.type)).filter(e=>eh(e.recipients)===t).map(e=>e.id).value())}function eh(e){return JSON.stringify(e.sort())}},180539:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(816782),r=n(318661),o=n(57048),c=n(87728),u=n(433355),d=n(502568),h=n(981631),p=n(689938);function m(e){let{channel:t,showCallOrActivityPanel:n}=e,m=(0,a.e7)([u.ZP],()=>u.ZP.getSection(t.id,null==t?void 0:t.isDM())),_=(0,r.ZP)(t.getRecipientId()),f=(0,c.Z)(),E=m===h.ULH.PROFILE&&!f;return(0,i.jsx)(d.JO,{disabled:f||n,tooltip:f||n?p.Z.Messages.SHOW_USER_PROFILE_UNAVAILABLE:E?p.Z.Messages.HIDE_USER_PROFILE:p.Z.Messages.SHOW_USER_PROFILE,icon:l.UserCircleStatusIcon,onClick:()=>{(0,o.a)(_,!E),s.Z.toggleProfilePanelSection()},selected:E&&!f&&!n})}},882378:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(442837),s=n(952265),r=n(481060),o=n(378298),c=n(444957),u=n(276618),d=n(367408),h=n(473092),p=n(819640),m=n(502568),_=n(134612),f=n(689938),E=n(286489);t.Z=a.memo(function(e){let{channel:t}=e,g=(0,c.h)(t.id),C=(0,u.o)(t.id),I=(0,d.M)(t.id),x=(0,s.f9)(),T=(0,l.e7)([p.Z],()=>p.Z.hasLayers()),N=a.useCallback(()=>C?f.Z.Messages.INAPPROPRIATE_CONVERSATION_INITIAL_TOOLTIP:null!=I?f.Z.Messages.INAPPROPRIATE_CONVERSATION_SAFETY_TOOLTIP:null,[C,I]),v=a.useMemo(()=>(C||null!=I)&&!x&&!T,[C,I,x,T]),[S,Z]=a.useState(N());a.useEffect(()=>{null!=I&&null!=g&&(r.AccessibilityAnnouncer.announce(f.Z.Messages.INAPPROPRIATE_CONVERSATION_SAFETY_TOOLTIP_ANNOUNCEMENT),setTimeout(()=>{(0,o.T)(t.id,[I.id])},5e3),(0,h.KQ)({channelId:t.id,senderId:t.getRecipientId(),warningId:I.id,warningType:I.type,isNudgeWarning:null!=I,viewName:h.pb.SAFETY_TOOLS_NUDGE_TOOLTIP})),C&&(r.AccessibilityAnnouncer.announce(f.Z.Messages.INAPPROPRIATE_CONVERSATION_INITIAL_TOOLTIP_ANNOUNCEMENT),setTimeout(()=>{(0,o.Ot)(t.id)},5e3))},[t,I,g,C]),a.useEffect(()=>{null!=g&&(0,h.KQ)({channelId:t.id,senderId:t.getRecipientId(),warningId:g.id,warningType:g.type,isNudgeWarning:null!=I,viewName:h.pb.SAFETY_TOOLS_BUTTON})},[]),a.useEffect(()=>{let e=N();null!=e&&Z(e)},[C,I,N]);let A=a.useCallback(()=>{if(null!=I&&(0,o.T)(t.id,[I.id]),null!=g)(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("49508"),n.e("89650")]).then(n.bind(n,611446));return n=>{let{onClose:a,transitionState:l}=n;return(0,i.jsx)(e,{otherUserId:t.getRecipientId(),channelId:t.id,warningId:g.id,warningType:g.type,onClose:a,transitionState:l})}},{modalKey:_.X_}),(0,h.qc)({channelId:t.id,senderId:t.getRecipientId(),warningId:g.id,warningType:g.type,cta:h.NM.USER_SAFETY_TOOLS_BUTTON_CLICK,isNudgeWarning:null!=I})},[I,g,t]);return null==g?null:(0,i.jsx)(r.Tooltip,{forceOpen:v,text:S,color:r.TooltipColors.BRAND,position:"bottom",tooltipClassName:E.tooltip,tooltipContentClassName:E.tooltipContent,children:()=>(0,i.jsx)(m.ZP.Icon,{icon:r.ShieldIcon,onClick:A,tooltip:f.Z.Messages.SAFETY_TOOLS_BUTTON_LABEL,tooltipDisabled:null!=I})})})},207868:function(e,t,n){var i=n(735250),a=n(470079),l=n(392711),s=n.n(l),r=n(442837),o=n(481060),c=n(557135),u=n(590293),d=n(66999),h=n(665906),p=n(496675),m=n(979651),_=n(502568),f=n(585483),E=n(981631),g=n(689938);t.Z=a.memo(function(e){let{channel:t}=e,n=(0,u.Z)(),l=(0,r.e7)([m.Z],()=>m.Z.isInChannel(t.id)),C=(0,r.e7)([m.Z],()=>!s().isEmpty(m.Z.getVoiceStatesForChannel(t.id))),I=(0,r.e7)([p.Z],()=>p.Z.can(E.Plq.CONNECT,t)),{needSubscriptionToAccess:x}=(0,d.Z)(t.id),T=(0,h.$R)(t),N=a.useCallback(()=>{c.Z.handleVoiceConnect({channel:t,connected:l,needSubscriptionToAccess:x,locked:!1})},[t,l,x]);return(a.useEffect(()=>(f.S.subscribe(E.CkL.CALL_START,N),()=>{f.S.unsubscribe(E.CkL.CALL_START,N)}),[N]),h.tM.useExperiment({guildId:t.guild_id,location:"63250c_1"},{autoTrackExposure:!1}).enabled&&!n&&!l&&I&&T&&t.isVocalThread())?(0,i.jsx)(_.ZP.Icon,{icon:o.PhoneCallIcon,onClick:N,tooltip:C?g.Z.Messages.JOIN_VOICE_CALL:g.Z.Messages.START_VOICE_CALL}):null})},6572:function(e,t,n){n.d(t,{Z:function(){return d}}),n(47120);var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(442837),r=n(963838),o=n(37091),c=n(689938),u=n(297115);function d(e){let t,{channelId:n,userId:a}=e,[d,h]=(0,s.Wu)([o.Z],()=>[o.Z.getWaitingHighFive(n,a),o.Z.getCompletedHighFive(n,a)]);if(null!=h)t=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{alt:c.Z.Messages.CALL_HIGH_FIVE_EXCLAMATION,src:(0,r._r)({name:h[0],id:null,animated:!1}),className:l()(u.completeLeft,u.highFive)}),(0,i.jsx)("img",{alt:c.Z.Messages.CALL_HIGH_FIVE_EXCLAMATION,src:(0,r._r)({name:h[1],id:null,animated:!1}),className:l()(u.completeRight,u.highFive)})]});else{if(null==d)return null;t=(0,i.jsx)("img",{alt:c.Z.Messages.CALL_HIGH_FIVE_EXCLAMATION,src:(0,r._r)({name:d,id:null,animated:!1}),className:l()(u.waiting,u.highFive)})}return(0,i.jsx)("div",{className:u.root,children:t})}},147754:function(e,t,n){var i=n(818083);t.Z=(0,i.B)({kind:"guild",id:"2021-11_hub_events",label:"Hub Events",defaultConfig:{showHubEventsList:!1},treatments:[{id:1,label:"Show Hub Events List",config:{showHubEventsList:!0}}]})},246919:function(e,t,n){var i=n(470079),a=n(442837),l=n(445384),s=n(420438),r=n(271383),o=n(594174),c=n(981631),u=n(440493);t.Z=e=>{let t=(0,a.e7)([s.Z],()=>(null==e?void 0:e.hasFeature(c.oNc.HUB))?s.Z.hasViewedPrompt(u.r.REAL_NAME_PROMPT,e.id):null),n=(0,a.e7)([o.default],()=>o.default.getCurrentUser()),d=(0,a.e7)([r.ZP],()=>(null==e?void 0:e.id)!=null&&null!=n?r.ZP.getMember(null==e?void 0:e.id,n.id):null),h=(null==d?void 0:d.nick)!=null;return i.useEffect(()=>{h&&null!=e&&!1===t&&l.Z.viewPrompt(u.r.REAL_NAME_PROMPT,e.id)},[h,e,t]),!1===t&&!h}},652730:function(e,t,n){var i,a,l,s,r=n(442837),o=n(570140),c=n(41776);let u=null,d=null;function h(){let e=c.Z.mostRecentLurkedGuildId();null!=e?(u=e,d=null):(null!=u?d=u:d=null,u=null)}class p extends(s=r.ZP.Store){initialize(){this.syncWith([c.Z],h)}shouldShowPopout(e){return d===e}}l="LurkerModePopoutStore",(a="displayName")in(i=p)?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,t.Z=new p(o.Z)},657352:function(e,t,n){var i=n(735250);n(470079);var a=n(481060),l=n(689938),s=n(995637);t.Z=e=>{let{guild:t,onClose:r}=e;return(0,i.jsxs)("div",{className:s.container,children:[(0,i.jsx)("img",{alt:"",className:s.image,src:n(238980)}),(0,i.jsxs)("div",{className:s.content,children:[(0,i.jsx)(a.Heading,{variant:"heading-md/semibold",children:l.Z.Messages.LURKER_MODE_POPOUT_SUCCESS_HEADER.format({guild:t.name})}),(0,i.jsx)(a.Text,{color:"header-secondary",variant:"text-sm/normal",children:l.Z.Messages.LURKER_MODE_POPOUT_SUCCESS_BODY}),(0,i.jsx)("div",{className:s.buttonContainer,children:(0,i.jsx)(a.Button,{onClick:r,children:l.Z.Messages.LURKER_MODE_POPOUT_SUCCESS_BUTTON})})]})]})}},48929:function(e,t,n){n(47120);var i,a,l,s=n(445346),r=n(570140),o=n(430198),c=n(314897),u=n(592125),d=n(709054),h=n(522579);let p=new Set;class m extends s.y{shouldDisplayPrompt(e){return p.has(e)}}l="MediaPostSharePromptStore",(a="displayName")in(i=m)?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,t.Z=new m(r.Z,{CONNECTION_OPEN:function(){p=new Set},MESSAGE_CREATE:function(e){var t;if(e.isPushNotification)return;let n=e.message;if(c.default.getId()!==(null===(t=n.author)||void 0===t?void 0:t.id)||!(0,h.z9)(n.id,n.channel_id))return;let i=u.Z.getChannel(n.channel_id);if(null!=i&&null!=i.parent_id)o.Z.isChannelGated(i.guild_id,i.parent_id)&&p.add(d.default.castMessageIdAsChannelId(e.message.id))},DISMISS_MEDIA_POST_SHARE_PROMPT:function(e){let{threadId:t}=e;p.delete(t)},LOGOUT:function(e){p.clear()}})},522579:function(e,t,n){n.d(t,{z9:function(){return l}}),n(399606);var i=n(592125),a=n(709054);function l(e,t){if(e!==a.default.castChannelIdAsMessageId(t))return!1;let n=i.Z.getChannel(t);if(null==n||!n.isForumPost())return!1;let l=i.Z.getChannel(n.parent_id);return(null==l?void 0:l.isMediaChannel())===!0}},333535:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250),a=n(470079),l=n(852229),s=n(399606),r=n(481060),o=n(367907),c=n(592125),u=n(934415),d=n(63063),h=n(158222),p=n(410992),m=n(981631),_=n(689938),f=n(263924);function E(e){let{threadId:t}=e,n=(0,s.e7)([c.Z],()=>c.Z.getChannel(t)),E=(0,s.e7)([c.Z],()=>c.Z.getChannel(null==n?void 0:n.parent_id)),g=a.useCallback(()=>{null!=n&&null!=E&&((0,o.yw)(m.rMx.MEDIA_POST_SHARE_PROMPT_CLICKED,{media_post_id:n.id}),(0,l.J)((0,u.EO)(n,E)))},[n,E]);return(0,i.jsxs)("div",{className:f.sharePromptContainer,children:[(0,i.jsx)(p.Z,{}),(0,i.jsxs)("div",{className:f.sharePromptContent,children:[(0,i.jsx)(r.Text,{variant:"text-md/semibold",color:"header-primary",children:_.Z.Messages.MEDIA_POST_SHARE_PROMPT_TITLE}),(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"text-normal",children:_.Z.Messages.MEDIA_POST_SHARE_PROMPT_SUBTITLE.format({helpArticleUrl:d.Z.getCreatorSupportArticleURL(m.BhN.MEDIA_CHANNEL)})}),(0,i.jsx)(r.Spacer,{size:4}),(0,i.jsxs)(r.Button,{className:f.sharePromptCta,innerClassName:f.ctaContent,onClick:g,children:[(0,i.jsx)(r.LinkIcon,{color:"currentColor",size:"xs"}),(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"always-white",children:_.Z.Messages.MEDIA_POST_SHARE_PROMPT_CTA})]})]}),(0,i.jsx)(r.Clickable,{className:f.closeButton,onClick:()=>{(0,h.fn)(t)},"aria-label":_.Z.Messages.REMOVE_MESSAGE_ATTACHMENT,children:(0,i.jsx)(r.CloseSmallIcon,{color:"currentColor",size:"xs"})})]})}},410992:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var a=n(325767);function l(e){let{width:t=45,height:n=46,...l}=e;return(0,i.jsxs)("svg",{...(0,a.Z)(l),width:t,height:n,viewBox:"0 0 49 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M29.424 22.375L30.9908 17.9974C31.6183 16.242 32.8917 14.792 34.5514 13.943L46.105 8.03515C47.7328 7.19988 49.3851 9.15697 48.2694 10.6141C47.1536 12.0713 45.1905 13.7662 42.0689 15.0465L45.5563 15.0222C46.9464 15.01 47.4829 16.8268 46.3123 17.5767C44.3247 18.8632 41.3372 19.924 37.4962 18.8144L38.9229 20.1557C39.6728 20.863 39.1119 22.1128 38.0815 22.0397C36.6183 21.9238 34.8746 21.4909 33.6857 20.2106C33.6857 20.2106 32.8992 22.375 30.8201 23.5639C30.0397 24.0089 29.1252 23.2224 29.424 22.375Z",fill:"white"}),(0,i.jsx)("path",{d:"M19.5767 46.8513C20.112 45.2515 18.84 43.3838 16.7357 42.6798C14.6314 41.9757 12.4916 42.7018 11.9563 44.3016C11.421 45.9014 12.6929 47.769 14.7973 48.4731C16.9016 49.1772 19.0414 48.4511 19.5767 46.8513Z",fill:"#66B9FF"}),(0,i.jsx)("path",{d:"M25.2658 39.551C25.0403 40.2339 24.4915 40.7521 23.7172 41.0996C23.9001 41.6423 23.9184 42.1788 23.7477 42.6848C23.577 43.1909 23.1685 43.6847 22.6198 44.0261C22.7379 44.4329 22.7336 44.8655 22.6076 45.2699C21.9918 47.0929 18.791 47.666 15.456 46.5441C12.121 45.4223 9.90783 43.0384 10.5175 41.2155C10.6648 40.8046 10.9325 40.4476 11.2857 40.1912C11.0662 39.6059 11.0236 39.0206 11.2065 38.478C11.3894 37.9354 11.7186 37.5574 12.1881 37.2342C11.7796 36.4904 11.6576 35.7405 11.8832 35.0637C12.56 33.0457 16.1083 32.4116 19.803 33.6493C23.4978 34.8869 25.9426 37.533 25.2658 39.551Z",fill:"#89D6FF"}),(0,i.jsx)("path",{d:"M9.76155 19.8454C11.6089 14.3277 19.0166 11.8341 26.2963 14.279C33.5759 16.7238 37.984 23.1743 36.1366 28.692C34.9294 32.2891 31.3628 34.5998 27.0096 35.0998C26.5376 35.1499 26.0849 35.3144 25.6908 35.5789C25.2966 35.8435 24.9729 36.2001 24.7477 36.6179L23.9855 38.0506C23.1686 39.3737 20.6079 39.7517 17.9557 38.8615C15.1146 37.9104 13.2368 35.868 13.694 34.2584L13.9318 33.0207C14.0215 32.5411 13.9898 32.0467 13.8397 31.5824C13.6895 31.1181 13.4257 30.6988 13.0722 30.3625C9.97494 27.3506 8.56657 23.406 9.76155 19.8454Z",fill:"#FFEFA3"}),(0,i.jsx)("path",{d:"M21.0407 42.2577C19.8335 42.2577 18.5166 42.0321 17.2119 41.5932C15.1755 40.9164 13.4013 39.7763 12.3344 38.4716C12.2837 38.4193 12.2444 38.3572 12.2191 38.289C12.1938 38.2207 12.1829 38.148 12.1872 38.0754C12.1915 38.0027 12.2109 37.9318 12.2441 37.8671C12.2773 37.8023 12.3236 37.7452 12.3801 37.6993C12.4366 37.6535 12.502 37.6199 12.5722 37.6006C12.6423 37.5814 12.7158 37.577 12.7877 37.5877C12.8597 37.5984 12.9287 37.624 12.9902 37.6628C13.0518 37.7016 13.1046 37.7528 13.1453 37.8131C14.0903 38.9654 15.6938 39.9836 17.5411 40.6055C19.2848 41.1908 21.0895 41.3615 22.504 41.0749C22.5736 41.0547 22.6467 41.0491 22.7186 41.0586C22.7905 41.068 22.8597 41.0923 22.9217 41.1298C22.9838 41.1674 23.0374 41.2174 23.0791 41.2767C23.1208 41.336 23.1498 41.4033 23.1642 41.4744C23.1786 41.5455 23.1781 41.6188 23.1627 41.6897C23.1473 41.7605 23.1174 41.8275 23.0748 41.8862C23.0322 41.9449 22.9779 41.9941 22.9154 42.0308C22.8528 42.0675 22.7833 42.0908 22.7113 42.0992C22.1613 42.2092 21.6015 42.2623 21.0407 42.2577V42.2577ZM20.8761 45.0745C21.0147 45.062 21.1429 44.9956 21.233 44.8896C21.3231 44.7835 21.3679 44.6463 21.3577 44.5075C21.3453 44.3693 21.2787 44.2417 21.1725 44.1526C21.0662 44.0635 20.9289 44.0201 20.7907 44.0319C19.5043 44.1416 17.9862 43.9283 16.5229 43.4344C14.9377 42.904 13.5233 42.0931 12.5478 41.1481C12.4458 41.0675 12.3175 41.0276 12.1878 41.0362C12.058 41.0448 11.9361 41.1014 11.8457 41.1948C11.7553 41.2882 11.7029 41.4119 11.6985 41.5419C11.6942 41.6718 11.7383 41.7987 11.8222 41.898C12.9075 42.9528 14.4622 43.849 16.1876 44.4282C17.5228 44.8733 18.858 45.105 20.0957 45.105C20.364 45.105 20.62 45.0928 20.8761 45.0745V45.0745Z",fill:"#3F96EF"}),(0,i.jsx)("path",{d:"M11.6396 20.8698C13.2065 16.1813 19.4924 14.0657 25.6746 16.1386C31.8568 18.2116 35.5942 23.6865 34.0212 28.375C32.9969 31.4296 29.9729 33.3867 26.2782 33.8074C25.8773 33.851 25.493 33.9914 25.1584 34.2166C24.8238 34.4418 24.549 34.7449 24.3577 35.0999L23.7114 36.3193C23.0163 37.4411 20.8459 37.7642 18.59 37.0082C16.1817 36.1973 14.5844 34.4658 14.9746 33.1001L15.1819 32.0454C15.2562 31.6382 15.2283 31.2189 15.1006 30.8252C14.9729 30.4314 14.7494 30.0756 14.4502 29.7895C11.8164 27.2349 10.6275 23.8877 11.6396 20.8698Z",fill:"url(#paint0_linear_859_60333)"}),(0,i.jsx)("path",{d:"M18.8521 39.1186C19.1939 39.1973 19.54 39.2563 19.8886 39.2954C21.5042 33.412 23.2053 28.7905 24.7234 26.0652C28.1254 27.1627 29.3875 26.6993 29.8387 26.1018C30.2898 25.5043 30.1374 24.6691 29.3875 23.5838C28.6376 22.4986 27.9121 22.151 27.0341 22.3096C26.1562 22.4681 25.2111 23.2851 24.2539 24.8032C23.3483 24.4754 22.4627 24.0947 21.6018 23.6631C21.7908 21.6572 21.553 20.3098 20.9007 19.5965C20.5105 19.1697 19.7666 18.749 18.468 19.1575C17.1694 19.566 16.9316 20.2305 16.9255 20.7183C16.9072 21.9072 18.5351 23.1997 20.48 24.2545C19.9617 28.0589 18.1571 33.6985 16.4377 38.2041C16.7412 38.3718 17.0547 38.5205 17.3767 38.6492C18.0412 36.8933 18.9801 34.3021 19.8032 31.6073C20.6263 28.9125 21.1994 26.5896 21.4677 24.7605C22.2298 25.1263 22.998 25.4495 23.7174 25.7177C22.9187 27.1688 22.0895 29.0954 21.2421 31.4549C20.6507 33.0949 19.7971 35.6556 18.8521 39.1186ZM27.217 23.3399C27.3816 23.3095 27.8694 23.2241 28.5278 24.1752C29.0766 24.9739 29.0887 25.3641 29.0095 25.4677C28.8022 25.7421 27.6133 25.8579 25.2782 25.1446C25.9854 24.0655 26.6439 23.4375 27.217 23.3399ZM20.6019 23.1204C18.9862 22.1876 17.962 21.2548 17.9681 20.7366C17.9742 20.4439 18.5412 20.2366 18.785 20.1574C19.0013 20.0837 19.2273 20.0426 19.4557 20.0354C19.8825 20.0354 20.0593 20.2244 20.1263 20.3037C20.5653 20.7793 20.6995 21.7791 20.6019 23.1204Z",fill:"#FFC31A"}),(0,i.jsx)("path",{d:"M32.5883 3.43255C32.9256 3.21613 33.2127 2.93007 33.4304 2.59358C33.648 2.25708 33.7912 1.87793 33.8503 1.48156L34.0515 0.115857C34.0573 0.0830328 34.0746 0.0533456 34.1003 0.0321176C34.126 0.0108896 34.1584 -0.000490999 34.1918 1.62532e-05C34.2244 -0.000288277 34.256 0.0113057 34.2807 0.032628C34.3054 0.0539503 34.3215 0.0835394 34.3259 0.115857L34.5271 1.48156C34.5862 1.87793 34.7294 2.25708 34.9471 2.59358C35.1647 2.93007 35.4519 3.21613 35.7892 3.43255L35.966 3.54839C35.9867 3.55964 36.004 3.57641 36.0158 3.59685C36.0277 3.6173 36.0336 3.64062 36.033 3.66423C36.0336 3.68785 36.0277 3.71117 36.0158 3.73162C36.004 3.75206 35.9867 3.76883 35.966 3.78007L35.7892 3.90201C35.4524 4.11903 35.1657 4.40525 34.9481 4.74163C34.7305 5.07802 34.587 5.45688 34.5271 5.85301L34.3259 7.21871C34.3216 7.25162 34.3057 7.28194 34.2812 7.30426C34.2566 7.32659 34.2249 7.33948 34.1918 7.34065V7.34065C34.1579 7.33971 34.1254 7.32703 34.0998 7.30479C34.0742 7.28256 34.0572 7.25213 34.0515 7.21871L33.8503 5.85301C33.7905 5.45688 33.647 5.07802 33.4294 4.74163C33.2118 4.40525 32.9251 4.11903 32.5883 3.90201L32.4115 3.78617C32.3918 3.77413 32.3758 3.75702 32.3651 3.73663C32.3543 3.71624 32.3493 3.69334 32.3505 3.67033V3.67033C32.3493 3.64732 32.3543 3.62442 32.3651 3.60403C32.3758 3.58364 32.3918 3.56653 32.4115 3.55449L32.5883 3.43255Z",fill:"#55EF84"}),(0,i.jsx)("path",{d:"M39.3804 39.3185C39.7181 39.1011 40.0054 38.8141 40.2231 38.4765C40.4408 38.139 40.5837 37.7588 40.6424 37.3614L40.8497 35.9957C40.8541 35.9634 40.8702 35.9338 40.8949 35.9125C40.9196 35.8912 40.9512 35.8796 40.9838 35.8799V35.8799C41.0165 35.8796 41.0481 35.8912 41.0728 35.9125C41.0974 35.9338 41.1135 35.9634 41.118 35.9957L41.3253 37.3614C41.3851 37.7584 41.5285 38.1382 41.7461 38.4755C41.9636 38.8129 42.2504 39.1003 42.5873 39.3185L42.7641 39.4283C42.7826 39.4415 42.7977 39.4589 42.8083 39.479C42.8189 39.4991 42.8246 39.5214 42.8251 39.5441V39.5563C42.8246 39.5782 42.8189 39.5996 42.8082 39.6187C42.7976 39.6379 42.7825 39.6541 42.7641 39.666L42.5873 39.7819C42.2498 39.9996 41.9627 40.2867 41.7451 40.6242C41.5274 40.9617 41.3843 41.3418 41.3253 41.739L41.118 43.0986C41.1137 43.1315 41.0978 43.1618 41.0733 43.1841C41.0487 43.2065 41.017 43.2194 40.9838 43.2205V43.2205C40.9507 43.2194 40.919 43.2065 40.8944 43.1841C40.8699 43.1618 40.854 43.1315 40.8497 43.0986L40.6424 41.739C40.5845 41.3414 40.4419 40.9609 40.2241 40.6233C40.0064 40.2856 39.7186 39.9987 39.3804 39.7819L39.2035 39.666C39.1852 39.6541 39.1701 39.6379 39.1594 39.6187C39.1488 39.5996 39.143 39.5782 39.1426 39.5563V39.5441C39.143 39.5214 39.1488 39.4991 39.1594 39.479C39.17 39.4589 39.1851 39.4415 39.2035 39.4283L39.3804 39.3185Z",fill:"#FF78B5"}),(0,i.jsx)("path",{d:"M26.5035 8.52263C26.7308 8.37742 26.9245 8.18538 27.0717 7.95934C27.2189 7.73329 27.3162 7.47844 27.3571 7.2118L27.4912 6.29118C27.4953 6.2696 27.5065 6.25004 27.5231 6.23565C27.5397 6.22127 27.5607 6.21291 27.5826 6.21192V6.21192C27.6049 6.21172 27.6265 6.21966 27.6433 6.23426C27.6602 6.24885 27.6711 6.26909 27.6741 6.29118L27.8143 7.2118C27.8541 7.47805 27.9503 7.73273 28.0964 7.95879C28.2426 8.18486 28.4353 8.37709 28.6618 8.52263L28.7776 8.60189C28.7914 8.60981 28.8027 8.62143 28.8103 8.63544C28.8178 8.64944 28.8213 8.66527 28.8203 8.68115C28.8208 8.69613 28.8171 8.71096 28.8096 8.72391C28.802 8.73686 28.7909 8.7474 28.7776 8.75431L28.6618 8.83357C28.4353 8.97911 28.2426 9.17135 28.0964 9.39741C27.9503 9.62348 27.8541 9.87815 27.8143 10.1444L27.6741 11.065C27.6711 11.0871 27.6602 11.1074 27.6433 11.1219C27.6265 11.1365 27.6049 11.1445 27.5826 11.1443V11.1443C27.5607 11.1433 27.5397 11.1349 27.5231 11.1206C27.5065 11.1062 27.4953 11.0866 27.4912 11.065L27.3571 10.1444C27.3162 9.87776 27.2189 9.62291 27.0717 9.39686C26.9245 9.17082 26.7308 8.97878 26.5035 8.83357L26.3876 8.75431C26.3752 8.74646 26.3648 8.73571 26.3573 8.72297C26.3499 8.71023 26.3457 8.69588 26.345 8.68115V8.68115C26.3452 8.66548 26.3492 8.6501 26.3566 8.6363C26.364 8.62251 26.3747 8.6107 26.3876 8.60189L26.5035 8.52263Z",fill:"#89D6FF"}),(0,i.jsx)("path",{d:"M0.524839 29.6125C0.752168 29.4673 0.945898 29.2752 1.09309 29.0492C1.24028 28.8231 1.33755 28.5683 1.3784 28.3016L1.51253 27.381C1.51663 27.3594 1.52789 27.3399 1.54448 27.3255C1.56108 27.3111 1.58204 27.3027 1.60399 27.3018V27.3018C1.62627 27.3016 1.64786 27.3095 1.6647 27.3241C1.68154 27.3387 1.69247 27.3589 1.69544 27.381L1.83567 28.3016C1.87543 28.5679 1.9716 28.8226 2.11776 29.0486C2.26391 29.2747 2.45667 29.4669 2.68313 29.6125L2.79897 29.6917C2.81276 29.6997 2.82407 29.7113 2.83161 29.7253C2.83915 29.7393 2.84263 29.7551 2.84165 29.771V29.771C2.84218 29.786 2.83846 29.8008 2.8309 29.8138C2.82335 29.8267 2.81228 29.8372 2.79897 29.8442L2.68313 29.9295C2.45667 30.0751 2.26391 30.2673 2.11776 30.4934C1.9716 30.7194 1.87543 30.9741 1.83567 31.2403L1.69544 32.161C1.69247 32.1831 1.68154 32.2033 1.6647 32.2179C1.64786 32.2325 1.62627 32.2404 1.60399 32.2402C1.58204 32.2392 1.56108 32.2309 1.54448 32.2165C1.52789 32.2021 1.51663 32.1825 1.51253 32.161L1.3784 31.2403C1.33755 30.9737 1.24028 30.7189 1.09309 30.4928C0.945898 30.2668 0.752168 30.0747 0.524839 29.9295L0.408999 29.8503C0.396513 29.8424 0.386111 29.8317 0.378679 29.8189C0.371248 29.8062 0.367008 29.7918 0.366321 29.7771V29.7771C0.365528 29.7604 0.369036 29.7438 0.37651 29.7288C0.383983 29.7139 0.39517 29.7011 0.408999 29.6917L0.524839 29.6125Z",fill:"#3541D6"}),(0,i.jsx)("path",{d:"M14.5781 21.0834L14.8647 16.6449C14.9792 14.8659 14.41 13.1103 13.2734 11.7369L5.37186 2.17094C4.25003 0.823536 2.06735 1.91488 2.49413 3.6159C2.92091 5.31693 3.99396 7.55448 6.2559 9.8591L3.20137 8.51778C1.98809 7.98126 0.829688 9.37135 1.57351 10.4749C2.83556 12.3527 5.05482 14.4135 8.84707 14.8951L7.08508 15.5353C6.15835 15.8706 6.17664 17.1814 7.10946 17.5046C8.43858 17.9618 10.1335 18.2423 11.6638 17.5655C11.6638 17.5655 11.5297 19.7604 12.9076 21.5956C13.4258 22.2845 14.5233 21.9431 14.5781 21.0834Z",fill:"white"}),(0,i.jsx)("path",{d:"M32.7407 25.4545C32.9236 27.1067 32.9663 28.3992 33.6369 28.3261C34.3076 28.2529 35.3441 26.8384 35.1611 25.1862C34.9782 23.5339 33.643 22.2658 32.9724 22.339C32.3017 22.4121 32.5578 23.8022 32.7407 25.4545Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_859_60333",x1:"34.2419",y1:"5.70262",x2:"5.61649",y2:"53.1558",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0.14","stop-color":"#FFE45C"}),(0,i.jsx)("stop",{offset:"0.83","stop-color":"#FFC31A"})]})})]})}},687683:function(e,t,n){var i,a,l,s;n.d(t,{WN:function(){return o},cl:function(){return i},oi:function(){return c},pS:function(){return a},t$:function(){return u},t9:function(){return r}});let r="Message Request Accept Confirmation";(l=i||(i={}))[l.ACCEPT=0]="ACCEPT",l[l.REJECT=1]="REJECT",l[l.ACCEPT_CONFIRMATION_PROMPT=2]="ACCEPT_CONFIRMATION_PROMPT",l[l.DISMISS_CONFIRMATION_PROMPT=3]="DISMISS_CONFIRMATION_PROMPT",l[l.ACCEPT_HAM_CONFIRMATION_PROMPT=4]="ACCEPT_HAM_CONFIRMATION_PROMPT",l[l.DISMISS_HAM_CONFIRMATION_PROMPT=5]="DISMISS_HAM_CONFIRMATION_PROMPT";let o=73,c=26,u=100;(s=a||(a={})).REQUESTS="REQUESTS",s.SPAM="SPAM"},268699:function(e,t,n){n.d(t,{H:function(){return o},V:function(){return c}});var i=n(735250);n(470079);var a=n(481060),l=n(626135),s=n(687683),r=n(981631);function o(e){let{channelId:t,onConfirm:o,onCancel:c}=e;l.default.track(r.rMx.OPEN_MODAL,{type:s.t9,channel_id:t}),(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("4117").then(n.bind(n,217723));return t=>(0,i.jsx)(e,{onConfirm:o,onDismiss:c,...t})})}function c(e){let{onConfirm:t,onCancel:l}=e;(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("7649").then(n.bind(n,797464));return n=>(0,i.jsx)(e,{onConfirm:t,onDismiss:l,...n})})}},748902:function(e,t,n){n(47120);var i,a,l,s,r=n(442837),o=n(570140),c=n(786761),u=n(594174),d=n(355298),h=n(333984);let p={},m=new Set;function _(e){return d.Z.isMessageRequest(e)||h.Z.isSpam(e)}function f(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!_(e)||null!=t&&e!==(null==t?void 0:t.channel_id))return;let i=null==t?null:(0,c.e5)(t);p[e]={loaded:!0,error:n,message:i}}class E extends(i=r.ZP.Store){initialize(){this.waitFor(d.Z,h.Z,u.default)}shouldLoadMessageRequestPreview(e){return!m.has(e)}getMessageRequestPreview(e){return!(e in p)&&(p[e]={loaded:!1,error:!1,message:null}),p[e]}}s="MessageRequestPreviewStore",(l="displayName")in(a=E)?Object.defineProperty(a,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[l]=s,t.Z=new E(o.Z,{CONNECTION_OPEN:function(){p={},m.clear()},CHANNEL_CREATE:function(e){let{channel:t}=e;_(t.id)&&m.add(t.id)},CHANNEL_UPDATES:function(e){let{channels:t}=e;for(let e of t)!_(e.id)&&(m.delete(e.id),delete p[e.id])},CHANNEL_DELETE:function(e){let{channel:t}=e;m.delete(t.id),delete p[t.id]},MESSAGE_CREATE:function(e){if(e.isPushNotification)return!1;f(e.message.channel_id,e.message)},MESSAGE_UPDATE:function(e){let t=e.message.channel_id;if(null==t)return!1;let n=p[t];if(null==n||null==n.message)return!1;p[t]={...n,message:(0,c.wi)(n.message,e.message)}},MESSAGE_DELETE:function(e){if(!_(e.channelId))return!1;p[e.channelId]={loaded:!0,error:!1,message:null}},LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_SUCCESS:function(e){let{requestedChannelIds:t,supplementalData:n}=e,i=new Set([...t]);for(let e of(n.forEach(e=>{f(e.channel_id,e.message_preview),i.delete(e.channel_id)}),Array.from(i)))f(e,null)},LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_ERROR:function(e){let{requestedChannelIds:t}=e;t.forEach(e=>{f(e,null,!0)})}})},385956:function(e,t,n){n.d(t,{T:function(){return r},v:function(){return s}});var i=n(442837),a=n(355298),l=n(333984);function s(e){return(0,i.e7)([a.Z],()=>a.Z.isMessageRequest(e),[e])}function r(e){return(0,i.e7)([a.Z,l.Z],()=>null!=e&&(a.Z.isMessageRequest(e)||l.Z.isSpam(e)))}},15701:function(e,t,n){n.d(t,{G:function(){return l}});var i=n(442837),a=n(333984);function l(e){return(0,i.e7)([a.Z],()=>a.Z.isSpam(e),[e])}},486622:function(e,t,n){n.d(t,{m:function(){return E}}),n(47120);var i=n(470079),a=n(707019),l=n.n(a),s=n(881052),r=n(726521),o=n(621853),c=n(484459),u=n(695346),d=n(626135),h=n(823162),p=n(268699),m=n(9389),_=n(687683),f=n(981631);function E(e){let{user:t,onAcceptSuccess:n,onRejectSuccess:a,onError:E}=e,g=(0,m.Z)(),[C,I]=i.useState(!1),[x,T]=i.useState(!1),[N,v]=i.useState(!1),[S,Z]=i.useState(!1),[A,M]=i.useState(!1),b=C||x||N,R=i.useCallback(async e=>{if(!b){I(!0);try{await (0,h.e4)(e),Z(!0),null==n||n()}catch(t){let e=new s.Hx(t);null==E||E(e)}finally{I(!1)}}},[b,n,E]),j=i.useCallback(async e=>{if(!b){T(!0);try{await (0,h.gN)(e),M(!0),null==a||a()}catch(t){let e=new s.Hx(t);null==E||E(e)}finally{T(!1)}}},[b,a,E]),L=i.useCallback(async e=>{if(b)return;T(!0);let t=l()(e,_.t$);try{for(let e of t)await (0,h.r_)(e);M(!0),null==a||a()}catch(t){let e=new s.Hx(t);null==E||E(e)}finally{T(!1)}},[b,a,E]),P=i.useCallback(async e=>{if(b)return;if(null!=t&&null==o.Z.getMutualGuilds(t.id)){v(!0);try{await (0,c.Z)(t.id,t.getAvatarURL(void 0,80),{withMutualGuilds:!0,withMutualFriendsCount:!0})}catch(e){}finally{v(!1)}}let n=async()=>{var n;let i=null!=t?null===(n=o.Z.getMutualGuilds(t.id))||void 0===n?void 0:n.map(e=>e.guild.id):[];d.default.track(f.rMx.MESSAGE_REQUEST_ACTION,{action:_.cl.ACCEPT_CONFIRMATION_PROMPT,channel_id:e,mutual_guild_ids:null!=i?i:[],other_user_id:null==t?void 0:t.id}),await R(e)};(0,p.H)({channelId:e,onConfirm:n,onCancel:()=>{var n;let i=null!=t?null===(n=o.Z.getMutualGuilds(t.id))||void 0===n?void 0:n.map(e=>e.guild.id):[];d.default.track(f.rMx.MESSAGE_REQUEST_ACTION,{action:_.cl.DISMISS_CONFIRMATION_PROMPT,channel_id:e,mutual_guild_ids:null!=i?i:[],other_user_id:null==t?void 0:t.id})}})},[R,b,t]),O=i.useCallback((e,t,n)=>{let i=(i,a)=>{a&&u.kJ.updateSetting(i),i&&null!=t&&(0,r.zd)(t),R(e.id),d.default.track(f.rMx.MESSAGE_REQUEST_ACTION,{action:_.cl.ACCEPT_HAM_CONFIRMATION_PROMPT,channel_id:e.id,is_dont_show_again_checked:a,non_spam_retraining_opt_in:i}),null!=n&&n()},a=u.kJ.getSetting();null==a?(0,p.V)({channel:e,onConfirm:i,onCancel:()=>{d.default.track(f.rMx.MESSAGE_REQUEST_ACTION,{action:_.cl.DISMISS_HAM_CONFIRMATION_PROMPT,channel_id:e.id})}}):i(a)},[R]);return{acceptMessageRequest:g?P:R,rejectMessageRequest:j,rejectAll:L,markAsNotSpam:O,isAcceptLoading:C,isRejectLoading:x,isUserProfileLoading:N,isOptimisticAccepted:S,isOptimisticRejected:A}}},868807:function(e,t,n){n.d(t,{a:function(){return m}}),n(47120);var i=n(392711),a=n.n(i),l=n(442837),s=n(544891),r=n(570140),o=n(375954),c=n(306680),u=n(748902),d=n(981631);let h=new Set,p=null;function m(e){let{id:t}=e,{loaded:n,message:i,error:a}=(0,l.cj)([u.Z,o.Z,c.ZP],()=>{let e=c.ZP.lastMessageId(t),n=u.Z.getMessageRequestPreview(t);if(null==n.message&&null!=e){let n=o.Z.getMessage(t,e);if(null!=n)return{loaded:!0,error:!1,message:n}}return n},[t]),s=(0,l.e7)([u.Z],()=>u.Z.shouldLoadMessageRequestPreview(t),[t]);return!n&&null==i&&s&&function(e){h.add(e),null==p&&(p=setTimeout(_,0))}(t),{loaded:n,error:a,message:i}}async function _(){try{for(;!a().isEmpty(h);)await f()}finally{p=null}}async function f(){let e=Array.from(h).slice(0,25);try{let t=await s.tn.get({url:d.ANM.MESSAGE_REQUESTS_SUPPLEMENTAL_DATA,query:{channel_ids:e}});r.Z.dispatch({type:"LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_SUCCESS",requestedChannelIds:e,supplementalData:t.body})}catch(t){r.Z.dispatch({type:"LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_ERROR",requestedChannelIds:e})}finally{for(let t of e)h.delete(t)}}},922409:function(e,t,n){n.d(t,{_:function(){return s}});var i=n(442837),a=n(897473),l=n(433355);function s(){let e=(0,i.e7)([l.ZP],()=>l.ZP.getSidebarState(l.uZ)),t=(null==e?void 0:e.type)===a.tI.VIEW_MESSAGE_REQUEST?e:null,n=null==t?void 0:t.channelId;return{channelId:n,hasSingleMessageRequest:(null==t?void 0:t.details)!=null&&t.details.type===a.Ff.MESSAGE_REQUEST&&t.details.hasSingleMessageRequest}}},9389:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(610697);function a(){return(0,i.Z)()}},86203:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(481060),l=n(493683),s=n(726521),r=n(718538),o=n(868807),c=n(689938);function u(e){let{channel:t,buttonSize:n=a.ButtonSizes.TINY,className:u,onReportClick:d,onReportSubmit:h,onMouseEnter:p,onMouseLeave:m}=e,{error:_,loaded:f}=(0,o.a)(t),E=t.isDM()?t.getRecipientId():null,g=(0,r.V)(t.id,E);if(null==g&&(f||_))return null;let C=()=>{null==h||h(),l.Z.closePrivateChannel(t.id)};return(0,i.jsx)(a.Button,{className:u,size:n,color:a.Button.Colors.RED,disabled:null==g,onClick:e=>{e.stopPropagation(),null==d||d(),null!=g&&(0,s.WL)(g,C)},onMouseEnter:p,onMouseLeave:m,children:c.Z.Messages.REPORT})}},226027:function(e,t,n){var i,a;n.d(t,{E:function(){return i}}),(a=i||(i={})).NEW_MESSAGES="new_messages",a.OPT_IN_CHANNEL="opt_in_channel",a.SUMMARIES="summaries"},925975:function(e,t,n){n.d(t,{g:function(){return E}}),n(47120),n(757143);var i=n(302454),a=n.n(i),l=n(969812),s=n(904245),r=n(367907),o=n(339085),c=n(222677),u=n(995774),d=n(695346),h=n(375954),p=n(981631);let m=/\\([*?+/])/g,_={tts:{action:()=>({tts:d.OW.getSetting()})},me:{action:e=>({content:"_".concat(e,"_")})},tableflip:{action:e=>({content:"".concat(e," (╯\xb0□\xb0)╯︵ ┻━┻").trim()})},unflip:{action:e=>({content:"".concat(e," ┬─┬ノ( \xba _ \xbaノ)").trim()})},shrug:{action:e=>({content:"".concat(e," \xaf\\_(ツ)_/\xaf").trim()})},nick:{action(e,t){let{channel:n}=t;if(null!=n.guild_id)return l.Z.changeNickname(n.guild_id,n.id,p.ME,e),{content:""}}},reaction:{match:a().anyScopeRegex(/^\+:(.+?): *$/),action(e,t){let{isEdit:n,channel:i}=t;if(n||!h.Z.hasPresent(i.id))return;let a=h.Z.getMessages(i.id).last();if(null==a||null==a.id)return;let l=o.Z.getDisambiguatedEmojiContext(i.guild_id).getByName(e.trim().slice(2,-1));if(null!=l)return(0,c.rU)(i.id,a.id,(0,u.g1)(l)),{content:""}}},searchReplace:{match:a().anyScopeRegex(/^s\/((?:.+?)[^\\]|.)\/(.*)/),action(e,t){var n;let{isEdit:i,channel:a}=t;if(i)return;let l=h.Z.getLastEditableMessage(a.id);if(null==l||null==l.id)return{content:""};let[,r,o]=Array.from(null!==(n=e.match(this.match.regex))&&void 0!==n?n:[]);r=r.replace(m,(e,t)=>t),o=o.replace(m,(e,t)=>t);let c=l.content.replace(r,o);return(null==c||""===c)&&0===l.attachments.length?s.Z.deleteMessage(a.id,l.id):e!==l.content&&s.Z.editMessage(a.id,l.id,{content:c}),{content:""}}},spoiler:{action:e=>({content:(0,p.XmY)(e).trim()})}};function f(e,t,n,i){return r.ZP.trackWithMetadata(p.rMx.SLASH_COMMAND_USED,{command:e}),t.action(n,i)}function E(e,t){for(let i in _){let a=_[i];if(null!=a.match){var n;if(null===(n=a.match.regex)||void 0===n?void 0:n.test(e))return f(i,a,e,t);continue}if(d.dN.getSetting()&&"/"===e[0]){let n=e.split(" ");if(i===n[0].slice(1)&&null!=a.action)return f(i,a,n.slice(1).join(" "),t)}}}Object.setPrototypeOf(_,null)},47481:function(e,t,n){n.d(t,{Z:function(){return u}}),n(653041),n(47120);var i=n(275726),a=n(135938),l=n(55935),s=n(709054),r=n(554838),o=n(493892),c=n(981631);function u(e){let t,n,u,{channel:d,messages:h,oldestUnreadMessageId:p,treatSpam:m,summaries:_,selectedSummary:f}=e,E=[],g=!1,C=null!=p?s.default.extractTimestamp(p):null,I=null;return h.forEach(e=>{var a,x,T,N,v,S,Z,A;if(null!=_&&_.length>0){;let t=s.default.extractTimestamp(e.id);for(let e=0;a=e<(null==_?void 0:_.length),a;e++){if(null==_[e])continue;let n=s.default.extractTimestamp(_[e].startId),i=s.default.extractTimestamp(_[e].endId);if(t>=n&&t<=i){if(I===_[e].id)break;E.push({type:c.ys_.DIVIDER,content:_[e].topic,contentKey:_[e].id}),I=_[e].id;break}}}let M=(0,l.vc)(e.timestamp,"LL");M!==t&&null==I&&(E.push({type:c.ys_.DIVIDER,content:M,contentKey:M}),t=M);let b=E[E.length-1],R=null,j=(0,o.DQ)(e);g=g||j;let L=function(e,t,n){if(i.V.NON_COLLAPSIBLE.has(t.type));else if(t.blocked)return c.ys_.MESSAGE_GROUP_BLOCKED;else if((0,o.P1)(e)&&n)return c.ys_.MESSAGE_GROUP_SPAMMER;return null}(d,e,j&&m);if(null!==L){;let t,n;[R,b]=(x=E,T=e,N=L,n=v=b,null==v||v.type!==N?(t={type:N,content:[],key:T.id},x.push(t)):n=(t=v).content[t.content.length-1],[t,n])}if(p===e.id&&null!=C){if(null!=b&&b.type===c.ys_.DIVIDER)b.unreadId=e.id,C=null;else if(null!==R){;S=R,Z=d,(A=e).isFirstMessageInForumPost(Z)||S.content.push({type:c.ys_.DIVIDER,unreadId:A.id}),S.hasUnread=!0,C=null}else!e.isFirstMessageInForumPost(d)&&E.push({type:c.ys_.DIVIDER,unreadId:e.id}),C=null}else null!=C&&s.default.extractTimestamp(e.id)>C&&(!e.isFirstMessageInForumPost(d)&&E.push({type:c.ys_.DIVIDER,unreadId:e.id}),C=null);let P=(null==b?void 0:b.type)===c.ys_.MESSAGE?u:b;(0,r.J)(d,P,e)&&(n=e.id);let O={type:e.type===c.uaV.THREAD_STARTER_MESSAGE?c.ys_.THREAD_STARTER_MESSAGE:c.ys_.MESSAGE,content:e,groupId:n};n===e.id&&(u=O);let{jumpSequenceId:y,jumpFlash:D,jumpTargetId:k}=h;D&&e.id===k&&null!=y&&(O.flashKey=y),h.jumpTargetId===e.id&&(O.jumpTarget=!0),null!=f&&e.id===f.startId&&f.count>1&&E.push({type:c.ys_.DIVIDER,content:f.topic,contentKey:f.startId,isSummaryDivider:!0}),null!==R?(R.content.push(O),O.jumpTarget&&(R.hasJumpTarget=!0)):E.push(O),e.isFirstMessageInForumPost(d)&&E.push({type:c.ys_.FORUM_POST_ACTION_BAR}),null!=f&&e.id===f.endId&&f.count>1&&E.push({type:c.ys_.DIVIDER,contentKey:f.endId,isSummaryDivider:!0})}),g&&(0,o.P1)(d)&&a.Z.trackExposure({location:"416cc9_1"}),E}},534091:function(e,t,n){n.d(t,{W:function(){return i},p:function(){return a}});let i="chat-messages";function a(e,t){return"".concat(i,"-").concat(e,"-").concat(t)}},481369:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(399606),a=n(317381),l=n(917107),s=n(592125),r=n(226027),o=n(918559);let c="no_text_activity",u={[c]:[r.E.NEW_MESSAGES,r.E.OPT_IN_CHANNEL,r.E.SUMMARIES],[o.Ez.DISCONNECTED]:[r.E.NEW_MESSAGES,r.E.OPT_IN_CHANNEL,r.E.SUMMARIES],[o.Ez.LAUNCHING_WITH_ORIENTATION_CHANGE]:[r.E.NEW_MESSAGES,r.E.OPT_IN_CHANNEL,r.E.SUMMARIES],[o.Ez.PANEL]:[],[o.Ez.PIP]:[r.E.NEW_MESSAGES,r.E.OPT_IN_CHANNEL,r.E.SUMMARIES]};function d(){let e=(0,i.e7)([a.ZP],()=>a.ZP.getCurrentEmbeddedActivity()),t=(0,i.e7)([a.ZP],()=>a.ZP.getActivityPanelMode());return void 0===e||(0,l.Z)(null==e?void 0:e.channelId,s.Z)?u[c]:u[t]}},213010:function(e,t,n){n.d(t,{Q:function(){return s}});var i=n(442837),a=n(699516),l=n(981631);function s(e){let t=(0,i.e7)([a.Z],()=>a.Z.getRelationshipType(e),[e]);return t===l.OGo.NONE||t===l.OGo.BLOCKED||t===l.OGo.PENDING_INCOMING}},718538:function(e,t,n){n.d(t,{V:function(){return l}}),n(47120);var i=n(442837),a=n(375954);function l(e,t){return(0,i.e7)([a.Z],()=>{if(null==t)return;let n=a.Z.getMessages(e),i=n.findOldest(e=>e.author.id===t);if(null!=i){for(let e of n.toArray()){if(e.author.id!==t)break;e.content.length>(null==i?void 0:i.content.length)&&(i=e)}return i}},[e,t])}},186877:function(e,t,n){n.d(t,{$:function(){return u}});var i=n(442837),a=n(355298),l=n(88101),s=n(375954),r=n(699516),o=n(594174),c=n(981631);function u(e){let t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some(e=>e.bot),n=t?e.getRecipientId():null,u=(0,l.P)(e.id,"dm_convo_starter");return(0,i.e7)([s.Z,a.Z,r.Z,o.default],()=>{if(null!=u||!t||a.Z.isMessageRequest(e.id)||null!=n&&r.Z.getRelationshipType(n)===c.OGo.BLOCKED)return!1;if(null!=n){let e=o.default.getUser(n);if(null!=e&&e.hasFlag(c.xW$.PROVISIONAL_ACCOUNT))return!1}let i=s.Z.getMessages(e.id);return i.ready&&!i.hasMoreBefore&&!i.hasMoreAfter&&i.length<25&&!s.Z.hasCurrentUserSentMessage(e.id)},[u,t,e.id,n])}},233715:function(e,t,n){n.d(t,{Z:function(){return r}}),n(47120);var i=n(735250),a=n(470079),l=n(920906),s=n(481060);function r(e){let{children:t,className:n,flashKey:r}=e,o=(0,s.useToken)(s.tokens.colors.BACKGROUND_MESSAGE_HIGHLIGHT).spring({opacity:1}),c=(0,s.useToken)(s.tokens.colors.BACKGROUND_MESSAGE_HIGHLIGHT).spring({opacity:0}),[u,d]=(0,l.useSpring)(()=>({immediate:!0,from:{backgroundColor:o}}));return a.useEffect(()=>{d({reset:!0,immediate:!0,to:{backgroundColor:o}}),d({delay:1e3,immediate:!1,to:{backgroundColor:c}})},[r,d]),(0,i.jsx)(l.animated.div,{style:u,className:n,children:t})}},534469:function(e,t,n){n.d(t,{AP:function(){return K},Ru:function(){return q}}),n(789020);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(512722),o=n.n(r),c=n(91192),u=n(442837),d=n(481060),h=n(607070),p=n(223606),m=n(518738),_=n(628238),f=n(807092),E=n(869765),g=n(703656),C=n(695346),I=n(592125),x=n(906467),T=n(323873),N=n(998951),v=n(630388),S=n(709054),Z=n(534091),A=n(901461),M=n(739566),b=n(233715),R=n(453687),j=n(348238),L=n(62072),P=n(38267),O=n(25015),y=n(689674),D=n(438075),k=n(764893),U=n(481363),w=n(900902),B=n(252032),H=n(737243),G=n(614584),V=n(295790),F=n(959517),W=n(981631),z=n(689938),Y=n(105461);function K(e,t,n){return e.getElementById((0,Z.p)(t,n))}function q(e){var t;let{id:n,message:a,message:{messageReference:l},compact:r=!1,className:d}=e;o()(a.type===W.uaV.THREAD_STARTER_MESSAGE,"Message must be a thread starter message");let{...h}=(0,c.JA)(null!==(t=e.id)&&void 0!==t?t:""),p=(0,u.e7)([E.Z],()=>E.Z.getMessageByReference(l)),{popouts:m,setPopout:_}=(0,P.Z)(a.id,F.d$),f=(0,M.ZP)(a),g=(0,R.iG)(a),C=(0,R.Gx)(a);return a.type===W.uaV.THREAD_STARTER_MESSAGE&&null!=p&&p.state===E.Y.LOADED?(0,i.jsx)(X,{...e,viewingChannelId:a.channel_id,message:p.message,groupId:p.message.id}):(0,i.jsx)(N.Z,{...h,id:n,compact:r,className:s()(d,{[Y.message]:!0,[Y.cozyMessage]:!r,[Y.systemMessage]:!0,[Y.groupStart]:!0}),childrenHeader:(0,w.Z)({messageProps:e,setPopout:_,messagePopouts:m,replyReference:l,author:f}),childrenSystemMessage:(0,V.Z)(e),childrenMessageContent:null,"aria-labelledby":g,"aria-describedby":C,hasThread:!1})}function X(e){var t,n;let{id:l,message:r,message:{id:o,channel_id:p},channel:{guild_id:f},compact:I=!1,className:x,groupId:T,viewingChannelId:S}=e,Z=r.type===W.uaV.REPLY?r.messageReference:void 0,{onFocus:b,...y}=(0,c.JA)(null!==(t=e.id)&&void 0!==t?t:""),{isFocused:k,handleFocus:U,handleBlur:H}=(0,j.bb)(b),{popouts:K,selected:q,setPopout:X}=(0,P.Z)(r.id,F.d$),Q=C.RS.useSetting(),J=C.NA.useSetting(),$=(0,u.e7)([E.Z],()=>E.Z.getMessageByReference(Z)),ee=(0,_.A)((null!==(n=r.editedTimestamp)&&void 0!==n?n:r.timestamp).valueOf()),{handleMouseEnter:et,handleMouseLeave:en,isHovered:ei}=(0,j.tn)(T,r.author.id,q),ea=(0,u.e7)([h.Z],()=>h.Z.keyboardModeEnabled),el=q||ea&&k,es=el||ei,{content:er,hasSpoilerEmbeds:eo}=(0,O.Z)(r,{hideSimpleEmbedContent:Q&&J,isInteracting:es,formatInline:!1,allowList:ee,allowHeading:ee,allowLinks:!0,previewLinkTarget:!0,viewingChannelId:S}),ec=(0,L.Z)(o,p,ea),eu=(0,M.ZP)(r),ed=(0,R.iG)(r,T),eh=(0,R.Gx)(r),ep=(0,B.Z)(e,er,!1),em=a.useCallback(()=>(0,g.XU)(f,p,o),[f,p,o]),e_=(0,m.p9)({guildId:f,roleId:eu.iconRoleId});return(0,i.jsxs)("div",{className:Y.quotedChatMessage,children:[(0,i.jsx)(d.Clickable,{className:Y.jump,onClick:em,"aria-label":z.Z.Messages.JUMP,children:z.Z.Messages.JUMP}),(0,i.jsx)(N.Z,{...y,id:l,compact:I,className:s()(x,{[Y.message]:!0,[Y.cozyMessage]:!I,[Y.mentioned]:r.mentioned,[Y.ephemeral]:(0,v.yE)(r.flags,W.iLy.EPHEMERAL),[Y.systemMessage]:(0,A.Z)(r),[Y.groupStart]:r.id===T||r.type===W.uaV.REPLY,[Y.selected]:el}),zalgo:!0,onKeyDown:ec,onFocus:U,onBlur:H,childrenRepliedMessage:(0,G.Z)(e,X,K,Z,$),childrenHeader:(0,w.Z)({messageProps:e,setPopout:X,messagePopouts:K,replyReference:Z,author:eu,repliedMessage:$,roleIcon:e_}),childrenAccessories:(0,D.Z)({channelMessageProps:e,hasSpoilerEmbeds:eo,isInteracting:es,renderThreadAccessory:!1,renderComponentAccessory:!1,renderSuppressEmbeds:!1}),childrenSystemMessage:(0,V.Z)(e),childrenMessageContent:ep,onMouseMove:et,onMouseLeave:en,"aria-labelledby":ed,"aria-describedby":eh,hasThread:!1})]})}t.ZP=a.memo(function(e){var t,n;let l;let{id:r,message:g,message:{id:Z},channel:K,channel:{id:q},compact:X=!1,className:Q,flashKey:J,groupId:$,renderContentOnly:ee}=e;o()(g.type!==W.uaV.THREAD_STARTER_MESSAGE,"Message must not be a thread starter message");let et=W.OBS.has(g.type)?g.messageReference:void 0,{onFocus:en,...ei}=(0,c.JA)(null!==(t=e.id)&&void 0!==t?t:""),ea=C.RS.useSetting(),el=C.NA.useSetting(),es=(0,u.e7)([E.Z],()=>E.Z.getMessageByReference(et)),{popouts:er,selected:eo,setPopout:ec}=(0,P.Z)(g.id,F.d$),eu=(0,j.qo)(g,K,ec),ed=(0,j.Go)(g,K),{handleMouseEnter:eh,handleMouseLeave:ep,hasHovered:em,isHovered:e_}=(0,j.tn)($,g.author.id,eo),{isFocused:ef,hasFocused:eE,handleFocus:eg,handleBlur:eC}=(0,j.bb)(en),eI=(0,u.e7)([T.Z],()=>T.Z.isEditing(q,Z),[q,Z]),ex=(0,u.e7)([h.Z],()=>h.Z.keyboardModeEnabled),eT=eo||eI||ex&&ef,eN=eT||e_,ev=(0,u.e7)([I.Z],()=>g.hasFlag(W.iLy.HAS_THREAD)&&I.Z.getChannel(S.default.castMessageIdAsChannelId(g.id))),eS=g.isFirstMessageInForumPost(K),eZ=(0,_.A)((null!==(n=g.editedTimestamp)&&void 0!==n?n:g.timestamp).valueOf()),eA=(0,u.e7)([x.Z],()=>x.Z.isDeveloper),{content:eM,hasSpoilerEmbeds:eb}=(0,O.Z)(g,{hideSimpleEmbedContent:ea&&el,isInteracting:eN,formatInline:!1,allowList:eS||eZ,allowHeading:eS||eZ,allowLinks:!0,allowDevLinks:eA,previewLinkTarget:!0}),eR=(0,L.Z)(Z,q,ex),ej=(0,M.ZP)(g),eL=(0,u.e7)([f.Z],()=>f.Z.getPendingReply(q)),eP=function(e){let t=a.useRef(e);return a.useEffect(()=>void(t.current=null!=e?e:t.current)),null!=e?e:t.current}(J),eO=(0,m.p9)({guildId:K.guild_id,roleId:ej.iconRoleId}),ey=(0,R.iG)(g,$),eD=(0,R.Gx)(g),ek=(0,u.e7)([p.Z],()=>p.Z.getMessage(Z),[Z]),eU=(0,y.Z)({message:g,channel:K}),ew=null!=ek;l=g.type===W.uaV.CUSTOM_GIFT?"":!eI&&ew?(0,k.Z)(e,eM):(0,B.Z)(e,eM,eI);let eB=g.id===$,eH=(0,i.jsx)(d.FocusRing,{offset:{left:4,right:4},children:(0,i.jsx)("li",{id:r,className:Y.messageListItem,"aria-setsize":-1,children:(0,i.jsx)(N.Z,{...ei,"aria-setsize":-1,"aria-roledescription":z.Z.Messages.MESSAGE_A11Y_ROLE_DESCRIPTION,"aria-labelledby":ey,"aria-describedby":eD,onFocus:eg,onBlur:eC,onContextMenu:eu,onKeyDown:eR,onClick:ed,compact:X,contentOnly:ee,className:s()(Q,{[Y.message]:!0,[Y.cozyMessage]:!X,[Y.mentioned]:g.mentioned,[Y.ephemeral]:(0,v.yE)(g.flags,W.iLy.EPHEMERAL),[Y.nitroMessage]:g.type===W.uaV.NITRO_NOTIFICATION,[Y.systemMessage]:(0,A.Z)(g),[Y.groupStart]:!ee&&(eB||g.type===W.uaV.REPLY),[Y.selected]:eT,[Y.replying]:(null==eL?void 0:eL.message.id)===g.id,[Y.interactionSending]:g.isCommandType()&&g.state===W.yb.SENDING,[Y.automodMessage]:ew}),zalgo:!eI,childrenRepliedMessage:ee?void 0:(0,G.Z)(e,ec,er,et,es),childrenExecutedCommand:(0,H.Z)(e,ec,er),childrenHeader:ee?void 0:(0,w.Z)({messageProps:e,setPopout:ec,messagePopouts:er,replyReference:et,author:ej,repliedMessage:es,roleIcon:eO}),childrenAccessories:(0,D.Z)({channelMessageProps:e,hasSpoilerEmbeds:eb,handleContextMenu:eu,isInteracting:eN,isAutomodBlockedMessage:ew}),childrenButtons:em||eE?(0,U.Z)({buttonProps:e,setPopout:ec,messagePopouts:er,isFocused:e_||ef}):void 0,childrenSystemMessage:(0,V.Z)(e),childrenMessageContent:l,onMouseMove:eh,onMouseLeave:ep,hasThread:!ee&&g.hasFlag(W.iLy.HAS_THREAD)&&null!=ev,isSystemMessage:(0,A.Z)(g),hasReply:g.type===W.uaV.REPLY,messageRef:eU})})});return null!=eP?(0,i.jsx)(b.Z,{flashKey:eP,className:s()({[Y.backgroundFlash]:!0,[Y.groupStart]:!X&&g.id===$}),children:eH},"bg-flash-".concat(r)):eH})},993397:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(481060),o=n(998951),c=n(702346),u=n(534469),d=n(511010),h=n(981631),p=n(689938),m=n(429759),_=n(105461);function f(e){let{expanded:t,onClick:n,count:a,compact:l,collapsedReason:s}=e;return(0,i.jsx)(o.Z,{compact:l,role:"group",childrenMessageContent:(0,i.jsx)(c.Z,{compact:l,className:m.blockedSystemMessage,iconNode:(0,i.jsx)(r.CloseSmallIcon,{size:"md",color:"currentColor",className:m.blockedIcon}),children:(0,i.jsxs)("div",{className:m.blockedMessageText,children:[s.format({count:a})," —"," ",(0,i.jsx)(r.Clickable,{tag:"span",onClick:n,className:m.blockedAction,children:t?p.Z.Messages.BLOCKED_MESSAGES_HIDE.format({count:a}):p.Z.Messages.BLOCKED_MESSAGES_SHOW.format({count:a})})]})})})}t.Z=a.memo(function(e){var t;let{messages:n,channel:l,compact:r=!1,unreadId:o,collapsedReason:c}=e,{hasJumpTarget:p=!1}=n,[E,g]=a.useState(p),C=a.useCallback(()=>g(e=>!e),[]),I=n.hasUnread?n.content.length-1:n.content.length;return(0,i.jsxs)("div",{className:s()({[_.groupStart]:!0,[m.expanded]:E}),children:[n.hasUnread&&(!E||(null===(t=n.content[0])||void 0===t?void 0:t.type)===h.ys_.DIVIDER)?(0,i.jsx)(d.Z,{isUnread:!0,id:o},"divider"):null,(0,i.jsx)(f,{count:I,compact:r,expanded:E,onClick:C,collapsedReason:c},"collapsed-message-item"),E?n.content.map((e,t)=>{if(e.type===h.ys_.DIVIDER&&t>0){var a,s;let e=null!==(s=null===(a=n.content[t+1])||void 0===a?void 0:a.isGroupStart)&&void 0!==s&&s;return(0,i.jsx)(d.Z,{isUnread:!0,isBeforeGroup:e,id:o},"divider")}if(e.type===h.ys_.MESSAGE||e.type===h.ys_.THREAD_STARTER_MESSAGE){let t=e.type===h.ys_.THREAD_STARTER_MESSAGE?u.Ru:u.ZP;return(0,i.jsx)(t,{className:m.__invalid_blocked,compact:r,channel:l,message:e.content,groupId:e.groupId,flashKey:e.flashKey,isLastItem:!1,renderContentOnly:!1},e.content.id)}}):null]})})},511010:function(e,t,n){var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(132338),o=n(105461);let c=a.forwardRef(function(e,t){let{className:n,isBeforeGroup:a=!1,...l}=e,{children:c}=l;return(0,i.jsx)(r.Z,{...l,ref:t,role:"separator","aria-label":"string"==typeof c?c:void 0,className:s()(n,{[o.divider]:!0,[o.hasContent]:null!=c,[o.beforeGroup]:a})})});t.Z=a.memo(c)},216337:function(e,t,n){var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(607070),o=n(665906),c=n(314897),u=n(496675),d=n(981631),h=n(689938),p=n(974871);let m=()=>n.e("26176").then(n.t.bind(n,737848,19)).then(e=>{let{default:t}=e;return t});t.Z=a.memo(function(e){let{channel:t,isLastItem:n}=e,a=(0,l.e7)([r.Z],()=>r.Z.useReducedMotion),_=(0,l.e7)([u.Z],()=>u.Z.can(d.Plq.SEND_MESSAGES_IN_THREADS,t)),f=(0,o.Gu)(t),E=(0,l.e7)([c.default],()=>c.default.getId());return n?_&&!f&&t.ownerId!==E?(0,i.jsxs)("div",{className:p.box,children:[(0,i.jsx)(s.LottieAnimation,{importData:m,shouldAnimate:!a,className:p.animation}),(0,i.jsxs)("div",{className:p.textContainer,children:[(0,i.jsx)(s.Heading,{variant:"heading-md/semibold",children:h.Z.Messages.FORUM_START_THE_CONVERSATION_HEADER}),(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"header-secondary",children:h.Z.Messages.FORUM_START_THE_CONVERSATION_DESCRIPTION})]})]}):null:(0,i.jsx)("div",{className:p.divider})})},545594:function(e,t,n){n.d(t,{i:function(){return r}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(67788);function r(e){let{bannerIcon:t,bannerHeader:n,bannerSubtext:a,containerStyles:r,headerStyles:o,children:c}=e;return(0,i.jsxs)("div",{className:s.spamBanner,children:[(0,i.jsxs)("div",{className:l()(s.bannerTextContainer,r),children:["string"==typeof t?(0,i.jsx)("img",{src:t,alt:"",className:s.bannerIcon}):t,(0,i.jsxs)("div",{className:s.bannerText,children:[(0,i.jsx)("div",{className:l()(s.bannerHeader,o),children:n}),(0,i.jsx)("div",{className:s.bannerSubtext,children:a})]})]}),(0,i.jsx)("div",{className:s.actionButtons,children:c})]})}},977391:function(e,t,n){n.d(t,{ZP:function(){return d},aJ:function(){return u}}),n(411104),n(653041),n(47120);var i=n(735250),a=n(470079),l=n(392711),s=n.n(l),r=n(38371),o=n(981631),c=n(126564);function u(e){let{compact:t,messageGroups:n,groupRange:i,attachments:a,fontSize:l,groupSpacing:c}=e;if(a>n)throw Error("generateMessageSpecs: too many attachments relative to messageGroups: ".concat(n,", ").concat(a));let u=l/o.yqN.FONT_SIZE_DEFAULT,d=t?r.iv:r.pk,h=t?r.Pb:r.XX,p=0,m=Array(n).fill(null).map(()=>{let e=s().random(1,i);return p+=c*u+d*u+(e-1)*h*u,e}),_=m.map((e,t)=>t),f=[];for(;f.length<a;){let e={width:s().random(140,400),height:s().random(100,320)};f.push([_.splice(s().random(0,_.length-1),1)[0],e]),p+=e.height+r.M9*u}return{messages:m,attachmentSpecs:f,totalHeight:p,groupSpacing:c}}function d(e){let{compact:t,messages:n,attachmentSpecs:l,totalHeight:s,groupSpacing:o}=e;return a.useMemo(()=>{let e=Array(n.length).fill(void 0);for(let[t,n]of l)e[t]=n;return(0,i.jsx)("div",{className:c.wrapper,style:{height:s},children:n.map((n,a)=>(0,i.jsx)(r.ZP,{groupSpacing:o,compact:t,messages:n,attachmentSpecs:e[a]},a))})},[t,n,l,s,o])}},921235:function(e,t,n){n.d(t,{Z:function(){return N}}),n(47120);var i=n(735250),a=n(470079),l=n(392711),s=n.n(l),r=n(442837),o=n(481060),c=n(904245),u=n(268350),d=n(926491),h=n(419922),p=n(314897),m=n(375954),_=n(594174),f=n(626135),E=n(51144),g=n(901461),C=n(981631),I=n(689938),x=n(490020);let T="749054660769218631";function N(e){var t;let{channel:n}=e,[l,N]=a.useState("");a.useEffect(()=>{(0,u.FQ)("847199849233514549",!0)},[]);let v=(0,r.e7)([m.Z,p.default],()=>!!s()(m.Z.getMessages(n.id).toArray()).reverse().find(e=>e.author.id!==p.default.getId()&&e.state===C.yb.SENT&&!(0,g.Z)(e))),S=(0,r.e7)([_.default],()=>_.default.getUser(n.isPrivate()?n.getRecipientId():null)),Z=null!==(t=E.ZP.useName(S))&&void 0!==t?t:I.Z.Messages.WAVE_DEFAULT_RECIPIENT,A=(0,r.e7)([d.Z],()=>d.Z.getStickerById(T)),M=a.useCallback(async()=>{if(null==l||""===l)try{await c.Z.sendGreetMessage(n.id,T),f.default.track(C.rMx.DM_EMPTY_ACTION,{channel_id:n.id,channel_type:n.type,source:"Wave",type:"Send wave"})}catch(e){!e.ok&&429===e.status&&N(I.Z.Messages.RATE_LIMITED)}},[n.id,n.type,l]),b=I.Z.Messages.WAVE_TO.format({username:Z}),R=null!=l&&""!==l?(0,i.jsx)(o.Text,{className:x.error,color:"text-danger",variant:"text-sm/normal",children:l}):null;return v?(0,i.jsxs)("div",{className:x.containerCompact,children:[(0,i.jsxs)(o.Clickable,{className:null!=l&&""!==l?x.compactButtonDisabled:x.compactButton,"aria-label":I.Z.Messages.SEND_WAVE,onClick:M,children:[(0,i.jsx)(h.ZP,{sticker:A,size:24}),(0,i.jsx)(o.Text,{className:x.text,variant:"text-md/medium",children:b})]}),R]}):(0,i.jsxs)("div",{className:x.containerExpanded,children:[(0,i.jsx)(h.ZP,{sticker:A,size:160}),(0,i.jsx)(o.Button,{className:x.button,onClick:M,disabled:!!l,children:b}),R]})}},773176:function(e,t,n){var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(954955),o=n.n(r),c=n(442837),u=n(481060),d=n(607070),h=n(110630),p=n(346610),m=n(868643),_=n(223606),f=n(188597),E=n(41776),g=n(641051),C=n(329461),I=n(222677),x=n(995774),T=n(931651),N=n(280845),v=n(665906),S=n(695346),Z=n(314897),A=n(323873),M=n(271383),b=n(430824),R=n(607744),j=n(496675),L=n(448239),P=n(404975),O=n(626135),y=n(572004),D=n(970257),k=n(418476),U=n(151007),w=n(432376),B=n(996861),H=n(603490),G=n(225138),V=n(717680),F=n(981631),W=n(689938),z=n(961864);function Y(e){e.stopPropagation()}function K(e){let{message:t,channel:n,canReport:i,onClose:a,updatePosition:l}=e;return(0,G.useMessageMenu)({message:t,channel:n,textSelection:"",favoriteableType:null,favoriteableId:null,favoriteableName:null,itemHref:void 0,itemSrc:void 0,itemSafeSrc:void 0,itemTextContent:void 0,canReport:i,onHeightUpdate:l,onClose:a,navId:"message-actions",ariaLabel:W.Z.Messages.MESSAGE_UTILITIES_A11Y_LABEL})}function q(e){let{label:t,ariaLabel:n,tooltipText:a,tooltipColor:l,icon:s,iconProps:r,channel:o,message:c,onClick:d,key:h,disabled:p,dangerous:m,separator:_,sparkle:f,...E}=e;return(0,i.jsx)(u.Tooltip,{text:null!=a?a:t,color:null!=l?l:u.TooltipColors.PRIMARY,"aria-label":t,hideOnClick:!0,tooltipClassName:z.tooltip,children:e=>{let{onMouseEnter:a,onMouseLeave:l,onClick:h}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(P.zx,{onMouseEnter:a,onMouseLeave:l,onClick:e=>{null==h||h(),d(o,c,e)},"aria-label":null!=n?n:t,disabled:p,dangerous:m,...E,children:[(0,i.jsx)(s,{className:z.icon,color:"currentColor",...r}),f&&(0,i.jsx)(u.LottieSparkle,{})]}),_&&(0,i.jsx)(P.Z0,{})]})}},h)}function X(e){let{channel:t,message:n,canCopy:l,canPin:s,canDelete:r,canReport:o,canEdit:_,canPublish:f,canReact:I,canConfigureJoin:x,canReply:T,canStartThread:A,canViewThread:P,canForward:G,isExpanded:z,showMoreUtilities:Y,showEmojiPicker:X,showMessageRemindersActions:Q,isMessageReminder:$,setPopout:ee,hasDeveloperMode:et,isGuildInviteReminder:en,isFocused:ei}=function(e){let{channel:t,message:n,showEmojiPicker:i,showEmojiBurstPicker:a,showMoreUtilities:l,setPopout:s,isFocused:r}=e,{author:o}=n,u=(0,c.e7)([b.Z],()=>b.Z.getGuild(t.guild_id),[t.guild_id]),_=(0,c.e7)([Z.default],()=>Z.default.getId()),f=(0,v.$R)(t),I=(0,v.Gu)(t),x=S.nc.useSetting(),T=S.Sb.useSetting(),A=(0,c.e7)([R.Z],()=>null==t.guild_id||R.Z.canChatInGuild(t.guild_id),[t]),{canManageMessages:L,canAddNewReactions:P}=(0,c.cj)([j.Z],()=>({canAddNewReactions:A&&j.Z.can(F.Plq.ADD_REACTIONS,t),canManageMessages:j.Z.can(F.Plq.MANAGE_MESSAGES,t)}),[t,A]),O=(0,N.U)(t,n),B=(0,v.NE)(t,n),H=(0,v.Ek)(n),G=(0,c.e7)([E.Z],()=>null!=t.guild_id&&E.Z.isLurking(t.guild_id),[t]),W=(0,c.e7)([M.ZP],()=>null!=t.guild_id&&M.ZP.isCurrentUserGuest(t.guild_id),[t]),z=o.id===_,Y=(L||n.canDeleteOwnMessage(_))&&f&&!F.V$x.UNDELETABLE.has(n.type);n.type===F.uaV.AUTO_MODERATION_ACTION&&(Y=Y&&L);let K=(0,D.a4)(n),q=(0,U.Z)(n,t,L),X=!t.isSystemDM()&&(0,k.Z)(n,_)&&f&&!I,{disableReactionCreates:Q}=(0,w.Z)({channel:t,canChat:A,renderReactions:x,canAddNewReactions:P,isLurking:G,isGuest:W,isActiveChannelOrUnarchivableThread:f}),J=t.type===F.d4z.GUILD_ANNOUNCEMENT&&null!=u&&u.hasFeature(F.oNc.NEWS)&&(z||L)&&(0,h.Z)(n),$=t.getGuildId(),ee=null!=$&&(n.type===F.uaV.USER_JOIN||n.type===F.uaV.GUILD_INVITE_REMINDER)&&j.Z.canWithPartialContext(F.Plq.MANAGE_GUILD,{guildId:$}),{canForwardMessages:et}=p.w.useExperiment({location:"useMessageUtilitiesProps"},{autoTrackExposure:!1}),en=(0,m.a)(n),{showReminders:ei}=g.Z.useExperiment({location:"9bfedc_1"},{autoTrackExposure:!1}),ea=(0,c.e7)([C.Z],()=>null!=C.Z.getMessageReminders().find(e=>e.messageId===n.id)),el=(0,V.Z)(),es=(0,c.e7)([d.Z],()=>d.Z.keyboardModeEnabled);return{channel:t,message:n,canPin:q,canEdit:X,canDelete:Y,canReport:K,canReply:O,canStartThread:B,canViewThread:H,canForward:et&&en,canCopy:y.wS,hasDeveloperMode:T,canReact:!Q&&x,canPublish:J,canConfigureJoin:ee,isExpanded:el&&!es&&!i&&!a&&!l,showEmojiPicker:i,showEmojiBurstPicker:a,showMoreUtilities:l,showMessageRemindersActions:ei,isMessageReminder:ea,setPopout:s,isFocused:r,isGuildInviteReminder:n.type===F.uaV.GUILD_INVITE_REMINDER}}(e),ea=a.useCallback(()=>{!Y&&O.default.track(F.rMx.MESSAGE_POPOUT_MENU_OPENED_DESKTOP,{message_id:n.id,channel:n.channel_id}),ee({moreUtilities:!Y})},[Y,ee,n]),el=a.useCallback(()=>{ee({emojiPicker:!X})},[X,ee]),es=(0,v.$R)(t),er=n.hasFlag(F.iLy.CROSSPOSTED);return(0,i.jsxs)(i.Fragment,{children:[z?(0,i.jsxs)(i.Fragment,{children:[l&&et?q({key:"copy-id",channel:t,message:n,label:W.Z.Messages.COPY_ID_MESSAGE,icon:u.IdIcon,onClick:B.F4}):null,l&&!en?q({key:"copy-link",channel:t,message:n,label:W.Z.Messages.COPY_LINK,icon:u.LinkIcon,onClick:B.fB}):null,x?q({key:"configure",channel:t,message:n,label:W.Z.Messages.CONFIGURE,icon:u.CircleQuestionIcon,onClick:B.zW}):null,Q?q({key:"mark-reminder",channel:t,message:n,label:$?W.Z.Messages.MESSAGE_REMINDERS_MARK_AS_DONE:W.Z.Messages.MESSAGE_REMINDERS_MARK_AS_TODO,icon:$?(0,u.makeIconCompat)(L.Z):u.ListBulletsIcon,onClick:$?B.l9:B.W1}):null,es?q({key:"mark-unread",channel:t,message:n,label:W.Z.Messages.MARK_UNREAD,icon:u.ChatMarkUnreadIcon,onClick:B.B8}):null,s?q({key:"pin",channel:t,message:n,label:n.pinned?W.Z.Messages.UNPIN_MESSAGE:W.Z.Messages.PIN_MESSAGE,icon:u.PinIcon,onClick:B.rY}):null,A&&G?q({key:"thread",channel:t,message:n,label:W.Z.Messages.CREATE_THREAD,icon:u.ThreadIcon,onClick:B.gK}):null,T&&_?q({key:"reply-self",channel:t,message:n,label:W.Z.Messages.MESSAGE_ACTION_REPLY,icon:u.ArrowAngleLeftUpIcon,onClick:B.HH}):null]}):null,I&&!en?(0,i.jsx)(H.Z,{channel:t,message:n,togglePopout:el,renderEmojiPicker:J,shouldShow:X,isFocused:ei}):null,T&&!_?q({key:"reply-other",channel:t,message:n,label:W.Z.Messages.MESSAGE_ACTION_REPLY,icon:u.ArrowAngleLeftUpIcon,onClick:B.HH}):null,_?q({key:"edit",channel:t,message:n,label:W.Z.Messages.EDIT,icon:u.PencilIcon,onClick:B.Hd}):null,G?q({key:"forward",channel:t,message:n,label:W.Z.Messages.MESSAGE_ACTION_FORWARD,icon:u.ChatArrowRightIcon,onClick:B.ts}):null,A&&!G?q({key:"thread",channel:t,message:n,label:W.Z.Messages.CREATE_THREAD,icon:u.ThreadIcon,onClick:B.gK}):null,!A&&P?q({key:"view-thread",channel:t,message:n,label:W.Z.Messages.VIEW_THREAD,icon:u.ThreadIcon,onClick:B.qe}):null,f?q({key:"publish",channel:t,message:n,label:er?W.Z.Messages.NEWS_CHANNEL_PUBLISHED:W.Z.Messages.NEWS_CHANNEL_PUBLISH,icon:u.AnnouncementsIcon,onClick:B.Xl,disabled:er}):null,r&&(en||z)?q({key:"delete",channel:t,message:n,label:W.Z.Messages.DELETE,icon:u.TrashIcon,onClick:B.$Z,dangerous:!0,separator:!z}):null,z&&r?null:(0,i.jsx)(u.Popout,{renderPopout:e=>{let{updatePosition:a,closePopout:l}=e;return(0,i.jsx)(K,{channel:t,message:n,canReport:o,onClose:l,updatePosition:a})},shouldShow:Y,onRequestClose:ea,position:"left",align:"top",animation:u.Popout.Animation.NONE,children:(e,i)=>{let{onClick:a,...l}=e,{isShown:s}=i;return q({key:"more",label:W.Z.Messages.MORE,icon:u.MoreHorizontalIcon,channel:t,message:n,selected:s,onClick:ea,...l})}})]})}function Q(e){let{channel:t,message:n}=e,a=(0,c.e7)([_.Z],()=>null!=_.Z.getMessage(n.id),[n.id]),l=null==n.interaction||null!=n.interactionData&&(0,f.$s)(n.interactionData);return(0,i.jsxs)(i.Fragment,{children:[!a&&l&&q({key:"retry",label:W.Z.Messages.RETRY,icon:u.RetryIcon,channel:t,message:n,onClick:B.mG}),q({key:"delete-usent",label:W.Z.Messages.DELETE,icon:u.TrashIcon,channel:t,message:n,onClick:B.$Z})]})}function J(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l={openPopoutType:"message_reaction_emoji_picker",...a&&{openPopoutType:"message_super_reaction_emoji_picker",page:null!=e.getGuildId()?F.ZY5.GUILD_CHANNEL:F.ZY5.DM_CHANNEL,section:(0,x.s4)(e),object:F.qAy.EMOJI_REACTION_PICKER_POPOUT}};return(0,i.jsx)(T.$,{channel:e,closePopout:n,onSelectEmoji:(i,a,l)=>{!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null!=e&&(0,I.rU)(t.id,n.id,(0,x.g1)(e),void 0,{burst:i})}(i,e,t,l),a&&(l?o()(n,150)():n())},analyticsOverride:l,messageId:t.id})}t.Z=a.memo(function(e){let{channel:t,message:n,isHeader:a}=e,l=(0,c.e7)([A.Z],()=>A.Z.isEditing(t.id,n.id),[t.id,n.id]),r=function(e){let{channel:t,message:n}=e;return n.state===F.yb.SEND_FAILED?(0,i.jsx)(Q,{channel:t,message:n}):null}(e),o=function(e){let{message:t}=e;return t.state!==F.yb.SEND_FAILED?(0,i.jsx)(X,{...e}):null}(e);return l||null==r&&null==o?null:(0,i.jsx)("div",{className:s()(e.className,{[z.container]:!0,[z.isHeader]:a}),onClick:Y,onContextMenu:Y,role:"group","aria-label":W.Z.Messages.MESSAGE_UTILITIES_A11Y_LABEL,children:(0,i.jsxs)(P.ZP,{className:e.innerClassName,children:[r,o]})})})},400023:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(91192),o=n(442837),c=n(481060),u=n(904245),d=n(902840),h=n(607070),p=n(580747),m=n(135938),_=n(160404),f=n(765104),E=n(695346),g=n(314897),C=n(323873),I=n(607744),x=n(375954),T=n(496675),N=n(306680),v=n(62817),S=n(594174),Z=n(68588),A=n(459273),M=n(255269),b=n(47481),R=n(977391),j=n(73274),L=n(419388),P=n(406534),O=n(981631),y=n(689938),D=n(601621);let k=a.memo(function(e){var t,n;let{className:l,messageGroupSpacing:d,scrollerClassName:p,channel:m,messages:f,unreadCount:E,showNewMessagesBar:g,messageDisplayCompact:C,channelStream:I,uploads:x,hasUnreads:N,editingMessageId:v,fontSize:S,keyboardModeEnabled:Z,filterAfterTimestamp:M,showingQuarantineBanner:b,hideSummaries:k=!1}=e,[U,w]=a.useState(!1),B=a.useMemo(()=>C?(0,R.aJ)({compact:!0,messageGroups:30,groupRange:4,attachments:8,fontSize:S,groupSpacing:d}):(0,R.aJ)({compact:!1,messageGroups:26,groupRange:4,attachments:8,fontSize:S,groupSpacing:d}),[C,S,d]),H=(0,L.ZP)({messages:f,channel:m,compact:C,hasUnreads:N,focusId:v,placeholderHeight:B.totalHeight,canLoadMore:null==M,handleScrollToBottom:a.useCallback(()=>w(!0),[w]),handleScrollFromBottom:a.useCallback(()=>w(!1),[w])}),G=(0,j.Z)({scrollerRef:H.ref,isEditing:null!=v,keyboardModeEnabled:Z,hasMoreAfter:f.hasMoreAfter});let V=(n=m,(0,o.e7)([_.Z],()=>T.Z.can(O.Plq.READ_MESSAGE_HISTORY,n)?null:_.Z.getViewingRolesTimestamp(n.getGuildId()))),{channelStreamMarkup:F,newMessagesBar:W,jumpToPresentBar:z,forumPostActionBar:Y,safetyWarningBanner:K}=(0,P.Z)({channel:m,messages:f,unreadCount:E,showNewMessagesBar:g,messageDisplayCompact:C,channelStream:I,uploads:x,loadMore:H.loadMore,scrollManager:H,specs:B,filterAfterTimestamp:null!=M?M:V,showingQuarantineBanner:b,hideSummaries:k,isAtBottom:U,jumpToPresent:()=>{if(f.hasPresent()){var e;null===(e=H.ref.current)||void 0===e||e.scrollToBottom({animate:!h.Z.useReducedMotion})}else u.Z.jumpToPresent(m.id,O.AQB)}});!function(e){let t=a.useCallback(()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.scrollToBottom()},[e]),n=a.useCallback(()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.scrollPageUp({animate:!h.Z.useReducedMotion})},[e]),i=a.useCallback(()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.scrollPageDown({animate:!h.Z.useReducedMotion})},[e]);(0,A.yp)({event:O.CkL.SCROLLTO_PRESENT,handler:t}),(0,A.yp)({event:O.CkL.SCROLL_PAGE_UP,handler:n}),(0,A.yp)({event:O.CkL.SCROLL_PAGE_DOWN,handler:i})}(H.ref);let q=(0,c.useFocusJumpSection)(),{ref:X,...Q}=(0,r.l2)(G),J=a.useCallback(e=>{var t;H.ref.current=e,X.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},[]);return(0,i.jsxs)(r.bG,{navigator:G,children:[null!=K&&K,(0,i.jsxs)("div",{className:s()(D.messagesWrapper,l,"group-spacing-".concat(d)),children:[null==K&&W,(0,i.jsxs)(c.PinToBottomScrollerAuto,{ref:J,customTheme:!0,className:s()(p,D.scroller),contentClassName:D.scrollerContent,onResize:H.handleResize,onScroll:H.handleScroll,onMouseDown:H.handleMouseDown,onMouseUp:H.handleMouseUp,...q,tabIndex:-1,role:"group",children:[Y,(0,i.jsxs)("ol",{className:D.scrollerInner,"aria-label":y.Z.Messages.CHANNEL_MESSAGES_A11Y_LABEL.format({channelName:m.name}),...Q,children:[(0,i.jsx)("span",{className:D.navigationDescription,id:"messagesNavigationDescription","aria-hidden":!0,children:y.Z.Messages.CHANNEL_MESSAGES_A11Y_DESCRIPTION}),F,(0,i.jsx)("div",{className:s()({[D.scrollerSpacer]:!b,[D.empty]:0===f.length&&!f.loadingMore,[D.emptyForum]:1===f.length&&!f.loadingMore&&m.isForumPost()&&(null===(t=f.first())||void 0===t?void 0:t.isFirstMessageInForumPost(m))})})]})]}),z]})]})},(e,t)=>null!=e.isHidden&&null!=t.isHidden&&e.isHidden&&t.isHidden);t.Z=a.memo(function(e){let{channel:t,showingQuarantineBanner:n,hideSummaries:l=!1,forceCompact:s=!1,forceCozy:r=!1,...c}=e,{canManageMessages:u,permissionVersion:_,canChat:A}=function(e){let t=e.getGuildId(),n=(0,o.e7)([I.Z],()=>null==t||I.Z.canChatInGuild(t),[t]),{canManageMessages:i,permissionVersion:a}=(0,o.cj)([T.Z],()=>({canManageMessages:T.Z.can(O.Plq.MANAGE_MESSAGES,e),permissionVersion:null!=t?T.Z.getGuildVersion(t):null}),[e,t]);return{canChat:n,permissionVersion:a,canManageMessages:i}}(t),{messageGroupSpacing:R,fontSize:j,messageDisplayCompact:L,renderSpoilers:P,keyboardModeEnabled:y}=function(){let e=E.jU.useSetting(),t=E.cC.useSetting(),{messageGroupSpacing:n,fontSize:i,keyboardModeEnabled:a}=(0,o.cj)([h.Z],()=>{let{messageGroupSpacing:e,fontSize:t,keyboardModeEnabled:n}=h.Z;return{messageGroupSpacing:e,fontSize:t,keyboardModeEnabled:n}});return{messageGroupSpacing:n,messageDisplayCompact:e,renderSpoilers:t,fontSize:i,keyboardModeEnabled:a}}(),{messages:D,channelStream:U,oldestUnreadMessageId:w,editingMessageId:B}=function(e){var t,n;let i=(0,o.e7)([x.Z],()=>x.Z.getMessages(e.id),[e.id]),l=(0,o.e7)([N.ZP],()=>{var t;return null!==(t=N.ZP.getOldestUnreadMessageId(e.id))&&void 0!==t?t:null},[e.id]),{enabled:s}=m.Z.useExperiment({location:"41de6d_1"},{autoTrackExposure:!1}),r=null!==(n=null===(t=S.default.getUser(g.default.getId()))||void 0===t?void 0:t.hasFlag(O.xW$.SPAMMER))&&void 0!==n&&n,c=(0,d.ts)(e),u=(0,p.Z)("use_topic_dividers_in_chat"),h=(0,o.Wu)([f.Z],()=>{var t;return c&&u&&null!==(t=f.Z.summaries(e.id))&&void 0!==t?t:[]},[c,e.id,u]),_=(0,o.e7)([f.Z],()=>c?f.Z.selectedSummary(e.id):null,[c,e.id]),E=a.useMemo(()=>(0,b.Z)({channel:e,messages:i,oldestUnreadMessageId:l,treatSpam:s&&!r,summaries:h,selectedSummary:_}),[i,e,l,s,h,_]);return{messages:i,channelStream:E,oldestUnreadMessageId:l,editingMessageId:(0,o.e7)([C.Z],()=>{var t;return null===(t=C.Z.getEditingMessage(e.id))||void 0===t?void 0:t.id})}}(t);return(0,i.jsx)(Z.a.Provider,{value:(0,M.Z)(P,u),children:(0,i.jsx)(k,{...c,messageGroupSpacing:R,showNewMessagesBar:!0,channel:t,messageDisplayCompact:!r&&(s||L),messages:D,channelStream:U,permissionVersion:_,uploads:(0,o.e7)([v.Z],()=>v.Z.getFiles(t.id),[t]),unreadCount:(0,o.e7)([N.ZP],()=>N.ZP.getUnreadCount(t.id),[t]),hasUnreads:null!=w,canChat:A,editingMessageId:B,fontSize:j,keyboardModeEnabled:y,showingQuarantineBanner:n,hideSummaries:l})})})},603490:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(873546),l=n(481060),s=n(130402),r=n(404975),o=n(185923),c=n(689938),u=n(613861);function d(e){let{channel:t,message:n,togglePopout:d,renderEmojiPicker:h,shouldShow:p}=e;return(0,i.jsx)(l.Popout,{animation:l.Popout.Animation.FADE,renderPopout:e=>{let{closePopout:i}=e;return h(t,n,i,!1)},shouldShow:p,onRequestClose:d,position:a.tq?"top":"left",align:a.tq?"center":"top",children:(e,t)=>{let{onClick:n,...a}=e,{isShown:h}=t;return(0,i.jsx)(l.Tooltip,{disableTooltipPointerEvents:!1,text:c.Z.Messages.ADD_REACTION,color:l.TooltipColors.PRIMARY,"aria-label":c.Z.Messages.ADD_REACTION,hideOnClick:!0,tooltipClassName:u.tooltip,children:e=>{let{onMouseEnter:t,onMouseLeave:n,onClick:p}=e;return(0,i.jsx)(r.zx,{onMouseEnter:()=>{null==t||t(),(0,s.x)(o.qR.MessageContextMenuMouseEntered)},onMouseLeave:n,onClick:()=>{d(),null==p||p()},"aria-label":c.Z.Messages.ADD_REACTION,selected:h,...a,children:(0,i.jsx)(l.ReactionIcon,{size:"sm",color:"currentColor",className:u.icon})})}},"add-reaction")}})}},173033:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(374470);function a(e,t){let n=e.offsetTop,a=e.offsetParent;for(;null!=a;){var l;if(a===t||!(0,i.k)(a,HTMLElement))break;n+=null!==(l=a.offsetTop)&&void 0!==l?l:0,a=a.offsetParent}return n}},73274:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(470079),a=n(924826),l=n(459273),s=n(585483),r=n(534091),o=n(959517),c=n(981631);function u(e){let{scrollerRef:t,...n}=e,u=i.useCallback(()=>{let e=t.current;return null==e?Promise.resolve():new Promise(t=>{e.scrollToBottom({callback:()=>requestAnimationFrame(t)})})},[]),d=i.useCallback(()=>{let e=t.current;return null==e?Promise.resolve():new Promise(t=>{e.scrollToTop({callback:()=>requestAnimationFrame(t)})})},[]),h=i.useCallback(e=>{var i,a,l;if(!n.keyboardModeEnabled)return;let s=null===(a=t.current)||void 0===a?void 0:null===(i=a.getScrollerNode())||void 0===i?void 0:i.ownerDocument,r=null==s?void 0:s.querySelector(e);null!=r&&(null===(l=t.current)||void 0===l||l.scrollIntoViewNode({node:r,padding:4*o.kQ,callback:()=>null==r?void 0:r.focus()}))},[n.keyboardModeEnabled]),p=i.useCallback(()=>{!n.hasMoreAfter&&s.S.dispatchToLastSubscribed(c.CkL.TEXTAREA_FOCUS)},[n.hasMoreAfter]),m=(0,a.ZP)({id:r.W,preserveFocusPosition:!1,setFocus:h,isEnabled:n.keyboardModeEnabled&&!n.isEditing,scrollToStart:d,scrollToEnd:u,onNavigateNextAtEnd:p}),_=i.useCallback(e=>{let{atEnd:t=!1}=e;t?m.focusLastVisibleItem():m.focusFirstVisibleItem()},[m]);return(0,l.yp)({event:c.CkL.FOCUS_MESSAGES,handler:_}),m}},97352:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(470079),a=n(399606),l=n(570140),s=n(607070),r=n(222677),o=n(695346),c=n(960020),u=n(566006);function d(){let e=o.Yk.useSetting(),t=(0,a.e7)([s.Z],()=>s.Z.useReducedMotion);i.useEffect(()=>{function n(n){let{messageId:i,channelId:a,emoji:l,optimistic:s,reactionType:o}=n;if(!s&&o===u.O.BURST&&!!e&&!t)(0,r.T6)({channelId:a,messageId:i,emoji:l,key:c.I.EXTERNAL})}return l.Z.subscribe("MESSAGE_REACTION_ADD",n),()=>{l.Z.unsubscribe("MESSAGE_REACTION_ADD",n)}},[e,t])}},62072:function(e,t,n){var i=n(470079),a=n(904245),l=n(346610),s=n(868643),r=n(912332),o=n(41776),c=n(280845),u=n(665906),d=n(488131),h=n(695346),p=n(314897),m=n(592125),_=n(323873),f=n(271383),E=n(607744),g=n(375954),C=n(496675),I=n(572004),x=n(585483),T=n(358085),N=n(709054),v=n(418476),S=n(901461),Z=n(432376),A=n(996861),M=n(981631);function b(e){return C.Z.can(M.Plq.MANAGE_MESSAGES,e)}t.Z=function(e,t,n){let R=i.useRef(n);return R.current=n,i.useCallback(n=>{var i,j,L,P,O;if(!R.current||n.target!==n.currentTarget)return;let y=!n.altKey&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey,D=n.altKey&&!(n.ctrlKey||n.metaKey||n.shiftKey),k=n.ctrlKey&&!(n.altKey||n.metaKey||n.shiftKey),U=n.metaKey&&!(n.altKey||n.ctrlKey||n.shiftKey),w=n.shiftKey&&!(n.altKey||n.ctrlKey||n.metaKey),B=g.Z.getMessage(t,e),H=m.Z.getChannel(t);if(null==B||null==H)return;let G=p.default.getId();switch(n.key.toLowerCase()){case"backspace":y&&(b(H)||B.canDeleteOwnMessage(G))&&(n.preventDefault(),(0,A.$Z)(H,B,n));break;case"c":((0,T.isMac)()?U:k)&&I.wS&&(n.preventDefault(),(0,I.JG)(B.content));break;case"e":if(y){;if(i=G,j=H,L=B,!j.isSystemDM()&&(0,v.Z)(L,i))n.preventDefault(),(0,A.Hd)(H,B)}break;case"p":if(y||w){;if(P=H,O=B,!P.isSystemDM()&&!(0,S.Z)(O)&&(b(P)||P.isPrivate()))n.preventDefault(),(0,A.rY)(H,B,n)}break;case"+":(y||w)&&function(e){let t=null==e.guild_id||E.Z.canChatInGuild(e.guild_id),n=h.nc.getSetting(),{disableReactionCreates:i}=(0,Z.Z)({channel:e,canChat:t,renderReactions:n,canAddNewReactions:t&&C.Z.can(M.Plq.ADD_REACTIONS,e),isLurking:null!=e.guild_id&&o.Z.isLurking(e.guild_id),isGuest:null!=e.guild_id&&f.ZP.isCurrentUserGuest(e.guild_id),isActiveChannelOrUnarchivableThread:(0,u.RG)(e)});return!i&&n}(H)&&(n.preventDefault(),x.S.dispatchKeyed(M.LPv.TOGGLE_REACTION_POPOUT,B.id,{emojiPicker:!0}));break;case"r":(y||w)&&(0,c.o)(H,B)&&(n.preventDefault(),(0,A.HH)(H,B,n));break;case"f":(y||w)&&l.w.getCurrentConfig({location:"keyboard-shortcut"},{autoTrackExposure:!1}).canForwardMessages&&(0,s.h)(B)&&(n.preventDefault(),(0,r.l8)({messageId:B.id,channelId:H.id,source:"keyboard-shortcut"}));break;case"t":if(y&&(0,u.ki)(H,B))n.preventDefault(),(0,d.R6)(H,B,"Message Shortcut");else if(B.hasFlag(M.iLy.HAS_THREAD)){let e=m.Z.getChannel(N.default.castMessageIdAsChannelId(B.id));null!=e&&(y||w)&&(n.preventDefault(),(0,d.ok)(e,w))}break;case"enter":D&&(n.preventDefault(),(0,A.B8)(H,B));break;case"escape":_.Z.isEditing(H.id,B.id)?a.Z.endEditMessage(H.id):x.S.dispatch(M.CkL.TEXTAREA_FOCUS)}},[e,t])}},419388:function(e,t,n){n.d(t,{ZP:function(){return v}}),n(47120),n(653041);var i=n(470079),a=n(392711),l=n.n(a),s=n(374470),r=n(925549),o=n(904245),c=n(45114),u=n(40851),d=n(607070),h=n(703656),p=n(479313),m=n(796974),_=n(709054),f=n(534469),E=n(173033),g=n(959517),C=n(981631);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t,n;if(null==e.jumpTargetId||!e.ready)return null;let{jumpTargetId:i,jumpTargetOffset:a}=e;if(e.has(i)||!e.hasMoreBefore&&i===_.default.castChannelIdAsMessageId(e.channelId)){if(0===a)return i;let n=e.getByIndex(e.indexOf(i)+a);return null!==(t=null==n?void 0:n.id)&&void 0!==t?t:i}let l=[i,...e.map(e=>{let{id:t}=e;return t})].sort(_.default.compare),s=l.indexOf(i),r=null!==(n=l[s+(Math.abs(a)>0?a:1)])&&void 0!==n?n:l[s-1];return null!=r?r:null}let T={scrollTop:0,scrollHeight:0,offsetHeight:0};class N{isReady(){return this.props.messages.ready}isLoading(){return this.loading||this.props.messages.loadingMore}isPinned(){return this.pinned}isJumping(){return this.jumping}isDragging(){return this.dragging}isInitialized(){return void 0===this.initialScrollTop}isScrollLoadingDisabled(){return this.isLoading()||!this.isInitialized()||this.isJumping()||this.isDragging()||!this.props.canLoadMore}isActivelyScrolling(){return this.scrollCounter>=5}getDocument(){var e,t;return null===(t=this.ref.current)||void 0===t?void 0:null===(e=t.getScrollerNode())||void 0===e?void 0:e.ownerDocument}getElementFromMessageId(e){let t=this.getDocument(),{channel:{id:n}}=this.props;return null==t?null:(0,f.AP)(t,n,e)}isScrolledToBottom(){let{scrollTop:e,scrollHeight:t,offsetHeight:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getScrollerState();return e>=t-n-g.kQ&&!this.props.messages.hasMoreAfter}mergePropsAndUpdate(e){this.mergePropsAndUpdate_(e),this.props.messages.ready&&this.enableAutomaticAck()}mergePropsAndUpdate_(e){let t=this.props.messages,n=this.props.focusId;this.props={...e};let{offsetHeight:i,scrollHeight:a}=this.getScrollerState(),l=this.isHeightChange(i,a);if(this.offsetHeightCache=i,this.scrollHeightCache=a,this.loading=e.messages.loadingMore,this.isInitialized()||this.isReady()){if(!this.isInitialized()){this.restoreScroll();return}}else{null==e.messages.jumpTargetId&&this.scrollTo(Number.MAX_SAFE_INTEGER);return}if(null!=e.messages.jumpTargetId){if(this.isLoading())return;let n=x(e.messages);if(null==n||this.isJumping()||e.messages.jumpSequenceId===t.jumpSequenceId){if(this.isJumping()){null!=n?this.scrollToMessage(n,!0):this.jumping=!1;return}}else{let i;let a=t.first();null!=a&&e.messages.last()!==t.last()&&e.messages.first()!==t.first()&&(i=_.default.extractTimestamp(a.id)),this.scrollToMessage(n,!0,i);return}}if(e.messages.jumpedToPresent&&t.jumpSequenceId!==e.messages.jumpSequenceId){this.jumping=!0,this.scrollTo(0),this.setScrollToBottom(!0);return}let s=e.messages.last(),r=t.last();if(null!=s&&s.state===C.yb.SENDING&&(null==r?void 0:r.id)!==s.id){this.setScrollToBottom();return}let{focusId:o}=this.props;if(null!=o&&n!==o){let e=this.getElementFromMessageId(o);if(null!=e){var c;null===(c=this.ref.current)||void 0===c||c.scrollIntoViewNode({node:e,padding:g.kQ,callback:this.handleScroll});return}}l&&this.fixScrollPosition(i,a)}getAnchorData(e,t,n){var i;let a=this.getElementFromMessageId(e),l=null===(i=this.ref.current)||void 0===i?void 0:i.getScrollerNode();if(!(0,s.k)(a)||null==l)return null;let{offsetHeight:r}=a,o=(0,E.Z)(a,l),c=o-t;return null!=n&&(c=Math.max(-r,Math.min(n,c))),{id:e,offsetFromTop:c,offsetTop:o,offsetHeight:r,clamped:null!=c}}cleanAutomaticAnchor(){this.setAutomaticAnchor(null)}newMessageBarBuffer(){return this.props.channel.isForumPost()?g.R4:g.Eo}findAnchor(){let{messages:e,hasUnreads:t,channel:n}=this.props,i=this.getScrollerState(),{scrollTop:a}=i,l=t&&a>=this.newMessageBarBuffer()?this.newMessageBarBuffer():0,s=null,r=t=>{var i;return -1===t?_.default.castChannelIdAsMessageId(n.id):null===(i=e._array[t])||void 0===i?void 0:i.id},o=-1,c=!1;for(;;){let t=r(o);if(null==t)break;let n=this.getAnchorData(t,a);if(this._bottomAnchor=n,c&&null!=n&&n.offsetTop>a+l+i.offsetHeight)break;if(c){o++;continue}null!=n&&(n.offsetTop>=a+l||o===e.length-1)&&(s=n,c=!0),o++}return s}findFetchAnchor(e){let{messages:t}=this.props,{scrollTop:n}=this.getScrollerState(),i=e?-1:1,a=null,l=t._array.length-1;for(let s=e?l:0;null!=t._array[s];s+=i){let e=t._array[s],i=this.getAnchorData(e.id,n);if(null!=i){a=i;break}}return a}getAnchorFixData(){for(let e of[this.focusAnchor,this.isLoading()?null:this.messageFetchAnchor,this.automaticAnchor]){if(null==e)continue;let t=this.getElementFromMessageId(e.id);if(!(0,s.k)(t))continue;let n=e===this.messageFetchAnchor?e.offsetHeight-t.offsetHeight:0;return{node:t,fixedScrollTop:t.offsetTop-(e.offsetFromTop+n)}}return null}fixAnchorScrollPosition(){let e=this.getAnchorFixData();if(null==e){this.handleScroll();return}let{node:t,fixedScrollTop:n}=e;if(null!=this.focusAnchor){var i;this.isPinned()?this.scrollTo(Number.MAX_SAFE_INTEGER,!1,this.handleScroll):this.mergeTo(n,this.handleScroll),null===(i=this.ref.current)||void 0===i||i.scrollIntoViewNode({node:t,padding:g.kQ,callback:this.handleScroll})}else this.mergeTo(n,this.handleScroll);this.isActivelyScrolling()?this.setAutomaticAnchor(null):this.setAutomaticAnchor(this.findAnchor()),!this.isLoading()&&(this.messageFetchAnchor=null)}hasAnchor(){return null!=this.focusAnchor||null!=this.messageFetchAnchor||null!=this.automaticAnchor}updateFocusAnchor(e,t,n){let i=this.focusAnchor=null!=e?this.getAnchorData(e,t):null;null!=i&&(i.offsetFromTop>=n||t>i.offsetTop+i.offsetHeight)&&(this.focusAnchor=null)}handleFocusAnchorScroll(e,t){var n;this.updateFocusAnchor(null===(n=this.focusAnchor)||void 0===n?void 0:n.id,e,t)}updateFetchAnchor(e,t,n){var i;let a=null===(i=this.ref.current)||void 0===i?void 0:i.getScrollerNode();null!=this.messageFetchAnchor&&null!=a&&(this.messageFetchAnchor=this.getAnchorData(this.messageFetchAnchor.id,e,this.isInPlaceholderRegion({scrollTop:e,offsetHeight:t,scrollHeight:n})>0?t:void 0))}updateAutomaticAnchor(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null===(t=this.ref.current)||void 0===t?void 0:t.getScrollerNode();if(null==this.automaticAnchor||null==i)return;let a=this.getAnchorData(this.automaticAnchor.id,e);n&&null!=a&&null!=this.automaticAnchor&&(a.offsetFromTop=this.automaticAnchor.offsetFromTop),this.setAutomaticAnchor(a)}setAutomaticAnchor(e){var t,n;this.automaticAnchor=e,null===(t=this._automaticAnchorCallbacks)||void 0===t||t.forEach(e=>e(this.automaticAnchor,this._bottomAnchor)),this.updateVisibleMessagesDebounced(null==e?void 0:e.id,null===(n=this._bottomAnchor)||void 0===n?void 0:n.id)}getScrollerState(){var e,t;return null!==(t=null===(e=this.ref.current)||void 0===e?void 0:e.getScrollerState())&&void 0!==t?t:T}isHeightChange(e,t){return e!==this.offsetHeightCache||t!==this.scrollHeightCache}isInPlaceholderRegion(e){let{scrollTop:t,offsetHeight:n,scrollHeight:i}=e,{messages:a,placeholderHeight:l}=this.props;return a.hasMoreBefore&&t<l&&i>n?1:a.hasMoreAfter&&t>=i-n-l?2:0}isInScrollTriggerLoadingRegion(e){let{scrollTop:t,offsetHeight:n,scrollHeight:i}=e,{messages:a}=this.props;return a.hasMoreBefore&&t<=this.getOffsetToTriggerLoading("top",e)&&i>n?1:a.hasMoreAfter&&t>=this.getOffsetToTriggerLoading("bottom",e)?2:0}handleScrollSpeed(e){if(this.isJumping()||this.isDragging()||!this.props.canLoadMore)return;let{scrollTop:t,offsetHeight:n,scrollHeight:i}=e,{prevScrollTop:a,props:{placeholderHeight:l}}=this;if(this.prevScrollTop=t,null==a)return;let s=this.isInPlaceholderRegion(e),r=t-a;0!==s&&(1===s&&t+r<=0?(this.mergeTo(l-n),this.prevScrollTop=l-n):2===s&&t+r>=i-n&&(this.mergeTo(i-l),this.prevScrollTop=i-l))}enableAutomaticAck(){this.isInitialized()&&!this.acking&&(this.acking=!0,this.updateStoreDimensions(()=>{(0,c.CZ)(this.props.channel.id,this.props.windowId)}))}fixScrollPosition(e,t){this.offsetHeightCache=e,this.scrollHeightCache=t,this.fixJumpTarget(),this.isPinned()&&null==this.messageFetchAnchor&&null==this.focusAnchor?this.scrollTo(Number.MAX_SAFE_INTEGER,!1,this.handleScroll):this.fixAnchorScrollPosition()}fixJumpTarget(){if(!this.isJumping())return;let{messages:e,hasUnreads:t}=this.props;if(null!=e.jumpTargetId){let n=x(e);if(null==n)return;let i=this.getElementFromMessageId(n);(0,s.k)(i)?this.scrollTo(this.getOffsetOrientationFromNode(i,"middle",t?this.newMessageBarBuffer():g.kQ),!0):this.scrollToNewMessages(!0,"middle")}else this.scrollTo(Number.MAX_SAFE_INTEGER,!0)}scrollToNewMessages(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",i=arguments.length>2?arguments[2]:void 0,a=null===(e=this.getDocument())||void 0===e?void 0:e.getElementById(g.j1),l=()=>{this.jumping=!1,this.setAutomaticAnchor(this.findAnchor()),null!=i&&i(),this.handleScroll()};this.pinned=!1,this.jumping=t,null!=a?this.scrollTo(this.getOffsetOrientationFromNode(a,n,this.newMessageBarBuffer()),t,l):this.scrollTo(this.getOffsetToPreventLoading("top"),t,l)}getOffsetOrientationFromNode(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=null===(n=this.ref.current)||void 0===n?void 0:n.getScrollerNode();if(null==a)return 0;let l=this.getScrollerState(),s=(0,E.Z)(e,a);return"middle"===t?Math.min(s-.5*l.offsetHeight+.5*e.offsetHeight+-8,s-i):s-i}restoreScroll(){if(this.isInitialized())return;let{initialScrollTop:e}=this;this.initialScrollTop=void 0;let t=x(this.props.messages);null!=t?this.scrollToMessage(t,!1):this.props.hasUnreads&&this.props.channel.type!==C.d4z.GUILD_VOICE&&this.props.channel.type!==C.d4z.GUILD_STAGE_VOICE?this.scrollToNewMessages():null!=e?this.scrollTo(e+this.props.placeholderHeight,!1,this.handleScroll):this.setScrollToBottom()}scrollTo(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;null===(t=this.ref.current)||void 0===t||t.scrollTo({to:e,animate:!d.Z.useReducedMotion&&n,callback:i}),this.isPinned()?this.updateStoreDimensions():this.updateStoreDimensionsDebounced()}mergeTo(e,t){var n;null===(n=this.ref.current)||void 0===n||n.mergeTo({to:e,callback:t}),this.isPinned()?this.updateStoreDimensions():this.updateStoreDimensionsDebounced()}setScrollToBottom(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{messages:t,channel:n}=this.props;if(t.hasMoreAfter){var i,a;i=n,o.Z.jumpToPresent(i.id,C.AQB),(0,h.XU)(null!==(a=i.getGuildId())&&void 0!==a?a:C.ME,i.id)}else this.scrollTo(Number.MAX_SAFE_INTEGER,e,()=>{this.jumping=!1,this.handleScroll()})}updateStoreDimensions(e){if(this.isJumping()||!this.isInitialized())return;let{channel:t}=this.props;if(this.isPinned())r.Z.clearChannelDimensions(t.id,e);else{let{placeholderHeight:n}=this.props,{scrollTop:i,scrollHeight:a,offsetHeight:l}=this.getScrollerState();r.Z.updateChannelDimensions(t.id,i-n,a-n,l,e)}}scrollIntoViewRect(){}scrollPageUp(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=this.ref.current)||void 0===e||e.scrollPageUp({animate:t})}scrollPageDown(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=this.ref.current)||void 0===e||e.scrollPageDown({animate:t})}scrollToMessage(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(null==this.ref.current)return;if(e===this.props.channel.id){this.scrollTo(0);return}let i=this.getElementFromMessageId(e);!this.isJumping()&&t&&null!=n&&!d.Z.useReducedMotion&&(_.default.extractTimestamp(e)>n?this.scrollTo(0):this.scrollTo(Number.MAX_SAFE_INTEGER)),this.pinned=!1,this.jumping=!0;let a=()=>{this.jumping=!1,(0,s.k)(i)&&d.Z.keyboardModeEnabled&&i.focus({preventScroll:!0}),this.scrollCounter=0,this.handleScroll(),this._scrollCompleteCallbacks.forEach(e=>e())};(0,s.k)(i)?this.scrollTo(this.getOffsetOrientationFromNode(i,"middle",this.props.hasUnreads?this.newMessageBarBuffer():g.kQ),t,a):this.scrollToNewMessages(t,"middle",a)}getOffsetToTriggerLoading(e,t){let{scrollHeight:n,offsetHeight:i}=t,{messages:a,hasUnreads:l,placeholderHeight:s}=this.props;if("top"===e)return a.hasMoreBefore?l?s-g.D4-2:s+500:0;return a.hasMoreAfter?n-i-s-500:n-i}getOffsetToPreventLoading(e){let{messages:t}=this.props,n=0;return"top"===e&&t.hasMoreBefore?n=2:"bottom"===e&&t.hasMoreAfter&&(n=-2),this.getOffsetToTriggerLoading(e,this.getScrollerState())+n}getSnapshotBeforeUpdate(e){if(this.hasAnchor()||null!=e){let{scrollTop:t,offsetHeight:n,scrollHeight:i}=this.getScrollerState();this.updateFocusAnchor(e,t,n),this.updateFetchAnchor(t,n,i),this.updateAutomaticAnchor(t)}}addAutomaticAnchorCallback(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this._automaticAnchorCallbacks.push(e),this._automaticAnchorCallbacks=l().uniq(this._automaticAnchorCallbacks),!0===t&&this.setAutomaticAnchor(this.findAnchor())}removeAutomaticAnchorCallback(e){this._automaticAnchorCallbacks=l().without(this._automaticAnchorCallbacks,e)}addScrollCompleteCallback(e){this._scrollCompleteCallbacks.push(e),this._scrollCompleteCallbacks=l().uniq(this._scrollCompleteCallbacks)}removeScrollCompleteCallback(e){this._scrollCompleteCallbacks=l().without(this._scrollCompleteCallbacks,e)}cleanup(){this.acking=!1,this.updateStoreDimensionsDebounced.cancel(),this._automaticAnchorCallbacks.forEach(e=>this.removeAutomaticAnchorCallback(e)),(0,c.jT)(this.props.channel.id,this.props.windowId)}constructor(e){var t,n=this;I(this,"props",void 0),I(this,"ref",i.createRef()),I(this,"automaticAnchor",null),I(this,"messageFetchAnchor",null),I(this,"focusAnchor",null),I(this,"loading",void 0),I(this,"jumping",!1),I(this,"pinned",void 0),I(this,"dragging",!1),I(this,"isAtBottom",!1),I(this,"prevScrollTop",null),I(this,"anchorTimeout",null),I(this,"initialScrollTop",null),I(this,"acking",!1),I(this,"scrollCounter",0),I(this,"offsetHeightCache",0),I(this,"scrollHeightCache",0),I(this,"scrollTopCache",-1),I(this,"_bottomAnchor",null),I(this,"_automaticAnchorCallbacks",[]),I(this,"_scrollCompleteCallbacks",[]),I(this,"updateVisibleMessagesDebounced",l().debounce(p.JR,300)),I(this,"handleScroll",e=>{var t;if(!this.isInitialized())return;let n=this.getScrollerState(),i=this.isScrolledToBottom(n);if(i!==this.isAtBottom&&(i?(this.isAtBottom=!0,this.props.handleScrollToBottom()):(this.isAtBottom=!1,this.props.handleScrollFromBottom())),n.offsetHeight!==this.offsetHeightCache||n.scrollHeight!==this.scrollHeightCache)this.scrollCounter=0,clearTimeout(this.anchorTimeout),!this.isPinned()&&(null==this.automaticAnchor?this.setAutomaticAnchor(this.findAnchor()):this.updateAutomaticAnchor(n.scrollTop,!0)),clearTimeout(this.anchorTimeout),this.fixScrollPosition(n.offsetHeight,n.scrollHeight),this.scrollTopCache=n.scrollTop;else{if(null!=e&&e.target!==(null===(t=this.ref.current)||void 0===t?void 0:t.getScrollerNode()))return;this.scrollTopCache!==n.scrollTop&&(this.pinned=i,this.scrollCounter=Math.min(this.scrollCounter+1,5),this.pinned?this.cleanAutomaticAnchor():null!=this.automaticAnchor?this.updateAutomaticAnchor(n.scrollTop,!0):this.setAutomaticAnchor(this.findAnchor()),this.scrollTopCache=n.scrollTop,clearTimeout(this.anchorTimeout),this.anchorTimeout=setTimeout(()=>{this.scrollCounter=0,this.anchorTimeout=null,this.prevScrollTop=null;let{scrollHeight:e,offsetHeight:t}=this.getScrollerState();this.isHeightChange(t,e)?this.handleScroll():(this.cleanAutomaticAnchor(),!this.isPinned()&&this.setAutomaticAnchor(this.findAnchor()))},35))}if(this.handleFocusAnchorScroll(n.scrollTop,n.offsetHeight),this.updateStoreDimensionsDebounced(),this.isScrollLoadingDisabled())return!this.props.canLoadMore&&this.enableAutomaticAck(),this.handleScrollSpeed(n);let a=this.isInScrollTriggerLoadingRegion(n);1===a?this.loadMore():2===a?this.loadMore(!0):this.enableAutomaticAck(),this.handleScrollSpeed(n)}),I(this,"handleResize",(e,t)=>{let{offsetHeightCache:n,scrollHeightCache:i}=this;"container"===t?n=e.contentRect.height:"content"===t&&(i=e.contentRect.height),this.isHeightChange(n,i)&&this.fixScrollPosition(n,i)}),I(this,"handleMouseDown",e=>{e.target===e.currentTarget&&(this.dragging=!0)}),I(this,"handleMouseUp",()=>{this.dragging=!1,this.handleScroll()}),I(this,"loadMore",function(){let e,t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{messages:a}=n.props;if(i){let e=a.last();null!=e&&(t=e.id)}else{let t=a.first();null!=t&&(e=t.id)}n.messageFetchAnchor=n.findFetchAnchor(i),n.loading=!0,o.Z.fetchMessages({channelId:n.props.channel.id,before:e,after:t,limit:C.AQB,truncate:!0})}),I(this,"updateStoreDimensionsDebounced",l().debounce(this.updateStoreDimensions,200)),this.props=e,this.loading=e.messages.loadingMore;let a=m.Z.getChannelDimensions(e.channel.id);null!=e.messages.jumpTargetId?this.pinned=!1:(this.initialScrollTop=null!==(t=null==a?void 0:a.scrollTop)&&void 0!==t?t:null,this.pinned=null==a)}}function v(e){let{messages:t,channel:n,compact:a,hasUnreads:l,focusId:s,placeholderHeight:r,canLoadMore:o=!0,handleScrollToBottom:c,handleScrollFromBottom:d}=e,{windowId:h}=i.useContext(u.ZP),[p]=i.useState(()=>new N({messages:t,channel:n,compact:a,hasUnreads:l,focusId:s,placeholderHeight:r,canLoadMore:o,windowId:h,handleScrollToBottom:c,handleScrollFromBottom:d}));return p.getSnapshotBeforeUpdate(s),i.useLayoutEffect(()=>p.mergePropsAndUpdate({messages:t,channel:n,compact:a,hasUnreads:l,focusId:s,placeholderHeight:r,canLoadMore:o,windowId:h,handleScrollToBottom:c,handleScrollFromBottom:d})),i.useLayoutEffect(()=>()=>p.cleanup(),[p]),p}},406534:function(e,t,n){n.d(t,{Z:function(){return $}}),n(653041),n(47120),n(733860);var i=n(735250),a=n(470079),l=n(442837),s=n(904245),r=n(966390),o=n(902840),c=n(607070),u=n(367907),d=n(600084),h=n(62764),p=n(79712),m=n(736052),_=n(359110),f=n(359119),E=n(13279),g=n(248789),C=n(88101),I=n(576954),x=n(765104),T=n(122707),N=n(779836),v=n(23750),S=n(496675),Z=n(306680),A=n(944486),M=n(594174),b=n(130208),R=n(55935),j=n(70956),L=n(709054),P=n(534091),O=n(900164),y=n(554838),D=n(481369),k=n(186877),U=n(294218),w=n(534469),B=n(993397),H=n(511010),G=n(524444),V=n(977391),F=n(921235),W=n(97352),z=n(226027),Y=n(959517),K=n(981631),q=n(134612),X=n(689938);function Q(e){return null!=e&&e.type===K.ys_.MESSAGE&&e.content.id===e.groupId}let J=a.memo(function(e){let{file:t,channel:n,user:a,isGroupStart:l}=e;return(0,i.jsx)(U.Z,{isGroupStart:l,channel:n,message:new v.ZP({id:t.id,key:"pending-upload-".concat(t.id),type:K.uaV.DEFAULT,author:a,channel_id:n.id,customRenderedContent:{hasSpoilerEmbeds:!1,content:(0,i.jsx)(b.g,{filename:t.name,progress:null!=t.progress?t.progress:0,size:t.currentSize,onCancelUpload:()=>{r.Z.cancel(t)}})}})})});function $(e){var t;let n,a,r,{channel:b,messages:U,unreadCount:$,showNewMessagesBar:ee,messageDisplayCompact:et,channelStream:en,uploads:ei,scrollManager:ea,specs:el,filterAfterTimestamp:es,showingQuarantineBanner:er,hideSummaries:eo}=e,ec=M.default.getCurrentUser(),eu=()=>ea.isInitialized()||U.ready,ed=(0,k.$)(b),eh=U.length>0&&(null===(t=U.first())||void 0===t?void 0:t.isFirstMessageInForumPost(b)),ep=(0,o.ts)(b),em=(0,l.e7)([x.Z],()=>x.Z.shouldShowTopicsBar()&&!eo),e_=(0,C.P)(b.id,q.zr),ef=(0,E.z)(b.id,q.zr),eE=(0,D.Z)(),eg=null!=e_?e_:ef;b.isDM()&&null!=eg&&(n=eg.type===f.pj.STRANGER_DANGER?(0,i.jsx)(I.M,{channelId:b.id,warningId:eg.id,senderId:b.getRecipientId()}):(0,i.jsx)(g.Y,{channelId:b.id,warningId:eg.id,senderId:b.getRecipientId()}));let eC=b.isForumPost()&&!eh?(0,i.jsx)(h.Z,{postId:b.id}):null,eI=(0,m.Z)(b.id);(0,W.Z)();let ex=null,eT=[],eN=en.map((e,t)=>{if(e.type===K.ys_.DIVIDER){var n,a;let l=null!=e.unreadId;return null!=es?null:e.isSummaryDivider?(0,i.jsx)(N.Z,{index:t,item:e,channel:b,isBeforeGroup:null==e.content&&Q(en[t+1])}):(0,i.jsx)(H.Z,{isUnread:l,isBeforeGroup:null==e.content&&Q(en[t+1]),id:l?Y.j1:void 0,children:e.content},"divider-".concat(null!==(a=null!==(n=e.contentKey)&&void 0!==n?n:e.unreadId)&&void 0!==a?a:t))}if(e.type===K.ys_.FORUM_POST_ACTION_BAR)return(0,i.jsx)(h.Z,{parentChannelId:b.parent_id,postId:b.id,isLastItem:t+1===en.length,isFirstMessage:!0},"forum-post-action-bar-".concat(b.id));if(e.type===K.ys_.MESSAGE_GROUP_BLOCKED||e.type===K.ys_.MESSAGE_GROUP_SPAMMER){let t;return t=e.type===K.ys_.MESSAGE_GROUP_BLOCKED?X.Z.Messages.BLOCKED_MESSAGE_COUNT:X.Z.Messages.HIDDEN_SPAM_MESSAGE_COUNT,(0,i.jsx)(B.Z,{unreadId:Y.j1,messages:e,channel:b,compact:et,collapsedReason:t},e.key)}if(null!=es&&es>e.content.timestamp.getTime()*j.Z.Millis.SECOND)return;let l=S.Z.can(K.Plq.CREATE_INSTANT_INVITE,b);if((0,O.Z)(e.content,l))return;e.type===K.ys_.MESSAGE&&null==ex&&(ex=e);let s=e.groupId===(null==ex?void 0:ex.groupId)?ex.content.id:e.groupId,r=e.type===K.ys_.THREAD_STARTER_MESSAGE?w.Ru:w.ZP;return(0,i.jsx)(r,{compact:et,channel:b,message:e.content,groupId:s,flashKey:e.flashKey,id:(0,P.p)(b.id,e.content.id),isLastItem:t>=en.length-1,renderContentOnly:eI},e.content.id)});eT.push(...eN);let ev=en[en.length-1];if(null!=ec&&ei.forEach((e,t)=>{let n=0===t&&(0,y.J)(b,ev,new v.ZP({type:K.uaV.DEFAULT,author:ec}));eT.push((0,i.jsx)(J,{file:e,channel:b,user:ec,isGroupStart:n},"upload-".concat(e.id)))}),U.hasMoreBefore&&null==es){U.length>0&&eT.unshift((0,i.jsx)("div",{style:{height:Y.D4,flex:"0 0 auto"}},"buffer"));let{useReducedMotion:e}=c.Z;(e&&eu()||!e)&&eT.unshift((0,i.jsx)(V.ZP,{compact:et,...el},"has-more"))}if((!U.hasMoreBefore||null!=es)&&eT.unshift((0,i.jsx)(d.Z,{channel:b,showingBanner:er},"empty-message")),U.hasMoreAfter&&eT.push((0,i.jsx)(V.ZP,{compact:et,...el},"has-more-after")),!er&&ed&&eu()&&eT.push((0,i.jsx)(F.Z,{channel:b})),$>0&&ee&&eu()){let e,t;let n=Z.ZP.getOldestUnreadTimestamp(b.id),l=0!==n?n:L.default.extractTimestamp(b.id),s=(0,R.KC)(new Date,new Date(l));if(Z.ZP.isEstimated(b.id)?(e=s?X.Z.Messages.NEW_MESSAGES_ESTIMATED:X.Z.Messages.NEW_MESSAGES_ESTIMATED_WITH_DATE,t=X.Z.Messages.NEW_MESSAGES_ESTIMATED_SUMMARIES):(e=s?X.Z.Messages.NEW_MESSAGES:X.Z.Messages.NEW_MESSAGES_WITH_DATE,t=X.Z.Messages.NEW_MESSAGES_SUMMARIES),ep&&(0,o.tW)(b)&&eE.includes(z.E.SUMMARIES)){let n=Z.ZP.ackMessageId(b.id),s=(0,T.q)(b.id,Z.ZP.getOldestUnreadMessageId(b.id));if((0,u.yw)(K.rMx.SUMMARIES_UNREAD_BAR_VIEWED,{num_unread_summaries:s,num_unread_messages:$,last_ack_message_id:n,summaries_enabled_by_user:em,summaries_enabled_for_channel:(0,o.Lp)(b)}),(0,o.Lp)(b)){let n=em?t.format({count:$}):e.format({count:$,timestamp:l});if(em){let e=s>0?(0,i.jsxs)("div",{style:{display:"flex",textTransform:"none",alignItems:"center",position:"absolute",left:"40%"},children:[t.format({count:$}),(0,i.jsx)(p.Z,{style:{paddingLeft:8,paddingRight:8},height:4,width:4}),X.Z.Messages.NEW_SUMMARIES.format({count:s})]}):(0,i.jsx)("div",{style:{display:"flex",textTransform:"none",alignItems:"center",position:"absolute",left:"45%"},children:n});a=(0,i.jsx)(G.G5,{scrollManager:ea,content:e,channel:b})}else{let e=(0,i.jsx)("div",{style:{display:"flex",textTransform:"none",alignItems:"center"},children:s>0?(0,i.jsxs)(i.Fragment,{children:[t.format({count:$}),(0,i.jsx)(p.Z,{style:{paddingLeft:8,paddingRight:8},height:4,width:4}),X.Z.Messages.NEW_SUMMARIES.format({count:s})]}):(0,i.jsx)(i.Fragment,{children:n})});a=(0,i.jsx)(G.LE,{content:e,channelId:b.id})}}}else eE.includes(z.E.NEW_MESSAGES)&&(a=(0,i.jsx)(G.LE,{content:e.format({count:$,timestamp:l}),channelId:b.id}))}if(null==a&&(0,o.Lp)(b)&&em&&eE.includes(z.E.SUMMARIES)&&(a=(0,i.jsx)(G.BO,{channel:b,scrollManager:ea})),U.error)r=(0,i.jsx)(G.Rp,{loading:U.loadingMore,onClick:()=>{var e;return e=b.id,void s.Z.fetchMessages({channelId:e,limit:K.AQB,truncate:!0})}});else if(U.hasMoreAfter&&eu()){let{jumpReturnTargetId:e}=U;r=U.loadingMore&&U.jumpedToPresent?(0,i.jsx)(G.DR,{}):null!=e?(0,i.jsx)(G.DR,{type:G.A7.REPLY,onClick:()=>{var t,n;return t=b,n=e,void s.Z.jumpToMessage({channelId:t.id,messageId:n,flash:!0})}}):(0,i.jsx)(G.DR,{onClick:()=>(function(e){s.Z.jumpToPresent(e.id,K.AQB);let t=A.Z.getChannelId();e.id===t&&(0,_.Kh)(e.id)})(b)})}return{channelStreamMarkup:eT,newMessagesBar:a,jumpToPresentBar:r,forumPostActionBar:eC,safetyWarningBanner:n}}},764893:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var a=n(277048);function l(e,t){let{message:n,compact:l}=e;return(0,i.jsx)(a.Z,{message:n,content:t,compact:l})}},481363:function(e,t,n){n.d(t,{Z:function(){return c}}),n(789020);var i=n(735250);n(470079);var a=n(630388),l=n(901461),s=n(773176),r=n(981631),o=n(105461);function c(e){let{setPopout:t,messagePopouts:{emojiPicker:n,emojiBurstPicker:c,moreUtilities:u},isFocused:d,buttonProps:{message:h,channel:p,groupId:m,compact:_=!1}}=e,f=h.state===r.yb.SENDING,E=h.id===m,g=(0,a.yE)(h.flags,r.iLy.EPHEMERAL),C=h.state===r.yb.SEND_FAILED;return f||g&&!C?null:(0,i.jsx)(s.Z,{className:o.buttons,innerClassName:o.buttonsInner,isHeader:!_&&E&&!(0,l.Z)(h),channel:p,message:h,setPopout:t,showEmojiPicker:n,showEmojiBurstPicker:c,showMoreUtilities:u,isFocused:d})}},900902:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250),a=n(470079),l=n(778947),s=n(534761),r=n(901461),o=n(453687),c=n(507418),u=n(348238),d=n(981631);let h=a.memo(function(e){let{message:t,channel:n,compact:s=!1,groupId:r,isGroupStart:o,usernameProfile:h,avatarProfile:p,setPopout:m,author:_,repliedMessage:f,roleIcon:E}=e,g=(0,u.wq)(t.author.id,n.id),C=(0,u.XO)(t,n,h,m),I=(0,u.R9)(p,m),x=a.useCallback(()=>m({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1}),[m]);return(0,i.jsx)(l.ZP,{guildId:n.guild_id,message:t,channel:n,repliedMessage:f,author:_,compact:s,subscribeToGroupId:r,showTimestampOnHover:!o&&s&&t.type!==d.uaV.REPLY,renderPopout:c.Z,showAvatarPopout:p,showUsernamePopout:h,onClickAvatar:I,onClickUsername:C,onContextMenu:g,onPopoutRequestClose:x,roleIcon:E})}),p=a.memo(s.Z);function m(e){let{messageProps:t,setPopout:n,messagePopouts:a,replyReference:l,author:s,repliedMessage:c,roleIcon:u}=e,{message:d,compact:m,channel:_,groupId:f}=t,{usernameProfile:E,avatarProfile:g}=a;if((0,r.Z)(d))return null;let C=d.id===f;return C||m||null!=l?(0,i.jsx)(h,{message:d,channel:_,compact:m,subscribeToGroupId:f,isGroupStart:C,groupId:f,setPopout:n,usernameProfile:E,avatarProfile:g,author:s,repliedMessage:c,roleIcon:u}):(0,i.jsx)(p,{compact:!0,timestamp:d.timestamp,isInline:!1,id:(0,o.Dv)(d),isVisibleOnlyOnHover:!0,cozyAlt:!0})}},252032:function(e,t,n){n.d(t,{Z:function(){return v}}),n(789020),n(47120);var i=n(735250),a=n(470079),l=n(442837),s=n(904245),r=n(257559),o=n(541716),c=n(893718),u=n(314897),d=n(323873),h=n(430824),p=n(496675),m=n(113039),_=n(703316),f=n(585483),E=n(630388),g=n(838440),C=n(981631),I=n(105461);function x(e){let{value:t,channel:n}=e;return(0,g.v)({type:o.I.EDIT,content:t,channel:n,restrictMentions:!1,respectCooldown:!1})}function T(e){let{channel:t,message:n}=e,{id:o}=t,{id:c}=n,m=t.getGuildId(),f=(0,l.e7)([h.Z],()=>h.Z.getGuild(m),[m]),g=t.type===C.d4z.GUILD_ANNOUNCEMENT,T=null!=f&&f.hasFeature(C.oNc.NEWS),v=g&&T,{editingMessage:S,editingTextValue:Z,editingRichValue:A}=(0,l.cj)([d.Z],()=>({editingMessage:d.Z.getEditingMessage(o),editingTextValue:d.Z.getEditingTextValue(o),editingRichValue:d.Z.getEditingRichValue(o)}),[o]),M=(0,l.e7)([u.default],()=>u.default.getId()),b=a.useCallback((e,n,i)=>{let{content:a}=i,l=p.Z.can(C.Plq.MANAGE_MESSAGES,t),o=null!=S&&null!=S.author?S.author.id:null;return v&&(o===M||l)&&null!=S&&(0,E.yE)(S.flags,C.iLy.CROSSPOSTED)?r.Z.confirmEdit(e,n,a):s.Z.editMessage(e,n,{content:a}),Promise.resolve()},[S,v,M,t]),R=a.useCallback(e=>(0,a.createElement)(N,{...e,className:I.channelTextArea,key:c}),[c]);return null!=Z&&null!=A?(0,i.jsx)(_.Z,{ref:void 0,channel:t,message:n,textValue:Z,richValue:A,onCancel:s.Z.endEditMessage,onChange:s.Z.updateEditMessage,onConfirmDelete:r.Z.confirmDelete,saveMessage:b,validateEdit:x,children:R}):null}function N(e){let{textValue:t,richValue:n,message:l,channel:s,onChange:r,onSubmit:u,onKeyDown:d}=e,[h,p]=a.useState(!0),m=a.useCallback(()=>p(!0),[]),_=a.useCallback(()=>p(!1),[]);return a.useEffect(()=>(f.S.subscribe(C.CkL.TEXTAREA_FOCUS,m),f.S.subscribe(C.CkL.TEXTAREA_BLUR,_),()=>{f.S.unsubscribe(C.CkL.TEXTAREA_FOCUS,m),f.S.unsubscribe(C.CkL.TEXTAREA_BLUR,_)}),[m,_]),(0,i.jsx)(c.Z,{className:I.channelTextArea,textValue:t,richValue:n,channel:s,type:o.I.EDIT,onChange:r,onSubmit:e=>{let{value:t}=e;return u(t)},onKeyDown:d,focused:h,onFocus:m,onBlur:_},l.id)}function v(e,t,n){let{message:a,channel:l}=e;return n?(0,i.jsx)(T,{channel:l,message:a}):(0,i.jsx)(m.ZP,{message:a,content:t})}},737243:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250),a=n(470079),l=n(442837),s=n(699516),r=n(783709),o=n(348238);let c=a.memo(function(e){var t;let{message:n,channel:c,compact:u=!1,interactionUsernameProfile:d,interactionAvatarProfile:h,interactionData:p,setPopout:m}=e,_=(0,l.e7)([s.Z],()=>s.Z.isBlockedForMessage(n),[n]),f=(0,o.wq)(null===(t=n.interaction)||void 0===t?void 0:t.user.id,c.id),E=(0,o.Nk)(n.interaction,c,d,m),g=(0,o.NU)(h,m),C=(0,o.Xn)(p,m),I=a.useCallback(()=>m({interactionUsernameProfile:!1,interactionAvatarProfile:!1,interactionData:!1}),[m]);return(0,i.jsx)(r.Z,{message:n,channel:c,compact:u,isInteractionUserBlocked:_,showAvatarPopout:h,showUsernamePopout:d,showDataPopout:p,onClickAvatar:g,onClickUsername:E,onClickCommand:C,onUserContextMenu:f,onPopoutRequestClose:I})});function u(e,t,n){let{message:a,channel:l,compact:s}=e,{interactionUsernameProfile:r,interactionAvatarProfile:o,interactionData:u}=n;return null!=a.interaction&&""!==a.interaction.displayName?(0,i.jsx)(c,{message:a,channel:l,compact:s,setPopout:t,interactionUsernameProfile:r,interactionAvatarProfile:o,interactionData:u}):null}},614584:function(e,t,n){n.d(t,{Z:function(){return v}});var i=n(735250),a=n(470079),l=n(442837),s=n(25209),r=n(39154),o=n(35125),c=n(905405),u=n(628238),d=n(499401),h=n(693912),p=n(869765),m=n(699516),_=n(512665),f=n(352736),E=n(937889),g=n(739566),C=n(507418),I=n(348238),x=n(981631),T=n(689938);let N=a.memo(function(e){var t;let{baseMessage:n,referencedMessage:N,channel:v,compact:S=!1,referencedUsernameProfile:Z,referencedAvatarProfile:A,setPopout:M}=e,b=N.state===p.Y.LOADED?N.message:void 0,R=(0,g.Uj)(b),j=(0,c.p)(),L=(0,u.A)((null!==(t=n.editedTimestamp)&&void 0!==t?t:n.timestamp).valueOf()),P=a.useMemo(()=>{if(null==b)return null;let e=(0,r.Z)(b);if(e.type===x.uaV.USER_JOIN){let t=f.Z.getWelcomeMessageKind(v.guild_id);return(0,s.Rp)(f.Z.getSystemMessageUserJoin(e.id,t).astFormat({username:null!=R?R.nick:e.author.username,usernameHook:e=>e}))}if(e.type===x.uaV.ROLE_SUBSCRIPTION_PURCHASE)return(0,s.Rp)((0,o.PA)({username:null!=R?R.nick:e.author.username,guildId:null==v?void 0:v.guild_id,roleSubscriptionData:e.roleSubscriptionData}));if(e.type===x.uaV.GUILD_APPLICATION_PREMIUM_SUBSCRIPTION)return(0,s.Rp)((0,d.Y)({application:null==e?void 0:e.application,username:null==R?void 0:R.nick}));else if(e.type===x.uaV.PRIVATE_CHANNEL_INTEGRATION_ADDED)return(0,s.Rp)((0,h.B2)({application:null==e?void 0:e.application,username:null==R?void 0:R.nick}));else if(e.type===x.uaV.PRIVATE_CHANNEL_INTEGRATION_REMOVED)return(0,s.Rp)((0,h.hj)({application:null==e?void 0:e.application,username:null==R?void 0:R.nick}));else if(e.type===x.uaV.GUILD_DEADCHAT_REVIVE_PROMPT)return""!==e.content?e.content:T.Z.Messages.DEADCHAT_PROMPT_1;if(null!=e.content&&""!==e.content){let t={formatInline:!0,allowLinks:!0,shouldFilterKeywords:j},n=e.isFirstMessageInForumPost(v)?{...t,noStyleAndInteraction:!0,allowHeading:!0,allowList:!0}:{...t,formatInline:!0,allowHeading:L,allowList:L};return(0,E.ZP)(e,n).content}return null},[b,R,v,L,j]),O=(0,l.e7)([m.Z],()=>null!=b&&m.Z.isBlockedForMessage(b),[b]),y=(0,I.wq)(null==b?void 0:b.author.id,v.id),D=(0,I.$3)(n,b,O),k=(0,I.Wl)(b,v,Z,M),U=(0,I.rY)(A,M),w=a.useCallback(()=>M({referencedUsernameProfile:!1,referencedAvatarProfile:!1}),[M]),B=(0,g.Uj)(n);return(0,i.jsx)(_.Z,{repliedAuthor:R,baseMessage:n,channel:v,baseAuthor:B,referencedMessage:N,content:P,compact:S,isReplyAuthorBlocked:O,showAvatarPopout:A,showUsernamePopout:Z,renderPopout:C.Z,onClickAvatar:U,onClickUsername:k,onClickReply:D,onContextMenu:y,onPopoutRequestClose:w})});function v(e,t,n,a,l){let{message:s,channel:r,compact:o}=e,{referencedUsernameProfile:c,referencedAvatarProfile:u}=n,d=s.type===x.uaV.REPLY&&null!=a&&(0,i.jsx)(N,{baseMessage:s,replyReference:a,referencedMessage:l,channel:r,compact:o,setPopout:t,referencedUsernameProfile:c,referencedAvatarProfile:u});return(0,i.jsx)(i.Fragment,{children:d})}},674190:function(e,t,n){n.d(t,{a:function(){return a},g:function(){return l}});var i=n(570140);function a(e,t){i.Z.dispatch({guildId:e,channelId:t,type:"UNREAD_SETTING_NOTICE_CHANNEL_VISIT"})}function l(e,t){i.Z.dispatch({guildId:e,channelId:t,type:"UNREAD_SETTING_NOTICE_RENDERED"})}},670044:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(990547),a=n(213609);function l(e){return(0,a.Z)({type:i.ImpressionTypes.VIEW,name:i.ImpressionNames.NOTIFICATION_SETTING_UNREAD_NUDGE},void 0,[e.id]),null}},624617:function(e,t,n){n(733860);var i,a=n(31775),l=n.n(a),s=n(442837),r=n(570140);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c={channelVisits:new(l())({max:1e3}),bannerRenders:[]};function u(e,t){return e+t}class d extends(i=s.ZP.PersistedStore){initialize(e){if(null!=e)Array.isArray(e.bannerRenders)&&(c.bannerRenders=e.bannerRenders),null!=e.channelVisitsDump&&c.channelVisits.load(e.channelVisitsDump)}getState(){return{bannerRenders:c.bannerRenders,channelVisitsDump:c.channelVisits.dump()}}getNumberOfRenders(){var e,t;return null!==(t=null===(e=c.bannerRenders)||void 0===e?void 0:e.length)&&void 0!==t?t:0}getNumberOfRendersSince(e){var t;return(null!==(t=c.bannerRenders)&&void 0!==t?t:[]).filter(t=>t>=Date.now()-1e3*e).length}getNumberOfChannelVisitsSince(e,t,n){var i;return(null!==(i=c.channelVisits.get(e+t))&&void 0!==i?i:[]).filter(e=>e>=Date.now()-1e3*n).length}}o(d,"displayName","UnreadSettingNoticeStore"),o(d,"persistKey","UnreadSettingNoticeStore"),t.Z=new d(r.Z,{UNREAD_SETTING_NOTICE_RENDERED:function(){c.bannerRenders.length>100&&c.bannerRenders.pop(),c.bannerRenders.unshift(Date.now())},UNREAD_SETTING_NOTICE_CHANNEL_VISIT:function(e){var t;let{guildId:n,channelId:i}=e,a=n+i,l=null!==(t=c.channelVisits.get(a))&&void 0!==t?t:[];l.length>100&&l.pop(),l.unshift(Date.now()),c.channelVisits.set(a,l)}})},28391:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(92114),a=n(9156),l=n(621600),s=n(113449),r=n(981631);function o(e,t,n){i.Z.updateChannelOverrideSettings(e,t,{flags:(0,s.pq)(a.ZP.getChannelIdFlags(e,t),n)},l.UE.unreads(n),{object:r.qAy.NOTIFICATION_SETTING_UNREAD_NOTICE})}},944103:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(470079),a=n(442837),l=n(131704),s=n(9156),r=n(423589),o=n(674190),c=n(624617),u=n(490897);let d=Object.freeze({NOTICE_RENDER:{MAX:1,PER_SECONDS:600},CHANNEL_VISTS:{MIN:2,PER_SECONDS:86400}});function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r.Mn)("useShouldRenderBanner"),h=(0,a.e7)([c.Z,s.ZP],()=>{let{guild_id:t,id:n}=e;if(!l.$N.has(e.type))return!1;let i=s.ZP.resolveUnreadSetting(e),a=s.ZP.getChannelUnreadSetting(t,n),r=c.Z.getNumberOfRendersSince(d.NOTICE_RENDER.PER_SECONDS),o=c.Z.getNumberOfChannelVisitsSince(t,n,d.CHANNEL_VISTS.PER_SECONDS);return a===u.i.UNSET&&i!==u.i.ALL_MESSAGES&&r<=d.NOTICE_RENDER.MAX&&o>=d.CHANNEL_VISTS.MIN},[e]);return i.useEffect(()=>{t&&h&&(0,o.g)(e.guild_id,e.id)},[t,h,e.guild_id,e.id]),i.useEffect(()=>{l.$N.has(e.type)&&(0,o.a)(e.guild_id,e.id)},[e.guild_id,e.id,e.type]),{canRenderNotice:h&&n,recordNoticeRender:()=>(0,o.g)(e.guild_id,e.id)}}},946050:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250),a=n(470079),l=n(481060),s=n(670044),r=n(28391),o=n(526761),c=n(689938),u=n(223056);function d(e){return a.useEffect(()=>e.onChannelChange(),[e.channel.id]),(0,i.jsxs)("div",{className:u.notice,children:[(0,i.jsx)(s.Z,{id:e.channel.id}),(0,i.jsx)("div",{className:u.info,children:(0,i.jsx)(l.Text,{variant:"text-sm/medium",children:c.Z.Messages.UNREAD_NOTIFICATION_SETTING_NOTICE})}),(0,i.jsxs)("div",{className:u.buttons,children:[(0,i.jsxs)(l.Button,{size:l.Button.Sizes.TINY,look:l.Button.Looks.FILLED,color:l.Button.Colors.PRIMARY,className:u.button,innerClassName:u.buttonInner,onClick:()=>(0,r.Z)(e.channel.guild_id,e.channel.id,o.ic.UNREADS_ALL_MESSAGES),children:[(0,i.jsx)(l.CheckmarkLargeIcon,{size:"xs",color:"currentColor",style:{marginRight:4}}),c.Z.Messages.YES_TEXT]}),(0,i.jsx)(l.Button,{style:{marginLeft:8},size:l.Button.Sizes.TINY,look:l.Button.Looks.FILLED,color:l.Button.Colors.PRIMARY,className:u.button,innerClassName:u.buttonInner,onClick:()=>(0,r.Z)(e.channel.guild_id,e.channel.id,o.ic.UNREADS_ONLY_MENTIONS),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.CloseSmallIcon,{size:"xs",color:"currentColor",style:{marginRight:4}}),c.Z.Messages.NO_TEXT]})})]})]})}},256413:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(442837),a=n(931261),l=n(9156),s=n(398758),r=n(981631),o=n(176505);function c(e){var t;let n=(0,s.DM)((null==e?void 0:e.getGuildId())!=null?e.guild_id:r.kod),c=(0,i.e7)([l.ZP],()=>null!=e&&l.ZP.isChannelRecordOrParentOptedIn(e)),u=(0,a.g)(null!==(t=null==e?void 0:e.guild_id)&&void 0!==t?t:r.kod);if(null==e)return!1;let d=u&&e.hasFlag(o.zZ.IS_GUILD_RESOURCE_CHANNEL);return n&&!d&&!c&&!e.isThread()}},292853:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(481060),o=n(367907),c=n(626135),u=n(152376),d=n(981631),h=n(689938),p=n(399636);function m(e){let{channel:t,narrow:n}=e;return a.useEffect(()=>{c.default.track(d.rMx.CHANNEL_BANNER_VIEWED,{...(0,o.hH)(t.getGuildId()),...(0,o.v_)(t),banner_type:"channel_opt_in"})},[t]),(0,i.jsxs)("div",{className:s()(p.chatHeaderBar,{[p.narrow]:n}),children:[(0,i.jsx)(r.Text,{className:p.chatHeaderBarText,variant:"text-sm/normal",color:"text-normal",children:h.Z.Messages.OPT_IN_CHANNEL_NOTICE}),(0,i.jsxs)(r.Button,{size:r.Button.Sizes.TINY,className:p.chatHeaderBarButton,innerClassName:p.chatHeaderBarButtonInner,color:r.Button.Colors.BRAND,onClick:()=>{c.default.track(d.rMx.CHANNEL_BANNER_CTA_CLICKED,{...(0,o.hH)(t.getGuildId()),...(0,o.v_)(t),banner_type:"channel_opt_in",cta_type:"add channel"}),(0,u.XQ)(t.guild_id,t.id,!0,{section:d.jXE.CHANNEL})},children:[(0,i.jsx)(r.PlusSmallIcon,{size:"custom",color:"currentColor",width:14,height:14}),h.Z.Messages.OPT_IN_CHANNEL_NOTICE_CTA]})]})}},535400:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250),a=n(470079),l=n(576125),s=n(465858),r=n(112843),o=n(524484);function c(e){let{callTileRef:t,isFiring:n}=e,i=(0,r.Z)(),l=(0,s.Z)(t);return a.useEffect(()=>{n&&null!=l&&null!=t&&i.fire(l.x+t.clientWidth/2,l.y+t.clientHeight/2,{countMultiplier:4})},[t,i,n,l]),null}function u(e){return(0,i.jsx)(l.Z,{confettiLocation:o.Hn.CALL_TILE,children:(0,i.jsx)(c,{...e})})}},512384:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(399606),l=n(481060),s=n(351780),r=n(170248);function o(e){let{isShaking:t,shakeLocation:n,children:o,className:c}=e,u=(0,r.Z)(n);return(0,a.e7)([s.Z],()=>s.Z.isEnabled({shakeLocation:n}))?(0,i.jsx)(l.Shaker,{isShaking:t,intensity:u,className:c,children:o}):(0,i.jsx)(i.Fragment,{children:o})}},217871:function(e,t,n){n(47120),n(177593);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(920906),o=n(442837),c=n(481060),u=n(393238),d=n(607070),h=n(44315),p=n(314897),m=n(111583),_=n(889901),f=n(64078),E=n(351780),g=n(843693),C=n(641033),I=n(989830),x=n(689938),T=n(587954);let N=a.memo(function(e){let{channelId:t,width:n}=e,l=(0,o.e7)([d.Z],()=>d.Z.useReducedMotion),s=(0,o.e7)([g.ZP],()=>g.ZP.getMostRecentMessageCombo(t),[t]),[u,h]=a.useState(!1);a.useEffect(()=>{if(null==s?void 0:s.displayed)return;h(!1),setImmediate(()=>{h((null!=s?(0,C.Eo)(s.combo):0)>0)});let e=setTimeout(()=>{h(!1),null!=s&&(0,f.ew)(s)},2e3);return()=>clearTimeout(e)},[s]);let p=null!=s?"100%":"200%",m=(0,r.useSpring)({opacity:u?1:0,translateY:u?"0":p,pointerEvents:"none",width:n,config:l?r.config.stiff:r.config.slow});return(0,i.jsx)(i.Fragment,{children:null!=s&&(0,i.jsx)(r.animated.div,{className:T.messageComboScore,style:m,children:(0,i.jsx)(c.Text,{className:T.comboScore,variant:"text-sm/bold",children:(0,C.Eo)(s.combo)})})})}),v=a.memo(function(e){let{value:t,multiplier:n}=e,{color:l,square:r,flair:o}=a.useMemo(()=>(0,C.yz)(n),[n]),u=(0,h.Lq)(l);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Text,{className:T.comboValue,variant:"text-sm/bold",children:t}),(0,i.jsxs)("div",{className:T.comboNameplate,style:{color:u},children:[(0,i.jsx)(c.Text,{className:T.comboMultiplier,style:{color:u},variant:"text-sm/bold",children:x.Z.Messages.POGGERMODE_COMBO.format({multiplier:n})}),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:s()(T.comboSquare,T.left),style:{backgroundColor:u}}),(0,i.jsx)("div",{className:s()(T.comboSquare,T.right),style:{backgroundColor:u}})]}),o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:s()(T.confettiIcon,T.left),children:(0,i.jsx)(_.Z,{width:24,height:24})}),(0,i.jsx)("div",{className:s()(T.confettiIcon,T.right),children:(0,i.jsx)(_.Z,{width:24,height:24})})]}),1===n&&(0,i.jsx)(c.Text,{className:T.tip,variant:"text-sm/bold",children:x.Z.Messages.POGGERMODE_COMBO_TIP})]})]})});t.Z=a.memo(function(e){let{channelId:t}=e,n=(0,o.e7)([p.default],()=>p.default.getId()),l=(0,o.e7)([m.Z],()=>m.Z.isTyping(t,n),[t,n]),s=(0,o.e7)([E.Z],()=>E.Z.isEnabled()),c=(0,o.e7)([g.ZP],()=>g.ZP.isComboing(n,t),[t,n]),{ref:h,width:_=0}=(0,u.Z)(),f=(0,o.e7)([d.Z],()=>d.Z.useReducedMotion),[C,x]=a.useState(!1),S=(0,I.Z)(t),Z=s&&c&&l;a.useEffect(()=>{Z&&x(!0);let e=setTimeout(()=>x(Z),1e3);return()=>clearTimeout(e)},[Z]);let A=(0,r.useSpring)({opacity:C?1:0,transform:C?"translateY(0)":"translateY(100%)",pointerEvents:"none",config:r.config.stiff,immediate:f}),M=a.useMemo(()=>null!=S?S:{value:0,multiplier:1},[S]),b=a.useRef(M);a.useEffect(()=>{(M.multiplier>1||M.value>0)&&(b.current=M)},[M]);let{multiplier:R,value:j}=a.useMemo(()=>({value:Z?M.value:b.current.value,multiplier:Z?M.multiplier:b.current.multiplier}),[Z,M,b]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N,{channelId:t,width:_}),(0,i.jsx)(r.animated.div,{ref:h,className:T.combo,style:A,children:(0,i.jsx)(v,{value:j,multiplier:R})})]})})},139577:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(442837),a=n(314897),l=n(111583),s=n(351780),r=n(843693),o=n(170248),c=n(524484);function u(e){let t=(0,o.Z)(c.oZ.CHAT_INPUT),n=(0,i.e7)([s.Z],()=>s.Z.isEnabled({shakeLocation:c.oZ.CHAT_INPUT}));return(0,i.e7)([l.Z,r.ZP,a.default],()=>n&&l.Z.isTyping(e,a.default.getId())?r.ZP.getUserComboShakeIntensity(a.default.getId(),e,t):0)}},170248:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(442837),a=n(451478),l=n(351780);function s(e){let t=(0,i.e7)([a.Z],()=>a.Z.isFocused());return(0,i.e7)([l.Z],()=>l.Z.isEnabled({shakeLocation:e})&&t?l.Z.shakeIntensity:0)}},238246:function(e,t,n){n(47120);var i,a=n(735250),l=n(470079),s=n(120356),r=n.n(s),o=n(512722),c=n.n(o),u=n(613828),d=n(442837),h=n(481060),p=n(490173),m=n(40851),_=n(607070),f=n(899663),E=n(317381),g=n(496616),C=n(100527),I=n(906732),x=n(168551),T=n(597952),N=n(628123),v=n(151851),S=n(587061),Z=n(392358),A=n(892254),M=n(706454),b=n(210887),R=n(740492),j=n(451478),L=n(153850),P=n(806519),O=n(358085),y=n(792125),D=n(998502),k=n(473159),U=n(928518),w=n(981631),B=n(689938),H=n(559286);function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class V extends(i=l.Component){componentDidMount(){let{guestWindow:e}=this.props,t=e.document;null==t.querySelector("title")&&null!=t.head&&t.head.appendChild(t.createElement("title")),this.updateTitle(),this.updateFontScale(),this.updateLocale(),this.updateClientTheme(),this.updateSaturationFactor(),this.updateForcedColors(),(0,k.O)(e),e.addEventListener("blur",this.handleBlur),t.addEventListener("contextmenu",this.handleContextMenu,!0),e.addEventListener("beforeunload",this.warnPopoutClose)}componentDidUpdate(e){let{title:t,fontScale:n,locale:i,clientThemesCSS:a}=this.props;e.title!==t&&this.updateTitle(),e.fontScale!==n&&this.updateFontScale(),e.locale!==i&&this.updateLocale(),e.clientThemesCSS!==a&&this.updateClientTheme(),e.saturation!==this.props.saturation&&this.updateSaturationFactor(),(e.forcedColors!==this.props.forcedColors||e.systemForcedColors!==this.props.systemForcedColors)&&this.updateForcedColors()}componentWillUnmount(){let{guestWindow:e}=this.props,t=e.document;e.removeEventListener("blur",this.handleBlur),t.removeEventListener("contextmenu",this.handleContextMenu,!0),h.useModalsStore.setState(e=>({...e,[h.POPOUT_MODAL_CONTEXT]:[]})),e.removeEventListener("beforeunload",this.warnPopoutClose)}updateSaturationFactor(){let{saturation:e,guestWindow:t}=this.props,n=t.document.documentElement;c()(null!=n,"Window document element was null"),n.style.setProperty("--saturation-factor",e.toString())}updateLocale(){let{locale:e,guestWindow:t}=this.props,n=t.document.documentElement;c()(null!=n,"Window document element was null"),n.lang=e}updateTitle(){let{title:e,guestWindow:t}=this.props,n=t.document.querySelector("title");null!=n&&(n.innerText=e)}updateFontScale(){let{fontScale:e,guestWindow:t}=this.props,n=t.document.documentElement;c()(null!=n,"Window document element was null"),n.style.fontSize="".concat(e,"%")}updateClientTheme(){let{clientThemesCSS:e,guestWindow:t}=this.props,n=t.document,i=(0,n.head);c()(null!=i,"Window document ".concat("head"," was null"));let a=i.querySelector("style[".concat(x.PQ,"]"));if(null!=a){a.textContent=e;return}let l=n.createElement("style");l.setAttribute(x.PQ,"true"),l.textContent=e,i.appendChild(l)}updateForcedColors(){let{useForcedColors:e,systemForcedColors:t,guestWindow:n}=this.props;n.document.documentElement.classList.toggle("disable-forced-colors",!e&&"active"===t)}render(){let{theme:e,forcedColors:t,focused:n,appFocused:i,children:l,windowKey:s,mouseModeEnabled:o,keyboardModeEnabled:c,reducedMotionEnabled:d,fontScaleClass:_,saturation:E,withTitleBar:g,guestWindow:C,clientThemesClassName:I,contentClassName:x}=this.props,S=(0,O.getPlatform)(),Z=r()(_,{"mouse-mode":o,"reduce-motion":d,"full-motion":!d,"keyboard-mode":c,"app-focused":n||i,"low-saturation":E<=.4});return(0,a.jsx)(u.VK,{children:(0,a.jsx)(A.Z,{children:(0,a.jsx)(h.ThemeContextProvider,{theme:e,children:(0,a.jsx)(h.RedesignIconContextProvider,{children:(0,a.jsx)("div",{"data-popout-root":!0,ref:this.rootRef,className:r()((0,y.Q)(e),(0,T.Z)(),Z,I),children:(0,a.jsx)(h.FocusRingScope,{containerRef:this.rootRef,children:(0,a.jsx)(f.Z,{children:(0,a.jsxs)(N.Z,{children:[(0,a.jsx)(P.Co,{}),(0,a.jsx)(m.Wu,{appContext:w.IlC.POPOUT,renderWindow:C,children:(0,a.jsxs)(L.yP,{children:[(0,a.jsxs)("div",{className:H.popout,children:[g&&null!=S?(0,a.jsx)(v.Z,{focused:n,type:S,windowKey:s,macOSFrame:!0}):null,(0,a.jsx)("div",{className:r()(H.content,x),children:l})]}),(0,a.jsx)(h.Modals,{}),(0,a.jsx)(p.Z,{}),(0,a.jsx)(L.Un,{})]})})]})})})})})})},t)})}constructor(...e){super(...e),G(this,"rootRef",l.createRef()),G(this,"_cleanupWindowActionCreators",void 0),G(this,"warnPopoutClose",e=>{if(this.props.connectedToEmbeddedActivity&&!R.ZP.disableEmbeddedActivityPopOutAlert){if(e.returnValue=B.Z.Messages.EMBEDDED_ACTIVITIES_ARE_YOU_SURE_WANT_TO_LEAVE,!!O.isPlatformEmbedded)(0,g.Z)(()=>{U.Z.unmountWindow(this.props.windowKey),O.isPlatformEmbedded&&D.ZP.close(this.props.windowKey)})}}),G(this,"handleBlur",()=>{var e,t;null===(e=(t=this.props).onBlur)||void 0===e||e.call(t)}),G(this,"handleContextMenu",e=>{e.preventDefault()})}}G(V,"defaultProps",{withTitleBar:!0});let F=l.forwardRef(function(e,t){let{guestWindow:n,focused:i}=(0,d.cj)([U.Z],()=>({guestWindow:U.Z.getWindow(e.windowKey),focused:U.Z.getWindowFocused(e.windowKey)}));c()(null!=n,"Missing guestWindow reference");let l=(0,d.e7)([j.Z],()=>j.Z.isFocused()),{locale:s,theme:r}=(0,d.cj)([b.Z,M.default],()=>({locale:M.default.locale,theme:b.Z.theme})),o=(0,d.e7)([_.Z],()=>_.Z.useForcedColors?"yes":"no"),{fontScale:u,keyboardModeEnabled:p,reducedMotionEnabled:m,fontScaleClass:f,saturation:g,systemForcedColors:T,useForcedColors:N}=(0,d.cj)([_.Z],()=>({fontScale:_.Z.fontScale,keyboardModeEnabled:_.Z.keyboardModeEnabled,reducedMotionEnabled:_.Z.useReducedMotion,fontScaleClass:_.Z.fontScaleClass,saturation:_.Z.saturation,systemForcedColors:_.Z.systemForcedColors,useForcedColors:_.Z.useForcedColors})),v=(0,d.e7)([E.ZP],()=>null!=e.channelId&&null!==E.ZP.getSelfEmbeddedActivityForChannel(e.channelId));(0,S.Z)(n,!1);let A=(0,Z.Z)(n,i),{analyticsLocations:R}=(0,I.ZP)(C.Z.POPOUT_WINDOW),{clientThemesClassName:L,clientThemesCSS:P}=(0,x.ZP)();return null==n?null:(0,a.jsx)(h.DnDProvider,{children:(0,a.jsx)(I.Gt,{value:R,children:(0,a.jsx)(V,{ref:t,...e,guestWindow:n,focused:i,appFocused:l,locale:s,theme:r,forcedColors:o,useForcedColors:N,systemForcedColors:T,fontScale:u,keyboardModeEnabled:p,mouseModeEnabled:A,reducedMotionEnabled:m,connectedToEmbeddedActivity:v,fontScaleClass:f,saturation:g,clientThemesClassName:L,clientThemesCSS:P})})})});t.Z=F},579185:function(e,t,n){n.d(t,{Z:function(){return l}}),n(47120);var i=n(470079),a=n(846519);function l(e,t){let[n,l]=i.useState(!1),s=i.useRef(new a.sW(t,()=>l(!1))),r=i.useRef(new a.sW(e,()=>l(!0))),o=i.useCallback(()=>{s.current.cancel(),r.current.cancel()},[]);i.useEffect(()=>o,[o]);let c=i.useCallback(()=>{o(),s.current.delay()},[o]);return{isHovered:n,setIsHovered:l,onMouseEnter:i.useCallback(()=>{o(),r.current.delay()},[o]),onMouseLeave:c,cancelTimers:o}}},6242:function(e,t,n){n.d(t,{TD:function(){return c},lL:function(){return u}});var i=n(818083),a=n(594174),l=n(74538),s=n(474936);let r=(0,i.B)({kind:"user",id:"2024-06_hd_streaming_viewer",label:"HD Streaming Viewer Upsell",defaultConfig:{enabled:!1,sendNitroMessage:!1,persistentQualityIndicator:!1},treatments:[{id:1,label:"Send Nitro message, styled/persistent indicator",config:{enabled:!0,sendNitroMessage:!0,persistentQualityIndicator:!0}},{id:2,label:"Send Nitro message, styled indicator",config:{enabled:!0,sendNitroMessage:!0,persistentQualityIndicator:!1}},{id:3,label:"Styled/persistent indicator",config:{enabled:!0,sendNitroMessage:!1,persistentQualityIndicator:!0}},{id:4,label:"Styled indicator",config:{enabled:!0,sendNitroMessage:!1,persistentQualityIndicator:!1}}]});function o(e,t){return(0,l.I5)(e,s.p9.TIER_2)||t}function c(e){let t=a.default.getCurrentUser();return r.getCurrentConfig({location:"get_hd_streaming_viewer_config"},{autoTrackExposure:!1,disable:o(t,e)})}function u(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return r.useExperiment({location:e},{autoTrackExposure:t,disable:o(n,i)})}},757692:function(e,t,n){n.d(t,{o:function(){return s}});var i=n(451467),a=n(354459),l=n(37113);function s(e,t){var n;return null!=e&&e.type===a.fO.STREAM&&null!=e.maxResolution&&null!=e.maxFrameRate&&(0,i.Z)(l.tI.PRESET_VIDEO,(0,l.aW)(null==e?void 0:null===(n=e.maxResolution)||void 0===n?void 0:n.height),(0,l.L9)(e.maxFrameRate),t)}},738672:function(e,t,n){n.d(t,{h:function(){return u}}),n(47120);var i=n(735250),a=n(470079),l=n(481060),s=n(570140),r=n(909820),o=n(937995),c=n(618158);function u(e){let{buttonRef:t,dismissed:n,onDismiss:u,renderComponent:d}=e,h=a.useContext(o.h9),[p,m]=a.useState(""),[_,f]=a.useState(!1);function E(e){var t;let{settings:n}=e,i=n.callHeaderHeight;m(null!==(t=null==i?void 0:i.toString())&&void 0!==t?t:""),f(void 0!==i&&i<300)}a.useEffect(()=>(s.Z.subscribe("UNSYNCED_USER_SETTINGS_UPDATE",E),()=>{s.Z.unsubscribe("UNSYNCED_USER_SETTINGS_UPDATE",E)}),[]);let{preventIdle:g,allowIdle:C}=(0,c.Y)("popup");return(null==t?void 0:t.current)==null?null:(0,i.jsx)(r.ZP,{children:(0,i.jsx)(l.ReferencePositionLayer,{targetRef:t,position:"top",align:"center",spacing:0,nudgeAlignIntoViewport:!1,positionKey:p,children:()=>(0,i.jsx)("div",{onMouseOver:g,onFocus:g,onBlur:C,onMouseLeave:C,children:d({hidden:_||h||n,onDismiss:u})})})})}},455961:function(e,t,n){n.d(t,{be:function(){return O}}),n(47120),n(773603);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(848246),o=n(793030),c=n(442837),u=n(46973),d=n(481060),h=n(846027),p=n(607070),m=n(361291),_=n(131951),f=n(626135),E=n(120522),g=n(386542),C=n(933843),I=n(485731),x=n(1163),T=n(738672),N=n(981631),v=n(37113),S=n(689938),Z=n(778855);let A=async()=>{let{default:e}=await n.e("21812").then(n.t.bind(n,741855,19));return e};function M(e){let{className:t,onDismiss:n}=e;return(0,i.jsx)(d.Button,{className:t,"aria-label":S.Z.Messages.CLOSE,look:d.Button.Looks.BLANK,size:d.Button.Sizes.NONE,onClick:n,children:(0,i.jsx)(d.CloseSmallIcon,{size:"xs",className:Z.closeIcon,color:"white"})})}let b=v.LY.RESOLUTION_1440,R=v.ws.FPS_60;function j(e){let{channel:t}=e,n=(0,c.e7)([p.Z],()=>p.Z.useReducedMotion),[l,s]=a.useState(!1),{preset:o}=(0,c.cj)([m.Z],()=>m.Z.getState()),g=(0,c.e7)([_.Z],()=>_.Z.getGoLiveSource()),x=a.useCallback(()=>{s(!0),(0,E.S)(r.q.STREAM_HIGH_QUALITY).then(e=>{if(e){if((0,I.J1)(!(0,C.mc)(b,R)),f.default.track(N.rMx.PERK_DEMO_OFFER_ACCEPTED,{guild_id:t.guild_id,channel_id:t.id,perk_type:r.q.STREAM_HIGH_QUALITY,resolution:b,max_fps:R}),(0,I.cD)(!1),null==g)return;let e={qualityOptions:{preset:o,resolution:b,frameRate:R},context:u.Yn.STREAM};null!=g.desktopSource?e.desktopSettings={sourceId:g.desktopSource.id,sound:!0}:null!=g.cameraSource&&(e.cameraSettings={videoDeviceGuid:g.cameraSource.videoDeviceGuid,audioDeviceGuid:g.cameraSource.audioDeviceGuid}),h.Z.setGoLiveSource(e)}}).catch(()=>{}).finally(()=>{s(!1)})},[o,t,g]);return(0,i.jsx)(d.ShinyButton,{fullWidth:!0,pauseAnimation:n,color:d.Button.Colors.GREEN,size:d.Button.Sizes.SMALL,className:Z.optInButton,onClick:x,submitting:l,children:S.Z.Messages.GO_LIVE_MODAL_PERK_DEMO_HD_STREAMING_OPT_IN_POPOUT_CTA})}function L(e){let{channel:t,hidden:n,onDismiss:a}=e,l=(0,c.e7)([p.Z],()=>p.Z.useReducedMotion);return(0,i.jsxs)("div",{className:s()(Z.optInPopout,{[Z.hidden]:n}),children:[(0,i.jsxs)("div",{className:Z.variant1InfoContainerParent,children:[(0,i.jsxs)("div",{className:Z.variant1InfoContainer,children:[(0,i.jsx)(d.LottieAnimation,{importData:A,shouldAnimate:!l,className:Z.lottie,loop:!0}),(0,i.jsx)(o.x,{className:Z.variant1Text,variant:"text-sm/medium",children:S.Z.Messages.GO_LIVE_MODAL_PERK_DEMO_HD_STREAMING_OPT_IN_POPOUT_BODY})]}),(0,i.jsx)("div",{children:(0,i.jsx)(M,{className:Z.variant1CloseButton,onDismiss:a})})]}),(0,i.jsx)(j,{channel:t})]})}function P(e){let{channel:t,hidden:n,onDismiss:a}=e;return(0,i.jsxs)("div",{className:s()(Z.optInPopout,Z.variant2OptInPopout,{[Z.hidden]:n}),children:[(0,i.jsx)("img",{className:Z.image,src:"https://cdn.discordapp.com/assets/premium/roadblocks/hd_streaming.png",alt:"HD Streaming Nitro Perk"}),(0,i.jsx)(M,{className:Z.variant2CloseButton,onDismiss:a}),(0,i.jsx)("div",{className:Z.variant2InfoContainerParent,children:(0,i.jsxs)("div",{className:Z.variant2InfoContainer,children:[(0,i.jsx)(o.x,{className:Z.variant2Text,variant:"text-sm/medium",children:S.Z.Messages.GO_LIVE_MODAL_PERK_DEMO_HD_STREAMING_OPT_IN_POPOUT_BODY}),(0,i.jsx)(j,{channel:t})]})})]})}function O(e){let{channel:t,...n}=e,{hqStreamingState:{hqStreamingOptOutPopoutShouldShow:l}}=(0,g.k)(r.q.STREAM_HIGH_QUALITY),{enabled:s,variant1:o}=x.Z.useExperiment({location:"StreamButtonDemoOptInPopout"},{autoTrackExposure:!1,disable:!l}),c=a.useRef(!1);if(a.useEffect(()=>{l&&s&&!c.current&&(c.current=!0,f.default.track(N.rMx.PERK_DEMO_OFFER_VIEWED,{guild_id:t.guild_id,channel_id:t.id,perk_type:r.q.STREAM_HIGH_QUALITY}))},[l,s,t]),!l||!s)return null;let u=o?L:P;return(0,i.jsx)(T.h,{...n,renderComponent:e=>(0,i.jsx)(u,{...e,channel:t})})}},611845:function(e,t,n){n.d(t,{$:function(){return p}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(481060),r=n(170671),o=n(738672),c=n(689938),u=n(788323),d=n(946790);function h(e){let{hidden:t,onDismiss:n}=e;return(0,i.jsxs)("div",{className:l()(u.demoCta,{[u.hidden]:t}),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:u.wumpusContainer,children:(0,i.jsx)(s.Image,{src:d,width:72,height:52,zoomable:!1})}),(0,i.jsx)(s.Button,{"aria-label":c.Z.Messages.CLOSE,look:s.Button.Looks.BLANK,size:s.Button.Sizes.NONE,onClick:()=>n(),className:u.closeButton,children:(0,i.jsx)(s.CloseSmallIcon,{size:"md",className:u.closeIcon,color:"white"})})]}),(0,i.jsx)("div",{className:u.textContainer,children:(0,i.jsx)(s.Text,{variant:"text-md/semibold",color:"always-white",children:c.Z.Messages.GO_LIVE_MODAL_PERK_DEMO_HD_STREAMING_UPSELL_TOOLTIP})}),(0,i.jsxs)("div",{className:u.nitroTextAndBadge,children:[(0,i.jsx)(r.Z,{isSelected:!0}),(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:"always-white",children:c.Z.Messages.POWERED_BY_NITRO})]})]})}function p(e){return(0,i.jsx)(o.h,{...e,renderComponent:e=>(0,i.jsx)(h,{...e})})}},261892:function(e,t,n){n.d(t,{f:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2024-06_friends_with_nitro_on_profile_side_panel_experiment",label:"Friends with Nitro on Profile Side Panel",defaultConfig:{enabled:!1,variant:0},treatments:[{id:1,label:"Dismissible, 2 CTAs",config:{enabled:!0,variant:1}},{id:2,label:"Dismissible, text link",config:{enabled:!0,variant:2}},{id:3,label:"Non-dismissible, text link",config:{enabled:!0,variant:3}}]})},943209:function(e,t,n){n.d(t,{GB:function(){return u},Rh:function(){return o},Yz:function(){return c}}),n(411104),n(729594);var i=n(261470);n(243814);var a=n(544891),l=n(570140);n(591759);var s=n(628566),r=n(981631);n(689938);function o(){s.Z.getApplicationsShelfFetchState()===s.M.NOT_FETCHED&&(l.Z.dispatch({type:"APPLICATIONS_SHELF_FETCH_START"}),a.tn.get(r.ANM.APPLICATIONS_SHELF).then(e=>l.Z.dispatch({type:"APPLICATIONS_SHELF_FETCH_SUCCESS",applications:e.body.applications})).catch(e=>l.Z.dispatch({type:"APPLICATIONS_SHELF_FETCH_FAIL"})))}function c(e){let t=new i.Z(1e3,5e3);l.Z.dispatch({type:"FETCH_PRIVATE_CHANNEL_INTEGRATIONS_START",channelId:e}),a.tn.get({url:r.ANM.CHANNEL_INTEGRATIONS(e),backoff:t,retries:10}).then(t=>{l.Z.dispatch({type:"FETCH_PRIVATE_CHANNEL_INTEGRATIONS_SUCCESS",channelId:e,integrations:t.body})}).catch(()=>{l.Z.dispatch({type:"FETCH_PRIVATE_CHANNEL_INTEGRATIONS_FAIL",channelId:e})})}function u(e,t){return a.tn.del(r.ANM.CHANNEL_INTEGRATION(e,t)).then(e=>{var t;if(null===(t=e.body)||void 0===t?void 0:t.message)throw Error(e.body.message)})}},556084:function(e,t,n){n.d(t,{j:function(){return c}}),n(47120);var i=n(470079),a=n(442837),l=n(512751),s=n(57132),r=n(943209),o=n(628566);function c(e){let{channelId:t}=e;(0,s.SO)();let n=(0,l.o)(t),{installedIntegrations:c,applicationsShelf:u,integrationsFetchState:d,applicationsShelfFetchState:h}=(0,a.cj)([o.Z],()=>({installedIntegrations:o.Z.getIntegrations(t),applicationsShelf:o.Z.getApplicationsShelf(),integrationsFetchState:o.Z.getIntegrationsFetchState(t),applicationsShelfFetchState:o.Z.getApplicationsShelfFetchState()}));i.useEffect(()=>{n&&((d===o.M.NOT_FETCHED||d===o.M.FETCH_FAILED)&&(0,r.Yz)(t),(h===o.M.NOT_FETCHED||h===o.M.FETCH_FAILED)&&(0,r.Rh)())},[n,t,d,h]);let p=new Set(c.map(e=>e.application.id));return{installedIntegrations:c,availableApplications:u.filter(e=>!p.has(e.id)),applicationsShelf:u,fetched:d!==o.M.NOT_FETCHED&&d!==o.M.FETCHING&&h!==o.M.NOT_FETCHED&&h!==o.M.FETCHING,appsInGDMEnabled:n}}},904847:function(e,t,n){var i=n(442837),a=n(186877),l=n(375954),s=n(981631);t.Z=(e,t)=>{let n=(0,a.$)(t),r=(0,i.e7)([l.Z],()=>l.Z.getMessages(t.id).length>0,[t]);return null!=e&&e.hasFlag(s.xW$.QUARANTINED)&&n&&!r}},247944:function(e,t,n){n.d(t,{S:function(){return l.Z}});var i=n(735250);n(470079);var a=n(545594),l=n(904847),s=n(610674),r=n(689938);let o=n(848304);t.Z=()=>(0,i.jsx)(a.i,{bannerIcon:o,bannerHeader:r.Z.Messages.LIMITED_ACCESS_INFO_MODAL_HEADING,bannerSubtext:r.Z.Messages.LIMITED_ACCESS_DM_BAR_SUBTEXT.format({appealLink:s.Z})})},441894:function(e,t,n){n.d(t,{J:function(){return r}});var i=n(442837),a=n(19780),l=n(977059),s=n(760373);function r(e){let{channelId:t,location:n}=e,r=l.c.useExperiment({location:n});return(0,i.e7)([a.Z],()=>(function(e,t,n){var i;let{enabled:l}=t;if(!l||null==e||a.Z.getChannelId()!==e)return!1;let r=null===(i=n.getSecureFramesState())||void 0===i?void 0:i.version;return null!=r&&r>s.HK})(t,r,a.Z))}},210975:function(e,t,n){n.d(t,{m$:function(){return m},wV:function(){return p}});var i=n(470079),a=n(442837),l=n(470956),s=n(314897),r=n(592125),o=n(979651),c=n(441894);function u(e){let t=(0,a.e7)([o.Z],()=>o.Z.getVoiceStatesForChannel(e)),n=i.useMemo(()=>Object.keys(t),[t]);return(0,l.Yp)(e,n)}function d(e){let{channelId:t,location:n}=e,i=(0,c.J)({channelId:t,location:n}),l=(0,a.e7)([r.Z],()=>{var e;return(null===(e=r.Z.getChannel(t))||void 0===e?void 0:e.isGuildStageVoice())===!0});return i&&!l}function h(e,t){return!1}function p(e){var t,n;let{userId:i,channelId:l,location:r}=e,o=u(l),c=d({channelId:l,location:r}),h=(0,a.e7)([s.default],()=>s.default.getId());return c&&o.has(h)&&null!=i&&o.has(i)&&(t=0,n=0,!1)}function m(e){let{channelId:t,location:n}=e,l=u(t),r=d({channelId:t,location:n}),o=(0,a.e7)([s.default],()=>s.default.getId());return i.useMemo(()=>!!(r&&l.has(o))&&Array.from(l).every(e=>{var t,n;return t=0,n=0,e===o}),[t,o,r,l])}},251285:function(e,t,n){n.d(t,{Z:function(){return d}}),n(47120);var i=n(442837),a=n(963374),l=n(735020),s=n(905405),r=n(786761),o=n(937889),c=n(699516),u=n(768119);function d(e){let t=(0,s.p)(),n=(0,i.e7)([u.Z,l.Z],()=>{var n;let i=u.Z.getQuery(e),s=u.Z.getRawResults(e);if(null==i||null==s)return[];let c=(0,a.nC)(null!==(n=i.content)&&void 0!==n?n:"");return s.map(e=>e.map(e=>{let n=l.Z.getMessage(e.id,e.channel_id),i=(0,r.e5)(e);return null!=n&&(i=i.merge({attachments:n.attachments,embeds:n.embeds})),i.isSearchHit?i.set("customRenderedContent",(0,o.ZP)(i,{postProcessor:c,allowHeading:!0,allowList:!0,shouldFilterKeywords:t})):i}))},[e,t],i.pF),[d,h]=(0,i.e7)([c.Z],()=>{let e=0;return[n.map(t=>t.filter(t=>{let n=c.Z.isBlockedForMessage(t);return n&&t.isSearchHit&&e++,!n||t.isSearchHit})),e]},[n],i.pF);return{searchResults:d,blockCount:h}}},406326:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),l=n(63063),s=n(981631),r=n(689938),o=n(640718);function c(e){let{searchMode:t,searchByMode:n}=e;return(0,i.jsxs)("header",{className:o.searchHeader,children:[(0,i.jsx)(u,{...e}),(0,i.jsxs)(a.TabBar,{orientation:"horizontal",className:o.searchHeaderTabList,selectedItem:t,onItemSelect:n,children:[(0,i.jsx)(a.TabBar.Item,{id:s.QIO.NEWEST,children:r.Z.Messages.SEARCH_NEWEST_SHORT}),(0,i.jsx)(a.TabBar.Item,{id:s.QIO.OLDEST,children:r.Z.Messages.SEARCH_OLDEST_SHORT}),(0,i.jsx)(a.TabBar.Item,{id:s.QIO.MOST_RELEVANT,children:r.Z.Messages.SEARCH_MOST_RELEVANT_SHORT})]})]})}function u(e){let t;let{isSearching:n,isIndexing:l,documentsIndexed:s}=e;(l||n)&&(t=(0,i.jsx)("div",{className:o.spinnerWrapper,children:(0,i.jsx)(a.Spinner,{type:a.Spinner.Type.SPINNING_CIRCLE,className:o.spinner,itemClassName:o.spinnerPath})}));let c=l&&!n;return(0,i.jsxs)("div",{className:o.totalResults,role:"status",children:[c?(0,i.jsx)(a.Tooltip,{text:r.Z.Messages.SEARCH_STILL_INDEXING_HINT.format({count:s}),children:n=>(0,i.jsxs)("div",{className:o.totalResultsWrapper,...n,children:[(0,i.jsx)(d,{...e}),t]})}):(0,i.jsx)(d,{...e}),c?null:t]})}function d(e){let{isSearching:t,isIndexing:n,totalResults:c}=e;if(t)return(0,i.jsx)(a.Text,{variant:"text-md/normal",color:"header-primary",children:r.Z.Messages.SEARCHING});if(n)return(0,i.jsx)(a.Text,{variant:"text-md/normal",children:(0,i.jsx)(a.Anchor,{className:o.helpdeskLink,href:l.Z.getArticleURL(s.BhN.SEARCH_INDEXING),children:r.Z.Messages.STILL_INDEXING})});{let e=c.toLocaleString();return(0,i.jsx)(a.Text,{variant:"text-md/normal",color:"header-primary",children:r.Z.Messages.TOTAL_RESULTS.format({count:e})})}}},101695:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(481060),l=n(601173);function s(e){let{changePage:t,offset:n,totalResults:s,pageLength:r}=e,o=Math.floor(n/r)+1;return(0,i.jsx)("div",{className:l.container,children:(0,i.jsx)(a.Paginator,{currentPage:o,totalCount:s,pageSize:r,onPageChange:t,maxVisiblePages:5})})}},683101:function(e,t,n){n.d(t,{Z:function(){return _}}),n(47120);var i=n(735250),a=n(470079),l=n(392711),s=n.n(l),r=n(374470),o=n(481060),c=n(239091),u=n(294218),d=n(592125),h=n(689938),p=n(932688);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends a.PureComponent{render(){let{result:e,listItemProps:t,searchOffset:n,index:a,totalResults:l}=this.props,r=s().find(e,e=>e.isSearchHit);if(null==r)return null;let c=d.Z.getChannel(r.channel_id);if(null==c)return null;let m="search-result-".concat(r.id);return(0,i.jsx)(o.FocusRing,{ringTarget:this.hitRef,ringClassName:p.__invalid_searchResultFocusRing,offset:4,children:(0,i.jsxs)("li",{className:p.container,...t,"aria-posinset":1+n+a,"aria-setsize":l,"aria-labelledby":m,children:[(0,i.jsx)(o.Clickable,{tabIndex:-1,onClick:this.handleMessageClick,innerRef:this.containerRef,className:p.searchResult,focusProps:{enabled:!1},children:(0,i.jsx)("div",{ref:this.hitRef,className:p.message,children:(0,i.jsx)(u.Z,{id:m,message:r,channel:c,onContextMenu:e=>this.handleContextMenu(e,r),animateAvatar:!1,subscribeToComponentDispatch:!1,trackAnnouncementViews:!0})},r.id)}),(0,i.jsx)("div",{className:p.buttonsContainer,"aria-hidden":!0,children:(0,i.jsx)(o.Clickable,{className:p.button,onClick:this.jumpTo,children:h.Z.Messages.JUMP})})]})})}constructor(...e){super(...e),m(this,"containerRef",a.createRef()),m(this,"hitRef",a.createRef()),m(this,"handleContextMenu",(e,t)=>{let a=d.Z.getChannel(t.channel_id);if(null!=a)e.stopPropagation(),(0,c.jW)(e,async()=>{let{default:e}=await n.e("53809").then(n.bind(n,858341));return n=>(0,i.jsx)(e,{...n,message:t,channel:a})})}),m(this,"jumpTo",e=>{null!=e&&(e.preventDefault(),e.stopPropagation());let{onJump:t,result:n}=this.props,i=n.find(e=>e.isSearchHit);null!=i&&t(i)}),m(this,"handleMessageClick",e=>{if(function(e,t){var n;let i=null===(n=window)||void 0===n?void 0:n.getSelection();if(null!=i&&!i.isCollapsed)return!0;if(null==e||null==t)return!1;for(;(0,r.k)(e)&&e!==t;){;let{tagName:t}=e;if("A"===t||"IMG"===t||"BUTTON"===t)return!0;e=e.parentNode}return!1}(e.target,this.containerRef.current)){e.stopPropagation();return}this.jumpTo(e)})}}},619753:function(e,t,n){n.d(t,{Z:function(){return P}}),n(724458),n(653041),n(47120);var i=n(735250),a=n(470079),l=n(837969),s=n(481060),r=n(668781),o=n(904245),c=n(603263),u=n(963374),d=n(607070),h=n(933557),p=n(471445),m=n(905405),_=n(255269),f=n(937889),E=n(703656),g=n(359110),C=n(695346),I=n(592125),x=n(430824),T=n(496675),N=n(699516),v=n(768119),S=n(944486),Z=n(594174),A=n(68588),M=n(101695),b=n(683101),R=n(981631),j=n(689938),L=n(832719);function P(e){var t;let{search:n,searchId:h,renderEmbeds:p,scrollTo:m,searchResults:_,blockCount:f,onChangePage:g}=e,{offset:C,totalResults:x,isSearching:T,showBlockedResults:S}=n,Z=a.useCallback(e=>{if(T)return;let t=e-1;null==g||g(t),c.oO(h,t)},[h,T,g]),A=a.useCallback(e=>{if(e.blocked)r.Z.show({title:j.Z.Messages.UNBLOCK_TO_JUMP_TITLE,body:j.Z.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:j.Z.Messages.OKAY});else{let t=I.Z.getChannel(e.channel_id),n=null!=t?t.getGuildId():null;o.Z.trackJump(e.channel_id,e.id,"Search Results",{search_id:v.Z.getAnalyticsId(h)}),(0,E.uL)(R.Z5c.CHANNEL(n,e.channel_id,e.id))}},[h]),b=a.useMemo(()=>{let e;if(null==_)return[];let t=0;return _.reduce((n,i)=>{let a=i.find(e=>e.isSearchHit);if(!S&&null!=a&&N.Z.isBlockedForMessage(a))return n;let l=I.Z.getChannel(i[0].channel_id);return null==l?n:((null==e||e!==l.id)&&n.push({channel:l,results:[],startIndex:t}),t+=1,n[n.length-1].results.push(i),e=null==l?void 0:l.id,n)},[])},[_,S]),P=a.useRef([]),y=b.reduce((e,t)=>e+1+t.results.length,0),D=a.useCallback((e,t)=>{if(!d.Z.keyboardModeEnabled)return;let n=P.current,i=null!=t?n[t]:void 0;if(null==i||null==i.hitRef.current)return;let a=i.hitRef.current.getClientRects()[0];m(a.top-.5*a.height,!1,()=>{var t;null===(t=document.getElementById(e))||void 0===t||t.focus()})},[m]),k=a.useCallback(e=>{let t=P.current[e];null==t||t.jumpTo()},[]),U=(0,l.ZP)({navId:"search-results",itemCount:y,focusedIndex:0,setFocus:D,onSelect:k}),w=v.Z.getQuery(h),B=v.Z.getSearchType(h)===R.aib.FAVORITES,H=(0,u.nC)(null!==(t=null==w?void 0:w.content)&&void 0!==t?t:""),G=b.map(e=>{let{channel:t,results:n,startIndex:a}=e;return(0,i.jsx)(O,{channel:t,results:n,highlighter:H,startIndex:a,resultRefs:P,totalResults:x,scrollTo:m,searchId:h,renderEmbeds:p,offset:C,jumpToMessage:A,listNavigator:U,favoriteSearch:B},"".concat(t.id,"-").concat(a))});G.push();let V=a.useRef(null);a.useLayoutEffect(()=>{var e;null===(e=V.current)||void 0===e||e.focus()},[_]);let F=(0,s.useFocusJumpSection)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:V,...U.getContainerProps(),...F,"aria-busy":T,children:G}),f>0?(0,i.jsxs)(s.Clickable,{tag:"div",className:L.resultsBlocked,onClick:()=>c.QY(h,!S),children:[(0,i.jsx)("div",{className:L.resultsBlockedImage}),(0,i.jsx)("div",{className:L.__invalid_resultsBlockedText,children:S?j.Z.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:f}):j.Z.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:f})})]}):null,!T&&!B&&(0,i.jsx)(M.Z,{changePage:Z,offset:C,totalResults:x,pageLength:R.vpv})]})}function O(e){var t,n;let{channel:l,results:r,highlighter:o,startIndex:c,resultRefs:u,totalResults:d,scrollTo:E,searchId:v,renderEmbeds:M,offset:j,jumpToMessage:P,listNavigator:O,favoriteSearch:y}=e,D=C.cC.useSetting(),k=(0,m.p)(),U=a.useCallback(e=>{if(e===S.Z.getChannelId())return;let t=I.Z.getChannel(e);if(null!=t&&!!T.Z.can(R.Plq.VIEW_CHANNEL,t))(0,g.Kh)(t.id)},[]),w=null!=l?(0,h.F6)(l,Z.default,N.Z,!1):"???",B=y&&null!=l.guild_id?null===(t=x.Z.getGuild(l.guild_id))||void 0===t?void 0:t.name:null,H=(null==l?void 0:l.parent_id)!=null?I.Z.getChannel(l.parent_id):null,G=null!=H?H.name:null,V=null!==(n=(0,p.KS)(l))&&void 0!==n?n:s.TextIcon,F=null!=H?(0,p.KS)(H):null,W=T.Z.can(R.Plq.MANAGE_MESSAGES,l),{content:z}=(0,f.ZP)({content:w,embeds:[]},{postProcessor:o,shouldFilterKeywords:k}),Y=a.useRef(null),[K,q]=a.useState(!1);a.useEffect(()=>{let e=Y.current;null!=e&&null!=e.offsetWidth&&null!=e.scrollWidth&&q(e.offsetWidth<e.scrollWidth)},[]);let X=[w,G,B].filter(e=>null!=e).join(", ");return(0,i.jsx)(A.a.Provider,{value:(0,_.Z)(D,W),children:(0,i.jsxs)("ul",{role:"group",className:L.searchResultGroup,"aria-label":X,children:[(0,i.jsx)(s.Clickable,{onClick:()=>U(l.id),children:(0,i.jsxs)("div",{className:L.channelNameContainer,children:[(0,i.jsx)(V,{className:L.channelNameIcon,size:"xs",color:"currentColor"}),(0,i.jsx)(s.Tooltip,{text:w,shouldShow:K,children:e=>(0,i.jsxs)("span",{...e,ref:Y,className:L.channelNameText,children:[y&&null!==B&&"".concat(B," : "),z]})}),null!=H&&null!=G&&null!=F?(0,i.jsxs)(s.Clickable,{className:L.parentChannelNameClickable,onClick:e=>{e.stopPropagation(),U(H.id)},children:[(0,i.jsx)(F,{className:L.parentChannelNameIcon,size:"xxs",color:"currentColor"}),(0,i.jsx)(s.Text,{className:L.parentChannelNameText,variant:"text-xs/medium",color:"header-secondary",children:G})]}):null]})}),r.map((e,t)=>{let n=c+t;return(0,i.jsx)(b.Z,{ref:e=>u.current[n]=e,totalResults:d,scrollTo:E,searchId:v,renderEmbeds:M,searchOffset:j,pageResultsLength:r.length,result:e,index:n,onJump:P,listItemProps:O.getItemProps({index:n})},"search-result-".concat(n))})]})})}},14091:function(e,t,n){n.d(t,{Z:function(){return R}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(392711),o=n.n(r),c=n(442837),u=n(481060),d=n(447543),h=n(603263),p=n(367907),m=n(210887),_=n(695346),f=n(768119),E=n(944486),g=n(693580),C=n(585483),I=n(251285),x=n(406326),T=n(619753),N=n(981631),v=n(689938),S=n(762705);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends a.Component{componentDidMount(){this.autoAnalytics()}componentDidUpdate(e){(this.props.searchAnalyticsId!==e.searchAnalyticsId||this.props.searchOffset!==e.searchOffset)&&this.autoAnalytics(e.searchAnalyticsId)}render(){return null}constructor(...e){var t;super(...e),t=this,Z(this,"autoAnalytics",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null==t.props.searchAnalyticsId)return;let n=0,i=0,a=0,l=0;null!=t.props.searchResults&&o()(t.props.searchResults).flatten().filter(e=>e.isSearchHit).forEach(e=>{null!=e.content&&""!==e.content&&(n++,/https?:\/\/[^\s]+/.test(e.content)&&l++),null!=e.embeds&&e.embeds.length>0&&a++,null!=e.attachments&&e.attachments.length>0&&i++}),p.ZP.trackWithMetadata(N.rMx.SEARCH_RESULT_VIEWED,{search_type:t.props.searchType,search_id:t.props.searchAnalyticsId,prev_search_id:e!==t.props.searchAnalyticsId?e:null,is_error:t.props.searchHasError,limit:t.props.searchLimit,offset:t.props.searchOffset,page:Math.floor(t.props.searchOffset/t.props.searchLimit)+1,total_results:t.props.searchTotalResults,page_results:null!=t.props.searchResults?t.props.searchResults.length:null,is_indexing:t.props.searchIsIndexing,page_num_messages:n,page_num_links:l,page_num_embeds:a,page_num_attach:i})})}}let M=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:S.emptyResultsWrap,children:(0,i.jsx)("div",{className:S.emptyResultsContent,children:t})})};class b extends a.PureComponent{componentDidMount(){C.S.subscribe(N.CkL.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)}componentWillUnmount(){C.S.unsubscribe(N.CkL.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)}componentDidUpdate(e){let{search:t}=e;if(this.props.search.showBlockedResults!==t.showBlockedResults){let e=this.scrollerRef.current;if(null==e)return;e.scrollToBottom()}let n=f.Z.getQuery(this.props.searchId);JSON.stringify(n)!==JSON.stringify(this.state.searchQuery)&&this.setState({searchQuery:n,searchMode:(null==n?void 0:n.sort_by)!=null&&null!=n.sort_order?h.Vj({sort_by:n.sort_by,sort_order:n.sort_order}):N.QIO.NEWEST})}render(){let{searchAnalyticsId:e,searchType:t,searchResults:n}=this.props,{offset:a,hasError:l,totalResults:s,isHistoricalIndexing:r}=this.props.search;return(0,i.jsxs)("section",{className:S.searchResultsWrap,"aria-label":v.Z.Messages.SEARCH_RESULTS_SECTION_LABEL,children:[this.renderHeader(),(0,i.jsx)(u.AdvancedScroller,{ref:this.scrollerRef,className:S.scroller,children:this.renderContent()}),(0,i.jsx)(A,{searchType:t,searchAnalyticsId:e,searchResults:n,searchOffset:a,searchLimit:N.vpv,searchHasError:l,searchTotalResults:s,searchIsIndexing:r})]})}constructor(...e){super(...e),Z(this,"state",{searchMode:N.QIO.NEWEST,searchQuery:null}),Z(this,"scrollerRef",a.createRef()),Z(this,"scrollTo",(e,t,n)=>{let i=this.scrollerRef.current;if(null==i)return;let a=i.getScrollerState().scrollTop-e;i.scrollTo({to:a,animate:t,callback:n})}),Z(this,"selectChannel",e=>{e!==E.Z.getChannelId()&&d.Z.transitionToInviteChannelSync(e)}),Z(this,"searchPrevious",()=>{let{searchId:e,search:{isSearching:t}}=this.props;!t&&h.jn(e)}),Z(this,"searchNext",()=>{let{searchId:e,search:{isSearching:t}}=this.props;!t&&h.m$(e)}),Z(this,"handleSearchResultsClose",()=>{let{searchId:e}=this.props;h.qt(e)}),Z(this,"searchByMode",e=>{let{searchId:t,search:{isSearching:n}}=this.props,{searchMode:i}=this.state;e!==i&&!n&&(p.ZP.trackWithMetadata(N.rMx.SEARCH_RESULT_SORT_CHANGED,{search_id:f.Z.getAnalyticsId(t),new_sort_type:e}),h.Nz(t,e),this.setState({searchMode:e}))}),Z(this,"toggleShowBlockedMessages",()=>{let{searchId:e,search:{showBlockedResults:t}}=this.props;h.QY(e,!t)}),Z(this,"renderHeader",()=>{let{searchMode:e}=this.state,{totalResults:t,isSearching:n,isHistoricalIndexing:a,documentsIndexed:l}=this.props.search;return(0,i.jsx)(x.Z,{searchMode:e,searchByMode:this.searchByMode,totalResults:t,isSearching:n,isIndexing:a,documentsIndexed:l})}),Z(this,"renderIndexing",()=>{let e=f.Z.getSearchType(this.props.searchId)===N.aib.GUILD?v.Z.Messages.SEARCH_GUILD_STILL_INDEXING:v.Z.Messages.SEARCH_DM_STILL_INDEXING;return(0,i.jsxs)(M,{children:[(0,i.jsx)(g.Z,{}),(0,i.jsx)("div",{className:(S.emptyResultsText,S.stillIndexing),children:e})]})}),Z(this,"renderNoResults",()=>{let{showNoResultsAlt:e}=this.props.search,t=e?v.Z.Messages.SEARCH_NO_RESULTS_ALT:v.Z.Messages.SEARCH_NO_RESULTS;return(0,i.jsxs)(M,{children:[(0,i.jsx)("div",{className:s()(S.noResultsImage,{[S.alt]:e})}),(0,i.jsx)("div",{className:s()(S.emptyResultsText,S.noResults,{[S.alt]:e}),children:t})]})}),Z(this,"renderError",()=>(0,i.jsxs)(M,{children:[(0,i.jsx)("div",{className:S.errorImage}),(0,i.jsx)("div",{className:s()(S.emptyResultsText,S.errorMessage),children:v.Z.Messages.SEARCH_ERROR})]})),Z(this,"renderContent",()=>{let{searchResults:e,blockCount:t}=this.props,{totalResults:n,isSearching:a,isIndexing:l,hasError:s}=this.props.search;return s?this.renderError():l?this.renderIndexing():a?null:n>0?(0,i.jsx)(T.Z,{search:this.props.search,searchResults:e,blockCount:t,searchId:this.props.searchId,renderEmbeds:this.props.renderEmbeds,scrollTo:this.scrollTo}):this.renderNoResults()})}}function R(e){let{searchId:t}=e,n=(0,c.cj)([f.Z],()=>f.Z.getResultsState(t),[t]);return(0,i.jsx)(b,{searchId:t,search:n,...(0,c.cj)([f.Z],()=>({searchAnalyticsId:f.Z.getAnalyticsId(t),searchType:f.Z.getSearchType()}),[t]),...(0,I.Z)(t),renderEmbeds:_.NA.useSetting(),developerMode:_.Sb.useSetting(),...(0,c.cj)([m.Z],()=>{let{theme:e}=m.Z;return{theme:e}})})}},134612:function(e,t,n){n.d(t,{C2:function(){return c},DL:function(){return r},EI:function(){return l},Nn:function(){return u},X_:function(){return o},n4:function(){return s},zr:function(){return a}});var i=n(689938);let a="SAFETY_WARNING_BANNER_WEB",l="https://www.crisistextline.org/",s="https://nofiltr.org/resources-hub/",r="InappropriateConversationModal-web",o="PRIVATE_DM_SAFETY_TOOLS_MODAL",c=()=>[i.Z.Messages.STRANGER_DANGER_TIPS_1,i.Z.Messages.STRANGER_DANGER_TIPS_2,i.Z.Messages.STRANGER_DANGER_TIPS_3],u=()=>[i.Z.Messages.INAPPROPRIATE_CONVERSATION_TIPS_1,i.Z.Messages.INAPPROPRIATE_CONVERSATION_TIPS_2,i.Z.Messages.INAPPROPRIATE_CONVERSATION_TIPS_3]},897769:function(e,t,n){n.d(t,{S:function(){return l}});var i=n(442837),a=n(359119);function l(e,t){return(0,i.e7)([a.ZP],()=>a.ZP.getChannelSafetyWarnings(e),[e]).filter(e=>e.type===t).find(e=>null==e.dismiss_timestamp)}},13279:function(e,t,n){n.d(t,{z:function(){return o}});var i=n(359119),a=n(897769),l=n(237292),s=n(403485),r=n(604849);function o(e,t){let n=(0,l.y0)({location:t}),o=(0,r.c)(),c=(0,s.h)(e),u=(0,a.S)(e,i.pj.INAPPROPRIATE_CONVERSATION_TIER_2);if(!(!n||!o||0===c.length||c.some(e=>e.type===i.pj.INAPPROPRIATE_CONVERSATION_TIER_1||e.type===i.pj.INAPPROPRIATE_CONVERSATION_TIER_2&&null!=e.dismiss_timestamp)))return u}},444957:function(e,t,n){n.d(t,{h:function(){return s}});var i=n(237292),a=n(403485),l=n(604849);function s(e){let t=(0,i.y0)({location:"safety-tools-button"}),n=(0,l.c)(),s=(0,a.h)(e);if(!t||!n)return;let r=s.filter(e=>null!=e.dismiss_timestamp);if(0!==r.length)return r.sort((e,t)=>e.type>t.type?1:e.dismiss_timestamp<t.dismiss_timestamp?1:-1)[0]}},403485:function(e,t,n){n.d(t,{h:function(){return l}});var i=n(442837),a=n(359119);function l(e){return(0,i.e7)([a.ZP],()=>a.ZP.getChannelSafetyWarnings(e),[e]).filter(e=>e.type===a.pj.INAPPROPRIATE_CONVERSATION_TIER_1||e.type===a.pj.INAPPROPRIATE_CONVERSATION_TIER_2)}},276618:function(e,t,n){n.d(t,{o:function(){return s}});var i=n(442837),a=n(359119),l=n(444957);function s(e){let t=(0,l.h)(e),n=(0,i.e7)([a.ZP],()=>a.ZP.hasShownInitialTooltipForChannel(e));return null!=t&&!n}},367408:function(e,t,n){n.d(t,{M:function(){return d}}),n(852437);var i=n(70956),a=n(359119),l=n(116347),s=n(444957),r=n(403485),o=n(276618);let c=1*i.Z.Millis.HOUR,u=12*i.Z.Millis.HOUR;function d(e){var t;let n=(0,s.h)(e),i=(0,r.h)(e),d=(0,o.o)(e);if(null==n||d||(0,l.tX)(i))return;let h=i.some(e=>e.type===a.pj.INAPPROPRIATE_CONVERSATION_TIER_1),p=i.filter(e=>null!=e.dismiss_timestamp).sort((e,t)=>t.dismiss_timestamp<e.dismiss_timestamp?-1:1);if(p.length<1||!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return!0;let n=new Date(e).getTime()+(t?c:u);return new Date().getTime()>=n}(p[0].dismiss_timestamp,h))return;let m=i.filter(e=>null==e.dismiss_timestamp);return null!==(t=m.findLast(e=>e.type===a.pj.INAPPROPRIATE_CONVERSATION_TIER_1))&&void 0!==t?t:m.findLast(e=>e.type===a.pj.INAPPROPRIATE_CONVERSATION_TIER_2)}},248789:function(e,t,n){n.d(t,{Y:function(){return f}}),n(47120);var i=n(735250),a=n(470079),l=n(286379),s=n(442837),r=n(481060),o=n(797614),c=n(699516),u=n(378298),d=n(359119),h=n(473092),p=n(177342),m=n(134612),_=n(689938);function f(e){let{channelId:t,warningId:f,senderId:E}=e,g=a.useCallback(()=>{(0,u.T)(t,[f])},[t,f]),C=(0,s.e7)([c.Z],()=>c.Z.isBlocked(E)),I=a.useMemo(()=>({channelId:t,warningId:f,senderId:E,warningType:d.pj.INAPPROPRIATE_CONVERSATION_TIER_2}),[t,f,E]);a.useEffect(()=>{(0,h.KQ)({...I,viewName:h.pb.SAFETY_WARNING_BANNER}),o.Z.increment({name:l.V.SAFETY_WARNING_VIEW})},[I]);let x=a.useCallback(e=>{(0,h.qc)({...I,cta:e})},[I]),T=a.useCallback(()=>{(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("49508"),n.e("89650")]).then(n.bind(n,611446));return n=>{let{transitionState:a,onClose:l}=n;return(0,i.jsx)(e,{otherUserId:E,channelId:t,warningId:f,warningType:d.pj.INAPPROPRIATE_CONVERSATION_TIER_2,transitionState:a,onClose:l})}},{modalKey:m.X_}),x(h.NM.USER_BANNER_OPEN_SAFETY_TOOLS)},[t,E,f,x]),N=a.useCallback(()=>{g(),x(h.NM.USER_BANNER_BLOCK_CONFIRM)},[g,x]),v=a.useCallback(()=>{g(),x(h.NM.USER_BANNER_BLOCK_AND_REPORT_CONFIRM)},[g,x]),S=a.useCallback(()=>{(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("19538").then(n.bind(n,699783));return n=>{let{transitionState:a,onClose:l}=n;return(0,i.jsx)(e,{transitionState:a,onBlock:N,onBlockAndReport:v,onCancel:()=>{null==l||l(),x(h.NM.USER_BANNER_BLOCK_CANCEL)},onClose:l,userId:E,channelId:t})}})},[N,v,E,t,x]);return(0,i.jsx)(p.Q,{channelId:t,warningId:f,senderId:E,warningType:d.pj.INAPPROPRIATE_CONVERSATION_TIER_2,header:_.Z.Messages.INAPPROPRIATE_CONVERSATION_BANNER_HEADER,description:_.Z.Messages.INAPPROPRIATE_CONVERSATION_BANNER_DESCRIPTION,onDismiss:g,buttons:[{text:_.Z.Messages.INAPPROPRIATE_CONVERSATION_BANNER_OPEN_SAFETY_TOOLS_BUTTON,color:r.Button.Colors.BRAND,onclick:T},...C?[]:[{text:_.Z.Messages.INAPPROPRIATE_CONVERSATION_BANNER_BLOCK_BUTTON,color:r.Button.Colors.PRIMARY,onclick:S}]]})}},177342:function(e,t,n){n.d(t,{Q:function(){return h}});var i=n(735250),a=n(470079),l=n(286379),s=n(481060),r=n(797614),o=n(473092),c=n(689938),u=n(370826),d=n(560580);function h(e){let{channelId:t,warningId:n,senderId:h,warningType:p,header:m,description:_,onDismiss:f,buttons:E}=e;a.useEffect(()=>{r.Z.increment({name:l.V.SAFETY_WARNING_VIEW})},[]);let g=a.useCallback(()=>{null==f||f(),(0,o.qc)({channelId:t,warningId:n,senderId:h,warningType:p,cta:o.NM.USER_BANNER_DISMISS})},[f,t,n,h,p]);return(0,i.jsxs)("div",{className:u.strangerDangerBanner,children:[(0,i.jsxs)("div",{className:u.shieldAndHeading,children:[(0,i.jsx)("img",{className:u.safetyShieldIcon,src:d,alt:""}),(0,i.jsxs)("div",{children:[(0,i.jsx)(s.Heading,{variant:"heading-md/semibold",color:"text-primary",children:m}),(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"text-primary",children:_})]})]}),(0,i.jsx)("div",{className:u.buttons,children:null==E?void 0:E.map((e,t)=>(0,i.jsx)(s.Button,{size:s.Button.Sizes.SMALL,color:e.color,"aria-label":e.text,onClick:e.onclick,className:u.ctaButton,children:e.text},t))}),(0,i.jsx)(s.Clickable,{className:u.closeButton,onClick:g,role:"button","aria-label":c.Z.Messages.DISMISS,children:(0,i.jsx)(s.CloseSmallIcon,{size:"md",color:"currentColor",className:u.closeButton})})]})}},88101:function(e,t,n){n.d(t,{P:function(){return c}});var i=n(385956),a=n(15701),l=n(359119),s=n(897769),r=n(981312),o=n(403485);function c(e,t){let n=(0,a.G)(e),c=(0,i.v)(e),u=(0,s.S)(e,l.pj.STRANGER_DANGER),d=(0,r.U)(t),h=(0,o.h)(e).length>0;if(!!d&&!n&&!c&&!h)return u}},576954:function(e,t,n){n.d(t,{M:function(){return f}});var i=n(735250),a=n(470079),l=n(286379),s=n(481060),r=n(194359),o=n(797614),c=n(378298),u=n(359119),d=n(473092),h=n(177342),p=n(134612),m=n(981631),_=n(689938);function f(e){let{channelId:t,warningId:f,senderId:E}=e,g=a.useCallback(()=>{(0,c.T)(t,[f])},[t,f]),C=a.useCallback(e=>()=>{r.Z.addRelationship({userId:E,context:{location:p.zr},type:m.OGo.BLOCKED}),g(),(0,s.showToast)((0,s.createToast)(_.Z.Messages.STRANGER_DANGER_BLOCK_CONFIRM,s.ToastType.SUCCESS)),(0,d.qc)({channelId:t,warningId:f,senderId:E,warningType:u.pj.STRANGER_DANGER,cta:e})},[g,t,f,E]);a.useEffect(()=>{(0,d.MC)(m.rMx.SAFETY_WARNING_VIEWED,{channelId:t,warningId:f,senderId:E,warningType:u.pj.STRANGER_DANGER}),o.Z.increment({name:l.V.SAFETY_WARNING_VIEW})},[t,f,E]);let I=()=>{(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("95226").then(n.bind(n,816960));return n=>{let{transitionState:a,onClose:l}=n;return(0,i.jsx)(e,{transitionState:a,onClose:l,channelId:t,warningId:f,senderId:E,handleBlock:()=>{x(d.NM.USER_MODAL_BLOCK_CONFIRM,d.NM.USER_MODAL_BLOCK_CANCEL,I)}})}})},x=(e,a,l)=>{(0,s.openModalLazy)(async()=>{let{default:s}=await n.e("68747").then(n.bind(n,744373));return n=>(0,i.jsx)(s,{...n,userId:E,confirmBlock:C(e),onCancel:()=>{null==l||l(),(0,d.qc)({channelId:t,warningId:f,senderId:E,warningType:u.pj.STRANGER_DANGER,cta:a})}})})};return(0,i.jsx)(h.Q,{channelId:t,warningId:f,senderId:E,warningType:u.pj.STRANGER_DANGER,header:_.Z.Messages.STRANGER_DANGER_BANNER_HEADER,description:_.Z.Messages.STRANGER_DANGER_BANNER_DESCRIPTION,onDismiss:g,buttons:[{text:_.Z.Messages.STRANGER_DANGER_BANNER_MORE_TIPS,color:s.Button.Colors.BRAND,onclick:()=>{I(),(0,d.qc)({channelId:t,warningId:f,senderId:E,warningType:u.pj.STRANGER_DANGER,cta:d.NM.OPEN_MORE_TIPS})}},{text:_.Z.Messages.STRANGER_DANGER_BANNER_BLOCK,color:s.Button.Colors.RED,onclick:()=>x(d.NM.USER_BANNER_BLOCK_CONFIRM,d.NM.USER_BANNER_BLOCK_CANCEL)}]})}},125268:function(e,t,n){n.d(t,{AX:function(){return c},BR:function(){return d},Bo:function(){return f},Df:function(){return h},LT:function(){return E},ZZ:function(){return p},cV:function(){return u},fW:function(){return _},gr:function(){return m},oW:function(){return o}});var i=n(261470),a=n(544891),l=n(570140),s=n(292793),r=n(981631);function o(e,t,n,i,a){l.Z.dispatch({type:"SHARED_CANVAS_DRAW_LINE_POINT",channelId:e,userId:n,lineId:t,streamerId:i,point:a})}function c(e,t,n,i){return a.tn.post({url:r.ANM.SHARED_CANVAS_LINES(e,n),body:{line_id:t,points:i}})}function u(e,t,n,i){l.Z.dispatch({type:"SHARED_CANVAS_UPDATE_LINE_POINTS",userId:t,lineId:e,newPoints:i,streamerId:n})}function d(e,t,n){return a.tn.post({url:r.ANM.SHARED_CANVAS_EMOJI_HOSES(e,t),body:{emoji_hose:n}})}function h(e,t,n){a.tn.del({url:r.ANM.SHARED_CANVAS_EMOJI_HOSE(e,t,n),backoff:new i.Z})}function p(e,t){t.state=s.f.STOP,l.Z.dispatch({type:"SHARED_CANVAS_UPDATE_EMOJI_HOSE",emojiHose:t,userId:t.userId,streamerId:e})}function m(e,t,n){l.Z.dispatch({type:"SHARED_CANVAS_UPDATE_EMOJI_HOSE",emojiHose:e,userId:t,streamerId:n})}function _(e,t){l.Z.dispatch({type:"SHARED_CANVAS_CLEAR_DRAWABLES",drawables:e,streamerId:t})}function f(e){l.Z.dispatch({type:"SHARED_CANVAS_SET_DRAW_MODE",drawMode:e})}function E(){l.Z.dispatch({type:"TOGGLE_OVERLAY_CANVAS"})}},813900:function(e,t,n){n.d(t,{FO:function(){return r},Fq:function(){return s},Ks:function(){return i},q2:function(){return l},qh:function(){return a}});let i=80,a=48,l=3,s=500,r=5e3},822183:function(e,t,n){let i=(0,n(818083).B)({kind:"guild",id:"2023-01_shared_canvas",label:"Shared Canvas",defaultConfig:{isSharedCanvasEnabled:!1},treatments:[{id:1,label:"Enable Shared Canvas",config:{isSharedCanvasEnabled:!0}}]});t.Z=i},673125:function(e,t,n){n(653041),n(47120);var i,a,l,s,r=n(442837),o=n(570140),c=n(633302),u=n(594174),d=n(176354),h=n(292793),p=n(88315),m=n(813900);let _={},f={},E={},g=!0,C=null;function I(e){if(null==f[e]){let t=u.default.getUser(e);if(null==t)return;let n=t.getAvatarURL(null,m.Ks),i=new Image;i.src=n,f[e]=i}}class x extends(i=r.ZP.Store){get visibleOverlayCanvas(){return g}getDrawables(e){return null!=_[e]?_[e]:[]}getAvatarImage(e){return f[e]}getEmojiImage(e){return E[e]}getDrawMode(){return C}}s="SharedCanvasStore",(l="displayName")in(a=x)?Object.defineProperty(a,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[l]=s;let T=new x(o.Z,{SHARED_CANVAS_UPDATE_LINE_POINTS:function(e){let{lineId:t,newPoints:n,userId:i,streamerId:a}=e,l=_[a];if(null==l)_[a]=[{type:h.W.LINE,id:t,userId:i,points:n}];else{let e=l.find(e=>e.id===t);null==e?l.push({type:h.W.LINE,id:t,userId:i,points:n}):(0,p.P7)(e)&&e.points.push(...n)}I(i)},SHARED_CANVAS_UPDATE_EMOJI_HOSE:function(e){var t,n,i;let{emojiHose:a,streamerId:l,userId:s}=e,r={...a,type:h.W.EMOJI_HOSE};if(null==_[l])_[l]=[r];else{let e=_[l].findIndex(e=>e.id===a.id);e>=0?_[l][e]={..._[l][e],...r}:_[l].push(r)}let o=null!==(n=null!==(t=a.emojiId)&&void 0!==t?t:a.emojiName)&&void 0!==n?n:"";if(null==E[o]){let e=null!=a.emojiName?c.ZP.convertNameToSurrogate(a.emojiName):null;E[o]=new Image,E[o].src=(0,d.qc)({id:a.emojiId,name:null!==(i=null!=e?e:a.emojiName)&&void 0!==i?i:"",animated:!1},m.qh)}I(s)},SHARED_CANVAS_CLEAR_DRAWABLES:function(e){let{drawables:t,streamerId:n}=e;if(null!=_[n]){let e=new Set;t.forEach(t=>e.add(t.id)),_[n]=_[n].filter(t=>!e.has(t.id))}},SHARED_CANVAS_SET_DRAW_MODE:function(e){let{drawMode:t}=e;C=t},TOGGLE_OVERLAY_CANVAS:function(e){let{}=e;g=!g}});t.Z=T},292793:function(e,t,n){var i,a,l,s;n.d(t,{W:function(){return i},f:function(){return a}}),(l=i||(i={})).LINE="line",l.EMOJI_HOSE="emoji_hose",(s=a||(a={})).START="START",s.STOP="STOP"},88315:function(e,t,n){n.d(t,{P7:function(){return m},RR:function(){return p},UN:function(){return u},bg:function(){return _},hn:function(){return d},np:function(){return h}});var i=n(979590),a=n.n(i),l=n(866442),s=n(220082),r=n(594174),o=n(292793),c=n(813900);function u(e){let t=e.current,n=null==t?void 0:t.getContext("2d");if(null!=t&&null!=n)n.clearRect(0,0,t.width,t.height)}function d(e,t){let{width:n,height:i,left:a,top:l}=e.getBoundingClientRect(),s=(t.clientX-a)/n;return{x:s,y:(t.clientY-l)/i}}function h(e,t){return Math.round(e*t*window.devicePixelRatio)}function p(e,t,n){return{x:h(e.x,t),y:h(e.y,n),deltaTime:e.deltaTime}}function m(e){return e.type===o.W.LINE}function _(e,t,n,i){var o;let u=r.default.getUser(e),d=null==u?void 0:u.getAvatarURL(null,c.Ks),h=null!=d?null===(o=s.SR.getState().palette[d])||void 0===o?void 0:o[0]:null,p=null!=h?"#".concat(a()({r:h[0],g:h[1],b:h[2]}).toHex()):i,m=(0,l.Bd)((0,l._i)(p))>.5?n:t;return{fillColor:p,outlineColor:m}}},199766:function(e,t,n){n.d(t,{I:function(){return a},T:function(){return l}});var i=n(673125);function a(e,t,n,i,a){e.save(),e.beginPath(),e.fillStyle=i,e.arc(t,n,Math.round(20*window.devicePixelRatio)/2+a,0,2*Math.PI),e.fill(),e.restore()}function l(e,t,n,a){e.save();let l=i.Z.getAvatarImage(a);if(null==l)return;let s=20*window.devicePixelRatio;e.beginPath(),e.arc(t,n,s/2,0,2*Math.PI),e.clip(),e.drawImage(l,t-s/2,n-s/2,s,s),e.restore()}},262433:function(e,t,n){n.d(t,{U:function(){return m},Z:function(){return f}}),n(653041);var i=n(392711),a=n.n(i),l=n(772848),s=n(652874),r=n(125268),o=n(673125),c=n(292793),u=n(88315),d=n(199766),h=n(813900);let p={X_OFFSET:2*h.qh,Y_OFFSET:25,X_SPEED:.5,Y_SPEED_MIN:-1,Y_SPEED_MAX:-5,OPACITY:1,OPACITY_SPEED_MIN:.01,OPACITY_SPEED_MAX:.05,SIZE_MIN:h.qh/2,SIZE_MAX:h.qh},m=(0,s.Z)(()=>({particles:{},lastSpawned:{}}));function _(e,t){var n;a()(null!==(n=m.getState().particles[e.id])&&void 0!==n?n:{}).forEach(t)}function f(e){var t,n,i,s;let{emojiHose:f,context:E,canvasWidth:g,canvasHeight:C,fallbackColor:I,outlineColorDark:x,outlineColorLight:T,streamerId:N,deadDrawables:v}=e;E.save();let S=o.Z.getEmojiImage(null!==(n=null!==(t=f.emojiId)&&void 0!==t?t:f.emojiName)&&void 0!==n?n:""),Z=(0,u.np)(f.x,g),A=(0,u.np)(f.y,C),{outlineColor:M}=(0,u.bg)(f.userId,x,T,I);if(_(f,e=>{var t,n;return t=f,n=e,void(n.x+=n.xSpeed*window.devicePixelRatio,n.y+=n.ySpeed*window.devicePixelRatio,n.opacity-=n.opacitySpeed,n.opacity<=0&&m.setState(e=>(delete e.particles[t.id][n.id],0===Object.keys(e.particles[t.id]).length&&delete e.particles[t.id],e)))}),!function(e,t,n){var i;let s=null!==(i=m.getState().lastSpawned[e.id])&&void 0!==i?i:0,r=Date.now();if(!(s+100>r)&&e.state!==c.f.STOP&&!!(.8>=Math.random()||s+300<r))m.setState(i=>{var s,r,o;let c=null!==(s=i.particles[e.id])&&void 0!==s?s:{},u=a().random(1,2);for(let e=0;e<u;e++){;let e=(r=t,o=n,{id:(0,l.Z)(),x:r+a().random(-p.X_OFFSET,p.X_OFFSET),y:o+a().random(-p.Y_OFFSET,p.Y_OFFSET),xSpeed:a().random(-p.X_SPEED,p.X_SPEED),ySpeed:a().random(p.Y_SPEED_MIN,p.Y_SPEED_MAX),opacity:p.OPACITY,opacitySpeed:a().random(p.OPACITY_SPEED_MIN,p.OPACITY_SPEED_MAX),size:a().random(p.SIZE_MIN,p.SIZE_MAX)});c[e.id]=e}return i.particles[e.id]=c,i.lastSpawned[e.id]=Date.now(),i})}(f,Z,A),(0,d.I)(E,Z,A,M,h.q2),(0,d.T)(E,Z,A,f.userId),_(f,e=>(function(e,t,n){if(null==t)return;let i=n.size*window.devicePixelRatio,a=n.x-i/2*window.devicePixelRatio,l=n.y-1.2*i*window.devicePixelRatio;e.globalAlpha=n.opacity,e.drawImage(t,i/2+a,i/2+l,i,i)})(E,S,e)),f.lastUpdatedAt+h.FO<Date.now()&&(0,r.ZZ)(N,f),f.state===c.f.STOP&&(i=f,!(Object.keys(null!==(s=m.getState().particles[i.id])&&void 0!==s?s:{}).length>0)))v.push(f);E.restore()}},400321:function(e,t,n){n.d(t,{Z:function(){return s}}),n(653041);var i=n(88315),a=n(199766),l=n(813900);function s(e){let{line:t,context:n,canvasWidth:s,canvasHeight:r,fallbackColor:o,outlineColorDark:c,outlineColorLight:u,linesDrawnAt:d,deadDrawables:h}=e;null==d.current[t.id]&&(d.current[t.id]=Date.now()),n.lineCap="round",n.lineJoin="round";let p=t.points.map(e=>(0,i.RR)(e,s,r)),m=d.current[t.id],_=e=>m+e.deltaTime,f=e=>_(e)+1500>=Date.now(),E=e=>_(e)<=Date.now()&&f(e),g=p.find(E);if(null==g){!f(t.points[t.points.length-1])&&h.push(t);return}let C=(e,t)=>{let i=null;n.lineWidth=t*window.devicePixelRatio,n.strokeStyle=e,n.beginPath(),n.moveTo(g.x,g.y);for(let e=1;e<p.length;e++){let t=p[e];E(t)&&(n.lineTo(t.x,t.y),i=t)}return n.stroke(),i},{fillColor:I,outlineColor:x}=(0,i.bg)(t.userId,c,u,o),T=C(x,6+l.q2),N=null!=T&&E(T);N&&(0,a.I)(n,T.x,T.y,x,l.q2),C(I,6),N&&(0,a.T)(n,T.x,T.y,t.userId)}},179295:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(470079),a=n(442837),l=n(569545),s=n(959457),r=n(626135),o=n(981631),c=n(474936);function u(e,t){let{handleMouseDown:n,handleMouseMove:u,handleMouseUp:d,handleMouseEnter:h}=e,p=i.useRef(null),m=(0,a.e7)([s.Z],()=>s.Z.getRTCConnection((0,l.V9)(t))),_=i.useCallback((e,t,i)=>{p.current=Date.now(),n(e,t,i)},[n]);return{handleMouseUp:i.useCallback((e,t,n)=>{if(d(e,t,n),null!=p.current){if(null!=m){var i,a,l;i=e,a=m,l=Date.now()-p.current,r.default.track(o.rMx.PREMIUM_FEATURE_USAGE,{feature_name:"".concat(c.QP.SHARED_CANVAS,"_").concat(i.type),feature_tier:c.h1.FREE,media_session_id:a.getMediaSessionId(),parent_media_session_id:a.parentMediaSessionId,guild_id:a.guildId,duration:l})}p.current=null}},[d,m]),handleMouseDown:_,handleMouseMove:u,handleMouseEnter:h}}},370663:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(470079),a=n(772848),l=n(125268);let s=()=>{};function r(e,t,n){let r=i.useRef((0,a.Z)()),o=i.useRef(Date.now()),c=i.useCallback((i,a)=>{let s={x:i,y:a,deltaTime:Date.now()-o.current};(0,l.oW)(t,r.current,e,n,s),(0,l.cV)(r.current,e,n,[s])},[t,n,e]),u=i.useCallback((e,t,n)=>{r.current=(0,a.Z)(),o.current=Date.now(),c(t,n)},[c]),d=i.useCallback((e,t,n)=>c(t,n),[c]),h=i.useCallback((e,t,n)=>u(e,t,n),[u]);return i.useMemo(()=>({handleMouseDown:u,handleMouseMove:d,handleMouseUp:s,handleMouseEnter:h}),[u,h,d])}},743597:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(470079),a=n(392711),l=n.n(a),s=n(772848),r=n(846519),o=n(125268),c=n(292793),u=n(813900);let d=l().debounce(o.BR,u.Fq,{maxWait:u.Fq});function h(e,t,n){let a=i.useRef((0,s.Z)()),l=i.useRef(new r.Xp),h=i.useCallback(i=>{i.lastUpdatedAt=Date.now(),(0,o.gr)(i,e,n),(0,o.BR)(t,n,i)},[t,n,e]),p=i.useCallback((i,r,d)=>{a.current=(0,s.Z)();let p={...i,id:a.current,x:r,y:d,userId:e,state:c.f.START,lastUpdatedAt:Date.now()};(0,o.BR)(t,n,p),(0,o.gr)(p,e,n),l.current.start(u.FO,()=>h(p))},[e,t,n,h]),m=i.useCallback((i,s,r)=>{let p={...i,id:a.current,x:s,y:r,userId:e,state:c.f.START,lastUpdatedAt:Date.now()};d(t,n,p),(0,o.gr)(p,e,n),l.current.start(u.FO,()=>h(p))},[e,t,n,h]),_=i.useCallback((i,s,r)=>{d.cancel(),(0,o.Df)(t,n,a.current),(0,o.gr)({...i,id:a.current,x:s,y:r,userId:e,state:c.f.STOP,lastUpdatedAt:Date.now()},e,n),l.current.stop()},[t,n,e]),f=i.useCallback((e,t,n)=>m(e,t,n),[m]);return i.useMemo(()=>({handleMouseDown:p,handleMouseMove:m,handleMouseUp:_,handleMouseEnter:f}),[p,f,m,_])}},364125:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(470079),a=n(399606),l=n(673125),s=n(292793),r=n(88315),o=n(179295),c=n(370663),u=n(743597);function d(e){let{user:t,channelId:n,streamerId:d,stream:h,focused:p,canvas:m}=e,_=i.useRef(!1),f=(0,a.e7)([l.Z],()=>l.Z.getDrawMode()),E=(0,o.Z)((0,c.Z)(t.id,n,d),h),g=(0,o.Z)((0,u.Z)(t.id,n,d),h),C=i.useCallback((e,t,n)=>{if(null==m)return;let{x:i,y:a}=(0,r.hn)(m,n);switch(t.type){case s.W.LINE:return E[e](t,i,a);case s.W.EMOJI_HOSE:return g[e](t,i,a)}},[m,E,g]),I=i.useCallback(e=>{if(!!p&&null!=f)e.stopPropagation(),_.current=!0,C("handleMouseDown",f,e)},[C,f,p]),x=i.useCallback(e=>{if(!!p&&null!=f)e.stopPropagation(),_.current&&C("handleMouseMove",f,e)},[C,f,p]),T=i.useCallback(e=>{if(!!p&&null!=f)e.stopPropagation(),_.current=!1,C("handleMouseUp",f,e)},[C,f,p]),N=i.useCallback(e=>{if(!!_.current&&null!=f)C("handleMouseEnter",f,e)},[C,f]);return i.useEffect(()=>{let e=e=>{if(null!=f)_.current=!1,C("handleMouseUp",f,e)};return window.addEventListener("mouseup",e),()=>window.removeEventListener("mouseup",e)},[C,f]),{handleClick:i.useCallback(e=>{p&&null!=f&&e.stopPropagation()},[f,p]),handleMouseDown:I,handleMouseEnter:N,handleMouseMove:x,handleMouseUp:T}}},610947:function(e,t,n){n.d(t,{Z:function(){return E}}),n(653041);var i=n(470079),a=n(846519),l=n(692547),s=n(481060),r=n(220082),o=n(979651),c=n(125268),u=n(673125),d=n(292793),h=n(88315),p=n(262433),m=n(400321),_=n(813900);let f=1e3/60;function E(e,t,n,E){let g=(0,s.useToken)(l.Z.unsafe_rawColors.BRAND_500).hex(),C=(0,s.useToken)(l.Z.unsafe_rawColors.BLACK_500).hex(),I=(0,s.useToken)(l.Z.unsafe_rawColors.WHITE_500).hex(),x=i.useRef({}),T=i.useRef(new a.Xp),N=i.useCallback(t=>{let n=u.Z.getDrawables(t);(0,h.UN)(e),!function(e){let{canvasRef:t,drawables:n,fallbackColor:i,linesDrawnAt:a,streamerId:l,channelId:s,outlineColorDark:r,outlineColorLight:u}=e;if(0===n.length)return;let h=t.current;if(null==h)return;let _=h.getContext("2d");if(null==_)return;let{width:f,height:E}=h.getBoundingClientRect(),g=[];n.forEach(e=>{if(!(null!=o.Z.getVoiceStateForChannel(s,e.userId))){g.push(e);return}!function(e){let{drawable:t,context:n,canvasWidth:i,canvasHeight:a,fallbackColor:l,outlineColorDark:s,outlineColorLight:r,linesDrawnAt:o,streamerId:c,deadDrawables:u}=e;switch(t.type){case d.W.LINE:return(0,m.Z)({line:t,context:n,canvasWidth:i,canvasHeight:a,fallbackColor:l,outlineColorDark:s,outlineColorLight:r,linesDrawnAt:o,deadDrawables:u});case d.W.EMOJI_HOSE:return(0,p.Z)({emojiHose:t,context:n,canvasWidth:i,canvasHeight:a,fallbackColor:l,outlineColorDark:s,outlineColorLight:r,streamerId:c,deadDrawables:u})}}({drawable:e,context:_,canvasWidth:f,canvasHeight:E,fallbackColor:i,outlineColorDark:r,outlineColorLight:u,linesDrawnAt:a,deadDrawables:g,streamerId:l})}),g.length>0&&(0,c.fW)(g,l)}({canvasRef:e,drawables:n,fallbackColor:g,linesDrawnAt:x,streamerId:t,outlineColorDark:C,outlineColorLight:I,channelId:E})},[e,E,g,C,I]);i.useEffect(()=>{let t=new ResizeObserver(()=>{let t=e.current;if(null==t)return;let{width:i,height:a}=t.getBoundingClientRect();t.width=i*window.devicePixelRatio,t.height=a*window.devicePixelRatio,N(n)});return null!=e.current&&t.observe(e.current),()=>t.disconnect()},[e,N,n]);let v=i.useCallback(()=>{let t=u.Z.getDrawables(n),i=p.U.getState().particles,a=t.length>0||Object.keys(i).length>0;a&&null==T.current._ref&&(null==T.current._ref?(N(n),T.current.start(f,()=>N(n))):!a&&null!=T.current._ref&&(T.current.stop(),(0,h.UN)(e)))},[e,N,n]);i.useEffect(()=>{let e=T.current;return u.Z.addChangeListener(v),v(),(0,r.vM)(t.getAvatarURL(null,_.Ks)),()=>{u.Z.removeChangeListener(v),e.stop()}})}},590076:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250),a=n(470079),l=n(512722),s=n.n(l),r=n(399606),o=n(618158),c=n(594174),u=n(822183),d=n(364125),h=n(610947),p=n(260788);function m(e){let{focused:t,channelId:n,streamerId:l,stream:u}=e,m=a.useRef(null),_=(0,r.e7)([c.default],()=>c.default.getCurrentUser());s()(null!=_,"user cannot be null"),(0,h.Z)(m,_,l,n);let{handleClick:f,handleMouseDown:E,handleMouseEnter:g,handleMouseMove:C,handleMouseUp:I}=(0,d.Z)({user:_,channelId:n,streamerId:l,stream:u,focused:t,canvas:m.current});return(0,i.jsx)(o.Z,{children:(0,i.jsx)("canvas",{ref:m,onClick:f,onMouseDown:E,onMouseEnter:g,onMouseMove:C,onMouseUp:I,className:p.sharedCanvas})})}function _(e){let{isSharedCanvasEnabled:t}=u.Z.useExperiment({guildId:e.guildId,location:"d0de1c_1"},{autoTrackExposure:!0});return!t||e.hasScreenMessage?null:(0,i.jsx)(m,{...e})}},145834:function(e,t,n){n.d(t,{$:function(){return r}});var i=n(70956),a=n(51144),l=n(689938);let s=1*i.Z.Millis.DAY;function r(e){var t,n,i;if((0,a.EO)(e.user))return l.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_TO_DISCORD;let r=null===(t=e.member)||void 0===t?void 0:t.joinedAt;return null==r?l.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NON_MEMBER:null!=e.member&&e.member.roles.length>0?null!==(i=null===(n=e.role)||void 0===n?void 0:n.name)&&void 0!==i?i:l.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER_ROLES:new Date().getTime()-Date.parse(r)<s?l.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_MEMBER:l.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER}},600518:function(e,t,n){n.d(t,{v:function(){return a},z:function(){return l}});var i=n(570140);function a(e){i.Z.dispatch({type:"STAGE_MUSIC_MUTE",muted:e})}function l(e){i.Z.dispatch({type:"STAGE_MUSIC_PLAY",play:e})}},719100:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(314897),a=n(565799),l=n(501655),s=n(88751),r=n(427679);function o(e){if(!e.isGuildStageVoice()||!r.Z.isLive(e.id))return!1;let t=i.default.getId();return!!(s.ZP.isModerator(t,e.id)&&s.ZP.isSpeaker(t,e.id))&&(null==a.Z.getMutableParticipants(e.id).find(n=>n.user.id!==t&&s.ZP.isModerator(n.user.id,e.id))||null==a.Z.getMutableParticipants(e.id,l.pV.SPEAKER).find(n=>n.user.id!==t&&s.ZP.isModerator(n.user.id,e.id)))}},184805:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(442837),a=n(314897),l=n(590415);function s(e){let t=(0,i.e7)([a.default],()=>a.default.getId());return(0,l.ZP)(t,e)===l.xO.ON_STAGE}},614173:function(e,t,n){n.d(t,{h:function(){return c}}),n(47120);var i=n(470079),a=n(442837),l=n(592125),s=n(700785),r=n(471253),o=n(981631);function c(e){let t=(0,a.e7)([l.Z],()=>l.Z.getChannel(e),[e]),n=s.Uu(o.Plq.REQUEST_TO_SPEAK,t),[c,u]=i.useState(n);return i.useEffect(()=>{n!==c&&u(n)},[n]),[c,e=>{null!=t&&(u(e),(0,r.Pq)(t,o.Plq.REQUEST_TO_SPEAK,e))}]}},27931:function(e,t,n){n.d(t,{Dx:function(){return m},aP:function(){return _}}),n(653041),n(47120);var i,a,l=n(470079),s=n(392711),r=n(442837),o=n(638730),c=n(358221),u=n(136015),d=n(565799),h=n(431328),p=n(501655);function m(e){let t=(0,h.Rk)(e,p.pV.AUDIENCE),[n,i]=l.useState(!1);return l.useEffect(()=>{t>100?i(!0):t<75&&i(!1)},[t]),n?5e3:0}function _(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=function(e,t,n){let i=(0,r.e7)([d.Z],()=>[e,d.Z.getParticipantsVersion(e)],[e],u.Q),a=(0,r.e7)([c.Z],()=>c.Z.getSelectedParticipantId(e),[e]);return l.useMemo(()=>{let l=[],r=[],o=-1,c=[];if(n)for(let t of d.Z.getMutableParticipants(e,p.pV.SPEAKER))if(t.type===p.Ui.STREAM)t.id!==a&&c.push(t),o++;else break;let u=(e,t,n)=>{let i=n?e.filter((e,t)=>e.id!==a&&t>o):e,c=(0,s.chunk)(i,t);r.push(c),l.push(c.length)},h=null!=a?d.Z.getParticipant(e,a):null;return(null==h?void 0:h.speaker)?u([h],1,!1):u([],1,!1),[p.pV.SPEAKER,p.pV.AUDIENCE].forEach(e=>{u(d.Z.getMutableParticipants(i[0],e),t[e],e===p.pV.SPEAKER)}),u(c,1,!1),[l,r]},[i,t,a,n,e])}(e,t,i),[h,m]=a,[_,f]=(0,o.T)(a,n,[t[p.pV.AUDIENCE]]),E=[h[i?3:0],h[1],_[2]];return[E,[m[i?3:0],m[1],f[2]]]}(a=i||(i={}))[a.SELECTED=0]="SELECTED",a[a.SPEAKER=1]="SPEAKER",a[a.AUDIENCE=2]="AUDIENCE",a[a.MEDIA=3]="MEDIA"},979339:function(e,t,n){n.d(t,{Z:function(){return r}}),n(47120),n(653041);var i=n(442837),a=n(136015),l=n(565799),s=n(501655);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,[n]=(0,i.e7)([l.Z],()=>{let n=l.Z.getMutableParticipants(e).filter(e=>e.type===s.Ui.VOICE),i=[];for(let e of n){if(i.length>=t)break;if(null==i.find(t=>t.id===e.user.id))i.push(e.user)}return[{participants:n,usersInSummary:i},l.Z.getParticipantsVersion(e)]},[e,t],a.Q);return n}},270295:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120);var i=n(470079),a=n(442837),l=n(314897),s=n(471253),r=n(590415);function o(e){let t=(0,a.e7)([l.default],()=>l.default.getId()),n=(0,r.ZP)(t,e.id),o=n===r.xO.REQUESTED_TO_SPEAK||n===r.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,[c,u]=i.useState(o);return i.useEffect(()=>{u(o)},[o]),[c,function(){n===r.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK?(0,s.RK)(e,!0):(0,s.Q1)(e,!c),u(!c)}]}},260979:function(e,t,n){n(653041);var i=n(735250),a=n(470079),l=n(965288),s=n(311496);t.Z=a.memo(function(e){let{channel:t,participants:n,maxTiles:a}=e;if(0===n.length)return null;let r=[];for(let e=0;e<a;e++)if(e<n.length){let a=n[e];r.push((0,i.jsx)(l.Z,{channel:t,participant:a},a.id))}else r.push((0,i.jsx)(l.y,{},e));return(0,i.jsx)("div",{className:s.participants,children:r})})},965288:function(e,t,n){n.d(t,{y:function(){return N}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(512722),o=n.n(r),c=n(442837),u=n(692547),d=n(481060),h=n(239091),p=n(40851),m=n(484459),_=n(103575),f=n(271383),E=n(709586),g=n(5192),C=n(590415),I=n(433534);let x=a.memo(function(e){let{guildId:t,channelId:n,user:a,isPremium:l,isBlocked:s}=e;return(0,i.jsxs)("div",{className:I.textContainer,children:[s?(0,i.jsx)(d.DenyIcon,{size:"lg",className:I.blockedIcon,color:u.Z.unsafe_rawColors.RED_400.css}):null,(0,i.jsx)(d.Text,{className:I.text,variant:"text-sm/normal",color:"header-primary",children:g.ZP.getName(t,n,a)}),l?(0,i.jsx)(E.Z,{className:I.boost,color:u.Z.unsafe_rawColors.GUILD_BOOSTING_PINK.css}):null]})}),T=a.memo(function(e){var t;let{participant:n,guildId:a,channel:l,isPremium:r}=e,{user:o,blocked:c,rtsState:u}=n,h=u===C.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,p=u===C.xO.REQUESTED_TO_SPEAK||h;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:I.avatarContainer,children:[p&&(0,i.jsx)(d.HandRequestSpeakIcon,{size:"md",color:"currentColor",className:s()(I.icon,{[I.invited]:h})}),(0,i.jsx)("img",{src:null!==(t=o.getAvatarURL(l.guild_id,56,!1))&&void 0!==t?t:void 0,alt:o.username,"aria-label":o.username,className:s()(I.avatar,{[I.faded]:c})})]}),(0,i.jsx)(x,{guildId:a,channelId:l.id,user:o,isPremium:r,isBlocked:c})]})}),N=()=>(0,i.jsx)("div",{className:I.tileBaseContainer});t.Z=a.memo(function(e){let{participant:t,channel:l}=e,{user:r,blocked:u}=t,E=l.getGuildId(),g=(0,p.bp)(),C=(0,c.e7)([f.ZP],()=>{var e;return null!=E&&(null===(e=f.ZP.getMember(E,r.id))||void 0===e?void 0:e.premiumSince)!=null},[E,r.id]);o()(null!=E,"Channel cannot be guildless");let x=a.useCallback(e=>{(0,h.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("12435"),n.e("47195")]).then(n.bind(n,757387));return t=>(0,i.jsx)(e,{...t,user:r,guildId:E,channel:l,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1})},{context:g})},[r,E,l,g]),N=a.useCallback(e=>(0,i.jsx)(_.Z,{...e,location:"AudienceTile",guildId:E,channelId:l.id,userId:r.id}),[l.id,E,r.id]);return(0,i.jsx)(d.Popout,{preload:()=>(0,m.W)(r,{guildId:l.guild_id,channelId:l.id}),renderPopout:N,position:"right",spacing:8,children:e=>(0,i.jsx)(d.Clickable,{className:s()(I.tileContainer,{[I.singleIcon]:C||u,[I.doubleIcon]:C&&u}),onContextMenu:x,...e,children:(0,i.jsx)(T,{participant:t,guildId:E,channel:l,isPremium:C})})})})},252132:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(27457),l=n(131951),s=n(89032);function r(e){let{aspectRatio:t,blocked:n,channel:r,className:o,focused:c,children:u,inCall:d,inPopout:h,noBorder:p,onClick:m,onContextMenu:_,onDoubleClick:f,onVideoResize:E,paused:g,pulseSpeakingIndicator:C,participant:I,width:x,...T}=e,N=l.Z.getVideoComponent();return(0,i.jsx)("div",{style:{width:x},className:s.spaceBetweenTiles,children:(0,i.jsxs)("div",{className:s.tileSizer,style:{aspectRatio:t},children:[(0,i.jsx)(a.ZP,{blocked:n,channel:r,className:o,focused:c,inCall:d,inPopout:h,noBorder:p,onClick:m,onContextMenu:_,onDoubleClick:f,onVideoResize:E,participant:I,paused:g,pulseSpeakingIndicator:C,videoComponent:N,width:x,...T}),u]})})}},939863:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(689938),r=n(620725),o=n(296507),c=n(866402);function u(e){let{className:t,children:n}=e;return(0,i.jsxs)("div",{className:l()(r.container,t),children:[(0,i.jsx)("img",{alt:s.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:c,className:l()(r.sparkleIcon,r.sparkleBottom)}),n,(0,i.jsx)("img",{alt:s.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:o,className:l()(r.sparkleIcon,r.sparkleTop)})]})}},248400:function(e,t,n){var i=n(735250);n(470079);var a=n(692547),l=n(481060),s=n(311888),r=n(689938),o=n(579605);t.Z=()=>(0,i.jsx)(l.Tooltip,{text:r.Z.Messages.STAGE_MODERATOR_TOOLTIP,children:e=>(0,i.jsx)("div",{...e,className:o.container,children:(0,i.jsx)(s.Z,{color:a.Z.unsafe_rawColors.WHITE_500.css})})})},618896:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(481060),l=n(939863),s=n(318672);function r(e){let{className:t}=e;return(0,i.jsx)(l.Z,{className:t,children:(0,i.jsx)("div",{className:s.background,children:(0,i.jsx)(a.StageIcon,{size:"custom",color:"currentColor",className:s.foreground,width:32,height:32})})})}},592473:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(772848),o=n(481060),c=n(871499),u=n(689938),d=n(958482);function h(e){let{width:t=24,height:n=24,isBadged:l=!1}=e,[s]=a.useState(()=>(0,r.Z)()),c=(0,o.useRedesignIconContext)().enabled;return(0,i.jsxs)("svg",{width:t,height:n,viewBox:"0 0 24 24",children:[(0,i.jsx)("defs",{children:(0,i.jsxs)("mask",{id:s,children:[(0,i.jsx)("rect",{fill:"white",width:"100%",height:"100%"}),l&&(0,i.jsx)("circle",{cx:"20",cy:"19",r:"10",fill:"black"})]})}),c?(0,i.jsx)("g",{mask:"url(#".concat(s,")"),children:(0,i.jsx)(o.HandRequestSpeakListIcon,{})}):(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M20.53 7.76998C20.455 7.60998 20.31 7.48998 20.135 7.44498C20.075 7.42832 20.0106 7.41165 19.9462 7.39498L19.85 7.36998C19.305 7.22998 18.635 7.56498 18.35 8.11498L17.37 9.99998C17.085 10.55 16.725 10.51 16.57 9.90998L14.395 1.38498C14.24 0.779981 13.64 0.459981 13.05 0.664981C12.46 0.869981 12.095 1.52498 12.225 2.13498L13.495 7.95998C13.63 8.56998 13.575 9.11498 13.375 9.18498C13.175 9.25498 12.85 8.83498 12.65 8.24498L10.55 2.07498C10.35 1.48498 9.71004 1.17498 9.12004 1.37998C8.53004 1.58498 8.21504 2.22998 8.41004 2.81998L10.47 8.99998C10.665 9.58998 10.665 10.125 10.465 10.195C10.265 10.265 9.88504 9.86498 9.62504 9.29998L7.27504 4.29998C7.01004 3.73998 6.32004 3.44498 5.73004 3.64998C5.14504 3.85498 4.87504 4.47498 5.14004 5.03998L8.10004 11.045C8.36004 11.61 8.41004 12.125 8.21004 12.195C8.01004 12.265 7.53004 11.93 7.14004 11.445L5.10504 8.82498C4.71504 8.33998 4.04004 8.07498 3.59504 8.22998C3.15504 8.38498 3.04004 8.94498 3.34504 9.48998L5.84504 13.865C5.90004 14.02 7.35504 16.8 7.46004 16.915C8.50004 18.565 10.145 19.51 12.23 18.79L12.96 18.5372V15.84C12.96 14.2494 14.2494 12.96 15.84 12.96H18.3887C18.763 12.143 19.1735 11.2467 19.5492 10.4262L19.5592 10.4045L19.5647 10.3926L19.5648 10.3922L19.5702 10.3804L19.581 10.3569C19.9595 9.53048 20.3003 8.78624 20.53 8.28498C20.605 8.11498 20.605 7.92998 20.53 7.76998ZM11.81 20.51L12.96 20.0792V23.395H11.815L11.185 22.03C11.055 21.75 11.045 21.425 11.165 21.135C11.285 20.845 11.52 20.62 11.81 20.51ZM14.4 16.32C14.4 15.2596 15.2596 14.4 16.32 14.4H22.08C23.1404 14.4 24 15.2596 24 16.32V22.08C24 23.1404 23.1404 24 22.08 24H16.32C15.2596 24 14.4 23.1404 14.4 22.08V16.32ZM16.32 16.56H22.08V17.52H16.32V16.56ZM22.08 18.72H16.32V19.68H22.08V18.72ZM16.32 20.88H22.08V21.84H16.32V20.88Z",mask:"url(#".concat(s,")")})]})}function p(e){let{className:t,numRequestToSpeak:n}=e,a=n>0;return(0,i.jsxs)("div",{className:s()(d.raisedHandIcon,t),children:[(0,i.jsx)(h,{isBadged:a}),a?(0,i.jsx)(o.Text,{className:d.raisedHandCount,variant:"text-xs/semibold",children:n>99?"99+":n}):null]})}function m(e){let{toggleRequestToSpeakSidebar:t,showRequestToSpeakSidebar:n,className:l,numRequestToSpeak:s,onClick:r,...o}=e,d=a.useCallback(()=>{null==r||r(),t()},[r,t]);return(0,i.jsx)(c.Z,{onClick:d,label:n?u.Z.Messages.REQUEST_TO_SPEAK_AREA_CLOSE:u.Z.Messages.REQUEST_TO_SPEAK_AREA_OPEN,className:l,iconComponent:()=>(0,i.jsx)(p,{numRequestToSpeak:s,className:l}),...o})}},153349:function(e,t,n){n.d(t,{Z:function(){return y}}),n(47120);var i,a,l=n(735250),s=n(470079),r=n(120356),o=n.n(r),c=n(512722),u=n.n(c),d=n(442837),h=n(481060),p=n(239091),m=n(99690),_=n(58540),f=n(484459),E=n(103575),g=n(271383),C=n(496675),I=n(158776),x=n(502568),T=n(471253),N=n(431328),v=n(145834),S=n(590415),Z=n(614173),A=n(618896),M=n(231338),b=n(689938),R=n(944759);let j=s.memo(function(e){let{toggleRequestToSpeakSidebar:t,chatOpen:n}=e,i=(0,l.jsx)(x.ZP.Icon,{icon:h.CloseSmallIcon,tooltip:b.Z.Messages.CLOSE,onClick:t});return(0,l.jsxs)(x.ZP,{toolbar:i,className:o()(R.headerContainer,{[R.chatOpen]:n}),children:[(0,l.jsx)(x.ZP.Icon,{icon:h.HandRequestSpeakIcon,disabled:!0,"aria-label":b.Z.Messages.REQUEST_TO_SPEAK_AREA_TITLE}),(0,l.jsx)(x.ZP.Title,{children:b.Z.Messages.REQUEST_TO_SPEAK_AREA_TITLE})]})}),L=s.memo(function(e){let{channel:t,participant:i,tempDisableOnInit:a=!1}=e,[r,c]=s.useState(a);s.useEffect(()=>{if(!r)return;let e=setTimeout(()=>c(!1),1e3);return()=>clearTimeout(e)},[]);let C=t.getGuildId();u()(null!=C,"Channel cannot be guildless");let{isMobile:x,status:N}=(0,d.cj)([I.Z],()=>({isMobile:I.Z.isMobileOnline(i.user.id),status:I.Z.getStatus(i.user.id,C)})),Z=(0,d.e7)([g.ZP],()=>g.ZP.getMember(C,i.user.id)),A=s.useMemo(()=>({[C]:[i.user.id]}),[C,i.user.id]);(0,_.$)(A);let M=i.rtsState===S.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;function j(){(0,T.DT)(t,i.user.id,!1)}function L(){(0,T.DT)(t,i.user.id,!0)}let P=e=>{(0,p.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("12435"),n.e("47195")]).then(n.bind(n,757387));return n=>(0,l.jsx)(e,{...n,user:i.user,guildId:C,channel:t,showMediaItems:!0})})};return(0,l.jsxs)("div",{className:R.participantRowContainer,children:[(0,l.jsx)(h.Popout,{preload:()=>(0,f.Z)(i.user.id,i.user.getAvatarURL(t.guild_id,80),{guildId:t.guild_id,channelId:t.id}),renderPopout:e=>(0,l.jsx)(E.Z,{...e,location:"RequestToSpeakSidebar",userId:i.user.id,guildId:C,channelId:t.id}),position:"left",spacing:16,children:e=>{var t;return(0,l.jsxs)(h.Clickable,{className:R.participantMemberContainer,onContextMenu:P,...e,children:[(0,l.jsx)(m.Z,{size:h.AvatarSizes.SIZE_40,className:R.participantAvatar,user:i.user,isMobile:x,status:N}),(0,l.jsxs)("div",{className:R.participantTextContainer,children:[(0,l.jsx)(h.NameWithRole,{name:i.userNick,color:null!==(t=null==Z?void 0:Z.colorString)&&void 0!==t?t:void 0,className:R.participantName}),(0,l.jsx)(h.Text,{variant:"text-xs/normal",color:"header-secondary",children:(0,v.$)(i)})]})]})}}),(0,l.jsx)(h.Tooltip,{text:M?b.Z.Messages.REQUEST_TO_SPEAK_INVITATION_SEND:b.Z.Messages.REQUEST_TO_SPEAK_ACCEPT,children:e=>(0,l.jsx)(h.Button,{...e,innerClassName:R.buttonContainer,look:h.Button.Looks.BLANK,size:h.Button.Sizes.NONE,onClick:j,disabled:M||r,children:(0,l.jsx)(h.MicrophoneArrowRightIcon,{size:"xs",color:"currentColor"})})}),(0,l.jsx)(h.Tooltip,{text:b.Z.Messages.REQUEST_TO_SPEAK_DECLINE,children:e=>(0,l.jsx)(h.Button,{...e,innerClassName:o()(R.buttonContainer,R.buttonMargin),look:h.Button.Looks.BLANK,size:h.Button.Sizes.NONE,onClick:L,children:(0,l.jsx)(h.CloseSmallIcon,{size:"xs",color:"currentColor"})})})]})}),P=s.memo(function(e){let{channel:t}=e,[n,i]=(0,Z.h)(t.id);return(0,l.jsx)(h.FormSwitch,{className:R.toggle,onChange:i,value:n,children:b.Z.Messages.MODERATOR_ALLOW_EVERYONE_RAISE_HAND})}),O=s.memo(function(){return(0,l.jsxs)("div",{className:R.emptyStateContainer,children:[(0,l.jsx)(A.Z,{}),(0,l.jsx)(h.Text,{className:R.emptyStateTitle,variant:"text-lg/semibold",color:"header-primary",children:b.Z.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_TITLE}),(0,l.jsx)(h.Text,{className:R.emptyStateBody,variant:"text-sm/normal",color:"header-secondary",children:b.Z.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_BODY})]})});function y(e){let{channel:t,toggleRequestToSpeakSidebar:n,chatOpen:i}=e,a=(0,N.Fd)(t.id),s=[(0,d.e7)([C.Z],()=>C.Z.can(M.Pl.MANAGE_CHANNELS,t)||C.Z.can(M.Pl.MANAGE_ROLES,t))?1:0,Math.max(1,a.length)];return(0,l.jsxs)("div",{className:o()(R.container,{[R.chatOpen]:i}),children:[(0,l.jsx)(j,{toggleRequestToSpeakSidebar:n,chatOpen:i}),(0,l.jsx)(h.List,{className:R.contentContainer,sections:s,sectionHeight:function(e){if(1===e)return 40;return 0},rowHeight:function(e){switch(e){case 0:return 66;case 1:if(0===a.length)return 178;return 48}return 0},renderRow:function(e){let{section:n,row:i}=e;switch(n){case 0:return(0,l.jsx)(P,{channel:t},"rts-toggle");case 1:{if(0===a.length)return(0,l.jsx)(O,{},"participants-empty");let e=a[i];return(0,l.jsx)(L,{channel:t,participant:e,tempDisableOnInit:!0},e.id)}}return null},renderSection:function(e){let{section:t}=e;if(1===t)return(0,l.jsx)(h.Text,{className:R.listTitle,variant:"text-xs/bold",color:"header-secondary",children:a.length>0?b.Z.Messages.REQUEST_TO_SPEAK_LIST_TITLE.format({numHands:a.length}):b.Z.Messages.REQUEST_TO_SPEAK_AREA_TITLE},"participants-section");return null}})]})}(a=i||(i={}))[a.TOGGLE_REQUEST_TO_SPEAK=0]="TOGGLE_REQUEST_TO_SPEAK",a[a.PARTICIPANTS=1]="PARTICIPANTS"},504185:function(e,t,n){n.d(t,{Z:function(){return er}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(392711),o=n(442837),c=n(433517),u=n(481060),d=n(570140),h=n(393238),p=n(40851),m=n(100527),_=n(906732),f=n(358221),E=n(414910),g=n(909820),C=n(493010),I=n(788983),x=n(928518),T=n(703656),N=n(493754),v=n(880831),S=n(73563),Z=n(800965),A=n(107169),M=n(891551),b=n(314897),R=n(979696),j=n(430824),L=n(496675),P=n(944486),O=n(358085),y=n(792125),D=n(998502),k=n(922482),U=n(431328),w=n(501655),B=n(427679),H=n(513449),G=n(153349),V=n(901434),F=n(302270),W=n(308177),z=n(700483),Y=n(686468),K=n(801405),q=n(903108),X=n(981631),Q=n(354459),J=n(689938),$=n(607176);let ee="HasBeenInStageChannel",et=(e,t)=>()=>{let n=e.getGuildId();null!=n&&null!=t&&(0,T.XU)(n,t),I.hP(e)},en=()=>{d.Z.wait(()=>I.xv(X.KJ3.CHANNEL_CALL_POPOUT))},ei=e=>{I.hY(X.KJ3.CHANNEL_CALL_POPOUT,e)};function ea(e){let{channel:t,appContext:n,popoutOpen:l,popoutWindow:s,popoutWindowAlwaysOnTop:r,selectedParticipant:c}=e,u=t.getGuildId(),d=(0,o.e7)([P.Z],()=>P.Z.getMostRecentSelectedTextChannelId(u),[u]),h=b.default.getId(),p=!(0,o.e7)([f.Z],()=>f.Z.isFullscreenInContext(n))&&(!O.isPlatformEmbedded||O.isPlatformEmbedded&&D.ZP.supportsFeature(X.eRX.POPOUT_WINDOWS)),m=null!=c&&c.type!==Q.fO.ACTIVITY&&c.user.id!==h,_=a.useMemo(()=>{var e;return null!==(e=null==s?void 0:s.window)&&void 0!==e?e:window},[s]),g=(0,K.Z)({channel:t,appContext:n,popoutOpen:l,popoutWindow:s,currentWindow:_}),C=n===X.IlC.POPOUT&&O.isPlatformEmbedded&&D.ZP.supportsFeature(X.eRX.POPOUT_WINDOWS);return(0,i.jsxs)(i.Fragment,{children:[m?(0,i.jsx)(M.Z,{context:(0,E.Z)(c.type),userId:c.user.id,currentWindow:_,sliderClassName:$.volumeSlider}):null,C?(0,i.jsx)(A.Z,{className:$.rightTrayIcon,popoutWindowAlwaysOnTop:r,onToggleStayOnTop:ei}):null,p?(0,i.jsx)(Z.Z,{className:$.rightTrayIcon,popoutOpen:l,onOpenPopout:et(t,d),onClosePopout:en}):null,g]})}function el(e){let{channel:t}=e,n=(0,p.bp)(),a=(0,o.e7)([L.Z],()=>L.Z.can(X.Plq.CREATE_INSTANT_INVITE,t)),l=(0,o.e7)([j.Z],()=>j.Z.getGuild(t.guild_id)),s=(0,o.e7)([B.Z],()=>B.Z.getStageInstanceByChannel(t.id)),r=a||(null==s?void 0:s.invite_code)!=null;return null!=l&&r?(0,i.jsx)(N.Z,{channel:t,appContext:n,className:$.__invalid_leftTrayIcon,analyticsLocation:X.ZY5.GUILD_CHANNEL}):null}function es(e){let t,{channel:n,toggleRequestToSpeakSidebar:l,showRequestToSpeakSidebar:c,popoutWindow:u,popoutWindowAlwaysOnTop:d,popoutOpen:h,chatOpen:m}=e,_=(0,p.bp)(),E=(0,o.e7)([P.Z],()=>P.Z.getVoiceChannelId()===n.id,[n.id]),C=(0,o.e7)([L.Z],()=>L.Z.can(X.Plq.CONNECT,n)),I=(0,U.w8)(n.id,w.pV.SPEAKER),x=(0,o.e7)([f.Z],()=>f.Z.getSelectedParticipant(n.id)),T=h&&_!==X.IlC.POPOUT,[N,Z]=a.useState(0),{isOnStartStageScreen:A}=(0,H.ZP)();(0,H.MV)(n);let M=(0,o.e7)([R.Z],()=>R.Z.getToastsEnabled(n.id)),b=(0,q.Z)(n)?null!=x?"84px":"124px":null!=x?"0px":"48px";return t=A?(0,i.jsx)(Y.Z,{channel:n,onContinueClick:()=>{(0,H.Ku)(!1),!E&&(0,k.TM)(n)}}):E?(0,i.jsx)(W.Z,{channel:n,onScroll:e=>{let{scrollTop:t}=e.target;(0,r.debounce)(()=>Z(t),1e3,{leading:!0})()}}):(0,i.jsx)(V.Z,{participants:I,channel:n,hasConnectPermission:C}),(0,i.jsx)(S.Z,{style:{height:"calc(100% - ".concat(b,")"),paddingTop:b},disableGradients:0===N&&S.e.TOP,renderBottomLeft:()=>(0,i.jsx)(el,{channel:n}),renderBottomCenter:()=>E?(0,i.jsx)(z.Z,{channel:n,isOnStartStageScreen:A}):null,renderBottomRight:()=>E?(0,i.jsx)(ea,{channel:n,appContext:_,popoutOpen:h,popoutWindow:u,popoutWindowAlwaysOnTop:d,selectedParticipant:x}):null,renderHeader:()=>(0,i.jsx)(F.Z,{inPopout:_===X.IlC.POPOUT,toggleRequestToSpeakSidebar:l,showRequestToSpeakSidebar:c,channel:n}),renderChatToasts:()=>!M||m||T?null:(0,i.jsx)(g.ZP,{children:(0,i.jsx)(v.Z,{className:s()($.chatToasts,{[$.rtsSidebarOpen]:c}),channelId:n.id})}),onActive:()=>{},onPreventIdle:()=>{},onAllowIdle:()=>{},onForceIdle:()=>{},screenMessage:T?{mainText:J.Z.Messages.POPOUT_PLAYER_OPENED}:null,idle:!1,children:!T&&t})}function er(e){let{channel:t}=e,[l,r]=a.useState(!1),d=a.useCallback(()=>{r(!l)},[l,r]),{popoutWindow:E,popoutWindowAlwaysOnTop:I}=(0,o.cj)([x.Z],()=>({popoutWindow:x.Z.getWindow(X.KJ3.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:x.Z.getIsAlwaysOnTop(X.KJ3.CHANNEL_CALL_POPOUT)})),T=null!=E&&!E.closed,{analyticsLocations:N}=(0,_.ZP)(m.Z.STAGE_CHANNEL_CALL),v=(0,p.bp)(),S=(0,o.e7)([f.Z],()=>f.Z.getChatOpen(t.id),[t.id]),Z=(0,o.e7)([j.Z],()=>j.Z.getGuild(t.guild_id),[t.guild_id]);a.useEffect(()=>{null==c.K.get(ee)&&((0,u.openModalLazy)(async()=>{let{default:e}=await n.e("37194").then(n.bind(n,947422));return t=>(0,i.jsx)(e,{...t})}),c.K.set(ee,Date.now()))},[]);let{width:A=0,ref:M}=(0,h.Z)();return(0,i.jsx)(_.Gt,{value:N,children:(0,i.jsxs)(g.B2,{children:[(0,i.jsxs)("div",{className:$.container,ref:M,children:[(0,i.jsx)("div",{className:s()($.callContainer,(0,y.Q)(X.BRd.DARK),{[$.sidebarVisible]:l,[$.sidebarOrChatVisible]:l||S}),children:(0,i.jsx)(es,{channel:t,toggleRequestToSpeakSidebar:d,showRequestToSpeakSidebar:l,popoutWindow:E,popoutWindowAlwaysOnTop:I,popoutOpen:T,chatOpen:S})}),l?(0,i.jsx)(G.Z,{channel:t,toggleRequestToSpeakSidebar:d,chatOpen:S}):null,(0,i.jsx)("div",{className:$.channelChatWrapper,children:S&&(!T||T&&v===X.IlC.POPOUT)&&(0,i.jsx)(C.Z,{channel:t,guild:Z,maxWidth:A-550})})]}),(0,i.jsx)(g.H_,{})]})})}},901434:function(e,t,n){var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(287734),o=n(358221),c=n(305325),u=n(281956),d=n(27457),h=n(823379),p=n(5192),m=n(501655),_=n(689938),f=n(679386);let E=(e,t)=>p.ZP.getName(e.getGuildId(),e.id,t.user);t.Z=function(e){var t,n;let{participants:p,channel:g,hasConnectPermission:C}=e,I=(0,u.J)(g.guild_id),x=a.useCallback(()=>{I?(0,c.hk)(g.guild_id,()=>r.default.selectVoiceChannel(g.id)):r.default.selectVoiceChannel(g.id)},[g.id,g.guild_id,I]),T=p.filter(e=>e.type===m.Ui.VOICE),N=4===T.length?2:3,v=(0,l.Wu)([o.Z],()=>T.map(e=>o.Z.getParticipant(g.id,e.id)).filter(h.lm),[g.id,T]);return(0,i.jsxs)("div",{className:f.container,children:[(0,i.jsx)("div",{className:f.tiles,style:{maxWidth:168*N},children:v.slice(0,5).map(e=>(0,i.jsx)(d.ZP,{participant:e,channel:g,className:f.tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id))}),(0,i.jsx)(s.Heading,{className:f.channelName,variant:"heading-xxl/semibold",children:g.name}),(0,i.jsx)("div",{className:f.participantsRow,children:(0,i.jsx)(s.Text,{color:"header-secondary",variant:"text-sm/normal",children:(t=g,0===(n=T).length?_.Z.Messages.CURRENTLY_IN_STAGE_EMPTY:1===n.length?_.Z.Messages.CURRENTLY_IN_STAGE_1.format({a:E(t,n[0])}):2===n.length?_.Z.Messages.CURRENTLY_IN_STAGE_2.format({a:E(t,n[0]),b:E(t,n[1])}):n.length>2?_.Z.Messages.CURRENTLY_IN_STAGE_2_N.format({a:E(t,n[0]),b:E(t,n[1]),n:n.length-2}):void 0)})}),(0,i.jsx)(s.Button,{disabled:!C,className:f.joinButton,color:C?s.Button.Colors.GREEN:s.Button.Colors.PRIMARY,onClick:x,size:s.Button.Sizes.MEDIUM,children:C?_.Z.Messages.STAGE_CHANNEL_JOIN:_.Z.Messages.CHANNEL_LOCKED_SHORT})]})}},302270:function(e,t,n){n.d(t,{Z:function(){return H}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(692547),c=n(481060),u=n(475179),d=n(40851),h=n(358221),p=n(933557),m=n(320007),_=n(236091),f=n(623624),E=n(984370),g=n(141321),C=n(618158),I=n(390322),x=n(616286),T=n(961048),N=n(430824),v=n(496675),S=n(502568),Z=n(626135),A=n(792125),M=n(431328),b=n(501655),R=n(200498),j=n(146085),L=n(427679),P=n(592473),O=n(831002),y=n(903108),D=n(981631),k=n(474936),U=n(689938),w=n(688818);function B(e){let{inPopout:t,channel:n,toggleRequestToSpeakSidebar:l,showRequestToSpeakSidebar:o}=e,p=(0,d.bp)(),f=(0,r.e7)([h.Z],()=>h.Z.getChatOpen(n.id)),E=(0,R.B)(n.id),N=(0,M.Rk)(n.id,b.pV.REQUESTED_TO_SPEAK_ONLY),{preventIdle:v,allowIdle:S}=(0,C.Y)("popup");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(_.Z,{channelId:n.id},"clips-enabled-indicator"),(0,i.jsx)(c.Popout,{position:"bottom",animation:c.Popout.Animation.NONE,align:"right",renderPopout:e=>(0,i.jsx)(I.Z,{children:(0,i.jsx)(O.Z,{...e,channelId:n.id,appContext:p})}),autoInvert:!1,children:(e,t)=>{let{isShown:n}=t;return(0,a.createElement)(T.Z,{...e,key:"more-options",isActive:n,className:w.button,iconClassName:w.buttonIcon})}},"more-options-popout"),!t&&(0,i.jsx)(m.Z,{className:w.button},"clips"),(0,i.jsx)(g.Z,{onOpen:v,onClose:S,className:w.button},"recents"),!o&&E?(0,i.jsx)("div",{className:w.button,children:(0,i.jsx)(P.Z,{toggleRequestToSpeakSidebar:()=>{f&&u.Z.updateChatOpen(n.id,!1),l()},showRequestToSpeakSidebar:o,numRequestToSpeak:N})}):null,!f&&(0,i.jsx)("div",{className:s()(w.button,{[w.sidebarOpen]:o}),children:(0,i.jsx)(x.T,{channelId:n.id,showRequestToSpeakSidebar:o,toggleRequestToSpeakSidebar:l,iconClassName:w.buttonIcon})})]})}function H(e){var t,n;let{inPopout:l,channel:d,toggleRequestToSpeakSidebar:h,showRequestToSpeakSidebar:m}=e,_=(0,p.ZP)(d),g=(0,r.e7)([L.Z],()=>L.Z.getStageInstanceByChannel(d.id)),C=(0,M.Io)(d.id),I=(0,M.Rk)(d.id,b.pV.AUDIENCE),x=(0,r.e7)([N.Z],()=>N.Z.getGuild(d.guild_id),[d.guild_id]),T=null!==(t=null==x?void 0:x.maxStageVideoChannelUsers)&&void 0!==t?t:0,R=(null==x?void 0:x.isCommunity())?T<D.TU7:(null==x?void 0:x.premiumTier)!==D.Eu4.TIER_3&&T<=D.eez,P=(0,y.Z)(d),O=(0,r.e7)([v.Z],()=>v.Z.can(j.yP,d)),H=()=>{u.Z.updateStageVideoLimitBoostUpsellDismissed(d.id,!0),Z.default.track(D.rMx.BOOSTING_UPSELL_CLICKED,{guild_id:d.guild_id,type:k.cd.VIDEO_STAGE_LIMIT,is_moderator:O,action:k.T7.DISMISS})};a.useEffect(()=>{P&&Z.default.track(D.rMx.BOOSTING_UPSELL_VIEWED,{guild_id:d.guild_id,type:k.cd.VIDEO_STAGE_LIMIT,is_moderator:O,listener_count:C+I})},[P]);let V=(0,i.jsxs)(S.ZP,{toolbar:(0,i.jsx)(B,{inPopout:l,toggleRequestToSpeakSidebar:h,showRequestToSpeakSidebar:m,channel:d}),onDoubleClick:E.O,transparent:!0,className:s()((0,A.Q)(D.BRd.DARK),w.participants),children:[(0,i.jsx)(S.ZP.Icon,{icon:c.StageIcon,disabled:!0,"aria-label":U.Z.Messages.STAGE_CHANNEL,className:w.icon,color:null!=g?o.Z.unsafe_rawColors.GREEN_360.css:void 0}),(0,i.jsx)(S.ZP.Title,{className:w.channelName,wrapperClassName:w.channelNameWrapper,children:null!==(n=null==g?void 0:g.topic)&&void 0!==n?n:_}),(0,i.jsx)(S.ZP.Divider,{className:w.divider}),(0,i.jsxs)(S.ZP.Title,{children:[(0,i.jsx)(c.MicrophoneIcon,{size:"xs",color:"currentColor"}),(0,i.jsx)(c.Text,{variant:"text-xs/medium",color:"header-secondary",className:w.speakerCount,children:U.Z.Messages.SPEAKING_COUNT.format({count:C})}),(0,i.jsx)(c.GroupIcon,{size:"xs",color:"currentColor"}),(0,i.jsx)(c.Text,{variant:"text-xs/medium",color:"header-secondary",className:w.speakerCount,children:U.Z.Messages.LISTENING_COUNT.format({count:I})})]})]});return P?(0,i.jsxs)("div",{children:[V,(0,i.jsxs)("div",{className:w.boostUpsell,children:[(0,i.jsx)(G,{}),(0,i.jsxs)("div",{className:w.text,children:[(0,i.jsx)(c.Text,{variant:"text-md/medium",color:"header-primary",children:R?U.Z.Messages.STAGE_FULL_MODERATOR_TITLE:U.Z.Messages.STAGE_FULL_MODERATOR_MAX_TITLE}),(0,i.jsx)(c.Text,{variant:"text-xs/medium",color:"text-normal",children:R?U.Z.Messages.STAGE_FULL_MODERATOR_BODY:U.Z.Messages.STAGE_FULL_MAX_BODY})]}),(0,i.jsx)("div",{className:w.buttons,children:R?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Button,{className:w.notNowButton,onClick:H,look:c.Button.Looks.BLANK,size:c.Button.Sizes.SMALL,children:U.Z.Messages.NOT_NOW}),(0,i.jsx)(c.ShinyButton,{size:c.Button.Sizes.SMALL,onClick:()=>{(0,f.f)({guildId:d.guild_id,location:{section:D.jXE.STAGE_VIDEO_LIMIT}}),Z.default.track(D.rMx.BOOSTING_UPSELL_CLICKED,{guild_id:d.guild_id,type:k.cd.VIDEO_STAGE_LIMIT,is_moderator:O,action:k.T7.BOOST})},className:w.boostButton,children:U.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION})]}):(0,i.jsx)(c.Button,{className:w.notNowButton,onClick:H,look:c.Button.Looks.BLANK,size:c.Button.Sizes.SMALL,children:U.Z.Messages.DISMISS})})]})]}):V}function G(){return(0,i.jsxs)("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_595_59940)",children:[(0,i.jsx)("path",{d:"M36 18C36 19.8 33.075 21.15 32.625 22.725C32.175 24.3 33.525 27.225 32.625 28.575C31.725 29.925 28.35 29.25 27 30.375C25.65 31.5 25.2 34.425 23.625 35.1C22.05 35.775 19.8 33.3 18 33.3C16.2 33.3 13.95 35.55 12.375 35.1C10.8 34.65 10.35 31.275 9 30.375C7.65 29.475 4.5 29.925 3.375 28.575C2.25 27.225 3.825 24.525 3.375 22.725C2.925 20.925 0 19.8 0 18C0 16.2 2.925 14.85 3.375 13.275C3.825 11.7 2.475 8.77497 3.375 7.42496C4.275 6.07497 7.65 6.74997 9 5.62497C10.35 4.49997 10.8 1.57497 12.375 0.899965C13.95 0.224965 16.2 2.69997 18 2.69997C19.8 2.69997 22.05 0.449965 23.625 0.899965C25.2 1.34997 25.65 4.49997 27 5.62497C28.35 6.74997 31.5 6.07497 32.625 7.42496C33.75 8.77497 32.175 11.475 32.625 13.275C33.075 15.075 36 16.2 36 18Z",fill:"url(#paint0_linear_595_59940)"}),(0,i.jsx)("path",{d:"M15.75 20.7001L18 22.9501L20.25 20.7001V15.3001L18 13.0501L15.75 15.3001V20.7001Z",fill:"white"}),(0,i.jsx)("path",{d:"M18 6.75L11.25 13.5V22.5L18 29.25L24.75 22.5V13.5L18 6.75ZM22.5 21.6L18 26.1L13.5 21.6V14.4L18 9.9L22.5 14.4V21.6Z",fill:"white"})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"paint0_linear_595_59940",x1:"2.4046e-06",y1:"35.2166",x2:"35.7182",y2:"-1.45185",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#3E70DD"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#B377F3"})]}),(0,i.jsx)("clipPath",{id:"clip0_595_59940",children:(0,i.jsx)("rect",{width:"36",height:"36",fill:"white"})})]})]})}},831002:function(e,t,n){n.d(t,{Z:function(){return v}});var i=n(735250);n(470079);var a=n(512722),l=n.n(a),s=n(442837),r=n(481060),o=n(40851),c=n(358221),u=n(431368),d=n(167675),h=n(418469),p=n(673539),m=n(218035),_=n(775666),f=n(423589),E=n(592125),g=n(496675),C=n(881824),I=n(146085),x=n(427679),T=n(354459),N=n(689938);function v(e){let{channelId:t,closePopout:n,appContext:a,onSelect:v}=e,S=(0,s.e7)([c.Z],()=>c.Z.getSelectedParticipant(t)),Z=(null==S?void 0:S.type)===T.fO.STREAM?S.stream:null,A=(0,p.Z)(t);return(0,i.jsxs)(r.Menu,{navId:"stage-channel-call-overflow-popout",onClose:n,"aria-label":N.Z.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,onSelect:v,children:[function(e){let t=(0,s.e7)([E.Z],()=>E.Z.getChannel(e),[e]),n=(0,s.e7)([g.Z],()=>g.Z.can(I.yP,t)),a=(0,s.e7)([x.Z],()=>x.Z.getStageInstanceByChannel(e),[e]),l=(0,o.bp)(),c=()=>null!=t&&(0,C.T)(t,l);return(null==t?void 0:t.isGuildStageVoice())&&n?null!=a?(0,i.jsx)(r.MenuItem,{id:"edit-stage",label:N.Z.Messages.EDIT_STAGE_SUBTITLE,action:c}):(0,i.jsx)(r.MenuItem,{id:"start-stage",label:N.Z.Messages.STAGE_CHANNEL_START_TITLE,action:c}):null}(t),function(e){let t=(0,s.e7)([E.Z],()=>E.Z.getChannel(e),[e]);l()(null!=t,"useNotificationSettingsItem: channel cannot be undefined");let n=(0,f.Mn)("StageChannelCallOverflowMenu"),i=(0,_.ZP)(t),a=(0,m.Z)(t);return n?i:a}(t),(0,d.Z)(),(0,u.Z)(t),A,(0,h.Z)(Z,a)]})}},308177:function(e,t,n){n(47120);var i,a,l=n(735250),s=n(470079),r=n(442837),o=n(112724),c=n(358221),u=n(565799),d=n(431328),h=n(501655),p=n(27931),m=n(260979),_=n(766015),f=n(401139),E=n(12779),g=n(450369),C=n(689938),I=n(310808);let x=424,T=624,N=824;(a=i||(i={}))[a.SELECTED=0]="SELECTED",a[a.SPEAKER=1]="SPEAKER",a[a.AUDIENCE=2]="AUDIENCE";let v=(e,t)=>{let n=Math.floor(e/t-8),i=Math.floor(n/g.Q);return{speakerTileWidth:n,speakerTileHeight:i}},S=(e,t)=>e<x?1:e<T?2:e<N?3:t?3:4,Z=e=>Math.floor((e-32)/102);function A(e){return e.type===h.Ui.VOICE}t.Z=(0,o.Z)(e=>{var t,n;let{channel:i,width:a,onScroll:o}=e,{selectedParticipantId:x,largeStream:T,chatOpen:N}=(0,r.cj)([c.Z],()=>({selectedParticipantId:c.Z.getSelectedParticipantId(i.id),largeStream:c.Z.getStageStreamSize(i.id),chatOpen:c.Z.getChatOpen(i.id)}),[i.id]),M=(0,d.Io)(i.id),b=(0,d.Rk)(i.id,h.pV.AUDIENCE),R=(0,r.e7)([u.Z],()=>null!=x?u.Z.getParticipant(i.id,x):null),j=(0,d.w8)(i.id,h.pV.SPEAKER),L=j.filter(A),P=null!=j.find(e=>e.type===h.Ui.STREAM),O=Z(a),y=S(a,N),D={[h.pV.SPEAKER]:y,[h.pV.AUDIENCE]:O,[h.pV.SELECTED]:1},k=(0,p.Dx)(i.id),[U,w]=(0,p.aP)(i.id,D,k),B=[Math.max(null!==(t=U[0])&&void 0!==t?t:1,1),Math.max(null!==(n=U[1])&&void 0!==n?n:1,1),U[2]],{speakerTileWidth:H,speakerTileHeight:G}=v(a,y),V=T?a-32:Math.min(a-64,3*H+8),F=e=>e===U.length-1||0===b&&1===e,[W,z]=s.useState(!1),[Y,K]=s.useState(!1);return(0,l.jsx)(_.Z,{sections:B,renderSection:e=>{let{section:t}=e;if(1===t)return 0===M?null:(0,l.jsx)(E.Z,{participantCount:M,label:C.Z.Messages.SPEAKER_LABEL,className:I.header,onClick:()=>z(!W),collapsed:W,speakers:L,channel:i,isStreamLive:P},"speaker-header-".concat(t));if(2===t)return 0===b?null:(0,l.jsx)(E.Z,{participantCount:b,label:C.Z.Messages.AUDIENCE_LABEL,className:I.header,onClick:()=>K(!Y),collapsed:Y,channel:i},"audience-header-".concat(t));return null},sectionHeight:e=>48,renderRow:e=>{let{section:t,row:n}=e,a=w[t][n];if((null==a?void 0:a.length)==null)return null;switch(t){case 0:if(0===a.length||null==a[0])return null;return(0,l.jsx)("div",{className:I.focusedRow,children:(0,l.jsx)(g.Z,{channel:i,participant:a[0],width:V})},"selected-participant");case 1:if(W)return null;return(0,l.jsx)(s.Fragment,{children:(0,l.jsx)(f.Z,{tileWidth:H,channel:i,participants:a,selectedParticipant:R})},"speakers-".concat(t,"-").concat(n));case 2:if(Y)return null;return(0,l.jsx)(m.Z,{channel:i,participants:a,maxTiles:O},"audience-".concat(t,"-").concat(n));default:return null}},rowHeight:e=>null==w[e][0]?0:0===e?V/g.Q+8:1===e?W?0:G:Y?0:98,renderFooter:e=>{let{section:t}=e;return F(t)?(0,l.jsx)("div",{className:I.spacer},"bottom-spacer"):null},footerHeight:e=>1===e?8:0===e?12:F(e)?88:0,className:I.scroller,chunkSize:60,onScroll:o})})},700483:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(287734),u=n(40851),d=n(358221),h=n(659580),p=n(793865),m=n(575175),_=n(258609),f=n(74299),E=n(924301),g=n(459502),C=n(856691),I=n(889161),x=n(923973),T=n(829750),N=n(189771),v=n(294629),S=n(793319),Z=n(560688),A=n(390322),M=n(871499),b=n(386e3),R=n(25827),j=n(314897),L=n(131951),P=n(496675),O=n(944486),y=n(594174),D=n(881824),k=n(471253),U=n(922482),w=n(200498),B=n(146085),H=n(88751),G=n(427679),V=n(71275),F=n(600518),W=n(485287),z=n(754277),Y=n(719100),K=n(184805),q=n(643632),X=n(270295),Q=n(981631),J=n(689938),$=n(428847);function ee(e){let{channel:t,appContext:n}=e;if((0,Y.Z)(t)){(0,D.Us)(t,n);return}c.default.disconnect()}function et(e){var t,n;let{channel:a}=e,l=(0,K.Z)(a.id),[s,c]=(0,X.Z)(a),u=(0,r.e7)([P.Z],()=>P.Z.can(Q.Plq.REQUEST_TO_SPEAK,a));if(l)return null;return(0,i.jsx)(M.d,{isActive:s,label:(t=s,n=u,t?J.Z.Messages.AUDIENCE_LOWER_HAND:n?J.Z.Messages.AUDIENCE_RAISE_HAND_CTA:J.Z.Messages.AUDIENCE_RAISE_HAND_NO_PERMISSION),iconComponent:()=>(0,i.jsx)(o.HandRequestSpeakIcon,{size:"md",color:"currentColor",className:s?$.raisedHandButtonIconActive:$.raisedHandButtonIcon}),onClick:c,className:$.buttonSpacing,disabled:!u&&!s})}let en=a.memo(function(e){let{channel:t}=e,n=(0,r.e7)([O.Z],()=>O.Z.getVoiceChannelId()===t.id,[t.id]);return(0,i.jsxs)("div",{className:$.container,children:[(0,i.jsx)(es,{channelId:t.id}),n?(0,i.jsx)(et,{channel:t}):null,(0,i.jsx)(ea,{channel:t})]})});function ei(e){let{onClick:t}=e;return(0,i.jsx)(o.Button,{size:o.Button.Sizes.MEDIUM,color:$.primaryButtonColor,className:s()($.buttonSpacing,$.buttonWithTextButton),onClick:t,children:(0,i.jsxs)("div",{className:$.buttonWithTextInnerContainer,children:[(0,i.jsx)(o.MicrophoneArrowRightIcon,{size:"md",color:"currentColor",className:$.buttonWithTextIcon}),(0,i.jsx)(o.Text,{color:"none",variant:"text-sm/medium",children:J.Z.Messages.MODERATOR_RAISE_OWN_HAND})]})})}function ea(e){let{channel:t,onSelect:n}=e,a=(0,u.bp)(),{canManageGuildEvent:l}=(0,I.XJ)(t),c=(0,r.e7)([G.Z],()=>G.Z.getStageInstanceByChannel(t.id),[t.id]),d=(0,r.e7)([E.ZP],()=>E.ZP.getGuildScheduledEvent(null==c?void 0:c.guild_scheduled_event_id)),h=(0,r.e7)([O.Z],()=>O.Z.getVoiceChannelId()===t.id,[t.id]),{suppress:p}=(0,v.Z)(t),m=j.default.getId(),[_]=(0,X.Z)(t),f=H.ZP.isModerator(m,t.id),g=(0,w.B)(t.id),C=l(d);return h?(f||C)&&null!=c?(0,i.jsx)(o.Popout,{renderPopout:e=>{let{closePopout:l}=e;return(0,i.jsx)(A.Z,{children:(0,i.jsx)(o.Menu,{navId:"exit-options","aria-label":J.Z.Messages.SET_STATUS,onClose:l,onSelect:n,children:(0,i.jsx)(o.MenuItem,{id:"end-stage",color:"danger",action:()=>(0,D.Ev)(t,a),label:J.Z.Messages.END_GUILD_EVENT_FOR_EVERYONE,icon:o.CircleXIcon})})})},align:"center",position:"top",animation:o.Popout.Animation.FADE,children:(e,n)=>{let{onClick:l}=e,{isShown:s}=n;return(0,i.jsx)(M.d,{className:$.buttonSpacing,label:J.Z.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:()=>(0,i.jsx)(o.PhoneHangUpIcon,{size:"md",color:"currentColor"}),onClick:()=>ee({channel:t,appContext:a}),onPopoutClick:l,popoutOpen:s})}}):p&&!g||_?(0,i.jsx)(o.Button,{size:o.Button.Sizes.MEDIUM,color:o.Button.Colors.RED,className:s()($.buttonSpacing,$.buttonWithTextButton),onClick:()=>ee({channel:t,appContext:a}),children:(0,i.jsxs)("div",{className:$.buttonWithTextInnerContainer,children:[(0,i.jsx)(o.PhoneHangUpIcon,{size:"md",color:"currentColor",className:$.buttonWithTextIcon}),(0,i.jsx)(o.Text,{color:"none",variant:"text-sm/medium",children:J.Z.Messages.AUDIENCE_DISCONNECT})]})}):(0,i.jsx)(M.d,{className:$.buttonSpacing,label:J.Z.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:()=>(0,i.jsx)(o.PhoneHangUpIcon,{size:"md",color:"currentColor"}),onClick:()=>ee({channel:t,appContext:a})}):(0,i.jsx)(o.Button,{size:o.Button.Sizes.MEDIUM,color:o.Button.Colors.GREEN,className:s()($.buttonSpacing,$.buttonWithTextButton),onClick:()=>{var e;return e=t,void(0,U.TM)(e)},children:(0,i.jsxs)("div",{className:$.buttonWithTextInnerContainer,children:[(0,i.jsx)(o.PhoneCallIcon,{size:"md",color:"currentColor",className:$.buttonWithTextIcon}),(0,i.jsx)(o.Text,{color:"none",variant:"text-sm/medium",children:J.Z.Messages.STAGE_CHANNEL_JOIN})]})})}function el(e){let{onClick:t}=e;return(0,i.jsx)(o.Button,{size:o.Button.Sizes.MEDIUM,color:$.primaryButtonColor,className:s()($.buttonSpacing,$.buttonWithTextButton),onClick:t,children:(0,i.jsxs)("div",{className:$.buttonWithTextInnerContainer,children:[(0,i.jsx)(o.GroupArrowDownIcon,{size:"md",color:"currentColor",className:$.buttonWithTextIcon}),(0,i.jsx)(o.Text,{color:"none",variant:"text-sm/medium",children:J.Z.Messages.MOVE_ME_TO_AUDIENCE})]})})}function es(e){let{channelId:t}=e,n=(0,r.e7)([z.Z],()=>z.Z.isMuted()),a=(0,W.pp)(t),l=(0,r.e7)([z.Z],()=>z.Z.shouldPlay());return a?(0,i.jsx)(M.d,{isActive:n,className:$.buttonSpacing,label:n?J.Z.Messages.STAGE_MUSIC_UNMUTE:J.Z.Messages.STAGE_MUSIC_MUTE,iconComponent:()=>n?(0,i.jsx)(o.MusicSlashIcon,{size:"md",color:"currentColor"}):(0,i.jsx)(o.MusicIcon,{size:"md",color:"currentColor"}),onClick:()=>(0,F.v)(!n)}):(0,i.jsx)(M.d,{isActive:l,className:$.buttonSpacing,label:l?J.Z.Messages.STAGE_MUSIC_MUTE:J.Z.Messages.STAGE_MUSIC_UNMUTE,iconComponent:()=>l?(0,i.jsx)(o.MusicIcon,{size:"md",color:"currentColor"}):(0,i.jsx)(o.MusicSlashIcon,{size:"md",color:"currentColor"}),onClick:()=>(0,F.z)(!l)})}let er=a.memo(function(e){let{channel:t}=e,{suppress:n,selfMute:a,mute:l}=(0,v.Z)(t),c=(0,w.B)(t.id),u=(0,r.e7)([_.Z],()=>null!=_.Z.getAwaitingRemoteSessionInfo()),{cameraUnavailable:E,enabled:g}=(0,x.Z)(),C=(0,N.Z)(t),{limit:I,reachedLimit:M}=(0,T.Z)(t),j=(0,r.e7)([y.default],()=>y.default.getCurrentUser()),P=(0,r.e7)([L.Z],()=>(0,f.Z)(L.Z)),D=(0,r.e7)([O.Z],()=>O.Z.getVoiceChannelId()===t.id,[t.id]),U=(0,r.e7)([d.Z],()=>d.Z.getStreamParticipants(t.id)[0],[t.id]),B=(0,V.PK)(t.id),H=I>0,G=M&&!B||null!=U&&U.user.id!==(null==j?void 0:j.id);if(null==j)return null;let F=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(A.Z,{children:(0,i.jsx)(p.Z,{onClose:t})})},position:"top",align:"center",animation:o.Popout.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:a}=t;return(0,i.jsx)(R.C,{centerButton:!0,hasPermission:C,enabled:g,cameraUnavailable:E,onChange:S.r,onCameraUnavailable:Z.Z,channelLimitReached:M,channelLimit:I,popoutOpen:a,onPopoutClick:n})}}),(0,i.jsx)(S.NZ,{channel:t,currentUser:j,exitFullScreen:()=>null,canGoLive:P,hasPermission:C,disabled:G})]});return(0,i.jsxs)("div",{className:$.container,children:[(0,i.jsx)(es,{channelId:t.id}),D&&(0,i.jsx)(et,{channel:t}),D&&!n?(0,i.jsxs)("div",{className:s()($.avControls,$.buttonSpacing),children:[H&&I>0&&F,(0,i.jsx)(o.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(A.Z,{children:(0,i.jsx)(h.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0})})},align:"center",position:"top",animation:o.Popout.Animation.FADE,children:(e,t)=>{let{onClick:s}=e,{isShown:r}=t;return(0,i.jsx)(b.Z,{centerButton:!0,onPopoutClick:s,selfMute:a,serverMute:l,suppress:n,popoutOpen:r,onClick:()=>(0,m.Z)(l,n),awaitingRemote:u})}})]}):null,D&&c&&n&&(0,i.jsx)(ei,{onClick:()=>(0,k.RK)(t,!1)}),D&&!n&&(0,i.jsx)(el,{onClick:()=>(0,k.yi)(t)}),(0,i.jsx)(ea,{channel:t})]})});function eo(e){let{channel:t}=e;return(0,i.jsxs)("div",{className:$.container,children:[(0,i.jsx)(es,{channelId:t.id}),(0,i.jsx)(ea,{channel:t})]})}t.Z=a.memo(function(e){let{channel:t,isOnStartStageScreen:n}=e,a=(0,K.Z)(t.id),l=(0,w.B)(t.id),s=(0,r.e7)([P.Z],()=>P.Z.can(B.yP,t),[t]),o=(0,q.Z)(t.id),c=(0,r.e7)([d.Z],()=>null!=t?d.Z.getSelectedParticipant(t.id):null),u=!o&&null==c;return n?(0,i.jsx)(eo,{channel:t}):a||l?(0,i.jsxs)("div",{className:$.containerColumn,children:[(0,i.jsxs)("div",{className:$.eventPrompts,children:[u?(0,i.jsx)(g.Z,{channelId:null==t?void 0:t.id}):null,(0,i.jsx)("div",{className:$.separator}),u&&s?(0,i.jsx)(C.Z,{highlight:!0,channel:t}):null,(0,i.jsx)("div",{className:$.separator})]}),(0,i.jsx)(er,{channel:t})]}):(0,i.jsx)(en,{channel:t})})},766015:function(e,t,n){var i,a=n(796075),l=n(481060),s=n(628977),r=n(471006);let o=(0,l.createListScroller)(s.auto,s.fade,r.customTheme,null!==(i=window.ResizeObserver)&&void 0!==i?i:a.d);t.Z=o},401139:function(e,t,n){var i=n(735250),a=n(470079),l=n(450369),s=n(235753);t.Z=a.memo(function(e){let{channel:t,participants:n,tileWidth:a,selectedParticipant:r}=e;return(0,i.jsx)("div",{className:s.rowContainer,children:n.map(e=>e.id===(null==r?void 0:r.id)?null:(0,i.jsx)(l.Z,{channel:t,participant:e,width:a},e.id))})})},12779:function(e,t,n){var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(481060),o=n(368666),c=n(14338),u=n(546552);t.Z=a.memo(function(e){let{label:t,participantCount:n,onClick:a,className:l,collapsed:d,speakers:h,channel:p,isStreamLive:m}=e;return(0,i.jsxs)(r.Clickable,{onClick:a,className:s()(u.container,l),children:[null==h?(0,i.jsx)(r.GroupIcon,{size:"custom",color:"currentColor",width:20,height:20,className:u.micIcon}):(0,i.jsx)(r.MicrophoneIcon,{size:"custom",color:"currentColor",width:20,height:20,className:u.micIcon}),(0,i.jsxs)(r.Text,{color:"header-primary",variant:"text-md/semibold",className:u.text,children:[t," — ",n]}),d&&null!=p&&null!=h&&h.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{channel:p,speakers:h}),m&&(0,i.jsx)(o.ZP,{})]}),(0,i.jsx)(r.ChevronSmallDownIcon,{size:"custom",color:"currentColor",width:20,height:20,className:s()(u.downIcon,{[u.upIcon]:d})})]})})},14338:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(481060),o=n(239091),c=n(586902),u=n(40851),d=n(484459),h=n(103575),p=n(409216),m=n(768581),_=n(887853);function f(e){let{channel:t,speaker:l,className:p}=e,f=(0,u.bp)(),{reducedMotion:E}=a.useContext(r.AccessibilityPreferencesContext),g=(0,c.Z)({userId:l.id}),C=null!=l.member?(0,m.CA)(l.member):null,I=e=>{(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("12435"),n.e("47195")]).then(n.bind(n,757387));return n=>(0,i.jsx)(e,{...n,user:l.user,guildId:t.guild_id,channel:t,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1})},{context:f})};return(0,i.jsx)(r.Popout,{preload:()=>(0,d.W)(l.user,{guildId:t.guild_id,channelId:t.id}),renderPopout:e=>(0,i.jsx)(h.Z,{...e,location:"StageSpeakerSummary",guildId:t.guild_id,channelId:t.id,userId:l.id}),position:"right",spacing:8,children:e=>(0,i.jsx)(r.Tooltip,{text:l.userNick,position:"bottom",children:n=>(0,i.jsx)(r.Clickable,{...n,...e,onClick:t=>{t.stopPropagation(),e.onClick(t)},onContextMenu:I,children:(0,i.jsx)(r.Avatar,{src:null!=C?C:l.user.getAvatarURL(t.guild_id,24),size:r.AvatarSizes.SIZE_24,className:s()(_.avatar,p),"aria-label":l.userNick,isSpeaking:g&&!E.enabled})})})})}function E(e){let{speakers:t,channel:n}=e;return(0,i.jsx)(p.Z,{className:_.summary,guildId:n.guild_id,users:t,max:10,renderUser:(e,t,a)=>(0,i.jsx)(f,{channel:n,speaker:e,className:t},a),renderMoreUsers:(e,t,n)=>(0,i.jsx)("div",{className:s()(_.speakers,t),children:e},n)})}},450369:function(e,t,n){n.d(t,{Q:function(){return R}});var i=n(735250),a=n(470079),l=n(512722),s=n.n(l),r=n(442837),o=n(481060),c=n(475179),u=n(239091),d=n(872810),h=n(40851),p=n(358221),m=n(258609),_=n(569545),f=n(382182),E=n(484459),g=n(103575),C=n(199902),I=n(430824),x=n(496675),T=n(979651),N=n(40300),v=n(88751),S=n(252132),Z=n(248400),A=n(981631),M=n(354459),b=n(433654);let R=16/9,j=e=>{let{stageParticipant:t,rtcParticipant:n,channel:l,guildId:s,user:r,width:c,isModerator:u,onContextMenu:d,inPopout:h}=e,{reducedMotion:p}=a.useContext(o.AccessibilityPreferencesContext),{blocked:m,id:_}=t;return(0,i.jsx)(o.Popout,{preload:null==n?void 0:()=>(0,E.W)(n.user,{guildId:l.guild_id,channelId:l.id}),renderPopout:e=>(0,i.jsx)(g.Z,{...e,location:"StageTile",guildId:s,channelId:l.id,userId:r.id}),position:"right",spacing:8,children:e=>(0,i.jsx)(o.Clickable,{onContextMenu:e=>d(n,e),...e,children:(0,i.jsx)(S.Z,{participant:n,aspectRatio:R,blocked:m,channel:l,className:b.tile,inCall:!0,inPopout:h,paused:!1,pulseSpeakingIndicator:!p.enabled,width:c,children:u&&(0,i.jsx)(Z.Z,{})},_)})})},L=e=>{let{stageParticipant:t,rtcParticipant:n,channel:l,width:s,isModerator:u,onContextMenu:h,inPopout:E}=e,{reducedMotion:g}=a.useContext(o.AccessibilityPreferencesContext),{id:v,blocked:j}=t,L=(0,r.Wu)([C.Z],()=>C.Z.getAllActiveStreams(),[]),{selectedParticipant:P,largeStream:O}=(0,r.cj)([p.Z],()=>({selectedParticipant:null!=l?p.Z.getSelectedParticipant(l.id):null,largeStream:null!=l&&p.Z.getStageStreamSize(l.id)})),y=a.useCallback((e,t)=>{if(e.type===M.fO.STREAM&&0===L.filter(t=>(0,_.V9)(t)===e.id&&t.state!==A.jm8.ENDED).length){if(!(0,f.p9)(l,T.Z,I.Z,x.Z,m.Z)[0])return;(0,d.rn)((0,_.my)(e.id),{forceMultiple:t.shiftKey})}(null==P?void 0:P.id)===e.id?O?(c.Z.selectParticipant(l.id,null),c.Z.updateStageStreamSize(l.id,!1)):c.Z.updateStageStreamSize(l.id,!0):(c.Z.updateStageStreamSize(l.id,!1),c.Z.selectParticipant(l.id,e.id))},[L,l,P,O]);return(0,i.jsx)(S.Z,{participant:n,aspectRatio:R,fit:n.type===M.fO.USER?N.L.COVER:void 0,blocked:j,channel:l,className:b.tile,inCall:!0,inPopout:E,onClick:y,onContextMenu:h,paused:!1,pulseSpeakingIndicator:!g.enabled,width:s,children:u&&n.type===M.fO.USER&&(0,i.jsx)(Z.Z,{})},v)};t.Z=a.memo(function(e){var t;let{participant:a,channel:l,width:o}=e,c=(0,h.bp)(),d=l.getGuildId();s()(null!=d,"Channel cannot be guildless");let{user:m}=a,_=(0,r.e7)([p.Z],()=>p.Z.getParticipant(l.id,a.id),[l.id,a.id]),f=(0,r.e7)([v.ZP],()=>v.ZP.isModerator(m.id,l.id),[l.id,m.id]);if(null==_||_.type===M.fO.ACTIVITY)return null;let E=(e,t)=>{switch(e.type){case M.fO.HIDDEN_STREAM:case M.fO.STREAM:(0,u.jW)(t,async()=>{let{default:t}=await n.e("22183").then(n.bind(n,987281));return n=>(0,i.jsx)(t,{...n,stream:e.stream,appContext:c,exitFullscreen:()=>{}})},{context:c});return;case M.fO.USER:default:(0,u.jW)(t,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("12435"),n.e("47195")]).then(n.bind(n,757387));return t=>(0,i.jsx)(e,{...t,user:m,guildId:d,channel:l,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1})},{context:c})}},g=_.type===M.fO.USER&&!(null===(t=_.voiceState)||void 0===t?void 0:t.selfVideo);return(0,i.jsx)(i.Fragment,{children:g?(0,i.jsx)(j,{stageParticipant:a,rtcParticipant:_,channel:l,guildId:d,user:m,width:o,isModerator:f,onContextMenu:E,inPopout:c===A.IlC.POPOUT}):(0,i.jsx)(L,{stageParticipant:a,rtcParticipant:_,channel:l,guildId:d,user:m,width:o,isModerator:f,onContextMenu:E,inPopout:c===A.IlC.POPOUT})})})},686468:function(e,t,n){n.d(t,{Z:function(){return T}});var i=n(735250);n(470079);var a=n(442837),l=n(692547),s=n(481060),r=n(688641),o=n(596449),c=n(459502),u=n(856691),d=n(889161),h=n(496675),p=n(602623),m=n(146085),_=n(979339),f=n(643632),E=n(939863),g=n(689938),C=n(998877);function I(e){let{onClick:t}=e;return(0,i.jsx)(r.Z,{iconContainerClassName:C.continueIconContainer,icon:(0,i.jsx)(s.StageIcon,{size:"custom",color:"currentColor",className:C.continueIcon,height:20,width:20}),color:l.Z.unsafe_rawColors.PRIMARY_700.css,title:g.Z.Messages.STAGE_CONTINUE_PROMPT_TITLE,description:g.Z.Messages.STAGE_CONTINUE_PROMPT_SUBTITLE,onClick:t})}function x(e){let{channel:t}=e,{participants:n,usersInSummary:a}=(0,_.Z)(t.id);return(0,i.jsxs)("div",{className:C.audienceSummary,children:[(0,i.jsx)(p.Z,{className:C.summaryItem,guildId:t.guild_id,users:a,size:p.u.SIZE_16}),(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"header-secondary",children:function(e){if(0===e.length)return"";if(1===e.length)return g.Z.Messages.STAGE_AUDIENCE_WAITING_ONE.format({first:e[0].userNick});if(2===e.length)return g.Z.Messages.STAGE_AUDIENCE_WAITING_TWO.format({first:e[0].userNick,second:e[1].userNick});let t=e.length-2;return g.Z.Messages.STAGE_AUDIENCE_WAITING_MANY.format({first:e[0].userNick,second:e[1].userNick,numOthers:t})}(n)})]})}function T(e){let{channel:t,onContinueClick:n}=e,l=(0,a.e7)([h.Z],()=>h.Z.can(m.yP,t),[t]),r=t.guild_id,{canCreateGuildEvent:p}=(0,d.XJ)(t),T=(0,f.Z)(t.id),{usersInSummary:N}=(0,_.Z)(t.id);return(0,i.jsxs)("div",{children:[(0,i.jsx)(E.Z,{children:(0,i.jsx)("div",{className:C.iconBackground,children:(0,i.jsx)(s.StageIcon,{size:"custom",color:"currentColor",width:40,height:40,className:C.icon})})}),(0,i.jsxs)("div",{className:C.headerContainer,children:[(0,i.jsx)(s.Heading,{className:C.__invalid_title,variant:"heading-xl/semibold",children:g.Z.Messages.STAGE_START_PROMPT_TITLE_MODERATOR}),(0,i.jsx)(s.Text,{className:C.subtitle,variant:"text-sm/normal",children:g.Z.Messages.STAGE_START_PROMPT_SUBTITLE})]}),T?null:(0,i.jsx)(c.Z,{channelId:t.id}),l?(0,i.jsx)(u.Z,{className:C.eventPrompt,channel:t}):null,p?(0,i.jsx)(o.Z,{className:C.eventPrompt,guildId:r}):null,(l||N.length>0)&&(0,i.jsx)("hr",{className:C.separator}),l?(0,i.jsx)(I,{onClick:n}):null,(0,i.jsx)(x,{channel:t})]})}},801405:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(735250),a=n(470079),l=n(442837),s=n(570140),r=n(475179),o=n(367907),c=n(358221),u=n(788983),d=n(268353),h=n(944486),p=n(626135),m=n(585483),_=n(358085),f=n(228488),E=n(981631),g=n(607176);let C=()=>{s.Z.wait(()=>u.xv(E.KJ3.CHANNEL_CALL_POPOUT))};function I(e){let{channel:t,appContext:n,popoutOpen:s,popoutWindow:u,currentWindow:I}=e,x=n===E.IlC.POPOUT,T=a.useRef(null),{currentLayout:N,mode:v}=(0,l.cj)([c.Z],()=>{let e=c.Z.getMode(t.id),i=n===E.IlC.POPOUT;i&&(e=E.WtW.VIDEO);let a=e===E.WtW.VIDEO?c.Z.getLayout(t.id,n):E.AEg.MINIMUM;return i&&a!==E.AEg.FULL_SCREEN&&(a=E.AEg.NO_CHAT),{currentLayout:a,mode:e}},[t,n]),S=(0,l.e7)([h.Z],()=>h.Z.getVoiceChannelId()===t.id,[t.id]);a.useEffect(()=>{T.current=v});let Z=a.useRef(N),{currentDocument:A,rootNode:M}=a.useMemo(()=>{let e=null!=u&&x?u.document:document,t=I.document.getElementById("app-mount");return{currentWindow:I,currentDocument:e,rootNode:t}},[u,x,I]),b=s&&!x,R=v===E.WtW.VIDEO&&S&&!b,j=a.useCallback((e,i)=>{i!==e&&(r.Z.updateLayout(t.id,i,n),i===E.AEg.FULL_SCREEN&&t.isPrivate()&&m.S.dispatch(E.CkL.TEXTAREA_BLUR))},[n,t]),L=a.useCallback(e=>{if(null!=M)e===E.AEg.FULL_SCREEN&&(j(e,Z.current),(0,f.Pr)(e=>{Z.current=e},A))},[A,j,M]),P=a.useCallback(e=>()=>{null!=M&&(e!==E.AEg.FULL_SCREEN?(Z.current=e,j(e,E.AEg.FULL_SCREEN),(0,f.Dj)(M)):L(e))},[j,L,M]);return(a.useEffect(()=>{let e=()=>{null!=M&&!(0,f.rB)(M,A)&&N===E.AEg.FULL_SCREEN&&P(N)()};return A.addEventListener(f.NO,e),()=>{A.removeEventListener(f.NO,e)}},[A,N,P,M]),a.useEffect(()=>(p.default.track(E.rMx.VIDEO_LAYOUT_TOGGLED,{video_layout:x?"popout":N,...(0,o.AB)(t.id)}),()=>{!(x&&(0,_.isMac)())&&L(N)}),[N,x]),a.useEffect(()=>{null!=M&&T.current===E.WtW.VIDEO&&v===E.WtW.VOICE&&(0,f.Pr)(M,A)},[A,v,T,M]),a.useEffect(()=>{!S&&x&&C()},[S,x]),R)?(0,i.jsx)(d.Z,{themeable:!1,node:M,guestWindow:u,className:g.rightTrayIcon,onClick:P(N)}):null}},903108:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(442837),a=n(358221),l=n(430824),s=n(496675),r=n(431328),o=n(501655),c=n(146085),u=n(71275),d=n(981631);function h(e){var t;let n=(0,i.e7)([a.Z],()=>a.Z.getStageVideoLimitBoostUpsellDismissed(e.id),[e.id]),h=(0,r.Io)(e.id),p=(0,r.Rk)(e.id,o.pV.AUDIENCE),m=(0,u.PK)(e.id),_=(0,i.e7)([l.Z],()=>l.Z.getGuild(e.guild_id),[e.guild_id]),f=(0,i.e7)([s.Z],()=>s.Z.can(c.yP,e),[e]),E=null!==(t=null==_?void 0:_.maxStageVideoChannelUsers)&&void 0!==t?t:0,g=!(null==_?void 0:_.isCommunity())&&E>d.RcX;return m&&!n&&f&&!g&&h+p>=E}},122707:function(e,t,n){n.d(t,{q:function(){return l}}),n(47120);var i=n(709054),a=n(765104);function l(e,t){var n;let l=null!==(n=a.Z.summaries(e))&&void 0!==n?n:[],s=0;for(let e of l)i.default.compare(e.endId,t)>0&&(s+=1);return s}},779836:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(920906),r=n(399606),o=n(481060),c=n(511010),u=n(446183),d=n(677281),h=n(765104),p=n(477291),m=n(531578),_=n(959517),f=n(689938),E=n(153023);function g(e){let{summary:t,channel:n}=e,a=(0,r.e7)([h.Z],()=>h.Z.summaryFeedback(t)),l=(e,i)=>{e.stopPropagation(),(0,p.Z)({summary:t,channel:n,rating:i})},c=(0,s.useTransition)(null==a,{enter:{from:{opacity:0},to:{opacity:1}},leave:{opacity:0},config:{mass:1,tension:500,friction:18,clamp:!0}});return(0,i.jsx)(i.Fragment,{children:c((e,t)=>t?(0,i.jsx)("div",{className:E.summaryFeedbackWrapper,children:(0,i.jsxs)(s.animated.div,{style:e,className:E.summaryFeedback,children:[(0,i.jsx)(o.Text,{variant:"text-xs/medium",color:"interactive-normal",children:f.Z.Messages.SUMMARY_FEEDBACK}),(0,i.jsx)(o.Clickable,{onClick:e=>l(e,m.aZ.GOOD),children:(0,i.jsx)(d.Z,{className:E.thumbIcon,width:12,height:12})}),(0,i.jsx)(o.Clickable,{onClick:e=>l(e,m.aZ.BAD),children:(0,i.jsx)(u.Z,{className:E.thumbIcon,width:12,height:12})})]})}):null)})}function C(e){var t,n;let a,{item:s,channel:u,index:d}=e,p=(0,r.e7)([h.Z],()=>h.Z.selectedSummary(u.id));if(null==p)return null;let m=null!=s.unreadId,f=null!=s.content;return a=f?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.TopicsIcon,{size:"xs",color:"currentColor",className:E.summaryStartIcon}),s.content]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g,{summary:p,channel:u}),(0,i.jsx)(o.TopicsIcon,{size:"xs",color:"currentColor",className:E.summaryEndIcon})]}),(0,i.jsx)(c.Z,{className:l()(E.summaryDivider,f?E.summaryDividerStart:E.summaryDividerEnd),contentClassName:f?E.summaryStartContent:E.summaryEndContent,isUnread:m,id:m?_.j1:void 0,children:a},"divider-".concat(null!==(n=null!==(t=s.contentKey)&&void 0!==t?t:s.unreadId)&&void 0!==n?n:d))}},878857:function(e,t,n){n.d(t,{Q:function(){return a}});let i=(0,n(818083).B)({kind:"user",id:"2022-07_system_dm_safety_onboarding",label:"System DM Safety Onboarding",defaultConfig:{systemDMRedesignEnabled:!1},treatments:[{id:1,label:"Enabled, v1 copy",config:{systemDMRedesignEnabled:!0}},{id:2,label:"Enabled, v2 copy",config:{systemDMRedesignEnabled:!0}}]});function a(){return i.getCurrentConfig({location:"0a5674_1"},{autoTrackExposure:!1}).systemDMRedesignEnabled}t.Z=i},241309:function(e,t,n){n.d(t,{Gx:function(){return d},Op:function(){return h},T4:function(){return u},V_:function(){return c}});var i,a,l=n(539573),s=n(689938);function r(e,t){return{type:e,message:null!=t?t:null}}function o(e){return r(0,e)}function c(){return r(0,s.Z.Messages.FORM_THREAD_NAME_REQUIRED_ERROR)}function u(){return r(0,s.Z.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR)}function d(e,t){return r(1,(0,l.$q)(e,null==t?void 0:t.id))}function h(e,t){var n;return null==e||0===e.type&&null!=t.content&&t.content.trim().length>0?null:null!==(n=e.message)&&void 0!==n?n:null}(i=a||(a={}))[i.EmptyContent=0]="EmptyContent",i[i.AutomodViolation=1]="AutomodViolation"},965376:function(e,t,n){n.d(t,{D:function(){return h}}),n(47120),n(653041);var i=n(470079),a=n(392711),l=n.n(a),s=n(442837),r=n(430824),o=n(159299),c=n(231338),u=n(689938);let d=[];function h(e,t){let n=(0,s.e7)([r.Z],()=>null!=t?r.Z.getRoles(t.id):void 0),{version:a,members:h}=(0,s.cj)([o.Z],()=>({version:o.Z.getMemberListVersion(e),members:o.Z.getMemberListSections(e)})),p=i.useMemo(()=>{if(null==t)return d;let e=l()(n).values().filter(e=>e.hoist).sortBy(e=>e.position).reverse().map(e=>e.id).value();return e.push(c.Sk.ONLINE,c.Sk.OFFLINE),e.map(e=>{var t,i,a,l;let s=e===c.Sk.ONLINE?u.Z.Messages.STATUS_ONLINE:e===c.Sk.OFFLINE?u.Z.Messages.STATUS_OFFLINE:null!==(a=null==n?void 0:null===(t=n[e])||void 0===t?void 0:t.name)&&void 0!==a?a:"";return{label:s,userIds:null!==(l=null==h?void 0:null===(i=h[e])||void 0===i?void 0:i.userIds)&&void 0!==l?l:[],id:e,roleId:e}})},[n,h,a]);return null!=h?p:d}},159299:function(e,t,n){n(47120),n(653041),n(724458);var i,a=n(392711),l=n.n(a),s=n(442837),r=n(570140),o=n(592125),c=n(271383),u=n(797316),d=n(158776),h=n(885110),p=n(594174),m=n(823379),_=n(700785),f=n(709054),E=n(51144),g=n(981631);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let I={};class x{rebuild(e){this.version++,this.sections={},null!=e&&(this.allUserIds=new Set(e));let t=o.Z.getChannel(this.parentId);l()(Array.from(this.allUserIds)).map(e=>{let[n,i,a]=this.calculateNewState(e,t);return{userId:e,sectionId:n,displayName:i,canViewChannel:a}}).sort((e,t)=>f.default.compare(e.userId,t.userId)).sortBy(e=>e.displayName).forEach(e=>{this.addUser(e.userId,e.sectionId,e.displayName,e.canViewChannel,!0)})}updateMultipleUserIds(e,t){return(null==t||this.guildId===t)&&0!==(e=e.filter(e=>this.allUserIds.has(e))).length&&(e.length>50?this.rebuild():e.forEach(e=>this.updateUserId(e)),!0)}updateUserId(e){if(!this.allUserIds.has(e))return!1;let[t,n,i]=this.findOldState(e),[a,l,s]=this.calculateNewState(e,o.Z.getChannel(this.parentId));return(t!==a||n!==l||i!==s)&&(this.removeUserId(e,t),this.addUser(e,a,l,s),!0)}addUserId(e){let[t,n,i]=this.calculateNewState(e,o.Z.getChannel(this.parentId));this.addUser(e,t,n,i)}removeUserId(e,t){if(this.allUserIds.delete(e),null!=t&&this.removeUserIdFromSection(e,t))return!0;for(let t in this.sections)if(this.removeUserIdFromSection(e,t))return!0;return!1}addUser(e,t,n,i,a){this.allUserIds.add(e);let l=p.default.getUser(e);if(null==l||""===l.username)return;!(t in this.sections)&&(this.sections[t]={sectionId:t,usersById:{},userIds:[]});let s=this.sections[t];if(s.usersById[e]={userId:e,displayName:n,canViewChannel:i},a)s.userIds.push(e);else{let t=this.findUserIdSortedPosition(s,e,n);s.userIds.splice(t,0,e)}this.version++}findUserIdSortedPosition(e,t,n){let{userIds:i,usersById:a}=e;for(let e=0;e<i.length;e++){let l=i[e],s=a[l].displayName;if(s===n){if(t<l)return e}else if(null==s){if(null!=n)return e}else if(null!=n&&n<s)return e}return i.length}removeUserIdFromSection(e,t){let n=this.sections[t];return null!=t&&e in n.usersById&&(delete n.usersById[e],n.userIds=n.userIds.filter(t=>t!==e),this.version++,!0)}findOldState(e){for(let t in this.sections){let n=this.sections[t];if(e in n.usersById){let i=n.usersById[e];return[t,i.displayName,i.canViewChannel]}}return[void 0,void 0,!1]}calculateNewState(e,t){var n,i;let a=c.ZP.getMember(this.guildId,e),l=p.default.getUser(e),s=p.default.getCurrentUser(),r=(null==l?void 0:l.id)===(null==s?void 0:s.id)?h.Z.getStatus():d.Z.getStatus(e,this.guildId),o=null!=l&&null!=t&&_.BT({permission:g.Plq.VIEW_CHANNEL,user:l,context:t}),u=r!==g.Skl.OFFLINE&&r!==g.Skl.INVISIBLE&&r!==g.Skl.UNKNOWN?null!==(n=null==a?void 0:a.hoistRoleId)&&void 0!==n?n:"online":"offline",m=null!==(i=null==a?void 0:a.nick)&&void 0!==i?i:E.ZP.getName(l);return[u,null==m?void 0:m.toLowerCase(),o]}constructor(e,t,n){C(this,"guildId",void 0),C(this,"parentId",void 0),C(this,"threadId",void 0),C(this,"version",void 0),C(this,"sections",void 0),C(this,"allUserIds",void 0),this.guildId=e,this.parentId=t,this.threadId=n,this.version=0,this.sections={},this.allUserIds=new Set}}function T(e){return N(e.user.id)}function N(e){if(null==e)return!1;let t=!1;for(let n in I)I[n].updateUserId(e)&&(t=!0);return t}function v(e){let{guildId:t}=e,n=!1;for(let e in I)I[e].guildId===t&&(I[e].rebuild(),n=!0);return n}class S extends(i=s.ZP.Store){initialize(){this.waitFor(o.Z,c.ZP,u.Z,d.Z,h.Z,p.default),this.syncWith([u.Z],()=>{let e=u.Z.getSubscribedThreadIds(),t=!1;for(let n in I)!e.has(n)&&(delete I[n],t=!0);return t}),this.syncWith([h.Z],()=>{var e;return N(null===(e=p.default.getCurrentUser())||void 0===e?void 0:e.id)})}getMemberListVersion(e){var t;return null===(t=I[e])||void 0===t?void 0:t.version}getMemberListSections(e){var t;return null===(t=I[e])||void 0===t?void 0:t.sections}canUserViewChannel(e,t,n){var i,a;let l=I[e];if(null==l)return!1;let s=null===(i=l.sections[t])||void 0===i?void 0:i.usersById[n];return null!==(a=null==s?void 0:s.canViewChannel)&&void 0!==a&&a}}C(S,"displayName","ThreadMemberListStore"),t.Z=new S(r.Z,{CONNECTION_OPEN:function(){I={}},THREAD_MEMBERS_UPDATE:function(e){var t,n;if(!(e.id in I))return!1;null===(t=e.addedMembers)||void 0===t||t.forEach(t=>{let{userId:n}=t;return I[e.id].addUserId(n)}),null===(n=e.removedMemberIds)||void 0===n||n.forEach(t=>I[e.id].removeUserId(t))},THREAD_UPDATE:function(e){var t;let{channel:n}=e;if(!(n.id in I)||(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived)!==!0)return!1;delete I[n.id]},THREAD_DELETE:function(e){let{channel:t}=e;if(!(t.id in I))return!1;delete I[t.id]},CHANNEL_UPDATES:function(e){let{channels:t}=e,n=new Set(t.map(e=>e.id)),i=!1;for(let e in I)n.has(I[e].parentId)&&(I[e].rebuild(),i=!0);return i},THREAD_MEMBER_LIST_UPDATE:function(e){let{threadId:t,guildId:n,members:i}=e,a=o.Z.getChannel(t),l=null==a?void 0:a.parent_id;null!=l&&(I[t]=new x(n,l,t),I[t].rebuild(i.map(e=>e.user_id)))},USER_UPDATE:T,PRESENCE_UPDATES:function(e){let{updates:t}=e;return t.map(e=>{let{user:t}=e;return N(t.id)}).some(e=>e)},GUILD_MEMBER_ADD:T,GUILD_MEMBER_UPDATE:T,GUILD_MEMBER_REMOVE:T,PRESENCES_REPLACE:function(e){let{presences:t}=e,n=l()(t).map(e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.id}).filter(m.lm).uniq().value(),i=!1;for(let e in I)I[e].updateMultipleUserIds(n)&&(i=!0);return i},GUILD_MEMBERS_CHUNK_BATCH:function(e){let{chunks:t}=e,n=!1;for(let{guildId:e,members:i}of t){let t=i.map(e=>e.user.id);for(let i in I)I[i].updateMultipleUserIds(t,e)&&(n=!0)}return n},GUILD_ROLE_UPDATE:v,GUILD_ROLE_DELETE:v,PASSIVE_UPDATE_V2:function(e){return e.members.reduce((e,t)=>N(t.user.id)||e,!1)}})},657218:function(e,t,n){n.d(t,{Z:function(){return W}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(430742),u=n(144144),d=n(738619),h=n(561472),p=n(607070),m=n(100527),_=n(906732),f=n(541716),E=n(752305),g=n(893718),C=n(303628),I=n(967128),x=n(294218),T=n(913663),N=n(268350),v=n(695346),S=n(592125),Z=n(703558),A=n(375954),M=n(496675),b=n(117530),R=n(153124),j=n(502568),L=n(459273),P=n(838440),O=n(127654),y=n(241309),D=n(928477),k=n(456077),U=n(488131),w=n(602034),B=n(981631),H=n(689938),G=n(71417),V=n(971055);let F=f.I.THREAD_CREATION;function W(e){let{parentChannelId:t,parentMessageId:n,location:a}=e,l=(0,r.e7)([S.Z],()=>S.Z.getChannel(t)),{analyticsLocations:s}=(0,_.ZP)(m.Z.CREATE_THREAD);return null==l?null:(0,i.jsx)(_.Gt,{value:s,children:(0,i.jsx)(L.I3,{children:(0,i.jsxs)("section",{"aria-label":H.Z.Messages.CREATE_THREAD,className:G.container,children:[(0,i.jsx)(h.Z,{channel:l,draftType:Z.d.FirstThreadMessage}),(0,i.jsxs)(j.ZP,{toolbar:(0,i.jsx)(j.ZP.Icon,{icon:o.CloseSmallIcon,tooltip:H.Z.Messages.CLOSE,onClick:()=>(0,U.NK)(t)}),children:[(0,i.jsx)(j.ZP.Icon,{icon:o.ThreadIcon,disabled:!0,"aria-label":H.Z.Messages.THREAD}),(0,i.jsx)(j.ZP.Title,{children:H.Z.Messages.NEW_THREAD})]}),(0,i.jsx)(z,{parentChannel:l,parentMessageId:n,location:a})]})})})}function z(e){let{parentChannel:t,parentMessageId:n,location:l}=e,u=(0,r.e7)([p.Z],()=>p.Z.messageGroupSpacing),h=function(){let e=a.useContext(L.oo);return a.useCallback(()=>{e.bumpDispatchPriority()},[e])}(),{threadSettings:m,setThreadSettings:_,updateThreadSettings:f}=function(e,t){let[n,i]=a.useState({}),l=a.useCallback(n=>{i(e=>({...e,...n})),c.Z.changeThreadSettings(e.id,{...n,parentMessageId:t})},[e.id,t]);return{threadSettings:n,setThreadSettings:i,updateThreadSettings:l}}(t,n),{textAreaState:g,setTextAreaState:C}=function(e,t){let[n,i]=a.useState((0,E.H2)());return a.useEffect(()=>{function n(n){var a;let l=Z.Z.getDraft(e.id,Z.d.FirstThreadMessage);(0===l.length||!0===n)&&i((0,E.eK)(l)),t(null!==(a=Z.Z.getThreadSettings(e.id))&&void 0!==a?a:{})}return n(!0),Z.Z.addChangeListener(n),()=>{Z.Z.removeChangeListener(n)}},[e.id,t]),{textAreaState:n,setTextAreaState:i}}(t,_),x=(0,D.vH)(t),{nameError:v,messageError:S,submit:A}=function(e){let{parentChannel:t,parentMessageId:n,threadSettings:i,privateThreadMode:l,textAreaState:s,location:r}=e,[o,c]=a.useState(null),[u,d]=a.useState(null),h=(0,w.Z)({parentChannel:t,parentMessageId:n,threadSettings:i,privateThreadMode:l,location:r,onThreadCreated:U.ok,useDefaultThreadName:!0});return{nameError:o,messageError:u,submit:a.useCallback(async(e,a,l)=>{var r,o,u;null==e&&(e=s.textValue),e=e.trim(),(null==a||0===a.length)&&(a=null===(r=T.Z.getStickerPreview(t.id,F.drafts.type))||void 0===r?void 0:r.map(e=>e.id)),(null==l||0===l.length)&&(l=b.Z.getUploads(t.id,Z.d.FirstThreadMessage));let p=null!==(o=i.name)&&void 0!==o?o:"",m=null==n&&0===p.length,_=""===e&&(null==a||0===a.length)&&0===l.length;if(c(m?(0,y.V_)():null),d(_?(0,y.T4)():null),m||_)return{shouldClear:!1,shouldRefocus:!0};if(null==n){let{valid:n}=await (0,P.v)({content:e,stickers:a,uploads:l,type:F,channel:t});if(!n)return{shouldClear:!1,shouldRefocus:!0}}try{await h(e,a,l)}catch(e){return(null===(u=e.body)||void 0===u?void 0:u.code)===B.evJ.AUTOMOD_TITLE_BLOCKED&&c((0,y.Gx)(e.body,t)),{shouldClear:!1,shouldRefocus:!0}}return(0,N.qB)(t.id,F.drafts.type),{shouldClear:!0,shouldRefocus:!1}},[h,s.textValue,i.name,n,t])}}({parentChannel:t,parentMessageId:n,threadSettings:m,privateThreadMode:x,textAreaState:g,location:l}),M=(0,D.oD)(m,x)?o.ThreadLockIcon:o.ThreadIcon;return(0,i.jsx)("div",{className:G.chat,onMouseDown:h,onFocus:h,children:(0,i.jsx)("div",{className:s()(G.messagesWrapper,"group-spacing-".concat(u)),children:(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),A()},className:G.form,children:[(0,i.jsx)(o.Scroller,{className:G.scroller,fade:!0,children:(0,i.jsxs)("div",{className:G.scrollerInner,children:[(0,i.jsxs)(I.ZP,{channelId:"create-thread-null",children:[(0,i.jsx)("div",{className:V.iconWrapper,children:(0,i.jsx)(M,{className:V.icon})}),(0,i.jsx)(K,{parentChannel:t,parentMessageId:n,threadSettings:m,updateThreadSettings:f,error:v}),t.type===B.d4z.GUILD_TEXT?(0,i.jsx)(Y,{startedFromMessage:null!=n,threadSettings:m,updateThreadSettings:f,privateThreadMode:x}):null]}),(0,i.jsx)(X,{parentChannel:t,parentMessageId:n})]})}),(0,i.jsxs)("div",{className:G.submitContainer,children:[(0,i.jsx)(q,{parentChannel:t,textAreaState:g,setTextAreaState:C,submit:A,error:S}),(0,i.jsx)(d.Z,{channel:t,isThreadCreation:!0})]})]})})})}function Y(e){let{startedFromMessage:t,threadSettings:n,updateThreadSettings:a,privateThreadMode:l}=e,r=(0,D.oD)(n,l),c=(0,i.jsx)("div",{className:G.privateThreadFormTitle,children:(0,i.jsx)("span",{className:G.privateThreadFormTitleText,children:H.Z.Messages.PRIVATE_THREAD})}),u=(0,i.jsx)(o.Checkbox,{className:s()(G.checkbox),type:o.Checkbox.Types.INVERTED,disabled:l===D.Jw.PrivateOnly,value:r,onChange:(e,t)=>a({isPrivate:t}),children:(0,i.jsx)(o.Text,{variant:"text-md/normal",color:"none",children:H.Z.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL})});return t||l===D.Jw.Disabled?null:(0,i.jsxs)(o.FormSection,{title:c,className:G.formSection,children:[u,r?(0,i.jsx)(o.Text,{className:G.privateThreadDescription,variant:"text-xs/normal",color:"header-secondary",children:H.Z.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION}):null]})}function K(e){var t;let{parentChannel:n,parentMessageId:a,threadSettings:l,updateThreadSettings:s,error:r}=e,c=null!==(t=l.name)&&void 0!==t?t:"",d=(0,y.Op)(r,{content:c}),h=(0,D.Od)(n,a),p=null!=a,m=(0,R.Dt)();return(0,i.jsx)(o.FormSection,{tag:"label",htmlFor:m,title:H.Z.Messages.THREAD_NAME+(p?" (Optional)":""),className:G.formSection,children:(0,i.jsx)(o.TextInput,{value:c,id:m,placeholder:""!==h?h:H.Z.Messages.FORM_THREAD_NAME_PLACEHOLDER,maxLength:B.HN8,onChange:e=>{s({name:(0,k.Z)(e,!1)}),""!==e?u.Z.startTyping(n.id):u.Z.stopTyping(n.id)},onBlur:()=>{let e=(0,k.Z)(c,!0);e!==c&&s({name:e})},error:d})})}function q(e){let{parentChannel:t,textAreaState:n,setTextAreaState:l,submit:d,error:h}=e,[p,m]=a.useState(!0),_=a.useCallback(()=>m(!0),[]),f=a.useCallback(()=>m(!1),[]),E=a.useCallback((e,n,i)=>{c.Z.saveDraft(t.id,n,Z.d.FirstThreadMessage),l(e=>(""!==n&&e.textValue!==n?u.Z.startTyping(t.id):""===n&&u.Z.stopTyping(t.id),{textValue:n,richValue:i}))},[t.id,l]),I=a.useCallback(e=>{let{value:t,uploads:n,stickers:i}=e;return d(t,i,n)},[d]);(0,L.yp)({event:B.CkL.TEXTAREA_FOCUS,handler:_}),(0,L.yp)({event:B.CkL.TEXTAREA_BLUR,handler:f});let x=(0,r.e7)([M.Z],()=>M.Z.can(B.Plq.ATTACH_FILES,t)),T=(0,y.Op)(h,{content:n.textValue});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C.Z,{channelId:t.id,type:F,canAttachFiles:x}),(0,i.jsx)("div",{className:G.starterMessageError,children:(0,i.jsx)(o.InputError,{error:T})}),(0,i.jsx)(g.Z,{type:F,channel:t,placeholder:H.Z.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,textValue:n.textValue,richValue:n.richValue,focused:p,className:G.channelTextArea,innerClassName:s()(G.channelTextAreaInner,{[G.channelTextAreaInnerError]:null!=T}),onFocus:_,onBlur:f,onChange:E,onSubmit:I,promptToUpload:O.d})]})}function X(e){let{parentChannel:t,parentMessageId:n}=e,a=(0,r.e7)([A.Z],()=>null==n?null:A.Z.getMessage(t.id,n)),l=v.jU.useSetting();return null!=a?(0,i.jsx)(x.Z,{className:G.messagePreview,message:a,channel:t,compact:l,renderThreadAccessory:!1,trackAnnouncementViews:!0}):null}},66556:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120);var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(731290),o=n(594174),c=n(502568),u=n(91159),d=n(593130),h=n(689938),p=n(603066);function m(e){let{channel:t}=e,[n,m]=a.useState(!1),_=(0,l.e7)([r.Z,o.default],()=>{let e=o.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!r.Z.didAgree(t.getGuildId()))},[t]),f=a.useCallback(()=>{m(!1)},[]),E=a.useCallback(()=>{!n&&(0,u.U4)("Popout"),m(!n)},[n]);return(0,i.jsx)(s.Popout,{animation:s.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,shouldShow:n,onRequestClose:f,renderPopout:function(){return(0,i.jsx)(s.Dialog,{children:(0,i.jsx)(d.Z,{className:p.browser,channel:t,onClose:f})})},children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(c.JO,{...e,className:p.icon,onClick:E,icon:s.ThreadIcon,"aria-label":h.Z.Messages.THREADS,tooltip:n?null:h.Z.Messages.THREADS,disabled:_,selected:n})}})}},359565:function(e,t,n){n.d(t,{q:function(){return f},s:function(){return _}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(481060),o=n(367907),c=n(626135),u=n(346479),d=n(665906),h=n(981631),p=n(689938),m=n(127747);function _(e){let{channel:t,narrow:n}=e,l=(0,d.tc)(t);return a.useEffect(()=>{c.default.track(h.rMx.CHANNEL_BANNER_VIEWED,{...(0,o.hH)(t.getGuildId()),...(0,o.v_)(t),banner_type:"thread"})},[t]),(0,i.jsxs)("div",{className:s()(m.chatHeaderBar,{[m.narrow]:n}),children:[(0,i.jsx)(r.Text,{className:m.chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary",children:t.isForumPost()?p.Z.Messages.FORUM_POST_HEADER_NOTICE_LOCKED:p.Z.Messages.THREAD_HEADER_NOTICE_LOCKED}),l?(0,i.jsx)(r.Button,{size:n?r.Button.Sizes.SMALL:r.Button.Sizes.TINY,className:m.chatHeaderBarButton,color:r.Button.Colors.PRIMARY,onClick:()=>{c.default.track(h.rMx.CHANNEL_BANNER_CTA_CLICKED,{...(0,o.hH)(t.getGuildId()),...(0,o.v_)(t),banner_type:"thread",cta_type:"unarchive"}),u.Z.unarchiveThread(t,!1)},children:p.Z.Messages.UNARCHIVE}):null]})}function f(e){let{channel:t,narrow:n}=e,l=(0,d.Xb)(t);return a.useEffect(()=>{c.default.track(h.rMx.CHANNEL_BANNER_VIEWED,{...(0,o.hH)(t.getGuildId()),...(0,o.v_)(t),banner_type:"thread"})},[t]),(0,i.jsxs)("div",{className:s()(m.chatHeaderBar,{[m.narrow]:n}),children:[(0,i.jsx)(r.Text,{className:m.chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary",children:t.isForumPost()?p.Z.Messages.FORUM_POST_HEADER_NOTICE_ACTIVE_LOCKED:p.Z.Messages.THREAD_HEADER_NOTICE_ACTIVE_LOCKED}),l?(0,i.jsx)(r.Button,{size:n?r.Button.Sizes.SMALL:r.Button.Sizes.TINY,className:m.chatHeaderBarButton,color:r.Button.Colors.PRIMARY,onClick:()=>{c.default.track(h.rMx.CHANNEL_BANNER_CTA_CLICKED,{...(0,o.hH)(t.getGuildId()),...(0,o.v_)(t),banner_type:"thread",cta_type:"unlock"}),u.Z.unlockThread(t)},children:p.Z.Messages.UNLOCK}):null]})}},739830:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120);var i=n(735250),a=n(470079),l=n(481060),s=n(502568),r=n(585483),o=n(723170),c=n(64247),u=n(124368),d=n(981631),h=n(689938),p=n(502890);function m(e){let{channel:t}=e,n=(0,o.B)(t),[m,_]=a.useState(!1),f=(0,l.useRedesignIconContext)().enabled;a.useEffect(()=>{let e=()=>_(!0);return r.S.subscribe(d.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e),()=>{r.S.unsubscribe(d.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}},[]);let E=h.Z.Messages.NOTIFICATION_SETTINGS;return(0,i.jsx)(l.Popout,{shouldShow:m,animation:l.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:()=>_(!1),renderPopout:e=>(0,i.jsx)(c.Z,{...e,channel:t,navId:"thread-context",label:h.Z.Messages.THREAD_ACTIONS_MENU_LABEL}),children:(e,t)=>{let{isShown:a}=t;return(0,i.jsx)(s.ZP.Icon,{...e,onClick:()=>_(e=>!e),tooltip:a?null:E,icon:n===u.iN.NO_MESSAGES?l.BellSlashIcon:l.BellIcon,foreground:n!==u.iN.NO_MESSAGES||f?null:p.strikethrough,"aria-label":E,selected:a})}})}},377929:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120);var i=n(735250),a=n(470079),l=n(392711),s=n.n(l),r=n(442837),o=n(481060),c=n(32750),u=n(109764),d=n(323597),h=n(438536),p=n(251746),m=n(193987),_=n(933793),f=n(13736),E=n(732393),g=n(137591),C=n(299206),I=n(695346),x=n(979651),T=n(502568),N=n(488131),v=n(689938);function S(e){let{channel:t}=e,[n,l]=a.useState(!1);function s(){l(e=>!e)}let r=v.Z.Messages.MORE;return(0,i.jsx)(o.Popout,{shouldShow:n,animation:o.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:()=>l(!1),renderPopout:function(e){return(0,i.jsx)(Z,{...e,channel:t})},children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(T.ZP.Icon,{...e,onClick:s,tooltip:n?null:r,icon:o.MoreHorizontalIcon,"aria-label":r,selected:n})}})}function Z(e){let{channel:t,closePopout:n,onSelect:a}=e,l=(0,c.Z)(t),T=(0,m.Z)(t),S=(0,E.Z)(t.id),Z=(0,f.Z)(t),A=(0,C.Z)({id:t.id,label:v.Z.Messages.COPY_ID_THREAD}),M=(0,u.Z)(t),b=(0,d.Z)(t),R=(0,h.Z)(t,"Toolbar Overflow"),j=(0,_.Z)(t),L=(0,p.Z)(t),P=(0,g.Z)(t),O=I.vF.useSetting(),y=(0,r.e7)([x.Z],()=>!s().isEmpty(x.Z.getVoiceStatesForChannel(t.id)));return(0,i.jsxs)(o.Menu,{navId:"thread-context",onClose:n,"aria-label":v.Z.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:a,children:[(0,i.jsxs)(o.MenuGroup,{children:[R,L]}),(0,i.jsxs)(o.MenuGroup,{children:[Z,j,S,O&&!y?(0,i.jsx)(o.MenuItem,{id:"open",label:v.Z.Messages.OPEN_IN_SPLIT_VIEW,action:function(){(0,N.ok)(t)}}):null]}),(0,i.jsxs)(o.MenuGroup,{children:[P,l,T,b]}),(0,i.jsxs)(o.MenuGroup,{children:[M,A]})]})}},664342:function(e,t,n){n.d(t,{Z:function(){return A}}),n(47120);var i=n(735250),a=n(470079),l=n(481060),s=n(32750),r=n(323597),o=n(438536),c=n(193987),u=n(933793),d=n(13736),h=n(732393),p=n(214906),m=n(612856),_=n(137591),f=n(299206),E=n(727429),g=n(359110),C=n(502568),I=n(585483),x=n(739830),T=n(488131),N=n(981631),v=n(689938);function S(e){let{channel:t}=e,[n,s]=a.useState(!1);function r(){s(e=>!e)}let o=v.Z.Messages.MORE;return(0,i.jsx)(l.Popout,{shouldShow:n,animation:l.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:()=>s(!1),renderPopout:function(e){return(0,i.jsx)(Z,{...e,channel:t})},children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(C.ZP.Icon,{...e,onClick:r,tooltip:n?null:o,icon:l.MoreHorizontalIcon,"aria-label":o,selected:n})}})}function Z(e){let{channel:t,closePopout:n,onSelect:a}=e,E=(0,o.Z)(t,"Sidebar Overflow"),C=(0,u.Z)(t),x=(0,p.Z)(t),T=(0,m.Z)(t),S=(0,s.Z)(t),Z=(0,c.Z)(t),A=(0,h.Z)(t.id),M=(0,d.Z)(t),b=(0,r.Z)(t),R=(0,f.Z)({id:t.id,label:v.Z.Messages.COPY_ID_THREAD}),j=(0,_.Z)(t);function L(){(0,g.Kh)(t.id)}return(0,i.jsxs)(l.Menu,{navId:"thread-context",onClose:n,"aria-label":v.Z.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:a,children:[(0,i.jsxs)(l.MenuGroup,{children:[E,(0,i.jsx)(l.MenuItem,{id:"open",label:v.Z.Messages.OPEN_IN_FULL_VIEW,action:L})]}),(0,i.jsxs)(l.MenuGroup,{children:[x,T]}),(0,i.jsxs)(l.MenuGroup,{children:[M,C,A]}),(0,i.jsxs)(l.MenuGroup,{children:[(0,i.jsx)(l.MenuItem,{id:"search",label:v.Z.Messages.SEARCH,icon:l.WindowLaunchIcon,action:function(){L(),setTimeout(()=>{I.S.dispatch(N.CkL.FOCUS_SEARCH,{prefillCurrentChannel:!1})},2e3)}}),(0,i.jsx)(l.MenuItem,{id:"pins",label:v.Z.Messages.PINS,icon:l.WindowLaunchIcon,action:function(){L(),I.S.dispatch(N.CkL.TOGGLE_CHANNEL_PINS)}})]}),(0,i.jsxs)(l.MenuGroup,{children:[j,S,Z,b]}),(0,i.jsx)(l.MenuGroup,{children:R})]})}function A(e){let{channel:t,baseChannelId:n}=e;return(0,i.jsxs)(i.Fragment,{children:[t.isForumPost()?null:(0,i.jsx)(x.Z,{channel:t}),(0,i.jsx)(S,{channel:t}),(0,i.jsx)(C.ZP.Icon,{icon:l.CloseSmallIcon,tooltip:v.Z.Messages.CLOSE,onClick:()=>(0,T.vN)((0,E.e)(t),null!=n?n:t.parent_id)})]})}},900157:function(e,t,n){n.d(t,{Z:function(){return b}});var i=n(735250),a=n(470079),l=n(392711),s=n.n(l),r=n(442837),o=n(570140),c=n(239091),u=n(561472),d=n(367907),h=n(731429),p=n(188471),m=n(933557),_=n(287746),f=n(541716),E=n(910611),g=n(359110),C=n(592125),I=n(703558),x=n(430824),T=n(979651),N=n(502568),v=n(664342),S=n(124368),Z=n(981631),A=n(689938),M=n(423289);function b(e){let{channelId:t,baseChannelId:l,channelViewSource:b="Split View"}=e,R=(0,r.e7)([C.Z],()=>C.Z.getChannel(t)),j=(0,r.e7)([x.Z],()=>x.Z.getGuild(null==R?void 0:R.getGuildId())),L=(0,m.ZP)(R);(function(e){let t=(0,r.e7)([T.Z],()=>null!=e&&!s().isEmpty(T.Z.getVoiceStatesForChannel(e.id)));a.useEffect(()=>{t&&null!=e&&(o.Z.dispatch({type:"SIDEBAR_CLOSE",baseChannelId:e.parent_id}),(0,g.ad)(e,S.on.VOICE_AUTO_OPEN))},[t,e])})(R);let P=a.useRef(!1);if(a.useEffect(()=>{if(null==R||P.current)return;P.current=!0;let e=(0,h.K)(C.Z.getChannel(R.id),!0);(0,d.yw)(Z.rMx.CHANNEL_OPENED,{...e,...(0,d.$H)(R.id),channel_view:b}),(0,p.a)(Z.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:R.id})},[R,b]),null==R||null==j)return null;let O=(0,i.jsx)(v.Z,{channel:R,baseChannelId:l});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{channel:R,draftType:I.d.ChannelMessage}),(0,i.jsx)(N.ZP,{toolbar:O,"aria-label":A.Z.Messages.THREAD_HEADER_BAR_A11Y_LABEL,children:(0,E.ud)({channel:R,channelName:L,guild:j,inSidebar:!0,handleContextMenu:function(e){(0,c.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return t=>(0,i.jsx)(e,{...t,channel:R})})},handleClick:function(){if(null!=R)(0,g.Kh)(R.id)}})}),(0,i.jsx)("div",{className:M.chat,children:(0,i.jsx)(_.Z,{channel:R,guild:j,chatInputType:f.I.SIDEBAR},t)})]})}},602034:function(e,t,n){n.d(t,{Z:function(){return C},r:function(){return I}});var i=n(735250),a=n(470079),l=n(143927),s=n(481060),r=n(570140),o=n(668781),c=n(966390),u=n(680287),d=n(470623),h=n(957730),p=n(48854),m=n(703558),_=n(403182),f=n(928477),E=n(981631),g=n(689938);function C(e){let{parentChannel:t,parentMessageId:n,threadSettings:i,privateThreadMode:l,location:s,onThreadCreated:r,useDefaultThreadName:o}=e,u=a.useCallback((e,t,n,i)=>{c.Z.uploadFiles({channelId:e.id,uploads:t,draftType:m.d.FirstThreadMessage,options:{stickerIds:i},parsedMessage:h.ZP.parse(e,n)})},[]);return(0,f.JA)({parentChannel:t,parentMessageId:n,threadSettings:i,privateThreadMode:l,location:s,onThreadCreated:r,useDefaultThreadName:o,uploadHandler:u})}function I(e){let{parentChannel:t}=e,{name:a,appliedTags:c}=(0,d.xH)(e=>{let{name:t,appliedTags:n}=e;return{name:t,appliedTags:n}},l.Z);return(0,f.Wj)({parentChannel:t,name:a,appliedTags:c,upload:function(e,a,l){return new Promise((c,d)=>{let h=new u.Z(e);h.on("error",(e,a,l)=>{if(a===E.evJ.EXPLICIT_CONTENT){let e=(0,p.r)();null!=l&&null!=l.attachments&&l.attachments.length>0&&(r.Z.dispatch({type:"MESSAGE_EXPLICIT_CONTENT_FP_CREATE",messageId:e,channelId:t.id,attachments:l.attachments}),(0,s.openModalLazy)(async()=>{let{default:a}=await n.e("57539").then(n.bind(n,924188));return n=>(0,i.jsx)(a,{...n,channelId:t.id,messageId:e})}))}else if(a===E.evJ.ENTITY_TOO_LARGE){let e=(0,_.dg)(t.getGuildId());o.Z.show({title:g.Z.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,body:g.Z.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:(0,_.Ng)(e)})})}else a===E.evJ.TOO_MANY_ATTACHMENTS&&o.Z.show({title:g.Z.Messages.ATTACHMENT_TOO_MANY_ERROR_TITLE,body:g.Z.Messages.ATTACHMENT_TOO_MANY_ERROR_MESSAGE.format({limit:E.dN1})});d({body:l})}),h.on("complete",(e,t)=>{c({body:t})}),h.uploadFiles(l,a,{addFilesTo:"message.attachments"})})}})}},113570:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(327227),l=n(192029),s=n(527119);function r(){return(0,i.jsx)("div",{className:a.container,children:(0,i.jsxs)("svg",{width:"224",height:"148",viewBox:"0 0 224 148",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M0.5 33.5H223.5V140C223.5 144.142 220.142 147.5 216 147.5H8C3.85786 147.5 0.5 144.142 0.5 140V33.5Z",fill:"#F2F3F4",stroke:"#E3E5E8"}),(0,i.jsx)("circle",{cx:"28",cy:"120",r:"16",fill:"url(#tutorial-media-channels-image1)"}),(0,i.jsx)("path",{d:"M62.104 116L61.468 107.72H59.488L57.4 113.96L55.3 107.72H53.284L52.648 116H54.076L54.496 109.892L56.584 116.024H58L60.076 109.892L60.52 116H62.104ZM65.7704 111.08C66.4664 111.08 66.8264 111.584 66.9224 112.484H64.6064C64.7144 111.548 65.1944 111.08 65.7704 111.08ZM68.3144 115.412L68.1464 114.284C67.5104 114.728 66.8984 115.004 66.1544 115.004C65.2664 115.004 64.6544 114.512 64.5944 113.384H68.3144C68.3144 113.3 68.3264 113.156 68.3264 113.036C68.3264 111.392 67.5464 110.084 65.8064 110.084C64.2944 110.084 63.1664 111.224 63.1664 113.108C63.1664 115.196 64.3784 116.12 65.9984 116.12C66.9344 116.12 67.6904 115.844 68.3144 115.412ZM72.6338 112.088C72.6338 112.724 72.2498 113.192 71.6138 113.192C70.9898 113.192 70.6058 112.736 70.6058 112.136C70.6058 111.5 70.9778 111.008 71.6138 111.008C72.2258 111.008 72.6338 111.476 72.6338 112.088ZM74.6858 116.24C74.6858 115.352 73.9418 114.98 72.7538 114.812L72.0098 114.74C71.1098 114.608 70.9298 114.56 70.9298 114.368C70.9298 114.272 71.0258 114.164 71.1698 114.056C71.3138 114.08 71.4698 114.092 71.6378 114.092C72.8858 114.092 73.9538 113.348 73.9538 112.1C73.9538 111.836 73.9058 111.572 73.7978 111.344L74.8538 111.272L74.6618 110.12L73.2458 110.624C72.8258 110.276 72.2738 110.084 71.6018 110.084C70.3058 110.084 69.2738 110.864 69.2738 112.136C69.2738 112.904 69.6818 113.504 70.3658 113.828C69.8858 114.116 69.6338 114.428 69.6338 114.752C69.6338 114.98 69.7418 115.196 69.9698 115.376C69.2498 115.784 68.8778 116.204 68.8778 116.744C68.8778 117.704 70.0658 118.184 71.6378 118.184C73.3178 118.184 74.6858 117.488 74.6858 116.24ZM71.7338 117.332C70.6418 117.332 70.1258 117.02 70.1258 116.588C70.1258 116.288 70.3178 116.012 70.7378 115.712C71.0258 115.772 71.2058 115.808 71.6018 115.856L72.3818 115.952C73.1018 116.06 73.3538 116.24 73.3538 116.552C73.3538 116.984 72.7658 117.332 71.7338 117.332ZM78.8219 114.404C78.4259 114.788 77.9579 115.028 77.4659 115.028C77.0219 115.028 76.7579 114.776 76.7579 114.356C76.7579 113.804 77.1539 113.312 78.8219 113.108V114.404ZM80.2619 116V112.028C80.2619 110.636 79.5179 110.084 78.0179 110.084C77.0939 110.084 76.3859 110.288 75.7139 110.552L75.8939 111.704C76.5179 111.428 77.1539 111.236 77.8259 111.236C78.4619 111.236 78.8219 111.476 78.8219 112.1V112.268C76.4819 112.496 75.3299 113.108 75.3299 114.512C75.3299 115.52 75.9899 116.12 76.9739 116.12C77.8379 116.12 78.4379 115.736 78.9059 115.244L79.0259 116H80.2619ZM86.633 116V111.824C86.633 110.744 86.057 110.084 84.977 110.084C84.197 110.084 83.585 110.504 83.045 111.02L82.913 110.204H81.689V116H83.129V112.088C83.549 111.644 84.005 111.356 84.449 111.356C84.977 111.356 85.193 111.704 85.193 112.208V116H86.633Z",fill:"#060607"}),(0,i.jsx)("path",{d:"M62.02 132L61.372 123.72H59.992L57.412 130.512L54.832 123.72H53.44L52.78 132H53.836L54.34 125.316L56.932 132.036H57.832L60.424 125.316L60.94 132H62.02ZM65.8287 126.996C66.6567 126.996 67.0647 127.524 67.1967 128.448H64.4367C64.6047 127.476 65.1687 126.996 65.8287 126.996ZM68.2647 131.352L68.1087 130.392C67.4847 130.884 66.8847 131.208 66.0567 131.208C65.0607 131.208 64.4367 130.584 64.3887 129.252H68.2767V129.024C68.2767 127.44 67.5087 126.156 65.8407 126.156C64.4007 126.156 63.3207 127.284 63.3207 129.12C63.3207 131.22 64.4847 132.12 65.9727 132.12C66.9207 132.12 67.6527 131.832 68.2647 131.352ZM71.073 123.72H69.789L70.077 129.54L70.773 129.384L71.073 123.72ZM71.025 132V130.572H69.825V132H71.025ZM84.7192 132L84.0712 123.72H82.6912L80.1112 130.512L77.5312 123.72H76.1392L75.4792 132H76.5352L77.0392 125.316L79.6312 132.036H80.5312L83.1232 125.316L83.6392 132H84.7192ZM89.6079 130.428C89.1279 130.92 88.5279 131.232 87.9039 131.232C87.3639 131.232 87.0519 130.932 87.0519 130.464C87.0519 129.876 87.4959 129.3 89.6079 129.096V130.428ZM90.6759 132V127.992C90.6759 126.72 90.0039 126.156 88.6119 126.156C87.7239 126.156 87.0759 126.36 86.3919 126.636L86.5359 127.56C87.1599 127.284 87.8199 127.068 88.5159 127.068C89.1759 127.068 89.6079 127.32 89.6079 128.04V128.28C87.2199 128.532 85.9959 129.096 85.9959 130.524C85.9959 131.496 86.6439 132.12 87.6759 132.12C88.6119 132.12 89.2359 131.7 89.6919 131.232L89.8119 132H90.6759ZM92.6347 134.184C93.4747 134.184 94.0987 133.872 94.5667 132.6L96.9067 126.276H95.7907L94.2907 130.728L92.7547 126.192L91.6747 126.36L93.7627 132.024L93.6187 132.408C93.3907 133.02 93.0667 133.248 92.5867 133.248C92.4187 133.248 92.2027 133.212 92.0227 133.164L92.1787 134.136C92.2867 134.16 92.4067 134.184 92.6347 134.184ZM103.068 128.976C103.068 127.068 102.048 126.156 100.812 126.156C100.032 126.156 99.4795 126.552 99.0955 126.948V123.336L98.0275 123.504V131.712C98.7835 131.94 99.3955 132.072 100.26 132.072C101.916 132.072 103.068 131.064 103.068 128.976ZM101.988 129.024C101.988 130.5 101.364 131.16 100.248 131.16C99.7195 131.16 99.4555 131.1 99.0955 130.968V128.04C99.5275 127.5 100.056 127.104 100.656 127.104C101.424 127.104 101.988 127.776 101.988 129.024ZM106.61 126.996C107.438 126.996 107.846 127.524 107.978 128.448H105.218C105.386 127.476 105.95 126.996 106.61 126.996ZM109.046 131.352L108.89 130.392C108.266 130.884 107.666 131.208 106.838 131.208C105.842 131.208 105.218 130.584 105.17 129.252H109.058V129.024C109.058 127.44 108.29 126.156 106.622 126.156C105.182 126.156 104.102 127.284 104.102 129.12C104.102 131.22 105.266 132.12 106.754 132.12C107.702 132.12 108.434 131.832 109.046 131.352ZM117.779 129.768C117.779 128.52 117.227 127.968 115.619 127.236C114.359 126.66 114.047 126.36 114.047 125.724C114.047 125.112 114.467 124.608 115.415 124.608C116.075 124.608 116.699 124.872 117.155 125.22L117.335 124.092C116.855 123.816 116.255 123.624 115.451 123.624C113.951 123.624 112.931 124.476 112.931 125.808C112.931 126.996 113.519 127.512 115.079 128.22C116.327 128.784 116.663 129.096 116.663 129.852C116.663 130.656 116.051 131.112 115.187 131.112C114.359 131.112 113.579 130.776 113.015 130.404L112.847 131.556C113.459 131.88 114.263 132.096 115.163 132.096C116.711 132.096 117.779 131.196 117.779 129.768ZM122.456 130.428C121.976 130.92 121.376 131.232 120.752 131.232C120.212 131.232 119.9 130.932 119.9 130.464C119.9 129.876 120.344 129.3 122.456 129.096V130.428ZM123.524 132V127.992C123.524 126.72 122.852 126.156 121.46 126.156C120.572 126.156 119.924 126.36 119.24 126.636L119.384 127.56C120.008 127.284 120.668 127.068 121.364 127.068C122.024 127.068 122.456 127.32 122.456 128.04V128.28C120.068 128.532 118.844 129.096 118.844 130.524C118.844 131.496 119.492 132.12 120.524 132.12C121.46 132.12 122.084 131.7 122.54 131.232L122.66 132H123.524ZM127.928 132.024L127.784 131.112C127.652 131.136 127.484 131.148 127.292 131.148C126.692 131.148 126.5 130.86 126.5 130.392V127.176H127.88L127.736 126.276H126.5V124.212L125.456 124.368V126.276H124.592V127.176H125.456V130.584C125.456 131.736 126.116 132.096 127.124 132.096C127.496 132.096 127.748 132.06 127.928 132.024ZM129.199 126.276V130.44C129.199 131.472 129.763 132.12 130.855 132.12C131.659 132.12 132.343 131.676 132.883 131.172L133.015 132H133.867V126.276H132.799V130.236C132.283 130.788 131.707 131.16 131.143 131.16C130.519 131.16 130.267 130.764 130.267 130.176V126.276H129.199ZM138.755 127.176L138.587 126.156C137.651 126.204 136.991 126.792 136.583 127.44L136.403 126.276H135.551V132H136.619V128.616C137.003 127.86 137.807 127.224 138.755 127.176ZM140.397 129.252C140.397 127.836 141.045 127.104 141.945 127.104C142.557 127.104 142.905 127.2 143.349 127.428V130.164C142.893 130.776 142.389 131.172 141.729 131.172C140.961 131.172 140.397 130.512 140.397 129.252ZM139.317 129.3C139.317 131.22 140.337 132.12 141.573 132.12C142.413 132.12 143.001 131.688 143.433 131.172L143.565 132H144.417V123.336L143.349 123.504V126.456C142.989 126.312 142.473 126.204 141.909 126.204C140.517 126.204 139.317 127.212 139.317 129.3ZM149.362 130.428C148.882 130.92 148.282 131.232 147.658 131.232C147.118 131.232 146.806 130.932 146.806 130.464C146.806 129.876 147.25 129.3 149.362 129.096V130.428ZM150.43 132V127.992C150.43 126.72 149.758 126.156 148.366 126.156C147.478 126.156 146.83 126.36 146.146 126.636L146.29 127.56C146.914 127.284 147.574 127.068 148.27 127.068C148.93 127.068 149.362 127.32 149.362 128.04V128.28C146.974 128.532 145.75 129.096 145.75 130.524C145.75 131.496 146.398 132.12 147.43 132.12C148.366 132.12 148.99 131.7 149.446 131.232L149.566 132H150.43ZM152.389 134.184C153.229 134.184 153.853 133.872 154.321 132.6L156.661 126.276H155.545L154.045 130.728L152.509 126.192L151.429 126.36L153.517 132.024L153.373 132.408C153.145 133.02 152.821 133.248 152.341 133.248C152.173 133.248 151.957 133.212 151.777 133.164L151.933 134.136C152.041 134.16 152.161 134.184 152.389 134.184ZM159.19 129.54L159.886 129.384L159.994 128.196C161.422 127.548 162.286 126.984 162.286 125.688C162.286 124.38 161.29 123.564 159.826 123.564C158.842 123.564 157.99 123.912 157.258 124.452L157.414 125.556C158.086 125.004 158.83 124.584 159.766 124.584C160.57 124.584 161.158 125.004 161.158 125.736C161.158 126.504 160.654 126.888 159.526 127.356L159.034 127.56L159.19 129.54ZM158.938 132H160.138V130.572H158.938V132Z",fill:"#2E3338"}),(0,i.jsx)("path",{d:"M0.5 8C0.5 3.85786 3.85786 0.5 8 0.5H216C220.142 0.5 223.5 3.85786 223.5 8V33.5H0.5V8Z",fill:"#F2F3F4",stroke:"#E3E5E8"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5641 23.75C12.253 23.75 12.0174 23.4689 12.0718 23.1626L12.5 20.75H10.0951C9.78449 20.75 9.54905 20.4698 9.60259 20.1638L9.69009 19.6638C9.73196 19.4246 9.93972 19.25 10.1826 19.25H12.7625L13.5575 14.75H11.1526C10.842 14.75 10.6065 14.4698 10.6601 14.1638L10.7476 13.6638C10.7895 13.4246 10.9972 13.25 11.2401 13.25H13.82L14.2793 10.6626C14.3216 10.4239 14.5291 10.25 14.7716 10.25H15.2559C15.567 10.25 15.8026 10.5311 15.7482 10.8374L15.32 13.25H19.82L20.2793 10.6626C20.3216 10.4239 20.5291 10.25 20.7716 10.25H21.2559C21.567 10.25 21.8026 10.5311 21.7482 10.8374L21.32 13.25H23.7249C24.0355 13.25 24.271 13.5302 24.2174 13.8362L24.1299 14.3362C24.0881 14.5754 23.8803 14.75 23.6374 14.75H21.0575L20.2625 19.25H22.6674C22.978 19.25 23.2135 19.5302 23.1599 19.8362L23.0724 20.3362C23.0306 20.5754 22.8228 20.75 22.5799 20.75H20L19.5407 23.3374C19.4984 23.5761 19.2909 23.75 19.0484 23.75H18.5641C18.253 23.75 18.0174 23.4689 18.0718 23.1626L18.5 20.75H14L13.5407 23.3374C13.4984 23.5761 13.2909 23.75 13.0484 23.75H12.5641ZM15.0578 14.75L14.2628 19.25H18.7628L19.5578 14.75H15.0578Z",fill:"#4F5660"}),(0,i.jsx)("path",{d:"M41.014 22V17.128C41.014 15.868 40.384 15.098 39.11 15.098C38.2 15.098 37.458 15.588 36.856 16.19C36.604 15.532 36.086 15.098 35.12 15.098C34.21 15.098 33.524 15.588 32.894 16.19L32.74 15.238H31.312V22H32.992V17.422C33.482 16.918 33.972 16.582 34.49 16.582C35.106 16.582 35.33 16.988 35.33 17.576V22H37.01V17.422C37.5 16.918 37.99 16.582 38.508 16.582C39.124 16.582 39.334 16.988 39.334 17.576V22H41.014ZM46.3967 20.138C45.9347 20.586 45.3887 20.866 44.8147 20.866C44.2967 20.866 43.9887 20.572 43.9887 20.082C43.9887 19.438 44.4507 18.864 46.3967 18.626V20.138ZM48.0767 22V17.366C48.0767 15.742 47.2087 15.098 45.4587 15.098C44.3807 15.098 43.5547 15.336 42.7707 15.644L42.9807 16.988C43.7087 16.666 44.4507 16.442 45.2347 16.442C45.9767 16.442 46.3967 16.722 46.3967 17.45V17.646C43.6667 17.912 42.3227 18.626 42.3227 20.264C42.3227 21.44 43.0927 22.14 44.2407 22.14C45.2487 22.14 45.9487 21.692 46.4947 21.118L46.6347 22H48.0767ZM53.8857 22.098L55.6777 21.832L53.0317 18.29L55.5237 15.238H53.6197L51.4217 18.038V11.892L49.7417 12.158V22H51.4217V18.64L53.8857 22.098ZM59.1699 16.26C59.9819 16.26 60.4019 16.848 60.5139 17.898H57.8119C57.9379 16.806 58.4979 16.26 59.1699 16.26ZM62.1379 21.314L61.9419 19.998C61.1999 20.516 60.4859 20.838 59.6179 20.838C58.5819 20.838 57.8679 20.264 57.7979 18.948H62.1379C62.1379 18.85 62.1519 18.682 62.1519 18.542C62.1519 16.624 61.2419 15.098 59.2119 15.098C57.4479 15.098 56.1319 16.428 56.1319 18.626C56.1319 21.062 57.5459 22.14 59.4359 22.14C60.5279 22.14 61.4099 21.818 62.1379 21.314ZM66.9533 18.78V17.156H63.3133V18.78H66.9533ZM72.9665 18.528C72.9665 20.012 72.3085 20.726 71.4405 20.726C70.8665 20.726 70.5445 20.628 70.1385 20.432V17.534C70.5865 16.96 71.0625 16.582 71.6645 16.582C72.4205 16.582 72.9665 17.226 72.9665 18.528ZM74.6605 18.43C74.6605 16.162 73.5265 15.098 72.1125 15.098C71.1745 15.098 70.5165 15.616 70.0405 16.162L69.8865 15.238H68.4585V24.604L70.1385 24.352V21.804C70.5445 21.958 71.0625 22.07 71.7065 22.07C73.2605 22.07 74.6605 20.95 74.6605 18.43ZM77.7827 22V11.892L76.1027 12.158V22H77.7827ZM83.2561 20.138C82.7941 20.586 82.2481 20.866 81.6741 20.866C81.1561 20.866 80.8481 20.572 80.8481 20.082C80.8481 19.438 81.3101 18.864 83.2561 18.626V20.138ZM84.9361 22V17.366C84.9361 15.742 84.0681 15.098 82.3181 15.098C81.2401 15.098 80.4141 15.336 79.6301 15.644L79.8401 16.988C80.5681 16.666 81.3101 16.442 82.0941 16.442C82.8361 16.442 83.2561 16.722 83.2561 17.45V17.646C80.5261 17.912 79.1821 18.626 79.1821 20.264C79.1821 21.44 79.9521 22.14 81.1001 22.14C82.1081 22.14 82.8081 21.692 83.3541 21.118L83.4941 22H84.9361ZM92.3691 22V17.128C92.3691 15.868 91.6971 15.098 90.4371 15.098C89.5271 15.098 88.8131 15.588 88.1831 16.19L88.0291 15.238H86.6011V22H88.2811V17.436C88.7711 16.918 89.3031 16.582 89.8211 16.582C90.4371 16.582 90.6891 16.988 90.6891 17.576V22H92.3691ZM99.0642 20.012C99.0642 18.738 98.3782 18.262 96.6282 17.814C95.6202 17.548 95.3682 17.338 95.3682 16.974C95.3682 16.61 95.6762 16.358 96.3062 16.358C96.9782 16.358 97.7762 16.596 98.4482 16.974L98.6722 15.574C98.0002 15.28 97.1882 15.098 96.3062 15.098C94.7382 15.098 93.8142 15.924 93.8142 17.1C93.8142 18.332 94.5002 18.808 96.1382 19.228C97.2162 19.494 97.5102 19.69 97.5102 20.166C97.5102 20.614 97.1182 20.88 96.3902 20.88C95.5502 20.88 94.6542 20.558 93.9262 20.082L93.7022 21.482C94.3462 21.832 95.3542 22.14 96.3342 22.14C98.1122 22.14 99.0642 21.342 99.0642 20.012Z",fill:"#060607"}),(0,i.jsx)("circle",{cx:"28",cy:"62",r:"16",fill:"url(#tutorial-media-channels-image2)"}),(0,i.jsx)("path",{d:"M59.572 60V51.72H58.096V57.144L54.376 51.72H52.876V60H54.352V54.3L58.252 60H59.572ZM63.4852 55.08C64.1812 55.08 64.5412 55.584 64.6372 56.484H62.3212C62.4292 55.548 62.9092 55.08 63.4852 55.08ZM66.0292 59.412L65.8612 58.284C65.2252 58.728 64.6132 59.004 63.8692 59.004C62.9812 59.004 62.3692 58.512 62.3092 57.384H66.0292C66.0292 57.3 66.0412 57.156 66.0412 57.036C66.0412 55.392 65.2612 54.084 63.5212 54.084C62.0092 54.084 60.8812 55.224 60.8812 57.108C60.8812 59.196 62.0932 60.12 63.7132 60.12C64.6492 60.12 65.4052 59.844 66.0292 59.412ZM68.7047 60V51.336L67.2647 51.564V60H68.7047ZM71.7281 60V51.336L70.2881 51.564V60H71.7281ZM73.8635 62.184C74.9075 62.184 75.5795 61.764 76.0715 60.372L78.2915 54.204H76.8395L75.5435 58.284L74.2235 54.12L72.7235 54.312L74.8235 59.988L74.7755 60.156C74.5835 60.78 74.1995 60.996 73.7195 60.996C73.4675 60.996 73.2635 60.96 73.0835 60.912L73.2755 62.124C73.4075 62.16 73.5515 62.184 73.8635 62.184Z",fill:"#060607"}),(0,i.jsx)("path",{d:"M58.792 76.084L59.908 75.844L56.716 67.684H55.588L52.348 76H53.524L54.448 73.516H57.82L58.792 76.084ZM56.128 69.004L57.448 72.52H54.82L56.128 69.004ZM65.7697 76V71.836C65.7697 70.804 65.1937 70.156 64.1137 70.156C63.2977 70.156 62.6257 70.612 62.0857 71.104L61.9537 70.276H61.1017V76H62.1697V72.04C62.6857 71.488 63.2617 71.116 63.8257 71.116C64.4497 71.116 64.7017 71.512 64.7017 72.1V76H65.7697ZM67.7558 78.184C68.5958 78.184 69.2198 77.872 69.6878 76.6L72.0278 70.276H70.9118L69.4118 74.728L67.8758 70.192L66.7958 70.36L68.8838 76.024L68.7398 76.408C68.5118 77.02 68.1878 77.248 67.7078 77.248C67.5398 77.248 67.3238 77.212 67.1438 77.164L67.2998 78.136C67.4078 78.16 67.5278 78.184 67.7558 78.184ZM77.9291 73.144C77.9291 71.26 76.8011 70.156 75.2651 70.156C73.7411 70.156 72.6371 71.26 72.6371 73.144C72.6371 75.028 73.7411 76.12 75.2651 76.12C76.8011 76.12 77.9291 75.028 77.9291 73.144ZM76.8491 73.144C76.8491 74.344 76.3211 75.232 75.2651 75.232C74.2571 75.232 73.7171 74.32 73.7171 73.144C73.7171 71.944 74.2331 71.044 75.2651 71.044C76.2971 71.044 76.8491 71.968 76.8491 73.144ZM83.9572 76V71.836C83.9572 70.804 83.3812 70.156 82.3012 70.156C81.4852 70.156 80.8132 70.612 80.2732 71.104L80.1412 70.276H79.2892V76H80.3572V72.04C80.8732 71.488 81.4492 71.116 82.0132 71.116C82.6372 71.116 82.8892 71.512 82.8892 72.1V76H83.9572ZM87.8013 70.996C88.6293 70.996 89.0373 71.524 89.1693 72.448H86.4093C86.5773 71.476 87.1413 70.996 87.8013 70.996ZM90.2373 75.352L90.0813 74.392C89.4573 74.884 88.8573 75.208 88.0293 75.208C87.0333 75.208 86.4093 74.584 86.3613 73.252H90.2493V73.024C90.2493 71.44 89.4813 70.156 87.8133 70.156C86.3733 70.156 85.2933 71.284 85.2933 73.12C85.2933 75.22 86.4573 76.12 87.9453 76.12C88.8933 76.12 89.6253 75.832 90.2373 75.352ZM101.73 70.276H100.662L99.4503 74.512L98.1903 70.276H97.2903L96.0303 74.512L94.7823 70.192L93.7383 70.36L95.5743 76.024H96.4623L97.7223 71.704L98.9943 76.024H99.8943L101.73 70.276ZM106.014 74.428C105.534 74.92 104.934 75.232 104.31 75.232C103.77 75.232 103.458 74.932 103.458 74.464C103.458 73.876 103.902 73.3 106.014 73.096V74.428ZM107.082 76V71.992C107.082 70.72 106.41 70.156 105.018 70.156C104.13 70.156 103.482 70.36 102.798 70.636L102.942 71.56C103.566 71.284 104.226 71.068 104.922 71.068C105.582 71.068 106.014 71.32 106.014 72.04V72.28C103.626 72.532 102.402 73.096 102.402 74.524C102.402 75.496 103.05 76.12 104.082 76.12C105.018 76.12 105.642 75.7 106.098 75.232L106.218 76H107.082ZM113.406 76V71.836C113.406 70.804 112.83 70.156 111.75 70.156C110.934 70.156 110.262 70.612 109.722 71.104L109.59 70.276H108.738V76H109.806V72.04C110.322 71.488 110.898 71.116 111.462 71.116C112.086 71.116 112.338 71.512 112.338 72.1V76H113.406ZM117.815 76.024L117.671 75.112C117.539 75.136 117.371 75.148 117.179 75.148C116.579 75.148 116.387 74.86 116.387 74.392V71.176H117.767L117.623 70.276H116.387V68.212L115.343 68.368V70.276H114.479V71.176H115.343V74.584C115.343 75.736 116.003 76.096 117.011 76.096C117.383 76.096 117.635 76.06 117.815 76.024ZM124.494 76.024L124.35 75.112C124.218 75.136 124.05 75.148 123.858 75.148C123.258 75.148 123.066 74.86 123.066 74.392V71.176H124.446L124.302 70.276H123.066V68.212L122.022 68.368V70.276H121.158V71.176H122.022V74.584C122.022 75.736 122.682 76.096 123.69 76.096C124.062 76.096 124.314 76.06 124.494 76.024ZM130.71 73.144C130.71 71.26 129.582 70.156 128.046 70.156C126.522 70.156 125.418 71.26 125.418 73.144C125.418 75.028 126.522 76.12 128.046 76.12C129.582 76.12 130.71 75.028 130.71 73.144ZM129.63 73.144C129.63 74.344 129.102 75.232 128.046 75.232C127.038 75.232 126.498 74.32 126.498 73.144C126.498 71.944 127.014 71.044 128.046 71.044C129.078 71.044 129.63 71.968 129.63 73.144ZM139.375 76V71.836C139.375 70.804 138.799 70.156 137.719 70.156C136.903 70.156 136.243 70.612 135.775 71.032V67.336L134.707 67.504V76H135.775V72.04C136.291 71.488 136.867 71.116 137.431 71.116C138.055 71.116 138.307 71.512 138.307 72.1V76H139.375ZM144.299 74.428C143.819 74.92 143.219 75.232 142.595 75.232C142.055 75.232 141.743 74.932 141.743 74.464C141.743 73.876 142.187 73.3 144.299 73.096V74.428ZM145.367 76V71.992C145.367 70.72 144.695 70.156 143.303 70.156C142.415 70.156 141.767 70.36 141.083 70.636L141.227 71.56C141.851 71.284 142.511 71.068 143.207 71.068C143.867 71.068 144.299 71.32 144.299 72.04V72.28C141.911 72.532 140.687 73.096 140.687 74.524C140.687 75.496 141.335 76.12 142.367 76.12C143.303 76.12 143.927 75.7 144.383 75.232L144.503 76H145.367ZM151.692 76V71.836C151.692 70.804 151.116 70.156 150.036 70.156C149.22 70.156 148.548 70.612 148.008 71.104L147.876 70.276H147.024V76H148.092V72.04C148.608 71.488 149.184 71.116 149.748 71.116C150.372 71.116 150.624 71.512 150.624 72.1V76H151.692ZM156.484 72.136C156.484 72.82 156.028 73.36 155.296 73.36C154.588 73.36 154.132 72.844 154.132 72.184C154.132 71.488 154.576 70.936 155.296 70.936C156.004 70.936 156.484 71.452 156.484 72.136ZM158.188 76.42C158.188 75.532 157.432 75.148 156.22 74.932L155.812 74.86C154.804 74.68 154.6 74.632 154.6 74.428C154.6 74.32 154.72 74.188 154.888 74.08C155.032 74.104 155.176 74.116 155.32 74.116C156.484 74.116 157.516 73.372 157.516 72.148C157.516 71.824 157.444 71.524 157.288 71.26L158.38 71.152L158.224 70.192L156.772 70.636C156.376 70.324 155.872 70.156 155.296 70.156C154.132 70.156 153.1 70.912 153.1 72.148C153.1 72.928 153.532 73.528 154.168 73.852C153.784 74.08 153.568 74.356 153.568 74.632C153.568 74.848 153.676 75.052 153.928 75.232C153.124 75.664 152.716 76.12 152.716 76.708C152.716 77.716 153.904 78.184 155.392 78.184C156.88 78.184 158.188 77.62 158.188 76.42ZM155.44 77.416C154.324 77.416 153.736 77.08 153.736 76.624C153.736 76.228 154.036 75.892 154.708 75.556C154.936 75.604 155.104 75.64 155.416 75.7L156.1 75.82C156.916 75.964 157.18 76.204 157.18 76.552C157.18 77.032 156.556 77.416 155.44 77.416ZM167.003 73.144C167.003 71.26 165.875 70.156 164.339 70.156C162.815 70.156 161.711 71.26 161.711 73.144C161.711 75.028 162.815 76.12 164.339 76.12C165.875 76.12 167.003 75.028 167.003 73.144ZM165.923 73.144C165.923 74.344 165.395 75.232 164.339 75.232C163.331 75.232 162.791 74.32 162.791 73.144C162.791 71.944 163.307 71.044 164.339 71.044C165.371 71.044 165.923 71.968 165.923 73.144ZM168.339 70.276V74.44C168.339 75.472 168.903 76.12 169.995 76.12C170.799 76.12 171.483 75.676 172.023 75.172L172.155 76H173.007V70.276H171.939V74.236C171.423 74.788 170.847 75.16 170.283 75.16C169.659 75.16 169.407 74.764 169.407 74.176V70.276H168.339ZM177.44 76.024L177.296 75.112C177.164 75.136 176.996 75.148 176.804 75.148C176.204 75.148 176.012 74.86 176.012 74.392V71.176H177.392L177.248 70.276H176.012V68.212L174.968 68.368V70.276H174.104V71.176H174.968V74.584C174.968 75.736 175.628 76.096 176.636 76.096C177.008 76.096 177.26 76.06 177.44 76.024ZM184.119 76.024L183.975 75.112C183.843 75.136 183.675 75.148 183.483 75.148C182.883 75.148 182.691 74.86 182.691 74.392V71.176H184.071L183.927 70.276H182.691V68.212L181.647 68.368V70.276H180.783V71.176H181.647V74.584C181.647 75.736 182.307 76.096 183.315 76.096C183.687 76.096 183.939 76.06 184.119 76.024ZM190.082 76V71.836C190.082 70.804 189.506 70.156 188.426 70.156C187.61 70.156 186.95 70.612 186.482 71.032V67.336L185.414 67.504V76H186.482V72.04C186.998 71.488 187.574 71.116 188.138 71.116C188.762 71.116 189.014 71.512 189.014 72.1V76H190.082ZM193.038 68.452C193.038 68.08 192.738 67.768 192.366 67.768C191.994 67.768 191.682 68.08 191.682 68.452C191.682 68.824 191.994 69.124 192.366 69.124C192.738 69.124 193.038 68.824 193.038 68.452ZM192.894 76V70.276H191.826V76H192.894ZM198.656 74.404C198.656 73.312 198.02 72.904 196.604 72.544C195.704 72.316 195.416 72.1 195.416 71.716C195.416 71.308 195.752 71.056 196.4 71.056C197 71.056 197.636 71.26 198.14 71.548L198.308 70.54C197.768 70.3 197.132 70.156 196.424 70.156C195.176 70.156 194.408 70.828 194.408 71.74C194.408 72.76 194.948 73.168 196.292 73.504C197.324 73.756 197.648 73.948 197.648 74.476C197.648 74.956 197.216 75.232 196.484 75.232C195.704 75.232 195.008 74.944 194.468 74.572L194.312 75.58C194.804 75.856 195.644 76.12 196.4 76.12C197.876 76.12 198.656 75.448 198.656 74.404ZM60.328 86.276H59.26L58.048 90.512L56.788 86.276H55.888L54.628 90.512L53.38 86.192L52.336 86.36L54.172 92.024H55.06L56.32 87.704L57.592 92.024H58.492L60.328 86.276ZM63.5318 86.996C64.3598 86.996 64.7678 87.524 64.8998 88.448H62.1398C62.3078 87.476 62.8718 86.996 63.5318 86.996ZM65.9678 91.352L65.8118 90.392C65.1878 90.884 64.5878 91.208 63.7598 91.208C62.7638 91.208 62.1398 90.584 62.0918 89.252H65.9798V89.024C65.9798 87.44 65.2118 86.156 63.5438 86.156C62.1038 86.156 61.0238 87.284 61.0238 89.12C61.0238 91.22 62.1878 92.12 63.6758 92.12C64.6238 92.12 65.3558 91.832 65.9678 91.352ZM69.5201 86.996C70.3481 86.996 70.7561 87.524 70.8881 88.448H68.1281C68.2961 87.476 68.8601 86.996 69.5201 86.996ZM71.9561 91.352L71.8001 90.392C71.1761 90.884 70.5761 91.208 69.7481 91.208C68.7521 91.208 68.1281 90.584 68.0801 89.252H71.9681V89.024C71.9681 87.44 71.2001 86.156 69.5321 86.156C68.0921 86.156 67.0121 87.284 67.0121 89.12C67.0121 91.22 68.1761 92.12 69.6641 92.12C70.6121 92.12 71.3441 91.832 71.9561 91.352ZM76.9364 92.084L78.1004 91.904L75.4844 88.808L77.8964 86.276H76.6124L74.3924 88.676V83.336L73.3244 83.504V92H74.3924V89L76.9364 92.084ZM81.1099 86.996C81.9379 86.996 82.3459 87.524 82.4779 88.448H79.7179C79.8859 87.476 80.4499 86.996 81.1099 86.996ZM83.5459 91.352L83.3899 90.392C82.7659 90.884 82.1659 91.208 81.3379 91.208C80.3419 91.208 79.7179 90.584 79.6699 89.252H83.5579V89.024C83.5579 87.44 82.7899 86.156 81.1219 86.156C79.6819 86.156 78.6019 87.284 78.6019 89.12C78.6019 91.22 79.7659 92.12 81.2539 92.12C82.2019 92.12 82.9339 91.832 83.5459 91.352ZM89.5822 92V87.836C89.5822 86.804 89.0062 86.156 87.9262 86.156C87.1102 86.156 86.4382 86.612 85.8982 87.104L85.7662 86.276H84.9142V92H85.9822V88.04C86.4982 87.488 87.0742 87.116 87.6382 87.116C88.2622 87.116 88.5142 87.512 88.5142 88.1V92H89.5822ZM91.9983 89.252C91.9983 87.836 92.6463 87.104 93.5463 87.104C94.1583 87.104 94.5063 87.2 94.9503 87.428V90.164C94.4943 90.776 93.9903 91.172 93.3303 91.172C92.5623 91.172 91.9983 90.512 91.9983 89.252ZM90.9183 89.3C90.9183 91.22 91.9383 92.12 93.1743 92.12C94.0143 92.12 94.6023 91.688 95.0343 91.172L95.1663 92H96.0183V83.336L94.9503 83.504V86.456C94.5903 86.312 94.0743 86.204 93.5103 86.204C92.1183 86.204 90.9183 87.212 90.9183 89.3ZM99.3194 89.54L100.015 89.384L100.123 88.196C101.551 87.548 102.415 86.984 102.415 85.688C102.415 84.38 101.419 83.564 99.9554 83.564C98.9714 83.564 98.1194 83.912 97.3874 84.452L97.5434 85.556C98.2154 85.004 98.9594 84.584 99.8954 84.584C100.699 84.584 101.287 85.004 101.287 85.736C101.287 86.504 100.783 86.888 99.6554 87.356L99.1634 87.56L99.3194 89.54ZM99.0674 92H100.267V90.572H99.0674V92Z",fill:"#2E3338"}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("pattern",{id:"tutorial-media-channels-image1",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,i.jsx)("image",{x:"0",y:"0",height:"32",width:"32",href:l})}),(0,i.jsx)("pattern",{id:"tutorial-media-channels-image2",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,i.jsx)("image",{x:"0",y:"0",height:"32",width:"32",href:s})})]})]})})}},482641:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(129385),l=n(192029),s=n(527119);function r(){return(0,i.jsx)("div",{className:a.container,children:(0,i.jsxs)("svg",{width:"248",height:"67",viewBox:"0 0 248 67",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M1.91937 22.0819L0.353585 25.3514C0.282937 25.5093 0.265227 25.6857 0.303076 25.8544C0.311999 25.943 0.339002 26.0288 0.382429 26.1067C0.425856 26.1845 0.484791 26.2527 0.555622 26.3071C0.607907 26.38 0.675826 26.4403 0.754452 26.4838C0.833079 26.5273 0.920441 26.5529 1.0102 26.5586C1.19659 26.5915 1.38843 26.5741 1.5658 26.5083L4.74788 24.949L5.15196 24.8484L5.55603 24.949L8.73811 26.5083H9.29371L9.74829 26.2568C9.85659 26.1275 9.92655 25.9707 9.95033 25.8041C9.98818 25.6354 9.97046 25.459 9.89982 25.3011L8.33403 22.0315C8.2926 21.919 8.27539 21.799 8.28352 21.6794C8.27533 21.5434 8.29245 21.4069 8.33403 21.277L9.89982 18.1081C9.94425 18.0329 9.97177 17.949 9.98049 17.8621C9.98921 17.7753 9.97892 17.6876 9.95033 17.6051C9.93611 17.4208 9.86561 17.2453 9.74829 17.1021C9.60449 16.9853 9.42824 16.9151 9.2432 16.9009C9.16036 16.8724 9.07231 16.8622 8.98511 16.8709C8.89791 16.8796 8.81364 16.907 8.73811 16.9512L5.50552 18.5105L5.10145 18.6111L4.69737 18.5105L1.5153 16.9512C1.43095 16.9057 1.3382 16.8778 1.24269 16.8692C1.14717 16.8605 1.05089 16.8713 0.959695 16.9009C0.792331 16.9246 0.634911 16.9943 0.505112 17.1021C0.372179 17.2408 0.284186 17.416 0.252566 17.6051C0.236844 17.779 0.271925 17.9537 0.353585 18.1081L1.86886 21.3273C1.94921 21.4454 1.98499 21.5879 1.96988 21.7297C1.98577 21.7888 1.98948 21.8504 1.9808 21.9109C1.97212 21.9715 1.95122 22.0296 1.91937 22.0819Z",fill:"#AEC7FF"}),(0,i.jsx)("path",{d:"M205.949 47.6259C218.112 47.6259 227.971 37.8071 227.971 25.695C227.971 13.5829 218.112 3.76405 205.949 3.76405C193.787 3.76405 183.927 13.5829 183.927 25.695C183.927 37.8071 193.787 47.6259 205.949 47.6259Z",fill:"url(#tutorial-media-voice-channels-image2)"}),(0,i.jsx)("path",{d:"M206.106 47.5713C218.256 47.5713 228.106 37.7216 228.106 25.5713C228.106 13.4211 218.256 3.57133 206.106 3.57133C193.956 3.57133 184.106 13.4211 184.106 25.5713C184.106 37.7216 193.956 47.5713 206.106 47.5713Z",stroke:"#3ba55c",strokeWidth:"3"}),(0,i.jsx)("path",{d:"M43.8822 66.4461C56.0446 66.4461 65.9042 56.6273 65.9042 44.5152C65.9042 32.4031 56.0446 22.5843 43.8822 22.5843C31.7198 22.5843 21.8602 32.4031 21.8602 44.5152C21.8602 56.6273 31.7198 66.4461 43.8822 66.4461Z",fill:"url(#tutorial-media-voice-channels-image1)"}),(0,i.jsx)("path",{d:"M43.6684 66.0315C55.8187 66.0315 65.6684 56.1818 65.6684 44.0315C65.6684 31.8813 55.8187 22.0315 43.6684 22.0315C31.5181 22.0315 21.6684 31.8813 21.6684 44.0315C21.6684 56.1818 31.5181 66.0315 43.6684 66.0315Z",stroke:"#3ba55c",strokeWidth:"3"}),(0,i.jsx)("path",{d:"M138.597 43.8116C134.96 31.857 134.96 19.0973 138.597 7.14265",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M111.562 25.5955C115.2 37.5501 115.2 50.3098 111.562 62.2644",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M159.71 37.6246C158.509 33.6948 157.896 29.6101 157.892 25.5023C157.9 21.3782 158.513 17.2775 159.71 13.3296",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M149.154 10.2613C146.124 20.198 146.124 30.8065 149.154 40.7433",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M170.266 16.4482C169.347 19.3785 168.887 22.4324 168.903 25.5023C168.887 28.5721 169.347 31.626 170.266 34.5563",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M90.0579 56.1351C91.2957 52.1951 91.9258 48.0908 91.9267 43.9625C91.9301 39.8503 91.2999 35.7619 90.0579 31.8401",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M100.614 28.6068C103.644 38.5435 103.644 49.152 100.614 59.0887",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M79.5015 34.9084C81.3857 40.7986 81.3857 47.1263 79.5015 53.0165",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M182.237 57.1914L184.257 56.4872C184.354 56.4431 184.436 56.3722 184.494 56.2831C184.551 56.1939 184.582 56.0902 184.582 55.9842C184.582 55.8783 184.551 55.7746 184.494 55.6854C184.436 55.5962 184.354 55.5254 184.257 55.4812L182.237 54.777C182.16 54.7552 182.088 54.7169 182.027 54.6648C181.966 54.6127 181.917 54.548 181.884 54.4752L181.176 52.4632C181.143 52.3626 181.079 52.275 180.993 52.2128C180.907 52.1507 180.803 52.1173 180.697 52.1173C180.59 52.1173 180.487 52.1507 180.4 52.2128C180.314 52.275 180.25 52.3626 180.217 52.4632L179.51 54.4752C179.476 54.548 179.427 54.6127 179.366 54.6648C179.305 54.7169 179.233 54.7552 179.156 54.777L177.186 55.4812C177.052 55.4812 176.924 55.5342 176.829 55.6286C176.734 55.7229 176.681 55.8508 176.681 55.9842C176.681 56.1176 176.734 56.2456 176.829 56.3399C176.924 56.4343 177.052 56.4872 177.186 56.4872L179.156 57.1914C179.233 57.2133 179.305 57.2516 179.366 57.3037C179.427 57.3558 179.476 57.4205 179.51 57.4933L180.217 59.5053C180.25 59.6059 180.314 59.6935 180.4 59.7556C180.487 59.8178 180.59 59.8512 180.697 59.8512C180.803 59.8512 180.907 59.8178 180.993 59.7556C181.079 59.6935 181.143 59.6059 181.176 59.5053L181.884 57.4933C181.917 57.4205 181.966 57.3558 182.027 57.3037C182.088 57.2516 182.16 57.2133 182.237 57.1914Z",fill:"#EC7DF7"}),(0,i.jsx)("path",{d:"M242.696 1.35812C242.696 0.746955 242.199 0.251511 241.585 0.251511C240.972 0.251511 240.474 0.746955 240.474 1.35812V2.4949C240.474 3.10607 240.972 3.60151 241.585 3.60151C242.199 3.60151 242.696 3.10607 242.696 2.4949V1.35812Z",fill:"#7196FF"}),(0,i.jsx)("path",{d:"M242.696 10.2613C242.696 9.65011 242.199 9.15466 241.585 9.15466C240.972 9.15466 240.474 9.65011 240.474 10.2613V11.3981C240.474 12.0092 240.972 12.5047 241.585 12.5047C242.199 12.5047 242.696 12.0092 242.696 11.3981V10.2613Z",fill:"#7196FF"}),(0,i.jsx)("path",{d:"M246.636 7.49476C247.25 7.49476 247.747 6.99933 247.747 6.38817C247.747 5.77701 247.25 5.28156 246.636 5.28156H245.495C244.881 5.28156 244.384 5.77701 244.384 6.38817C244.384 6.99933 244.881 7.49476 245.495 7.49476H246.636Z",fill:"#7196FF"}),(0,i.jsx)("path",{d:"M237.696 7.49477C238.31 7.49477 238.807 6.99931 238.807 6.38815C238.807 5.77699 238.31 5.28154 237.696 5.28154H236.555C235.941 5.28154 235.443 5.77699 235.443 6.38815C235.443 6.99931 235.941 7.49477 236.555 7.49477H237.696Z",fill:"#7196FF"}),(0,i.jsx)("path",{d:"M25.2929 2.23526C24.8786 1.82274 24.207 1.82274 23.7928 2.23526C23.3786 2.64777 23.3786 3.31659 23.7928 3.7291L24.5535 4.48669C24.9678 4.8992 25.6394 4.8992 26.0536 4.48669C26.4678 4.07418 26.4678 3.40536 26.0536 2.99285L25.2929 2.23526Z",fill:"#F7D036"}),(0,i.jsx)("path",{d:"M31.3539 8.25656C30.9397 7.84404 30.2681 7.84404 29.8538 8.25656C29.4396 8.66907 29.4396 9.33789 29.8538 9.7504L30.6146 10.508C31.0288 10.9205 31.7004 10.9205 32.1146 10.508C32.5289 10.0955 32.5289 9.42666 32.1146 9.01415L31.3539 8.25656Z",fill:"#F7D036"}),(0,i.jsx)("path",{d:"M32.109 3.71739C32.5233 3.30488 32.5233 2.63606 32.109 2.22354C31.6948 1.81103 31.0232 1.81103 30.609 2.22355L29.8482 2.98114C29.434 3.39365 29.434 4.06247 29.8482 4.47498C30.2625 4.88749 30.9341 4.88749 31.3483 4.47498L32.109 3.71739Z",fill:"#F7D036"}),(0,i.jsx)("path",{d:"M26.0985 9.73869C26.5128 9.32618 26.5128 8.65736 26.0985 8.24485C25.6843 7.83233 25.0127 7.83233 24.5985 8.24485L23.8378 9.00244C23.4235 9.41495 23.4235 10.0838 23.8378 10.4963C24.252 10.9088 24.9236 10.9088 25.3378 10.4963L26.0985 9.73869Z",fill:"#F7D036"}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("pattern",{id:"tutorial-media-voice-channels-image1",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,i.jsx)("image",{x:"0",y:"0",height:"44",width:"44",href:l})}),(0,i.jsx)("pattern",{id:"tutorial-media-voice-channels-image2",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,i.jsx)("image",{x:"0",y:"0",height:"44",width:"44",href:s})})]})]})})}},613725:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var a=n(143927),l=n(442837),s=n(481060),r=n(43267),o=n(905423),c=n(592125),u=n(430824),d=n(594174),h=n(346656),p=n(768581),m=n(70762);function _(){let{guildId:e,channelId:t}=(0,o.Z)(e=>{let{guildId:t,channelId:n}=e;return{guildId:t,channelId:n}},a.Z),n=(0,l.e7)([u.Z],()=>u.Z.getGuild(e)),_=(0,l.e7)([c.Z],()=>null==n?c.Z.getChannel(t):null),f=(0,l.e7)([d.default],()=>d.default.getCurrentUser()),E=null!=_?(0,r.x)(_):null,g=null!=f?f.getAvatarURL(e,80):p.pK["0"],C=(0,i.jsx)(s.Avatar,{src:g,"aria-hidden":!0,size:s.AvatarSizes.SIZE_80,className:m.avatarSizeOverride}),I=null;return I=null!=n?(0,i.jsx)(h.Z,{guild:n}):null!=E?(0,i.jsx)(s.Avatar,{"aria-hidden":!0,src:E,size:s.AvatarSizes.SIZE_80,className:m.avatarSizeOverride}):C,(0,i.jsxs)("div",{className:m.container,children:[(0,i.jsx)("div",{className:m.personAvatar,children:C}),(0,i.jsx)("div",{className:m.guildAvatar,children:I}),(0,i.jsx)("svg",{className:m.illustration,xmlns:"http://www.w3.org/2000/svg",width:"156",height:"70",viewBox:"0 0 123 55",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{fill:"#D3D6ED",d:"M7.6003,3.7337 C7.6003,3.1817 7.1533,2.7337 6.6003,2.7337 C5.7663,2.7337 5.0903,2.0577 5.0903,1.2237 C5.0903,0.6717 4.6423,0.2237 4.0903,0.2237 C3.5383,0.2237 3.0903,0.6717 3.0903,1.2237 C3.0903,2.0577 2.4133,2.7337 1.5803,2.7337 C1.0283,2.7337 0.5803,3.1817 0.5803,3.7337 C0.5803,4.2857 1.0283,4.7337 1.5803,4.7337 C2.4133,4.7337 3.0903,5.4097 3.0903,6.2437 C3.0903,6.7967 3.5383,7.2437 4.0903,7.2437 C4.6423,7.2437 5.0903,6.7967 5.0903,6.2437 C5.0903,5.4097 5.7663,4.7337 6.6003,4.7337 C7.1533,4.7337 7.6003,4.2857 7.6003,3.7337"}),(0,i.jsx)("path",{fill:"#ACB0FF",d:"M96.6157,5.4263 C96.6157,4.8743 96.1687,4.4263 95.6157,4.4263 C95.0627,4.4263 94.6157,4.8743 94.6157,5.4263 C94.6157,6.2603 93.9397,6.9363 93.1057,6.9363 C92.5537,6.9363 92.1057,7.3843 92.1057,7.9363 C92.1057,8.4883 92.5537,8.9363 93.1057,8.9363 C93.9397,8.9363 94.6157,9.6123 94.6157,10.4463 C94.6157,10.9983 95.0627,11.4463 95.6157,11.4463 C96.1687,11.4463 96.6157,10.9983 96.6157,10.4463 C96.6157,9.6123 97.2917,8.9363 98.1257,8.9363 C98.6787,8.9363 99.1257,8.4883 99.1257,7.9363 C99.1257,7.3843 98.6787,6.9363 98.1257,6.9363 C97.2917,6.9363 96.6157,6.2603 96.6157,5.4263 Z"}),(0,i.jsx)("path",{fill:"#FFF",d:"M120.7351 14.0452L119.5511 15.2282C119.1611 15.6182 119.1611 16.2512 119.5511 16.6422 119.7471 16.8372 120.0031 16.9352 120.2581 16.9352 120.5141 16.9352 120.7701 16.8372 120.9651 16.6422L122.1491 15.4592C122.5401 15.0682 122.5401 14.4362 122.1491 14.0452 121.7581 13.6542 121.1261 13.6542 120.7351 14.0452zM113.635 21.1452C113.245 21.5352 113.245 22.1682 113.635 22.5592 113.831 22.7542 114.087 22.8522 114.342 22.8522 114.598 22.8522 114.855 22.7542 115.049 22.5592L116.233 21.3752C116.624 20.9842 116.624 20.3522 116.233 19.9612 115.842 19.5702 115.209 19.5702 114.819 19.9612L113.635 21.1452zM120.9655 19.9612C120.5745 19.5702 119.9425 19.5702 119.5515 19.9612 119.1605 20.3522 119.1605 20.9842 119.5515 21.3752L120.7355 22.5592C120.9305 22.7542 121.1865 22.8522 121.4425 22.8522 121.6975 22.8522 121.9535 22.7542 122.1495 22.5592 122.5395 22.1682 122.5395 21.5352 122.1495 21.1452L120.9655 19.9612zM115.0491 14.0449C114.6591 13.6549 114.0251 13.6549 113.6351 14.0449 113.2451 14.4359 113.2451 15.0689 113.6351 15.4589L114.8191 16.6419C115.0141 16.8369 115.2701 16.9349 115.5261 16.9349 115.7821 16.9349 116.0381 16.8369 116.2331 16.6419 116.6241 16.2509 116.6241 15.6189 116.2331 15.2279L115.0491 14.0449z"}),(0,i.jsx)("rect",{width:"40",height:"25",x:"68",y:"22",fill:"#999CF4",fillRule:"nonzero",rx:"3"}),(0,i.jsx)("path",{fill:"#999CF4",fillRule:"nonzero",d:"M90,46 L90,53.8100983 C90,54.362383 90.4477153,54.8100983 91,54.8100983 C91.2501917,54.8100983 91.4912948,54.7163131 91.6757246,54.5472524 L101,46 L90,46 Z",transform:"matrix(-1 0 0 1 191 0)"}),(0,i.jsxs)("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(78 32)",children:[(0,i.jsx)("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),(0,i.jsx)("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),(0,i.jsx)("circle",{cx:"18.5",cy:"2.5",r:"2.5"})]}),(0,i.jsx)("rect",{width:"40",height:"25",x:"13",y:"9",fill:"#5865f2",fillRule:"nonzero",rx:"3"}),(0,i.jsx)("path",{fill:"#5865f2",fillRule:"nonzero",d:"M20,33 L20,40.8100983 C20,41.362383 20.4477153,41.8100983 21,41.8100983 C21.2501917,41.8100983 21.4912948,41.7163131 21.6757246,41.5472524 L31,33 L20,33 Z"}),(0,i.jsxs)("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(23 19)",children:[(0,i.jsx)("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),(0,i.jsx)("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),(0,i.jsx)("circle",{cx:"18.5",cy:"2.5",r:"2.5"})]})]})})]})}},155409:function(e,t,n){n.d(t,{Z:function(){return E}});var i,a,l,s,r=n(735250),o=n(470079),c=n(699581),u=n(374470),d=n(442837),h=n(260300),p=n(451478),m=n(5560),_=n(10401);class f extends(s=o.Component){componentDidMount(){let{visible:e,inlineSpecs:t}=this.props;null==t&&this.show(e)}componentWillUnmount(){let{inlineSpecs:e}=this.props;null==e&&this.show(!1)}componentDidUpdate(e){let{position:t,offsetX:n,offsetY:i,tutorialId:a,visible:l,windowSize:s}=e;a!==this.props.tutorialId?h.Z.hide(a):(l!==this.props.visible||t!==this.props.position||n!==this.props.offsetX||i!==this.props.offsetY||s!==this.props.windowSize)&&this.show(this.props.visible)}show(e){let{tutorialId:t,position:n,offsetX:i,offsetY:a,visible:l,inlineSpecs:s,autoInvert:r}=this.props;if(e&&null==s){let e=(0,c.findDOMNode)(this);if(!(0,u.k)(e))return;let{top:l,left:s,right:o,bottom:d}=e.getBoundingClientRect();h.Z.show(t,{position:n,targetWidth:o-s,targetHeight:d-l,autoInvert:r,origin:{x:s,y:l},offset:{x:i,y:a}})}else l&&h.Z.hide(t)}render(){let{inlineSpecs:e,tutorialId:t,children:n,visible:i,windowFocused:a,position:l,autoInvert:s}=this.props,c=_.Z.getData()[t];return null!=e&&null!=c?(0,r.jsxs)(r.Fragment,{children:[n,i&&(0,r.jsx)(m.V,{autoInvert:s,position:l,tutorialId:t,tutorialDefinition:c,focused:a,...e})]}):o.Children.only(n)}}function E(e){let{tutorialId:t}=e,n=(0,d.e7)([_.Z],()=>_.Z.shouldShow(t),[t]),i=(0,d.e7)([p.Z],()=>p.Z.isFocused()),a=(0,d.e7)([p.Z],()=>p.Z.windowSize(),[]);return(0,r.jsx)(f,{...e,visible:n,windowFocused:i,windowSize:a})}l={position:"top",offsetX:0,offsetY:0,autoInvert:!0},(a="defaultProps")in(i=f)?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l},5560:function(e,t,n){n.d(t,{V:function(){return T}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(512722),o=n.n(r),c=n(699581),u=n(374470),d=n(442837),h=n(481060),p=n(260300),m=n(819640),_=n(451478),f=n(486458),E=n(21825),g=n(232495),C=n(10401),I=n(427389);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends a.PureComponent{componentDidMount(){this.updateCache()}componentDidUpdate(e){let{tutorialId:t,origin:{x:n,y:i},targetWidth:a,targetHeight:l,position:s,offset:r}=e;(this.props.tutorialId!==t||this.props.origin.x!==n||this.props.origin.y!==i||this.props.targetWidth!==a||this.props.targetHeight!==l||this.props.position!==s||this.props.offset.x!==r.x||this.props.offset.y!==r.y)&&this.updateCache()}updateCache(){var e,t;let n=(0,c.findDOMNode)(this);if(null==n||!(0,u.k)(n,HTMLElement))return;let{offsetWidth:i,offsetHeight:a}=n,l={offsetX:(this.props.targetWidth-i)/2,offsetY:(this.props.targetHeight-a)/2};switch(this.props.position){case"left":l.offsetX=-i;break;case"right":l.offsetX=this.props.targetWidth;break;case"bottom":l.offsetY=this.props.targetHeight;break;default:l.offsetY=-a}l.offsetX+=null!==(e=this.props.offset.x)&&void 0!==e?e:0,l.offsetY+=null!==(t=this.props.offset.y)&&void 0!==t?t:0,this.setState(l)}handleSkipTips(){p.Z.suppressAll()}getTutorialPopoutText(){let{tutorialId:e}=this.props;return(0,g.k)(e)}render(){let{tutorialId:e,autoInvert:t,focused:n,origin:a}=this.props,l=(0,E.S)(e);if(null==l)return null;let{media:r,textAlign:o,isLongText:c,highPriority:u,spacing:d,arrowAlignment:p=f.cy.TOP,popoutPosition:m}=l,{offsetX:_,offsetY:g}=this.state,C={left:null!=_?a.x+_:void 0,top:null!=g?a.y+g:void 0},x=e=>{let t=n&&!e;return!0!==u?null:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:s()(I.top,{[I.animating]:t,[I.notAnimating]:!t})}),(0,i.jsx)("div",{className:s()(I.bottom,{[I.animating]:t,[I.notAnimating]:!t})})]})},T=e=>{let t=n&&!e;return{[I.animating]:t,[I.notAnimating]:!t,[I.highPriority]:u}},N=this.getTutorialPopoutText();return(0,i.jsx)(f.ZP,{position:m,renderMedia:r,textAlign:o,spacing:d,isLongText:c,uniqueId:e,autoInvert:t,arrowAlignment:p,onSkipAll:this.handleSkipTips,onComplete:this.handleDismiss,...N,children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(h.Clickable,{...e,className:I.indicator,style:C,children:(0,i.jsxs)("div",{className:s()(I.animationContainer,T(n)),children:[x(n),(0,i.jsx)("div",{className:s()(I.innerCircle,T(n))}),(0,i.jsx)("div",{className:s()(I.outerCircle,T(n))})]})})}})}constructor(...e){super(...e),x(this,"state",{offsetX:null,offsetY:null}),x(this,"handleDismiss",()=>{p.Z.dismiss(this.props.tutorialId)})}}t.Z=12633==n.j?function(){let{indicators:e,tutorialData:t,windowFocused:n,shouldShowAny:a}=(0,d.cj)([C.Z,_.Z,m.Z],()=>({indicators:C.Z.getIndicators(),tutorialData:C.Z.getData(),shouldShowAny:C.Z.shouldShowAnyIndicators()&&!m.Z.hasLayers(),windowFocused:_.Z.isFocused()}));return a?(0,i.jsx)(i.Fragment,{children:Object.entries(e).map(e=>{let[a,l]=e,s=t[a];return o()(null!=s,"Missing tutorial definition for ".concat(a)),(0,i.jsx)(T,{tutorialId:a,tutorialDefinition:s,focused:n,...l},a)})}):null}:null},21825:function(e,t,n){n.d(t,{S:function(){return c}});var i=n(735250);n(470079);var a=n(486458),l=n(113570),s=n(482641),r=n(613725);let o=Object.freeze({"voice-conversations":{popoutPosition:"right",highPriority:!0,textAlign:a.iu.CENTER,media:()=>(0,i.jsx)(s.Z,{})},"writing-messages":{popoutPosition:"top",highPriority:!0,textAlign:a.iu.CENTER,spacing:10,media:()=>(0,i.jsx)(r.Z,{})},"direct-messages":{popoutPosition:"right"},"create-first-server":{popoutPosition:"right",highPriority:!0},"organize-by-topic":{popoutPosition:"right",textAlign:a.iu.CENTER,spacing:8,media:()=>(0,i.jsx)(l.Z,{})},"instant-invite":{popoutPosition:"right",spacing:24,highPriority:!0},"whos-online":{spacing:16,popoutPosition:"left"},"server-settings":{popoutPosition:"bottom",spacing:10},"friends-list":{spacing:8,popoutPosition:"right"},"create-more-servers":{spacing:8,popoutPosition:"right"}}),c=e=>e in o?o[e]:null},232495:function(e,t,n){n.d(t,{k:function(){return h}}),n(757143);var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(430824),r=n(914010),o=n(689938),c=n(66175);let u=()=>(0,i.jsx)(i.Fragment,{children:o.Z.Messages.TIP_INSTANT_INVITE_BODY3.format({shareIcon:o.Z.Messages.INSTANT_INVITE,shareIconHook:()=>(0,i.jsx)(l.GroupPlusIcon,{className:c.icon},"icon")})}),d=()=>{let e=(0,a.e7)([s.Z,r.Z],()=>s.Z.getGuild(r.Z.getGuildId()),[]),t=null==e?void 0:e.name;return(0,i.jsx)(i.Fragment,{children:o.Z.Messages.TIP_WRITING_MESSAGES_BODY3.format({serverName:t})})},h=e=>{var t,n;let a={VOICE_CONVERSATIONS:{title:(0,i.jsx)("div",{className:c.voiceChannelsTitle,children:o.Z.Messages.NUF_VOICE_CHANNELS_TITLE}),body:o.Z.Messages.NUF_VOICE_CHANNELS_DESCRIPTION},WRITING_MESSAGES:{title:(0,i.jsx)("div",{className:c.writingMessagesTitle,children:o.Z.Messages.TIP_WRITING_MESSAGES_TITLE3}),body:(0,i.jsx)(d,{})},ORGANIZE_BY_TOPIC:{title:(0,i.jsx)("div",{className:c.channelsTitle,children:o.Z.Messages.NUF_CHANNELS_TITLE}),body:o.Z.Messages.NUF_CHANNELS_DESCRIPTION},WHOS_ONLINE:{title:o.Z.Messages.TIP_WHOS_ONLINE_TITLE3,body:o.Z.Messages.TIP_WHOS_ONLINE_BODY3.format()},INSTANT_INVITE:{title:o.Z.Messages.TIP_INSTANT_INVITE_TITLE3,body:(0,i.jsx)(u,{})},SERVER_SETTINGS:{title:o.Z.Messages.TIP_SERVER_SETTINGS_TITLE3,body:o.Z.Messages.TIP_SERVER_SETTINGS_BODY3.format()},DIRECT_MESSAGES:{title:o.Z.Messages.TIP_DIRECT_MESSAGES_TITLE3,body:o.Z.Messages.TIP_DIRECT_MESSAGES_BODY3.format()},CREATE_MORE_SERVERS:{title:o.Z.Messages.TIP_CREATE_MORE_SERVERS_TITLE3,body:o.Z.Messages.TIP_CREATE_MORE_SERVERS_BODY3.format()},CREATE_FIRST_SERVER:{title:o.Z.Messages.TIP_CREATE_FIRST_SERVER_TITLE3,body:o.Z.Messages.TIP_CREATE_FIRST_SERVER_BODY3.format()},FRIENDS_LIST:{title:o.Z.Messages.TIP_FRIENDS_LIST_TITLE3,body:o.Z.Messages.TIP_FRIENDS_LIST_BODY3.format()}},l=null!==(t=a[e.replace(/-/g,"_").toUpperCase()])&&void 0!==t?t:{};return{title:l.title,body:l.body,isLongText:null!==(n=l.isLongText)&&void 0!==n&&n}}},10401:function(e,t,n){n(47120);var i,a,l,s,r=n(873546),o=n(442837),c=n(570140),u=n(38618),d=n(268967),h=n(188785);let p={},m={},_=!0,f={},E=!1;function g(){return d.Z}function C(){if(f={},!_)for(let[e,t]of Object.entries(d.Z)){let n=!1!==p[e];if(f[e]=n,n&&null!=t.prerequisites)for(let n of t.prerequisites)!1!==p[n]&&(f[e]=!1)}}class I extends(i=o.ZP.Store){initialize(){C(),this.mustEmitChanges(e=>"CONNECTION_OPEN"!==e.type),this.waitFor(u.Z)}shouldShow(e){var t;return!(!E||_||h.a||(t=e,r.tq&&["writing-messages","organize-by-topic"].includes(t)))&&(f[e]||!1)}shouldShowAnyIndicators(){return!_}getIndicators(){return m}getData(){return d.Z}getDefinition(e){let t=this.getData();return null!=t?t[e]:null}}s="TutorialIndicatorStore",(l="displayName")in(a=I)?Object.defineProperty(a,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[l]=s,t.Z=new I(c.Z,{CONNECTION_OPEN:function(e){let{tutorial:t}=e;E=!0,_=!0,p={},null!=t&&(_=t.indicators_suppressed,t.indicators_confirmed.forEach(e=>p[e]=!1)),C()},CONNECTION_CLOSED:function(){E=!1},TUTORIAL_INDICATOR_DISMISS:function(e){p={...p,[e.tutorialId]:!1},m={...m},delete m[e.tutorialId],C()},TUTORIAL_INDICATOR_SHOW:function(e){m={...m,[e.tutorialId]:e.renderData}},TUTORIAL_INDICATOR_HIDE:function(e){m={...m},delete m[e.tutorialId]},TUTORIAL_INDICATOR_SUPPRESS_ALL:function(){_=!0}})},268967:function(e,t){t.Z=Object.freeze({"voice-conversations":{popoutOffset:{x:45,y:0}},"writing-messages":{prerequisites:["voice-conversations"],popoutOffset:{x:-36,y:0}},"direct-messages":{popoutOffset:{x:50,y:0}},"create-first-server":{popoutOffset:{x:45,y:0}},"organize-by-topic":{popoutOffset:{x:50,y:0}},"instant-invite":{prerequisites:["organize-by-topic"],popoutOffset:{x:-10,y:0}},"whos-online":{prerequisites:["instant-invite"],popoutOffset:{x:-50,y:0}},"server-settings":{prerequisites:["instant-invite"],popoutOffset:{y:32,x:0}},"friends-list":{prerequisites:["instant-invite"],popoutOffset:{x:45,y:0}},"create-more-servers":{prerequisites:["server-settings"],popoutOffset:{x:45,y:0}}})},483517:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(520668);function r(e){let{className:t}=e;return(0,i.jsx)("div",{className:l()(s.divider,t)})}},678738:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250),a=n(470079),l=n(442837),s=n(481060),r=n(607070),o=n(66257);function c(e){let{title:t,children:n,scrollIntoView:c=!1,headingColor:u="header-secondary"}=e,d=(0,l.e7)([r.Z],()=>r.Z.useReducedMotion),h=a.useRef(null);return a.useEffect(()=>{let e=h.current;if(null==e)return;let t=requestAnimationFrame(()=>{e.scrollIntoView({behavior:d?"auto":"smooth"})});return()=>cancelAnimationFrame(t)},[d]),(0,i.jsxs)("section",{ref:c?h:void 0,className:o.section,children:[(0,i.jsx)(s.Heading,{variant:"text-xs/semibold",color:u,children:t}),n]})}},944546:function(e,t,n){n.d(t,{T:function(){return E},Z:function(){return g}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(239091),r=n(129861),o=n(906732),c=n(158776),u=n(785717),d=n(726059),h=n(171368),p=n(981631),m=n(689938),_=n(667589);let f=(0,l.getAvatarSize)(l.AvatarSizes.SIZE_40);function E(e){let{user:t,status:o,onSelect:u}=e,d=(0,a.e7)([c.Z],()=>c.Z.isMobileOnline(t.id));return(0,i.jsxs)(l.Clickable,{className:_.listRow,onClick:u,onContextMenu:e=>{(0,s.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("61035")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})})},children:[(0,i.jsx)(l.Avatar,{src:t.getAvatarURL(void 0,f),"aria-label":t.username,size:l.AvatarSizes.SIZE_40,status:o,isMobile:d,className:_.listAvatar}),(0,i.jsx)(r.Z,{user:t,className:_.listName,discriminatorClass:_.listDiscriminator})]})}function g(e){let{user:t,onClose:n}=e,{mutualFriends:a}=(0,d.Z)(t.id),{analyticsLocations:s}=(0,o.ZP)(),{guildId:r,channelId:c,messageId:f,roleId:g}=(0,u.KZ)(),C=e=>{n(),(0,h.openUserProfileModal)({userId:e,guildId:r,channelId:c,messageId:f,roleId:g,sourceAnalyticsLocations:s,analyticsLocation:{section:p.jXE.USER_PROFILE_MUTUAL_FRIENDS}})};return(0,i.jsx)(l.ScrollerThin,{className:_.listScroller,fade:!0,children:null==a?(0,i.jsx)("div",{className:_.empty,children:(0,i.jsx)(l.Spinner,{})}):0===a.length?(0,i.jsxs)("div",{className:_.empty,children:[(0,i.jsx)("div",{className:_.emptyIconFriends}),(0,i.jsx)("div",{className:_.emptyText,children:m.Z.Messages.NO_MUTUAL_FRIENDS})]}):a.map(e=>{let{key:t,user:n,status:a}=e;return(0,i.jsx)(E,{user:n,status:a,onSelect:()=>C(n.id)},t)})})}},470900:function(e,t,n){n.d(t,{D:function(){return T},Z:function(){return N}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(780384),r=n(481060),o=n(239091),c=n(37234),u=n(410030),d=n(44315),h=n(769654),p=n(346656),m=n(51144),_=n(162267),f=n(228168),E=n(981631),g=n(689938),C=n(667589),I=n(722244);let x=(0,r.getAvatarSize)(r.AvatarSizes.SIZE_16);function T(e){let{user:t,guild:a,nick:c,theme:u,onSelect:h}=e,_=t.hasAvatarForGuild(a.id);return(0,i.jsxs)(r.Clickable,{focusProps:{offset:{right:8}},className:C.listRow,onClick:h,onContextMenu:e=>{(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("96427"),n.e("33053"),n.e("50654"),n.e("7654"),n.e("41662"),n.e("44156"),n.e("33009"),n.e("85552"),n.e("58227"),n.e("75291"),n.e("22036"),n.e("24420"),n.e("33213"),n.e("47761")]).then(n.bind(n,545135));return t=>(0,i.jsx)(e,{...t,guild:a})})},children:[(0,i.jsx)(p.Z,{tabIndex:-1,guild:a,showBadge:!0,className:l()(C.listAvatar,null==a.icon?I.guildAvatarWithoutIcon:null),badgeStrokeColor:(0,d.Lq)((0,s.wj)(u)?E.Ilk.PRIMARY_600:E.Ilk.WHITE_500),badgeTooltipColor:r.TooltipColors.PRIMARY,badgeTooltipDelay:f.vB,size:p.Z.Sizes.MEDIUM,active:!0}),(0,i.jsxs)("div",{className:C.listRowContent,children:[(0,i.jsx)("div",{className:C.listName,children:a.toString()}),_||null!=c?(0,i.jsxs)("div",{className:I.guildNick,children:[_&&(0,i.jsx)(r.Avatar,{src:t.getAvatarURL(a.id,x),size:r.AvatarSizes.SIZE_16,className:I.guildAvatar,"aria-hidden":!0}),null!=c?c:m.ZP.getName(t)]}):null]})]})}function N(e){let{user:t,onClose:n}=e,{mutualGuilds:a}=(0,_.Z)(t.id),l=(0,u.ZP)(),s=e=>{(0,h.X)(e),n(),(0,c.xf)()};return(0,i.jsx)(r.ScrollerThin,{className:C.listScroller,fade:!0,children:null==a?(0,i.jsx)("div",{className:C.empty,children:(0,i.jsx)(r.Spinner,{})}):0===a.length?(0,i.jsxs)("div",{className:C.empty,children:[(0,i.jsx)("div",{className:C.emptyIconGuilds}),(0,i.jsx)("div",{className:C.emptyText,children:g.Z.Messages.NO_MUTUAL_GUILDS})]}):a.map(e=>{let{guild:n,nick:a}=e;return(0,i.jsx)(T,{user:t,guild:n,nick:a,theme:l,onSelect:()=>s(n.id)},n.id)})})}},772056:function(e,t,n){n.d(t,{R:function(){return i}}),n(47120);var i,a,l=n(735250),s=n(470079),r=n(120356),o=n.n(r),c=n(481060),u=n(259580),d=n(38371),h=n(599625),p=n(13484);(a=i||(i={}))[a.MutualFriendsList=0]="MutualFriendsList",a[a.MutualGuildList=1]="MutualGuildList";t.Z=e=>{let{header:t,children:n,itemType:i=1,isLoadingHeader:a,isLoadingContents:r,loadingContentsCount:m=0,className:_,onExpand:f,onHover:E,onFocus:g}=e,[C,I]=s.useState(!0),x=(0,l.jsx)("div",{className:h.iconWrapper,children:(0,l.jsx)(u.Z,{direction:C?u.Z.Directions.RIGHT:u.Z.Directions.DOWN})});return(0,l.jsxs)("div",{className:_,children:[(0,l.jsx)(c.Button,{className:h.collapseBtn,innerClassName:h.collapseBtnContent,color:c.ButtonColors.CUSTOM,onMouseEnter:E,onFocus:g,onClick:()=>{I(!C),C&&(null==f||f())},children:a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.ZT,{width:34,opacity:.08}),(0,l.jsx)(d.ZT,{width:135,opacity:.08})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Text,{variant:"text-sm/medium",children:t}),x]})}),(0,l.jsx)("ul",{className:o()(h.connectionList,{[h.isCollapsed]:C}),children:r?Array.from({length:m}).map((e,t)=>(0,l.jsxs)("div",{className:o()({[p.mutualFriendItem]:0===i,[p.mutualGuildItem]:1===i}),children:[(0,l.jsx)(d.ZT,{width:34,opacity:.08}),(0,l.jsx)(d.ZT,{width:135,opacity:.08})]},t)):n})]})}},792379:function(e,t,n){n.d(t,{Z:function(){return A}});var i=n(735250),a=n(470079),l=n(597312),s=n(727637),r=n(410030),o=n(100527),c=n(906732),u=n(680295),d=n(5192),h=n(785717),p=n(318661),m=n(741308),_=n(588822),f=n(900927),E=n(678738),g=n(502762),C=n(530),I=n(171368),x=n(308829),T=n(354810),N=n(228168),v=n(689938),S=n(20256),Z=n(77540);function A(e){let{user:t,channel:n}=e,{analyticsLocations:A}=(0,c.ZP)(o.Z.PROFILE_PANEL),M=(0,p.ZP)(t.id),b=(0,r.ZP)(),R=a.useRef(null),j=(0,s.Z)(R),L=e=>{(0,I.openUserProfileModal)({sourceAnalyticsLocations:A,userId:t.id,channelId:n.id,...e})};return(0,i.jsx)(c.Gt,{value:A,children:(0,i.jsx)(h.Mt,{layout:"SIMPLIFIED_DM_PANEL",userId:t.id,channelId:n.id,children:(0,i.jsxs)(g.Z,{ref:R,user:t,displayProfile:M,profileType:N.y0.PANEL,themeOverride:b,className:S.container,children:[(0,i.jsxs)(l.u2,{children:[(0,i.jsx)(T.Z,{user:t,displayProfile:M,channel:n,isHovering:j,onOpenProfile:L}),(0,i.jsxs)("div",{className:Z.body,children:[(0,i.jsx)(C.Z,{user:t,profileType:N.y0.PANEL,nickname:d.ZP.getName(null,n.id,t),pronouns:null==M?void 0:M.pronouns,onOpenProfile:L,tags:(0,i.jsx)(m.Z,{displayProfile:M,profileType:N.y0.PANEL})}),(0,i.jsxs)(g.Z.Overlay,{className:Z.overlay,children:[(0,i.jsx)(E.Z,{title:v.Z.Messages.USER_POPOUT_ABOUT_ME,headingColor:"header-primary",children:(0,i.jsx)(_.Z,{userId:t.id,animateOnHover:!0,isHovering:j})}),(0,i.jsx)(E.Z,{title:v.Z.Messages.USER_PROFILE_MEMBER_SINCE,headingColor:"header-primary",children:(0,i.jsx)(f.Z,{userId:t.id})})]})]})]}),(0,i.jsx)(x.Z,{user:t,channelId:n.id}),(null==M?void 0:M.profileEffectId)!=null&&(0,i.jsx)(u.Z,{profileEffectId:null==M?void 0:M.profileEffectId,isHovering:j})]})})})}},123579:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(410030),u=n(100527),d=n(906732),h=n(574176),p=n(769654),m=n(199902),_=n(314897),f=n(592125),E=n(496675),g=n(158776),C=n(246946),I=n(979651),x=n(5192),T=n(51144),N=n(342656),v=n(785717),S=n(221292),Z=n(318661),A=n(57048),M=n(726059),b=n(162267),R=n(502762),j=n(171368),L=n(944546),P=n(470900),O=n(421486),y=n(240328),D=n(436478),k=n(138394),U=n(248345),w=n(19836),B=n(538564),H=n(319300),G=n(591600),V=n(584045),F=n(664202),W=n(772056),z=n(747711),Y=n(228168),K=n(981631),q=n(689938),X=n(456635);t.Z=e=>{var t;let{user:n,channel:l}=e,[Q,J]=a.useState(!1),$=a.useRef(0),{analyticsLocations:ee}=(0,d.ZP)(u.Z.PROFILE_PANEL),et=null==n?void 0:n.isNonUserBot(),en=(0,Z.ZP)(n.id),ei=(0,r.e7)([I.Z,f.Z],()=>{var e;return null!=n?f.Z.getChannel(null===(e=I.Z.getVoiceStateForUser(n.id))||void 0===e?void 0:e.channelId):null}),{enableHangStatus:ea}=h.n.useExperiment({guildId:null==ei?void 0:ei.guild_id,location:"ActivityStatus"},{autoTrackExposure:!1}),{activity:el,customStatusActivity:es,isApplicationStreaming:er,isMobile:eo,status:ec,hangStatusActivity:eu}=(0,r.cj)([m.Z,g.Z,E.Z],()=>{let e=null!=m.Z.getAnyStreamForUser(n.id);return{activity:g.Z.findActivity(n.id,t=>{let{type:n}=t;return e?n===K.IIU.PLAYING:n!==K.IIU.CUSTOM_STATUS&&n!==K.IIU.HANG_STATUS}),customStatusActivity:g.Z.findActivity(n.id,e=>{let{type:t}=e;return t===K.IIU.CUSTOM_STATUS}),isApplicationStreaming:e,isMobile:g.Z.isMobileOnline(n.id),status:et?null:g.Z.getStatus(n.id),hangStatusActivity:ea&&null!=ei&&E.Z.can(K.Plq.CONNECT,ei)?g.Z.findActivity(n.id,e=>{let{type:t}=e;return t===K.IIU.HANG_STATUS}):null}}),ed=null!=el||null!=eu||er,eh=null!==(t=x.ZP.getNickname(null,l.id,n))&&void 0!==t?t:T.ZP.getName(n),ep=(0,r.e7)([C.Z],()=>C.Z.hidePersonalInformation),{mutualFriends:em,isFetching:e_}=(0,M.Z)(n.id,!n.bot),{mutualGuilds:ef,isFetching:eE}=(0,b.Z)(n.id,!n.bot),eg=!n.bot&&null!=em&&em.length>0,eC=!n.bot&&null!=ef&&ef.length>0,eI=(0,F.J)({popoutUser:n,source:D.m.PROFILE_PANEL}),ex=(0,c.ZP)();a.useEffect(()=>{$.current=Date.now()},[]),a.useEffect(()=>{null!=en&&(0,A.U)({displayProfile:en,isMobile:eo,loadDurationMs:Date.now()-$.current,activity:el,customStatusActivity:es,status:ec})},[en,eo,el,es,ec]);let eT=null==ef?void 0:ef.map(e=>{let{guild:t,nick:a}=e;return(0,i.jsx)(P.D,{user:n,guild:t,nick:a,theme:ex,onSelect:()=>(0,p.X)(t.id)},t.id)}),eN=null==em?void 0:em.map(e=>{let{key:t,user:n,status:a}=e;return(0,i.jsx)(L.T,{user:n,status:a,onSelect:()=>{(0,j.openUserProfileModal)({userId:n.id,channelId:l.id,sourceAnalyticsLocations:ee,analyticsLocation:{section:K.jXE.DM_PROFILE}})}},t)}),ev=a.useCallback(()=>J(!0),[]),eS=a.useCallback(()=>J(!1),[]),eZ=(0,r.e7)([_.default],()=>_.default.getId()),eA=n.id===eZ,eM=n.bot||eA,{enabled:eb}=(0,N.qI)({autoTrackExposure:!0,location:u.Z.PROFILE,disable:eM});return(0,i.jsx)(d.Gt,{value:ee,children:(0,i.jsx)(v.Mt,{layout:"DM_PANEL",userId:n.id,channelId:l.id,children:(0,i.jsx)("aside",{className:X.profilePanel,onMouseEnter:ev,onMouseLeave:eS,children:(0,i.jsxs)(R.Z,{user:n,displayProfile:en,profileType:Y.y0.PANEL,themeOverride:ex,children:[eI.shouldShow&&(0,i.jsx)(y.ZP,{user:n,upsellSource:D.m.PROFILE_PANEL,displayProfile:en,isInSidebar:!0,...eI},n.id),(0,i.jsxs)(o.ScrollerNone,{children:[(0,i.jsx)(z.Z,{user:n,displayProfile:en,channel:l,animateAssets:Q,forceShowPremiumBadge:Q}),(0,i.jsxs)(R.Z.Overlay,{className:X.overlay,children:[(0,i.jsx)(V.Z,{user:n,nickname:eh,pronouns:null==en?void 0:en.pronouns}),(0,i.jsx)(B.Z,{customStatusActivity:es,animate:Q}),(0,i.jsx)(k.Z,{}),(0,i.jsx)(w.Z,{bio:null==en?void 0:en.bio,hidePersonalInformation:ep,animateOnHover:!0,isHovering:Q,userId:n.id}),eb&&(0,i.jsx)(O.ZP,{className:X.profileMutuals,user:n}),!n.isSystemUser()&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.Z,{userId:n.id}),(0,i.jsx)(k.Z,{})]}),!n.isSystemUser()&&(0,i.jsx)(G.Z,{user:n,setNote:!1})]}),ed?(0,i.jsx)(R.Z.Overlay,{className:X.overlay,children:(0,i.jsx)(U.Z,{activity:null!=el||er?el:eu,user:n,channelId:l.id,analyticsParams:{location:{page:K.ZY5.USER_PROFILE,section:K.jXE.DM_PROFILE}}})}):null,(eC||eg)&&(0,i.jsxs)(R.Z.Overlay,{className:X.profilePanelConnections,children:[eC?(0,i.jsx)(W.Z,{className:X.mutualGuildsList,header:q.Z.Messages.MUTUAL_GUILDS_COUNT.format({count:ef.length}),isLoadingHeader:eE,loadingContentsCount:ef.length,itemType:W.R.MutualGuildList,onExpand:()=>{(0,S.pQ)({action:"PRESS_SECTION",section:"MUTUAL_GUILDS",layout:"DM_PANEL",userId:n.id,channelId:l.id,analyticsLocations:ee})},children:eT}):null,eg?(0,i.jsx)(W.Z,{className:s()(X.mutualFriendsList,{[X.mutualFriendsDivider]:eC}),header:q.Z.Messages.MUTUAL_FRIENDS_COUNT.format({count:em.length}),isLoadingHeader:e_,loadingContentsCount:em.length,itemType:W.R.MutualFriendsList,onExpand:()=>{(0,S.pQ)({action:"PRESS_SECTION",section:"MUTUAL_FRIENDS",layout:"DM_PANEL",userId:n.id,channelId:l.id,analyticsLocations:ee})},children:eN}):null]})]})]})})})})}},346967:function(e,t,n){n.d(t,{Z:function(){return f}}),n(47120);var i=n(735250),a=n(470079),l=n(512722),s=n.n(l),r=n(442837),o=n(911367),c=n(594174),u=n(786874),d=n(484459),h=n(87728),p=n(792379),m=n(123579),_=n(402777);function f(e){let{location:t,channel:n,...l}=e,{botProfilesEnabled:f}=(0,u.J)({location:t}),E=(0,h.Z)();(0,o.t)();let[g]=n.recipients,C=(0,r.e7)([c.default],()=>c.default.getUser(g));return(s()(null!=C,"ProfilePanelExperimentWrapper: user cannot be undefined"),a.useEffect(()=>{(0,d.W)(C,{withMutualFriends:!C.bot,withMutualGuilds:!0,channelId:n.id})},[C,n.id]),E)?null:f&&C.isNonUserBot()?(0,i.jsx)(p.Z,{user:C,channel:n,...l}):f||!C.bot?(0,i.jsx)(_.Z,{user:C,channel:n,...l}):(0,i.jsx)(m.Z,{user:C,channel:n,...l})}},747711:function(e,t,n){n(47120);var i=n(735250);n(470079);var a=n(442837),l=n(680295),s=n(158776),r=n(735336),o=n(184325),c=n(131640),u=n(228168),d=n(651448);t.Z=e=>{let{user:t,displayProfile:n,channel:h,animateAssets:p,forceShowPremiumBadge:m}=e,_=t.isNonUserBot(),[f,E]=(0,a.Wu)([s.Z],()=>[_?null:s.Z.getStatus(t.id),s.Z.isMobileOnline(t.id)]),g=null==n?void 0:n.profileEffectId;return(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Z,{user:t,displayProfile:n,profileType:u.y0.PANEL,showPremiumBadgeUpsell:!0,isHovering:m,animateOnHover:!p}),(0,i.jsx)(c.tZ,{user:t,displayProfile:n,status:f,isMobile:E,channelId:h.id,disableUserProfileLink:!0,hasBanner:(null==n?void 0:n.banner)!=null,profileType:u.y0.PANEL,animateOnHover:!p}),(0,i.jsx)("div",{className:d.badgelistGroup,children:(0,i.jsx)(o.Z,{className:d.badgeList,user:t,size:o.V.SIZE_22})}),null!=g&&(0,i.jsx)(l.Z,{profileEffectId:g,maxLoops:0,resetOnHover:!0,isHovering:m,urlQueryString:"dm-view",noBorderRadius:!0})]})}},402777:function(e,t,n){n.d(t,{Z:function(){return S}});var i=n(735250),a=n(470079),l=n(597312),s=n(727637),r=n(410030),o=n(100527),c=n(906732),u=n(680295),d=n(785717),h=n(318661),p=n(502762),m=n(544989),_=n(481932),f=n(272510),E=n(171368),g=n(926150),C=n(308829),I=n(354810),x=n(940885),T=n(625015),N=n(228168),v=n(20256);function S(e){let{user:t,channel:n}=e,{analyticsLocations:S}=(0,c.ZP)(o.Z.PROFILE_PANEL),Z=(0,h.ZP)(t.id),A=(0,r.ZP)(),M=a.useRef(null),b=(0,s.Z)(M),R=e=>{(0,E.openUserProfileModal)({sourceAnalyticsLocations:S,userId:t.id,channelId:n.id,...e})};return(0,i.jsx)(c.Gt,{value:S,children:(0,i.jsx)(d.Mt,{layout:"SIMPLIFIED_DM_PANEL",userId:t.id,channelId:n.id,children:(0,i.jsxs)(p.Z,{ref:M,user:t,displayProfile:Z,profileType:N.y0.PANEL,themeOverride:A,className:v.container,children:[(0,i.jsxs)(l.u2,{children:[(0,i.jsxs)(m.Z,{profileType:N.y0.PANEL,children:[(0,i.jsx)(_.Z,{user:t,profileType:N.y0.PANEL}),(0,i.jsx)(f.Z,{user:t,profileType:N.y0.PANEL})]}),(0,i.jsx)(I.Z,{user:t,displayProfile:Z,channel:n,isHovering:b,onOpenProfile:R}),(0,i.jsx)(g.Z,{user:t,displayProfile:Z,channelId:n.id,isHovering:b,onOpenProfile:R}),(0,i.jsx)(x.Z,{user:t,channelId:n.id}),(0,i.jsx)(T.Z,{user:t,displayProfile:Z})]}),(0,i.jsx)(C.Z,{user:t,channelId:n.id}),(null==Z?void 0:Z.profileEffectId)!=null&&(0,i.jsx)(u.Z,{profileEffectId:null==Z?void 0:Z.profileEffectId,isHovering:b})]})})})}},926150:function(e,t,n){n.d(t,{Z:function(){return N}});var i=n(735250);n(470079);var a=n(442837),l=n(699516),s=n(246946),r=n(5192),o=n(824572),c=n(741308),u=n(588822),d=n(681837),h=n(91433),p=n(900927),m=n(724593),_=n(678738),f=n(502762),E=n(530),g=n(580512),C=n(228168),I=n(981631),x=n(689938),T=n(77540);function N(e){let{user:t,displayProfile:n,channelId:N,isHovering:v,onOpenProfile:S}=e,{improvedPanelFriendingEnabled:Z}=(0,o.O)({location:"SimplifiedProfilePanelBody"}),A=(0,a.e7)([l.Z],()=>l.Z.getRelationshipType(t.id)),M=(0,a.e7)([s.Z],()=>s.Z.hidePersonalInformation);return(0,i.jsxs)("div",{className:T.body,children:[(0,i.jsx)(E.Z,{user:t,profileType:C.y0.PANEL,nickname:r.ZP.getName(null,N,t),pronouns:null==n?void 0:n.pronouns,onOpenProfile:S,tags:(0,i.jsx)(c.Z,{displayProfile:n,profileType:C.y0.PANEL}),nicknameIcons:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{userId:t.id}),!M&&(0,i.jsx)(m.Z,{user:t,isHovering:v,onOpenProfile:()=>S({subsection:C.Tb.NOTE})})]})}),Z&&A===I.OGo.PENDING_INCOMING&&(0,i.jsx)(f.Z.Overlay,{children:(0,i.jsx)(h.Z,{user:t,channelId:N})}),(0,i.jsx)(g.Z,{user:t,channelId:N}),(0,i.jsxs)(f.Z.Overlay,{className:T.overlay,children:[!M&&(null==n?void 0:n.bio)!=null&&(null==n?void 0:n.bio)!==""&&(0,i.jsx)(_.Z,{title:x.Z.Messages.USER_POPOUT_ABOUT_ME,headingColor:"header-primary",children:(0,i.jsx)(u.Z,{userBio:n.bio,animateOnHover:!0,isHovering:v,userId:t.id})}),(0,i.jsx)(_.Z,{title:x.Z.Messages.USER_PROFILE_MEMBER_SINCE,headingColor:"header-primary",children:(0,i.jsx)(p.Z,{userId:t.id})})]})]})}},308829:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(481060),l=n(906732),s=n(785717),r=n(171368),o=n(689938),c=n(615264);function u(e){let{user:t,channelId:n}=e,{analyticsLocations:u}=(0,l.ZP)(),{trackUserProfileAction:d}=(0,s.KZ)();return(0,i.jsx)("footer",{className:c.footer,children:(0,i.jsx)(a.Button,{fullWidth:!0,size:a.Button.Sizes.LARGE,look:a.Button.Looks.BLANK,color:c.buttonColor,onClick:()=>{d({action:"PRESS_VIEW_PROFILE"}),(0,r.openUserProfileModal)({sourceAnalyticsLocations:u,userId:t.id,channelId:n})},children:o.Z.Messages.VIEW_FULL_PROFILE})})}},354810:function(e,t,n){n.d(t,{Z:function(){return S}});var i=n(735250),a=n(470079),l=n(442837),s=n(974674),r=n(481060),o=n(420660),c=n(100527),u=n(906732),d=n(233440),h=n(199902),p=n(158776),m=n(998502),_=n(785717),f=n(204197),E=n(78675),g=n(438163),C=n(652853),I=n(228168),x=n(981631),T=n(775784);let N=m.ZP.getEnableHardwareAcceleration()?s.Xo:s.qE,v=r.AvatarSizes.SIZE_80;function S(e){let{user:t,displayProfile:n,channel:s,isHovering:m,onOpenProfile:S}=e,{theme:Z}=(0,C.z)(),{analyticsLocations:A}=(0,u.ZP)(c.Z.AVATAR),{trackUserProfileAction:M}=(0,_.KZ)(),b=null==n?void 0:n.canUsePremiumProfileCustomization,{avatarSrc:R,eventHandlers:j,avatarDecorationSrc:L}=(0,f.Z)({user:t,size:v,animateOnHover:!m}),P=a.useMemo(()=>(0,d.W)(t,s.id),[t,s.id]),{status:O,isMobileOnline:y}=(0,l.cj)([h.Z,p.Z],()=>{let e=null!=h.Z.getAnyStreamForUser(t.id),n=p.Z.findActivity(t.id,t=>{let{type:n}=t;return e?n===x.IIU.PLAYING:n!==x.IIU.CUSTOM_STATUS});return{status:(0,o.Z)(n)?r.StatusTypes.STREAMING:p.Z.getStatus(t.id),isMobileOnline:p.Z.isMobileOnline(t.id)}});return(0,i.jsxs)("header",{className:T.header,children:[(0,i.jsx)(E.Z,{user:t,displayProfile:n,profileType:I.y0.PANEL,animateOnHover:!m}),(0,i.jsx)(r.Clickable,{...j,className:T.clickable,onClick:()=>{M({action:"PRESS_VIEW_PROFILE",analyticsLocations:A}),null==S||S()},children:(0,i.jsx)(N,{src:R,avatarDecoration:L,size:v,imageClassName:T.overlay,status:P||t.isNonUserBot()?r.StatusTypes.UNKNOWN:O,statusBackdropColor:b&&!P?(0,r.getStatusBackdropColor)(Z):void 0,"aria-label":t.username,isMobile:y,statusTooltip:!0,statusTooltipDelay:I.vB})}),(0,i.jsx)(g.Z,{user:t,profileType:I.y0.PANEL})]})}},940885:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(735250);n(470079);var a=n(410030),l=n(906732),s=n(769654),r=n(785717),o=n(726059),c=n(162267),u=n(483517),d=n(502762),h=n(171368),p=n(944546),m=n(470900),_=n(772056),f=n(689938),E=n(440431);function g(e){let{user:t,channelId:n}=e,{analyticsLocations:g}=(0,l.ZP)(),{trackUserProfileAction:C}=(0,r.KZ)(),I=(0,a.ZP)(),{mutualFriends:x,isFetching:T}=(0,o.Z)(t.id,!t.bot),{mutualGuilds:N,isFetching:v}=(0,c.Z)(t.id,!0),S=!t.bot&&null!=x&&x.length>0,Z=null!=N&&N.length>0;return S||Z?(0,i.jsxs)(d.Z.Overlay,{className:E.overlay,children:[Z&&(0,i.jsx)(_.Z,{className:E.list,header:f.Z.Messages.MUTUAL_GUILDS_COUNT.format({count:N.length}),isLoadingHeader:v,loadingContentsCount:N.length,itemType:_.R.MutualGuildList,onExpand:()=>C({action:"PRESS_SECTION",section:"MUTUAL_GUILDS"}),children:N.map(e=>{let{guild:n,nick:a}=e;return(0,i.jsx)(m.D,{user:t,guild:n,nick:a,theme:I,onSelect:()=>(0,s.X)(n.id)},n.id)})}),Z&&S&&(0,i.jsx)(u.Z,{className:E.divider}),S&&(0,i.jsx)(_.Z,{className:E.list,header:f.Z.Messages.MUTUAL_FRIENDS_COUNT.format({count:x.length}),isLoadingHeader:T,loadingContentsCount:x.length,itemType:_.R.MutualFriendsList,onExpand:()=>C({action:"PRESS_SECTION",section:"MUTUAL_FRIENDS"}),children:x.map(e=>{let{key:t,user:a,status:l}=e;return(0,i.jsx)(p.T,{user:a,status:l,onSelect:()=>{(0,h.openUserProfileModal)({sourceAnalyticsLocations:g,userId:a.id,channelId:n})}},t)})})]}):null}},625015:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(704215),s=n(974674),r=n(481060),o=n(243778),c=n(261892),u=n(197115),d=n(703656),h=n(594174),p=n(626135),m=n(74538),_=n(204197),f=n(502762),E=n(981631),g=n(921944),C=n(474936),I=n(689938),x=n(780104);function T(){p.default.track(E.rMx.PREMIUM_UPSELL_INTERACTED,{cta_type:"Learn more button",target:"premium marketing page"}),(0,d.uL)(E.Z5c.APPLICATION_STORE)}function N(e){let{avatarSrc:t,username:n}=e,[a,c]=(0,o.U)([l.z.NITRO_ON_PROFILE_SIDE_PANEL],g.R.SIDEBAR,!0);return a!==l.z.NITRO_ON_PROFILE_SIDE_PANEL?null:(0,i.jsxs)(f.Z.Overlay,{className:x.overlay,children:[(0,i.jsxs)("div",{className:x.contentGroup,children:[(0,i.jsx)(s.qE,{src:t,size:r.AvatarSizes.SIZE_32,status:r.StatusTypes.UNKNOWN,"aria-label":n}),(0,i.jsx)(r.Text,{variant:"text-sm/medium",className:x.contentText,children:I.Z.Messages.AFFINITIES_MARKETING_HEADER_V2_1.format({username:n})}),(0,i.jsx)(r.Clickable,{onClick:()=>c(g.L.USER_DISMISS),"aria-label":I.Z.Messages.DISMISS,className:x.closeIconWrapper,children:(0,i.jsx)(r.CloseSmallIcon,{size:"md",color:"currentColor",className:x.closeIcon})})]}),(0,i.jsxs)("div",{className:x.buttonGroup,children:[(0,i.jsx)(r.Button,{className:x.learnMoreButton,size:r.Button.Sizes.TINY,color:r.Button.Colors.CUSTOM,onClick:T,children:I.Z.Messages.LEARN_MORE}),(0,i.jsx)(u.Z,{className:x.getNitroButton,size:r.Button.Sizes.TINY,color:r.Button.Colors.CUSTOM,buttonText:I.Z.Messages.MARKETING_PAGE_CTA_GET_NITRO})]})]})}function v(e){let{avatarSrc:t,username:n}=e,[a,c]=(0,o.U)([l.z.NITRO_ON_PROFILE_SIDE_PANEL],g.R.SIDEBAR,!0);return a!==l.z.NITRO_ON_PROFILE_SIDE_PANEL?null:(0,i.jsx)(f.Z.Overlay,{className:x.overlay2,children:(0,i.jsxs)("div",{className:x.contentGroup,children:[(0,i.jsx)(s.qE,{src:t,size:r.AvatarSizes.SIZE_32,status:r.StatusTypes.UNKNOWN,"aria-label":n}),(0,i.jsx)(r.Text,{variant:"text-sm/medium",className:x.contentText,children:I.Z.Messages.AFFINITIES_MARKETING_HEADER_V2_1_WITH_LINK.format({username:n,onClickLearnMore:T})}),(0,i.jsx)(r.Clickable,{onClick:()=>c(g.L.USER_DISMISS),"aria-label":I.Z.Messages.DISMISS,className:x.closeIconWrapper,children:(0,i.jsx)(r.CloseSmallIcon,{size:"md",color:"currentColor",className:x.closeIcon})})]})})}function S(e){let{avatarSrc:t,username:n}=e;return(0,i.jsx)(f.Z.Overlay,{className:x.overlay2,children:(0,i.jsxs)("div",{className:x.contentGroup,children:[(0,i.jsx)(s.qE,{src:t,size:r.AvatarSizes.SIZE_32,status:r.StatusTypes.UNKNOWN,"aria-label":n}),(0,i.jsx)(r.Text,{variant:"text-sm/medium",className:x.contentText,children:I.Z.Messages.AFFINITIES_MARKETING_HEADER_V2_1_WITH_LINK.format({username:n,onClickLearnMore:T})})]})})}function Z(e){let{variant:t,avatarSrc:n,username:a}=e;if(1===t)return(0,i.jsx)(N,{avatarSrc:n,username:a});if(2===t)return(0,i.jsx)(v,{avatarSrc:n,username:a});if(3===t)return(0,i.jsx)(S,{avatarSrc:n,username:a});return null}let A=a.memo(function(e){let{user:t,displayProfile:n}=e,{avatarSrc:a}=(0,_.Z)({user:t,size:r.AvatarSizes.SIZE_32}),l=h.default.getCurrentUser(),s=m.ZP.isPremium(l)||null==n||!m.ZP.isPremiumAtLeast(n.premiumType,C.p9.TIER_2),{enabled:o,variant:u}=c.f.useExperiment({location:"SimplifiedProfilePanelPremiumUpsell"},{disable:s,autoTrackExposure:!s});return o?(0,i.jsx)(Z,{variant:u,avatarSrc:a,username:t.username}):null});t.Z=A},87728:function(e,t,n){n.d(t,{Z:function(){return a}}),n(47120);var i=n(470079);function a(){var e;let[t,n]=i.useState((e=window.innerWidth<1132,e));return i.useEffect(()=>{function e(){n(window.innerWidth<1132)}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[n]),t}},453925:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(846027),r=n(131951),o=n(36703),c=n(689938);function u(){let e=(0,a.e7)([r.Z],()=>(0,o.P)(r.Z.getInputVolume()));return(0,i.jsx)(l.MenuControlItem,{id:"input",label:c.Z.Messages.FORM_LABEL_INPUT_VOLUME,control:(t,n)=>(0,i.jsx)(l.MenuSliderControl,{...t,ref:n,value:e,onChange:e=>s.Z.setInputVolume((0,o.A)(e)),"aria-label":c.Z.Messages.FORM_LABEL_INPUT_VOLUME})})}},821564:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(846027),r=n(131951),o=n(358085),c=n(981631),u=n(689938);function d(){let e=!o.isPlatformEmbedded,t=(0,a.e7)([r.Z],()=>r.Z.getMode()),n=(e,n)=>(0,i.jsx)(l.MenuRadioItem,{id:e,group:"input-modes",label:n,checked:t===e,action:()=>s.Z.setMode(e)},e);return[n(c.pM4.VOICE_ACTIVITY,u.Z.Messages.INPUT_MODE_VAD),n(c.pM4.PUSH_TO_TALK,e?u.Z.Messages.INPUT_MODE_PTT_LIMITED:u.Z.Messages.INPUT_MODE_PTT)]}},632304:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(442837),l=n(481060),s=n(846027),r=n(131951),o=n(36703),c=n(358085),u=n(689938);function d(){let e=(0,a.e7)([r.Z],()=>(0,o.P)(r.Z.getOutputVolume()));return(0,i.jsx)(l.MenuControlItem,{id:"output",label:u.Z.Messages.FORM_LABEL_OUTPUT_VOLUME,control:(t,n)=>(0,i.jsx)(l.MenuSliderControl,{...t,ref:n,value:e,maxValue:c.isPlatformEmbedded?200:100,onChange:e=>s.Z.setOutputVolume((0,o.A)(e)),"aria-label":u.Z.Messages.FORM_LABEL_OUTPUT_VOLUME})})}},584729:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(271383),a=n(5192),l=n(354459),s=n(689938);function r(e,t,n){var r,o;if(t.type===l.fO.ACTIVITY)return null!==(o=null==n?void 0:n.name)&&void 0!==o?o:null;let c=i.ZP.isGuestOrLurker(e.guild_id,null===(r=t.user)||void 0===r?void 0:r.id);return a.ZP.getName(e.getGuildId(),e.id,t.user)+(c?" ".concat(s.Z.Messages.GUEST_NAME_SUFFIX):"")}},44136:function(e,t,n){n.d(t,{ZP:function(){return a}}),n(442837),n(314897),n(131951);var i=n(354459);function a(e){var t,n;return e.type!==i.fO.ACTIVITY&&((0,i._5)(e)?null!=e.streamId:null!==(n=null===(t=e.voiceState)||void 0===t?void 0:t.selfVideo)&&void 0!==n&&n)}},807705:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(470079);function a(e,t){let n=(0,i.useRef)(!1),a=(0,i.useRef)();(0,i.useEffect)(()=>{n.current=!0,a.current=e},[e]),(0,i.useEffect)(()=>{let e=setTimeout(()=>n.current=!1,t);return()=>clearTimeout(e)},[e,t]);let l=e!==a.current,s=n.current;return l||s}},294629:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(442837),a=n(160404),l=n(314897),s=n(131951),r=n(496675),o=n(979651),c=n(981631);function u(e){return(0,i.cj)([l.default,o.Z,s.Z,r.Z,a.Z],()=>(function(e){var t;let{channel:n,authenticationStore:i=l.default,voiceStateStore:u=o.Z,mediaEngineStore:d=s.Z,permissionStore:h=r.Z,impersonateStore:p=a.Z}=e,m=null!=n?u.getVoiceState(n.getGuildId(),i.getId()):null,_=d.isSelfMute()||d.isSelfMutedTemporarily(),f=null==n?void 0:n.getGuildId(),E=p.isViewingRoles(f)&&!h.can(c.Plq.SPEAK,n);return{selfMute:_,suppress:(null==m?void 0:m.suppress)||E,mute:null!==(t=null==m?void 0:m.mute)&&void 0!==t&&t}})({channel:e,authenticationStore:l.default,voiceStateStore:o.Z,mediaEngineStore:s.Z,permissionStore:r.Z,impersonateStore:a.Z}))}},434488:function(e,t,n){n.d(t,{h:function(){return Z}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(704215),o=n(692547),c=n(481060),u=n(2052),d=n(127255),h=n(5200),p=n(403404),m=n(100527),_=n(906732),f=n(605236),E=n(448239),g=n(626135),C=n(792125),I=n(607187),x=n(981631),T=n(701488),N=n(689938),v=n(882338),S=n(334732);function Z(e){let{channel:t,guild:n,width:a,inPopout:l,handleClose:s,userParticipantCount:r}=e;return a<250?(0,i.jsx)(A,{channel:t,guild:n,width:a,inPopout:l,handleClose:s,userParticipantCount:r}):r>1?(0,i.jsx)(R,{channel:t,guild:n,width:a,inPopout:l,handleClose:s,userParticipantCount:r}):(0,i.jsx)(M,{channel:t,guild:n,width:a,inPopout:l})}function A(e){let{channel:t,inPopout:n,handleClose:a}=e,{analyticsLocations:l}=(0,_.ZP)(m.Z.VC_TILE_ACTIVITY_SHELF_BUTTON),r=(0,u.O)(),d=()=>{(0,p.Z)({channel:t,guildId:t.guild_id,locationObject:r.location,openInPopout:n,analyticsLocations:l})};return(0,i.jsx)(_.Gt,{value:l,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Tooltip,{text:N.Z.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY,children:e=>{let{onClick:t,...n}=e;return(0,i.jsx)(c.Clickable,{...n,className:v.clickableTile,onClick:()=>{null==t||t(),d()},children:(0,i.jsx)(I.Z,{className:v.root,children:(0,i.jsx)("div",{className:v.iconContainer,children:(0,i.jsx)(c.ActivitiesPlusIcon,{size:"custom",color:"currentColor",width:40,height:40})})})})}}),(0,i.jsx)(c.Clickable,{onClick:a,className:s()((0,C.Q)(x.BRd.DARK),v.shelfButtonCloseButton),children:(0,i.jsx)(c.CircleXIcon,{size:"md",color:"currentColor",className:v.closeButtonIcon,secondaryColor:o.Z.colors.INTERACTIVE_NORMAL.css})})]})})}function M(e){let{channel:t,guild:l,inPopout:s,width:r}=e;a.useEffect(()=>{g.default.track(x.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_VIEWED,{tile_type:"activity invite",n_participants:1})},[]);let o=(0,u.O)(),{analyticsLocations:d}=(0,_.ZP)(m.Z.VC_TILE_ACTIVITY_INVITE);return(0,i.jsx)(_.Gt,{value:d,children:(0,i.jsxs)(I.Z,{className:v.root,children:[r>400?(0,i.jsx)("img",{src:S,className:v.art,alt:N.Z.Messages.EMBEDDED_ACTIVITIES_SHELF_CHARACTERS_ALT_TEXT}):null,(0,i.jsx)(c.Text,{className:v.heading,variant:"text-md/semibold",color:"always-white",children:N.Z.Messages.EMBEDDED_ACTIVITIES_VC_TILE_ENTRY_POINT_INVITE}),(0,i.jsxs)("div",{className:v.buttonContainer,children:[(0,i.jsxs)(c.Button,{size:c.Button.Sizes.LARGE,color:c.Button.Colors.PRIMARY,className:v.button,innerClassName:v.buttonContents,onClick:function(){(0,c.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("17520")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:l,channel:t,source:x.t4x.ACTIVITY_ENTRY_POINT_TILE})},{contextKey:s?c.POPOUT_MODAL_CONTEXT:c.DEFAULT_MODAL_CONTEXT})},children:[(0,i.jsx)(c.FriendsIcon,{size:"xs",color:"currentColor"}),N.Z.Messages.INVITE_FRIENDS]}),(0,i.jsxs)(c.Button,{size:c.Button.Sizes.LARGE,className:v.button,innerClassName:v.buttonContents,onClick:function(){(0,p.Z)({channel:t,guildId:t.guild_id,locationObject:o.location,openInPopout:s,analyticsLocations:d})},children:[(0,i.jsx)(c.ActivitiesIcon,{size:"xs",color:"currentColor"}),N.Z.Messages.EMBEDDED_ACTIVITIES_ACTIVITY_ENTRY_POINT_TILE_CHOOSE_AN_ACTIVITY]})]})]})})}let b=e=>{let{userParticipantCount:t,guildId:n,channel:i}=e,a=(0,d.Z)({guildId:n,channel:i});if(2===t){let e=[],t=function(){return[T.jT,T.f9,T.fE].filter(Boolean).slice(0,3)}();return a.forEach(n=>{let i=t.indexOf(n.application.id);!(i<0)&&(e[i]=n)}),e}return a.slice(0,3)};function R(e){let{channel:t,guild:n,handleClose:l,width:o,userParticipantCount:u}=e;a.useEffect(()=>{g.default.track(x.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_VIEWED,{tile_type:"activity suggestion",n_participants:u})},[]);let d=b({userParticipantCount:u,guildId:n.id,channel:t}),{analyticsLocations:p}=(0,_.ZP)(m.Z.VC_TILE_ACTIVITY_SUGGESTION);return(0,i.jsx)(_.Gt,{value:p,children:(0,i.jsxs)(I.Z,{className:v.root,children:[o>480?(0,i.jsx)("img",{className:v.art,src:S,alt:N.Z.Messages.EMBEDDED_ACTIVITIES_SHELF_CHARACTERS_ALT_TEXT}):null,o>300?(0,i.jsx)(c.Text,{className:v.heading,variant:o>550?"text-md/semibold":"text-sm/semibold",children:N.Z.Messages.EMBEDDED_ACTIVITIES_VC_TILE_ENTRY_POINT_TITLE}):null,(0,i.jsx)("div",{className:s()(v.activitiesContainer,{[v.activitiesContainerSmol]:o<=300}),children:d.map(e=>(0,i.jsx)(h.Y,{channel:t,activityItem:e,aspectRatio:h.Y.AspectRatio.SIXTEEN_BY_NINE,animatedDivClass:v.activitySuggestion},e.application.id))}),(0,i.jsxs)(c.Clickable,{className:v.checkboxContainer,onClick:function(){g.default.track(x.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_CLOSED,{tile_type:"activity suggestion",close_type:"permanent",n_participants:u}),(0,f.EW)(r.z.VC_TILE_ACTIVITIES_ENTRY_POINT)},children:[(0,i.jsx)(E.Z,{}),(0,i.jsx)(c.Text,{variant:"text-sm/medium",children:N.Z.Messages.DONT_SHOW_AGAIN})]}),(0,i.jsx)(c.Clickable,{className:v.closeButtonContainer,onClick:function(){g.default.track(x.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_CLOSED,{tile_type:"activity suggestion",close_type:"temporary",n_participants:u}),l()},children:(0,i.jsx)(c.CloseSmallIcon,{size:"md",color:"currentColor",className:v.closeButton})})]})})}},849171:function(e,t,n){n.d(t,{OV:function(){return k},ZP:function(){return w}}),n(47120);var i,a,l=n(735250),s=n(470079),r=n(120356),o=n.n(r),c=n(442837),u=n(481060),d=n(2052),h=n(317381),p=n(638880),m=n(613611),_=n(527805),f=n(716600),E=n(952561),g=n(778569),C=n(563218),I=n(513202),x=n(318891),T=n(719296),N=n(958185),v=n(100527),S=n(906732),Z=n(835473),A=n(522474),M=n(314897),b=n(819640),R=n(594174),j=n(602623),L=n(823379),P=n(5192),O=n(689938),y=n(270486);(a=i||(i={}))[a.SMALL=0]="SMALL",a[a.MEDIUM=1]="MEDIUM",a[a.LARGE=2]="LARGE";let D=["embedded_background"];function k(e){let{avatarSize:t,guildId:n,channelId:i,users:a}=e,s=null!=t?t:u.AvatarSizes.SIZE_32,r=(0,u.getAvatarSize)(s);return(0,l.jsx)(j.Z,{size:r,guildId:n,users:a,max:4,renderUser:e=>{if(null==e)return null;let t=P.ZP.getName(n,i,e);return(0,l.jsx)(u.TooltipContainer,{text:t,color:u.TooltipColors.GREY,children:(0,l.jsx)("img",{src:e.getAvatarURL(n,r),alt:t,className:y.avatar},e.id)},e.id)}})}function U(e){var t,n,i,a;let{participants:s,application:r,currentEmbeddedApplication:f,channel:E,width:g}=e;let C=(i=g)>400?2:i>300?1:0;let[x]=(a=g)>400?[u.AvatarSizes.SIZE_56,56]:a>300?[u.AvatarSizes.SIZE_32,32]:[u.AvatarSizes.SIZE_24,24],T=(0,c.Wu)([R.default,M.default],()=>Array.from(s).map(e=>(0,m.J)(e,M.default)?null:R.default.getUser(e.userId)).filter(L.lm)),N=(0,c.e7)([h.ZP],()=>h.ZP.getEmbeddedActivitiesForChannel(E.id).find(e=>e.applicationId===r.id)),{analyticsLocations:v}=(0,S.ZP)(),Z=(0,d.O)(),A=P.ZP.getName(E.getGuildId(),E.id,null==T?void 0:T[0]),b=(0,_.s5)({userId:null===(t=R.default.getCurrentUser())||void 0===t?void 0:t.id,channelId:E.id,application:r})===_.Fw.CAN_JOIN,j=null!==(n=E.getGuildId())&&void 0!==n?n:void 0;return(0,l.jsxs)("div",{className:y.splash,children:[(0,l.jsx)(k,{avatarSize:x,guildId:j,channelId:E.id,users:T}),(0,l.jsx)(u.Text,{className:o()(y.subheader,{[y.small]:0===C,[y.medium]:1===C}),variant:"text-sm/normal",children:T.length>1?O.Z.Messages.EMBEDDED_ACTIVITIES_USERNAME_AND_OTHERS.format({username:A,count:T.length-1}):O.Z.Messages.EMBEDDED_ACTIVITIES_IS_PLAYING.format({username:A})}),(0,l.jsx)(u.Text,{className:o()(y.header,{[y.small]:0===C,[y.medium]:1===C}),variant:"text-sm/normal",children:r.name}),(0,l.jsx)("div",{className:y.buttons,children:b?(0,l.jsx)(u.Button,{onClick:function(e){if(e.stopPropagation(),null!=N)(0,p.Z)({applicationId:N.applicationId,currentEmbeddedApplication:f,activityChannelId:E.id,locationObject:Z.location,embeddedActivitiesManager:I.Z,analyticsLocations:v})},size:function(e){switch(e){case 2:return u.Button.Sizes.LARGE;case 1:return u.Button.Sizes.MEDIUM;case 0:return u.Button.Sizes.SMALL}}(C),className:y.button,color:u.Button.Colors.PRIMARY,children:O.Z.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY}):null})]})}function w(e){let{participant:t,width:n,selected:i,interactible:a,channel:r}=e,{analyticsLocations:o}=(0,S.ZP)(v.Z.ACTIVITY_TILE),{id:u}=t,d=(0,f.Z)(),h=(null==d?void 0:d.channelId)===r.id&&d.applicationId===u,p=(0,E.Z)(),[m]=(0,Z.Z)([u]),{url:_}=(0,g.Z)({applicationId:u,names:D,size:1024}),I=!i&&h,M=!h,R=!h&&!i,j=(0,c.e7)([b.Z,A.Z],()=>(0,N.Z)({LayerStore:b.Z,PopoutWindowStore:A.Z}));return s.useEffect(()=>{if(I&&null!=d&&!j){let e=(0,T.Z)(d.channelId,d.applicationId);(0,x.jy)(e)}},[I,d,j]),(0,l.jsx)(S.Gt,{value:o,children:(0,l.jsx)("div",{className:y.container,children:(0,l.jsxs)(l.Fragment,{children:[I&&(0,l.jsx)(C.Z,{className:y.iframe,embedId:(0,T.Z)(r.id,u)}),M&&null!=m&&null!=_&&""!==_?(0,l.jsx)("img",{className:y.splashImage,alt:m.name,src:_}):null,R&&null!=m&&(0,l.jsx)(U,{width:n,channel:r,participants:t.participants,application:m,currentEmbeddedApplication:p}),a||M?null:(0,l.jsx)("div",{className:y.clickShield})]})})})}},27457:function(e,t,n){n.d(t,{BP:function(){return es}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(848246),o=n(442837),c=n(692547),u=n(481060),d=n(846027),h=n(410575),p=n(812206),m=n(835473),_=n(414910),f=n(415635),E=n(649739),g=n(574176),C=n(833858),I=n(223135),x=n(37091),T=n(6572),N=n(535400),v=n(512384),S=n(6242),Z=n(757692),A=n(386542),M=n(485731),b=n(614011),R=n(210975),j=n(937995),L=n(456631),P=n(274459),O=n(314897),y=n(77498),D=n(131951),k=n(158776),U=n(594174),w=n(979651),B=n(366695),H=n(40300),G=n(374129),V=n(639351),F=n(584729),W=n(849171),z=n(607187),Y=n(833519),K=n(462061),q=n(623825),X=n(839662),Q=n(981631),J=n(354459),$=n(524484),ee=n(65154),et=n(689938),en=n(372453);let ei=a.memo(e=>{var t,n,l,c,C;let{participant:I,onDoubleClick:B,onContextMenu:G,onClick:V,onMouseDown:q,onKeyDown:ei,className:ea,style:es,channel:er,width:eo,inPopout:ec,onVideoResize:eu,inCall:ed=!1,selected:eh=!1,noBorder:ep=!1,noVideoRender:em=!1,focused:e_=!1,blocked:ef=!1,fit:eE=H.L.CONTAIN,paused:eg=!1,pulseSpeakingIndicator:eC=!1}=e,eI=a.useContext(j.h9),[ex,eT]=a.useState(!1),eN=(0,o.e7)([O.default],()=>O.default.getId()),ev=(0,o.e7)([U.default],()=>U.default.getCurrentUser()),eS=I.type===J.fO.ACTIVITY?null:null===(t=I.user)||void 0===t?void 0:t.id,[eZ]=(0,m.Z)(I.type===J.fO.ACTIVITY?[I.id]:[]),eA=(0,o.e7)([x.Z],()=>x.Z.getEnabled()),eM=(0,o.e7)([D.Z],()=>null!=eS&&D.Z.isLocalVideoDisabled(eS,(0,_.Z)(I.type)),[eS,I.type]),eb=(0,o.e7)([D.Z],()=>null!=eS?D.Z.getVideoToggleState(eS,(0,_.Z)(I.type)):Q.ZUi.NONE,[eS,I.type]),eR=eb===Q.ZUi.AUTO_PROBING,{speaking:ej,ringing:eL,hasVideo:eP}=(0,X.Z)(I,eN),eO=function(e,t,n){var i,a,l,s;let r=(0,o.cj)([w.Z],()=>{var e,i,a;let l=w.Z.getVoiceState(n,t.id);return{muted:null!==(e=null==l?void 0:l.mute)&&void 0!==e&&e,deafened:null!==(i=null==l?void 0:l.deaf)&&void 0!==i&&i,suppressed:null!==(a=null==l?void 0:l.suppress)&&void 0!==a&&a,voiceChannelId:null==l?void 0:l.channelId}}),c=(0,o.cj)([D.Z],()=>{let n=(0,_.Z)(t.type),i=t.type!==J.fO.ACTIVITY?t.user.id:t.id;return e===i?{muted:!1,deafened:!1}:{muted:D.Z.isLocalMute(i,n),localVideoDisabled:D.Z.isLocalVideoDisabled(i,n),localVideoAutoDisabled:D.Z.isLocalVideoAutoDisabled(i,n)}},[e,t]);return{serverMuted:r.muted,serverDeafened:r.deafened,suppressed:r.suppressed,localMuted:c.muted,muted:null!==(l=t.type===J.fO.USER&&(null===(i=t.voiceState)||void 0===i?void 0:i.isVoiceMuted()))&&void 0!==l&&l,deafened:null!==(s=t.type===J.fO.USER&&(null===(a=t.voiceState)||void 0===a?void 0:a.isVoiceDeafened()))&&void 0!==s&&s}}(eN,I,er.getGuildId()),ey=I.type===J.fO.STREAM&&eS===eN,{available:eD,activated:ek,hqStreamingState:eU}=(0,A.k)(r.q.STREAM_HIGH_QUALITY),ew=eD&&ek&&eU.hqStreamingIsEnabled&&ey,eB=(0,Z.o)(I,ev),eH=(0,S.lL)("CallTile",!0,ev,eB),eG=eH.persistentQualityIndicator&&eH.enabled,eV=(0,o.e7)([L.Z],()=>null!=eS?L.Z.getEffectForUserId(eS):null),eF=(0,o.e7)([w.Z],()=>w.Z.getVoicePlatformForChannel(er.id,null!=eS?eS:Q.lds)),{enableHangStatus:eW}=g.n.useExperiment({guildId:er.guild_id,location:"VoiceUsers"}),{showGameIcon:ez}=E.ZP.useExperiment({location:"voice_users"},{autoTrackExposure:!1}),eY=ez||eW,{hangStatusActivity:eK,gameActivity:eq}=(0,o.cj)([k.Z],()=>({hangStatusActivity:eW&&null!=eS?k.Z.findActivity(eS,e=>e.type===Q.IIU.HANG_STATUS):null,gameActivity:eY&&null!=eS?k.Z.findActivity(eS,e=>null!=e.application_id&&e.type===Q.IIU.PLAYING):null}),[eW,eS,eY]),eX=(0,o.e7)([y.Z],()=>(null==eq?void 0:eq.application_id)!=null?y.Z.getDetectableGame(eq.application_id):null),eQ=(0,o.e7)([p.Z],()=>null!=eX&&(null==eq?void 0:eq.application_id)!=null?p.Z.getApplication(null==eq?void 0:eq.application_id):void 0),eJ=(0,R.wV)({userId:eS,channelId:er.id,location:"CallTile"});a.useEffect(()=>{eT(e_)},[e_]);let e$=a.useCallback(()=>{null!=eS&&d.Z.toggleLocalMute(eS,ee.Yn.STREAM)},[eS]),e0=a.useCallback(()=>{(0,M.hP)(!0)},[]),e1=a.useCallback(e=>{null==V||V(I,e)},[V,I]),e2=a.useCallback(e=>{null==B||B(I,e)},[B,I]),e7=a.useCallback(e=>{null==G||G(I,e)},[G,I]),e4=eI;(ew||eG)&&(e4=!1);let e3=null,e5=null,e6="";switch(I.type){case J.fO.STREAM:e3=(0,i.jsx)(Y.Z,{participant:I,selected:eh,width:eo,fit:eE,onVideoResize:eu,paused:eg,inPopout:ec,focused:e_}),e5=(0,i.jsx)(Y._,{participant:I,selected:eh,width:eo,focused:e_,idle:e4,premiumIndicator:ew||eH.enabled}),e6=et.Z.Messages.CALL_TILE_A11Y_LABEL_STREAM.format({streamerName:I.user.username});break;case J.fO.USER:e3=(0,i.jsx)(K.Z,{channel:er,inCall:ed,participant:I,fit:eE,onVideoResize:eu,paused:eg,selected:eh,width:eo,blocked:ef,noVideoRender:em||eR,pulseSpeakingIndicator:eC}),e5=(0,i.jsx)(K.T,{userId:I.user.id,channelId:er.id}),e6=et.Z.Messages.CALL_TILE_A11Y_LABEL_USER.format({username:I.user.username});break;case J.fO.ACTIVITY:e3=(0,i.jsx)(W.ZP,{interactible:e_,participant:I,selected:eh,channel:er,width:eo}),e6=et.Z.Messages.CALL_TILE_A11Y_LABEL_ACTIVITY.format({activityName:null==eZ?void 0:eZ.name});break;case J.fO.HIDDEN_STREAM:e3=(0,i.jsx)(Y.Z,{participant:I,selected:eh,width:eo,fit:eE,onVideoResize:eu,paused:eg,inPopout:ec,focused:e_})}let e9=a.useRef(null);return(0,i.jsx)(h.Z,{section:Q.jXE.VOICE_CHANNEL_TILE,children:(0,i.jsx)("div",{className:s()(en.wrapper,{[en.ringing]:eL},ea),children:(0,i.jsxs)(v.Z,{shakeLocation:$.oZ.VOICE_USER,isShaking:ej,className:en.tile,children:[(0,i.jsx)(z.Z,{ref:e9,className:s()(en.tile,{[en.noBorder]:ep,[en.noInteraction]:null==V,[en.idle]:eI}),noBorder:ep,style:es,participantUserId:eS,children:(0,i.jsxs)(u.ClickableContainer,{"aria-label":e6,className:en.tileChild,onDoubleClick:e2,onContextMenu:e7,onClick:e1,onMouseDown:q,onKeyDown:ei,focusProps:{offset:1},children:[I.type===J.fO.USER&&null!=eS&&null!=eV?(0,i.jsx)(P.Z,{voiceChannelEffect:eV,onComplete:()=>(0,L.H)(eS),userId:eS}):null,I.type===J.fO.USER?(0,i.jsx)("div",{className:en.voiceChannelEffectsContainer,children:(0,i.jsx)(f.Z,{userId:eS,channelId:er.id,guildId:er.getGuildId(),containerDimensions:{width:null!==(c=null==e9?void 0:null===(n=e9.current)||void 0===n?void 0:n.clientWidth)&&void 0!==c?c:0,height:null!==(C=null==e9?void 0:null===(l=e9.current)||void 0===l?void 0:l.clientHeight)&&void 0!==C?C:0}})}):null,e3,ew?(0,i.jsx)(b.W,{onPlayed:e0,played:eU.hqStreamingFrameAnimationPlayed}):null,ep?null:(0,i.jsx)("div",{className:en.indicators,children:e5}),eh?(0,i.jsx)("div",{className:en.selectedScreen,children:(0,i.jsx)(u.VideoIcon,{size:"md",color:"currentColor",className:en.selectedIcon})}):null,I.type!==J.fO.ACTIVITY?(0,i.jsx)(el,{focused:e_,width:eo,inCall:ed,participantType:I.type,hasVideo:null!=eP&&eP,...eO,idle:eI,platform:eF,title:(0,F.Z)(er,I),blocked:ef,localVideoDisabled:eM,videoToggleState:eb,hideAudioIcon:ey,onContextMenu:e7,onToggleMute:e$,participantUserId:eS,hangStatusActivity:eK,application:eQ,speaking:ej,secureFramesVerified:eJ}):null,I.type===J.fO.USER&&eA?(0,i.jsx)(T.Z,{userId:I.id,channelId:er.id}):null,ed&&!ep?(0,i.jsx)("div",{className:s()(en.border,{[en.voiceChannelEffect]:!e_&&null!=eV,[en.speaking]:ej&&!e_})}):null]})}),(0,i.jsx)(N.Z,{isFiring:ex,callTileRef:e9.current})]})})})});function ea(e){let{participantType:t,platform:n,className:a}=e;if(t===J.fO.STREAM)return n===J.wR.XBOX?(0,i.jsx)(V.Z,{className:a}):(0,i.jsx)(u.ScreenIcon,{size:"md",color:"currentColor",className:a});switch(n){case J.wR.MOBILE:return(0,i.jsx)(u.MobilePhoneIcon,{size:"xs",color:"currentColor",className:a});case J.wR.XBOX:return(0,i.jsx)(V.Z,{className:a});case J.wR.PLAYSTATION:return(0,i.jsx)(G.Z,{className:a});default:return null}}ei.displayName="CallTile";let el=a.memo(e=>{let{muted:t,deafened:n,localMuted:a,serverMuted:l,serverDeafened:r,idle:d,title:h,width:p,hasVideo:m,inCall:f,localVideoDisabled:E,videoToggleState:g,focused:x,blocked:T,hideAudioIcon:N,participantType:v,participantUserId:S,onContextMenu:Z,onToggleMute:A,platform:M,hangStatusActivity:b,application:R,speaking:j,secureFramesVerified:L}=e,P=null,O=null,y=null,k=null,U=(0,q.K)(p),w=(0,q.N)(p),H=(0,o.e7)([D.Z],()=>null!=S&&D.Z.isLocalVideoAutoDisabled(S,(0,_.Z)(v)),[S,v]),G=(0,u.useRedesignIconContext)().enabled;if(!N){if(a&&v===J.fO.STREAM&&m&&!x)P=(0,i.jsx)(u.Tooltip,{text:et.Z.Messages.UNMUTE,children:e=>{let{onClick:t,...n}=e;return(0,i.jsx)(u.Clickable,{...n,onClick:e=>{e.stopPropagation(),null==t||t(),A()},className:s()(en.interactive,en.toggleMute),children:(0,i.jsx)(u.VoiceXIcon,{size:"md",color:"currentColor"})})}});else if(a||v!==J.fO.STREAM||!m||U||x){if(G){let e;r?e=u.HeadphonesDenyIcon:l?e=u.MicrophoneDenyIcon:n?e=u.HeadphonesSlashIcon:a?e=u.MicrophoneDenyIcon:t&&(e=u.MicrophoneSlashIcon),P=null!=e?(0,i.jsx)(e,{color:c.Z.colors.WHITE}):null}else if(n||t||a){let e=n?u.HeadphonesSlashIcon:u.MicrophoneSlashIcon;P=(0,i.jsx)(e,{color:"currentColor"})}}else P=(0,i.jsx)(u.Tooltip,{text:et.Z.Messages.MUTE,children:e=>{let{onClick:t,...n}=e;return(0,i.jsx)(u.Clickable,{...n,onClick:e=>{e.stopPropagation(),null==t||t(),A()},className:s()(en.interactive,en.toggleMute),children:(0,i.jsx)(u.VoiceNormalIcon,{size:"md",color:"currentColor"})})}})}return f&&D.Z.supports(ee.AN.VIDEO)||!m?f&&m&&E&&!H&&(O=(0,i.jsx)(u.VideoSlashIcon,{size:"md",color:"currentColor",colorClass:en.localMuteStrikethrough})):O=(0,i.jsx)(u.VideoIcon,{size:"md",color:"currentColor"}),v===J.fO.STREAM&&!x&&m&&(y=(0,i.jsx)(u.Tooltip,{text:et.Z.Messages.OPTIONS,children:e=>{let{onClick:t,...n}=e;return(0,i.jsx)(u.Clickable,{...n,onClick:e=>{e.stopPropagation(),null==t||t(),Z(e)},className:s()(en.status,en.interactive),children:(0,i.jsx)(u.MoreHorizontalIcon,{size:"md",color:"currentColor"})})}})),v===J.fO.USER&&null!=b?k=(0,i.jsx)(u.Tooltip,{text:(0,C.O8)(b),children:e=>(0,i.jsx)("div",{...e,className:s()(en.hangStatusContainer,{[en.hangStatusSmall]:p<500}),children:(0,i.jsx)(I.Z,{hangStatusActivity:b,className:en.hangStatusIcon,animate:j})})}):v===J.fO.USER&&null!=R&&(k=(0,i.jsx)(u.Tooltip,{text:et.Z.Messages.UNFORMATTED_PLAYING_GAME.format({game:R.name}),children:e=>(0,i.jsx)("div",{...e,className:s()(en.hangStatusContainer,{[en.hangStatusSmall]:p<500}),children:(0,i.jsx)(B.Z,{className:en.hangStatusIcon,game:R,size:B.Z.Sizes.SMALL})})})),(0,i.jsxs)("div",{className:en.overlayContainer,children:[(0,i.jsx)("div",{className:s()(en.overlayTop,{[en.small]:p<195}),children:H||g===Q.ZUi.AUTO_PROBING?d?(0,i.jsx)("div",{className:en.status,children:(0,i.jsx)(u.VideoSlashIcon,{size:"md",color:"currentColor"})}):(0,i.jsxs)("div",{className:s()(en.overlayTitle,en.videoDisabledTitle),children:[(0,i.jsx)("div",{className:en.status,children:(0,i.jsx)(u.VideoSlashIcon,{size:"md",color:"currentColor"})}),(0,i.jsx)(u.Text,{variant:"text-sm/normal",className:en.overlayTitleText,children:et.Z.Messages.UNSTABLE_CONNECTION})]}):null}),(0,i.jsxs)("div",{className:s()(en.overlayBottom,{[en.small]:p<195}),children:[w?(0,i.jsx)("div",{}):(0,i.jsxs)(u.Text,{className:s()(en.overlayTitle,{[en.idle]:d}),color:"none",variant:"text-md/normal",children:[T?(0,i.jsx)("div",{className:en.blocked,children:(0,i.jsx)(u.DenyIcon,{size:"lg",className:en.blockedIcon,color:c.Z.unsafe_rawColors.RED_400.css})}):null,(0,i.jsx)(ea,{participantType:v,platform:M,className:en.titleIcon}),null!=h&&""!==h?(0,i.jsx)("span",{className:en.overlayTitleText,children:h}):null,L&&(0,i.jsx)(u.ShieldLockIcon,{className:en.secureFramesIcon,size:"xxs",color:c.Z.colors.HEADER_PRIMARY,"aria-label":et.Z.Messages.E2EE_USER_VERIFIED_A11Y})]}),(0,i.jsxs)("div",{className:en.statusContainer,children:[null!=O&&(0,i.jsx)("div",{className:en.status,children:O}),null!=P&&(0,i.jsx)("div",{className:en.status,children:P}),y,k]})]})]})});el.displayName="CallTileOverlay";let es=H.L;t.ZP=ei},111248:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(433517),o=n(518774),c=n(27457),u=n(981631),d=n(289999),h=n(972667);let p="CameraPreviewPosition";function m(e){let{width:t,onContextMenuParticipant:n,height:l,channel:m,participants:_}=e,[f,E]=function(){let[e,t]=a.useState(()=>r.K.get(p,u.VD2.BOTTOM_RIGHT));return[e,a.useCallback(e=>{r.K.set(p,e),t(e)},[])]}(),g=a.useRef(null),C=null==m.getGuildId()?70:50;return a.useLayoutEffect(()=>{var e;null===(e=g.current)||void 0===e||e.ensureIsInPosition()},[_.length]),(0,i.jsx)("div",{className:d.container,children:(0,i.jsx)(o._,{position:f,id:0,ref:g,onMove:(e,t)=>E(t),maxX:t,maxY:l,edgeOffsetTop:C,edgeOffsetBottom:70,edgeOffsetLeft:16,edgeOffsetRight:16,children:(0,i.jsx)("div",{className:d.tileContainer,children:_.map(e=>(0,i.jsx)(c.ZP,{participant:e,channel:m,onContextMenu:n,className:s()(d.tile,h.elevationHigh),fit:c.BP.COVER,inCall:!0,inPopout:!1,width:160},e.id))})})})}},793319:function(e,t,n){n.d(t,{NZ:function(){return eS},r:function(){return ev}}),n(47120);var i,a,l=n(735250),s=n(470079),r=n(120356),o=n.n(r),c=n(512722),u=n.n(c),d=n(920906),h=n(848246),p=n(442837),m=n(481060),_=n(846027),f=n(287734),E=n(872810),g=n(410575),C=n(40851),I=n(317381),x=n(596040),T=n(100527),N=n(906732),v=n(67212),S=n(757454),Z=n(158631),A=n(709369),M=n(552740),b=n(358221),R=n(887012),j=n(659580),L=n(793865),P=n(575175),O=n(258609),y=n(446226),D=n(594190),k=n(569545),U=n(74299),w=n(989941),B=n(803647),H=n(554747),G=n(95764),V=n(459502),F=n(386542),W=n(485731),z=n(455961),Y=n(611845),K=n(618158),q=n(390322),X=n(791592),Q=n(136995),J=n(402113),$=n(197016),ee=n(386e3),et=n(698877),en=n(25827),ei=n(199902),ea=n(523746),el=n(131951),es=n(944486),er=n(594174),eo=n(449224),ec=n(700785),eu=n(923973),ed=n(829750),eh=n(189771),ep=n(294629),em=n(304745),e_=n(985370),ef=n(544384),eE=n(560688),eg=n(127608),eC=n(76021),eI=n(173507),ex=n(981631),eT=n(354459),eN=n(559820);function ev(e,t){if(el.Z.isVideoEnabled()===e)return;let n=()=>_.Z.setVideoEnabled(e);e?(0,eI.Z)(n,t):n()}function eS(e){let{channel:t,currentUser:n,exitFullScreen:i,canGoLive:a,hasPermission:r,disabled:o}=e,c=(0,C.bp)(),u=(0,p.Wu)([ei.Z],()=>ei.Z.getAllActiveStreams()).find(e=>e.ownerId===n.id),{available:d,activated:_,hqStreamingState:f}=(0,F.k)(h.q.STREAM_HIGH_QUALITY),g=null!=u&&d&&_,I=s.useRef(null),x=t.getGuildId(),T=s.useCallback(()=>{if(null==i||i(),!a)return(0,eg.Z)();(0,eC.Z)(x,t.id,ex.ZY5.GUILD_CHANNEL)},[x,t.id,a,i]),N=(0,p.e7)([D.ZP,eo.Z],()=>(0,w.Z)(D.ZP,eo.Z)),A=(0,Z.ZP)(),b=(0,S.Z)()&&null!=N,R=()=>{b&&(null==u?(0,E.tE)({channelId:t.id,pid:null==N?void 0:N.pid}):(0,v.v$)((0,k.V9)(u),null==N?void 0:N.pid))},j=()=>{if(b){(0,M.D)(R);return}if(a){T();return}(0,eg.Z)()},L=()=>{if(A){(0,M.Z)(()=>(0,B.Z)(u));return}(0,B.Z)(u)},P=(e,t)=>{let{onClick:n,...i}=null!=e?e:{onClick:void 0},a=null!=u&&!A;return(0,l.jsx)(et.O,{...i,centerButton:!0,disabled:o||!r,className:eN.controlButton,hasPermission:r,streamActive:null!=u,isSelfStream:!0,onPopoutClick:a?function(e){f.hqStreamingIsEnabled&&!f.hqStreamingPopoutDismissed&&(0,W.pM)(!0),null==n||n(e)}:null,popoutOpen:t,shouldShowTooltip:!t,premiumGlow:g&&f.hqStreamingIsEnabled,buttonRef:I,onClick:null!=u?L:j})};return A?P():(0,l.jsxs)(l.Fragment,{children:[g&&f.hqStreamingIsEnabled?(0,l.jsx)(Y.$,{buttonRef:I,dismissed:f.hqStreamingPopoutDismissed,onDismiss:()=>{(0,W.pM)(!0)}}):(0,l.jsx)(z.be,{channel:t,buttonRef:I,dismissed:f.hqStreamingOptInPopoutDismissed,onDismiss:()=>{(0,W.qA)(!0)}}),(0,l.jsx)(K.Z,{children:(0,l.jsx)(m.Popout,{renderPopout:e=>{let{closePopout:i}=e;return(0,l.jsx)(q.Z,{children:(0,l.jsx)(ef.Z,{channel:t,currentUser:n,activeStreams:null!=u?[u]:[],handleGoLive:T,onClose:i,appContext:c})})},position:"top",align:"center",animation:m.Popout.Animation.FADE,children:(e,t)=>{let{...n}=e,{isShown:i}=t;return(0,l.jsx)("div",{children:P(n,i)})}})})]})}function eZ(e){let{channel:t}=e,n=t.getGuildId();return(0,x.Z)(n,t.id)?(0,l.jsx)("div",{className:eN.buttonContainer,children:(0,l.jsx)(em.M,{channel:t})}):null}(a=i||(i={})).ACTIVITY="ACTIVITY",a.STREAM="STREAM",a.CALL="CALL",a.EVENT="EVENT",a.BROADCAST="BROADCAST";let eA=s.memo(function(e){let{connectedActivityApplicationId:t,currentUser:n,onDisconnectCall:i,channel:a}=e,r=(0,p.e7)([b.Z],()=>b.Z.getSelectedParticipant(a.id)),{reducedMotion:o}=s.useContext(m.AccessibilityPreferencesContext),[c,u]=s.useState(!1),h=null==r?void 0:r.id,_=(0,p.e7)([ei.Z],()=>null!=h?ei.Z.getActiveStreamForStreamKey(h):null,[h]),g=(null==r?void 0:r.type)===eT.fO.STREAM&&null!=_&&_.ownerId!==(null==n?void 0:n.id),C=(0,p.Wu)([ei.Z],()=>ei.Z.getAllActiveStreamsForChannel(a.id).filter(e=>{let{ownerId:t}=e;return t!==(null==n?void 0:n.id)})),I=(0,H.qY)(a.id),x=(0,Z.zW)(a.id),T=s.useCallback(()=>{if((null==r?void 0:r.type)===eT.fO.ACTIVITY&&r.id===t)return"ACTIVITY";if(g)return"STREAM";if(null!=I)return"EVENT";return"CALL"},[r,t,g,I]),[N,v]=s.useState(T()),S=(0,d.useSpring)({opacity:c?.2:1,transform:c&&!o.enabled?"scale(0.7)":"scale(1)",config:{mass:2,tension:c?600:1e3,friction:45,precision:.01,clamp:c},onRest:()=>{v(T()),u(!1)}});s.useEffect(()=>{T()!==N&&u(!0)},[N,T]);let M=s.useCallback(()=>{if(null!=_)(0,E.g)((0,k.V9)(_));else for(let e of C)(0,E.g)((0,k.V9)(e))},[C,_]),R=(e,t)=>{let s={centerButton:!0,className:eN.controlButton,popoutOpen:e};switch(N){case"ACTIVITY":if(null==r||null==n)return;return(0,l.jsx)(J.Z,{...s,applicationId:r.id,color:"red",channelId:a.id,onPopoutClick:C.length>0?t:null});case"STREAM":return(0,l.jsx)(et.O,{...s,hasPermission:!0,streamActive:!0,color:"red",onClick:M,onPopoutClick:C.length>1?t:null,isSelfStream:!1});case"CALL":return(0,l.jsx)($.Z,{...s,color:"red",onClick:()=>null==i?void 0:i(),onPopoutClick:C.length>0?t:null,channel:a});case"EVENT":return(0,l.jsx)(G.Z,{channelId:a.id,onClick:()=>{f.default.disconnect(),null==i||i()}})}};return(0,l.jsx)(m.Popout,{renderPopout:e=>{let{closePopout:t}=e;return x?(0,l.jsx)(A.Z,{onClose:t}):(0,l.jsx)(ef.Z,{channel:a,currentUser:n,activeStreams:C,handleGoLive:ex.VqG,hideSelfOptions:!0,onClose:t})},position:"top",align:"center",animation:m.Popout.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,l.jsx)(d.animated.div,{style:S,children:R(i,n)})}})});function eM(e){let{channel:t,cameraUnavailable:n,hasCameraPermission:i,currentUser:a}=e,r=(0,C.bp)(),{reachedLimit:c,limit:u}=(0,ed.Z)(t),d=s.useCallback(()=>{(0,eI.Z)(()=>f.default.selectVoiceChannel(t.id,!0),r)},[t.id,r]),h=s.useCallback(()=>{n?(0,eE.Z)():d()},[n,d]),m=(0,p.e7)([ea.Z],()=>{let e=ea.Z.getCall(t.id);return(null==e?void 0:e.ringing.includes(a.id))===!0});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(en.C,{enabled:!0,centerButton:!0,join:!0,color:"green",channelLimitReached:c,channelLimit:u,channel:t,cameraUnavailable:n,hasPermission:i,onCameraUnavailable:h,className:eN.controlButton,iconClassName:eN.__invalid_joinIcon,onChange:d}),(0,l.jsx)(Q.Z,{centerButton:!0,color:"green",channel:t,className:o()(eN.controlButton,eN.__invalid_lastButton)}),m?(0,l.jsx)(X.Z,{color:"red",channel:t,className:eN.controlButton}):null]})}t.ZP=function(e){let{channel:t,className:n,onDisconnectCall:i,exitFullScreen:a}=e,s=(0,p.e7)([er.default],()=>{let e=er.default.getCurrentUser();return u()(null!=e,"CenterControlTray: currentUser cannot be undefined"),e}),{cameraUnavailable:r,enabled:c}=(0,eu.Z)(),d=(0,eh.Z)(t),{suppress:h,selfMute:_,mute:f}=(0,ep.Z)(t),{canGoLive:E}=(0,p.cj)([el.Z],()=>({canGoLive:(0,U.Z)(el.Z)})),C=(0,y.Z)(),x=(0,p.e7)([O.Z],()=>null!=O.Z.getAwaitingRemoteSessionInfo()),v=null!=C,S=(0,p.e7)([es.Z],()=>{var e;return(null!==(e=null==C?void 0:C.channelId)&&void 0!==e?e:es.Z.getVoiceChannelId())===t.id}),Z=(0,R.Z)(t,!0),A=(0,p.e7)([I.ZP],()=>{let e=I.ZP.getSelfEmbeddedActivityForChannel(t.id);return null!=e?e.applicationId:null}),{reachedLimit:M,limit:b}=(0,ed.Z)(t),{analyticsLocations:D}=(0,N.ZP)(T.Z.VOICE_CONTROL_TRAY);if(!S)return(0,l.jsx)(N.Gt,{value:D,children:(0,l.jsx)(eM,{channel:t,cameraUnavailable:r,hasCameraPermission:d,currentUser:s})});let k=ec.BT({permission:ex.Plq.ADD_REACTIONS,user:s,context:t})&&!t.isPrivate()&&!Z;return(0,l.jsx)(N.Gt,{value:D,children:(0,l.jsxs)(g.Z,{section:ex.jXE.VOICE_CONTROL_TRAY,children:[(0,l.jsx)("div",{className:eN.eventPromptsContainer,children:(0,l.jsx)(V.Z,{channelId:t.id})}),(0,l.jsxs)("div",{className:o()(eN.wrapper,n),children:[!v&&(0,l.jsx)(m.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,l.jsx)(q.Z,{children:(0,l.jsx)(L.Z,{onClose:t})})},position:"top",align:"center",animation:m.Popout.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,l.jsx)(en.C,{centerButton:!0,hasPermission:d,className:eN.controlButton,enabled:c,cameraUnavailable:r,onChange:ev,onCameraUnavailable:eE.Z,channelLimitReached:M,channelLimit:b,popoutOpen:i,onPopoutClick:n})}}),!v&&(0,l.jsx)(eZ,{channel:t}),!v&&(0,l.jsx)(eS,{channel:t,currentUser:s,exitFullScreen:a,canGoLive:E,hasPermission:d}),(0,l.jsx)(m.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,l.jsx)(q.Z,{children:(0,l.jsx)(j.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0})})},align:"center",position:"top",animation:m.Popout.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,l.jsx)(ee.Z,{centerButton:!0,onPopoutClick:v?null:n,className:eN.controlButton,selfMute:_,serverMute:f,suppress:h,popoutOpen:i,awaitingRemote:x,onClick:()=>(0,P.Z)(f,h)})}}),k&&!v?(0,l.jsx)("div",{className:eN.buttonContainer,children:(0,l.jsx)(e_.Z,{channel:t})}):null,(0,l.jsx)(eA,{connectedActivityApplicationId:A,currentUser:s,channel:t,onDisconnectCall:i})]})]})})}},304745:function(e,t,n){n.d(t,{M:function(){return Z}}),n(653041);var i=n(735250),a=n(470079),l=n(442837),s=n(704215),r=n(481060),o=n(2052),c=n(40851),u=n(317381),d=n(683921),h=n(588580),p=n(374065),m=n(451576),_=n(526846),f=n(938655),E=n(403404),g=n(906732),C=n(424602),I=n(243778),x=n(579185),T=n(301076),N=n(981631),v=n(921944),S=n(559820);function Z(e){let{channel:t}=e,n=(0,l.e7)([u.ZP],()=>u.ZP.isLaunchingActivity()),Z=(0,p.KF)(t.id),A=(0,p.g5)(Z),M=Z!==p.jy.CAN_LAUNCH||n,{isHovered:b,setIsHovered:R,onMouseEnter:j,onMouseLeave:L}=(0,x.Z)(200,300),P=(0,h.a)(),O=(0,d.Z)({channelId:t.id}),y=!M,D=a.useCallback(e=>{"focus"!==e.type&&j()},[j]),k=(0,o.O)(),U=(0,c.bp)()===N.IlC.POPOUT,{analyticsLocations:w}=(0,g.ZP)(),B=w.length>0?w[w.length-1]:"open-activity-shelf";C.m1.useExperiment({location:B},{autoTrackExposure:!0});let H=a.useCallback(()=>{(0,E.Z)({channel:t,guildId:t.guild_id,locationObject:k.location,openInPopout:U,analyticsLocations:w,opensAppLauncherModal:!0})},[k.location,w,t,U]),G=[];return!M&&G.push(s.z.ACTIVITIES_MINI_SHELF_SPARKLES),(0,m.Z)(t.id)&&!M&&G.push(s.z.ACTIVITY_GDM_ROCKET_SPARKLE),(0,i.jsx)(I.Z,{contentTypes:G,children:e=>{let{visibleContent:n,markAsDismissed:a}=e;return(0,i.jsx)(r.Popout,{fixed:!0,shouldShow:b,animationPosition:"bottom",position:"bottom",align:"center",spacing:16,onRequestClose:()=>{R(!1)},renderPopout:e=>{let{closePopout:n,setPopoutRef:l}=e;return y?(0,i.jsx)(_.m,{ref:l,channel:t,closePopout:n,onMouseEnter:j,onMouseLeave:L,isHovered:b,onClick:()=>a(v.L.UNKNOWN)}):(0,i.jsx)(i.Fragment,{})},children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T.Z,{disabled:M,"aria-label":A,label:y?void 0:A,isActivityActive:O||b,className:S.controlButton,onClick:()=>{H(),(n===s.z.ACTIVITIES_MINI_SHELF_SPARKLES||n===s.z.ACTIVITY_GDM_ROCKET_SPARKLE||n===s.z.ACTIVITIES_WATCH_TOGETHER_APRIL_2023_WEEK_1_SPARKLES||n===s.z.ACTIVITIES_WATCH_TOGETHER_APRIL_2023_WEEK_2_SPARKLES)&&a(v.L.UNKNOWN)},onMouseEnter:D,onMouseLeave:L}),P?(0,i.jsx)(f.A,{top:4,right:10,size:12,maskColor:f.T.BLACK}):null]})})}})}},985370:function(e,t,n){n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(774078),u=n(579185),d=n(272929),h=n(456631),p=n(643720),m=n(981631),_=n(559820);t.Z=e=>{let{channel:t,className:n}=e,{isHovered:l,setIsHovered:f,onMouseEnter:E,onMouseLeave:g,cancelTimers:C}=(0,u.Z)(200,300),[I,x]=a.useState(!1),T=(0,r.e7)([h.Z],()=>h.Z.effectCooldownEndTime),N=a.useMemo(()=>null!=T?(T.getTime()-Date.now())/1e3:0,[T]),{seconds:v}=(0,c.Z)(null!=T?T:new Date),S=v>0,Z=a.useCallback(e=>{if("focus"!==e.type)!I&&!S&&E()},[I,S,E]),A=a.useCallback(()=>{!I&&g()},[g,I]),M=a.useCallback((e,t)=>{C(),x(!I),(!l||I)&&(null==t||t(e))},[C,I,l]),b=l||I;return(0,i.jsx)(o.Popout,{shouldShow:b,animationPosition:"bottom",position:"bottom",align:"center",spacing:16,onRequestClose:()=>{f(!1),x(!1)},renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(p.Z,{isHovered:b,channel:t,closePopout:n,onMouseEnter:E,onMouseLeave:A,onFocus:()=>x(!0)})},children:e=>{let{onClick:t,onKeyDown:a}=e;return(0,i.jsx)(d.Z,{isCenterButton:!0,totalCooldownSeconds:N,remainingCooldownSeconds:v,className:s()(_.controlButton,n),onKeyDown:e=>{var t,n;return t=e,n=a,void(t.keyCode===m.yXg.ENTER&&t.keyCode===m.yXg.SPACE&&M(t,n))},onClick:e=>{M(e,t)},onMouseEnter:Z,onMouseLeave:A,isActive:b})}})}},643720:function(e,t,n){var i=n(735250),a=n(470079),l=n(390322),s=n(381871);t.Z=e=>{let{isHovered:t,closePopout:n,onMouseEnter:r,onMouseLeave:o,onFocus:c,channel:u}=e;return a.useEffect(()=>{!t&&n()},[n,t]),(0,i.jsx)(l.Z,{children:(0,i.jsx)("div",{onMouseEnter:r,onMouseLeave:o,children:(0,i.jsx)(s.Z,{channel:u,closePopout:n,onFocus:c})})})}},3861:function(e,t,n){var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(112724),o=n(613611),c=n(351248),u=n(285952),d=n(585483),h=n(340295),p=n(171277),m=n(677845),_=n(430371),f=n(236564),E=n(981631),g=n(354459),C=n(858962);t.Z=(0,r.Z)(e=>{let{participants:t,filteredParticipants:n,selectedParticipant:l,participantsVersion:r,layout:I,onSelectParticipant:x,onContextMenuParticipant:T,onFullscreenParticipant:N,channel:v,hasConnectPermission:S,className:Z,inCall:A,showParticipants:M=!0,paused:b=!1,width:R,height:j,idle:L,mode:P,popoutWindow:O,awaitingRemoteSessionInfo:y}=e;a.useEffect(()=>{d.S.dispatch(E.CkL.REMEASURE_TARGET)},[R,j]);let D=a.useMemo(()=>n.filter(e=>e.type!==g.fO.ACTIVITY||!e.participants.some(e=>(0,o.J)(e))),[n,r]);if((null==y?void 0:y.channelId)===v.id)return(0,i.jsx)(p.Z,{height:j});if((null==v?void 0:v.isGuildVocal())&&!A)return(0,i.jsx)(h.Z,{channel:v,participants:t,hasConnectPermission:S});if(P===E.WtW.VOICE)return(0,i.jsx)(c.Z,{guildId:v.guild_id,width:R,className:C.voiceCallWrapper,participants:t,onContextMenu:T});if(n=A?n:t,null==l)return 0===n.length?(0,i.jsx)(f.Z,{className:s()(C.videoGrid,C.hiddenParticipants),channelId:v.id,width:R}):(0,i.jsx)(u.Z,{className:C.videoGridWrapper,justify:u.Z.Justify.CENTER,align:u.Z.Align.CENTER,children:(0,i.jsx)(m.Z,{channel:v,className:C.videoGrid,participants:D,totalNumberOfParticipants:t.length,onClick:x,onDoubleClick:N,onContextMenu:T,paused:b,inCall:A})});return(0,i.jsx)(_.Z,{onFullscreenParticipant:N,onContextMenuParticipant:T,onSelectParticipant:x,selectedParticipant:l,filteredParticipants:D,participants:t,popoutWindow:O,className:Z,idle:L,height:j,width:R,layout:I,inCall:A,channel:v,showParticipants:M})})},312703:function(e,t,n){n.d(t,{n3:function(){return s}});var i=n(823379),a=n(44136),l=n(354459);function s(e,t,n){return null==t||t.type===l.fO.ACTIVITY?[]:[t.type===l.fO.STREAM?e.find(e=>e.type===l.fO.USER&&e.id===(null==t?void 0:t.user.id)&&e.id!==n&&(0,a.ZP)(e)):null,t.type===l.fO.USER?e.find(e=>e.type===l.fO.STREAM&&e.user.id===(null==t?void 0:t.user.id)&&null!=e.streamId):null,t.id!==n?e.find(e=>e.type===l.fO.USER&&e.id===n&&(0,a.ZP)(e)):null].filter(i.lm)}},340295:function(e,t,n){var i=n(735250),a=n(470079),l=n(481060),s=n(287734),r=n(305325),o=n(281956),c=n(584729),u=n(27457),d=n(354459),h=n(689938),p=n(679386);t.Z=function(e){var t,n;let{participants:m,channel:_,hasConnectPermission:f}=e,E=m.filter(d.Io),g=(0,o.J)(_.guild_id),C=a.useCallback(()=>{g?(0,r.hk)(_.guild_id,()=>s.default.selectVoiceChannel(_.id)):s.default.selectVoiceChannel(_.id)},[_.id,_.guild_id,g]),I=4===E.length?2:3;return(0,i.jsxs)("div",{className:p.container,children:[(0,i.jsx)("div",{className:p.tiles,style:{maxWidth:168*I},children:E.slice(0,5).map(e=>(0,i.jsx)(u.ZP,{participant:e,channel:_,className:p.tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id))}),(0,i.jsx)(l.Heading,{className:p.channelName,variant:"heading-xxl/semibold",children:_.name}),(0,i.jsx)("div",{className:p.participantsRow,children:(0,i.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",children:(t=_,0===(n=E).length?h.Z.Messages.CURRENTLY_IN_VOICE_EMPTY:1===n.length?h.Z.Messages.CURRENTLY_IN_VOICE_1.format({a:(0,c.Z)(t,n[0])}):2===n.length?h.Z.Messages.CURRENTLY_IN_VOICE_2.format({a:(0,c.Z)(t,n[0]),b:(0,c.Z)(t,n[1])}):n.length>2?h.Z.Messages.CURRENTLY_IN_VOICE_2_N.format({a:(0,c.Z)(t,n[0]),b:(0,c.Z)(t,n[1]),n:n.length-2}):void 0)})}),(0,i.jsx)(l.Button,{disabled:!f,className:p.joinButton,color:f?l.Button.Colors.GREEN:l.Button.Colors.PRIMARY,onClick:C,size:l.Button.Sizes.MEDIUM,children:f?h.Z.Messages.JOIN_VOICE:h.Z.Messages.CHANNEL_LOCKED_SHORT})]})}},171277:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(442837),r=n(481060),o=n(607070),c=n(254238),u=n(689938),d=n(454608);function h(e){let{height:t}=e,a=(0,s.e7)([o.Z],()=>o.Z.useReducedMotion);return(0,i.jsxs)("div",{className:d.root,children:[(0,i.jsx)(r.LottieAnimation,{importData:()=>n.e("70036").then(n.t.bind(n,141923,19)).then(e=>{let{default:t}=e;return t}),shouldAnimate:!a,className:l()(d.art,{[d.hidden]:t<=280})}),(0,i.jsx)(r.Heading,{className:d.header,variant:"heading-md/bold",children:u.Z.Messages.PLAYSTATION_TRANSFERRING}),(0,i.jsx)(r.Text,{variant:"text-md/normal",color:"header-secondary",children:u.Z.Messages.CONSOLE_TRANSFERRING_SUBTITLE.format({onCancel:c.s6})})]})}},677845:function(e,t,n){n.d(t,{Z:function(){return S}}),n(653041);var i=n(735250),a=n(470079),l=n(990547),s=n(442837),r=n(704215),o=n(40851),c=n(317381),u=n(374065),d=n(213609),h=n(358221),p=n(381586),m=n(159300),_=n(470956),f=n(430824),E=n(496675),g=n(199052),C=n(434488),I=n(27457),x=n(251564),T=n(695492),N=n(981631),v=n(420751);function S(e){let{participants:t,onClick:n,onDoubleClick:S,onContextMenu:Z,channel:A,className:M,inCall:b,totalNumberOfParticipants:R,paused:j=!1}=e,L=(0,o.bp)()===N.IlC.POPOUT,P=(0,s.e7)([f.Z],()=>f.Z.getGuild(A.guild_id),[A.guild_id]),{dismissedActivityEntryPointTileChannel:O}=(0,x.d)(),y=(0,s.e7)([h.Z],()=>h.Z.getUserParticipantCount(A.id),[A]),D=(0,_.bt)(A.id,t),k=a.useCallback(()=>{x.d.setState({dismissedActivityEntryPointTileChannel:A.id})},[A.id]);a.useEffect(()=>{null!=O&&A.id!==O&&x.d.setState({dismissedActivityEntryPointTileChannel:null})},[A.id,O]);let U=(0,s.e7)([E.Z],()=>A.isPrivate()||(0,m.b)(E.Z,P,A),[P,A]),w=(null==P?void 0:P.afkChannelId)===A.id,B=A.userLimit<=0||A.userLimit>1,H=(0,s.e7)([c.ZP],()=>c.ZP.getEmbeddedActivitiesForChannel(A.id).length<=0),G=(0,p.N)(r.z.VC_TILE_ACTIVITIES_ENTRY_POINT),V=(0,u.KF)(A.id)!==u.jy.CAN_LAUNCH,F=null!=O&&O===A.id,W=D.map(e=>t=>(0,i.jsx)(I.ZP,{participant:e,channel:A,className:v.tile,paused:j,onClick:n,onDoubleClick:S,onContextMenu:Z,inCall:b,width:t,inPopout:L},e.id));(0,d.Z)({type:l.ImpressionTypes.VIEW,name:l.ImpressionNames.CHANNEL_CALL_VIDEO_GRID_VIEW,properties:{total_participants:R,can_invite:U,is_afk_channel:w,channel_user_limit:A.userLimit}},{trackOnInitialLoad:!0},[]),null!=P&&!w&&(!(y>=2)||!H||V||G||F?B&&1===y&&U&&(H&&!V?W.push(e=>(0,i.jsx)(C.h,{channel:A,guild:P,width:e,inPopout:L,handleClose:k,userParticipantCount:y})):W.push(e=>(0,i.jsx)(T.Z,{width:e,channel:A,guild:P,inPopout:L}))):W.push(e=>(0,i.jsx)(C.h,{channel:A,guild:P,width:e,inPopout:L,handleClose:k,userParticipantCount:y})));let z=a.useCallback(e=>{var t,n;return null!==(n=null===(t=D[e])||void 0===t?void 0:t.id)&&void 0!==n?n:"empty-tile"},[D]);return(0,i.jsx)(g.Z,{className:M,keyExtractor:z,paddingTop:64,paddingBottom:64,children:W})}},251564:function(e,t,n){n.d(t,{d:function(){return i}});let i=(0,n(652874).Z)(()=>({dismissedActivityEntryPointTileChannel:null}))},695492:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(481060),l=n(607187),s=n(112560),r=n(981631),o=n(689938),c=n(299993),u=n(800350);function d(e){let{channel:t,guild:d,width:h,inPopout:p}=e;return(0,i.jsx)(l.Z,{className:c.root,children:(0,i.jsx)(s.Z,{artURL:u,size:(0,s.L)(h),header:o.Z.Messages.STREAM_SINGLE_PERSON_BODY,onCTAClick:()=>(0,a.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("17520")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:d,channel:t,source:r.t4x.CHANNEL_CALL})},{contextKey:p?a.POPOUT_MODAL_CONTEXT:a.DEFAULT_MODAL_CONTEXT}),callToAction:o.Z.Messages.INSTANT_INVITE})})}},430371:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(920906),o=n(110924),c=n(988980),u=n(157813),d=n(314897),h=n(131951),p=n(585483),m=n(807705),_=n(27457),f=n(111248),E=n(312703),g=n(796638),C=n(981631),I=n(354459),x=n(858962),T=n(868999);let N=16/9,v=8+g.cF;function S(e){let t,{onSelectParticipant:n,onContextMenuParticipant:l,onFullscreenParticipant:S,participants:Z,filteredParticipants:A,popoutWindow:M,inCall:b,channel:R,selectedParticipant:j,showParticipants:L=!0,className:P,paused:O,width:y,height:D,layout:k,idle:U}=e,w=null!=M,B=h.Z.getVideoComponent(),H=d.default.getId(),[G,V]=a.useState(null),[F,W]=a.useState(!0),[z,Y]=a.useState(!1),K=j.type===I.fO.ACTIVITY,q=(0,c.Z)(j.id),X=!K&&null!=j.streamId,Q=D<=2*v+144,J=L&&!Q,$=(0,o.Z)(J),ee=k===C.AEg.MINIMUM||k===C.AEg.NORMAL,et=!Q&&(!ee||K),en=(0,m.Z)(et,100),ei=0;(K||J)&&(ei+=72),K&&!J&&(et?ei+=48:ei+=8),J&&(ei+=.5*v+8);let ea=a.useMemo(()=>K&&q?y/(D-2*ei):X&&null!=G&&G.width>0&&G.height>0?G.width/G.height:N,[X,G,K,y,D,ei,q]),el=D-2*ei,es=K&&q?y:el*ea,er=Math.floor(Math.min(y,es)/ea),eo=D>y/ea+72+v+8;t=J||K?J?-16:-8:40+Math.max(0,72-(D-er)/2),a.useEffect(()=>{let e=setTimeout(()=>{W(!1)},250);return()=>{clearTimeout(e)}},[]);let ec=(0,r.useSpring)({value:J?1:0,delay:eo||!J?0:100,config:{...r.config.stiff,clamp:!0},onStart:()=>Y(!0),onChange:()=>p.S.dispatch(C.CkL.REMEASURE_TARGET),onRest:()=>{Y(!1),p.S.dispatch(C.CkL.REMEASURE_TARGET)}}),eu=(0,r.useSpring)({value:J?1:0,config:{...r.config.stiff,clamp:!0}}),ed=(0,r.useSpring)({value:es,config:{...r.config.stiff,clamp:!0},immediate:$===J&&eu.value.idle&&!en}),eh=(0,r.useSpring)({value:t,config:{...r.config.stiff,clamp:!0}}),ep=(0,r.useTransition)(j,{keys:e=>null==e?void 0:e.id,config:{...r.config.stiff,clamp:!0},initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),em=a.useCallback(e=>{V(e),W(!1)},[]),e_=J||O?[]:(0,E.n3)(Z,j,H),{visibleParticipants:ef,participantTileWidth:eE}=(0,g.ZB)(y,A);return(0,i.jsxs)("div",{className:s()(T.root,x.flexCenter,P),children:[(0,i.jsxs)("div",{className:T.tileWrapper,style:{opacity:X&&F?0:1},children:[(0,i.jsxs)(r.animated.div,{className:T.videoFrame,style:{top:eu.value.to(e=>-e*v/2)},children:[(0,i.jsx)(r.animated.div,{style:{width:ed.value},className:T.videoWrapper,children:(0,i.jsx)("div",{className:s()(x.videoSizer),style:{aspectRatio:ea},children:ep((e,t,a)=>{let{key:s}=a;return null!=t?(0,i.jsx)(r.animated.div,{className:x.videoWrapperAnimated,style:e,children:(0,i.jsx)(_.ZP,{focused:!0,noBorder:es>=y||el>=D,channel:R,className:x.focusedVideo,videoComponent:B,paused:O,width:y,participant:t,onClick:n,onDoubleClick:S,onContextMenu:l,onVideoResize:em,inCall:b,inPopout:w})},s):null})})}),et?(0,i.jsx)(r.animated.div,{className:s()(T.actionRow,{[T.idle]:U}),style:{bottom:eh.value},children:(0,i.jsx)(u.Z,{channelId:R.id,isParticipantsOpen:L,isVertical:!0})}):null]}),(0,i.jsx)(r.animated.div,{className:T.participantsWrapperAnimated,style:{translateY:ec.value.to(e=>e*v/2),opacity:ec.value,visibility:ec.value.to(e=>0===e?"hidden":"visible")},children:(0,i.jsx)(g.ZP,{channel:R,onClick:n,onContextMenu:l,onDoubleClick:S,participants:ef,participantTileWidth:eE,selectedParticipantId:j.id,inCall:b,paused:O||z||!L,popoutWindow:M})})]}),e_.length>0?(0,i.jsx)(f.Z,{onContextMenuParticipant:l,width:y,height:D,channel:R,participants:e_}):null]})}},796638:function(e,t,n){n.d(t,{ZB:function(){return E},ZP:function(){return g},cF:function(){return p}}),n(47120),n(653041);var i=n(735250),a=n(470079),l=n(392711),s=n(933546),r=n(314897),o=n(70956),c=n(823379),u=n(27457),d=n(354459),h=n(16734);let p=112,m=16/9*p+8,_=10*o.Z.Millis.SECOND;function f(e){var t;let n=r.default.getId();return e.type===d.fO.USER&&e.user.id===n&&(null===(t=e.voiceState)||void 0===t?void 0:t.selfVideo)}function E(e,t){let[n,i]=a.useState(Date.now());a.useEffect(()=>{let e=setTimeout(()=>{i(Date.now())},_);return()=>{clearTimeout(e)}},[t]);let r=a.useRef({}),{visibleParticipants:o,participantTileWidth:u}=a.useMemo(()=>{let n=Date.now(),i=(0,l.sortBy)(t,e=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();switch(e.type){case d.fO.ACTIVITY:return"\0".concat(e.sortKey);case d.fO.HIDDEN_STREAM:case d.fO.STREAM:return"\x01".concat((0,s.Z)(e.userNick,e.user));case d.fO.USER:var n;let i="\x05";return e.speaking?i="\x02":t-e.lastSpoke<_?i="\x03":(null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&(i="\x04"),"".concat(i).concat(function(e){let t=String(864e13).length;return String(864e13-e).padStart(t,"0")}(e.lastSpoke)).concat((0,s.Z)(e.userNick,e.user))}})(e,n)),[a,o]=(0,l.partition)(i,d.Io),u=a.findIndex(f),h=null;-1!==u&&(h=a[u],a.splice(u,1));let p=null!=h?e-m-8:e,E=Math.max(0,Math.min(Math.floor((p-8)/132),12,t.length)),g=Math.min((p-8)/E-8,m),C=Math.max(0,E-o.length),I=o.slice(0,E),x=a.slice(0,C),T=Array(C);if(C>0){let e=[];for(let t of x){let n=r.current[t.id];null!=n&&n<C?T[n]=t:e.push(t)}for(let t=0;t<T.length;t++){if(null!=T[t])continue;let n=e.shift();if(null==n)break;T[t]=n}}let N=T.filter(c.lm),v=(0,l.keyBy)((0,l.range)(N.length),e=>N[e].id);r.current=v;let S=[...I,...N];return null!=h&&S.push(h),{visibleParticipants:S,participantTileWidth:g}},[e,t,n]);return{visibleParticipants:o,participantTileWidth:u}}function g(e){let{participants:t,participantTileWidth:n,selectedParticipantId:a,onDoubleClick:l,onContextMenu:s,onClick:r,channel:o,inCall:c,popoutWindow:d,paused:p=!1}=e,_=null!=d;return(0,i.jsx)("div",{className:h.root,children:t.map(e=>{if(null==e)return null;let t=f(e);return(0,i.jsx)("div",{className:h.tileSizer,style:t?{flexShrink:0}:void 0,children:(0,i.jsx)(u.ZP,{participant:e,selected:a===e.id,channel:o,className:h.tile,fit:u.BP.COVER,onClick:r,onDoubleClick:l,onContextMenu:s,width:t?m:n,inCall:c,paused:p,inPopout:_})},e.id)})})}},493754:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(512722),r=n.n(s),o=n(442837),c=n(481060),u=n(924301),d=n(786915),h=n(430824),p=n(496675),m=n(981631),_=n(689938),f=n(967928);function E(e){var t,a;let{stream:s,applicationId:E,channel:g,exitFullScreen:C,appContext:I,analyticsLocation:x,className:T,...N}=e,v=null==g?void 0:g.getGuildId(),S=null==g?void 0:g.id,Z=(0,o.e7)([h.Z],()=>null!=v?h.Z.getGuild(v):null,[v]),A=(0,o.e7)([u.ZP],()=>u.ZP.getActiveEventByChannel(S),[S]);if(t=Z,a=g,!(null!=t&&null!=a&&p.Z.can(m.Plq.CREATE_INSTANT_INVITE,a)))return null;let M=_.Z.Messages.INSTANT_INVITE;return null!=s?M=_.Z.Messages.INVITE_STREAM_HEADER:null!=E&&(M=_.Z.Messages.EMBEDDED_ACTIVITIES_INVITE_TO_ACTIVITY),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Button,{size:c.Button.Sizes.SMALL,color:f.buttonColor,onClick:()=>{r()(null!=Z,"guild cannot be null"),r()(null!=g,"channel cannot be null"),!function(e){let{guild:t,channel:a,streamUserId:l,applicationId:s,appContext:r,exitFullScreen:o,analyticsLocation:u,guildScheduledEvent:d}=e;null==o||o(),(0,c.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("17520")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:t,channel:a,streamUserId:l,applicationId:s,analyticsLocation:u,source:a.isGuildStageVoice()?m.t4x.STAGE_CHANNEL:m.t4x.STREAM_INVITE,guildScheduledEvent:d})},{modalKey:"stream-invite-modal",contextKey:r===m.IlC.POPOUT?c.POPOUT_MODAL_CONTEXT:c.DEFAULT_MODAL_CONTEXT})}({guild:Z,channel:g,streamUserId:null==s?void 0:s.ownerId,applicationId:E,appContext:I,exitFullScreen:C,analyticsLocation:x,guildScheduledEvent:A})},className:l()(T,f.textButton),...N,children:M}),(0,i.jsx)(d.Z,{channel:g,stream:s,appContext:I,className:l()(T,f.iconButton),exitFullScreen:C,analyticsLocation:x,guildScheduledEvent:A})]})}},236564:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(475179),l=n(112560),s=n(689938);let r=n(576394);function o(e){let{width:t,className:n,channelId:o,noArt:c=!1}=e;return(0,i.jsx)(l.Z,{artURL:r,noArt:c,size:(0,l.L)(t),className:n,callToAction:s.Z.Messages.STREAM_SHOW_ALL_PARTICIPANTS,header:s.Z.Messages.STREAM_PARTICIPANTS_HIDDEN.format(),onCTAClick:()=>a.Z.toggleVoiceParticipantsHidden(o,!1)})}},442168:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(735250),a=n(470079),l=n(920906),s=n(442837),r=n(780384),o=n(435064),c=n(39604),u=n(175470),d=n(569545),h=n(153850),p=n(385608);let m={visibility:"hidden"},_={precision:1e-4,duration:300},f={tension:150,friction:20,precision:1e-4,bounce:0},E={duration:1e3};function g(e){let{stream:t,inPopout:n}=e,{reducedMotion:g}=a.useContext(r.Sf),C=(0,a.useRef)(null),I=u.n.getState().clipsButtonRef,x=(0,d.V9)(t),T=(0,s.e7)([o.Z],()=>o.Z.getActiveAnimation()),N=(0,s.Wu)([o.Z],()=>o.Z.getStreamClipAnimations(x)),v=(0,a.useRef)();a.useEffect(()=>()=>{(0,c.Gh)(x)},[x]);let S=()=>{var e;let t=null===(e=C.current)||void 0===e?void 0:e.getBoundingClientRect();return null==t||n?m:{width:t.width,height:t.height,top:t.top,left:t.left}},Z=e=>{let t=null==I?void 0:I.getBoundingClientRect();if(v.current=t,e.timestamp!==T||null==t||n)return m;let{top:i,left:a}=t;return{top:i+36,left:a-216,height:151,width:268}},A=(0,a.useRef)(null),M=(0,l.useTransition)(N,{keys:e=>e.timestamp,ref:A,from:{opacity:.2},enter:{opacity:0},config:_}),b=(0,a.useRef)(null),R=(0,l.useTransition)(N,{ref:b,keys:e=>e.timestamp,from:e=>({position:"fixed",visibility:"hidden",opacity:1,...g.enabled?Z(e):S()}),enter:e=>[{opacity:1,visibility:"visible",...Z(e)}],leave:{opacity:0,...!g.enabled&&{height:0,width:0,...(()=>{if(null!=v.current)return{top:v.current.top+12,left:v.current.left+12}})()}},config:g.enabled?E:f,onRest:(e,t)=>{null!=t.item&&null!=N.find(e=>e.timestamp===t.item.timestamp)&&(0,c.Gh)(x,t.item.timestamp)}});return(0,l.useChain)([A,b],[0,.1],3e3),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:p.hidden,ref:C}),M((e,t)=>null!=t&&(0,i.jsx)(l.animated.div,{className:p.whiteFlash,style:e})),(0,i.jsx)(h.ZP,{children:(0,i.jsx)("div",{className:p.hidden,children:R((e,t,n,a)=>(null==t?void 0:t.thumbnail)!=null&&(0,i.jsx)(l.animated.img,{src:t.thumbnail,className:p.movingImage,style:e}))})})]})}},979425:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(481060),r=n(871118),o=n(689938),c=n(372453);function u(e){let{stream:t,isSmall:n,selected:a,isSelfStream:u}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Z,{className:l()(c.absoluteFill,c.streamPreviewOpacity),stream:t,noText:!0}),!a&&(0,i.jsxs)("div",{className:l()(c.content,c.streamUnavailable,{[c.small]:n}),children:[(0,i.jsx)(s.Text,{className:c.streamUnavailableText,color:"always-white",variant:n?"text-sm/semibold":"text-md/semibold",children:u?o.Z.Messages.CONSOLE_STREAMING:o.Z.Messages.CONSOLE_STREAM_UNAVAILABLE}),(0,i.jsx)(s.TooltipContainer,{text:u?o.Z.Messages.CONSOLE_STREAMING_TOOLTIP:o.Z.Messages.CONSOLE_STREAM_UNAVAILABLE_TOOLTIP,className:c.darkCircle,children:(0,i.jsx)("div",{children:(0,i.jsx)(s.ScreenSlashIcon,{size:"md",color:"currentColor",className:c.stopStreamIcon,colorClass:c.stopStreamForeground})})})]})]})}},833519:function(e,t,n){n.d(t,{Z:function(){return G},_:function(){return H}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(475179),u=n(872810),d=n(763520),h=n(710845),p=n(590293),m=n(863908),_=n(871118),f=n(517525),E=n(590076),g=n(507675),C=n(199902),I=n(314897),x=n(592125),T=n(131951),N=n(451478),v=n(40300),S=n(368666),Z=n(685203),A=n(112560),M=n(442168),b=n(822296),R=n(916771),j=n(792517),L=n(979425),P=n(651183),O=n(623825),y=n(981631),D=n(354459),k=n(65154),U=n(689938),w=n(372453);let B=new h.Z("StreamTile");function H(e){let{participant:t,selected:n,focused:a,idle:l,width:s,premiumIndicator:o}=e,c=(0,r.e7)([C.Z],()=>C.Z.getActiveStreamForUser(t.user.id,t.stream.guildId)),u=(0,O.K)(s);return(0,i.jsxs)(i.Fragment,{children:[n?null:(0,i.jsx)(P.Z,{participant:t}),a||null==c||c.state===y.jm8.ENDED||c.state===y.jm8.FAILED?null:(0,i.jsx)(f.Z,{size:S.ZP.Sizes.SMALL,className:w.liveIndicator,participant:t,showQuality:!u&&!l,isUpsellEnabled:!1,premiumIndicator:o})]})}function G(e){let{participant:t,selected:n,onVideoResize:l,paused:h,fit:f,inPopout:S,width:P,focused:O}=e,H=T.Z.getVideoComponent(),G=(0,r.e7)([I.default],()=>I.default.getId()),V=(0,p.Z)(),{stream:F,user:W,streamId:z}=t,Y=(0,r.e7)([x.Z],()=>x.Z.getChannel(F.channelId)),K=(0,r.e7)([C.Z],()=>C.Z.getActiveStreamForUser(W.id,F.guildId),[W.id,F.guildId]),q=(0,r.e7)([C.Z],()=>C.Z.getAllActiveStreams().length>0),X=(0,r.e7)([N.Z],()=>N.Z.isFocused()),Q=(null==K?void 0:K.ownerId)===G,J=Q&&!X&&!S,$=null!=K?(0,m.Z)(K,W,W.id===G,J):null,ee=P<195;if(a.useEffect(()=>{!q&&(null==Y?void 0:Y.isGuildStageVoice())&&!Q&&((0,u.rn)(F),c.Z.updateStageStreamSize(F.channelId,!1))},[]),a.useEffect(()=>{B.info("Stream Tile State - activeStream: ".concat(null!=K," | selected: ").concat(n," | Video: ").concat(null!=H," | MediaEngine: ").concat(T.Z.supports(k.AN.VIDEO)))},[H,K,n]),V)return(0,i.jsx)(L.Z,{stream:t.stream,isSmall:ee,selected:n,isSelfStream:W.id===G});if((null==K?void 0:K.state)===y.jm8.ENDED)return(0,i.jsx)(b.Z,{selected:n,stream:K,width:P});if((null==K?void 0:K.state)===y.jm8.FAILED)return(0,i.jsx)(R.Z,{selected:n,stream:K,width:P});else if(t.type===D.fO.HIDDEN_STREAM)return(0,i.jsx)(j.Z,{selected:n,participant:t,width:P});else if(null!=K&&!n&&null!=H&&T.Z.supports(k.AN.VIDEO))return(0,i.jsxs)(i.Fragment,{children:[null!=Y?(0,i.jsx)(E.Z,{focused:O,channelId:Y.id,guildId:Y.guild_id,streamerId:W.id,hasScreenMessage:null!=$,stream:F}):null,(0,i.jsx)(v.Z,{onResize:l,wrapperClassName:w.videoWrapper,className:w.content,streamId:z,videoComponent:H,fit:f,paused:h||J,videoSpinnerContext:Q?d.m.SELF_STREAM:d.m.REMOTE_STREAM,userId:W.id},z),null!=$?(0,i.jsx)(g.Z,{size:(0,A.L)(P),...$}):null,(0,i.jsx)(M.Z,{stream:F,inPopout:S})]});else return(0,i.jsxs)("div",{className:s()(w.content,w.streamPreview,{[w.small]:ee}),children:[(0,i.jsx)(_.Z,{noText:!0,className:s()(w.absoluteFill,{[w.streamPreviewOpacity]:null==K}),stream:t.stream}),n?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z.a,{isSmall:ee,children:(0,i.jsx)(o.Text,{variant:ee?"text-sm/semibold":"text-md/semibold",color:"none",children:P<175?U.Z.Messages.WATCH:U.Z.Messages.WATCH_STREAM})}),q?(0,i.jsx)(Z.a,{className:w.addCTA,tooltip:U.Z.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:e=>{e.stopPropagation(),(0,u.rn)(F,{forceMultiple:!0})},isSmall:ee,children:(0,i.jsx)(o.EyePlusIcon,{size:"xs",color:"currentColor",className:w.addStreamIcon})}):null]})]})}},651183:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(475674),l=n(42326),s=n(906467);function r(e){var t;let{participant:n,className:r}=e;let o=null==(t=(0,a.Z)(n))?null:s.Z.isDeveloper?"".concat(t.message," (").concat(t.errorType,")"):t.message;return null!=o?(0,i.jsx)(l.Z,{className:r,errorMessage:o}):null}},462061:function(e,t,n){n.d(t,{T:function(){return R},Z:function(){return j}});var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(481060),c=n(475179),u=n(763520),d=n(358221),h=n(414910),p=n(928518),m=n(204197),_=n(470956),f=n(314897),E=n(271383),g=n(131951),C=n(451478),I=n(783259),x=n(40300),T=n(5192),N=n(44136),v=n(981631),S=n(65154),Z=n(689938),A=n(372453);let M=o.AvatarSizes.SIZE_80,b=o.AvatarSizes.SIZE_40;function R(e){let{channelId:t,userId:n}=e;return(0,_.Eu)(t,n)?(0,i.jsx)(o.Tooltip,{text:Z.Z.Messages.NOTICE_USER_DISCONNECTED,position:"bottom",color:o.TooltipColors.GREY,children:e=>(0,i.jsx)("div",{...e,className:A.interactive,children:(0,i.jsx)(o.CircleExclamationPointIcon,{color:o.tokens.colors.STATUS_WARNING_BACKGROUND})})}):null}function j(e){let{participant:t,channel:n,inCall:l,width:o,paused:_,selected:R,fit:j,onVideoResize:L,blocked:P,noVideoRender:O=!1,pulseSpeakingIndicator:y=!1}=e,D=g.Z.getVideoComponent(),k=(0,r.e7)([f.default],()=>f.default.getId()),{user:U,streamId:w,speaking:B}=t,H=U.id===k,G=(0,N.ZP)(t),V=(0,r.e7)([C.Z],()=>C.Z.isFocused()),F=(0,r.e7)([p.Z],()=>p.Z.getWindowFocused(v.KJ3.CHANNEL_CALL_POPOUT)),W=(0,r.e7)([g.Z],()=>null!=U.id&&g.Z.isLocalVideoDisabled(U.id,(0,h.Z)(t.type)),[U.id,t.type]),z=(0,r.e7)([E.ZP],()=>E.ZP.isGuestOrLurker(n.guild_id,U.id)),Y=T.ZP.getName(n.getGuildId(),n.id,U)+(z?" ".concat(Z.Z.Messages.GUEST_NAME_SUFFIX):""),K=B&&(F||V),q=o<124?b:M,{avatarSrc:X,avatarDecorationSrc:Q}=(0,m.Z)({user:U,guildId:n.guild_id,size:q,animateOnHover:!K}),J=(0,r.e7)([d.Z],()=>d.Z.getSelectedParticipant(n.id));return(a.useEffect(()=>{n.isGuildStageVoice()&&!G&&(null==J?void 0:J.id)===U.id&&c.Z.selectParticipant(n.id,null)},[G]),l&&!W&&!O&&G&&!R&&null!=D&&g.Z.supports(S.AN.VIDEO))?(0,i.jsx)(x.Z,{onResize:L,wrapperClassName:A.videoWrapper,className:A.content,mirror:H,streamId:w,videoComponent:D,fit:j,paused:_,videoSpinnerContext:U.id===k?u.m.SELF_VIDEO:u.m.REMOTE_VIDEO,userId:U.id},w):(0,i.jsx)("div",{className:s()(A.content,{[A.blockedAvatar]:P}),children:(0,i.jsx)(I.Z,{"aria-label":Y,src:X,avatarDecoration:Q,backgroundSrc:U.getAvatarURL(n.guild_id,80),size:q,pulseSpeakingIndicator:y,speaking:B,userId:U.id})})}},623825:function(e,t,n){n.d(t,{K:function(){return i},N:function(){return a}});function i(e){return e<=220}function a(e){return e<=124}},839662:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(44136),a=n(354459);function l(e,t){var n,l;let s=null,r=null,o=null,c=!1,u=!1;switch(e.type){case a.fO.ACTIVITY:break;case a.fO.USER:s=e.streamId,o=e.voiceState,c=e.speaking,u=e.ringing;break;case a.fO.STREAM:s=e.streamId,r=e.stream}return{streamId:s,stream:r,speaking:c,ringing:u,muted:null!==(n=null==o?void 0:o.isVoiceMuted())&&void 0!==n&&n,deafen:null!==(l=null==o?void 0:o.isVoiceDeafened())&&void 0!==l&&l,mirror:e.type===a.fO.USER&&e.user.id===t,hasVideo:(0,i.ZP)(e)}}},809244:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(687516),a=n(5192),l=n(689938);function s(e,t,n){let s=(0,i.Cf)(n),r=a.ZP.getName(e.getGuildId(),e.id,t);return null==n?r:(null==s?void 0:s.name)!=null?l.Z.Messages.GO_LIVE_USER_PLAYING.format({applicationName:null==s?void 0:s.name,username:r}):l.Z.Messages.GO_LIVE_TILE_SCREEN.format({username:r})}},880831:function(e,t,n){n.d(t,{Z:function(){return L},z:function(){return R}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(392711),o=n(920906),c=n(442837),u=n(481060),d=n(570140),h=n(475179),p=n(904245),m=n(372900),_=n(905405),f=n(937889),E=n(739566),g=n(378233),C=n(419922),I=n(375954),x=n(699516),T=n(512665),N=n(768581),v=n(70956),S=n(823379),Z=n(792125),A=n(981631),M=n(768760),b=n(275953);let R=10*v.Z.Millis.SECOND;function j(e){var t;let{message:n}=e,l=(0,c.e7)([x.Z],()=>x.Z.isBlockedForMessage(n)),r=(0,E.Uj)(n),o=a.useContext(m.Z),[d,I]=a.useState(!1),v=(0,_.p)(),S=a.useCallback(e=>{if("A"!==e.target.nodeName)h.Z.updateChatOpen(n.channel_id,!0),p.Z.jumpToMessage({channelId:n.channel_id,messageId:n.id,flash:!0})},[n.channel_id,n.id]),Z=null!=n.content&&""!==n.content?(0,f.ZP)(n,{isInteracting:d,shouldFilterKeywords:v}).content:null,{contentPlaceholder:A,renderedContent:R,trailingIcon:j,leadingIcon:L}=(0,T.f)(n,Z,l,b.messageContent,{trailingIconClass:b.messageContentTrailingIcon,leadingIconClass:b.messageContentLeadingIcon,iconSize:M.WW}),P=(0,g.cv)(n),O=P.length>0?P.map(e=>(0,i.jsx)(C.ZP,{className:b.sticker,size:128,sticker:e,isInteracting:d},e.id)):null;return(0,i.jsxs)(u.Clickable,{className:b.toast,onMouseEnter:()=>{I(!0)},onMouseLeave:()=>{I(!1)},onClick:S,children:[(0,i.jsxs)("div",{className:s()(b.messageContentWrapper,{[b.mentioned]:n.mentioned}),children:[null!=O?null:L,null!==(t=null!=R?R:O)&&void 0!==t?t:(0,i.jsx)("span",{children:A}),null!=O?null:j]}),(0,i.jsx)("img",{alt:"",src:(null==r?void 0:r.guildMemberAvatar)!=null&&null!=o?(0,N.JM)({guildId:o,userId:n.author.id,avatar:r.guildMemberAvatar}):n.author.getAvatarURL(o,32),className:b.avatar})]})}function L(e){let{channelId:t,className:n}=e,[l,u]=a.useState(!1),{toastsHidden:h,toastMessages:p}=function(e){var t;let{channelId:n,isFrozen:i,count:l,lingerMs:s}=e,[r,o]=a.useState([]),[u,h]=a.useState(!1),p=a.useRef(null),m=a.useRef(),_=a.useCallback(()=>{o([]),h(!0)},[]);a.useEffect(()=>{function e(e){let{channelId:t,message:i}=e;if(t===n&&i.type!==A.uaV.STAGE_START&&i.type!==A.uaV.STAGE_END&&i.type!==A.uaV.STAGE_TOPIC&&i.type!==A.uaV.STAGE_SPEAKER&&i.type!==A.uaV.STAGE_RAISE_HAND)clearTimeout(m.current),m.current=setTimeout(_,s),o(e=>[...e,i.id])}return d.Z.subscribe("MESSAGE_CREATE",e),()=>{d.Z.unsubscribe("MESSAGE_CREATE",e)}},[n,_,l,s]),a.useEffect(()=>()=>{clearTimeout(m.current)},[]),a.useEffect(()=>{r.length>3&&o(e=>{let t=e.length-3;return[...e.slice(t)]})},[r]),i&&null==p.current?p.current=r:!i&&null!=p.current&&(p.current=null);let f=null!==(t=p.current)&&void 0!==t?t:r;return{toastsHidden:u,toastMessages:(0,c.Wu)([I.Z],()=>f.map(e=>I.Z.getMessage(n,e)),[n,f]).filter(S.lm)}}({channelId:t,isFrozen:l,count:3,lingerMs:R}),m=a.useRef({}),[_,f]=a.useState({}),E=a.useCallback((e,t)=>{null==t?delete m.current[e]:m.current[e]=t},[]);a.useLayoutEffect(()=>{let e={},t=0;for(let i of p){var n;let a=null!==(n=m.current[i.id])&&void 0!==n?n:0;e[i.id]=t,t+=a+8}!(0,r.isEqual)(e,_)&&f(e)},[p]);let g=p.map(e=>({message:e,height:m.current[e.id],y:_[e.id]})),C=(0,o.useTransition)(g,{keys:e=>e.message.id,from:()=>({opacity:0}),enter:e=>{let{y:t}=e;return{opacity:1,translateY:t}},update:e=>{let{y:t}=e;return{translateY:t}},leave:e=>{let{height:t,y:n}=e;return{opacity:0,translateY:h?n:-(null!=t?t:0)-8,pointerEvents:"none"}}});return(0,i.jsx)("div",{className:s()(n,(0,Z.Q)(A.BRd.DARK)),onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},children:C((e,t)=>(0,i.jsx)(o.animated.div,{ref:e=>E(t.message.id,null!=e?e.offsetHeight:null),className:b.toastWrapper,style:e,children:(0,i.jsx)(j,{message:t.message})}))})}},73563:function(e,t,n){n.d(t,{Z:function(){return h},e:function(){return a}});var i,a,l=n(735250);n(470079);var s=n(120356),r=n.n(s),o=n(285952),c=n(507675),u=n(820687);function d(e){let{disableGradients:t=!1,renderHeader:n,renderBottomLeft:i,renderBottomCenter:a,renderBottomRight:s,renderCenter:r}=e;return(0,l.jsxs)("div",{className:u.videoControls,children:[!(0===t||!0===t)&&(0,l.jsx)("div",{className:u.gradientTop}),!(1===t||!0===t)&&(0,l.jsx)("div",{className:u.gradientBottom}),(0,l.jsx)("div",{className:u.topControls,children:null==n?void 0:n()}),null==r?void 0:r(),(0,l.jsxs)("div",{className:u.bottomControls,children:[(0,l.jsx)(o.Z,{grow:0,shrink:1,align:o.Z.Align.CENTER,children:null==i?void 0:i()}),(0,l.jsx)(o.Z,{grow:1,justify:o.Z.Justify.CENTER,align:o.Z.Align.CENTER,children:null==a?void 0:a()}),(0,l.jsx)(o.Z,{grow:0,shrink:1,justify:o.Z.Justify.END,align:o.Z.Align.CENTER,children:null==s?void 0:s()})]})]})}function h(e){let{screenMessage:t,onDoubleClick:n,onActive:i,onForceIdle:a,idle:s,children:o,renderChatButton:h,renderChatToasts:p,renderVoiceChannelEffects:m,style:_,...f}=e;return(0,l.jsxs)("div",{className:r()(u.root,{[u.idle]:s}),style:_,onMouseMove:i,onMouseDown:i,onMouseLeave:a,onDoubleClick:n,children:[o,null!=t?(0,l.jsx)(c.Z,{size:"large",...t}):null,(0,l.jsx)(d,{...f}),null==h?void 0:h({className:u.chatButton,showingClassName:u.chatButtonShowing}),null==p?void 0:p(),null==m?void 0:m()]})}(i=a||(a={}))[i.TOP=0]="TOP",i[i.BOTTOM=1]="BOTTOM"},42326:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(481060),r=n(618158),o=n(318643);function c(e){let{errorMessage:t,className:n}=e;return(0,i.jsx)(s.TooltipContainer,{className:l()(n,o.root),text:t,position:"bottom",color:s.TooltipColors.GREY,children:(0,i.jsx)(r.Z,{children:(0,i.jsx)(s.CircleExclamationPointIcon,{size:"custom",width:20,height:20,color:"currentColor","aria-label":null!=t?t:"",className:o.warningIcon})})})}},301076:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(592471),l=n(871499);function s(e){let t,{isActivityActive:n,onMouseEnter:s,onMouseLeave:r,onClick:o,...c}=e,{Component:u,events:d}=(0,a.s)();return(0,i.jsx)(l.d,{isActive:n,color:t,iconComponent:u,onMouseEnter:e=>{null==s||s(e),d.onMouseEnter()},onMouseLeave:e=>{null==r||r(e),d.onMouseLeave()},onClick:e=>{null==o||o(e),d.onClick()},...c})}},751843:function(e,t,n){var i,a,l=n(735250);n(470079);var s=n(120356),r=n.n(s),o=n(481060),c=n(871499),u=n(400639);function d(e){let{direction:t,className:n,themeable:i,...a}=e;return(0,l.jsx)(c.Z,{className:r()(n,u.arrow,{[u.up]:0===t}),iconComponent:o.ChevronSmallDownIcon,themeable:i,...a})}(i=a||(a={}))[i.UP=0]="UP",i[i.DOWN=1]="DOWN",d.Directions=a,t.Z=d},616286:function(e,t,n){n.d(t,{T:function(){return T}}),n(47120),n(653041);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(392711),o=n(442837),c=n(475179),u=n(358221),d=n(306680),h=n(944486),p=n(111583),m=n(459273),_=n(880831),f=n(774168),E=n(871499),g=n(981631),C=n(689938);function I(e){let t=(0,o.e7)([p.Z],()=>!(0,r.isEmpty)(p.Z.getTypingUsers(e)),[e]),n=(0,o.e7)([h.Z],()=>h.Z.getVoiceChannelId()===e,[e]),{unreadCount:i,mentionCount:a}=(0,o.cj)([d.ZP],()=>({unreadCount:d.ZP.getUnreadCount(e),mentionCount:d.ZP.getMentionCount(e)}),[e]);return{unreadCount:i,mentionCount:a,voiceChannelIsSelected:n,isTyping:t}}function x(e){let{className:t,channelId:n}=e,{unreadCount:a,mentionCount:l,isTyping:s,voiceChannelIsSelected:r}=I(n);return(0,i.jsx)(f.Z,{className:t,unreadCount:a,mentionCount:l,isTyping:s,canBadge:r})}function T(e){let t,{channelId:n,className:l,showingClassName:r,onClick:d,inPopout:h,showRequestToSpeakSidebar:p,toggleRequestToSpeakSidebar:f,...T}=e,{disabled:N}=T,v=a.useRef(null),S=(0,o.e7)([u.Z],()=>u.Z.getChatOpen(n),[n]),{isShowing:Z,unreadCount:A,mentionCount:M}=function(e){let{unreadCount:t,mentionCount:n,isTyping:i}=I(e),[l,s]=a.useState(!1);return a.useEffect(()=>{s(t>0);let e=setTimeout(()=>{s(!1)},_.z);return()=>{clearTimeout(e),s(!1)}},[t]),{isShowing:l||n>0||i,unreadCount:t,mentionCount:n}}(n),b=a.useCallback(()=>{null==d||d(),!S&&p&&(null==f||f()),c.Z.updateChatOpen(n,!S)},[n,S,d,p,f]),R=a.useCallback(e=>{let{className:t}=e;return(0,i.jsx)(x,{className:t,channelId:n})},[n]),j=a.useCallback(()=>{var e;null===(e=v.current)||void 0===e||e.focus()},[]);(0,m.yp)({event:g.CkL.FOCUS_CHAT_BUTTON,handler:N?null:j});let[L,P]=a.useState(!1),O=a.useCallback(()=>{h&&P(!0)},[h]);(0,m.yp)({event:g.CkL.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP,handler:O}),a.useEffect(()=>{let e;return L&&(e=setTimeout(()=>{P(!1)},3e3)),()=>{clearTimeout(e)}},[L]);let y=[t=h&&N?C.Z.Messages.TEXT_IN_VOICE_POPOUT_DISABLED:S?C.Z.Messages.VIDEO_CALL_HIDE_CHAT:C.Z.Messages.VIDEO_CALL_SHOW_CHAT];return M>0&&y.push(C.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_MENTIONS.format({mentionCount:M})),A>0&&y.push(C.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_UNREAD),(0,i.jsx)(E.Z,{buttonRef:v,onClick:b,label:t,"aria-label":y.join(", "),iconComponent:R,tooltipPosition:"bottom",wrapperClassName:s()(l,null!=r&&{[r]:Z}),forceTooltipOpen:L,...T})}},481051:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(481060),r=n(322526);function o(e){let{hasMentions:t,truncatedCount:n,className:a}=e;return(0,i.jsx)(s.Text,{className:l()(r.unreadCount,a,{[r.mention]:t}),variant:"text-xs/normal",children:n})}},774168:function(e,t,n){n.d(t,{Z:function(){return p}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(772848),o=n(960259),c=n(481060),u=n(481051),d=n(749124);function h(e){let{width:t=24,height:n=24,isBadged:l=!1,isTyping:s=!1}=e,[u]=a.useState(()=>(0,r.Z)()),d=(0,o.bW)().enabled;return(0,i.jsxs)("svg",{width:t,height:n,viewBox:"0 0 24 24",children:[(0,i.jsx)("defs",{children:(0,i.jsxs)("mask",{id:u,children:[(0,i.jsx)("rect",{fill:"white",width:"100%",height:"100%"}),s&&(0,i.jsx)("g",{fill:"black",transform:"translate(5.5, ".concat(d?10.5:8.5,") scale(").concat(11/24,")"),children:(0,i.jsx)(c.AnimatedDots,{dotRadius:3.5,spacing:3,fill:"black"})}),l&&(0,i.jsx)("circle",{cx:"20",cy:"19",r:"10",fill:"red"})]})}),d?(0,i.jsx)("g",{mask:"url(#".concat(u,")"),children:(0,i.jsx)(c.ChatIcon,{size:"custom",width:t,height:n,color:"currentColor"})}):(0,i.jsx)("path",{fill:"currentColor",d:"M4.79805 3C3.80445 3 2.99805 3.8055 2.99805 4.8V15.6C2.99805 16.5936 3.80445 17.4 4.79805 17.4H7.49805V21L11.098 17.4H19.198C20.1925 17.4 20.998 16.5936 20.998 15.6V4.8C20.998 3.8055 20.1925 3 19.198 3H4.79805Z",mask:"url(#".concat(u,")")})]})}function p(e){var t;let{className:n,unreadCount:a,mentionCount:l,isTyping:r,canBadge:o}=e,c=null!=l&&l>0,p=null!==(t=c?l:a)&&void 0!==t?t:0,m=o&&null!=a&&a>0;return(0,i.jsxs)("div",{className:s()(d.chatIcon,n),children:[(0,i.jsx)(h,{isBadged:m,isTyping:r}),m&&(0,i.jsx)(u.Z,{hasMentions:c,truncatedCount:p>99?"99+":p,className:d.badge})]})}},961048:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(481060),l=n(871499),s=n(689938);function r(e){let{...t}=e;return(0,i.jsx)(l.Z,{label:s.Z.Messages.MORE,iconComponent:a.MoreHorizontalIcon,tooltipPosition:"bottom",...t})}},791592:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(481060),l=n(26151),s=n(871499),r=n(689938);function o(e){let{channel:t,...n}=e;return(0,i.jsx)(s.d,{...n,iconComponent:a.CloseSmallIcon,label:r.Z.Messages.DISMISS,onClick:()=>l.Z.stopRinging(t.id)})}},272929:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(920906),l=n(481060),s=n(871499),r=n(689938),o=n(288768);let c=(0,a.animated)(e=>{let{percentComplete:t}=e,n=20;return(0,i.jsx)("svg",{className:o.countdown,width:40,height:40,viewBox:"0 0 ".concat(40," ").concat(40),children:(0,i.jsx)("circle",{style:{strokeDashoffset:Math.round(100*t)},className:o.progress,cx:n,cy:n,r:n-6,fill:"none",stroke:"#4F545C",pathLength:"100"})})});function u(e){let{totalCooldownSeconds:t,remainingCooldownSeconds:n,onClick:u,onKeyDown:d,onMouseEnter:h,onMouseLeave:p,isActive:m=!1,isCenterButton:_=!1,...f}=e,E=n>0,g=(0,a.useSpring)({percentComplete:0!==n?(t-n)/t:0,config:{...a.config.molasses,duration:1e3}}),C=E?r.Z.Messages.VOICE_CHANNEL_EFFECTS_COOLDOWN.format({seconds:n}):void 0,I=_?s.d:s.Z;return(0,i.jsxs)("div",{className:o.container,children:[E?(0,i.jsx)(c,{percentComplete:g.percentComplete}):null,(0,i.jsx)(I,{...f,disabled:E,label:C,iconComponent:l.ReactionIcon,onClick:u,onKeyDown:d,onMouseEnter:h,onMouseLeave:p,isActive:m,grow:!1})]})}},179424:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(481060),l=n(475179),s=n(871499),r=n(689938);function o(e){let{channelId:t,...n}=e;return(0,i.jsx)(s.Z,{onClick:function(){l.Z.selectParticipant(t,null)},label:r.Z.Messages.VIDEO_CALL_RETURN_TO_GRID,iconComponent:a.GridSquareIcon,tooltipPosition:"bottom",...n})}},786915:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250);n(470079);var a=n(512722),l=n.n(a),s=n(442837),r=n(481060),o=n(40851),c=n(430824),u=n(496675),d=n(871499),h=n(981631),p=n(689938);function m(e){var t,a;let{applicationId:m,stream:_,channel:f,exitFullScreen:E,appContext:g,analyticsLocation:C,guildScheduledEvent:I,...x}=e,T=(0,o.bp)(),N=null==f?void 0:f.getGuildId(),v=(0,s.e7)([c.Z],()=>null!=N?c.Z.getGuild(N):null,[N]);return(t=v,a=f,null!=t&&null!=a&&u.Z.can(h.Plq.CREATE_INSTANT_INVITE,a))?(0,i.jsx)(d.Z,{onClick:()=>{l()(null!=v,"guild cannot be null"),l()(null!=f,"channel cannot be null"),!function(e){let{guild:t,channel:a,streamUserId:l,applicationId:s,appContext:o,exitFullScreen:c,analyticsLocation:u,guildScheduledEvent:d}=e;null==c||c(),(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("17520")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:t,channel:a,streamUserId:l,applicationId:s,analyticsLocation:u,source:a.isGuildStageVoice()?h.t4x.STAGE_CHANNEL:h.t4x.STREAM_INVITE,guildScheduledEvent:d})},{modalKey:"stream-invite-modal",contextKey:o===h.IlC.POPOUT?r.POPOUT_MODAL_CONTEXT:r.DEFAULT_MODAL_CONTEXT})}({guild:v,channel:f,streamUserId:null==_?void 0:_.ownerId,applicationId:m,appContext:null!=g?g:T,exitFullScreen:E,analyticsLocation:C,guildScheduledEvent:I})},iconComponent:null!=m?r.ActivitiesPlusIcon:r.GroupPlusIcon,label:null!=m?p.Z.Messages.EMBEDDED_ACTIVITIES_INVITE_TO_ACTIVITY:p.Z.Messages.ACTIVITY_INVITE_MODAL_INVITE,...x}):null}},386e3:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250),a=n(470079),l=n(652844),s=n(628581),r=n(871499);function o(e){let{selfMute:t,serverMute:n,suppress:o,centerButton:c=!1,awaitingRemote:u,onMouseEnter:d,onMouseLeave:h,...p}=e,m=t||n||o,_=c?r.d:r.Z,f=(0,s.Z)(t,n,o,u),{Component:E,play:g,events:C}=(0,l.O)(m?"unmute":"mute");return a.useEffect(()=>()=>g(),[g,m]),(0,i.jsx)(_,{isActive:!m,iconComponent:E,label:f,onMouseEnter:e=>{null==d||d(e),C.onMouseEnter()},onMouseLeave:e=>{null==h||h(e),C.onMouseLeave()},...p})}},975146:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(481060),r=n(871499),o=n(689938),c=n(211810);function u(e){let{className:t,count:n}=e;return(0,i.jsxs)("div",{className:l()(c.root,c.comboIcon,t),children:[(0,i.jsx)(s.GroupIcon,{size:"md",color:"currentColor",className:c.icon}),(0,i.jsx)(s.Text,{color:"none",className:c.count,variant:"text-md/normal",children:n})]})}function d(e){let{count:t,...n}=e;return(0,i.jsx)(r.Z,{label:o.Z.Messages.CHANNEL_CALL_PARTICIPANTS,iconComponent:e=>{let{className:n}=e;return(0,i.jsx)(u,{className:n,count:t})},tooltipPosition:"bottom",...n})}},107169:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(481060),l=n(871499),s=n(689938);function r(e){let{popoutWindowAlwaysOnTop:t,onToggleStayOnTop:n,...r}=e,o=t?s.Z.Messages.POPOUT_REMOVE_FROM_TOP:s.Z.Messages.POPOUT_STAY_ON_TOP,c=t?a.PinUprightSlashIcon:a.PinUprightIcon;return(0,i.jsx)(l.Z,{onClick:()=>n(!t),label:o,iconComponent:c,...r})}},698877:function(e,t,n){n.d(t,{O:function(){return o}});var i=n(735250),a=n(470079),l=n(864094),s=n(871499),r=n(689938);function o(e){let t,{hasPermission:n,streamActive:o,isSelfStream:c,centerButton:u,onMouseEnter:d,onMouseLeave:h,premiumGlow:p,buttonRef:m,..._}=e,f=u?s.d:s.Z;t=o?c?r.Z.Messages.STOP_STREAMING:r.Z.Messages.STOP_WATCHING:n?r.Z.Messages.SHARE_YOUR_SCREEN:r.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE;let{Component:E,events:g,play:C}=(0,l.P)(o?"disable":"enable");return a.useEffect(()=>()=>C(),[o,C]),(0,i.jsx)(f,{buttonRef:m,label:t,disabled:!n,iconComponent:E,isActive:o,onMouseEnter:e=>{null==d||d(e),g.onMouseEnter()},onMouseLeave:e=>{null==h||h(e),g.onMouseLeave()},premiumGlow:p,..._})}},991617:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),l=n(475179),s=n(871499),r=n(354459),o=n(689938);function c(e){let{channelId:t,isHorizontal:n,...c}=e;return(0,i.jsx)(s.Z,{onClick:function(){l.Z.selectParticipant(t,r.dF.AUTO)},label:o.Z.Messages.VIDEO_CALL_AUTO_SELECT,iconComponent:n?a.GridHorizontalIcon:a.GridVerticalIcon,tooltipPosition:"bottom",...c})}},891551:function(e,t,n){var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(442837),r=n(846027),o=n(131951),c=n(80618),u=n(36703),d=n(358085),h=n(618158),p=n(162736);t.Z=s.ZP.connectStores([o.Z],e=>{let{userId:t,context:n}=e;return{currentVolume:o.Z.getLocalVolume(t,n),muted:o.Z.isLocalMute(t,n)}})(function(e){let{className:t,iconClassName:n,sliderClassName:a,userId:s,currentVolume:o,muted:m,context:_,currentWindow:f=window}=e;return(0,i.jsx)(h.Z,{children:(0,i.jsx)(c.Z,{currentWindow:f,iconClassName:l()(n,p.controlIcon),sliderClassName:a,className:t,value:(0,u.P)(o),muted:m,maxValue:d.isPlatformEmbedded?200:100,onValueChange:e=>{var t,n,i,a;return t=e,n=s,i=m,a=_,void(t>0&&i&&r.Z.toggleLocalMute(n,a),r.Z.setLocalVolume(n,(0,u.A)(t),a))},onToggleMute:()=>{var e,t;return e=s,t=_,void r.Z.toggleLocalMute(e,t)}})})})},470956:function(e,t,n){n.d(t,{Es:function(){return h},Eu:function(){return _},Yp:function(){return m},bt:function(){return p}}),n(47120);var i=n(470079),a=n(392711),l=n(442837),s=n(413523),r=n(314897),o=n(878884),c=n(19780),u=n(979651),d=n(413402);function h(e,t){let n=(0,d.M)(),s=(0,l.e7)([o.Z],()=>n?o.Z.getDesyncedVoiceStates(e):null);return i.useMemo(()=>(function(e,t){if(!(0,d.i)()||null==e||0===e.length)return t;let n=null!=t?[...t]:[];return e.forEach(e=>{n.splice((0,a.sortedIndexBy)(n,e,e=>{let{comparator:t}=e;return t}),0,e)}),n})(s,t),[s,t])}function p(e,t){let n=function(e){let t=(0,d.M)();return(0,l.e7)([o.Z],()=>t?o.Z.getDesyncedParticipants(e):null)}(e);return i.useMemo(()=>(function(e,t){if(!(0,d.i)()||null==e||0===e.length)return t;let n=[...t];return e.forEach(e=>{n.splice((0,a.sortedIndexBy)(n,e,e=>(0,s.Yr)(e)),0,e)}),n})(n,t),[n,t])}function m(e,t){let n=(0,d.M)(),a=(0,l.e7)([o.Z],()=>n?o.Z.getDesyncedUserIds(e):null);return i.useMemo(()=>{let e=new Set;return t.forEach(t=>e.add(t)),null==a||a.forEach(t=>e.add(t)),e},[a,t])}function _(e,t){let n=(0,d.M)(),[a,s]=i.useState(!1),o=(0,l.e7)([r.default],()=>r.default.getId()===t),h=(0,l.e7)([c.Z,u.Z],()=>null!=t&&null!=e&&c.Z.getChannelId()===e&&null!=u.Z.isInChannel(e,t)&&c.Z.isUserConnected(t)),p=(0,l.e7)([c.Z,u.Z],()=>null!=t&&null!=e&&c.Z.getChannelId()===e&&null!=u.Z.isInChannel(e,t)&&!c.Z.isUserConnected(t));return i.useEffect(()=>{h&&s(!0)},[h]),n&&!o&&a&&p}},413402:function(e,t,n){n.d(t,{M:function(){return l},i:function(){return a}});let i=(0,n(818083).B)({kind:"user",id:"2024-06_rtc_voice_state_sync_experiment",label:"RTC and Voice State Desync Fixes",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Desync fixes enabled",config:{enabled:!0}}]});function a(){let{enabled:e}=i.getCurrentConfig({location:"isRTCVoiceStateDesyncExperimentEnabled"});return e}function l(){let{enabled:e}=i.useExperiment({location:"useIsRTCVoiceStateDesyncExperimentEnabled"});return e}},274459:function(e,t,n){n.d(t,{Z:function(){return g}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(920906),o=n(442837),c=n(596454),u=n(607070),d=n(70956),h=n(456631),p=n(978417);let m=6*d.Z.Millis.SECOND,_=2*d.Z.Millis.SECOND,f=2*d.Z.Millis.SECOND,E=e=>"scale(".concat(1- -(e/120),") rotate(").concat(e,"deg)");function g(e){let{userId:t,voiceChannelEffect:n,onComplete:l}=e,{emoji:d,sentAt:g}=n,C=(0,o.e7)([u.Z],()=>u.Z.useReducedMotion),[I,x]=a.useState(!0),T=!C,N=(0,r.useTransition)(I,{from:{rotate:-120},enter:{rotate:0},leave:{rotate:-120},config:r.config.default,immediate:C,onRest:(e,t)=>{let{phase:n}=t;"leave"===n&&l()}});return(a.useEffect(()=>{let e;return Date.now()-g>=f?(0,h.H)(t):e=setTimeout(()=>{x(!1),T&&(0,h.H)(t)},T?_:m),()=>{null!=e&&clearTimeout(e)}},[g,t,T]),T)?null:N((e,t)=>{var n;let{rotate:a}=e;return t&&(0,i.jsx)(r.animated.div,{className:p.voiceChannelEffectEmojiContainer,style:{transform:a.to(E)},children:(0,i.jsx)(c.Z,{className:s()(p.voiceChannelEffectEmoji),emojiId:d.id,emojiName:d.name,animated:null!==(n=d.animated)&&void 0!==n&&n})})})}},878349:function(e,t,n){n.d(t,{Z:function(){return E}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(442837),o=n(780384),c=n(481060),u=n(393238),d=n(410030),h=n(607070),p=n(466794),m=n(213833),_=n(546240),f=n(952009);function E(e){let{checked:t,labelText:n,tooltipText:l,canToggle:E,iconAltText:g,onChange:C,tooltipColor:I,className:x,id:T="fancybutton-toggle",collapseWhenChecked:N=!0,onClick:v,disabled:S}=e,Z=(0,r.e7)([h.Z],()=>h.Z.useReducedMotion),[A,M]=a.useState(!1),b=(0,d.ZP)(),R=(0,o.wj)(b)||t?f:_,{width:j=0,ref:L}=(0,u.Z)(),{width:P=0,ref:O}=(0,u.Z)();return(0,i.jsxs)(c.TooltipContainer,{text:(0,i.jsx)(p.X,{textColor:"always-white",tooltipText:l}),position:"top",color:null!=I?I:S?c.Tooltip.Colors.BLACK:c.Tooltip.Colors.BRAND,"aria-label":l,tooltipClassName:m.tooltip,className:m.tooltipContainer,children:[(0,i.jsx)("input",{className:m.visuallyHidden,checked:t,onChange:function(){if(E){let e=!t;M(!0),null==C||C(e)}"function"==typeof v&&v()},id:T,type:"checkbox",disabled:S}),(0,i.jsxs)("label",{htmlFor:T,className:s()(m.label,x,{[m.transition]:A,[m.labelChecked]:t,[m.labelUnchecked]:!t&&!E}),style:N?{width:t?j:j+P}:void 0,children:[t?(0,i.jsx)(c.Shine,{className:m.shine,shinePaused:Z}):null,(0,i.jsx)("img",{ref:L,src:R,alt:g}),(0,i.jsx)("span",{ref:O,children:(0,i.jsx)(c.Text,{className:s()(m.burstText,{[m.visuallyHidden]:t&&N,[m.burstTextChecked]:t}),variant:"text-sm/semibold",children:n})})]})]})}},39127:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250),a=n(470079),l=n(392711),s=n(500923),r=n.n(s),o=n(963838),c=n(353368),u=n(454190);let d=async e=>{var t;let{animationType:n,animationId:i,url:a,shouldResize:s}=e,r=null!==(t=o.Jw[n])&&void 0!==t?t:o.Jw[c.q.BASIC],u=JSON.parse(JSON.stringify(null!=i&&i<r.length?r[i]:(0,l.sample)(r)));return u.assets[0].p=s?await (0,o.lv)(a):a,u};function h(e){let{containerDimensions:t,effect:n,onComplete:l}=e,s=a.useRef(null);return a.useEffect(()=>{let e;return!async function(){if(null!=s.current){let t=await d(n);e=r().loadAnimation({container:s.current,renderer:"svg",loop:!1,autoplay:!0,animationData:t,rendererSettings:{preserveAspectRatio:"xMidYMax slice"}}),n.animationType===c.q.PREMIUM&&e.setSpeed(.8),e.addEventListener("complete",()=>null==l?void 0:l(n.id))}}(),()=>{null==e||e.destroy()}},[l,n]),(0,i.jsx)("div",{className:u.effect,style:{height:t.height,width:t.width},ref:s})}},488785:function(e,t,n){n.d(t,{Z:function(){return f}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(392711),o=n(772848),c=n(442837),u=n(570140),d=n(596454),h=n(607070),p=n(690736);let m=[p.emoji1,p.emoji2,p.emoji3,p.emoji4],_=a.memo(function(e){var t;let{emoji:n,onAnimationEnd:l}=e,o=(0,r.sample)(m),c=a.useCallback(()=>{l(n.key)},[n.key,l]);return(0,i.jsx)("div",{className:s()(p.emoji,o),onAnimationEnd:c,children:(0,i.jsx)(d.Z,{emojiId:n.id,emojiName:n.name,animated:null!==(t=n.animated)&&void 0!==t&&t})})});function f(e){let{channelId:t,callHeight:n}=e,l=(0,c.e7)([h.Z],()=>h.Z.useReducedMotion),[s,r]=a.useState([]);a.useEffect(()=>{function e(e){let{channelId:n,emoji:i}=e;if(n===t&&!l&&null!=i)r(e=>[...e,{key:(0,o.Z)(),...i}])}return u.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",e),()=>{u.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",e)}},[t,l]);let d=a.useCallback(e=>{r(t=>t.filter(t=>t.key!==e))},[]);return l?null:(0,i.jsx)("div",{className:p.container,style:{top:n-16},"aria-hidden":!0,children:s.map(e=>(0,i.jsx)(_,{emoji:e,onAnimationEnd:d},e.key))})}},381871:function(e,t,n){n.d(t,{Z:function(){return w}}),n(47120);var i=n(735250),a=n(470079),l=n(392711),s=n(442837),r=n(704215),o=n(481060),c=n(570140),u=n(230711),d=n(607070),h=n(367907),p=n(243778),m=n(543241),_=n(633302),f=n(970731),E=n(594174),g=n(176354),C=n(823379),I=n(74538),x=n(401062),T=n(696900),N=n(456631),v=n(963838),S=n(535879),Z=n(310892),A=n(12168),M=n(353368),b=n(981631),R=n(354459),j=n(185923),L=n(474936),P=n(526761),O=n(689938),y=n(471915);let D=j.Hz.CHAT,k={section:b.jXE.VOICE_CHANNEL_EFFECTS_EMOJI_PICKER,openPopoutType:"voice_channel_effect_emoji_picker"},U=[_.ZP.getByName("thumbsup"),_.ZP.getByName("eyes"),_.ZP.getByName("laughing"),_.ZP.getByName("watermelon"),_.ZP.getByName("fork_and_knife"),_.ZP.getByName("yum")].filter(C.lm);function w(e){var t;let{channel:n,closePopout:_,onFocus:C}=e,j=(0,s.e7)([d.Z],()=>d.Z.useReducedMotion),w=(0,s.e7)([E.default],()=>E.default.getCurrentUser()),B=I.ZP.canUseFancyVoiceChannelReactions(w),H=(0,s.e7)([T.Z],()=>T.Z.getState().animationType),G=a.useRef(!1),V=(0,m.wC)(n.guild_id),F=(0,l.uniqBy)([...V,...U],"name").filter(e=>!g.ZP.isEmojiFilteredOrLocked({emoji:e,channel:n,intention:D})).slice(0,R.e5),W=(null!==(t=N.Z.recentlyUsedEmojis)&&void 0!==t?t:[]).filter(e=>!F.slice(0,R.e5-1).some(t=>t.name===e.name));W.length>0&&F.splice(F.length-1,1,W[0]);let z=(0,v.Iu)(H),Y=e=>{c.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_RECENT_EMOJI",emoji:e}),(0,x.Lx)({channel:n,emoji:e,location:x.yX.EMOJI_PICKER,animationType:H,animationId:z,isPremium:B})},K=()=>{(0,Z.openEffectsUpsellModal)({analytics:{type:L.cd.EMOJI_PICKER_EMOJI_CLICKED,object:b.qAy.BUTTON_CTA,section:b.jXE.VOICE_CHANNEL_EFFECTS_BAR}})},q=e=>{G.current=e,e&&h.ZP.trackWithMetadata(b.rMx.VOICE_CHANNEL_EFFECT_EMOJI_PICKER_EXPANDED,{channel_id:X,guild_id:Q})},{id:X,guild_id:Q}=n;a.useEffect(()=>{h.ZP.trackWithMetadata(b.rMx.VOICE_CHANNEL_EFFECT_BAR_VIEWED,{channel_id:X,guild_id:Q})},[X,Q]);let J=j?[r.z.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP]:[],$=H===M.q.PREMIUM;return(0,i.jsx)(p.Z,{contentTypes:J,children:e=>{let{visibleContent:t,markAsDismissed:a}=e,l=j&&t===r.z.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP;return(0,i.jsx)(o.Popout,{position:"left","aria-label":O.Z.Messages.VOICE_CHANNEL_EFFECTS_MORE,shouldShow:l,renderPopout:()=>(0,i.jsx)("div",{onMouseEnter:C,children:(0,i.jsx)(f.ZP,{className:y.reducedMotionTooltip,header:O.Z.Messages.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP_TITLE,content:O.Z.Messages.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP_BODY,onClick:()=>{u.Z.open(b.oAB.ACCESSIBILITY,null,{scrollPosition:P.rP.REDUCED_MOTION}),_()},markAsDismissed:a,buttonCTA:O.Z.Messages.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP_CONFIRM,secondaryButtonCTA:O.Z.Messages.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP_CANCEL,caretPosition:f.DF.RIGHT_CENTER})}),children:()=>(0,i.jsx)(A.Z,{title:O.Z.Messages.VOICE_CHANNEL_EFFECTS_HOTBAR_TITLE,channel:n,closePopout:_,onSelectEmoji:Y,onSelectDisabledEmoji:K,onFocus:C,onExpandedToggle:q,analyticsOverride:k,emojiSearchProps:{accessory:(0,i.jsx)(S.Z,{labelText:O.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE,value:$,onChange:()=>{if(B)return h.ZP.trackWithMetadata(b.rMx.VOICE_CHANNEL_EFFECT_FANCY_ANIMATION_TOGGLED,{channel_id:X,guild_id:Q,enabled:!$}),c.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_TOGGLE_ANIMATION_TYPE"})},onShowUpsell:()=>(0,Z.openEffectsUpsellModal)({analytics:{type:G.current?L.cd.VOICE_CHANNEL_EFFECTS_TOGGLE_CLICKED_EXPANDED:L.cd.VOICE_CHANNEL_EFFECTS_TOGGLE_CLICKED,object:b.qAy.VOICE_CHANNEL_EFFECTS_TOGGLE,section:G.current?b.jXE.VOICE_CHANNEL_EFFECTS_EMOJI_PICKER:b.jXE.VOICE_CHANNEL_EFFECTS_BAR}})})},recentlyUsedEmojis:W})})}})}},535879:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(442837),l=n(594174),s=n(74538),r=n(878349),o=n(689938);function c(e){let{value:t,labelText:n,onChange:c,onShowUpsell:u}=e,d=(0,a.e7)([l.default],()=>l.default.getCurrentUser()),h=s.ZP.canUseFancyVoiceChannelReactions(d),p="";return p=h?t?o.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE_TOOLTIP_ENABLED:o.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE_TOOLTIP_DISABLED:o.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE_UPSELL,(0,i.jsx)(r.Z,{checked:t,onChange:c,labelText:n,tooltipText:p,iconAltText:o.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE_TADA_ALT,canToggle:h,onClick:h?()=>{}:u})}},310892:function(e,t,n){n.r(t),n.d(t,{default:function(){return m},openEffectsUpsellModal:function(){return _}});var i=n(735250);n(470079);var a=n(481060),l=n(174609),s=n(98278),r=n(790527),o=n(810090),c=n(626135),u=n(981631),d=n(689938),h=n(603374),p=n(626065);function m(e){let{onClose:t,analytics:n,...a}=e,m=d.Z.Messages.VOICE_CHANNEL_EFFECTS_UPSELL_BODY_2.format({onPressMore:function(){(0,l.Z)(),t(),c.default.track(u.rMx.PREMIUM_PROMOTION_OPENED,{location_section:u.jXE.VOICE_CHANNEL_EFFECTS_UPSELL_MODAL,location_object:u.qAy.NAVIGATION_LINK}),(0,s.z)()}});return(0,i.jsx)(r.Z,{title:d.Z.Messages.VOICE_CHANNEL_EFFECTS_UPSELL_HEADER_2,glowUp:m,body:m,artContainerClassName:h.artContainer,enableArtBoxShadow:!1,type:n.type,analyticsLocation:{section:u.jXE.VOICE_CHANNEL_EFFECTS_UPSELL_MODAL,object:n.object},analyticsSource:{page:u.ZY5.CHANNEL_CALL,section:n.section},onClose:t,onSubscribeClick:l.Z,artElement:(0,i.jsx)(o.Z,{className:h.video,src:p,loop:!0,autoPlay:!0}),...a})}function _(e){let{analytics:t}=e;(0,a.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,310892));return n=>(0,i.jsx)(e,{analytics:t,...n})})}},12168:function(e,t,n){n.d(t,{Z:function(){return M},u:function(){return Z}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(392711),o=n(920906),c=n(481060),u=n(596454),d=n(727637),h=n(543241),p=n(907040),m=n(633302),_=n(806966),f=n(401227),E=n(153124),g=n(176354),C=n(823379),I=n(354459),x=n(185923),T=n(420212),N=n(61798);let v=x.Hz.CHAT,S=[m.ZP.getByName("thumbsup"),m.ZP.getByName("eyes"),m.ZP.getByName("laughing"),m.ZP.getByName("watermelon"),m.ZP.getByName("fork_and_knife"),m.ZP.getByName("yum")].filter(C.lm);function Z(e){let{emoji:t,isDisabled:n=!1,onClick:l,className:r}=e,h=a.useRef(null),p=(0,d.Z)(h);return(0,i.jsx)("span",{ref:h,children:(0,i.jsx)(c.Button,{onClick:l,look:c.Button.Looks.BLANK,size:c.Button.Sizes.NONE,focusProps:{enabled:!n},children:(0,i.jsx)(o.Spring,{config:f.u,from:{value:0},to:{value:p?1:0},children:e=>{let{value:a}=e;return(0,i.jsx)(o.animated.div,{style:{transform:a.to([0,1],[1,1.14]).to(e=>"scale(".concat(e,")"))},children:(0,i.jsx)(u.Z,{className:s()(N.emoji,r,{[N.emojiItemDisabled]:n}),emojiId:t.id,emojiName:null==t?void 0:t.surrogates,animated:t.animated})})}})})})}function A(e){let{otherAccessories:t,isEmojiPickerExpanded:n,onSetExpanded:a,onFocus:l}=e;return(0,i.jsxs)(i.Fragment,{children:[t,(0,i.jsx)(c.Clickable,{className:N.dropDownContainer,onClick:()=>{a(!n),l()},children:(0,i.jsx)(c.ChevronSmallDownIcon,{size:"md",color:"currentColor",className:s()(N.dropDown,{[N.dropDownOpen]:n})})})]})}function M(e){let{channel:t,title:n,closePopout:l,onFocus:o,onSelectEmoji:u,onSelectDisabledEmoji:d,onExpandedToggle:m,emojiSearchProps:f,recentlyUsedEmojis:C,analyticsOverride:M}=e,b=(0,E.Dt)(),[R,j]=a.useState(!1),L=(0,h.wC)(t.guild_id),P=(0,r.uniqBy)([...L,...S],"name").filter(e=>!g.ZP.isEmojiFilteredOrLocked({emoji:e,channel:t,intention:v})).slice(0,I.e5);null!=C&&C.length>0&&P.splice(P.length-1,1,C[0]);let O=e=>{j(e),null==m||m(e)},y=(e,t)=>{if(null==e&&t){l();return}null!=e&&u(e);O(!t),t&&_.kJ.setSearchPlaceholder(null)};return(0,i.jsxs)(c.Dialog,{"aria-labelledby":b,children:[(0,i.jsx)(c.HeadingLevel,{forceLevel:2,children:(0,i.jsx)(c.HiddenVisually,{children:(0,i.jsx)(c.H,{id:b,children:n})})}),(0,i.jsxs)("div",{className:N.container,children:[(0,i.jsx)(p.Z,{analyticsOverride:M,channel:t,className:s()(N.animatedPicker,{[N.animatedPickerTall]:R}),headerClassName:s()(N.emojiPickerHeader,{[N.emojiPickerHeaderExpanded]:R}),closePopout:l,onSelectEmoji:R?y:()=>{},shouldHidePickerActions:!R,wrapper:"div",pickerIntention:v,searchProps:{...f,accessory:(0,i.jsx)(A,{otherAccessories:null==f?void 0:f.accessory,isEmojiPickerExpanded:R,onSetExpanded:O,onFocus:o}),onKeyDown:e=>{null!=e&&e.key!==T.vn.TAB&&(e.key!==T.vn.ENTER||e.shiftKey?O(!0):O(!R))}}}),(0,i.jsx)("div",{className:N.slotsContainer,children:(0,i.jsx)("div",{className:s()(N.slots,N.slotsWide),children:P.map(e=>{let n=g.ZP.isEmojiDisabled({emoji:e,channel:t,intention:x.Hz.CHAT});return(0,i.jsx)("div",{className:N.slot,children:(0,i.jsx)(c.TooltipContainer,{text:e.name,position:"top","aria-label":e.name,tooltipClassName:N.tooltipContainer,color:c.Tooltip.Colors.BRAND,children:(0,i.jsx)(Z,{emoji:e,isDisabled:n,onClick:()=>{n?null==d||d(e):y(e,!0)}})})},e.name)})})})]})]})}},738643:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(442837),a=n(131704),l=n(592125),s=n(430824),r=n(944486),o=n(981631);function c(e,t){let n=(0,i.e7)([s.Z],()=>s.Z.getGuild(t)),c=(0,i.e7)([l.Z],()=>l.Z.getChannel(e));return e===(0,i.e7)([r.Z],()=>r.Z.getChannelId(t))&&null!=c&&null!=n&&c.getGuildId()===n.id&&(0,a.zi)(c.type)&&n.hasFeature(o.oNc.WELCOME_SCREEN_ENABLED)&&n.hasFeature(o.oNc.COMMUNITY)&&!n.hasFeature(o.oNc.GUILD_SERVER_GUIDE)}},979696:function(e,t,n){var i,a=n(442837),l=n(570140);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let r={toastsEnabledForChannel:{}},o=r;class c extends(i=a.ZP.PersistedStore){initialize(e){o=null!=e?e:r}getToastsEnabled(e){var t;return null===(t=o.toastsEnabledForChannel[e])||void 0===t||t}getState(){return o}}s(c,"displayName","CallChatToastsStore"),s(c,"persistKey","CallChatToasts"),t.Z=new c(l.Z,{CALL_CHAT_TOASTS_SET_ENABLED:function(e){let{channelId:t,toastsEnabled:n}=e;o.toastsEnabledForChannel[t]=n},LOGOUT:function(){o.toastsEnabledForChannel={}}})},237904:function(e,t,n){var i,a,l,s,r,o,c=n(442837),u=n(570140);(i=r||(r={})).FAILED="failed",i.SUCCEEDED="succeeded";let d={};class h extends(o=c.ZP.Store){getFollowerStatsForChannel(e){return d[e]}}s="ChannelFollowerStatsStore",(l="displayName")in(a=h)?Object.defineProperty(a,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[l]=s,t.Z=new h(u.Z,{CONNECTION_OPEN:function(){d={}},CHANNEL_FOLLOWER_STATS_FETCH_SUCCESS:function(e){let{channelId:t,stats:n}=e;n=null!=n?n:{},d[t]={loadingStatus:"succeeded",lastFetched:Date.now(),channelsFollowing:n.channels_following,guildMembers:n.guild_members,guildsFollowing:n.guilds_following,usersSeenEver:n.users_seen_ever,subscribersGainedSinceLastPost:n.subscribers_gained_since_last_post,subscribersLostSinceLastPost:n.subscribers_lost_since_last_post}},CHANNEL_FOLLOWER_STATS_FETCH_FAILURE:function(e){let{channelId:t}=e;d[t]={loadingStatus:"failed",lastFetched:Date.now(),channelsFollowing:0,guildMembers:0,guildsFollowing:0,usersSeenEver:0,subscribersGainedSinceLastPost:0,subscribersLostSinceLastPost:0}}})},544610:function(e,t,n){let i;n(47120),n(724458),n(653041);var a,l,s,r,o=n(392711),c=n.n(o),u=n(442837),d=n(570140),h=n(279779),p=n(131704),m=n(624138),_=n(51144),f=n(592125),E=n(580005),g=n(699516),C=n(594174),I=n(981631);let x=!1,T="",N=0,v=[],S=!1,Z=new Set,A=null;function M(){T="",N=0,v=[],Z=new Set,x=!1,A=null}function b(e){T=e,N=0,R()}function R(){if(!x)return!1;let e=f.Z.getChannel(A);if(0===T.trim().length)return null!=i&&i.clearQuery(),v=function(e){let t=g.Z.getFriendIDs();return(null==e?void 0:e.isPrivate())&&(t=t.filter(t=>!e.recipients.includes(t))),t.reduce((e,t)=>{let n=C.default.getUser(t);return null==n?e:(e.push({user:n}),e)},[]).sort(L)}(e),!0;let t=null!=e?e.recipients:[];return null!=i&&i.setQuery(T,{friends:!0},t,function(){let e=E.Z.getFrequentlyWithoutFetchingLatest().filter(e=>e instanceof p.mn&&e.isDM()),t=Math.max(...e.map(e=>{let{id:t}=e;return E.Z.getScoreWithoutFetchingLatest(t)})),n={};return e.forEach(e=>{let i=E.Z.getScoreWithoutFetchingLatest(e.id),a=e.getRecipientId(),l=g.Z.isFriend(a)?.2:0,s=null!=f.Z.getDMFromUserId(a)?.1:0;n[a]=1+i/t+l+s}),n}()),!1}function j(){if(!x)return!1;let e=S;return(S=c().some(g.Z.getRelationships(),e=>e===I.OGo.FRIEND))!==e}function L(e,t){return(0,m._I)(_.ZP.getName(e.user).toLocaleLowerCase()).localeCompare((0,m._I)(_.ZP.getName(t.user).toLocaleLowerCase()))}function P(e){let{results:t}=e;if(!!x&&""!==T)v=t.map(e=>{let{id:t}=e;return{user:C.default.getUser(t)}}).filter(e=>null!=e.user),w.emitChange()}function O(){return null!=i&&(i.destroy(),i=null),h.Z.getSearchContext(P,1e3)}function y(e){if(e.key!==I.vTt)return!1;x=!0,j(),i=O(),A=null,b("")}function D(e){if(e.key!==I.vTt)return!1;k()}function k(){null!=i&&(i.destroy(),i=null),M()}class U extends(a=u.ZP.Store){initialize(){this.waitFor(C.default,f.Z,g.Z),this.syncWith([C.default,f.Z],R),this.syncWith([g.Z],j)}getResults(){return v}hasFriends(){return S}getSelectedUsers(){return Z}getQuery(){return T}getState(){return{query:T,selectedRow:N,selectedUsers:Z,results:v,hasFriends:S}}}r="PrivateChannelRecipientsInviteStore",(s="displayName")in(l=U)?Object.defineProperty(l,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[s]=r;let w=new U(d.Z,{CONNECTION_OPEN:function(){M()},CHANNEL_SELECT:function(e){let{guildId:t,channelId:n}=e;if(null!=t)return!1;let i=x;return M(),x=i,A=n,R()},MODAL_PUSH:y,SHOW_ACTION_SHEET:y,PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN:function(e){x=!0,j(),i=O(),A=e.channelId,b("")},MODAL_POP:D,HIDE_ACTION_SHEET:D,PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE:k,PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY:function(e){A=e.channelId,b(e.query)},PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT:function(e){N=e.row},PRIVATE_CHANNEL_RECIPIENTS_ADD_USER:function(e){let{userId:t}=e;Z.add(t),Z=new Set(Z)},PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER:function(e){let{userId:t}=e;Z.delete(t),Z=new Set(Z)}});t.Z=w},878884:function(e,t,n){n(724458),n(47120);var i,a,l,s,r=n(442837),o=n(570140),c=n(642047),u=n(189786),d=n(5192),h=n(594174),p=n(979651),m=n(938475),_=n(981631),f=n(354459);let E=[],g=[],C=[],I=new c.Z,x=new c.Z,T=null;function N(e){let t=I.delete(e),n=x.delete(e);return t||n}class v extends(i=r.ZP.Store){initialize(){this.waitFor(p.Z,h.default)}get desyncedVoiceStatesCount(){return I.size()}getDesyncedUserIds(e){return e!==T?C:I.keys()}getDesyncedVoiceStates(e){return e!==T?E:I.values()}getDesyncedParticipants(e){return e!==T?g:x.values()}}s="RTCConnectionDesyncStore",(l="displayName")in(a=v)?Object.defineProperty(a,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[l]=s,t.Z=new v(o.Z,{CONNECTION_OPEN:function(){I.clear(),x.clear()},RTC_CONNECTION_STATE:function(e){let{state:t,channelId:n}=e;if(t!==_.hes.DISCONNECTED&&T===n)return!1;T=n,I.clear(),x.clear()},VOICE_STATE_UPDATES:function(e){let{voiceStates:t}=e;return null!=T&&t.reduce((e,t)=>{let{userId:n,channelId:i}=t;return null!=i&&i===T&&!!N(n)||e},!1)},RTC_CONNECTION_CLIENT_CONNECT:function(e){let{userIds:t,guildId:n,channelId:i}=e;return t.reduce((e,t)=>{let a=p.Z.getVoiceStateForUser(t);if((null==a?void 0:a.channelId)===i&&i===T)return e;let l=h.default.getUser(t);if(null==l)return e;let s=new u.Z({userId:t,channelId:i}),r=(0,m.PH)(s,null!=n?n:_.ME,t);I.set(t,r);let o={type:f.fO.USER,user:l,id:l.id,streamId:null,voiceState:new u.Z({userId:t,channelId:i}),voicePlatform:null,speaking:!1,lastSpoke:0,soundsharing:!1,ringing:!1,userNick:d.ZP.getName(n,i,l),localVideoDisabled:!1};return x.set(t,o),!0},!1)},RTC_CONNECTION_CLIENT_DISCONNECT:function(e){let{userId:t}=e;return N(t)}})},903223:function(e,t,n){var i,a,l,s,r=n(392711),o=n.n(r),c=n(442837),u=n(570140),d=n(430824);let h=null,p={};class m extends(s=c.ZP.Store){initialize(){this.waitFor(d.Z)}getOptimalRegion(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.getRegions(t);return null!=n?null!==(e=n.find(e=>{let{optimal:t}=e;return t}))&&void 0!==e?e:o().sample(n):null}getOptimalRegionId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getOptimalRegion(e);return null!=t?t.id:null}getRandomRegion(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRegions(e);return null!=t?o().sample(t):null}getRandomRegionId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRandomRegion(e);return null!=t?t.id:null}getRegions(e){return null!=e?p[e]:h}}l="RegionStore",(a="displayName")in(i=m)?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,t.Z=new m(u.Z,{LOAD_REGIONS:function(e){let t=o().sortBy(e.regions,e=>e.name);null!=e.guildId?p[e.guildId]=t:h=t},GUILD_DELETE:function(e){delete p[e.guild.id]}})},429239:function(e,t,n){var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(974674),o=n(438784),c=n(481060),u=n(806519),d=n(525049),h=n(542398);let p={},m=1/4;function _(e){let{height:t,fillColor:n}=e;return(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:t/2,backgroundColor:n,height:t,width:t*d.jR},children:(0,i.jsx)(o.b,{className:h.dots,dotRadius:t*m})})}function f(e){let{isTyping:t,statusCoords:n,status:a}=e,l=(0,c.useStatusFillColor)(c.StatusTypes.ONLINE);return t?(0,i.jsx)("div",{style:{position:"absolute",top:n.y,left:n.x},children:(0,i.jsx)(_,{height:n.height,fillColor:l})}):null!=a?(0,i.jsx)(c.Status,{size:n.height,status:a,style:{position:"absolute",top:n.y,left:n.x}}):null}function E(e){let{src:t,size:n}=e;return(0,i.jsx)("img",{className:h.circularImage,src:t,alt:"",width:n,height:n})}let g={[c.AvatarSizes.SIZE_16]:{default:u.QS.DIAGONAL_FACEPILE_16,typing:u.QS.DIAGONAL_FACEPILE_TYPING_16,status:u.QS.DIAGONAL_FACEPILE_STATUS_16},[c.AvatarSizes.SIZE_20]:{default:u.QS.DIAGONAL_FACEPILE_20,typing:u.QS.DIAGONAL_FACEPILE_TYPING_20,status:u.QS.DIAGONAL_FACEPILE_STATUS_20},[c.AvatarSizes.SIZE_24]:{default:u.QS.DIAGONAL_FACEPILE_24,typing:u.QS.DIAGONAL_FACEPILE_TYPING_24,status:u.QS.DIAGONAL_FACEPILE_STATUS_24},[c.AvatarSizes.SIZE_32]:{default:u.QS.DIAGONAL_FACEPILE_32,typing:u.QS.DIAGONAL_FACEPILE_TYPING_32,status:u.QS.DIAGONAL_FACEPILE_STATUS_32},[c.AvatarSizes.SIZE_40]:{default:u.QS.DIAGONAL_FACEPILE_32,typing:u.QS.DIAGONAL_FACEPILE_TYPING_32,status:u.QS.DIAGONAL_FACEPILE_STATUS_32},[c.AvatarSizes.SIZE_48]:{default:u.QS.DIAGONAL_FACEPILE_40,typing:u.QS.DIAGONAL_FACEPILE_TYPING_40,status:u.QS.DIAGONAL_FACEPILE_STATUS_40},[c.AvatarSizes.SIZE_56]:{default:u.QS.DIAGONAL_FACEPILE_56,typing:u.QS.DIAGONAL_FACEPILE_TYPING_56,status:u.QS.DIAGONAL_FACEPILE_STATUS_56},[c.AvatarSizes.SIZE_80]:{default:u.QS.DIAGONAL_FACEPILE_80,typing:u.QS.DIAGONAL_FACEPILE_TYPING_80,status:u.QS.DIAGONAL_FACEPILE_STATUS_80},[c.AvatarSizes.SIZE_120]:{default:u.QS.DIAGONAL_FACEPILE_120,typing:u.QS.DIAGONAL_FACEPILE_TYPING_120,status:u.QS.DIAGONAL_FACEPILE_STATUS_120}};t.Z=function(e){var t,n,l;let{backSrc:o,frontSrc:m,size:_,isTyping:C,status:I,style:x,className:T,...N}=e,{size:v}=c.AvatarSizeSpecs[_],{statusCoords:S,frontAvatarOffsetPx:Z,frontAvatarSizePx:A,backAvatarSizePx:M}=a.useMemo(()=>{var e;let t="".concat(v,"-").concat(C);return null!==(e=p[t])&&void 0!==e?e:function(e,t,n){let i=c.AvatarSizeSpecs[e],a=i.size/(d.z3+d.o),l=a*d.z3,s=a*d.o,o={statusCoords:(0,r.Vq)(i,c.StatusTypes.ONLINE,!1,t),frontAvatarSizePx:l,backAvatarSizePx:a,frontAvatarOffsetPx:s,frontAvatarCenter:s+l/2};return p[n]=o,o}(_,C,t)},[v,C,_]);let b=(t=null!=I,n=C,l=_,n?g[l].typing:t?g[l].status:g[l].default);return(0,i.jsxs)("div",{style:{width:v,height:v,...x},"aria-label":N["aria-label"],"aria-hidden":N["aria-hidden"],className:s()(h.container,T),children:[(0,i.jsxs)(u.ZP,{mask:b,height:v,width:v,children:[(0,i.jsx)("img",{src:o,alt:"",width:M,height:M}),(0,i.jsx)("div",{style:{position:"absolute",top:Z,left:Z},children:(0,i.jsx)(E,{src:m,size:A,isTyping:C,status:I})})]}),(0,i.jsx)(f,{statusCoords:S,status:I,isTyping:C})]})}},499371:function(e,t,n){var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(481060),o=n(285952),c=n(548380),u=n(331651);class d extends a.PureComponent{render(){let{title:e,description:t,agreement:n,disagreement:a,onAgree:l,onDisagree:d,imageClassName:h}=this.props;return(0,i.jsxs)(o.Z,{className:c.gatedContent,justify:o.Z.Justify.CENTER,align:o.Z.Align.CENTER,direction:o.Z.Direction.VERTICAL,children:[(0,i.jsx)("div",{className:s()(c.image,h)}),(0,i.jsx)("div",{className:s()(c.title,u.marginBottom8),children:e}),(0,i.jsx)("div",{className:s()(c.description,u.marginBottom20),children:t}),(0,i.jsxs)(o.Z,{justify:o.Z.Justify.CENTER,align:o.Z.Align.CENTER,grow:0,children:[null!=a?(0,i.jsx)(r.Button,{className:c.action,size:r.ButtonSizes.LARGE,color:r.ButtonColors.PRIMARY,onClick:d,children:a}):null,null!=n?(0,i.jsx)(r.Button,{className:c.action,color:r.Button.Colors.RED,size:r.ButtonSizes.LARGE,onClick:l,children:n}):null]})]})}}t.Z=d},486458:function(e,t,n){n.d(t,{ZP:function(){return T},cy:function(){return a},iu:function(){return i}}),n(47120);var i,a,l,s,r,o=n(735250),c=n(470079),u=n(120356),d=n.n(u),h=n(780384),p=n(481060),m=n(626135),_=n(792125),f=n(285952),E=n(981631),g=n(689938),C=n(634642);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(s=i||(i={})).CENTER="center",s.LEFT="left",(r=a||(a={})).TOP="top",r.MIDDLE="middle";class x extends c.PureComponent{componentDidMount(){let{uniqueId:e}=this.props;m.default.track(E.rMx.SHOW_TUTORIAL,{tutorial:e})}componentWillUnmount(){m.default.track(E.rMx.CLOSE_TUTORIAL,{tutorial:this.props.uniqueId,acknowledged:this.state.confirmed})}render(){let{renderMedia:e,textAlign:t,isLongText:n,title:i,body:a,className:l,forceTheme:s,onClickSkipAll:r}=this.props,c="left"===t||n,u="center"===t||!c;return(0,o.jsxs)(p.Dialog,{className:d()(C.popoutRoot,l),children:[null!=e&&(0,o.jsx)(f.Z,{className:C.mediaContainer,justify:c?f.Z.Justify.START:f.Z.Justify.CENTER,children:e()}),(0,o.jsx)(p.H,{className:d()({[C.titleCenter]:u,[C.titleLeft]:c}),children:i}),(0,o.jsx)("string"==typeof a?"p":"div",{className:d()({[C.bodyCenter]:u,[C.bodyLeft]:c}),children:a}),(0,o.jsxs)(f.Z,{className:C.buttonContainer,justify:c?f.Z.Justify.BETWEEN:f.Z.Justify.CENTER,children:[(0,o.jsx)(p.Button,{size:p.ButtonSizes.SMALL,onClick:this.handleDismiss,children:g.Z.Messages.TUTORIAL_CLOSE}),(0,o.jsx)(p.Button,{size:p.ButtonSizes.SMALL,look:p.Button.Looks.BLANK,onClick:r,color:(0,h.ap)(s)?p.Button.Colors.PRIMARY:p.Button.Colors.WHITE,className:c?C.buttonSkipLeftAlign:C.buttonSkipCenterAlign,children:g.Z.Messages.SKIP_ALL_TIPS})]})]})}constructor(...e){super(...e),I(this,"state",{confirmed:!1}),I(this,"handleDismiss",()=>{let{onClickComplete:e}=this.props;this.setState({confirmed:!0},()=>null==e?void 0:e())})}}class T extends(l=c.PureComponent){render(){let{renderMedia:e,textAlign:t,onComplete:n,onSkipAll:i,isLongText:a,title:l,body:s,children:r,spacing:c,forceTheme:u,...d}=this.props,h="top"===d.position||"bottom"===d.position?"center":"top";return(0,o.jsx)(p.Popout,{...d,align:h,spacing:null!=c?c:0,renderPopout:this.renderPopoutContent,nudgeAlignIntoViewport:!0,children:r})}constructor(...e){super(...e),I(this,"onClickComplete",e=>{e(),this.props.onComplete()}),I(this,"onClickSkipAll",e=>{let{onSkipAll:t,uniqueId:n}=this.props;e(),t(),m.default.track(E.rMx.DISMISS_ALL_TUTORIALS,{tutorial:n})}),I(this,"renderPopoutContent",e=>{let{closePopout:t,position:n}=e,{forceTheme:i,isLongText:a,arrowAlignment:l,renderMedia:s}=this.props,r=null!=s;return(0,o.jsx)(x,{...this.props,className:d()({[C.bottom]:"bottom"===n,[C.contentNarrowNoMedia]:!a&&!r,[C.contentNarrowWithMedia]:!a&&r,[C.contentWideNoMedia]:a&&!r,[C.contentWideWithMedia]:a&&r,[C.right]:"right"===n,[C.top]:"top"===n,[C.left]:"left"===n,[C.arrowAlignmentTop]:"top"===l,[C.arrowAlignmentMiddle]:"middle"===l,"force-theme":null!=i},(0,_.Q)(i)),onClickComplete:()=>this.onClickComplete(t),onClickSkipAll:()=>this.onClickSkipAll(t)})})}}I(T,"TextAlignments",i),I(T,"defaultProps",{textAlign:"left"})},199052:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(695464),o=n(459);let c=16/9;function u(e,t){return Math.max(1,Math.floor((t-e)/(8+e))+1)}function d(e,t,n){let i=t-e;for(;i>0;){let t=e,a=Math.floor(i/2);n(t+=a)?(e=t+1,i-=a+1):i=a}return e}function h(e){var t;let{className:n,children:l,keyExtractor:h,paddingTop:p=0,paddingBottom:m=0}=e,[_,f]=a.useState({width:0,height:0}),{width:E,height:g}=_,C=null!==(t=null==l?void 0:l.length)&&void 0!==t?t:0,I=E-16,x=g-(p+m),{tileStyle:T,tileWidth:N,rows:v,columns:S}=a.useMemo(()=>(function(e,t,n){let{rows:i,columns:a,tileWidth:l}=function(e,t,n){let i;let a=Math.floor(t/25);i=e>25?d(a,t,e=>{let i=u(e,t),a=function(e,t){let n=e/c;return Math.ceil((t-n)/(8+n))+1}(e,n);return i*a>25}):d(a,t,i=>{let a=u(i,t),l=function(e,t){let n=e/c;return Math.floor((t-n)/(8+n))+1}(i,n);return a*l>=e})-1;let l=u(i,t),s=Math.ceil(e/l);return{tileWidth:i,columns:Math.max(1,l),rows:s}}(e,t,n);return{tileStyle:{width:l},tileWidth:l,rows:i,columns:a}})(C,I,x),[C,I,x]),Z=S+1,A=Z*N+(Z-1)*8<=E,M=Math.floor(N/c)+8,b=Math.max(0,x-M*v)/2;return(0,i.jsx)(r.Z,{fade:!0,className:n,listPadding:[p+b,0,m+b-8,8],renderRow:function(e){var t;let n=e*S;return(0,i.jsx)("div",{className:o.row,children:null==l?void 0:null===(t=l.slice(n,n+S))||void 0===t?void 0:t.map((e,t)=>{var a;let l=n+t;return(0,i.jsx)("div",{style:T,className:s()(o.tile,{[o.padColumn]:A,[o.noVerticalMargin]:l>=(v-1)*S,[o.noHorizontalMargin]:(l+1)%S==0||l===C-1}),children:(0,i.jsx)("div",{className:o.tileSizer,children:e(N)})},null!==(a=null==h?void 0:h(l))&&void 0!==a?a:l)})},e)},rowCount:v,rowCountBySection:[v],rowHeight:M,onResize:f})}},40300:function(e,t,n){n.d(t,{L:function(){return i}}),n(47120);var i,a,l=n(735250),s=n(470079),r=n(120356),o=n.n(r),c=n(481060),u=n(763520),d=n(153066),h=n(583830);(a=i||(i={})).CONTAIN="contain",a.COVER="cover";let p=s.memo(function(e){let{streamId:t,onResize:n,wrapperClassName:i,videoComponent:a,className:r,fit:p="contain",mirror:m=!1,paused:_=!1,streamPreviewURL:f,videoSpinnerContext:E,userId:g}=e,[C,I]=s.useState(!0),[x]=s.useState(()=>new u.o("VideoStream"));s.useEffect(()=>{!_&&(C?x.onSpinnerStarted():null!=t&&x.trackSpinnerDuration(E,g,t))},[C,_,t,x,E,g]);let T=s.useCallback(()=>{I(!1)},[]);return(0,l.jsxs)("div",{className:o()(h.wrapper,i),children:[null!=t&&(0,l.jsx)(a,{className:o()(h.video,(0,d.l)(h,"video",p),{[h.mirror]:m},r),streamId:t,onResize:n,onReady:T,paused:_}),_?null:(0,l.jsx)("div",{className:o()(h.previewWrapper,{[h.loading]:C}),children:C&&(0,l.jsxs)(s.Fragment,{children:[null!=f?(0,l.jsx)("img",{src:f,alt:"",className:h.previewImage}):(0,l.jsx)("div",{className:h.emptyPreviewWrapper,children:(0,l.jsx)("div",{className:h.emptyPreview})}),(0,l.jsx)(c.Spinner,{className:h.spinner})]})})]})});t.Z=p},627553:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250),a=n(470079),l=n(772848),s=n(325767);function r(e){let{width:t=16,height:n=16,color:r="currentColor",foreground:o,background:c,...u}=e,d=a.useRef((0,l.Z)());return(0,i.jsxs)("svg",{...(0,s.Z)(u),width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsxs)("g",{"clip-path":"url(".concat(d.current,")"),children:[(0,i.jsx)("path",{className:c,fill:r,fillRule:"evenodd",clipRule:"evenodd",d:"M2 11.001C2 6.03838 6.0374 2.00098 11 2.00098C15.9626 2.00098 20 6.03838 20 11.001L19.9998 11.0656C19.6455 11.0286 19.2787 11.0545 18.9141 11.152L16 11.9309V10H12V6H10V10H6V12H10V16H12V12H15.7414L14.8983 12.2253C13.2976 12.6532 12.3468 14.2976 12.7747 15.8983L13.25 17.6767V19.7163C12.5306 19.9021 11.7766 20.001 11 20.001C6.0374 20.001 2 15.9636 2 11.001Z"}),(0,i.jsx)("path",{className:o,fill:r,fillRule:"evenodd",clipRule:"evenodd",d:"M23.9427 15.2691L23.387 13.1944C23.1569 12.335 22.274 11.825 21.415 12.0553L15.1938 13.723C14.3349 13.9533 13.8251 14.8366 14.0553 15.696L14.5014 17.3618L14.4968 18.4357L14.4968 21.3891C14.4968 22.2788 15.2177 23 16.107 23L22.5477 23C23.4369 23 24.1578 22.2788 24.1578 21.3891V18.1673H16.107L16.1362 17.3618L23.9427 15.2691ZM19.5725 15.3288L18.0491 15.7372L18.0212 14.0769L19.5446 13.6685L19.5725 15.3288ZM20.6413 15.0423L22.628 14.5097L22.3502 13.4723C22.2735 13.1859 21.9792 13.0159 21.6928 13.0926L20.6134 13.382L20.6413 15.0423ZM16.9524 14.3634L16.9803 16.0237L15.37 16.4554L15.0921 15.418C15.0154 15.1316 15.1853 14.8371 15.4716 14.7604L16.9524 14.3634Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:d.current,children:(0,i.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})}},38761:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var a=n(325767);function l(e){let{width:t=16,height:n=16,color:l="currentColor",foreground:s,background:r,...o}=e;return(0,i.jsx)("svg",{...(0,a.Z)(o),width:t,height:n,viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{className:r,fill:l,fillRule:"nonzero",d:"M22.031 12.665c-.923-.4338-1.9384-.665-2.9778-.665-.695 0-1.3663.1013-2 .29V11h-4V7h-2v4h-4v2h4v4h1.29c-.1887.6337-.29 1.305-.29 2 0 1.0394.2312 2.055.665 2.978-.2207.0146-.4424.022-.665.022-2.6522 0-5.1957-1.0536-7.071-2.929C3.1067 17.1958 2.053 14.6523 2.053 12c0-5.5228 4.4772-10 10-10 2.6522 0 5.1957 1.0536 7.071 2.929 1.8754 1.8753 2.929 4.4188 2.929 7.071 0 .2225-.0074.4443-.022.665zM15.4457 13c-.9793.59-1.8023 1.413-2.3924 2.3924V13h2.3924z"}),(0,i.jsx)("path",{className:s,fill:l,d:"M19.0532 14c1.326 0 2.598.5268 3.5355 1.4645.9377.9376 1.4645 2.2094 1.4645 3.5355 0 1.326-.5268 2.598-1.4645 3.5355C21.651 23.4732 20.3793 24 19.0532 24c-1.326 0-2.5978-.5268-3.5355-1.4645C14.58 21.598 14.0532 20.326 14.0532 19c0-2.7614 2.2386-5 5-5zm-1 7l3-2-3-2v4z"})]})})}},908841:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var a=n(325767);function l(e){let{width:t=20,height:n=20,color:l="currentColor",...s}=e;return(0,i.jsx)("svg",{...(0,a.Z)(s),width:t,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M10 0C4.47715 0 0 4.47715 0 10C0 15.5228 4.47715 20 10 20C15.5228 20 20 15.5228 20 10C20 7.34784 18.9464 4.8043 17.0711 2.92893C15.1957 1.05357 12.6522 0 10 0ZM14.5625 14.4375C14.3791 14.7161 14.0145 14.8107 13.7188 14.6562C11.375 13.2188 8.40625 12.9062 4.9375 13.6875C4.71979 13.7377 4.49182 13.668 4.33945 13.5046C4.18709 13.3412 4.13348 13.1089 4.19883 12.8952C4.26417 12.6816 4.43854 12.519 4.65625 12.4688C8.46875 11.5938 11.7188 11.9688 14.375 13.5938C14.5149 13.6781 14.6141 13.816 14.6495 13.9755C14.685 14.1349 14.6535 14.3019 14.5625 14.4375ZM15.8125 11.6875C15.7053 11.8622 15.5328 11.9869 15.3333 12.0338C15.1338 12.0807 14.9238 12.0461 14.75 11.9375C12.0625 10.2812 7.96875 9.8125 4.78125 10.7812C4.5133 10.8594 4.22401 10.7887 4.02236 10.5957C3.8207 10.4027 3.73731 10.1168 3.80361 9.84569C3.8699 9.57457 4.0758 9.3594 4.34375 9.28125C7.96875 8.1875 12.5 8.71875 15.5625 10.625C15.9134 10.8575 16.0229 11.3229 15.8125 11.6875ZM15.9062 8.875C12.6875 6.96875 7.375 6.78125 4.28125 7.71875C3.81691 7.79284 3.36952 7.5115 3.23513 7.0609C3.10074 6.61031 3.32093 6.12986 3.75 5.9375C7.28125 4.875 13.1562 5.0625 16.875 7.28125C17.0893 7.40709 17.2434 7.61436 17.3023 7.85577C17.3612 8.09717 17.3198 8.35214 17.1875 8.5625C16.9054 8.98221 16.3499 9.1177 15.9062 8.875Z",fill:l})})}},311888:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var a=n(325767);function l(e){let{width:t=32,height:n=32,color:l="currentColor",foreground:s,...r}=e;return(0,i.jsxs)("svg",{...(0,a.Z)(r),width:t,height:n,viewBox:"0 0 32 32",children:[(0,i.jsx)("rect",{width:"32",height:"32",rx:"16",fill:l}),(0,i.jsx)("path",{d:"M23 9.99995C19.56 9.99995 16.826 6.43495 16.799 6.39795C16.421 5.89795 15.579 5.89795 15.201 6.39795C15.174 6.43495 12.44 9.99995 9 9.99995C8.447 9.99995 8 10.4479 8 10.9999V17.9999C8 21.8069 14.764 25.4779 15.534 25.8839C15.68 25.9609 15.84 25.9979 16 25.9979C16.16 25.9979 16.32 25.9599 16.466 25.8839C17.236 25.4779 24 21.8069 24 17.9999V10.9999C24 10.4479 23.553 9.99995 23 9.99995ZM19 19.9999L16 17.9999L13 19.9999L14 16.9999L12 14.9999H15L16 11.9999L17 14.9999H20L18 16.9999L19 19.9999Z",className:s})]})}},277048:function(e,t,n){var i=n(735250),a=n(470079),l=n(120356),s=n.n(l),r=n(653603),o=n.n(r),c=n(442837),u=n(481060),d=n(904245),h=n(232961),p=n(223606),m=n(453687),_=n(63063),f=n(727779),E=n(113039),g=n(534761),C=n(981631),I=n(689938),x=n(613541),T=n(622322),N=n(250050);let v=a.memo(function(e){let{message:t,notice:n,compact:a=!1,onDismiss:l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:s()(x.blockedNoticeContainer,{[x.compact]:a}),children:[(0,i.jsx)("div",{className:x.blockedNoticeIcon,children:(0,i.jsx)(u.ShieldIcon,{size:"xs",color:"currentColor",className:x.shieldIcon})}),(0,i.jsx)("div",{className:x.blockedNotice,children:(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"interactive-normal",children:n})})]}),(0,i.jsx)("div",{className:s()(x.ephemeralAccessories,{[x.compact]:a}),children:(0,i.jsx)(f.Z,{message:t,onDeleteMessage:l,children:(0,i.jsx)(u.Text,{variant:"text-xs/normal",color:"interactive-normal",tag:"span",className:x.learnMore,children:I.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_LEARN_MORE.format({helpUrl:_.Z.getArticleURL(C.BhN.GUILD_AUTOMOD_BLOCKED_MESSAGE)})})})})]})});t.Z=a.memo(function(e){var t,n;let{className:l,compact:r,message:u,children:_,content:f,onUpdate:C}=e,S=null===(t=u.editedTimestamp)||void 0===t?void 0:t.toString(),Z=a.useRef(!1),A=(0,c.e7)([p.Z],()=>p.Z.getMessage(u.id),[u.id]),M=a.useCallback(()=>{(null==A?void 0:A.isBlockedEdit)?(0,h.I)(u.id):d.Z.deleteMessage(u.channel_id,u.id,!0)},[u,A]);return a.useLayoutEffect(()=>{Z.current?null!=C&&C():Z.current=!0},[C,u.content,f,S,_]),(0,i.jsxs)("div",{id:(0,m.ut)(u),className:s()(l,T.markup,{[N.messageContent]:!0,[N.markupRtl]:"rtl"===o()(u.content),[x.blockedEdit]:null==A?void 0:A.isBlockedEdit,[x.blockedSend]:!(null==A?void 0:A.isBlockedEdit)}),children:[null!=_?_:(0,E.L5)(u,f),(null==A?void 0:A.isBlockedEdit)&&null!=u.timestamp&&(0,i.jsxs)(i.Fragment,{children:[" ",(0,i.jsx)(g.Z,{timestamp:u.timestamp,isEdited:!0,isInline:!1,children:(0,i.jsxs)("span",{className:N.edited,children:["(",I.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_EDIT_POSTFIX,")"]})})]}),(0,i.jsx)(v,{notice:null!==(n=null==A?void 0:A.errorMessage)&&void 0!==n?n:I.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_SEND_NOTICE,message:u,compact:r,onDismiss:M})]})},E.HR)},703316:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(735250),a=n(470079),l=n(925975),s=n(957730),r=n(981631),o=n(689938),c=n(777282);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){e.stopPropagation()}class h extends a.PureComponent{render(){let{className:e,textValue:t,richValue:n,message:a,channel:l,onCancel:s,children:r}=this.props;return(0,i.jsxs)("div",{className:e,ref:this.node,onContextMenu:d,children:[r({textValue:t,richValue:n,message:a,channel:l,onChange:this.onChange,onSubmit:this.onSubmit,onKeyDown:this.onKeyDown}),(0,i.jsx)("div",{className:c.operations,children:o.Z.Messages.EDIT_TEXTAREA_HELP.format({onCancel:()=>s(l.id),onSave:this.onClickSave})})]})}constructor(...e){super(...e),u(this,"node",a.createRef()),u(this,"onClickSave",()=>{let{textValue:e}=this.props;this.onSubmit(e)}),u(this,"onSubmit",e=>{let{message:t,channel:n,onConfirmDelete:i,onCancel:a,saveMessage:r,validateEdit:o}=this.props;return 0===e.length?(i(n,t),a(n.id),Promise.resolve({shouldClear:!1,shouldRefocus:!1})):o({value:e,channel:n}).then(t=>{let{valid:i}=t;if(!i)return Promise.resolve({shouldClear:!1,shouldRefocus:!1});let o=(0,l.g)(e,{channel:n,isEdit:!0});(null==o?void 0:o.content)!=null&&(e=o.content);let c=s.ZP.parse(this.props.channel,e);return c.content!==this.props.message.content&&r(this.props.channel.id,this.props.message.id,c),a(n.id),Promise.resolve({shouldClear:!0,shouldRefocus:!0})})}),u(this,"onChange",(e,t,n)=>{let{channel:i,onChange:a}=this.props;a(i.id,t,n)}),u(this,"onKeyDown",e=>{if(e.keyCode===r.yXg.ESCAPE&&!e.shiftKey){let{channel:t,onCancel:n}=this.props;e.preventDefault(),e.stopPropagation(),n(t.id)}})}}},38371:function(e,t,n){n.d(t,{M9:function(){return g},Pb:function(){return E},XX:function(){return _},ZP:function(){return C},ZT:function(){return h},iv:function(){return f},pk:function(){return m}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(392711),r=n.n(s),o=n(481060),c=n(230953);function u(e){return"".concat(e/16,"rem")}function d(){return(0,i.jsx)("div",{className:c.avatar,style:{opacity:.08}})}function h(e){let{width:t,opacity:n,className:a}=e;return(0,i.jsx)("div",{className:l()(a,{[c.blob]:!0}),style:{width:u(t),opacity:null!=n?n:r().random(.02,.08)}})}function p(e){let t,{groupStart:n=!1,compact:a=!1,attachmentSpecs:s,usernameWidth:u,usernameOpacity:p,className:m,style:_}=e,f=a?50:r().random(40,50);return!a&&n?t=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d,{}),(0,i.jsx)(o.H,{className:c.header,children:(0,i.jsx)(h,{width:u,opacity:p,className:c.__invalid_username})})]}):a&&(t=(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsx)(h,{width:f,className:l()({[c.compactTimestamp]:!0,[c.hidden]:!n})}),(0,i.jsx)(o.H,{className:c.header,children:(0,i.jsx)(h,{width:u,opacity:p})})]})),(0,i.jsxs)("div",{"aria-hidden":!0,className:l()(m,{[c.wrapper]:!0,[c.compact]:a,[c.cozy]:!a}),style:_,children:[(0,i.jsxs)("div",{className:c.contents,children:[t,(0,i.jsx)("div",{className:c.content,children:Array(r().random(3,8)).fill(null).map(()=>r().random(30,80)).map((e,t)=>(0,i.jsx)(h,{width:e,opacity:.06},t))})]}),null!=s&&(0,i.jsx)("div",{className:c.attachmentContainer,children:(0,i.jsx)("div",{className:c.attachment,style:{opacity:.03,...s}})})]})}let m=44,_=22,f=26,E=26,g=6;function C(e){let{messages:t,groupSpacing:n=0,compact:a=!1,attachmentSpecs:l,className:s}=e,o=null!=l?l.last?t-1:r().random(0,t-1):-1,c=r().random(80,120),d=r().random(.1,.2);return(0,i.jsx)(i.Fragment,{children:Array(t).fill(null).map((e,t)=>(0,i.jsx)(p,{compact:a,className:s,usernameWidth:c,usernameOpacity:d,groupStart:0===t,attachmentSpecs:t===o?l:void 0,style:0===t?{marginTop:u(n)}:void 0},t))})}},183156:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(481060),r=n(52736),o=n(224503);function c(e){let{className:t,roleColor:n,roleName:a,hasRemoveIcon:c=!1,onClick:u,disabled:d=!1,verified:h=!1}=e;return(0,i.jsx)(s.Button,{className:l()(t,o.button),look:s.Button.Looks.BLANK,size:s.Button.Sizes.NONE,onClick:u,disabled:d,children:(0,i.jsx)(r.Z,{className:o.role,roleColor:n,roleName:a,verified:h,children:c&&(0,i.jsx)(s.CloseSmallIcon,{size:"custom",color:"currentColor",height:6,width:6,className:o.removeRole,colorClass:o.removeRoleIcon})})})}},52736:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(120356),l=n.n(a),s=n(134433),r=n(461124);function o(e){let t,{className:n,children:a,verified:o,roleColor:c,roleName:u}=e;return t=o?(0,i.jsx)(s.Z,{size:12,color:c,className:r.linkedRoleColor}):(0,i.jsx)("div",{className:r.roleColor,style:{backgroundColor:c}}),(0,i.jsxs)("div",{className:l()(n,r.role),children:[t,u,a]})}},805009:function(e,t,n){n.d(t,{e:function(){return A}}),n(653041),n(789020),n(47120);var i,a=n(735250),l=n(470079),s=n(120356),r=n.n(s),o=n(481060),c=n(434650),u=n(657305),d=n(367907),h=n(282256),p=n(833858),m=n(223135),_=n(366695),f=n(374129),E=n(639351),g=n(368666),C=n(630388),I=n(51144),x=n(981631),T=n(354459),N=n(927923),v=n(689938),S=n(711212);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let A=e=>{let{children:t,collapsed:n=!1,className:i}=e;return(0,a.jsx)("div",{className:r()(i,S.list,n?S.listCollapse:S.listDefault),role:"group",children:t})},M=e=>{let{hangStatusActivity:t,iconClassName:n,isSelf:i}=e;return i&&null==t?(0,a.jsx)(o.TooltipContainer,{className:S.iconSpacing,text:v.Z.Messages.HANG_STATUS_VC_ROW_ADD,children:(0,a.jsx)(o.PlusLargeIcon,{className:r()(S.icon,n)})},"add-status"):(0,a.jsx)(o.TooltipContainer,{className:S.iconSpacing,text:(0,p.O8)(t),children:(0,a.jsx)(m.Z,{hangStatusActivity:t,className:r()(S.hangStatusIcon,n)})},"hang-status")};class b extends(i=l.Component){renderPrioritySpeaker(){let{speaking:e,priority:t,collapsed:n,mute:i,serverMute:l}=this.props;return t&&!n?(0,a.jsx)(o.Tooltip,{text:v.Z.Messages.PRIORITY_SPEAKER,children:t=>(0,a.jsx)("div",{className:r()(S.iconPriortySpeaker,{[S.iconPriortySpeakerSpeaking]:!i&&!l&&e}),...t})}):null}renderAvatar(){let{speaking:e,user:t,size:n,avatarContainerClass:i,guildId:l}=this.props;return(0,a.jsx)("div",{className:r()(i,S.avatar,{[S.avatarLarge]:n===x.ipw.LARGE,[S.avatarSmall]:n===x.ipw.SMALL,[S.avatarSpeaking]:e}),style:{backgroundImage:"url(".concat(t.getAvatarURL(l,n===x.ipw.LARGE?38:24),")")}})}renderName(){let{nick:e,user:t,collapsed:n,speaking:i,userNameClassName:l,mute:s,serverMute:o,isGuest:c,isOverlay:u,guildId:d}=this.props,p=(0,a.jsxs)("div",{className:r()(l,{[S.username]:!0,[S.usernameSpeaking]:!s&&!o&&i}),children:[null!=e?e:I.ZP.getName(t),c?(0,a.jsxs)("span",{className:S.guestSuffix,children:["\xa0",v.Z.Messages.GUEST_NAME_SUFFIX]}):""]}),m={clan:t.clan,userId:t.id,contextGuildId:d,isOverlay:u,disableTooltip:!0,className:r()(S.clanTag,u&&S.isOverlay),profileViewedAnalytics:{source:u?x.jXE.OVERLAY:x.Sbl.VOICE_PANEL,tagUserId:t.id}};return!n||u?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(h.Z,{...m,children:p})}):null}renderIcons(){let{mute:e,localMute:t,localVideoDisabled:n,serverMute:i,deaf:l,serverDeaf:s,collapsed:c,video:d,isStreaming:h,disabled:p,isWatching:m,iconClassName:_,embeddedApplication:I,otherClientSessionType:Z,voicePlatform:A,hangStatusActivity:b,showHangStatus:L,isSelf:P,application:O,guildId:y,channelId:D,user:k,handleHoverHangStatus:U,handleHoverIcons:w,disconnected:B}=this.props;if(c||p)return null;let H=[],G=(0,a.jsx)(j,{iconClassName:_,mute:e,localMute:t,serverMute:i,deaf:l,serverDeaf:s});d&&(n?H.push((0,a.jsx)(o.TooltipContainer,{className:S.iconSpacing,text:v.Z.Messages.LOCAL_VIDEO_DISABLED,children:(0,a.jsx)(o.VideoSlashIcon,{size:"md",color:"currentColor",className:r()(S.icon,_),colorClass:S.strikethrough})},"video")):H.push((0,a.jsx)(o.TooltipContainer,{className:S.iconSpacing,text:v.Z.Messages.VIDEO,children:(0,a.jsx)(o.VideoIcon,{size:"md",color:"currentColor",className:r()(S.icon,_)})},"video"))),B&&H.push((0,a.jsx)(o.TooltipContainer,{className:S.iconSpacing,text:v.Z.Messages.NOTICE_USER_DISCONNECTED,children:(0,a.jsx)(o.CircleExclamationPointIcon,{className:r()(S.icon,_),color:o.tokens.colors.STATUS_WARNING_BACKGROUND})},"disconnected")),null!=I&&H.push((0,a.jsx)(o.TooltipContainer,{text:(0,u.Z)(I.name),className:S.iconSpacing,children:(0,a.jsx)(o.ActivitiesIcon,{size:"md",color:"currentColor",className:r()(S.icon,_)})},"activity")),Z===N.YE.XBOX||A===T.wR.XBOX?H.push((0,a.jsx)("div",{className:r()(S.iconSpacing),children:(0,a.jsx)(E.Z,{className:r()(S.icon,_)})},"xbox")):(Z===N.YE.PLAYSTATION||A===T.wR.PLAYSTATION)&&H.push((0,a.jsx)("div",{className:r()(S.iconSpacing),children:(0,a.jsx)(f.Z,{className:r()(S.icon,_)})},"playstation")),h?H.push((0,a.jsx)("div",{className:r()(S.iconSpacing,S.liveIconSpacing),children:(0,a.jsx)(g.ZP,{size:g.ZP.Sizes.SMALL})},"stream")):m&&H.push((0,a.jsx)(o.TooltipContainer,{className:S.iconSpacing,text:v.Z.Messages.WATCH_STREAM_WATCHING,children:(0,a.jsx)(o.EyeIcon,{size:"xs",color:"currentColor",className:r()(S.icon,_)})},"watch"));let V=null!=O&&!(0,C.yE)(O.flags,x.udG.EMBEDDED),F=null==b&&V;return 0!==H.length||null!=G||L||F?(0,a.jsxs)("div",{className:S.icons,children:[(0,a.jsxs)("div",{className:S.iconGroup,onMouseEnter:()=>null==w?void 0:w(!0),onMouseLeave:()=>null==w?void 0:w(!1),children:[G,H]}),L||F?(0,a.jsx)("div",{className:S.iconGroup,onMouseEnter:()=>null==U?void 0:U(!0),onMouseLeave:()=>null==U?void 0:U(!1),children:F?(0,a.jsx)(R,{application:O,iconClassName:_,guildId:y,channelId:D,userId:k.id},"".concat(k.id,"-game")):(0,a.jsx)(M,{hangStatusActivity:b,iconClassName:_,isSelf:P})}):null]}):null}render(){let{onClick:e,onKeyDown:t,flipped:n,size:i,className:l,selected:s,disabled:c,overlap:u,"aria-label":d,tabIndex:h}=this.props;return(0,a.jsx)(o.Clickable,{className:r()(l,{[S.voiceUser]:!0,[S.overlap]:u,[S.selected]:s,[S.clickable]:null!=e,[S.userSmall]:i===x.ipw.SMALL,[S.userLarge]:i===x.ipw.LARGE,[S.disabled]:!s&&c}),onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onKeyDown:t,"aria-label":d,tabIndex:h,children:(0,a.jsxs)("div",{className:r()(S.content,{[S.flipped]:n}),children:[this.renderPrioritySpeaker(),this.renderAvatar(),this.renderName(),this.renderIcons()]})})}constructor(...e){super(...e),Z(this,"handleClick",e=>{let{onClick:t,user:n}=this.props;null==t||t(e,n)}),Z(this,"handleDoubleClick",e=>{let{onDoubleClick:t,user:n}=this.props;null==t||t(e,n)}),Z(this,"handleContextMenu",e=>{let{onContextMenu:t,user:n}=this.props;null==t||t(e,n)}),Z(this,"handleMouseLeave",e=>{let{onMouseLeave:t,user:n}=this.props;null==t||t(e,n)}),Z(this,"handleMouseEnter",e=>{let{onMouseEnter:t,user:n}=this.props;null==t||t(e,n)}),Z(this,"handleMouseDown",e=>{let{onMouseDown:t,user:n}=this.props;null==t||t(e,n)})}}function R(e){let{application:t,iconClassName:n,guildId:i,channelId:s,userId:u}=e,[h,p]=l.useState(!1),m=(0,c.O)(e=>p(e));return l.useEffect(()=>{h&&d.ZP.trackWithMetadata(x.rMx.VOICE_CHANNEL_GAME_ACTIVITY_INDICATOR_VIEWED,{channel_id:s,guild_id:i,user_id:u})},[t.id,s,i,u,h]),(0,a.jsx)(o.TooltipContainer,{text:v.Z.Messages.UNFORMATTED_PLAYING_GAME.format({game:t.name}),"aria-label":v.Z.Messages.UNFORMATTED_PLAYING_GAME.format({game:t.name}),className:S.iconSpacing,children:(0,a.jsx)("div",{ref:m,children:(0,a.jsx)(_.Z,{className:r()(S.icon,n),game:t,size:_.Z.Sizes.XSMALL,onMouseEnter:()=>{d.ZP.trackWithMetadata(x.rMx.VOICE_CHANNEL_GAME_ACTIVITY_INDICATOR_HOVERED,{channel_id:s,guild_id:i,game_name:t.name,user_id:u})}})})})}function j(e){let{iconClassName:t,mute:n,localMute:i,serverMute:l,deaf:s,serverDeaf:c}=e,u=(0,o.useRedesignIconContext)().enabled,d=[];if(n){let e;if(u){let n;n=l?o.MicrophoneDenyIcon:i?o.MicrophoneDenyIcon:o.MicrophoneSlashIcon,e=(0,a.jsx)(n,{className:r()(S.icon,t,{[S.iconServer]:l}),color:"currentColor"})}else e=(0,a.jsx)(o.MicrophoneSlashIcon,{size:"md",color:"currentColor",className:r()(S.icon,t,{[S.iconServer]:l}),colorClass:i?S.strikethrough:void 0});d.push((0,a.jsx)(o.TooltipContainer,{text:i?v.Z.Messages.LOCAL_MUTED:l?v.Z.Messages.SERVER_MUTED:v.Z.Messages.VOICE_CHANNEL_MUTED,className:S.iconSpacing,children:e},"mute"))}if(c||s){let e;if(u){let n=c?o.HeadphonesDenyIcon:o.HeadphonesSlashIcon;e=(0,a.jsx)(n,{className:r()(S.icon,t,{[S.iconServer]:c}),color:"currentColor"})}else e=(0,a.jsx)(o.HeadphonesSlashIcon,{size:"md",color:"currentColor",className:r()(S.icon,t,{[S.iconServer]:c})});d.push((0,a.jsx)(o.TooltipContainer,{className:S.iconSpacing,text:c?v.Z.Messages.SERVER_DEAFENED:v.Z.Messages.VOICE_CHANNEL_DEAFENED,children:e},"deaf"))}return 0===d.length?null:(0,a.jsx)(a.Fragment,{children:d})}Z(b,"defaultProps",{avatarContainerClass:S.avatarContainer,userNameClassName:S.usernameFont,size:x.ipw.SMALL,selected:!1,disabled:!1,isOverlay:!1}),t.Z=b},36645:function(e,t,n){n.d(t,{C:function(){return i},W:function(){return a}});let i=450,a=e=>{let{maxWidth:t}=e;return t<=i}},233870:function(e,t,n){n.d(t,{T:function(){return s}}),n(733860);var i=n(392711),a=n.n(i),l=n(823379);function s(e,t){return a()(e).map(t.getUser).unshift(t.getCurrentUser()).filter(l.lm).sortBy(e=>e.username.toLowerCase()).value()}},127654:function(e,t,n){n.d(t,{G:function(){return I},d:function(){return x}}),n(653041),n(47120),n(411104);var i=n(475179),a=n(166459),l=n(966390),s=n(531643),r=n(476326),o=n(367907),c=n(358221),u=n(117530),d=n(594174),h=n(626135),p=n(403182),m=n(74538),_=n(979956),f=n(981631),E=n(959517),g=n(474936),C=n(689938);function I(e,t){let n=d.default.getCurrentUser(),i=e.getGuildId(),a=p.dg(i),l=[],r=0,c=0,u=0,h=[];for(let e of t)u+=1,r+=e.size,l.push(e.size),e.size>c&&(c=e.size),null!=e.type?h.push(e.type):h.push("unknown");if(c>a){(0,o.yw)(f.rMx.FILE_SIZE_LIMIT_EXCEEDED,{channel_id:e.id,guild_id:i,user_individual_file_size_limit:a,pre_compression_file_sizes:l,pre_compression_aggregate_file_size:r,num_attachments:u,error_type:E.xi.UPLOAD_ATTACHMENT_MAX_SIZE_ERROR,attachment_mimetypes:h}),(0,s.openUploadError)({title:C.Z.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:(0,_.BK)(n,i),showPremiumUpsell:!(0,m.M5)(n,g.p9.TIER_2),fileSize:c});return}(0,s.openUploadError)({title:C.Z.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:C.Z.Messages.UPLOAD_AREA_REQUEST_LIMIT_HELP.format({maxSize:p.Ng(p.OC())})})}function x(e,t,n){let{filesMetadata:o,requireConfirm:d=!0,showLargeMessageDialog:p=!1,isThumbnail:m=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e.length<1)return;if(null!=o&&o.length!==e.length)throw Error("Unexpected mismatch between files and file metadata");let E=t.getGuildId();if((0,_.Bf)(e,E)){I(t,e);return}if(u.Z.getUploadCount(t.id,n)+e.length>f.dN1){(0,s.openUploadError)({title:C.Z.Messages.ATTACHMENT_TOO_MANY_ERROR_TITLE,help:C.Z.Messages.ATTACHMENT_TOO_MANY_ERROR_MESSAGE.format({limit:f.dN1})}),h.default.track(f.rMx.UPLOAD_FILE_LIMIT_ERROR,{existing_count:u.Z.getUploadCount(t.id,n),new_count:e.length});return}if((t.type===f.d4z.GUILD_VOICE||t.type===f.d4z.GUILD_STAGE_VOICE)&&!c.Z.getChatOpen(t.id)&&i.Z.updateChatOpen(t.id,!0),d){let i=Array.from(e).map((e,t)=>({file:e,platform:r.ow.WEB,isThumbnail:m,...null==o?void 0:o[t]}));a.Z.addFiles({files:i,channelId:t.id,showLargeMessageDialog:p,draftType:n})}else l.Z.instantBatchUpload({channelId:t.id,files:e,draftType:n,isThumbnail:m,filesMetadata:o})}},979956:function(e,t,n){n.d(t,{BK:function(){return o},Bf:function(){return c},KZ:function(){return u}}),n(724458),n(653041);var i=n(476326),a=n(403182),l=n(74538),s=n(474936),r=n(689938);function o(e,t){let n=a.Ng(a.dg(t));return l.ZP.isPremium(e,s.p9.TIER_2)?r.Z.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:n}):l.ZP.isPremium(e,s.p9.TIER_1)?r.Z.Messages.UPLOAD_AREA_TOO_LARGE_HELP_PREMIUM_TIER_1.format({maxSize:n}):r.Z.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:n})}function c(e,t){return a.nA(e,t)||a.vY(e)}function u(e){return e.reduce((e,t)=>(t.item.platform===i.ow.WEB&&e.push(t.item.file),e),[])}},714319:function(e,t,n){n.d(t,{G:function(){return a},Z:function(){return s}});var i,a,l=n(536895);(i=a||(a={})).UPDATE_ITEM_COUNT="UPDATE_ITEM_COUNT",i.SET_FOCUSED_INDEX="SET_FOCUSED_INDEX";function s(e,t){var n,i,a,s,r,o,c;switch(t.type){case l.Us.NAVIGATE_UP:;return i=0,{...n=e,focusedIndex:Math.max(0,n.focusedIndex-1)};case l.Us.NAVIGATE_DOWN:;return s=0,{...a=e,focusedIndex:Math.min(a.focusedIndex+1,a.itemCount-1)};case l.Us.NAVIGATE_START:;return r=0,{...e,focusedIndex:0};case l.Us.NAVIGATE_END:;return c=0,{...o=e,focusedIndex:o.itemCount-1};case"UPDATE_ITEM_COUNT":return function(e,t){let{itemCount:n}=t;return{...e,itemCount:n,focusedIndex:Math.min(n-1,e.focusedIndex)}}(e,t);case"SET_FOCUSED_INDEX":return function(e,t){let{index:n}=t;return{...e,focusedIndex:Math.max(0,Math.min(n,e.itemCount-1))}}(e,t);case l.Us.SELECT_FOCUSED_ITEM:break;default:console.warn("Listbox navigator was given an unhandled action ".concat(t.type))}return e}},837969:function(e,t,n){n.d(t,{ZP:function(){return d}}),n(47120);var i=n(470079),a=n(714319),l=n(536895),s=n(260866);let r=[l.R8.TAB,l.R8.UP,l.R8.DOWN];function o(e,t,n){return null!=n?"#".concat(e(t,n)):"#".concat(t)}function c(e){return document.querySelector(e)}function u(e){var t;null===(t=document.getElementById(e))||void 0===t||t.focus()}function d(e){let{navId:t,itemCount:n,focusedIndex:d=0,onSelect:h,setFocus:p,getNewFocusIndex:m,maintainFocusPosition:_=!0,includeSetSizes:f=!0,focusOnMount:E=!0,enabled:g=!0,onDispatch:C}=e,I=i.useCallback((e,t)=>{let n=(0,a.Z)(e,t);return null!=C&&C(e,n,t),n},[C]),[x,T]=i.useReducer(I,{focusedIndex:d,itemCount:n}),{itemCount:N,focusedIndex:v}=x,[S]=i.useState(()=>(0,s.P2)(T,16));return i.useEffect(()=>{T({type:a.G.UPDATE_ITEM_COUNT,itemCount:n})},[n]),function(e){let{navId:t,itemCount:n,focusedIndex:d,onSelect:h,setFocus:p=u,getNewFocusIndex:m,dispatch:_,maintainFocusPosition:f,includeSetSizes:E,focusOnMount:g,enabled:C,makeId:I=s.qR,getIndexFromId:x}=e,T=i.useRef(n),N=i.useRef(x);N.current=x,T.current=n;let v=i.useRef();i.useEffect(()=>{v.current=C},[C]);let[S,Z]=i.useState(!1),[A]=i.useState(()=>new s.$o(e=>()=>{let t=null!=N.current&&"string"==typeof e?N.current(e):e;"number"==typeof t&&!(t<0)&&_({type:a.G.SET_FOCUSED_INDEX,index:t})}));i.useEffect(()=>()=>A.clean(),[A]);let M=i.useCallback((e,t)=>{v.current&&p(e,t)},[p]),[b,R]=i.useState(!0);i.useEffect(()=>{if(b&&!g){R(!1);return}M(I(t,d),d)},[d]);let j=i.useCallback(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=null!=m?m(d):d;n!==d&&_({type:a.G.SET_FOCUSED_INDEX,index:n}),e&&M(I(t,n),n)},[I,d,m,_,t,M]),L=i.useCallback(e=>{if(!v.current)return;if(r.includes(e.key)&&!(e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)&&e.currentTarget===e.target){e.preventDefault(),e.stopPropagation(),j();return}let n=function(e){switch(e.key){case l.R8.ENTER:case l.R8.SPACE:return l.Us.SELECT_FOCUSED_ITEM;case l.R8.UP:return l.Us.NAVIGATE_UP;case l.R8.DOWN:return l.Us.NAVIGATE_DOWN;case l.R8.HOME:return l.Us.NAVIGATE_START;case l.R8.END:return l.Us.NAVIGATE_END}}(e);switch(n){case l.Us.NAVIGATE_UP:case l.Us.NAVIGATE_DOWN:case l.Us.NAVIGATE_START:case l.Us.NAVIGATE_END:e.preventDefault(),e.stopPropagation(),_({type:n});return;case l.Us.SELECT_FOCUSED_ITEM:var i;let a=c(o(I,t,d));if((null==(i=a)?void 0:i.ownerDocument.activeElement)!==i||e.repeat)return;if(e.preventDefault(),e.stopPropagation(),_({type:n}),null!=h){h(d);return}null==a||a.click()}},[I,t,_,d,j,h]),P=i.useCallback(()=>{S||Z(!0)},[S]),O=i.useCallback(()=>{if(!S)f?M(I(t,d),d):j(!0)},[I,t,M,f,S,d,j]),y=i.useCallback(e=>{if(!e.currentTarget.contains(e.relatedTarget))requestAnimationFrame(()=>{if(null==c(o(I,t,d))){M(t);return}Z(!1)})},[I,t,d,M]),D=i.useRef(null);i.useLayoutEffect(()=>{let e=D.current;if(null!=e)return e.addEventListener("focusin",P),e.addEventListener("focus",O),e.addEventListener("focusout",y),()=>{e.removeEventListener("focusin",P),e.removeEventListener("focus",O),e.removeEventListener("focusout",y)}},[O,P,y]);let k=i.useCallback(()=>({role:"list",tabIndex:S&&f?-1:0,id:t,onKeyDown:L,ref:D}),[t,S,L,f]),U=i.useCallback(e=>{let{index:n}=e;return{role:"listitem","aria-setsize":E?T.current:void 0,"aria-posinset":E?n+1:void 0,id:I(t,n),tabIndex:f&&n===d?0:-1,onFocus:A.get(null!=N.current?I(t,n):n)}},[I,t,d,f,A,E]);return i.useMemo(()=>({dispatch:_,getContainerProps:k,getItemProps:U}),[_,k,U])}({navId:t,itemCount:N,focusedIndex:v,dispatch:S,onSelect:h,setFocus:p,getNewFocusIndex:m,maintainFocusPosition:_,includeSetSizes:f,focusOnMount:E,enabled:g})}},317261:function(e,t,n){var i,a;n.d(t,{_:function(){return i}}),(a=i||(i={}))[a.AGGREGATE_RANGE_UNSPECIFIED=0]="AGGREGATE_RANGE_UNSPECIFIED",a[a.WEEK=1]="WEEK"},46319:function(e,t,n){e.exports={regionSelectPopout:"regionSelectPopout_ccb5ca",check:"check_ccb5ca",regionSelectName:"regionSelectName_ccb5ca"}},260505:function(e,t,n){e.exports={divider:"divider_b767ed",private:"private_b767ed",instructions:"instructions_b767ed",emptyState:"emptyState_b767ed",emptyStateHeader:"emptyStateHeader_b767ed",emptyStateIcon:"emptyStateIcon_b767ed",emptyStateIconContainer:"emptyStateIconContainer_b767ed",emptyStateStars:"emptyStateStars_b767ed",emptyStateSubtext:"emptyStateSubtext_b767ed"}},889328:function(e,t,n){e.exports={container:"container_f8b740",input:"input_f8b740",outer:"outer_f8b740"}},915301:function(e,t,n){e.exports={subHeader:"subHeader_a42405",preview:"preview_a42405",textArea:"textArea_a42405"}},924707:function(e,t,n){e.exports={spacing:"spacing_ddcc45",spacingTop:"spacingTop_ddcc45",message:"message_ddcc45"}},683993:function(e,t,n){e.exports={contentWarningPopout:"contentWarningPopout_fa823b",header:"header_fa823b",body:"body_fa823b",animation:"animation_fa823b",buttonWrapper:"buttonWrapper_fa823b",buttonContainer:"buttonContainer_fa823b",button:"button_fa823b",buttonHint:"buttonHint_fa823b",content:"content_fa823b",footer:"footer_fa823b",icon:"icon_fa823b"}},120841:function(e,t,n){e.exports={scroller:"scroller_fbb822",wrapper:"wrapper_fbb822",ageGatedImage:"ageGatedImage_fbb822"}},2314:function(e,t,n){e.exports={iframe:"iframe_a1527b",wrapper:"wrapper_a1527b",resizable:"resizable_a1527b",noChat:"noChat_a1527b",activityPanelContainer:"activityPanelContainer_a1527b",header:"header_a1527b",footer:"footer_a1527b",circularButton:"circularButton_a1527b",headerTitle:"headerTitle_a1527b",leaveButtonContainer:"leaveButtonContainer_a1527b",activityContainer:"activityContainer_a1527b",activityContainerNoMargin:"activityContainerNoMargin_a1527b",leaveActivityButton:"leaveActivityButton_a1527b",userAvatars:"userAvatars_a1527b",footerButtons:"footerButtons_a1527b",flex:"flex_a1527b",avatar:"avatar_a1527b"}},856230:function(e,t,n){e.exports={wrapper:"wrapper_ce502a",badge:"badge_ce502a"}},496:function(e,t,n){e.exports={container:"container_b572de",titleContainer:"titleContainer_b572de",titleLeft:"titleLeft_b572de",titleLeftIcon:"titleLeftIcon_b572de",titleRight:"titleRight_b572de",titleRightIcon:"titleRightIcon_b572de",activityContainer:"activityContainer_b572de",activitySuggestion:"activitySuggestion_b572de",wumpusRocketOuterContainer:"wumpusRocketOuterContainer_b572de",wumpusReducedMotion:"wumpusReducedMotion_b572de",wumpusRocketInnerContainer:"wumpusRocketInnerContainer_b572de",wumpusRocket:"wumpusRocket_b572de",poster:"poster_b572de",posterDivider:"posterDivider_b572de",clickableBanner:"clickableBanner_b572de"}},732436:function(e,t,n){e.exports={activityNewBadge:"activityNewBadge_b4a8cd",activityUpdatedBadge:"activityUpdatedBadge_b4a8cd",tooltip:"tooltip_b4a8cd"}},107667:function(e,t,n){e.exports={activityItemButtonInnerClass:"activityItemButtonInnerClass_ec77c5",activityItem:"activityItem_ec77c5",activityItem_13_11:"activityItem_13_11_ec77c5",activityItem_16_9:"activityItem_16_9_ec77c5",activitySuggestionImage:"activitySuggestionImage_ec77c5",activityAction:"activityAction_ec77c5",activityActionButton:"activityActionButton_ec77c5",activityActionButtonDanger:"activityActionButtonDanger_ec77c5",brokenImageIconWrapper:"brokenImageIconWrapper_ec77c5 activitySuggestionImage_ec77c5",overlayBadge:"overlayBadge_ec77c5",badgeContainer:"badgeContainer_ec77c5"}},616347:function(e,t,n){e.exports={dot:"dot_ccd671",maskPopout:"maskPopout_ccd671",maskSecondary:"maskSecondary_ccd671",maskBlack:"maskBlack_ccd671",alert:"alert_ccd671"}},208186:function(e,t,n){e.exports={loadingWrapper:"loadingWrapper_b3d00f wrapper_b3d00f"}},562910:function(e,t,n){e.exports={discordLogo:"discordLogo_b83a05",authBox:"authBox_b83a05",authBoxExpanded:"authBoxExpanded_b83a05 authBox_b83a05",centeringWrapper:"centeringWrapper_b83a05",title:"title_b83a05",subText:"subText_b83a05",pill:"pill_b83a05",pillOnline:"pillOnline_b83a05",pillMessage:"pillMessage_b83a05",pillIconTotal:"pillIconTotal_b83a05 pillIcon_b83a05",pillIconOnline:"pillIconOnline_b83a05 pillIcon_b83a05",pillFlat:"pillFlat_b83a05",joiningAs:"joiningAs_b83a05",joiningAsAvatar:"joiningAsAvatar_b83a05",joiningAsUsername:"joiningAsUsername_b83a05",spinnerVideo:"spinnerVideo_b83a05",image:"image_b83a05",block:"block_b83a05",button:"button_b83a05",linkButton:"linkButton_b83a05",inviteIcon:"inviteIcon_b83a05",inviteLargeIcon:"inviteLargeIcon_b83a05 inviteIcon_b83a05",downloadButtonSubtext:"downloadButtonSubtext_b83a05",inputError:"inputError_b83a05",description:"description_b83a05"}},528242:function(e,t,n){e.exports={menu:"menu_ce1f7d"}},549321:function(e,t,n){e.exports={wrapper:"wrapper_d880dc",normal:"normal_d880dc",minimum:"minimum_d880dc",video:"video_d880dc",noChat:"noChat_d880dc",chatSidebarOpen:"chatSidebarOpen_d880dc",fullScreen:"fullScreen_d880dc",popout:"popout_d880dc",poppedOut:"poppedOut_d880dc",callContainer:"callContainer_d880dc",leftTrayIcon:"leftTrayIcon_d880dc",rightTrayIcon:"rightTrayIcon_d880dc",viewersButton:"viewersButton_d880dc",iconWrapper:"iconWrapper_d880dc",volumeSlider:"volumeSlider_d880dc",badge:"badge_d880dc",headerWrapper:"headerWrapper_d880dc",channelChatWrapper:"channelChatWrapper_d880dc",chatToasts:"chatToasts_d880dc"}},254772:function(e,t,n){e.exports={avatar:"avatar_c7b3af",divider:"divider_c7b3af",participants:"participants_c7b3af",channelStatusClickable:"channelStatusClickable_c7b3af",channelStatus:"channelStatus_c7b3af",hoverable:"hoverable_c7b3af",subtitleContainer:"subtitleContainer_c7b3af",secureFramesIcon:"secureFramesIcon_c7b3af",pencilIcon:"pencilIcon_c7b3af",playingText:"playingText_c7b3af",container:"container_c7b3af",activityIcon:"activityIcon_c7b3af"}},605130:function(e,t,n){e.exports={button:"button_ae6b8e",divider:"divider_ae6b8e",speaker:"speaker_ae6b8e",last:"last_ae6b8e",chatButtonSpacer:"chatButtonSpacer_ae6b8e",lastButton:"lastButton_ae6b8e"}},603497:function(e,t,n){e.exports={root:"root_ff37c5",voiceUsers:"voiceUsers_ff37c5",header:"header_ff37c5",scroller:"scroller_ff37c5"}},144734:function(e,t,n){e.exports={resizeHandle:"resizeHandle_c0a559"}},330280:function(e,t,n){e.exports={root:"root_ea9cce",sprite:"sprite_ea9cce",participant:"participant_ea9cce",transition:"transition_ea9cce",spriteWrapper:"spriteWrapper_ea9cce"}},350983:function(e,t,n){e.exports={effectsWrapper:"effectsWrapper_efd99b",effects:"effects_efd99b"}},685782:function(e,t,n){e.exports={form:"form_ab60f4",modalHeader:"modalHeader_ab60f4",closeButton:"closeButton_ab60f4",headerImage:"headerImage_ab60f4",inputSection:"inputSection_ab60f4",title:"title_ab60f4",textArea:"textArea_ab60f4",error:"error_ab60f4",button:"button_ab60f4"}},407423:function(e,t,n){e.exports={actionBarButton:"actionBarButton_c2e612"}},549967:function(e,t,n){e.exports={voiceEffectsActionBar:"voiceEffectsActionBar_d7b7fd"}},175803:function(e,t,n){e.exports={chat:"chat_a7d72e",uploadArea:"uploadArea_a7d72e",threadSidebarOpen:"threadSidebarOpen_a7d72e",threadSidebarFloating:"threadSidebarFloating_a7d72e",form:"form_a7d72e",chatContent:"chatContent_a7d72e",cursorPointer:"cursorPointer_a7d72e",content:"content_a7d72e",noChat:"noChat_a7d72e",channelTextArea:"channelTextArea_a7d72e",avatar:"avatar_a7d72e",parentChannelName:"parentChannelName_a7d72e",title:"title_a7d72e",followButton:"followButton_a7d72e",guildBreadcrumbContainer:"guildBreadcrumbContainer_a7d72e",guildSidebar:"guildSidebar_a7d72e",guildBreadcrumbIcon:"guildBreadcrumbIcon_a7d72e",loader:"loader_a7d72e",forumPostTitle:"forumPostTitle_a7d72e",subtitleContainer:"subtitleContainer_a7d72e",secureFramesIcon:"secureFramesIcon_a7d72e"}},923756:function(e,t,n){e.exports={container:"container_d1c246",floating:"floating_d1c246",notFloating:"notFloating_d1c246",resizeHandle:"resizeHandle_d1c246",chatTarget:"chatTarget_d1c246 container_d1c246",chatLayerWrapper:"chatLayerWrapper_d1c246"}},279691:function(e,t,n){e.exports={container:"container_cbd271",membersWrap:"membersWrap_cbd271",members:"members_cbd271",member:"member_cbd271",membersGroup:"membersGroup_cbd271",hiddenMembers:"hiddenMembers_cbd271",memberGroupsPlaceholder:"memberGroupsPlaceholder_cbd271",roleIcon:"roleIcon_cbd271",fullWidth:"fullWidth_cbd271",appIconWrapper:"appIconWrapper_cbd271"}},96413:function(e,t,n){e.exports={wrapper:"wrapper_faf5ab",content:"content_faf5ab",image:"image_faf5ab",animation:"animation_faf5ab",text:"text_faf5ab",title:"title_faf5ab",button:"button_faf5ab",buttonContainer:"buttonContainer_faf5ab",innerButton:"innerButton_faf5ab",countdown:"countdown_faf5ab"}},574827:function(e,t,n){e.exports={container:"container_b47fac",content:"content_b47fac",splashImage:"splashImage_b47fac",splashHeader:"splashHeader_b47fac",splashText:"splashText_b47fac"}},676821:function(e,t,n){e.exports={noChannel:"noChannel_e1ef5f"}},796340:function(e,t,n){e.exports={clickableChannelTextArea:"clickableChannelTextArea_f487fa"}},371601:function(e,t,n){e.exports={emoji:"emoji_eb856f"}},992944:function(e,t,n){e.exports={modalRoot:"modalRoot_a0cc0d",button:"button_a0cc0d",header:"header_a0cc0d",headerSubtitle:"headerSubtitle_a0cc0d",alignCenter:"alignCenter_a0cc0d",headerSubtitleIcon:"headerSubtitleIcon_a0cc0d",content:"content_a0cc0d",searchBox:"searchBox_a0cc0d",roleMemberList:"roleMemberList_a0cc0d",addMemberRow:"addMemberRow_a0cc0d",selectedRow:"selectedRow_a0cc0d",rowBody:"rowBody_a0cc0d",checkboxLabel:"checkboxLabel_a0cc0d",rowHeight:"rowHeight_a0cc0d",rowLabel:"rowLabel_a0cc0d",rowLabelSubText:"rowLabelSubText_a0cc0d",sectionTitle:"sectionTitle_a0cc0d",noResultIcon:"noResultIcon_a0cc0d",description:"description_a0cc0d",scrollSeparator:"scrollSeparator_a0cc0d"}},747608:function(e,t,n){e.exports={searchBar:"searchBar_ac8310"}},840884:function(e,t,n){e.exports={buttonContainer:"buttonContainer_b8d344",button:"button_b8d344",iconUnhovered:"iconUnhovered_b8d344",iconHovered:"iconHovered_b8d344",buttonContents:"buttonContents_b8d344"}},719065:function(e,t,n){e.exports={wrapper:"wrapper_da5ed7",icon:"icon_da5ed7"}},81023:function(e,t,n){e.exports={attachWrapper:"attachWrapper_f298d4",attachButton:"attachButton_f298d4",attachButtonInner:"attachButtonInner_f298d4",attachButtonPlus:"attachButtonPlus_f298d4",attachButtonClip:"attachButtonClip_f298d4",attachButtonPlay:"attachButtonPlay_f298d4",uploadInput:"uploadInput_f298d4"}},627952:function(e,t,n){e.exports={animation:"animation_cb80ea",glow:"glow_cb80ea",circleLayer:"circleLayer_cb80ea",omniButton:"omniButton_cb80ea",trinkets:"trinkets_cb80ea"}},356195:function(e,t,n){e.exports={menu:"menu_ec5137",optionLabel:"optionLabel_ec5137",optionIcon:"optionIcon_ec5137",optionName:"optionName_ec5137",badge:"badge_ec5137"}},544954:function(e,t,n){e.exports={container:"container_db0691",overviewSidebarWrapper:"overviewSidebarWrapper_db0691",fullHeight:"fullHeight_db0691",signatureBlock:"signatureBlock_db0691",signatureText:"signatureText_db0691",overviewSidebarContent:"overviewSidebarContent_db0691",scrollContentContainer:"scrollContentContainer_db0691",signHintAnimationContainer:"signHintAnimationContainer_db0691",signContainerButton:"signContainerButton_db0691",signTextLeft:"signTextLeft_db0691",signButton:"signButton_db0691",signCarot:"signCarot_db0691",signCarotCustomColors:"signCarotCustomColors_db0691",signTextRight:"signTextRight_db0691",signHintHelperText:"signHintHelperText_db0691",clickable:"clickable_db0691",signHintContainer:"signHintContainer_db0691",noDisplay:"noDisplay_db0691",signatureBlockContainer:"signatureBlockContainer_db0691"}},595737:function(e,t,n){e.exports={modal:"modal_dffb36",content:"content_dffb36",infoSide:"infoSide_dffb36",titlesContainer:"titlesContainer_dffb36",title:"title_dffb36",subtitle:"subtitle_dffb36",clanTagChiplet:"clanTagChiplet_dffb36",scrollMainContainer:"scrollMainContainer_dffb36",scrollContentsContainer:"scrollContentsContainer_dffb36",gameSection:"gameSection_dffb36",charterHeaderText:"charterHeaderText_dffb36",charterBodyText:"charterBodyText_dffb36",establishedDate:"establishedDate_dffb36",ctaButton:"ctaButton_dffb36",ctaButtonSigned:"ctaButtonSigned_dffb36",ctaButtonInner:"ctaButtonInner_dffb36"}},457017:function(e,t,n){e.exports={previewSection:"previewSection_a7b6f0",chatPreview:"chatPreview_a7b6f0",previewText:"previewText_a7b6f0",userName:"userName_a7b6f0",fakeMessage:"fakeMessage_a7b6f0",divider:"divider_a7b6f0",settingSection:"settingSection_a7b6f0"}},492120:function(e,t,n){e.exports={wrapper:"wrapper_ac3456",toastContainerInner:"toastContainerInner_ac3456",hovered:"hovered_ac3456",guildIconContainer:"guildIconContainer_ac3456",icon:"icon_ac3456",guildTagContainer:"guildTagContainer_ac3456",guildClanTag:"guildClanTag_ac3456",toastButton:"toastButton_ac3456"}},118807:function(e,t,n){e.exports={content:"content_ac101f",fullHeight:"fullHeight_ac101f",innerContent:"innerContent_ac101f",contentAnimContainer:"contentAnimContainer_ac101f",container:"container_ac101f",heightContainer:"heightContainer_ac101f"}},256037:function(e,t,n){e.exports={container:"container_d0fc80",chipletContainer:"chipletContainer_d0fc80",chipletParent:"chipletParent_d0fc80",usernameContainer:"usernameContainer_d0fc80",isOverlayContainer:"isOverlayContainer_d0fc80",noPadding:"noPadding_d0fc80",isOverlayTag:"isOverlayTag_d0fc80"}},772661:function(e,t,n){e.exports={overviewText:"overviewText_a62d75",overviewHeaderPrelude:"overviewHeaderPrelude_a62d75 overviewText_a62d75",overviewGuildName:"overviewGuildName_a62d75 overviewText_a62d75",placeholderIcon:"placeholderIcon_a62d75",charterClanTag:"charterClanTag_a62d75",charterClanBadge:"charterClanBadge_a62d75"}},66824:function(e,t,n){e.exports={clipsEnabledIndicator:"clipsEnabledIndicator_d7719d",clipBadgeText:"clipBadgeText_d7719d "+n("733564").liveLarge,clipBadgeIcon:"clipBadgeIcon_d7719d"}},397031:function(e,t,n){e.exports={recentClipsPopout:"recentClipsPopout_bd6a37",header:"header_bd6a37",thumbnailStackContainer:"thumbnailStackContainer_bd6a37",buttonsContainer:"buttonsContainer_bd6a37"}},493893:function(e,t,n){e.exports={headerContainer:"headerContainer_bc6acb",header:"header_bc6acb",toggleExpandIcon:"toggleExpandIcon_bc6acb"}},861666:function(e,t,n){e.exports={listeningTimeline:"listeningTimeline_a218d8",seekBarContainer:"seekBarContainer_a218d8",seekBarFill:"seekBarFill_a218d8"}},604598:function(e,t,n){e.exports={coachtip:"coachtip_e8254e",coachtipContent:"coachtipContent_e8254e",coachtipInner:"coachtipInner_e8254e",coachtipAsset:"coachtipAsset_e8254e",coachtipTextContainer:"coachtipTextContainer_e8254e"}},757372:function(e,t,n){e.exports={badgeContainer:"badgeContainer_d60c6d",badgeLabel:"badgeLabel_d60c6d",badgesContainer:"badgesContainer_d60c6d",badgesContainerCard:"badgesContainerCard_d60c6d",badgesContainerPopout:"badgesContainerPopout_d60c6d"}},41899:function(e,t,n){e.exports={container:"container_c64476",contentDescription:"contentDescription_c64476",reply:"reply_c64476",additionalParticipantBadge:"additionalParticipantBadge_c64476",openOnHover:"openOnHover_c64476",icon:"icon_c64476",selected:"selected_c64476",infoSection:"infoSection_c64476",userSection:"userSection_c64476",userName:"userName_c64476",facePile:"facePile_c64476",facePileItem:"facePileItem_c64476",additionalParticipantBadgeText:"additionalParticipantBadgeText_c64476",thumbnail:"thumbnail_c64476"}},969397:function(e,t,n){e.exports={contentImage:"contentImage_a3b998"}},208899:function(e,t,n){e.exports={popout:"popout_a35965",hero:"hero_a35965",interactionsContainerHeader:"interactionsContainerHeader_a35965",interactionsContainer:"interactionsContainer_a35965",emoji:"emoji_a35965",contentImage:"contentImage_a35965",toastContainer:"toastContainer_a35965",emojiHotrailShareToChannel:"emojiHotrailShareToChannel_a35965",inputContainerShareToChannel:"inputContainerShareToChannel_a35965",replyInputWrapper:"replyInputWrapper_a35965",primaryActionPopoutMessageCloseIcon:"primaryActionPopoutMessageCloseIcon_a35965",shareToChannelButton:"shareToChannelButton_a35965",popoutContentHeader:"popoutContentHeader_a35965",popoutContentBody:"popoutContentBody_a35965",popoutThumbnailContainer:"popoutThumbnailContainer_a35965",popoutUserContainer:"popoutUserContainer_a35965",popoutUsername:"popoutUsername_a35965",voiceChannelPopoutReactorHeader:"voiceChannelPopoutReactorHeader_a35965",voiceChannelPopoutReactorChannel:"voiceChannelPopoutReactorChannel_a35965",voiceChannelName:"voiceChannelName_a35965",voiceChannelGuildIcon:"voiceChannelGuildIcon_a35965",voiceChannelAdditionalParticipants:"voiceChannelAdditionalParticipants_a35965",primaryActionPopoutDivider:"primaryActionPopoutDivider_a35965",iconButton:"iconButton_a35965",primaryActionPopoutActionButtons:"primaryActionPopoutActionButtons_a35965",hiddenButRenderedInputField:"hiddenButRenderedInputField_a35965",secondaryButton:"secondaryButton_a35965",secondaryText:"secondaryText_a35965",primaryButton:"primaryButton_a35965",popoutStackedAvatar:"popoutStackedAvatar_a35965",popoutBlockedWarningIcon:"popoutBlockedWarningIcon_a35965",popoutTextPrimary:"popoutTextPrimary_a35965",popoutTextSecondary:"popoutTextSecondary_a35965",streamingPopoutHero:"streamingPopoutHero_a35965",streamCTA:"streamCTA_a35965",maybeClickable:"maybeClickable_a35965",popoutHeaderIcons:"popoutHeaderIcons_a35965"}},539331:function(e,t,n){e.exports={inlineTimestamp:"inlineTimestamp_c5d1c1"}},575317:function(e,t,n){e.exports={loadingSpinner:"loadingSpinner_f2635d"}},346737:function(e,t,n){e.exports={container:"container_b11148"}},509616:function(e,t,n){e.exports={pageContainer:"pageContainer_a9a262",scroller:"scroller_a9a262",cardsContainer:"cardsContainer_a9a262",spinner:"spinner_a9a262"}},937618:function(e,t,n){e.exports={emptyWrapper:"emptyWrapper_bee3f0",emptyImage:"emptyImage_bee3f0",emptyTitle:"emptyTitle_bee3f0",emptySubtitle:"emptySubtitle_bee3f0",emptyCTA:"emptyCTA_bee3f0"}},699996:function(e,t,n){e.exports={card:"card_f18d6c",addEntryCard:"addEntryCard_f18d6c card_f18d6c",addServerText:"addServerText_f18d6c",cardHeader:"cardHeader_f18d6c",splash:"splash_f18d6c",splashImage:"splashImage_f18d6c",guildIcon:"guildIcon_f18d6c",icon:"icon_f18d6c",actionButtonsContainer:"actionButtonsContainer_f18d6c",forceButtonsShow:"forceButtonsShow_f18d6c",overflowIcon:"overflowIcon_f18d6c",iconMask:"iconMask_f18d6c",guildInfo:"guildInfo_f18d6c",title:"title_f18d6c",guildBadge:"guildBadge_f18d6c",guildName:"guildName_f18d6c",description:"description_f18d6c",memberInfo:"memberInfo_f18d6c",memberCount:"memberCount_f18d6c",dotOnline:"dotOnline_f18d6c statusDot_f18d6c",dotOffline:"dotOffline_f18d6c statusDot_f18d6c",joinButton:"joinButton_f18d6c"}},201698:function(e,t,n){e.exports={header:"header_d33b18",headerImage:"headerImage_d33b18",headerImageSimple:"headerImageSimple_d33b18",headerImageBG:"headerImageBG_d33b18",searchTitle:"searchTitle_d33b18",searchSubtitle:"searchSubtitle_d33b18",headerContentWrapper:"headerContentWrapper_d33b18",headerContent:"headerContent_d33b18",headerContentSmall:"headerContentSmall_d33b18",searchBox:"searchBox_d33b18",searchBoxInput:"searchBoxInput_d33b18",closeIcon:"closeIcon_d33b18",searchIcon:"searchIcon_d33b18",tabBar:"tabBar_d33b18",tabBarItem:"tabBarItem_d33b18",sectionHeader:"sectionHeader_d33b18"}},573929:function(e,t,n){e.exports={searchHeader:"searchHeader_ce978e",searchPageBox:"searchPageBox_ce978e",searchPageInput:"searchPageInput_ce978e",headerTitleWrapper:"headerTitleWrapper_ce978e",arrow:"arrow_ce978e",searchPageTitle:"searchPageTitle_ce978e",emptySearchWrapper:"emptySearchWrapper_ce978e",emptySearchImage:"emptySearchImage_ce978e",emptySearchTitle:"emptySearchTitle_ce978e",emptySearchSubtitle:"emptySearchSubtitle_ce978e"}},701612:function(e,t,n){e.exports={button:"button_ccfa44",buttonIcon:"buttonIcon_ccfa44"}},713049:function(e,t,n){e.exports={avatar:"avatar_dc0b54",avatarMask:"avatarMask_dc0b54",avatarContainer:"avatarContainer_dc0b54",container:"container_dc0b54",mobileContainer:"mobileContainer_dc0b54",mobileMutualGuilds:"mobileMutualGuilds_dc0b54",mobileButtons:"mobileButtons_dc0b54",divider:"divider_dc0b54",action:"action_dc0b54",mutualGuilds:"mutualGuilds_dc0b54"}},407863:function(e,t,n){e.exports={container:"container_c2668b",header:"header_c2668b",description:"description_c2668b",emptyChannelIcon:"emptyChannelIcon_c2668b",emptyChannelIconComponent:"emptyChannelIconComponent_c2668b",emptyChannelIconSvg:"emptyChannelIconSvg_c2668b",locked:"locked_c2668b",voiceChat:"voiceChat_c2668b"}},73409:function(e,t,n){e.exports={container:"container_e378b3",iconWrapper:"iconWrapper_e378b3",icon:"icon_e378b3",header:"header_e378b3"}},573475:function(e,t,n){e.exports={container:"container_e41d41",formContainer:"formContainer_e41d41",summaryContainer:"summaryContainer_e41d41",summaryHeader:"summaryHeader_e41d41",summaryHeaderClanInfo:"summaryHeaderClanInfo_e41d41",guildIcon:"guildIcon_e41d41",summarySeparator:"summarySeparator_e41d41",formResponseContainer:"formResponseContainer_e41d41"}},147673:function(e,t,n){e.exports={members:"members_f1044f",avatars:"avatars_f1044f",singleUserName:"singleUserName_f1044f",role:"role_f1044f",last:"last_f1044f",channelSettingButtons:"channelSettingButtons_f1044f"}},492932:function(e,t,n){e.exports={headerContainer:"headerContainer_e11ca5",chatBubbleContainer:"chatBubbleContainer_e11ca5",wumpusImage:"wumpusImage_e11ca5",chatBubbleLip:"chatBubbleLip_e11ca5",chatBubble:"chatBubble_e11ca5",emptyMessageHeader:"emptyMessageHeader_e11ca5",flowerStar:"flowerStar_e11ca5",verified:"verified_e11ca5"}},193308:function(e,t,n){e.exports={buttonContainer:"buttonContainer_e4f3eb"}},971055:function(e,t,n){e.exports={iconWrapper:"iconWrapper_ec583a",icon:"icon_ec583a",subtitle:"subtitle_ec583a",threadCreatorName:"threadCreatorName_ec583a",unknownCreatorName:"unknownCreatorName_ec583a"}},715287:function(e,t,n){e.exports={container:"container_f9902b",inner:"inner_f9902b",titleName:"titleName_f9902b",subtitle:"subtitle_f9902b",noChildren:"noChildren_f9902b",cardWrapper:"cardWrapper_f9902b",card:"card_f9902b",completed:"completed_f9902b",icon:"icon_f9902b",cardTextContainer:"cardTextContainer_f9902b",cardHeader:"cardHeader_f9902b",checkmark:"checkmark_f9902b",animate:"animate_f9902b",arrow:"arrow_f9902b"}},28264:function(e,t,n){e.exports={tags:"tags_f68ce8"}},349369:function(e,t,n){e.exports={container:"container_b385c8",header:"header_b385c8",buttonInner:"buttonInner_b385c8",addReactButton:"addReactButton_b385c8",button:"button_b385c8",reactButtons:"reactButtons_b385c8",loading:"loading_b385c8",reactions:"reactions_b385c8",buttons:"buttons_b385c8",active:"active_b385c8"}},656437:function(e,t,n){e.exports={chat:"chat_f57fdc"}},623829:function(e,t,n){e.exports={art:"art_fa3cbc"}},40275:function(e,t,n){e.exports={leftDivider:"leftDivider_d8c748"}},654984:function(e,t,n){e.exports={root:"root_ed81cc",image:"image_ed81cc",emptyPreviewContainer:"emptyPreviewContainer_ed81cc",emptyPreviewImage:"emptyPreviewImage_ed81cc",emptyPreviewText:"emptyPreviewText_ed81cc"}},143046:function(e,t,n){e.exports={body:"body_adbea6",streamPreviewWrapper:"streamPreviewWrapper_adbea6",mounted:"mounted_adbea6",streamPreview:"streamPreview_adbea6",previewContainer:"previewContainer_adbea6",previewHover:"previewHover_adbea6",previewImage:"previewImage_adbea6",activityActions:"activityActions_adbea6",protip:"protip_adbea6",white:"white_adbea6",watchButton:"watchButton_adbea6"}},244438:function(e,t,n){e.exports={qualityIndicator:"qualityIndicator_c5881c",clickable:"clickable_c5881c",qualityIndicatorFullQuality:"qualityIndicatorFullQuality_c5881c",qualityIndicatorLowQuality:"qualityIndicatorLowQuality_c5881c",premiumStreamIcon:"premiumStreamIcon_c5881c",qualityResolution:"qualityResolution_c5881c",qualityIndicatorBadge:"qualityIndicatorBadge_c5881c",qualityIndicatorBadgePremium:"qualityIndicatorBadgePremium_c5881c",streamQualityIndicator:"streamQualityIndicator_c5881c",liveIndicator:"liveIndicator_c5881c",liveQualityIndicator:"liveQualityIndicator_c5881c"}},959417:function(e,t,n){e.exports={bannerIcon:"bannerIcon_c4eca1",bannerContainer:"bannerContainer_c4eca1",bannerHeader:"bannerHeader_c4eca1"}},327820:function(e,t,n){e.exports={bannerIcon:"bannerIcon_fc2669",bannerContainer:"bannerContainer_fc2669",bannerHeader:"bannerHeader_fc2669"}},695584:function(e,t,n){e.exports={container:"container_c06a56",iconContainer:"iconContainer_c06a56",icon:"icon_c06a56",header:"header_c06a56",headerText:"headerText_c06a56",button:"button_c06a56"}},668972:function(e,t,n){e.exports={sidebarContianer:"sidebarContianer_d2194f",loadingContainer:"loadingContainer_d2194f",profileThemedContainer:"profileThemedContainer_d2194f",innerContainer:"innerContainer_d2194f"}},638649:function(e,t,n){e.exports={keyComboInner:"keyComboInner_c11c02",keyComboContainer:"keyComboContainer_c11c02",backButton:"backButton_c11c02"}},361163:function(e,t,n){e.exports={auditLogItem:"auditLogItem_d748bc",auditLogItemTitleContainer:"auditLogItemTitleContainer_d748bc",auditLogItemTitle:"auditLogItemTitle_d748bc",username:"username_d748bc",auditLogItemDate:"auditLogItemDate_d748bc",auditLogReason:"auditLogReason_d748bc",auditLogSecondaryContainer:"auditLogSecondaryContainer_d748bc",auditLogSecondary:"auditLogSecondary_d748bc",auditLogExpandedChangeDetails:"auditLogExpandedChangeDetails_d748bc"}},130081:function(e,t,n){e.exports={modInfoItemContainer:"modInfoItemContainer_ce9fb9",modInfoItem:"modInfoItem_ce9fb9",modInfoItemIcon:"modInfoItemIcon_ce9fb9",modInfoItemName:"modInfoItemName_ce9fb9",modInfoItemDescription:"modInfoItemDescription_ce9fb9",modInfoAction:"modInfoAction_ce9fb9",modInfoItemActionIcon:"modInfoItemActionIcon_ce9fb9"}},926452:function(e,t,n){e.exports={roleTooltipContainer:"roleTooltipContainer_a507b4",roleTooltipContentContainer:"roleTooltipContentContainer_a507b4",roleTooltipItem:"roleTooltipItem_a507b4",permissionsContainer:"permissionsContainer_a507b4",permissionChiplet:"permissionChiplet_a507b4",noModPerms:"noModPerms_a507b4",elevatedPermission:"elevatedPermission_a507b4",headerContainer:"headerContainer_a507b4",viewAllPermissions:"viewAllPermissions_a507b4"}},332513:function(e,t,n){e.exports={container:"container_f51af4",innerContainer:"innerContainer_f51af4",keyComboInner:"keyComboInner_f51af4",keyComboContainer:"keyComboContainer_f51af4",header:"header_f51af4",headerTitle:"headerTitle_f51af4",infoTitle:"infoTitle_f51af4",roleContainer:"roleContainer_f51af4",highestRole:"highestRole_f51af4",addRoleIcon:"addRoleIcon_f51af4",roleTooltipItem:"roleTooltipItem_f51af4",addRoleContainer:"addRoleContainer_f51af4",guildIcon:"guildIcon_f51af4",loadingSpinner:"loadingSpinner_f51af4"}},812387:function(e,t,n){e.exports={innerContainer:"innerContainer_f328ee"}},210712:function(e,t,n){e.exports={permissionsGroupContainer:"permissionsGroupContainer_f38b88",permissionsItemContainer:"permissionsItemContainer_f38b88",permissionItemContainer:"permissionItemContainer_f38b88",elevatedPermission:"elevatedPermission_f38b88",permissionItemHeader:"permissionItemHeader_f38b88",permissionItemSubheader:"permissionItemSubheader_f38b88",elevatedPermissionContainer:"elevatedPermissionContainer_f38b88",permissionItemDescription:"permissionItemDescription_f38b88",permissionItemRoleContainer:"permissionItemRoleContainer_f38b88",permissionTitle:"permissionTitle_f38b88",roleTooltipItem:"roleTooltipItem_f38b88",editable:"editable_f38b88",roleChiplet:"roleChiplet_f38b88",searchBar:"searchBar_f38b88"}},342821:function(e,t,n){e.exports={container:"container_d936aa",topRow:"topRow_d936aa",memberNameContainer:"memberNameContainer_d936aa",memberName:"memberName_d936aa",memberAvatar:"memberAvatar_d936aa",closeAction:"closeAction_d936aa",bottomRow:"bottomRow_d936aa",bottomRowAction:"bottomRowAction_d936aa",innerBottomRowAction:"innerBottomRowAction_d936aa",bottomRowActionDisabled:"bottomRowActionDisabled_d936aa"}},793447:function(e,t,n){e.exports={animationMiddle:"animationMiddle_a363e7",animationContainer:"animationContainer_a363e7",header:"header_a363e7",container:"container_a363e7",button:"button_a363e7"}},695572:function(e,t,n){e.exports={buttons:"buttons_ff7ec0"}},121568:function(e,t,n){e.exports={container:"container_d29eee",banner:"banner_d29eee",text:"text_d29eee",clickable:"clickable_d29eee",channelIcon:"channelIcon_d29eee",iconCircle:"iconCircle_d29eee",nextIcon:"nextIcon_d29eee",completed:"completed_d29eee"}},45341:function(e,t,n){e.exports={upsellPage:"upsellPage_d76875",upsellContainer:"upsellContainer_d76875",upsellContent:"upsellContent_d76875",bodyText:"bodyText_d76875"}},80045:function(e,t,n){e.exports={container:"container_e632bb",containerHide:"containerHide_e632bb",notice:"notice_e632bb",noticeArrow:"noticeArrow_e632bb"}},874771:function(e,t,n){e.exports={carouselMaxWidth:"carouselMaxWidth_c19193",scroller:"scroller_c19193",tierPreviewsContainer:"tierPreviewsContainer_c19193",tierPreviews:"tierPreviews_c19193"}},212017:function(e,t,n){e.exports={pageContainer:"pageContainer_cc3078",joinCtaTitle:"joinCtaTitle_cc3078",joinCtaSubtitle:"joinCtaSubtitle_cc3078"}},791671:function(e,t,n){e.exports={buttonSpacing:"buttonSpacing_c686f1"}},638849:function(e,t,n){e.exports={divider:"divider_a7ad40",eventSchedule:"eventSchedule_a7ad40",eventName:"eventName_a7ad40"}},935560:function(e,t,n){e.exports={container:"container_dc3fc4",textContainer:"textContainer_dc3fc4",caret:"caret_dc3fc4",icon:"icon_dc3fc4",dot:"dot_dc3fc4",inline:"inline_dc3fc4",pulse:"pulse_dc3fc4"}},769129:function(e,t,n){e.exports={eventPrompt:"eventPrompt_b39258"}},492787:function(e,t,n){e.exports={draggable:"draggable_ac3629",moreContainer:"moreContainer_ac3629",audienceContainer:"audienceContainer_ac3629",audienceContainerCollapsed:"audienceContainerCollapsed_ac3629",audienceIconContainer:"audienceIconContainer_ac3629",audienceIcon:"audienceIcon_ac3629",userAvatar:"userAvatar_ac3629"}},298332:function(e,t,n){e.exports={list:"list_a478e5",withGuildIcon:"withGuildIcon_a478e5",collapsed:"collapsed_a478e5"}},684501:function(e,t,n){e.exports={popoutWrapper:"popoutWrapper_d201be",mounted:"mounted_d201be",popout:"popout_d201be",contentContainer:"contentContainer_d201be",statusGroup:"statusGroup_d201be",iconGroup:"iconGroup_d201be",statusIcon:"statusIcon_d201be",statusText:"statusText_d201be",avatarWrapper:"avatarWrapper_d201be statusIcon_d201be",avatar:"avatar_d201be statusIcon_d201be",outline:"outline_d201be statusIcon_d201be",cta:"cta_d201be"}},362759:function(e,t,n){e.exports={popout:"popout_a9414b",popoutBackground:"popoutBackground_a9414b",onboarding:"onboarding_a9414b",title:"title_a9414b",helpText:"helpText_a9414b",newBadge:"newBadge_a9414b",iconGroup:"iconGroup_a9414b",statusIcon:"statusIcon_a9414b",avatarWrapper:"avatarWrapper_a9414b statusIcon_a9414b",avatar:"avatar_a9414b statusIcon_a9414b",outline:"outline_a9414b statusIcon_a9414b",options:"options_a9414b",iconsContainer:"iconsContainer_a9414b",iconWidget:"iconWidget_a9414b",selectedWidget:"selectedWidget_a9414b",statusOptionContainer:"statusOptionContainer_a9414b",emojiLockIconContainer:"emojiLockIconContainer_a9414b",emojiLockIcon:"emojiLockIcon_a9414b",optionButton:"optionButton_a9414b",setCustomButton:"setCustomButton_a9414b",icon:"icon_a9414b",customIcon:"customIcon_a9414b",divider:"divider_a9414b",editIcon:"editIcon_a9414b",editIconColor:"editIconColor_a9414b"}},743630:function(e,t,n){e.exports={akaBadge:"akaBadge_d6c26f",nicknames:"nicknames_d6c26f",avatars:"avatars_d6c26f",avatar:"avatar_d6c26f",tooltip:"tooltip_d6c26f",spacer:"spacer_d6c26f",moreAvatars:"moreAvatars_d6c26f",plusIcon:"plusIcon_d6c26f"}},109742:function(e,t,n){e.exports={container:"container_f0fccd",channelName:"channelName_f0fccd"}},777794:function(e,t,n){e.exports={strikethrough:"strikethrough_a8951a"}},504273:function(e,t,n){e.exports={topic:"topic_bf3bbb",topicClickTarget:"topicClickTarget_bf3bbb",expandable:"expandable_bf3bbb",content:"content_bf3bbb"}},864731:function(e,t,n){e.exports={friendWrapper:"friendWrapper_ebf869",friend:"friend_ebf869",avatar:"avatar_ebf869",checkbox:"checkbox_ebf869",match:"match_ebf869",nickname:"nickname_ebf869",discordTag:"discordTag_ebf869",friendSelected:"friendSelected_ebf869"}},745380:function(e,t,n){e.exports={tooltip:"tooltip_e91037",tooltipImage:"tooltipImage_e91037"}},994175:function(e,t,n){e.exports={popout:"popout_e6af9c",searchBar:"searchBar_e6af9c",searchBarComponent:"searchBarComponent_e6af9c",addButton:"addButton_e6af9c",subtitleWarning:"subtitleWarning_e6af9c",scroller:"scroller_e6af9c",noResults:"noResults_e6af9c",mobileToolsContainer:"mobileToolsContainer_e6af9c",mobileToolsCloseIcon:"mobileToolsCloseIcon_e6af9c",copyInput:"copyInput_e6af9c",input:"input_e6af9c",copyButton:"copyButton_e6af9c",errorState:"errorState_e6af9c",errorStateIcon:"errorStateIcon_e6af9c",notFriends:"notFriends_e6af9c",noFriends:"noFriends_e6af9c",partyFull:"partyFull_e6af9c",footerSeparator:"footerSeparator_e6af9c",footer:"footer_e6af9c",selectExistingFormHeader:"selectExistingFormHeader_e6af9c",confirmChannelItemContainer:"confirmChannelItemContainer_e6af9c",confirmChannelName:"confirmChannelName_e6af9c",lastActiveTimestamp:"lastActiveTimestamp_e6af9c",confirmInviteScroller:"confirmInviteScroller_e6af9c",subtitle:"subtitle_e6af9c",footerText:"footerText_e6af9c"}},286489:function(e,t,n){e.exports={tooltip:"tooltip_f58733",tooltipContent:"tooltipContent_f58733"}},297115:function(e,t,n){e.exports={root:"root_b1717f",highFive:"highFive_b1717f",waiting:"waiting_b1717f",completeLeft:"completeLeft_b1717f complete_b1717f",completeRight:"completeRight_b1717f complete_b1717f"}},263924:function(e,t,n){e.exports={sharePromptContainer:"sharePromptContainer_c65518",sharePromptContent:"sharePromptContent_c65518",sharePromptCta:"sharePromptCta_c65518",ctaContent:"ctaContent_c65518",closeButton:"closeButton_c65518"}},974871:function(e,t,n){e.exports={box:"box_af45f8",textContainer:"textContainer_af45f8",divider:"divider_af45f8",animation:"animation_af45f8"}},67788:function(e,t,n){e.exports={spamBanner:"spamBanner_c1da2c",bannerTextContainer:"bannerTextContainer_c1da2c",bannerText:"bannerText_c1da2c",bannerIcon:"bannerIcon_c1da2c",bannerHeader:"bannerHeader_c1da2c",bannerSubtext:"bannerSubtext_c1da2c",actionButtons:"actionButtons_c1da2c"}},126564:function(e,t,n){e.exports={wrapper:"wrapper_cdfd51"}},490020:function(e,t,n){e.exports={containerExpanded:"containerExpanded_fcbce6",button:"button_fcbce6",containerCompact:"containerCompact_fcbce6",compactButton:"compactButton_fcbce6",compactButtonDisabled:"compactButtonDisabled_fcbce6",text:"text_fcbce6",error:"error_fcbce6"}},961864:function(e,t,n){e.exports={container:"container_a3b500",isHeader:"isHeader_a3b500",icon:"icon_a3b500",tooltip:"tooltip_a3b500"}},601621:function(e,t,n){e.exports={messagesWrapper:"messagesWrapper_e2e187",scrollerContent:"scrollerContent_e2e187",scroller:"scroller_e2e187",scrollerInner:"scrollerInner_e2e187",scrollerSpacer:"scrollerSpacer_e2e187",empty:"empty_e2e187",emptyForum:"emptyForum_e2e187",navigationDescription:"navigationDescription_e2e187"}},613861:function(e,t,n){e.exports={icon:"icon_a14cf7",tooltip:"tooltip_a14cf7"}},219005:function(e,t,n){e.exports={wrapper:"wrapper_a24e84",button:"button_a24e84",focused:"focused_a24e84",icon:"icon_a24e84"}},890001:function(e,t,n){e.exports={interactionInfoMenuItem:"interactionInfoMenuItem_df26f0"}},223056:function(e,t,n){e.exports={notice:"notice_c02a8d",info:"info_c02a8d",buttons:"buttons_c02a8d",button:"button_c02a8d",buttonInner:"buttonInner_c02a8d"}},399636:function(e,t,n){e.exports={chatHeaderBar:"chatHeaderBar_efb691",chatHeaderBarText:"chatHeaderBarText_efb691",narrow:"narrow_efb691",chatHeaderBarButton:"chatHeaderBarButton_efb691",chatHeaderBarButtonInner:"chatHeaderBarButtonInner_efb691"}},587954:function(e,t,n){e.exports={combo:"combo_f21b25",comboValue:"comboValue_f21b25",comboNameplate:"comboNameplate_f21b25",comboMultiplier:"comboMultiplier_f21b25",comboSquare:"comboSquare_f21b25",left:"left_f21b25",right:"right_f21b25",confettiIcon:"confettiIcon_f21b25",tip:"tip_f21b25",messageComboScore:"messageComboScore_f21b25",comboScore:"comboScore_f21b25"}},559286:function(e,t,n){e.exports={popout:"popout_a998c0",content:"content_a998c0"}},778855:function(e,t,n){e.exports={optInPopout:"optInPopout_cac3f6",hidden:"hidden_cac3f6",closeIcon:"closeIcon_cac3f6",optInButton:"optInButton_cac3f6",lottie:"lottie_cac3f6",variant1InfoContainerParent:"variant1InfoContainerParent_cac3f6",variant1InfoContainer:"variant1InfoContainer_cac3f6",variant1Text:"variant1Text_cac3f6",variant1CloseButton:"variant1CloseButton_cac3f6",variant2OptInPopout:"variant2OptInPopout_cac3f6",image:"image_cac3f6",variant2InfoContainerParent:"variant2InfoContainerParent_cac3f6",variant2InfoContainer:"variant2InfoContainer_cac3f6",variant2Text:"variant2Text_cac3f6",variant2CloseButton:"variant2CloseButton_cac3f6"}},788323:function(e,t,n){e.exports={demoCta:"demoCta_d99d00",hidden:"hidden_d99d00",wumpusContainer:"wumpusContainer_d99d00",textContainer:"textContainer_d99d00",nitroTextAndBadge:"nitroTextAndBadge_d99d00",closeButton:"closeButton_d99d00",closeIcon:"closeIcon_d99d00"}},640718:function(e,t,n){e.exports={searchHeader:"searchHeader_b7c924",searchHeaderTabList:"searchHeaderTabList_b7c924",helpdeskLink:"helpdeskLink_b7c924",totalResultsWrapper:"totalResultsWrapper_b7c924",totalResults:"totalResults_b7c924",spinnerWrapper:"spinnerWrapper_b7c924",spinner:"spinner_b7c924",spinnerPath:"spinnerPath_b7c924"}},601173:function(e,t,n){e.exports={container:"container_f13432"}},932688:function(e,t,n){e.exports={container:"container_ddc613",searchResult:"searchResult_ddc613",message:"message_ddc613",buttonsContainer:"buttonsContainer_ddc613",button:"button_ddc613"}},832719:function(e,t,n){e.exports={searchResultGroup:"searchResultGroup_a9e225",channelNameContainer:"channelNameContainer_a9e225",channelNameText:"channelNameText_a9e225",parentChannelNameClickable:"parentChannelNameClickable_a9e225",parentChannelNameText:"parentChannelNameText_a9e225",channelNameIcon:"channelNameIcon_a9e225",parentChannelNameIcon:"parentChannelNameIcon_a9e225",resultsBlocked:"resultsBlocked_a9e225",resultsBlockedImage:"resultsBlockedImage_a9e225"}},762705:function(e,t,n){e.exports={searchResultsWrap:"searchResultsWrap_c2b47d",scroller:"scroller_c2b47d",emptyResultsWrap:"emptyResultsWrap_c2b47d",emptyResultsContent:"emptyResultsContent_c2b47d",emptyResultsText:"emptyResultsText_c2b47d",stillIndexing:"stillIndexing_c2b47d",noResultsImage:"noResultsImage_c2b47d",errorImage:"errorImage_c2b47d",errorMessage:"errorMessage_c2b47d",noResults:"noResults_c2b47d",alt:"alt_c2b47d"}},370826:function(e,t,n){e.exports={strangerDangerBanner:"strangerDangerBanner_f0ba46",safetyShieldIcon:"safetyShieldIcon_f0ba46",buttons:"buttons_f0ba46",shieldAndHeading:"shieldAndHeading_f0ba46",closeButton:"closeButton_f0ba46",ctaButton:"ctaButton_f0ba46"}},260788:function(e,t,n){e.exports={sharedCanvas:"sharedCanvas_dd2b1e"}},311496:function(e,t,n){e.exports={participants:"participants_a07d72"}},433534:function(e,t,n){e.exports={tileBaseContainer:"tileBaseContainer_e1522e",tileContainer:"tileContainer_e1522e tileBaseContainer_e1522e",textContainer:"textContainer_e1522e",avatarContainer:"avatarContainer_e1522e",avatar:"avatar_e1522e",faded:"faded_e1522e",text:"text_e1522e",singleIcon:"singleIcon_e1522e",doubleIcon:"doubleIcon_e1522e",boost:"boost_e1522e",blockedIcon:"blockedIcon_e1522e",icon:"icon_e1522e",invited:"invited_e1522e"}},89032:function(e,t,n){e.exports={spaceBetweenTiles:"spaceBetweenTiles_a77085",tileSizer:"tileSizer_a77085"}},620725:function(e,t,n){e.exports={container:"container_c5e69b",sparkleIcon:"sparkleIcon_c5e69b",sparkleTop:"sparkleTop_c5e69b",sparkleBottom:"sparkleBottom_c5e69b"}},579605:function(e,t,n){e.exports={container:"container_f80572"}},318672:function(e,t,n){e.exports={background:"background_b42a48",foreground:"foreground_b42a48"}},958482:function(e,t,n){e.exports={raisedHandIcon:"raisedHandIcon_de335c",raisedHandCount:"raisedHandCount_de335c"}},944759:function(e,t,n){e.exports={container:"container_f7ece4",chatOpen:"chatOpen_f7ece4",headerContainer:"headerContainer_f7ece4",contentContainer:"contentContainer_f7ece4",buttonContainer:"buttonContainer_f7ece4",buttonMargin:"buttonMargin_f7ece4",listTitle:"listTitle_f7ece4",participantRowContainer:"participantRowContainer_f7ece4",participantMemberContainer:"participantMemberContainer_f7ece4",participantTextContainer:"participantTextContainer_f7ece4",participantAvatar:"participantAvatar_f7ece4",participantName:"participantName_f7ece4",emptyStateContainer:"emptyStateContainer_f7ece4",emptyStateTitle:"emptyStateTitle_f7ece4",emptyStateBody:"emptyStateBody_f7ece4",toggle:"toggle_f7ece4"}},607176:function(e,t,n){e.exports={container:"container_ed4410",callContainer:"callContainer_ed4410",sidebarVisible:"sidebarVisible_ed4410",sidebarOrChatVisible:"sidebarOrChatVisible_ed4410",rightTrayIcon:"rightTrayIcon_ed4410",volumeSlider:"volumeSlider_ed4410",chatToasts:"chatToasts_ed4410",rtsSidebarOpen:"rtsSidebarOpen_ed4410",channelChatWrapper:"channelChatWrapper_ed4410"}},688818:function(e,t,n){e.exports={participants:"participants_cb3dd1",icon:"icon_cb3dd1",buttonIcon:"buttonIcon_cb3dd1",channelName:"channelName_cb3dd1",channelNameWrapper:"channelNameWrapper_cb3dd1",divider:"divider_cb3dd1",speakerCount:"speakerCount_cb3dd1",button:"button_cb3dd1",sidebarOpen:"sidebarOpen_cb3dd1",boostUpsell:"boostUpsell_cb3dd1",boostButton:"boostButton_cb3dd1",notNowButton:"notNowButton_cb3dd1",text:"text_cb3dd1",buttons:"buttons_cb3dd1"}},310808:function(e,t,n){e.exports={scroller:"scroller_bb12d2",spacer:"spacer_bb12d2",focusedRow:"focusedRow_bb12d2",header:"header_bb12d2"}},428847:function(e,t,n){e.exports={containerColumn:"containerColumn_e12b21",container:"container_e12b21",buttonWithTextButton:"buttonWithTextButton_e12b21",buttonWithTextInnerContainer:"buttonWithTextInnerContainer_e12b21",primaryButtonColor:"primaryButtonColor_e12b21",buttonWithTextIcon:"buttonWithTextIcon_e12b21",raisedHandButtonIcon:"raisedHandButtonIcon_e12b21",raisedHandButtonIconActive:"raisedHandButtonIconActive_e12b21",buttonSpacing:"buttonSpacing_e12b21",eventPrompts:"eventPrompts_e12b21",separator:"separator_e12b21",avControls:"avControls_e12b21"}},628977:function(e,t,n){e.exports={auto:"auto_ad8998 scrollerBase_ad8998",fade:"fade_ad8998"}},235753:function(e,t,n){e.exports={rowContainer:"rowContainer_f3a5b1"}},546552:function(e,t,n){e.exports={container:"container_cbfbcf",micIcon:"micIcon_cbfbcf",downIcon:"downIcon_cbfbcf",upIcon:"upIcon_cbfbcf",text:"text_cbfbcf"}},887853:function(e,t,n){e.exports={summary:"summary_c2a8f0",speakers:"speakers_c2a8f0",avatar:"avatar_c2a8f0"}},433654:function(e,t,n){e.exports={tile:"tile_f1e0c3"}},998877:function(e,t,n){e.exports={iconBackground:"iconBackground_e5ee5b",icon:"icon_e5ee5b",headerContainer:"headerContainer_e5ee5b",subtitle:"subtitle_e5ee5b",eventPrompt:"eventPrompt_e5ee5b",separator:"separator_e5ee5b",continueIcon:"continueIcon_e5ee5b",continueIconContainer:"continueIconContainer_e5ee5b",audienceSummary:"audienceSummary_e5ee5b",summaryItem:"summaryItem_e5ee5b"}},153023:function(e,t,n){e.exports={summaryDivider:"summaryDivider_cabeb6",summaryDividerStart:"summaryDividerStart_cabeb6",summaryDividerEnd:"summaryDividerEnd_cabeb6",summaryStartContent:"summaryStartContent_cabeb6",summaryEndContent:"summaryEndContent_cabeb6",summaryStartIcon:"summaryStartIcon_cabeb6",summaryEndIcon:"summaryEndIcon_cabeb6",summaryFeedbackWrapper:"summaryFeedbackWrapper_cabeb6",summaryFeedback:"summaryFeedback_cabeb6",thumbIcon:"thumbIcon_cabeb6"}},71417:function(e,t,n){e.exports={container:"container_fb4810",chat:"chat_fb4810",messagesWrapper:"messagesWrapper_fb4810",scroller:"scroller_fb4810",scrollerInner:"scrollerInner_fb4810",formSection:"formSection_fb4810",checkbox:"checkbox_fb4810",privateThreadDescription:"privateThreadDescription_fb4810",form:"form_fb4810",channelTextArea:"channelTextArea_fb4810",channelTextAreaInner:"channelTextAreaInner_fb4810",channelTextAreaInnerError:"channelTextAreaInnerError_fb4810",starterMessageError:"starterMessageError_fb4810",privateThreadFormTitle:"privateThreadFormTitle_fb4810",privateThreadFormTitleText:"privateThreadFormTitleText_fb4810",submitContainer:"submitContainer_fb4810",messagePreview:"messagePreview_fb4810"}},246634:function(e,t,n){e.exports={container:"container_e664f3",header:"header_e664f3",threadIcon:"threadIcon_e664f3",title:"title_e664f3",divider:"divider_e664f3",closeIcon:"closeIcon_e664f3",spacer:"spacer_e664f3",createButton:"createButton_e664f3",searchBox:"searchBox_e664f3"}},435042:function(e,t,n){e.exports={container:"container_ebd74a",iconContainer:"iconContainer_ebd74a",icon:"icon_ebd74a",stars:"stars_ebd74a",header:"header_ebd74a",cta:"cta_ebd74a"}},603066:function(e,t,n){e.exports={icon:"icon_f542fc",browser:"browser_f542fc"}},670914:function(e,t,n){e.exports={container:"container_acb8b3",left:"left_acb8b3",subtext:"subtext_acb8b3",authorName:"authorName_acb8b3",startedByName:"startedByName_acb8b3",threadName:"threadName_acb8b3",parentName:"parentName_acb8b3",messageContent:"messageContent_acb8b3",threadNameLine:"threadNameLine_acb8b3",facepile:"facepile_acb8b3",avatar:"avatar_acb8b3",noAvatarIcon:"noAvatarIcon_acb8b3",messageContentTrailingIcon:"messageContentTrailingIcon_acb8b3",messageContentLeadingIcon:"messageContentLeadingIcon_acb8b3",bullet:"bullet_acb8b3"}},71672:function(e,t,n){e.exports={list:"list_c6aa12",activeThreadsList:"activeThreadsList_c6aa12",sectionHeader:"sectionHeader_c6aa12",spinner:"spinner_c6aa12"}},127747:function(e,t,n){e.exports={chatHeaderBar:"chatHeaderBar_e2f46e",narrow:"narrow_e2f46e",chatHeaderBarText:"chatHeaderBarText_e2f46e",chatHeaderBarButton:"chatHeaderBarButton_e2f46e"}},502890:function(e,t,n){e.exports={strikethrough:"strikethrough_fde376"}},423289:function(e,t,n){e.exports={chat:"chat_fe669e"}},327227:function(e,t,n){e.exports={container:"container_af06b5"}},129385:function(e,t,n){e.exports={container:"container_de9d09"}},70762:function(e,t,n){e.exports={container:"container_d96744",personAvatar:"personAvatar_d96744",guildAvatar:"guildAvatar_d96744",illustration:"illustration_d96744",avatarSizeOverride:"avatarSizeOverride_d96744"}},427389:function(e,t,n){e.exports={indicator:"indicator_fa9358",animationContainer:"animationContainer_fa9358",animating:"animating_fa9358",notAnimating:"notAnimating_fa9358",top:"top_fa9358",bottom:"bottom_fa9358",innerCircle:"innerCircle_fa9358",highPriority:"highPriority_fa9358",outerCircle:"outerCircle_fa9358"}},66175:function(e,t,n){e.exports={icon:"icon_cefc08",writingMessagesTitle:"writingMessagesTitle_cefc08",voiceChannelsTitle:"voiceChannelsTitle_cefc08",channelsTitle:"channelsTitle_cefc08"}},878859:function(e,t,n){e.exports={list:"list_fd4745"}},520668:function(e,t,n){e.exports={divider:"divider_e3d8a6"}},66257:function(e,t,n){e.exports={section:"section_ba4d80"}},667589:function(e,t,n){e.exports={listRow:"listRow_e4be58",listRowContent:"listRowContent_e4be58",listName:"listName_e4be58",listAvatar:"listAvatar_e4be58",listDiscriminator:"listDiscriminator_e4be58",empty:"empty_e4be58",emptyText:"emptyText_e4be58",listScroller:"listScroller_e4be58",emptyIconFriends:"emptyIconFriends_e4be58 emptyIcon_e4be58",emptyIconGuilds:"emptyIconGuilds_e4be58 emptyIcon_e4be58",emptyIconStreamerMode:"emptyIconStreamerMode_e4be58 emptyIcon_e4be58"}},722244:function(e,t,n){e.exports={guildAvatar:"guildAvatar_b26403",guildAvatarWithoutIcon:"guildAvatarWithoutIcon_b26403",guildNick:"guildNick_b26403"}},599625:function(e,t,n){e.exports={connectionList:"connectionList_ce1058",isCollapsed:"isCollapsed_ce1058",collapseBtn:"collapseBtn_ce1058",collapseBtnContent:"collapseBtnContent_ce1058",iconWrapper:"iconWrapper_ce1058"}},13484:function(e,t,n){e.exports={mutualGuildItem:"mutualGuildItem_ec153b profilePanelConnectionItem_ec153b",mutualFriendItem:"mutualFriendItem_ec153b profilePanelConnectionItem_ec153b"}},456635:function(e,t,n){e.exports={profilePanel:"profilePanel_b433b4",profilePanelConnections:"profilePanelConnections_b433b4",profileMutuals:"profileMutuals_b433b4",overlay:"overlay_b433b4",mutualGuildsList:"mutualGuildsList_b433b4",mutualFriendsList:"mutualFriendsList_b433b4",mutualFriendsDivider:"mutualFriendsDivider_b433b4"}},651448:function(e,t,n){e.exports={badgeList:"badgeList_ab525a",badgelistGroup:"badgelistGroup_ab525a"}},20256:function(e,t,n){e.exports={container:"container_ecc60d"}},77540:function(e,t,n){e.exports={body:"body_e9e42f",overlay:"overlay_e9e42f"}},615264:function(e,t,n){e.exports={footer:"footer_be6801",buttonColor:"buttonColor_be6801"}},775784:function(e,t,n){e.exports={header:"header_f26c88",overlay:"overlay_f26c88",clickable:"clickable_f26c88"}},440431:function(e,t,n){e.exports={overlay:"overlay_f9da1d",list:"list_f9da1d",divider:"divider_f9da1d"}},780104:function(e,t,n){e.exports={overlay:"overlay_a465ac",overlay2:"overlay2_a465ac",contentGroup:"contentGroup_a465ac",contentText:"contentText_a465ac",buttonGroup:"buttonGroup_a465ac",getNitroButton:"getNitroButton_a465ac",learnMoreButton:"learnMoreButton_a465ac",closeIcon:"closeIcon_a465ac",closeIconWrapper:"closeIconWrapper_a465ac"}},882338:function(e,t,n){e.exports={root:"root_a5ea57",art:"art_a5ea57",buttonContainer:"buttonContainer_a5ea57",button:"button_a5ea57",buttonContents:"buttonContents_a5ea57",heading:"heading_a5ea57",checkboxContainer:"checkboxContainer_a5ea57",closeButton:"closeButton_a5ea57",closeButtonContainer:"closeButtonContainer_a5ea57",activitiesContainer:"activitiesContainer_a5ea57",activitiesContainerSmol:"activitiesContainerSmol_a5ea57",activitySuggestion:"activitySuggestion_a5ea57",clickableTile:"clickableTile_a5ea57",iconContainer:"iconContainer_a5ea57",shelfButtonCloseButton:"shelfButtonCloseButton_a5ea57",closeButtonIcon:"closeButtonIcon_a5ea57"}},270486:function(e,t,n){e.exports={container:"container_b13ff2",iframe:"iframe_b13ff2",clickShield:"clickShield_b13ff2",splashImage:"splashImage_b13ff2",splash:"splash_b13ff2",avatar:"avatar_b13ff2",subheader:"subheader_b13ff2",medium:"medium_b13ff2",small:"small_b13ff2",header:"header_b13ff2",buttons:"buttons_b13ff2",button:"button_b13ff2"}},372453:function(e,t,n){e.exports={wrapper:"wrapper_ba4b17",ringing:"ringing_ba4b17",tile:"tile_ba4b17",idle:"idle_ba4b17",noInteraction:"noInteraction_ba4b17",tileChild:"tileChild_ba4b17",border:"border_ba4b17",voiceChannelEffect:"voiceChannelEffect_ba4b17",speaking:"speaking_ba4b17",noBorder:"noBorder_ba4b17",overlayContainer:"overlayContainer_ba4b17",overlayTop:"overlayTop_ba4b17",overlayBottom:"overlayBottom_ba4b17",overlayTitle:"overlayTitle_ba4b17",overlayTitleText:"overlayTitleText_ba4b17",titleIcon:"titleIcon_ba4b17",secureFramesIcon:"secureFramesIcon_ba4b17",statusContainer:"statusContainer_ba4b17",status:"status_ba4b17",interactive:"interactive_ba4b17",hangStatusContainer:"hangStatusContainer_ba4b17",hangStatusIcon:"hangStatusIcon_ba4b17",hangStatusSmall:"hangStatusSmall_ba4b17",videoDisabledTitle:"videoDisabledTitle_ba4b17",content:"content_ba4b17",streamPreview:"streamPreview_ba4b17",streamPreviewOpacity:"streamPreviewOpacity_ba4b17",indicators:"indicators_ba4b17",selectedScreen:"selectedScreen_ba4b17",toggleMute:"toggleMute_ba4b17",selectedIcon:"selectedIcon_ba4b17",localMuteStrikethrough:"localMuteStrikethrough_ba4b17",liveIndicator:"liveIndicator_ba4b17",addStreamIcon:"addStreamIcon_ba4b17",addCTA:"addCTA_ba4b17",absoluteFill:"absoluteFill_ba4b17",videoWrapper:"videoWrapper_ba4b17",blocked:"blocked_ba4b17",blockedIcon:"blockedIcon_ba4b17",blockedAvatar:"blockedAvatar_ba4b17",small:"small_ba4b17",stopStreamIcon:"stopStreamIcon_ba4b17",darkCircle:"darkCircle_ba4b17",streamUnavailable:"streamUnavailable_ba4b17",streamUnavailableText:"streamUnavailableText_ba4b17",voiceChannelEffectsContainer:"voiceChannelEffectsContainer_ba4b17",stopStreamForeground:"stopStreamForeground_ba4b17"}},289999:function(e,t,n){e.exports={container:"container_dafce5",tileContainer:"tileContainer_dafce5",tile:"tile_dafce5"}},559820:function(e,t,n){e.exports={eventPromptsContainer:"eventPromptsContainer_b6e2f9",controlButton:"controlButton_b6e2f9",wrapper:"wrapper_b6e2f9",buttonContainer:"buttonContainer_b6e2f9"}},858962:function(e,t,n){e.exports={voiceCallWrapper:"voiceCallWrapper_bae578",videoGridWrapper:"videoGridWrapper_bae578",flexCenter:"flexCenter_bae578",videoWrapperAnimated:"videoWrapperAnimated_bae578",videoGrid:"videoGrid_bae578",hiddenParticipants:"hiddenParticipants_bae578",videoSizer:"videoSizer_bae578",focusedVideo:"focusedVideo_bae578"}},679386:function(e,t,n){e.exports={container:"container_f2bd71",tiles:"tiles_f2bd71",tile:"tile_f2bd71",participantsRow:"participantsRow_f2bd71",channelName:"channelName_f2bd71",joinButton:"joinButton_f2bd71"}},454608:function(e,t,n){e.exports={root:"root_cb8821",art:"art_cb8821",hidden:"hidden_cb8821",header:"header_cb8821"}},420751:function(e,t,n){e.exports={tile:"tile_b0f687"}},299993:function(e,t,n){e.exports={root:"root_f42a96"}},868999:function(e,t,n){e.exports={root:"root_f8a4f3",tileWrapper:"tileWrapper_f8a4f3",videoFrame:"videoFrame_f8a4f3",videoWrapper:"videoWrapper_f8a4f3",actionRow:"actionRow_f8a4f3",idle:"idle_f8a4f3",participantsWrapperAnimated:"participantsWrapperAnimated_f8a4f3"}},16734:function(e,t,n){e.exports={tile:"tile_d737b4",tileSizer:"tileSizer_d737b4",root:"root_d737b4"}},967928:function(e,t,n){e.exports={buttonColor:"buttonColor_d4af21",textButton:"textButton_d4af21",iconButton:"iconButton_d4af21"}},385608:function(e,t,n){e.exports={hidden:"hidden_d9fa46",whiteFlash:"whiteFlash_d9fa46",movingImage:"movingImage_d9fa46"}},275953:function(e,t,n){e.exports={toastWrapper:"toastWrapper_dbb3d0",toast:"toast_dbb3d0",avatar:"avatar_dbb3d0",messageContentWrapper:"messageContentWrapper_dbb3d0",mentioned:"mentioned_dbb3d0",sticker:"sticker_dbb3d0",messageContent:"messageContent_dbb3d0",messageContentTrailingIcon:"messageContentTrailingIcon_dbb3d0",messageContentLeadingIcon:"messageContentLeadingIcon_dbb3d0"}},820687:function(e,t,n){e.exports={root:"root_dd069c",idle:"idle_dd069c",topControls:"topControls_dd069c controlSection_dd069c",bottomControls:"bottomControls_dd069c controlSection_dd069c",chatButton:"chatButton_dd069c",chatButtonShowing:"chatButtonShowing_dd069c",videoControls:"videoControls_dd069c",gradientTop:"gradientTop_dd069c gradientContainer_dd069c",gradientBottom:"gradientBottom_dd069c gradientContainer_dd069c"}},318643:function(e,t,n){e.exports={root:"root_eb1d73",warningIcon:"warningIcon_eb1d73"}},400639:function(e,t,n){e.exports={arrow:"arrow_f91b57",up:"up_f91b57"}},322526:function(e,t,n){e.exports={unreadCount:"unreadCount_e33c38",mention:"mention_e33c38"}},749124:function(e,t,n){e.exports={chatIcon:"chatIcon_f420ee",badge:"badge_f420ee"}},288768:function(e,t,n){e.exports={progress:"progress_d8cc3d",container:"container_d8cc3d",countdown:"countdown_d8cc3d"}},211810:function(e,t,n){e.exports={root:"root_cb70fa",comboIcon:"comboIcon_cb70fa",count:"count_cb70fa",icon:"icon_cb70fa"}},978417:function(e,t,n){e.exports={voiceChannelEffectEmojiContainer:"voiceChannelEffectEmojiContainer_b4f8d6",voiceChannelEffectEmoji:"voiceChannelEffectEmoji_b4f8d6"}},213833:function(e,t,n){e.exports={visuallyHidden:"visuallyHidden_b7d6f1",label:"label_b7d6f1",labelUnchecked:"labelUnchecked_b7d6f1",labelChecked:"labelChecked_b7d6f1",burstText:"burstText_b7d6f1",burstTextChecked:"burstTextChecked_b7d6f1",tooltip:"tooltip_b7d6f1",tooltipContainer:"tooltipContainer_b7d6f1",transition:"transition_b7d6f1",shine:"shine_b7d6f1"}},454190:function(e,t,n){e.exports={effect:"effect_efd76b"}},690736:function(e,t,n){e.exports={container:"container_dd3166",emoji:"emoji_dd3166",emoji1:"emoji1_dd3166",emoji2:"emoji2_dd3166",emoji3:"emoji3_dd3166",emoji4:"emoji4_dd3166"}},471915:function(e,t,n){e.exports={reducedMotionTooltip:"reducedMotionTooltip_e11726"}},603374:function(e,t,n){e.exports={video:"video_a5936c",artContainer:"artContainer_a5936c"}},61798:function(e,t,n){e.exports={container:"container_bdea70",slotsContainer:"slotsContainer_bdea70",slots:"slots_bdea70",slotsWide:"slotsWide_bdea70",slot:"slot_bdea70",emoji:"emoji_bdea70",tooltipContainer:"tooltipContainer_bdea70",emojiItemDisabled:"emojiItemDisabled_bdea70",animatedPicker:"animatedPicker_bdea70",animatedPickerTall:"animatedPickerTall_bdea70",emojiPickerHeader:"emojiPickerHeader_bdea70",emojiPickerHeaderExpanded:"emojiPickerHeaderExpanded_bdea70",dropDownContainer:"dropDownContainer_bdea70",dropDown:"dropDown_bdea70",dropDownOpen:"dropDownOpen_bdea70"}},542398:function(e,t,n){e.exports={container:"container_b515b3",circularImage:"circularImage_b515b3",dots:"dots_b515b3"}},548380:function(e,t,n){e.exports={gatedContent:"gatedContent_b9693a",image:"image_b9693a",title:"title_b9693a",description:"description_b9693a",action:"action_b9693a"}},634642:function(e,t,n){e.exports={contentNarrowWithMedia:"contentNarrowWithMedia_fcfd05 contentWithMedia_fcfd05 content_fcfd05",contentNarrowNoMedia:"contentNarrowNoMedia_fcfd05 contentNoMedia_fcfd05 content_fcfd05",contentWideWithMedia:"contentWideWithMedia_fcfd05 contentWithMedia_fcfd05 content_fcfd05",contentWideNoMedia:"contentWideNoMedia_fcfd05 contentNoMedia_fcfd05 content_fcfd05",mediaContainer:"mediaContainer_fcfd05",titleCenter:"titleCenter_fcfd05 title_fcfd05",titleLeft:"titleLeft_fcfd05 title_fcfd05",buttonSkipLeftAlign:"buttonSkipLeftAlign_fcfd05",buttonSkipCenterAlign:"buttonSkipCenterAlign_fcfd05",bodyCenter:"bodyCenter_fcfd05 body_fcfd05",bodyLeft:"bodyLeft_fcfd05 body_fcfd05",buttonContainer:"buttonContainer_fcfd05",popoutRoot:"popoutRoot_fcfd05",arrowAlignmentTop:"arrowAlignmentTop_fcfd05",arrowAlignmentMiddle:"arrowAlignmentMiddle_fcfd05",top:"top_fcfd05",right:"right_fcfd05",left:"left_fcfd05",bottom:"bottom_fcfd05"}},459:function(e,t,n){e.exports={row:"row_d8e960",tile:"tile_d8e960",noVerticalMargin:"noVerticalMargin_d8e960",noHorizontalMargin:"noHorizontalMargin_d8e960",padColumn:"padColumn_d8e960",tileSizer:"tileSizer_d8e960"}},583830:function(e,t,n){n.r(e.exports={wrapper:"wrapper_eb1d8c",video:"video_eb1d8c",videoCover:"videoCover_eb1d8c",videoContain:"videoContain_eb1d8c",mirror:"mirror_eb1d8c",previewWrapper:"previewWrapper_eb1d8c video_eb1d8c",loading:"loading_eb1d8c",previewImage:"previewImage_eb1d8c",emptyPreviewWrapper:"emptyPreviewWrapper_eb1d8c",emptyPreview:"emptyPreview_eb1d8c",spinner:"spinner_eb1d8c"})},613541:function(e,t,n){e.exports={blockedEdit:"blockedEdit_e8366c",blockedSend:"blockedSend_e8366c",shieldIcon:"shieldIcon_e8366c",blockedNoticeIcon:"blockedNoticeIcon_e8366c",blockedNotice:"blockedNotice_e8366c",blockedNoticeContainer:"blockedNoticeContainer_e8366c",compact:"compact_e8366c",ephemeralAccessories:"ephemeralAccessories_e8366c",learnMore:"learnMore_e8366c"}},777282:function(e,t,n){e.exports={operations:"operations_ed9386"}},230953:function(e,t,n){e.exports={wrapper:"wrapper_b211c6",compact:"compact_b211c6",cozy:"cozy_b211c6",contents:"contents_b211c6",content:"content_b211c6",blob:"blob_b211c6",hidden:"hidden_b211c6",header:"header_b211c6",attachmentContainer:"attachmentContainer_b211c6",attachment:"attachment_b211c6",avatar:"avatar_b211c6",compactTimestamp:"compactTimestamp_b211c6"}},224503:function(e,t,n){e.exports={button:"button_da85cf",role:"role_da85cf",removeRole:"removeRole_da85cf",removeRoleIcon:"removeRoleIcon_da85cf"}},461124:function(e,t,n){e.exports={role:"role_deddac",roleColor:"roleColor_deddac",linkedRoleColor:"linkedRoleColor_deddac"}},711212:function(e,t,n){e.exports={list:"list_cdc675",listDefault:"listDefault_cdc675",listCollapse:"listCollapse_cdc675",voiceUser:"voiceUser_cdc675",clickable:"clickable_cdc675",content:"content_cdc675",flipped:"flipped_cdc675",userLarge:"userLarge_cdc675",userSmall:"userSmall_cdc675",avatarContainer:"avatarContainer_cdc675",overlap:"overlap_cdc675",avatar:"avatar_cdc675",avatarSmall:"avatarSmall_cdc675",avatarLarge:"avatarLarge_cdc675",avatarSpeaking:"avatarSpeaking_cdc675",username:"username_cdc675",usernameFont:"usernameFont_cdc675",icons:"icons_cdc675",iconGroup:"iconGroup_cdc675",icon:"icon_cdc675",iconSpacing:"iconSpacing_cdc675",liveIconSpacing:"liveIconSpacing_cdc675",iconPriortySpeaker:"iconPriortySpeaker_cdc675",iconServer:"iconServer_cdc675",strikethrough:"strikethrough_cdc675",hangStatusIcon:"hangStatusIcon_cdc675",selected:"selected_cdc675",clanTag:"clanTag_cdc675",isOverlay:"isOverlay_cdc675",usernameSpeaking:"usernameSpeaking_cdc675",iconPriortySpeakerSpeaking:"iconPriortySpeakerSpeaking_cdc675",disabled:"disabled_cdc675",guestSuffix:"guestSuffix_cdc675"}},372992:function(e,t,n){e.exports={modal:"modal_ed23b8",content:"content_ed23b8"}},175355:function(e){e.exports=JSON.parse('{"v":"5.12.1","fr":60,"ip":0,"op":210,"w":100,"h":100,"nm":"entrypoint_anim","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":9,"ty":4,"nm":"Blur Mask","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[70,70,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":30,"s":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.985,0.985,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":60,"s":[105,105,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.974,0.974,1]},"o":{"x":[0.333,0.333,0.333],"y":[-0.015,-0.015,0]},"t":90,"s":[95,95,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.954,0.954,1]},"o":{"x":[0.333,0.333,0.333],"y":[-0.026,-0.026,0]},"t":120,"s":[105,105,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[-0.091,-0.091,0]},"t":150,"s":[95,95,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[-0.009,-0.009,0]},"t":180,"s":[100,100,100]},{"t":210,"s":[70,70,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[600,600],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0.5,1,1,1,0.75,1,1,1,1,1,1,1,0.5,1,0.75,0.5,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[30,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":210,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":10,"ty":3,"nm":"Rotate Null","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":210,"s":[360]}],"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":210,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"Green","parent":10,"tt":1,"tp":9,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-25,25,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,0.341,0.949,0.529,0.5,0.341,0.949,0.529,1,0.341,0.949,0.529,0,1,0.5,0.5,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[50,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":210,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"Magenta","parent":10,"tt":1,"tp":9,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25,-25,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,0.922,0.271,0.62,0.5,0.922,0.271,0.62,1,0.922,0.271,0.62,0,1,0.5,0.5,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[50,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":210,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":13,"ty":1,"nm":"BG","tt":1,"tp":9,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2,"l":2},"a":{"a":0,"k":[50,50,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"sw":100,"sh":100,"sc":"#5865f2","ip":0,"op":210,"st":0,"bm":0}],"markers":[{"tm":0,"cm":"all","dr":210}],"props":{}}')},160683:function(e){e.exports=JSON.parse('{"nm":"entrypoint_anim","ddd":0,"h":100,"w":100,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":3,"nm":"Trinkets Null","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[50,50,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":0,"ix":11}},"ef":[],"ind":1},{"ty":4,"nm":"L2","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0},"i":{"x":0.502,"y":1},"s":[0,0,100],"t":80},{"o":{"x":0.507,"y":0},"i":{"x":0.833,"y":1},"s":[100,100,100],"t":100},{"s":[0,0,100],"t":120}],"ix":6},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":-13.333,"ix":3},"y":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[27.662],"t":80},{"s":[2.662],"t":120}],"ix":4},"z":{"a":0,"k":0}},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.352,-0.951],[0,0],[-0.274,-0.101],[0,0],[0.951,-0.352],[0,0],[0.101,-0.274],[0,0],[0.352,0.951],[0,0],[0.274,0.101],[0,0],[-0.951,0.352],[0,0],[-0.101,0.274]],"o":[[0.352,-0.951],[0,0],[0.101,0.274],[0,0],[0.951,0.352],[0,0],[-0.274,0.101],[0,0],[-0.352,0.951],[0,0],[-0.101,-0.274],[0,0],[-0.951,-0.352],[0,0],[0.274,-0.101],[0,0]],"v":[[-1.025,-3.786],[1.025,-3.786],[1.611,-2.202],[2.202,-1.611],[3.787,-1.025],[3.787,1.025],[2.202,1.611],[1.611,2.202],[1.025,3.786],[-1.025,3.786],[-1.611,2.202],[-2.202,1.611],[-3.787,1.025],[-3.787,-1.025],[-2.202,-1.611],[-1.611,-2.202]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.3451,0.3961,0.949],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2,"parent":1},{"ty":4,"nm":"R2","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0},"i":{"x":0.502,"y":1},"s":[0,0,100],"t":40},{"o":{"x":0.507,"y":0},"i":{"x":0.833,"y":1},"s":[100,100,100],"t":60},{"s":[0,0,100],"t":80}],"ix":6},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":15,"ix":3},"y":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[25.662],"t":40},{"s":[0.662],"t":80}],"ix":4},"z":{"a":0,"k":0}},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.39,-0.389],[0,0],[-0.224,-0.026],[0,0],[0.061,-0.548],[0,0],[-0.12,-0.191],[0,0],[0.466,-0.294],[0,0],[0.075,-0.213],[0,0],[0.52,0.181],[0,0],[0.213,-0.074],[0,0],[0.183,0.52],[0,0],[0.19,0.12],[0,0],[-0.292,0.467],[0,0],[0.025,0.224],[0,0],[-0.547,0.063],[0,0],[-0.16,0.159]],"o":[[0.39,-0.389],[0,0],[0.16,0.159],[0,0],[0.547,0.063],[0,0],[-0.025,0.224],[0,0],[0.292,0.467],[0,0],[-0.191,0.12],[0,0],[-0.183,0.52],[0,0],[-0.213,-0.074],[0,0],[-0.52,0.181],[0,0],[-0.075,-0.213],[0,0],[-0.466,-0.294],[0,0],[0.12,-0.191],[0,0],[-0.061,-0.548],[0,0],[0.224,-0.026],[0,0]],"v":[[-0.706,-4.594],[0.706,-4.594],[1.543,-3.76],[2.135,-3.475],[3.31,-3.34],[4.19,-2.237],[4.06,-1.061],[4.206,-0.421],[4.833,0.581],[4.519,1.958],[3.519,2.589],[3.11,3.102],[2.717,4.218],[1.445,4.83],[0.329,4.442],[-0.329,4.442],[-1.445,4.83],[-2.717,4.218],[-3.11,3.102],[-3.519,2.589],[-4.519,1.958],[-4.833,0.581],[-4.206,-0.421],[-4.06,-1.061],[-4.19,-2.237],[-3.31,-3.34],[-2.135,-3.475],[-1.543,-3.76]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.9686,0.8,0.3961],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3,"parent":1},{"ty":4,"nm":"R1","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0},"i":{"x":0.502,"y":1},"s":[0,0,100],"t":60},{"o":{"x":0.507,"y":0},"i":{"x":0.833,"y":1},"s":[100,100,100],"t":80},{"s":[0,0,100],"t":100}],"ix":6},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":3.397,"ix":3},"y":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[2.662],"t":60},{"s":[-22.338],"t":100}],"ix":4},"z":{"a":0,"k":0}},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.073,1.165],[0,0],[-0.98,-0.722],[0,0],[1.057,-0.493]],"o":[[-1.057,0.493],[0,0],[0.076,-1.214],[0,0],[0.939,0.692],[0,0]],"v":[[-0.891,3.165],[-3.075,1.676],[-2.853,-1.869],[-0.407,-3.01],[2.453,-0.904],[2.191,1.727]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.5176,0.9333,0.5686],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":4,"parent":1},{"ty":4,"nm":"L1","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0},"i":{"x":0.502,"y":1},"s":[0,0,100],"t":72},{"o":{"x":0.507,"y":0},"i":{"x":0.833,"y":1},"s":[100,100,100],"t":92},{"s":[0,0,100],"t":112}],"ix":6},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":-15.264,"ix":3},"y":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[2.662],"t":72},{"s":[-22.338],"t":112}],"ix":4},"z":{"a":0,"k":0}},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[-0.22,0.82],[0,0],[-0.82,-0.22],[0,0],[0.22,-0.82],[0,0],[0.82,0.22],[0,0]],"o":[[0,0],[0.22,-0.82],[0,0],[0.82,0.22],[0,0],[-0.22,0.82],[0,0],[-0.82,-0.22]],"v":[[-3.838,0.961],[-2.844,-2.751],[-0.961,-3.838],[2.751,-2.844],[3.838,-0.961],[2.844,2.751],[0.961,3.838],[-2.751,2.844]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.8235,0.5961,1],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":5,"parent":1},{"ty":3,"nm":"Rotate Null","sr":1,"st":0,"op":210,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[50,50,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"s":[360],"t":210}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":0,"ix":11}},"ef":[],"ind":6}],"v":"5.12.1","fr":60,"op":210,"ip":0,"assets":[]}')}}]);
//# sourceMappingURL=2811dda36e6dd7344bde.js.map