"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["36148"],{950375:function(e){e.exports="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='271' height='141'><g fill='#000000' fill-rule='evenodd'><rect width='130' height='20' rx='5'/><rect width='254' height='20' y='30' rx='5'/><rect width='190' height='20' y='60' rx='5'/><rect width='66' height='32' y='102' rx='3'/></g></svg>"},21201:function(e){e.exports="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='271' height='165'><path fill='#000000' fill-rule='evenodd' d='M5 0h120c2.761424 0 5 2.23857625 5 5v10c0 2.7614237-2.238576 5-5 5H5c-2.76142375 0-5-2.2385763-5-5V5c0-2.76142375 2.23857625-5 5-5zm0 30h244c2.761424 0 5 2.2385763 5 5v10c0 2.7614237-2.238576 5-5 5H5c-2.76142375 0-5-2.2385763-5-5V35c0-2.7614237 2.23857625-5 5-5zm0 30h180c2.761424 0 5 2.2385763 5 5v10c0 2.7614237-2.238576 5-5 5H5c-2.76142375 0-5-2.2385763-5-5V65c0-2.7614237 2.23857625-5 5-5zm-2 60h60c1.6568542 0 3 1.343146 3 3v26c0 1.656854-1.3431458 3-3 3H3c-1.65685425 0-3-1.343146-3-3v-26c0-1.656854 1.34314575-3 3-3z'/></svg>"},107811:function(e,t,n){e.exports=n.p+"1f57125d51fadbc6dc1e.png"},819616:function(e,t,n){e.exports=n.p+"0d8d53787ef89f44bf70.svg"},930622:function(e,t,n){e.exports=n.p+"1a21f9abe80437d72ec9.svg"},154239:function(e,t,n){e.exports=n.p+"22ff731ec050e3214b69.svg"},344163:function(e,t,n){e.exports=n.p+"617505e363f7f7cf9492.svg"},819373:function(e,t,n){e.exports=n.p+"6a41d3db4f37899d1306.svg"},570111:function(e,t,n){e.exports=n.p+"db0473de8224a02f3a88.svg"},474019:function(e,t,n){e.exports=n.p+"a9a584801acb67bbd8c7.svg"},324606:function(e,t,n){e.exports=n.p+"fe4b34a9169abf184838.svg"},508933:function(e,t,n){e.exports=n.p+"6f536f6e07b76e4343a6.svg"},879066:function(e,t,n){e.exports=n.p+"ef0edf1700392798a64b.svg"},680674:function(e,t,n){e.exports=n.p+"909be7d32b69d07611e7.svg"},948514:function(e,t,n){e.exports=n.p+"d6fe8121b46dca8cf0f8.svg"},850582:function(e,t,n){e.exports=n.p+"3d32fdd26dd784b55cba.svg"},826926:function(e,t,n){e.exports=n.p+"87e9690b5caf00d447fc.svg"},195853:function(e,t,n){e.exports=n.p+"5b7223f5e86d0674b77c.png"},963129:function(e,t,n){e.exports=n.p+"1ef7b985c67c6e1cc56e.svg"},99669:function(e,t,n){e.exports=n.p+"b7f2886b9ddbbff16716.svg"},695862:function(e,t,n){e.exports=n.p+"b460c96f0b14bd780138.svg"},946790:function(e,t,n){e.exports=n.p+"fe097467e41435d7cccf.svg"},379631:function(e,t,n){e.exports=n.p+"43f3d7ff7b9f25fecb45.svg"},340962:function(e,t,n){e.exports=n.p+"1c61288cd05bf70cb7a5.png"},498967:function(e,t,n){e.exports=n.p+"9d693149f8eaa8574899.svg"},303893:function(e,t,n){e.exports=n.p+"a8bc0678674839d22be8.svg"},808392:function(e,t,n){e.exports=n.p+"6306368cac8c90e0d9f9.svg"},769377:function(e,t,n){e.exports=n.p+"1c6d93c002cd9eccafd8.svg"},132642:function(e,t,n){e.exports=n.p+"8cb0243cca07ceea4c6f.svg"},340600:function(e,t,n){e.exports=n.p+"8be08bf8c396b792c9c7.svg"},114693:function(e,t,n){e.exports=n.p+"1bf35dbca4be747e6f1d.svg"},564120:function(e,t,n){e.exports=n.p+"2d16589039d5ca8772da.svg"},57089:function(e,t,n){e.exports=n.p+"cd9c4c5c8b0630e34c34.svg"},850852:function(e,t,n){e.exports=n.p+"2727e3e57604c3ad9f28.svg"},231679:function(e,t,n){e.exports=n.p+"543331b4d79877bce75c.svg"},9569:function(e,t,n){e.exports=n.p+"37e23bfcc73c946c7742.svg"},473071:function(e,t,n){e.exports=n.p+"062705a7ea7396ee6a07.svg"},945368:function(e,t,n){e.exports=n.p+"02087a66f3026f73eb40.jpg"},569655:function(e,t,n){e.exports=n.p+"4a4f615d7cbb60a628d9.jpg"},836110:function(e,t,n){e.exports=n.p+"1610ebc9406b88f4f5ca.png"},439953:function(e,t,n){e.exports=n.p+"aed7a3ef51221e84acfc.svg"},527455:function(e,t,n){e.exports=n.p+"70bc7bc5db37422f7e3e.jpg"},788429:function(e,t,n){e.exports=n.p+"85cf87119c6b08a6e41b.png"},389765:function(e,t,n){e.exports=n.p+"a7bf1157100b9d5fe838.svg"},137492:function(e,t,n){e.exports=n.p+"1aa14d3f2c4e28e500ae.svg"},387661:function(e,t,n){e.exports=n.p+"79a7dc8f909e1fbbdf61.svg"},652430:function(e,t,n){e.exports=n.p+"1a8bdab687ef5ec16c33.svg"},659953:function(e,t,n){e.exports=n.p+"cc49a783d5a5fb4befc5.svg"},319707:function(e,t,n){e.exports=n.p+"3845acc59d1827bb8c95.svg"},584914:function(e,t,n){e.exports=n.p+"439a02467d22044c463b.svg"},334702:function(e,t,n){e.exports=n.p+"cc834bf459bb091bbcb3.svg"},333722:function(e,t,n){e.exports=n.p+"1fe6415001c6ce324ad3.svg"},549931:function(e,t,n){e.exports=n.p+"4f2a393abab213e07d3c.svg"},756688:function(e,t,n){e.exports=n.p+"821b1190003f1f3c1be1.svg"},886765:function(e,t,n){e.exports=n.p+"74d0f0a351df712ad0bc.svg"},178561:function(e,t,n){e.exports=n.p+"0e799bf99aa0354bad91.svg"},39863:function(e,t,n){e.exports=n.p+"5760c6cde415e37ef28b.svg"},130312:function(e,t,n){e.exports=n.p+"af1d8d9049a890d4a743.svg"},87181:function(e,t,n){e.exports=n.p+"d941d0168367773932fe.svg"},969728:function(e,t,n){e.exports=n.p+"368a2969db80ee62ac23.svg"},992134:function(e,t,n){e.exports=n.p+"f149df20b772b40f618a.svg"},241159:function(e,t,n){n.d(t,{k:function(){return l}});var i=n(544891),a=n(570140),s=n(981631);function l(e){return a.Z.dispatch({type:"APPLICATION_STORE_DIRECTORY_LAYOUT_FETCHING",applicationId:e}),i.tn.get({url:s.ANM.STORE_LAYOUT(e)}).then(t=>(a.Z.dispatch({type:"APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS",applicationId:e,listings:t.body}),t.body)).catch(()=>{a.Z.dispatch({type:"APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_FAILED",applicationId:e})})}},528963:function(e,t,n){var i=n(544891),a=n(570140),s=n(981631);t.Z={createChannelFollower:(e,t)=>i.tn.post({url:s.ANM.CHANNEL_FOLLOWERS(t),body:{webhook_channel_id:e},oldFormErrors:!0}),async fetchChannelFollowerStats(e){a.Z.dispatch({type:"CHANNEL_FOLLOWER_STATS_FETCH_START"});try{let t=await i.tn.get({url:s.ANM.CHANNEL_FOLLOWER_STATS(e),body:{channel_id:e},oldFormErrors:!0});a.Z.dispatch({type:"CHANNEL_FOLLOWER_STATS_FETCH_SUCCESS",stats:t.body,channelId:e})}catch(t){a.Z.dispatch({type:"CHANNEL_FOLLOWER_STATS_FETCH_FAILURE",channelId:e})}},dismissPublishBump(e){a.Z.dispatch({type:"CHANNEL_FOLLOWING_PUBLISH_BUMP_DISMISSED",messageId:e})},permanentlyHidePublishBump(e){a.Z.dispatch({type:"CHANNEL_FOLLOWING_PUBLISH_BUMP_HIDE_PERMANENTLY",channelId:e})}}},816782:function(e,t,n){var i=n(570140);t.Z={toggleMembersSection(){i.Z.dispatch({type:"CHANNEL_TOGGLE_MEMBERS_SECTION"})},toggleProfilePanelSection(){i.Z.dispatch({type:"PROFILE_PANEL_TOGGLE_SECTION"})},toggleSummariesSection(){i.Z.dispatch({type:"CHANNEL_TOGGLE_SUMMARIES_SECTION"})}}},117266:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(570140);function a(e){i.Z.dispatch({type:"DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS",skuId:e})}},235820:function(e,t,n){var i=n(544891),a=n(570140),s=n(981631);t.Z={setGuildFilter(e){let{guildFilter:t,roleFilter:n,everyoneFilter:i}=e;a.Z.dispatch({type:"SET_RECENT_MENTIONS_FILTER",guildFilter:t,roleFilter:n,everyoneFilter:i})},clearMentions(){a.Z.dispatch({type:"CLEAR_MENTIONS"})},truncateMentions(e){a.Z.dispatch({type:"TRUNCATE_MENTIONS",size:e})},fetchRecentMentions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.DJj,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=!(arguments.length>3)||void 0===arguments[3]||arguments[3],r=!(arguments.length>4)||void 0===arguments[4]||arguments[4];a.Z.dispatch({type:"LOAD_RECENT_MENTIONS",guildId:n}),i.tn.get({url:s.ANM.MENTIONS,query:{before:e,limit:t,guild_id:n,roles:l,everyone:r},retries:2,oldFormErrors:!0}).then(t=>{let{body:n}=t;a.Z.dispatch({type:"LOAD_RECENT_MENTIONS_SUCCESS",messages:n,isAfter:null!=e,hasMoreAfter:n.length>=s.DJj})},()=>{a.Z.dispatch({type:"LOAD_RECENT_MENTIONS_FAILURE"})})},deleteRecentMention(e){i.tn.del({url:s.ANM.MENTIONS_MESSAGE_ID(e),retries:2,oldFormErrors:!0}),a.Z.dispatch({type:"RECENT_MENTION_DELETE",id:e})},setRecentMentionsStale(){a.Z.dispatch({type:"SET_RECENT_MENTIONS_STALE"})}}},195500:function(e,t,n){var i=n(570140);t.Z={clearRemoteDisconnectVoiceChannelId(){i.Z.dispatch({type:"CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID"})},clearLastSessionVoiceChannelId(){i.Z.dispatch({type:"CLEAR_LAST_SESSION_VOICE_CHANNEL_ID"})}}},603263:function(e,t,n){n.d(t,{Nz:function(){return d},QQ:function(){return T},QY:function(){return p},Vj:function(){return c},j8:function(){return h},jn:function(){return _},m$:function(){return u},oO:function(){return E},qt:function(){return N},u$:function(){return f},yC:function(){return o}}),n(724458);var i=n(570140),a=n(367907),s=n(768119),l=n(405656),r=n(981631);function o(e,t,n,o){(0,l.jW)(t,e),o&&(t.search_everywhere=!0);let c=Object.keys(t);a.ZP.trackWithMetadata(r.rMx.SEARCH_STARTED,{search_type:s.Z.getSearchType(),prev_search_id:s.Z.getAnalyticsId(e),num_modifiers:c.length,modifiers:c.reduce((e,n)=>{let i=t[n];return e[n]=Array.isArray(i)?i.length:1,e},{})}),i.Z.dispatch({type:"SEARCH_START",query:t,searchId:e,queryString:n,searchEverywhere:o})}function c(e){return"relevance"===e.sort_by?r.QIO.MOST_RELEVANT:"asc"===e.sort_order?r.QIO.OLDEST:r.QIO.NEWEST}function d(e,t){let n=s.Z.getQuery(e),i=function(e){switch(e){case r.QIO.MOST_RELEVANT:return{sort_by:"relevance",sort_order:"desc"};case r.QIO.OLDEST:return{sort_by:"timestamp",sort_order:"asc"};case r.QIO.NEWEST:default:return{sort_by:"timestamp",sort_order:"desc"}}}(t);return o(e,{...n,...i,offset:0})}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.vpv;return I(e,t)}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.vpv;return I(e,-t)}function E(e,t){return m(e,t*r.vpv)}function I(e,t){let n=s.Z.getOffset(e);return m(e,n+t)}function m(e,t){let n=s.Z.getQuery(e),i=s.Z.getTotalResults(e);if(!(t<0)&&!(t>i))return o(e,{...n,offset:t})}function T(e){i.Z.dispatch({type:"SEARCH_CLEAR_HISTORY",searchId:e})}function h(e,t){null!=e&&i.Z.dispatch({type:"SEARCH_EDITOR_STATE_CHANGE",searchId:e,editorState:t})}function N(e){a.ZP.trackWithMetadata(r.rMx.SEARCH_CLOSED,{search_id:s.Z.getAnalyticsId(e)}),i.Z.wait(()=>i.Z.dispatch({type:"SEARCH_EDITOR_STATE_CLEAR",searchId:e}))}function f(e,t,n){null!=e&&i.Z.dispatch({type:"SEARCH_AUTOCOMPLETE_QUERY_UPDATE",searchId:e,tokens:t,cursorScope:n})}function p(e,t){i.Z.dispatch({type:"SEARCH_SET_SHOW_BLOCKED_RESULTS",searchId:e,showBlocked:t})}},205355:function(e,t,n){n(47120);var i=n(544891),a=n(570140),s=n(981631);let l="".concat(s.dGm,"/api/v2/scheduled-maintenances"),r="".concat(s.dGm,"/api/v2/incidents/unresolved.json");t.Z={checkIncidents(){Promise.all([i.tn.get("".concat(l,"/active.json")),i.tn.get(r)]).then(e=>{let[t,n]=e,[i]=t.body.scheduled_maintenances,[s]=n.body.incidents;a.Z.dispatch({type:"STATUS_PAGE_INCIDENT",incident:s||i})})},checkScheduledMaintenances(){i.tn.get("".concat(l,"/upcoming.json")).then(e=>{let[t]=e.body.scheduled_maintenances;a.Z.dispatch({type:"STATUS_PAGE_SCHEDULED_MAINTENANCE",maintenance:t})})},ackScheduledMaintenance(){a.Z.dispatch({type:"STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK"})}}},223245:function(e,t,n){n(47120);var i=n(570140);t.Z={setEnabled(e){this.update({enabled:e})},update(e){for(let t of Object.keys(e))i.Z.dispatch({type:"STREAMER_MODE_UPDATE",key:t,value:e[t]})}}},491428:function(e,t,n){n.d(t,{Xq:function(){return d},g8:function(){return E},hZ:function(){return u},wk:function(){return _}});var i=n(990547),a=n(283693),s=n(570140),l=n(558724),r=n(626135),o=n(573261),c=n(981631);function d(e){s.Z.dispatch({type:"SURVEY_OVERRIDE",id:e})}function u(e,t){s.Z.dispatch({type:"SURVEY_HIDE",key:e}),t?r.default.track(c.rMx.APP_NOTICE_CLOSED,{notice_type:c.kVF.SURVEY,survey_id:e,dismissed:t}):r.default.track(c.rMx.APP_NOTICE_PRIMARY_CTA_OPENED,{notice_type:c.kVF.SURVEY})}function _(e,t){var n={};return null!=e&&(n.survey_override=e),null!=t&&(n.disable_auto_seen=t),o.Z.get({url:c.ANM.USER_SURVEY,query:n,trackedActionData:{event:i.NetworkActionNames.USER_SURVEY_FETCH,properties:e=>{var t;let n=null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.survey;return(0,a.iG)({key:null==n?void 0:n.key})}}}).then(e=>{var t;s.Z.dispatch({type:"SURVEY_FETCHED",survey:null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.survey})},()=>{s.Z.dispatch({type:"SURVEY_FETCHED",survey:null})})}function E(e){let t=l.Z.getLastSeenTimestamp();if(null===t||null!=t&&Date.now()-t>=l.J)return s.Z.dispatch({type:"SURVEY_SEEN",key:e}),o.Z.post({url:c.ANM.USER_SURVEY_SEEN(e),trackedActionData:{event:i.NetworkActionNames.USER_SURVEY_SEEN,properties:t=>(0,a.iG)({key:e})}})}},401430:function(e,t,n){n.d(t,{Wt:function(){return _},mc:function(){return E},q$:function(){return I}}),n(411104),n(789020);var i=n(570140),a=n(566620),s=n(728345),l=n(812206),r=n(973616),o=n(630388),c=n(591759),d=n(978085),u=n(981631);async function _(e,t){i.Z.dispatch({applicationId:e,type:"DEVELOPER_TEST_MODE_AUTHORIZATION_START"});try{if(!await (0,a.W5)(e))throw Error("Do not have access!");let n=l.Z.getApplication(e);null==n&&(n=r.Z.createFromServer(await s.Z.fetchApplication(e)));let _=(0,o.yE)(n.flags,u.udG.EMBEDDED);if(_&&(null==t||!c.Z.URL_REGEX.test(t)))throw Error("Invalid Origin URL for embedded application");return!_&&d.GR(n),i.Z.dispatch({type:"DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS",applicationId:e,originURL:_?t:null}),n}catch(t){return i.Z.dispatch({type:"DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL",applicationId:e,error:t.message}),null}}function E(){i.Z.dispatch({type:"DEVELOPER_TEST_MODE_RESET"})}function I(){i.Z.dispatch({type:"DEVELOPER_TEST_MODE_RESET_ERROR"})}},256638:function(e,t,n){n.d(t,{Z:function(){return ep},c:function(){return eN}});var i=n(735250),a=n(470079),s=n(913527),l=n.n(s),r=n(613828),o=n(442837),c=n(481060),d=n(668781),u=n(893776),_=n(117266),E=n(37234),I=n(254854),m=n(195500),T=n(287734),h=n(205355),N=n(558381),f=n(223245),p=n(491428),C=n(401430),g=n(230711),S=n(726542),A=n(100527),R=n(906732),x=n(812206),O=n(391650),M=n(605236),v=n(749277),L=n(492435),Z=n(353926),P=n(506357),b=n(36459),D=n(236069),j=n(305325),U=n(281956),y=n(574650),B=n(665302),k=n(434404),G=n(918658),F=n(859428),w=n(963249),V=n(774276),H=n(14335),Y=n(246965),W=n(272008),z=n(523255),K=n(852923),Q=n(592125),q=n(430824),X=n(131951),J=n(19780),$=n(914010),ee=n(594174),et=n(55563),en=n(695103),ei=n(933429),ea=n(285952),es=n(626135),el=n(63063),er=n(72924),eo=n(69499),ec=n(912193),ed=n(981631),eu=n(474936),e_=n(610674),eE=n(65154),eI=n(689938),em=n(596791);let eT=()=>(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DANGER,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>{eN(),(0,ec.b)()}}),eI.Z.Messages.NOTICE_NO_INPUT_DETECTED,(0,i.jsx)(c.NoticeButtonAnchor,{href:el.Z.getArticleURL(ed.BhN.NO_INPUT_DETECTED),children:eI.Z.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT})]}),eh=()=>(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DANGER,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>{eN(),(0,ec.b)()}}),eI.Z.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,(0,i.jsx)(c.NoticeButton,{onClick:()=>{(0,E.jN)(ed.S9g.USER_SETTINGS),g.Z.setSection(ed.oAB.VOICE)},children:eI.Z.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT})]});function eN(e){I.Z.dismiss(null!=e?{untilAtLeast:l()(e)}:void 0)}let ef=12633==n.j?a.memo(function(){var e,t,s;let I=(0,o.e7)([ee.default],()=>ee.default.getCurrentUser()),A=(0,o.e7)([$.Z],()=>$.Z.getGuildId()),ec=(0,o.e7)([ei.Z],()=>ei.Z.getNotice()),ef=(0,o.e7)([q.Z],()=>q.Z.getGuild(A)),{analyticsLocations:ep}=(0,R.ZP)(),eC=null==ec?void 0:ec.type,eg=(0,U.J)(A);a.useEffect(()=>{null!=eC&&!function(e,t){let n={notice_type:e};null!=t&&(n.guild_id=t),es.default.track(ed.rMx.APP_NOTICE_VIEWED,n)}(eC,A)},[eC,A]),a.useEffect(()=>{if(null!=ec&&ec.type===ed.kVF.SURVEY&&null!=ec.metadata){let{metadata:e}=ec,t=Z.Z.getUserExperimentDescriptor(e.id);null!=t&&(0,L.W9)(e.id,t),(async()=>{var e,t;(null===(e=ec.metadata)||void 0===e?void 0:e.id)!=null&&await (0,p.g8)(null===(t=ec.metadata)||void 0===t?void 0:t.id)})()}},[ec]);let eS=function(e){let{enabled:t}=(0,V.ZP)(!0,e!==ed.kVF.PREMIUM_TIER_2_TRIAL_ENDING);return t||null==e?null:ei.m[e]}(eC);if(null==ec)return null;if(null!=eS)return(0,i.jsx)(v.A,{dismissibleContent:eS,noticeType:ec.type});let eA=null===(e=ec.metadata)||void 0===e?void 0:e.premiumType;switch(ec.type){case ed.kVF.LURKING_GUILD:return(0,i.jsx)(F.Z,{});case ed.kVF.PENDING_MEMBER:return(0,i.jsx)(y.Z,{});case ed.kVF.INVITED_TO_SPEAK:return(0,i.jsx)(K.Z,{});case ed.kVF.GUILD_RAID_NOTIFICATION:let{dismissUntil:eR}=ec.metadata;return(0,i.jsx)(P.Z,{onDismiss:()=>eN(eR)});case ed.kVF.WIN32_DEPRECATED_MESSAGE:let{dismissUntil:ex}=ec.metadata;return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.WARNING,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>eN(ex),noticeType:ed.kVF.WIN32_DEPRECATED_MESSAGE}),eI.Z.Messages.WINDOWS_32_BIT_DEPRECATED_WARNING.format({helpCenterLink:el.Z.getArticleURL(ed.BhN.WIN32_DEPRECATE)})]});case ed.kVF.WIN7_8_DEPRECATED_MESSAGE:let{dismissUntil:eO}=ec.metadata;return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.WARNING,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>eN(eO),noticeType:ed.kVF.WIN7_8_DEPRECATED_MESSAGE}),eI.Z.Messages.WINDOWS_7_8_DEPRECATED_WARNING.format({helpCenterLink:el.Z.getArticleURL(ed.BhN.WIN7_8_DEPRECATE)})]});case ed.kVF.MACOS_17_18_DEPRECATED_MESSAGE:let{dismissUntil:eM}=ec.metadata;return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.WARNING,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>eN(eM),noticeType:ed.kVF.MACOS_17_18_DEPRECATED_MESSAGE}),eI.Z.Messages.MACOS_DEPRECATED_WARNING.format({helpCenterLink:el.Z.getArticleURL(ed.BhN.MACOS_17_18_DEPRECATE)})]});case ed.kVF.GENERIC:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DEFAULT,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>eN(),noticeType:ed.kVF.GENERIC}),ec.message,null!=ec.buttonText?(0,i.jsx)(c.PrimaryCTANoticeButton,{onClick:ec.callback,noticeType:ed.kVF.GENERIC,children:ec.buttonText}):null]});case ed.kVF.LAUNCH_GAME_FAILURE:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DANGER,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>eN(),noticeType:ed.kVF.LAUNCH_GAME_FAILURE}),ec.message,null!=ec.buttonText?(0,i.jsx)(c.PrimaryCTANoticeButton,{onClick:ec.callback,noticeType:ed.kVF.LAUNCH_GAME_FAILURE,children:ec.buttonText}):null]});case ed.kVF.VOICE_DISABLED:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.WARNING,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>{m.Z.clearRemoteDisconnectVoiceChannelId(),eN()},noticeType:ed.kVF.VOICE_DISABLED}),eI.Z.Messages.NOTICE_CONNECTION_CONFLICT,(0,i.jsx)(c.PrimaryCTANoticeButton,{onClick:()=>{let e=J.Z.getRemoteDisconnectVoiceChannelId();null!=e&&null!=Q.Z.getChannel(e)&&T.default.selectVoiceChannel(e)},noticeType:ed.kVF.VOICE_DISABLED,children:eI.Z.Messages.RECONNECT})]});case ed.kVF.VOICE_CONNECTED_LAST_SESSION:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DEFAULT,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>{m.Z.clearLastSessionVoiceChannelId(),eN()},noticeType:ed.kVF.VOICE_CONNECTED_LAST_SESSION}),eI.Z.Messages.NOTICE_VOICE_CONNECTED_LAST_SESSION,(0,i.jsx)(c.PrimaryCTANoticeButton,{onClick:()=>{let e=J.Z.getLastSessionVoiceChannelId();null!=e&&null!=Q.Z.getChannel(e)&&T.default.selectVoiceChannel(e)},noticeType:ed.kVF.VOICE_CONNECTED_LAST_SESSION,children:eI.Z.Messages.RECONNECT})]});case ed.kVF.SPOTIFY_AUTO_PAUSED:let ev=S.Z.get(ed.ABu.SPOTIFY);return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DANGER,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>eN(),noticeType:ed.kVF.SPOTIFY_AUTO_PAUSED}),(0,i.jsx)("img",{alt:"",className:em.platformIcon,src:ev.icon.whiteSVG}),eI.Z.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,(0,i.jsx)(c.PrimaryCTANoticeButton,{onClick:()=>g.Z.open(ed.oAB.VOICE),noticeType:ed.kVF.SPOTIFY_AUTO_PAUSED,children:eI.Z.Messages.VOICE_SETTINGS}),(0,i.jsx)(c.Anchor,{className:em.textLinkSmall,href:el.Z.getArticleURL(ed.BhN.SPOTIFY_AUTO_PAUSED),target:"_blank",children:eI.Z.Messages.NOTICE_WHATS_THIS})]});case ed.kVF.UNCLAIMED_ACCOUNT:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DEFAULT,children:[eI.Z.Messages.NOTICE_UNCLAIMED_ACCOUNT,(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.UNCLAIMED_ACCOUNT,onClick:()=>eg&&null!=A?(0,j.hk)(A):O.j(),children:eI.Z.Messages.CLAIM_ACCOUNT})]});case ed.kVF.UNVERIFIED_ACCOUNT:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DEFAULT,children:[eI.Z.Messages.NOTICE_UNVERIFIED_ACCOUNT_UU,(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.UNVERIFIED_ACCOUNT,onClick:()=>{u.Z.verifyResend(),d.Z.show({title:eI.Z.Messages.VERIFICATION_EMAIL_TITLE,body:eI.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:null==I?void 0:I.email}),secondaryConfirmText:eI.Z.Messages.CHANGE_EMAIL,onConfirmSecondary:O.j})},children:eI.Z.Messages.RESEND_EMAIL_SHORT})]});case ed.kVF.SCHEDULED_MAINTENANCE:if(null==ec.metadata)return null;return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DEFAULT,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>h.Z.ackScheduledMaintenance(),noticeType:ed.kVF.SCHEDULED_MAINTENANCE}),eI.Z.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(ec.metadata),(0,i.jsx)(c.NoticeButtonAnchor,{href:"".concat(ed.yXt.STATUS,"/incidents/").concat(ec.metadata.id),children:eI.Z.Messages.LEARN_MORE})]});case ed.kVF.NO_INPUT_DETECTED:if(!X.Z.supports(eE.AN.LOOPBACK))return(0,i.jsx)(eT,{});return(0,i.jsx)(eh,{});case ed.kVF.HARDWARE_MUTE:if(null==ec.metadata)return null;let{vendor:eL,model:eZ}=ec.metadata;return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DANGER,children:[eI.Z.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:eL.name,modelName:eZ.name}),(0,i.jsx)(c.NoticeButtonAnchor,{href:eZ.url,target:"_blank",rel:"noreferrer noopener",children:eI.Z.Messages.SUPPORT})]});case ed.kVF.STREAMER_MODE:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.STREAMER_MODE,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>eN(),noticeType:ed.kVF.STREAMER_MODE}),eI.Z.Messages.NOTICE_STREAMER_MODE_TEXT,(0,i.jsx)(c.PrimaryCTANoticeButton,{onClick:()=>f.Z.setEnabled(!1),noticeType:ed.kVF.STREAMER_MODE,children:eI.Z.Messages.DISABLE})]});case ed.kVF.H264_DISABLED:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DANGER,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>{eN()}}),eI.Z.Messages.NOTICE_H264_DISABLED_SETTINGS,(0,i.jsx)(c.NoticeButton,{onClick:()=>{(0,E.jN)(ed.S9g.USER_SETTINGS),g.Z.setSection(ed.oAB.VOICE)},children:eI.Z.Messages.NOTICE_H264_DISABLED_SETTINGS_LINK_TEXT})]});case ed.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==ec.metadata)return null;let{skuId:eP,applicationId:eb}=ec.metadata,eD=et.Z.get(eP),ej=x.Z.getApplication(eb);if(null==eD||null==ej)return null;let eU={page:ed.ZY5.IN_APP};return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.PREMIUM_TIER_1,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>_.Z(eD.id),noticeType:ed.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK}),(0,i.jsx)(c.NitroWheelIcon,{size:"md",color:"currentColor",className:em.premiumIcon}),eI.Z.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:ej.name,skuName:eD.name}),(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK,onClick:()=>(0,er.S)({applicationId:ej.id,skuId:eD.id,openPremiumPaymentModal:()=>{(0,w.Z)({initialPlanId:null,subscriptionTier:eu.Si.TIER_2,analyticsLocations:ep,analyticsObject:eU})},analyticsLocations:ep,analyticsLocationObject:eU,context:__OVERLAY__?ed.IlC.OVERLAY:ed.IlC.APP}).then(()=>_.Z(eD.id)),children:eI.Z.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON})]});case ed.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:{if(null==ec.metadata)return null;let{skuId:e,applicationId:t}=ec.metadata,n=et.Z.get(e),a=x.Z.getApplication(t);if(null==n||null==a)return null;return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.PREMIUM_TIER_1,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>eN(),noticeType:ed.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL}),(0,i.jsx)(c.NitroWheelIcon,{size:"md",color:"currentColor",className:em.premiumIcon}),eI.Z.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({applicationName:a.name,skuName:n.name}),(0,i.jsx)(c.NoticeButton,{children:(0,i.jsx)(r.rU,{onClick:()=>eN(),to:{pathname:ed.Z5c.APPLICATION_STORE_LISTING_SKU(n.id),state:{scrollRestoration:!1}},children:eI.Z.Messages.LEARN_MORE})})]})}case ed.kVF.SURVEY:{let e=ec.metadata;if(null==e)return null;let{key:t,prompt:n,cta:a,url:s}=e;return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.CUSTOM,children:[(0,i.jsx)(c.NoticeCloseButton,{noticeType:ed.kVF.SURVEY,onClick:()=>{(0,p.hZ)(t,!0)}}),n,(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.SURVEY,onClick:()=>{window.open(s,"_blank"),(0,p.hZ)(t,!1)},children:a})]})}case ed.kVF.SERVER_USAGE_SURVEY:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.CUSTOM,children:[(0,i.jsx)(c.NoticeCloseButton,{noticeType:ed.kVF.SERVER_USAGE_SURVEY,onClick:()=>{eN()}}),eI.Z.Messages.SERVER_USAGE_SURVEY_BODY.format({guildName:null!==(t=null==ef?void 0:ef.name)&&void 0!==t?t:"this server"}),(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.SERVER_USAGE_SURVEY,onClick:()=>{window.open("https://discord.sjc1.qualtrics.com/jfe/form/SV_9AHPmGasQ0EvpdQ?user_id=".concat(null==I?void 0:I.id,"&guild_id=").concat(null==ef?void 0:ef.id),"_blank"),eN()},additionalTrackingProps:{guild_id:null==ef?void 0:ef.id},children:eI.Z.Messages.SERVER_USAGE_SURVEY_CTA})]});case ed.kVF.CORRUPT_INSTALLATION:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DANGER,children:[eI.Z.Messages.NOTICE_CORRUPT_INSTALLATION,(0,i.jsx)(c.NoticeButtonAnchor,{href:el.Z.getArticleURL(ed.BhN.CORRUPT_INSTALLATION),target:"_blank",children:eI.Z.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT})]});case ed.kVF.VIDEO_UNSUPPORTED_BROWSER:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.WARNING,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>eN(),noticeType:ed.kVF.VIDEO_UNSUPPORTED_BROWSER}),eI.Z.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.VIDEO_UNSUPPORTED_BROWSER,onClick:()=>{(0,c.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,431583));return t=>(0,i.jsx)(e,{source:"Video unsupported browser",...t})})},children:eI.Z.Messages.DOWNLOAD})]});case ed.kVF.DISPATCH_ERROR:if(null==ec.metadata)return null;let{error:ey}=ec.metadata;return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DANGER,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>eN(),noticeType:ed.kVF.DISPATCH_ERROR}),null==ey?void 0:ey.displayMessage,(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.DISPATCH_ERROR,onClick:()=>(0,c.openModalLazy)(async()=>{let{default:e}=await n.e("20212").then(n.bind(n,915194));return t=>(0,i.jsx)(e,{...t})}),children:eI.Z.Messages.LEARN_MORE})]});case ed.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==ec.metadata)return null;let{progress:eB,total:ek,name:eG}=ec.metadata;return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DEFAULT,children:[(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>eN(),noticeType:ed.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS}),(0,i.jsxs)(ea.Z,{justify:ea.Z.Justify.CENTER,children:[null!=eG?eI.Z.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:"".concat(eG),progress:"".concat(eB),total:"".concat(ek)}):eI.Z.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:"".concat(eB),total:"".concat(ek)}),(0,i.jsx)(c.Spinner,{type:c.Spinner.Type.PULSING_ELLIPSIS,className:em.ellipsis})]})]});case ed.kVF.APPLICATION_TEST_MODE:if(null==ec.metadata)return null;if(null!=en.Z.testModeEmbeddedApplicationId)return(0,i.jsx)(c.Notice,{color:c.NoticeColors.WARNING,children:(0,i.jsxs)(ea.Z,{justify:ea.Z.Justify.CENTER,align:ea.Z.Align.CENTER,children:[(0,i.jsx)("div",{children:eI.Z.Messages.NOTICE_EMBEDDED_APPLICATION_TEST_MODE.format({applicationName:ec.metadata.applicationName})}),(0,i.jsx)(c.NoticeCloseButton,{onClick:C.mc,noticeType:ed.kVF.APPLICATION_TEST_MODE})]})});return(0,i.jsx)(c.Notice,{color:c.NoticeColors.WARNING,children:(0,i.jsxs)(ea.Z,{justify:ea.Z.Justify.CENTER,align:ea.Z.Align.CENTER,children:[(0,i.jsx)("div",{children:eI.Z.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:ec.metadata.applicationName})}),(0,i.jsx)(eo.Z,{dropdownSize:eo.E.DropdownSizes.SMALL,className:em.testModeSKUSelector,color:eo.E.Colors.WHITE,look:eo.E.Looks.OUTLINED,size:eo.E.Sizes.MIN,onSKUSelect:e=>N.yt(e.id,{analyticsSource:{page:null,section:ed.jXE.NOTIFICATION_BAR,object:ed.qAy.NAVIGATION_LINK}}),applicationId:ec.metadata.applicationId,children:eI.Z.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING}),(0,i.jsx)(c.NoticeCloseButton,{onClick:C.mc,noticeType:ed.kVF.APPLICATION_TEST_MODE})]})});case ed.kVF.OUTBOUND_PROMOTION:return(0,i.jsx)(H.Z,{});case ed.kVF.VIEWING_ROLES:return(0,i.jsx)(G.Z,{});case ed.kVF.PREMIUM_UNCANCEL:return(0,i.jsxs)(c.Notice,{color:eA===eu.p9.TIER_1?c.NoticeColors.PREMIUM_TIER_1:eA===eu.p9.TIER_0?c.NoticeColors.PREMIUM_TIER_0:c.NoticeColors.PREMIUM_TIER_2,children:[(0,i.jsx)(c.NoticeCloseButton,{noticeType:ed.kVF.PREMIUM_UNCANCEL,onClick:()=>{var e,t;eN(null===(t=ec.metadata)||void 0===t?void 0:null===(e=t.premiumSubscription)||void 0===e?void 0:e.currentPeriodEnd)}}),(0,i.jsx)(c.NitroWheelIcon,{size:"md",color:"currentColor",className:em.premiumIcon}),eA===eu.p9.TIER_1?eI.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_TEXT.format({daysLeft:ec.metadata.daysLeft}):eA===eu.p9.TIER_0?eI.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_0_NOTICE_TEXT.format({daysLeft:ec.metadata.daysLeft}):eI.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_TEXT.format({daysLeft:ec.metadata.daysLeft}),(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.PREMIUM_UNCANCEL,onClick:()=>{var e,t;eN(null===(t=ec.metadata)||void 0===t?void 0:null===(e=t.premiumSubscription)||void 0===e?void 0:e.currentPeriodEnd),(0,c.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("15972"),n.e("6416"),n.e("8016"),n.e("68136"),n.e("2628")]).then(n.bind(n,561623));return t=>(0,i.jsx)(e,{...t,daysLeft:ec.metadata.daysLeft,premiumType:eA,analyticsSource:"Nag Bar",premiumSubscription:ec.metadata.premiumSubscription})})},children:eA===eu.p9.TIER_1?eI.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_BUTTON_TEXT:eA===eu.p9.TIER_0?eI.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_0_NOTICE_BUTTON_TEXT:eI.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_BUTTON_TEXT})]});case ed.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT:let{daysPastDue:eF,dismissUntil:ew}=ec.metadata;return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.WARNING,children:[(0,i.jsx)(c.NoticeCloseButton,{noticeType:eC,onClick:()=>{eN(ew)}}),eI.Z.Messages.PREMIUM_SUBSCRIPTION_ONE_TIME_PAYMENT_PAST_DUE_SUBSCRIPTION_TEXT_NO_ACTION.format({daysPastDue:eF}),(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT,onClick:()=>{eN(ew),g.Z.open(ed.oAB.SUBSCRIPTIONS)},children:eI.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_RENEW_NOW_BUTTON_TEXT})]});case ed.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DANGER,children:[(0,i.jsx)(c.NoticeCloseButton,{noticeType:ed.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:()=>{var e,t;eN(null===(t=ec.metadata)||void 0===t?void 0:null===(e=t.premiumSubscription)||void 0===e?void 0:e.currentPeriodEnd)}}),eI.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_TEXT,(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:()=>{var e,t;eN(null===(t=ec.metadata)||void 0===t?void 0:null===(e=t.premiumSubscription)||void 0===e?void 0:e.currentPeriodEnd),g.Z.open(ed.oAB.SUBSCRIPTIONS)},children:eI.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_BUTTON_TEXT})]});case ed.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.WARNING,children:[(0,i.jsx)(c.NoticeCloseButton,{noticeType:ed.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:()=>{var e,t;eN(null===(t=ec.metadata)||void 0===t?void 0:null===(e=t.premiumSubscription)||void 0===e?void 0:e.currentPeriodEnd)}}),eI.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_TEXT,(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:()=>{var e,t;eN(null===(t=ec.metadata)||void 0===t?void 0:null===(e=t.premiumSubscription)||void 0===e?void 0:e.currentPeriodEnd),g.Z.open(ed.oAB.SUBSCRIPTIONS)},children:eI.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_BUTTON_TEXT})]});case ed.kVF.PREMIUM_MISSING_PAYMENT:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.WARNING,children:[(0,i.jsx)(c.NoticeCloseButton,{noticeType:ed.kVF.PREMIUM_MISSING_PAYMENT,onClick:()=>{var e,t;eN(null===(t=ec.metadata)||void 0===t?void 0:null===(e=t.premiumSubscription)||void 0===e?void 0:e.currentPeriodEnd)}}),eA===eu.p9.TIER_1?eI.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_TEXT.format({daysLeft:ec.metadata.daysLeft}):eA===eu.p9.TIER_0?eI.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_0_NOTICE_TEXT.format({daysLeft:ec.metadata.daysLeft}):eI.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_TEXT.format({daysLeft:ec.metadata.daysLeft}),(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.PREMIUM_MISSING_PAYMENT,onClick:()=>{var e,t;eN(null===(t=ec.metadata)||void 0===t?void 0:null===(e=t.premiumSubscription)||void 0===e?void 0:e.currentPeriodEnd),g.Z.open(ed.oAB.SUBSCRIPTIONS)},children:eA===eu.p9.TIER_1?eI.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_BUTTON_TEXT:eA===eu.p9.TIER_0?eI.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_0_NOTICE_BUTTON_TEXT:eI.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_BUTTON_TEXT})]});case ed.kVF.BACK_TO_PREVIOUS_SCREEN:return(0,i.jsx)(B.h,{buttonText:null!==(s=ec.buttonText)&&void 0!==s?s:eI.Z.Messages.GO_BACK,onGoBack:ec.callback,onDismiss:()=>eN(),showCloseButton:!0});case ed.kVF.AUTOMOD_QUARANTINED_USER_PROFILE:{let e={page:ed.ZY5.IN_APP};return(0,i.jsx)(D.Z,{guildId:A,analyticsLocations:ep,analyticsLocation:e})}case ed.kVF.QUARANTINED:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.CUSTOM,className:em.quarantineNotice,children:[eI.Z.Messages.LIMITED_ACCESS_NAG_BAR_NOTICE,(0,i.jsx)(c.NoticeButtonAnchor,{href:e_.Z,target:"_blank",children:eI.Z.Messages.LIMITED_ACCESS_NAG_BAR_APPEAL}),(0,i.jsx)(c.Anchor,{href:el.Z.getArticleURL(ed.BhN.QUARANTINE),target:"_blank",className:em.quarantineLearnMoreLink,children:eI.Z.Messages.LEARN_MORE})]});case ed.kVF.BLOCKED_BY_PROXY:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.WARNING,children:[eI.Z.Messages.BLOCKED_BY_PROXY_NOTICE,(0,i.jsx)(c.NoticeButtonAnchor,{href:"".concat(ed.yXt.STATUS),children:eI.Z.Messages.LEARN_MORE}),(0,i.jsx)(c.NoticeCloseButton,{onClick:()=>eN(),noticeType:ed.kVF.BLOCKED_BY_PROXY})]});case ed.kVF.DROPS_PROGRESS_INTERRUPTION:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DANGER,children:[eI.Z.Messages.DROPS_PROGRESS_INTERRUPTION_WARNING.format({gameTitle:ec.metadata.gameTitle}),(0,i.jsx)(c.NoticeButton,{onClick:ec.metadata.reloadCallback,children:eI.Z.Messages.ERRORS_RESTART_APP})]});case ed.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION:let{dismissUntil:eV,decisionId:eH}=ec.metadata;return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.WARNING,children:[(0,i.jsx)(c.NoticeCloseButton,{noticeType:ed.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION,onClick:()=>{null!=A&&(0,b.T9)(A),eN(eV)}}),eI.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_MESSAGE,(0,i.jsx)(c.NoticeButton,{onClick:()=>{null!=A&&(0,b.UE)(A,eH,()=>{eN(eV),(0,b.T9)(A)})},children:eI.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_REMOVE_RESTRICTION}),null!=A?(0,i.jsx)(c.NoticeButton,{onClick:()=>k.Z.open(A,ed.pNK.GUILD_AUTOMOD,void 0,ed.KsC.AUTOMOD_MENTION_SPAM),children:eI.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_CONFIGURE_SETTINGS}):null]});case ed.kVF.SAFETY_USER_SENTIMENT_NAGBAR:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.BRAND,children:[(0,i.jsx)(c.NoticeCloseButton,{noticeType:ed.kVF.SAFETY_USER_SENTIMENT_NAGBAR,onClick:()=>{z.hZ(),eN()}}),eI.Z.Messages.SAFETY_USER_SENTIMENT_NOTICE,(0,i.jsx)(c.PrimaryCTANoticeButton,{noticeType:ed.kVF.SAFETY_USER_SENTIMENT_NAGBAR,onClick:()=>{(0,c.openModalLazy)(async()=>{let{default:e}=await n.e("52432").then(n.bind(n,349994));return t=>(0,i.jsx)(e,{...t})}),z.hZ(),eN()},children:eI.Z.Messages.SAFETY_USER_SENTIMENT_NOTICE_CTA})]});case ed.kVF.PREMIUM_TIER_2_TRIAL_ENDING:let eY=l()().add(5,"days").toDate();return(0,i.jsx)(Y.Z,{dismissCurrentNotice:()=>{(0,M.EW)(ei.m[ed.kVF.PREMIUM_TIER_2_TRIAL_ENDING]),eN(eY)},subscriptionTier:eu.Si.TIER_2});case ed.kVF.QUESTS_PROGRESS_INTERRUPTION:return(0,i.jsxs)(c.Notice,{color:c.NoticeColors.DANGER,children:[(0,i.jsx)(c.NoticeCloseButton,{noticeType:ed.kVF.QUESTS_PROGRESS_INTERRUPTION,onClick:()=>{var e;(null===(e=ec.metadata)||void 0===e?void 0:e.streamKey)!=null&&(0,W.nE)(ec.metadata.streamKey)}}),eI.Z.Messages.QUESTS_PROGRESS_TRACKING_FAILURE_NOTICE]});default:return null}}):null;function ep(){let{analyticsLocations:e}=(0,R.ZP)(A.Z.NOTICE);return(0,i.jsx)(R.Gt,{value:e,children:(0,i.jsx)(ef,{})})}},654030:function(e,t,n){n(47120);var i,a=n(735250),s=n(470079),l=n(442837),r=n(481060),o=n(278323),c=n(224706),d=n(763472),u=n(498179),_=n(276852),E=n(994339),I=n(275920),m=n(431583),T=n(592745),h=n(952164),N=n(768419),f=n(456432),p=n(103575),C=n(789407),g=n(598077),S=n(757266),A=n(831506),R=n(271383),x=n(283595),O=n(293273),M=n(594174),v=n(181106),L=n(417363),Z=n(243769),P=n(768581),b=n(358085),D=n(804739),j=n(410575),U=n(981631),y=n(701488);function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let k={spotify:"Spotify"};class G extends(i=s.PureComponent){getCoverImage(){let{activity:e,connectedApplication:t,application:n,isPreview:i,message:a}=this.props;if(null!=n&&(i||null!=a&&(0,E.Z)(e,a,n.id))){let t=(0,_.Z)(e,n.id);if(null!=t)return t}return null==n||n instanceof C.ZP?null:P.ZP.getApplicationIconURL({id:n.id,icon:null!=t?t.coverImage:n.coverImage,size:y.cc})}handleOpenSpotifyTrack(e){(0,h.aG)(e)}handleOpenSpotifyArtist(e,t,n){(0,h.d$)(e,t,n)}handleOpenSpotifyAlbum(e,t){(0,h.Z5)(e,t)}shouldRenderCustomButton(){let{isLaunchable:e,application:t}=this.props;return null!=t&&null!=t.primarySkuId&&!e&&b.isPlatformEmbedded}render(){return(0,a.jsx)(j.Z,{section:j.Z.Sections.APPLICATION_EMBED,children:this.renderEmbed()})}constructor(...e){super(...e),B(this,"state",{sending:!1}),B(this,"handleJoin",()=>{let{activity:e,analyticsLocations:t,userId:n,message:i,channelId:a}=this.props;if(null!=e&&null!=n&&null!=i&&null!=e.session_id&&null!=e.application_id){var s;c.Z.join({userId:n,sessionId:e.session_id,applicationId:e.application_id,channelId:a,messageId:i.id}),(0,I.Z)({type:U.q5t.JOIN,source:U.Sbl.MESSAGE_EMBED,userId:n,applicationId:e.application_id,partyId:null===(s=e.party)||void 0===s?void 0:s.id,messageId:i.id,analyticsLocations:t})}}),B(this,"handleInvite",async()=>{let{activity:e,channelId:t}=this.props;if(null!=e&&null!=t)try{this.setState({sending:!0}),await o.Z.sendActivityInvite({type:U.mFx.JOIN,channelId:t,activity:e,location:U.Sbl.MESSAGE_EMBED})}finally{this.setState({sending:!1})}}),B(this,"handleSync",()=>{let{activity:e,userId:t}=this.props;null!=e&&null!=t&&d.Z_(e,t)}),B(this,"handleDownloadApp",()=>{(0,r.openModal)(e=>(0,a.jsx)(m.default,{source:"Game Invite",...e}))}),B(this,"renderUserPopout",(e,t)=>{let{channelId:n,guildId:i,message:s,analyticsLocations:l}=this.props;return null==n?null:(0,a.jsx)(p.Z,{...t,location:"ActivityInviteEmbed",userId:e.id,guildId:null!=i?i:void 0,channelId:n,messageId:null==s?void 0:s.id,newAnalyticsLocations:l})}),B(this,"renderSpotifyJoinButton",e=>{let{channelId:t,guildId:n}=this.props;return(0,a.jsx)(f.Z,{guildId:null!=n?n:void 0,channelId:t,source:"Invite Embed",...e})}),B(this,"renderCustomButton",e=>{let{application:t}=this.props;return(0,a.jsx)(u.Z,{...e,source:U.Sbl.MESSAGE_EMBED,application:t})}),B(this,"renderEmbed",()=>{let e;let{activity:t,partyId:n,myPartyId:i,application:s,partyMembers:l,isPreview:r,isLaunching:o,isSender:c,activityActionType:d,className:u,channelId:_,message:E,hideParty:I,isSyncable:m,isLaunchable:T,guildId:h}=this.props;if(null!=s)e=s.name;else if(null!=n){let[t]=n.split(":");e=k[t]}return(0,a.jsx)(Z.Z,{activity:t,partyId:n,myPartyId:i,applicationId:null!=s?s.id:null,name:e,partyMembers:l,className:u,coverImage:this.getCoverImage(),isPreview:r,isGameLaunchable:T,isLoading:o||this.state.sending,activityActionType:d,isInBrowser:!b.isPlatformEmbedded,isSyncable:m,isSender:c,channelId:_,guildId:null!=h?h:void 0,message:E,hideParty:I,onJoin:this.handleJoin,onInvite:this.handleInvite,onSync:this.handleSync,onDownloadApp:this.handleDownloadApp,onOpenSpotifyTrack:this.handleOpenSpotifyTrack,onOpenSpotifyArtist:this.handleOpenSpotifyArtist,onOpenSpotifyAlbum:this.handleOpenSpotifyAlbum,renderUserPopout:this.renderUserPopout,renderSpotifyJoinButton:this.renderSpotifyJoinButton,renderCustomButton:this.shouldRenderCustomButton()?this.renderCustomButton:null})})}}B(G,"defaultProps",{isPreview:!1}),t.Z=l.ZP.connectStores([N.Z,A.Z,O.Z,x.Z,T.Z,L.Z,S.Z,v.Z,M.default,R.ZP],e=>{let{activity:t,analyticsLocations:n,application:i,partyId:a,userId:s,guildId:l}=e,{id:r}=null!=i?i:{},o=null!=t&&null!=t.party&&t.party.id===a?A.Z.getParty(t.party.id):null,c=null!=r?O.Z.getApplicationActivity(r):O.Z.findActivity(e=>e.type===U.IIU.LISTENING),d=!1;null!=r&&(d=v.Z.getState(r,U.mFx.JOIN)===U.OcF.LOADING);let u=Array.from(null!=o?o:[]).map(e=>{let t=null!=l?R.ZP.getMember(l,e):null,n=null!=t?t.nick:null,i=M.default.getUser(e),a=null==i;return null==i&&(i=new g.Z({discriminator:"0005"})),{user:i,unknownUser:a,nick:n}}),_=null!=t&&N.Z.canPlay(t),E=N.Z.getSyncingWith(),I=null!=E&&null!=s&&E.userId===s;return{analyticsLocations:n,partyMembers:u,connectedApplication:null!=r?S.Z.getApplication(r):null,myPartyId:null!=c&&null!=c.party?c.party.id:null,isLaunching:d,isSyncable:_&&!I,isLaunchable:null!=r&&(0,D.t)({LibraryApplicationStore:x.Z,LaunchableGameStore:T.Z,DispatchApplicationStore:L.Z,ConnectedAppsStore:S.Z,applicationId:r})}})(G)},494404:function(e,t,n){n.d(t,{ZP:function(){return U},h4:function(){return Z},nH:function(){return P}}),n(47120),n(653041);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(392711),o=n.n(r),c=n(91192),d=n(442837),u=n(481060),_=n(668781),E=n(904245),I=n(724757),m=n(294218),T=n(703656),h=n(210887),N=n(592125),f=n(375954),p=n(496675),C=n(933429),g=n(451478),S=n(387204),A=n(626135),R=n(585483),x=n(981631),O=n(689938),M=n(555194);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){e.stopPropagation()}let Z=e=>{let{title:t,children:n,className:a}=e;return(0,i.jsxs)("div",{className:l()(a,M.header),children:[null==t?null:(0,i.jsx)(u.Heading,{variant:"heading-md/medium",children:t}),n]})},P=e=>{let{msg:t,image:n}=e;return(0,i.jsxs)("div",{className:M.emptyPlaceholder,children:[(0,i.jsx)("div",{className:M.image,style:{backgroundImage:"url(".concat(n,")")}}),(0,i.jsx)("div",{className:M.body,children:t})]})};class b extends a.PureComponent{renderJumpButton(){let{jumping:e}=this.props;return(0,i.jsxs)(u.Clickable,{className:M.jumpButton,onClick:this.handleClickJump,children:[(0,i.jsx)("div",{className:l()(M.__invalid_text,{hidden:e}),children:O.Z.Messages.JUMP}),(0,i.jsx)(u.Spinner,{type:u.Spinner.Type.PULSING_ELLIPSIS,className:l()(M.loading,{[M.visible]:e})})]})}renderCloseButton(){let{onCloseMessage:e,canCloseAllMessages:t,canManageMessages:n,channel:a}=this.props;return null!=e&&(t||n||null!=a&&a.isPrivate())?(0,i.jsx)(u.Button,{look:u.Button.Looks.BLANK,size:u.Button.Sizes.NONE,onClick:this.handleClickClose,children:(0,i.jsx)(u.CloseSmallIcon,{size:"md",color:"currentColor",className:M.closeIcon})}):null}render(){return(0,i.jsxs)("div",{className:M.actionButtons,children:[this.renderJumpButton(),this.renderCloseButton()]})}constructor(...e){super(...e),v(this,"handleClickJump",e=>{let{jumpTo:t,message:n}=this.props;t(n,e)}),v(this,"handleClickClose",e=>{let{onCloseMessage:t,message:n}=this.props;null!=t&&t(n,e)})}}let D=d.ZP.connectStores([p.Z],e=>{let{channel:t}=e;return{canManageMessages:null!=t&&p.Z.can(x.Plq.MANAGE_MESSAGES,t)}})(b);function j(e){let{analyticsName:t,items:n,hasMore:s,loading:r,loadMore:_,renderHeader:E,renderEmptyState:m,renderItem:T,getProTip:N,scrollerClassName:f,className:p,listName:v}=e,Z=a.useRef(null),P=(0,I.Z)(v,Z),b=(0,d.e7)([C.Z],()=>C.Z.hasNotice()),D=(0,d.e7)([g.Z],()=>g.Z.windowSize());a.useEffect(()=>{A.default.track(x.rMx.OPEN_POPOUT,{type:t})},[t]),a.useEffect(()=>{function e(){var e;null===(e=Z.current)||void 0===e||e.scrollPageUp({animate:!0})}function t(){var e;null===(e=Z.current)||void 0===e||e.scrollPageDown({animate:!0})}return R.S.subscribe(x.CkL.SCROLL_PAGE_DOWN,t),R.S.subscribe(x.CkL.SCROLL_PAGE_UP,e),()=>{R.S.unsubscribe(x.CkL.SCROLL_PAGE_DOWN,t),R.S.unsubscribe(x.CkL.SCROLL_PAGE_UP,e)}},[]);let j=a.useCallback(()=>{var e;let t=null===(e=Z.current)||void 0===e?void 0:e.getScrollerState();null!=t&&t.scrollHeight===t.scrollTop+t.offsetHeight&&s&&!r&&(null==_||_())},[s,_,r]),U=[],y=!0;null==n?U=[(0,i.jsx)("div",{className:l()(M.emptyPlaceholder,M.loadingPlaceholder),children:(0,i.jsx)(u.Spinner,{})},"spinner")]:0===n.length?U.push((0,i.jsx)(a.Fragment,{children:m(h.Z.theme)},"empty-state")):(y=!1,U=[],o().each(n,e=>{U.push(...T(e))}));let B=null;null!=n&&n.length>0&&null!=_&&(B=r?(0,i.jsx)("div",{className:M.loadingMore,children:(0,i.jsx)(u.Spinner,{})},"loading-more-after"):s?(0,i.jsx)("div",{className:M.hasMore,children:(0,i.jsx)(u.Button,{look:u.Button.Looks.FILLED,color:u.Button.Colors.PRIMARY,size:u.Button.Sizes.MAX,onClick:_,children:O.Z.Messages.LOAD_MORE_MESSAGES})}):(0,i.jsx)("div",{className:M.scrollingFooterWrap,children:m(h.Z.theme)}));let k=null==N?void 0:N(),G=y&&null!=k?(0,i.jsx)("div",{className:M.footer,children:(0,i.jsx)(S.Z,{style:{width:"100%",paddingTop:10,paddingBottom:10},children:k})}):null,F={maxHeight:D.height-43-25};b&&(F.maxHeight-=40);let w=null!=_&&s;return(0,i.jsx)("div",{className:l()(p,M.messagesPopoutWrap),style:F,onClick:L,onDoubleClick:L,"aria-label":e["aria-label"],children:(0,i.jsxs)(u.HeadingLevel,{component:E(),children:[(0,i.jsxs)(u.AdvancedScroller,{className:l()(M.messagesPopout,f),onScroll:w?j:void 0,ref:Z,children:[(0,i.jsx)(c.bG,{navigator:P,children:(0,i.jsx)(c.SJ,{children:e=>{let{ref:t,...n}=e;return(0,i.jsx)("div",{ref:t,...n,children:U})}})}),B]}),G]})})}function U(e){let{analyticsName:t,onFetch:n,channel:s,messages:l,hasMore:r,loading:o,loadMore:c,onJump:u,canCloseAllMessages:I=!1,renderHeader:h,renderEmptyState:p,renderMessage:C,getProTip:g,scrollerClassName:S,className:A,onCloseMessage:R,listName:v}=e,L=(0,d.e7)([f.Z],()=>{let e=null!=s?f.Z.getMessages(s.id):null;return null!=e&&null!=e.jumpTargetId&&e.loadingMore&&null==e.get(e.jumpTargetId)});function Z(e,n){let{id:i,blocked:a,author:s,channel_id:l}=e;if(a)_.Z.show({title:O.Z.Messages.UNBLOCK_TO_JUMP_TITLE,body:O.Z.Messages.UNBLOCK_TO_JUMP_BODY.format({name:s.username}),confirmText:O.Z.Messages.OKAY});else if(!L){let e=N.Z.getChannel(l);null!=e&&(E.Z.trackJump(l,i,t),(0,T.uL)(x.Z5c.CHANNEL(e.getGuildId(),l,i))),null==u||u(n)}}a.useEffect(()=>{n(s)},[s,n]);let P=a.useMemo(()=>null==l?void 0:l.map(e=>({message:e,channel:s})),[l,s]);return(0,i.jsx)(j,{className:A,scrollerClassName:S,items:P,loading:o,analyticsName:t,renderEmptyState:p,renderHeader:h,hasMore:r,loadMore:c,getProTip:g,renderItem:function(e){let{message:t,channel:n}=e;if(null==t)return[];if(null!=C)return C(t,e=>Z(t,e));let a=[];return null==n?[]:(a.push((0,i.jsxs)("div",{className:M.messageGroupWrapper,children:[(0,i.jsx)(m.Z,{className:M.messageGroupCozy,message:t,channel:n}),(0,i.jsx)(D,{channel:s,message:t,jumping:L,canCloseAllMessages:I,jumpTo:Z,onCloseMessage:R})]},t.id)),a)},listName:v,"aria-label":e["aria-label"]})}},542051:function(e,t,n){n.d(t,{M:function(){return m}}),n(411104);var i,a,s,l,r=n(735250),o=n(470079),c=n(120356),d=n.n(c),u=n(481060),_=n(689938),E=n(634936);function I(e){e.stopPropagation(),e.preventDefault()}function m(e,t,n){return{id:"".concat(e,"-").concat(t),role:"option",tabIndex:-1,"aria-selected":n}}class T extends(i=o.PureComponent){renderQuery(e){let{query:t,navId:n,focusedIndex:i,onSelectQuery:a,onSelectSearchEverywhere:s,onHighlightQuery:l,hideQuery:o,searchFavorites:c}=this.props;if(e||o)return null;let I=-1===i;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.Clickable,{className:d()(E.queryContainer,{[E.focused]:I}),...m(n,-1,I),onMouseEnter:l,onClick:a,children:[(0,r.jsx)("div",{className:E.queryText,children:c?_.Z.Messages.SEARCH_FAVORITES:_.Z.Messages.SEARCH_FOR_VALUE.format({value:t})}),(0,r.jsx)("div",{className:E.queryShortcut,"aria-hidden":!0,children:(0,r.jsx)(u.KeyCombo,{shortcut:"return",dim:!0,className:E.keyCombo})})]}),c&&(0,r.jsxs)(u.Clickable,{className:d()(E.queryContainer,{[E.focused]:I}),...m(n,-1,I),onMouseEnter:l,onClick:s,children:[(0,r.jsx)("div",{className:E.queryText,children:_.Z.Messages.SEARCH_EVERYWHERE}),(0,r.jsx)("div",{className:E.queryShortcut,"aria-hidden":!0,children:(0,r.jsx)(u.KeyCombo,{shortcut:"shift+return",dim:!0,className:E.keyCombo})})]})]})}renderResults(e){let{numResults:t,renderNoResults:n,renderInitialState:i,renderResult:a,renderCustomResults:s}=this.props;if(e)return i();if(0===t)return n();if(null!=a)return Array.from({length:t}).map((e,t)=>a(t));if(null!=s)return s();throw Error("SearchResultsPopout.renderResults: Flow should never allow this...")}render(){let{query:e,focusedIndex:t,navId:n,width:i}=this.props,a=""===e.trim();return(0,r.jsxs)("div",{className:E.container,style:{width:i},onMouseDown:I,role:"listbox",id:n,tabIndex:-1,"aria-activedescendant":"".concat(n,"-").concat(t),children:[this.renderQuery(a),this.renderResults(a)]})}}l={renderInitialState:()=>null,hideQuery:!1,width:320},(s="defaultProps")in(a=T)?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,t.Z=T},395041:function(e,t,n){n.d(t,{O:function(){return r},w:function(){return l}});var i=n(735250);n(470079);var a=n(748848);function s(e,t){let{children:n}=e;return(0,i.jsx)("span",{className:t,children:n})}let l=e=>s(e,a.searchFilter),r=e=>s(e,a.searchAnswer)},498179:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(283595),r=n(55563),o=n(780570),c=n(701560),d=n(785547);function u(e){let{application:t,fullWidth:n=!1,size:u=s.Button.Sizes.LARGE,color:_,customDisabledColor:E,hideNotLaunchable:I,tooltipPosition:m,onClick:T,className:h,source:N,hover:f,innerClassName:p}=e,C={fullWidth:n,size:u,color:_,customDisabledColor:E,tooltipPosition:m,onClick:T,className:h,hover:f,innerClassName:p},g=(0,a.e7)([l.Z],()=>l.Z.getActiveLibraryApplication(t.id)),S=null!=g?g.sku.id:null,A=null!=S?S:t.primarySkuId,R=(0,a.e7)([r.Z],()=>null!=A&&!r.Z.didFetchingSkuFail(A));return null!=g&&(0,o.Je)(g)?(0,i.jsx)(d.Z,{...C,libraryApplication:g,source:N}):R?(0,i.jsx)("div",{children:"deprecated!"}):(0,i.jsx)(c.Z,{...C,hideNotLaunchable:I,applicationId:t.id})}},701560:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120),n(411104);var i,a=n(735250),s=n(470079),l=n(120356),r=n.n(l),o=n(442837),c=n(481060),d=n(239091),u=n(2052),_=n(594190),E=n(592745),I=n(757266),m=n(417363),T=n(358085),h=n(346329),N=n(981631),f=n(689938),p=n(199623);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends(i=s.PureComponent){get analyticsLocation(){return{...this.props.analyticsContext.location,object:N.qAy.BUTTON_CTA}}renderDropdown(){let{dispatchState:e}=this.props;return null!=e&&null!=e.launchOptions&&Object.keys(e.launchOptions).length>1?(0,a.jsxs)(c.Clickable,{"aria-label":f.Z.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_OPTIONS,className:p.dropdownArrowHitbox,onClick:this.handleDropdownClick,children:[(0,a.jsx)("div",{className:p.arrowSeparator}),(0,a.jsx)(c.ChevronSmallDownIcon,{size:"md",color:"currentColor",className:p.dropdownArrow})]}):null}renderDisabledButton(e,t){let{className:n,fullWidth:i,size:s,customDisabledColor:l,tooltipPosition:r}=this.props;return(0,a.jsxs)("div",{className:p.disabledButtonWrapper,children:[(0,a.jsx)(c.Button,{className:n,fullWidth:i,size:s,color:null!=l?l:p.disabledButtonColor,disabled:!0,children:e}),(0,a.jsx)(c.Tooltip,{text:t,position:r,children:e=>(0,a.jsx)("div",{className:p.disabledButtonOverlay,...e})})]})}render(){let{className:e,fullWidth:t,size:n,color:i,isLaunchable:s,isLaunching:l,isRunning:o,isShiny:d,hideNotLaunchable:u}=this.props;if(!s)return u?null:this.renderDisabledButton(f.Z.Messages.GAME_ACTION_BUTTON_PLAY,T.isPlatformEmbedded?f.Z.Messages.GAME_ACTION_BUTTON_GAME_NOT_DETECTED:f.Z.Messages.GAME_ACTION_BUTTON_PLAY_DISABLED_DESKTOP_APP);if(o)return this.renderDisabledButton(f.Z.Messages.GAME_ACTION_BUTTON_NOW_PLAYING);let _=d?c.ShinyButton:c.Button;return(0,a.jsxs)(_,{className:r()(p.playButton,e),innerClassName:p.playButtonContents,fullWidth:t,size:n,color:null!=i?i:c.Button.Colors.GREEN,submitting:l,onClick:this.handleClick,children:[(0,a.jsx)("div",{className:p.buttonText,children:f.Z.Messages.GAME_ACTION_BUTTON_PLAY}),this.renderDropdown()]})}constructor(...e){super(...e),C(this,"handleDropdownClick",e=>{e.stopPropagation();let{libraryApplication:t,onDropdownOpen:i,onDropdownClose:s}=this.props;if(null==i||i(e),null==t)throw Error("Unexpected missing libraryApplication");d.jW(e,async()=>{let{default:e}=await n.e("53195").then(n.bind(n,918306));return n=>(0,a.jsx)(e,{...n,libraryApplication:t,onPlay:this.handleClick})},{onClose:s})}),C(this,"handleClick",()=>{let{applicationId:e,libraryApplication:t,analyticsListSort:n,analyticsListIndex:i}=this.props;h.playApplication(e,t,{analyticsParams:{location:this.analyticsLocation,list_sort:n,list_index:i}})})}}function S(e){let{applicationId:t,libraryApplication:n}=e,i=(0,u.O)(),[s,l]=(0,o.Wu)([I.Z,E.Z,m.Z],()=>[I.Z.isConnected(t)||E.Z.isLaunchable(t)||null!=n&&m.Z.isLaunchable(n.id,n.branchId),E.Z.launchingGames.has(t)],[t,n]),r=(0,o.e7)([_.ZP],()=>new Set(_.ZP.getRunningVerifiedApplicationIds()).has(t),[t]),c=(0,o.e7)([m.Z],()=>null!=n?m.Z.getState(n.id,n.branchId):null,[n]);return(0,a.jsx)(g,{...e,analyticsContext:i,isLaunchable:s,isLaunching:l,isRunning:r,dispatchState:c})}C(g,"defaultProps",{fullWidth:!1,size:c.Button.Sizes.LARGE,tooltipPosition:"top",isShiny:!1,hideNotLaunchable:!1})},585237:function(e,t,n){var i,a,s=n(735250);n(470079);var l=n(481060),r=n(285952),o=n(226689);(i=a||(a={})).SMALL="SMALL",i.MEDIUM="MEDIUM",i.LARGE="LARGE";let c={SMALL:o.dropdownSmall,MEDIUM:o.dropdownMedium,LARGE:o.dropdownLarge},d=e=>{let{onDropdownClick:t,children:n,contentClassName:i,dropdownSize:a="MEDIUM",...d}=e;return(0,s.jsx)(l.Button,{...d,children:(0,s.jsxs)(r.Z,{align:r.Z.Align.CENTER,children:[(0,s.jsx)(r.Z.Child,{className:i,children:n}),null!=t?(0,s.jsxs)(l.Clickable,{className:c[a],onClick:e=>{e.stopPropagation(),null!=t&&t(e)},children:[(0,s.jsx)("div",{className:o.arrowSeparator}),(0,s.jsx)(l.ChevronSmallDownIcon,{size:"md",color:"currentColor",className:o.dropdownArrow})]}):null]})})};d.DropdownSizes=a,d.Sizes=l.Button.Sizes,d.Colors=l.Button.Colors,d.Looks=l.Button.Looks,t.Z=d},785547:function(e,t,n){n.d(t,{Z:function(){return P}}),n(411104),n(47120);var i,a,s,l=n(735250),r=n(470079),o=n(442837),c=n(692547),d=n(481060),u=n(58642),_=n(2052),E=n(710845),I=n(703656),m=n(173747),T=n(7956),h=n(293245),N=n(417363),f=n(941128),p=n(780570),C=n(358085),g=n(814225),S=n(346329),A=n(701560),R=n(981631),x=n(689938),O=n(329279);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(s=i||(i={})).PLAY="play",s.NOW_PLAYING="now_playing",s.INSTALL="install",s.UPDATE="update",s.PAUSED="paused",s.LOCATE="locate",s.UNINSTALLING="uninstalling",s.QUEUED="queued",s.DOWNLOADING="downloading",s.UNSUPPORTED_OS="unsupported_os",s.ADD_TO_LIBRARY="add_to_library",s.PREORDER_WAIT="preorder_wait";let v=Object.freeze({[R.apO.PLAY]:"play",[R.apO.INSTALL]:"install",[R.apO.UPDATE]:"update",[R.apO.PAUSE]:"downloading",[R.apO.MOVE_UP]:"queued",[R.apO.RESUME]:"paused"}),L=()=>[x.Z.Messages.GAME_ACTION_BUTTON_UNINSTALLING_1,x.Z.Messages.GAME_ACTION_BUTTON_UNINSTALLING_2,x.Z.Messages.GAME_ACTION_BUTTON_UNINSTALLING_3,x.Z.Messages.GAME_ACTION_BUTTON_UNINSTALLING_4,x.Z.Messages.GAME_ACTION_BUTTON_UNINSTALLING_5,x.Z.Messages.GAME_ACTION_BUTTON_UNINSTALLING_6,x.Z.Messages.GAME_ACTION_BUTTON_UNINSTALLING_7,x.Z.Messages.GAME_ACTION_BUTTON_UNINSTALLING_8,x.Z.Messages.GAME_ACTION_BUTTON_UNINSTALLING_9,x.Z.Messages.GAME_ACTION_BUTTON_UNINSTALLING_10];class Z extends(a=r.Component){get analyticsLocation(){return{...this.props.analyticsContext.location,object:R.qAy.BUTTON_CTA}}getText(e){switch("uninstalling"!==e&&(this._uninstallStringIndex=null),e){case"install":case"unsupported_os":return x.Z.Messages.GAME_ACTION_BUTTON_INSTALL;case"update":return x.Z.Messages.GAME_ACTION_BUTTON_UPDATE;case"paused":return x.Z.Messages.GAME_ACTION_BUTTON_PAUSED;case"locate":return x.Z.Messages.GAME_ACTION_BUTTON_LOCATE;case"uninstalling":let t=L();return null==this._uninstallStringIndex&&(this._uninstallStringIndex=Math.floor(Math.random()*t.length)),t[this._uninstallStringIndex];case"queued":return x.Z.Messages.GAME_ACTION_BUTTON_QUEUED;case"downloading":return x.Z.Messages.GAME_ACTION_BUTTON_DOWNLOADING;case"preorder_wait":return x.Z.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT;case"add_to_library":return x.Z.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY;default:throw Error("Unexpected button state")}}getButtonState(){let{libraryApplication:e,dispatchState:t,actionState:n}=this.props;if(e.isHidden())return"add_to_library";if(e.isPreorder())return"preorder_wait";let i=null!=n?v[n]:null;return null!=i?i:null!=t&&t.type===R.vxO.UNINSTALLING?"uninstalling":(0,C.isWeb)()?"play":"unsupported_os"}renderPlayButton(){let{libraryApplication:e,fullWidth:t,size:n,color:i,customDisabledColor:a,isPlayShiny:s,onDropdownOpen:r,onDropdownClose:o,analyticsListSort:c,analyticsListIndex:d}=this.props;return(0,l.jsx)(A.Z,{applicationId:e.id,libraryApplication:e,fullWidth:t,size:n,color:i,customDisabledColor:a,isShiny:s,onDropdownOpen:r,onDropdownClose:o,analyticsListSort:c,analyticsListIndex:d})}renderDisabledButton(e,t){let{className:n,fullWidth:i,size:a,customDisabledColor:s,tooltipPosition:r}=this.props;return(0,l.jsxs)("div",{className:O.disabledButtonWrapper,children:[(0,l.jsxs)(d.Button,{className:n,fullWidth:i,size:a,color:null!=s?s:O.disabledButtonColor,disabled:!0,children:[this.getText(e),this.renderProgressBar()]}),(0,l.jsx)(d.Tooltip,{text:t,position:r,children:e=>(0,l.jsx)("div",{className:O.disabledButtonOverlay,...e})})]})}renderProgressBar(){let{hideProgress:e,dispatchState:t}=this.props;if(e)return null;let n=p.KJ(t);if(null==n)return null;let i=n.type===R.vxO.UNINSTALLING?d.Progress.INDETERMINATE:p.xI(Number(n.progress),Number(n.total));return(0,l.jsx)(d.Progress,{percent:i,size:d.Progress.Sizes.XSMALL,foregroundColor:n.paused?c.Z.unsafe_rawColors.PRIMARY_500.css:c.Z.unsafe_rawColors.GREEN_360.css,backgroundColor:c.Z.unsafe_rawColors.TRANSPARENT.css,className:O.progress})}renderActionButton(e,t){let{className:n,fullWidth:i,size:a,color:s,isCloudSyncing:r}=this.props;return(0,l.jsxs)(d.Button,{className:n,fullWidth:i,size:a,color:null!=s?s:d.Button.Colors.GREEN,submitting:"uninstalling"===e||r,onClick:e=>this.handleClick(e,t),children:[this.getText(e),this.renderProgressBar()]})}render(){let{hasNoBuild:e,libraryApplication:t}=this.props,n=this.getButtonState();if("play"===n)return this.renderPlayButton();if("preorder_wait"===n)return this.renderDisabledButton(n,function(e){let t=g.en(e.sku);return null!=t?x.Z.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT_TOOLTIP.format({date:t}):null}(t));if("unsupported_os"===n)return this.renderDisabledButton(n,x.Z.Messages.GAME_ACTION_BUTTON_UNAVAILABLE_TOOLTIP.format({operatingSystem:x.Z.Messages.WINDOWS}));if("install"===n&&e)return this.renderDisabledButton(n,x.Z.Messages.GAME_ACTION_BUTTON_CANNOT_INSTALL);let i=this.onClickHandlers[n];return null==i?this.renderDisabledButton(n):this.renderActionButton(n,i)}constructor(...e){super(...e),M(this,"_uninstallStringIndex",null),M(this,"handleAddToLibrary",async()=>{try{let{libraryApplication:e}=this.props;await u.h(e.id,e.branchId,e.getFlags()&~R.eHb.HIDDEN),(0,I.uL)(R.Z5c.APPLICATION_LIBRARY)}catch(e){new E.Z("LibraryApplicationButton").error(e)}}),M(this,"handleInstall",()=>{let{libraryApplication:e,source:t}=this.props;S.installApplication(e.id,e.branchId,t)}),M(this,"handleUpdate",()=>{let{libraryApplication:e}=this.props;S.updateApplication(e.id,e.branchId)}),M(this,"onClickHandlers",{add_to_library:this.handleAddToLibrary,install:this.handleInstall,update:this.handleUpdate}),M(this,"handleClick",(e,t)=>{let{onClick:n}=this.props;null==n||n(e),t(e)})}}function P(e){let{libraryApplication:t}=e,n=(0,_.O)(),[i,a]=(0,o.Wu)([N.Z,f.Z],()=>[(0,T.i)(t,N.Z,f.Z),N.Z.getState(t.id,t.branchId)],[t]),s=(0,o.e7)([h.Z],()=>h.Z.isSyncing(t.id,t.branchId),[t]),r=(0,o.e7)([m.Z],()=>m.Z.hasNoBuild(t.id,t.branchId),[t]);return(0,l.jsx)(Z,{...e,analyticsContext:n,actionState:i,dispatchState:a,isCloudSyncing:s,hasNoBuild:r})}M(Z,"defaultProps",{fullWidth:!1,size:d.Button.Sizes.LARGE,hideProgress:!1,isPlayShiny:!1,tooltipPosition:"top"}),M(Z,"ButtonStates",i)},86357:function(e,t,n){n(411104);var i,a,s,l,r,o,c,d,u=n(735250),_=n(470079),E=n(120356),I=n.n(E),m=n(481060),T=n(646288),h=n(689938),N=n(162176);(l=i||(i={}))[l.DIRECTORY_HERO=1]="DIRECTORY_HERO",l[l.DIRECTORY_TILE=2]="DIRECTORY_TILE",l[l.DIRECTORY_SEARCH=3]="DIRECTORY_SEARCH",l[l.LISTING=4]="LISTING",l[l.EMBED=5]="EMBED",(r=a||(a={}))[r.IN_LIBRARY=1]="IN_LIBRARY",r[r.ON_SALE=2]="ON_SALE",r[r.PREMIUM=3]="PREMIUM",r[r.DEFAULT=4]="DEFAULT",r[r.ENTITLEMENT_BRANCH=5]="ENTITLEMENT_BRANCH";let f=e=>{let{className:t}=e;return(0,u.jsxs)("div",{className:I()(N.row,t),children:[(0,u.jsx)(m.InventoryIcon,{size:"md",color:"currentColor",className:N.icon}),h.Z.Messages.APPLICATION_STORE_IN_LIBRARY]})},p=e=>{let{sku:t,className:n}=e;return(0,u.jsxs)("div",{className:I()(N.row,n),children:[(0,u.jsx)(m.NitroWheelIcon,{size:"md",color:"currentColor",className:N.icon}),(0,T.Z)(t)]})},C=e=>{let{sku:t,className:n}=e;return(0,u.jsx)("div",{className:I()(N.salePercentage,n),children:t.getDisplaySalePercentage()})},g=e=>{let{sku:t,className:n}=e;return(0,u.jsx)("div",{className:I()(N.originalAmount,n),children:(0,T.Z)(t,!1)})},S=e=>{let{sku:t,className:n}=e;return(0,u.jsx)("div",{className:n,children:(0,T.Z)(t)})},A=e=>{let{sku:t,className:n}=e;return(0,u.jsxs)("div",{className:I()(N.row,n),children:[(0,u.jsx)(C,{sku:t}),(0,u.jsx)(g,{sku:t}),(0,u.jsx)(S,{sku:t})]})},R=e=>{let{className:t}=e;return(0,u.jsx)("div",{className:t,children:h.Z.Messages.APPLICATION_STORE_FREE})};class x extends(s=_.PureComponent){getState(){let{inLibrary:e,sku:t,hasEntitlementBranch:n}=this.props;if(n)return 5;if(e)return 1;if(!t.available)return 4;else if(t.premium)return 3;else if(t.isOnSale)return 2;else if(null!=t.getPrice())return 4;return null}renderGeneric(e,t){let{className:n,sku:i}=this.props;switch(e){case 5:return(0,u.jsx)(R,{className:I()(t,n)});case 1:return(0,u.jsx)(f,{className:I()(t,n)});case 3:return(0,u.jsx)(p,{sku:i,className:I()(t,n)});case 2:return(0,u.jsx)(A,{sku:i,className:I()(t,n)});default:return(0,u.jsx)(S,{className:I()(t,n),sku:i})}}renderDirectoryHero(e){let{className:t,sku:n}=this.props;switch(e){case 5:return(0,u.jsx)(R,{className:I()(t)});case 3:return(0,u.jsx)(p,{sku:n,className:I()(N.directoryHeroPricePremium,t)});case 2:return(0,u.jsx)(A,{sku:n,className:I()(N.directoryHeroPrice,t)});default:return(0,u.jsx)(S,{className:I()(N.directoryHeroPrice,t),sku:n})}}renderListing(e){let t;let{className:n,sku:i}=this.props;switch(e){case 5:t=(0,u.jsx)(R,{});break;case 2:t=(0,u.jsxs)(_.Fragment,{children:[(0,u.jsxs)("div",{className:N.row,children:[(0,u.jsx)(S,{sku:i}),(0,u.jsx)(C,{sku:i})]}),(0,u.jsx)(g,{sku:i})]});break;default:t=(0,u.jsx)(S,{sku:i})}return(0,u.jsx)("div",{className:I()(N.listingPrice,n),children:t})}render(){let e=this.getState();if(null==e)return null;switch(this.props.type){case 1:return this.renderDirectoryHero(e);case 2:return this.renderGeneric(e,N.directoryTilePrice);case 3:return this.renderGeneric(e,N.directorySearchPrice);case 4:return this.renderListing(e);case 5:return this.renderGeneric(e,N.embedPrice);default:throw Error("Invalid Price Unit Type")}}}o=x,c="Types",d=i,c in o?Object.defineProperty(o,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[c]=d,t.Z=x},914602:function(e,t,n){n(47120);var i,a=n(735250),s=n(470079),l=n(120356),r=n.n(l),o=n(86357),c=n(54936),d=n(55008),u=n(592771),_=n(305177),E=n(73346),I=n(568836),m=n(345898),T=n(981631),h=n(624179);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends(i=s.PureComponent){render(){let{sku:e,storeListing:t,isHorizontal:n,className:i,renderCustomTagline:s,renderCustomTitle:l,renderCustomMedia:r,isEmbed:o}=this.props,c=o?I.$G:m.Z;return(0,a.jsx)(c,{className:i,renderMedia:null!=r?r:this.renderMedia,renderTitle:null!=l?l:()=>e.name,renderTagline:null!=s?s:()=>t.tagline,renderActions:this.renderActions,isHorizontal:n})}constructor(...e){super(...e),N(this,"renderActions",()=>{let{inLibrary:e,sku:t,renderCustomActions:n,isMouseOver:i,showBuyInline:s}=this.props,l=(s||!t.requiresPayment)&&!e;return null!=n?n():(0,a.jsxs)("div",{className:h.priceOs,children:[(0,a.jsx)(o.Z,{type:o.Z.Types.DIRECTORY_TILE,sku:t,inLibrary:e,className:l&&i?h.tilePriceWithVisibleBuyButton:h.tilePrice}),(0,a.jsx)(c.n,{systems:[T.TaA.WINDOWS],className:h.platform}),l?(0,a.jsx)("div",{children:"deprecated!"}):null]})}),N(this,"renderMedia",()=>{let{playing:e,muted:t,showMediaPlaceholder:n,onToggleMute:i,sku:l,isHorizontal:o,storeListing:c}=this.props;return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(_.Z,{className:r()(h.splashContainer,{[h.splashContainerHorizontal]:o}),video:null!=c.previewVideo?(0,E._W)(l.applicationId,c.previewVideo):void 0,image:null!=c.thumbnail?(0,E._W)(l.applicationId,c.thumbnail,600):null,title:l.name,playing:e,muted:t,placeholder:n,onToggleMute:i,splashClassName:h.splashVideo,splashPlaceholderClassName:h.splashPlaceholder}),l.exclusive?(0,a.jsx)(d.Z,{className:r()(h.exclusiveRegular,{[h.exclusivePlaying]:e})}):l.isTheGameAwardsWinner?(0,a.jsx)(u.Z,{className:r()(h.exclusiveRegular,{[h.exclusivePlaying]:e})}):null]})})}}N(f,"defaultProps",{showMediaPlaceholder:!1,isMouseOver:!1,showBuyInline:!1,isHorizontal:!1,isEmbed:!1}),t.Z=f},568836:function(e,t,n){n.d(t,{$G:function(){return c},OR:function(){return d},aL:function(){return o}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(345898),r=n(285207);let o=660,c=e=>(0,i.jsx)(l.Z,{...e,className:s()(e.className,{[r.embedVertical]:!e.isHorizontal,[r.embedHorizontal]:e.isHorizontal})}),d=e=>{let{isHorizontal:t}=e;return(0,i.jsx)(c,{...e,media:()=>(0,i.jsx)("div",{className:s()(r.loadingDescription),children:(0,i.jsx)("div",{className:s()(r.loadingBackgroundWrapper,{[r.loadingBackgroundWrapperHorizontal]:t}),children:(0,i.jsx)("div",{className:r.loadingBackground})})}),title:()=>(0,i.jsx)("div",{className:s()(r.loadingImage,{[r.loadingImageHorizontal]:t})})})}},345898:function(e,t,n){var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(481060),r=n(672188);t.Z=e=>{let{renderTitle:t,renderTagline:n,renderActions:a,renderMedia:o,className:c,isHorizontal:d=!1}=e;return(0,i.jsxs)("div",{className:s()(r.tile,{[r.tileHorizontal]:d},c),children:[(0,i.jsx)("div",{className:s()(r.media,{[r.mediaHorizontal]:d}),children:null==o?void 0:o()}),(0,i.jsxs)("div",{className:r.description,children:[(0,i.jsx)(l.H,{className:r.title,children:null==t?void 0:t()}),(0,i.jsx)("div",{className:r.tagline,children:null==n?void 0:n()}),(0,i.jsx)("div",{className:r.actions,children:null==a?void 0:a()})]})]})}},637374:function(e,t,n){n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(913527),o=n.n(r),c=n(442837),d=n(481060),u=n(230711),_=n(568836),E=n(730749),I=n(112724),m=n(607070),T=n(884697),h=n(479446),N=n(930114),f=n(981632),p=n(703656),C=n(314897),g=n(82142),S=n(283595),A=n(594174),R=n(509545),x=n(55563),O=n(285952),M=n(199480),v=n(70613),L=n(626135),Z=n(669079),P=n(74538),b=n(296848),D=n(51144),j=n(626799),U=n(981631),y=n(474936),B=n(689938),k=n(366838);function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){let{onClick:t,libraryApplication:n}=e;return(0,i.jsxs)(d.Clickable,{className:k.libraryLink,onClick:t,children:[(0,i.jsx)(d.InventoryIcon,{size:"md",color:"currentColor",className:k.libraryIcon}),(0,i.jsx)("div",{children:n.isHidden()?B.Z.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY_HIDDEN:B.Z.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY})]})}class w extends a.PureComponent{get isHorizontal(){let{width:e}=this.props;return e>=_.aL}handleViewInventory(){u.Z.open(U.oAB.INVENTORY)}render(){return(0,i.jsx)(_.$G,{isHorizontal:this.isHorizontal,renderTitle:this.renderTitle,renderTagline:this.renderTagline,renderMedia:this.renderMedia,renderActions:this.renderActions})}constructor(...e){super(...e),G(this,"renderMedia",()=>(0,i.jsx)("div",{className:l()(k.invalidPoop,{[k.invalidPoopHorizontal]:this.isHorizontal})})),G(this,"renderTitle",()=>this.props.isSelfGift?B.Z.Messages.GIFT_EMBED_INVALID_TITLE_SELF:B.Z.Messages.GIFT_EMBED_INVALID_TITLE_OTHER),G(this,"renderActions",()=>this.props.isSelfGift?(0,i.jsx)(d.Button,{size:d.Button.Sizes.SMALL,onClick:this.handleViewInventory,children:B.Z.Messages.GIFT_INVENTORY}):(0,i.jsx)(d.Button,{disabled:!0,size:d.Button.Sizes.SMALL,children:B.Z.Messages.GIFT_EMBED_BUTTON_ACCEPT})),G(this,"renderTagline",()=>this.props.isSelfGift?B.Z.Messages.GIFT_EMBED_INVALID_TAGLINE_SELF:B.Z.Messages.GIFT_EMBED_INVALID_TAGLINE_OTHER)}}class V extends a.Component{get analyticsLocation(){let{analyticsContext:{location:e}}=this.props;return{...e,section:U.jXE.GIFT_CODE_EMBED}}renderActions(e){let{libraryApplication:t}=this.props;return(0,i.jsxs)(O.Z,{justify:O.Z.Justify.BETWEEN,children:[(0,i.jsxs)(O.Z,{children:[this.renderButton(e),null==t||e.isSubscription?null:(0,i.jsx)(F,{onClick:this.handleViewLibrary,libraryApplication:t})]}),(0,i.jsxs)(O.Z,{align:O.Z.Align.END,justify:O.Z.Justify.END,className:k.metadata,direction:O.Z.Direction.VERTICAL,children:[e.hasMultipleCopies?(0,i.jsx)("div",{children:this.renderGiftCodeCopiesLeft(e)}):null,e.redeemed||e.isClaimed||null!=t||null==e.expiresAt?null:(0,i.jsx)("div",{children:B.Z.Messages.GIFT_EMBED_EXPIRATION.format({hours:e.expiresAt.diff(o()(),"h")})})]})]})}renderGiftCodeCopiesLeft(e){return(e.isSubscription?B.Z.Messages.GIFT_EMBED_SUBSCRIPTIONS_LEFT:B.Z.Messages.GIFT_EMBED_COPIES_LEFT).format({remaining:e.remainingUses,total:e.maxUses})}renderButton(e){let{libraryApplication:t,currentUser:n,isSelfGift:a}=this.props,s={onClick:this.handleAccept,color:d.Button.Colors.BRAND},l=!e.isSubscription&&null!=t||!e.isSelfRedeemable&&a||e.isExistingPremiumSubscriptionDisallowed&&(0,P.I5)(n);return(e.redeemed||l||e.isClaimed||!n.verified)&&(s.color=d.Button.Colors.BRAND,s.disabled=!0),(0,i.jsx)(d.Button,{...s,className:(0,T.mO)(e)?k.collectiblesAcceptButton:null,size:d.Button.Sizes.SMALL,children:e.redeemed?B.Z.Messages.GIFT_EMBED_BUTTON_CLAIMED:null!=e.giftStyle?B.Z.Messages.SEASONAL_GIFTING_OPEN_GIFT:B.Z.Messages.GIFT_EMBED_BUTTON_ACCEPT})}isCustomGiftMessage(){let{type:e}=this.props;return e===U.uaV.CUSTOM_GIFT}renderTitle(e){let{currentUser:t,isSelfGift:n,sku:i}=this.props;return this.isCustomGiftMessage()&&!n?B.Z.Messages.GIFT_RECIPIENT_NOTIFICATION.format({recipientDisplayName:D.ZP.getName(t)}):null==i?null:e.isSubscription?n?B.Z.Messages.GIFT_EMBED_TITLE_SUBSCRIPTION_SELF:B.Z.Messages.GIFT_EMBED_TITLE_SUBSCRIPTION:n?B.Z.Messages.GIFT_EMBED_TITLE_SELF:B.Z.Messages.GIFT_EMBED_TITLE}renderBody(e){let{libraryApplication:t,isSelfGift:n,sku:i,gifter:a,subscriptionPlan:s,currentUser:l}=this.props;if(null==i)return B.Z.Messages.LOADING;if(!n&&this.isCustomGiftMessage()&&!e.redeemed)return;let r=i.isPreorder()?B.Z.Messages.PREORDER_SKU_NAME.format({name:i.name}):i.name;if(e.redeemed)return e.isSubscription||(0,T.mO)(e)?B.Z.Messages.GIFT_EMBED_BODY_CLAIMED_SELF_SUBSCRIPTION:B.Z.Messages.GIFT_EMBED_BODY_CLAIMED_SELF.format({skuName:r,onViewInLibrary:this.handleViewLibrary});if(!e.isSubscription&&null!=t)return B.Z.Messages.GIFT_EMBED_BODY_OWNED.format({skuName:r,onViewInLibrary:this.handleViewLibrary});if(e.isClaimed)return B.Z.Messages.GIFT_EMBED_BODY_CLAIMED_OTHER;if(!l.verified)return B.Z.Messages.GIFT_EMBED_BODY_REQUIRES_VERIFICATION.format({onClick:this.handleVerificationClick});if(n)return e.isSelfRedeemable?B.Z.Messages.GIFT_EMBED_BODY_SELF:B.Z.Messages.GIFT_EMBED_BODY_SELF_NOT_REDEEMABLE.format({skuName:r});if(e.isExistingPremiumSubscriptionDisallowed)return B.Z.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_ALREADY_ACTIVE;if(e.hasMultipleCopies)return null!=a?e.isSubscription?B.Z.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_GIVEAWAY.format({username:D.ZP.getUserTag(a),maxUses:e.maxUses,skuName:r}):B.Z.Messages.GIFT_EMBED_BODY_GIVEAWAY.format({username:D.ZP.getUserTag(a),totalCopies:e.maxUses,skuName:r}):e.isSubscription?B.Z.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_GIVEAWAY.format({maxUses:e.maxUses,skuName:r}):B.Z.Messages.GIFT_EMBED_BODY_NO_USER_GIVEAWAY.format({totalCopies:e.maxUses,skuName:r});if(e.isSubscription)return null==s?B.Z.Messages.LOADING:null!=a?(s.interval===y.rV.MONTH?B.Z.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_DEFAULT_MONTHS:B.Z.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_DEFAULT_YEARS).format({username:D.ZP.getUserTag(a),skuName:r,intervalCount:s.intervalCount}):(s.interval===y.rV.MONTH?B.Z.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_DEFAULT_MONTHS:B.Z.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_DEFAULT_YEARS).format({skuName:r,intervalCount:s.intervalCount});return null!=a?B.Z.Messages.GIFT_EMBED_BODY_DEFAULT.format({username:D.ZP.getUserTag(a)}):B.Z.Messages.GIFT_EMBED_BODY_NO_USER_DEFAULT}renderPromotionActions(){return(0,i.jsx)(d.Button,{size:d.Button.Sizes.SMALL,onClick:this.handleClaimPromotion,children:B.Z.Messages.GIFT_EMBED_BUTTON_CLAIM})}renderEmbed(){let{giftCode:e,width:t}=this.props;return null==e?null:(0,i.jsx)(j.$,{skuId:e.skuId,onEmbedClick:this.handleEmbedClick,analyticsSection:U.jXE.GIFT_CODE_EMBED,renderCustomActions:()=>this.renderActions(e),renderCustomTitle:()=>this.renderTitle(e),renderCustomTagline:()=>this.renderBody(e),renderCustomMedia:null==e.giftStyle?void 0:()=>this.renderCustomGiftBox(e),width:t})}render(){let{giftCode:e,resolved:t,width:n,isSelfGift:a}=this.props;if(null!=e&&null!=e.promotion)return(0,i.jsx)(j.$,{skuId:e.skuId,onEmbedClick:this.handleClaimPromotion,analyticsSection:U.jXE.GIFT_CODE_EMBED,renderCustomActions:()=>this.renderPromotionActions(),renderCustomTitle:()=>B.Z.Messages.GIFT_EMBED_TITLE_PROMOTION,renderCustomTagline:()=>B.Z.Messages.GIFT_EMBED_TAGLINE_PROMOTION,width:n});if(null==e||e.revoked)return t?(0,i.jsx)(w,{isSelfGift:a,width:n}):(0,i.jsx)(_.OR,{isHorizontal:n>=_.aL});return(0,T.mO)(e)?(0,i.jsx)("div",{className:k.collectiblesEmbedWrapper,children:this.renderEmbed()}):this.renderEmbed()}constructor(...e){super(...e),G(this,"handleViewLibrary",e=>{let{libraryApplication:t}=this.props;e.preventDefault(),null!=t&&t.isHidden()?(0,p.uL)(U.Z5c.APPLICATION_LIBRARY_SETTINGS):(0,p.uL)(U.Z5c.APPLICATION_LIBRARY,{state:{applicationId:null!=t?t.id:null}})}),G(this,"handleVerificationClick",e=>{e.stopPropagation(),e.preventDefault(),u.Z.open(U.oAB.ACCOUNT)}),G(this,"handleAccept",e=>{let{channelId:t,code:n,content:i,type:a,giftInfo:s}=this.props;e.preventDefault(),e.stopPropagation(),L.default.track(U.rMx.OPEN_MODAL,{type:"gift_accept",location:{...this.analyticsLocation,object:U.qAy.BUTTON_CTA}});let l=a!==U.uaV.CUSTOM_GIFT?void 0:i;(0,N.V)({processedCode:n,channelContext:t,customGiftMessage:l,giftInfo:s})}),G(this,"handleEmbedClick",e=>{let{giftCode:t}=this.props;null!=t&&t.isSubscription&&(e.preventDefault(),u.Z.open(U.oAB.PREMIUM))}),G(this,"handleClaimPromotion",e=>{var t;e.stopPropagation(),e.preventDefault();let n=null===(t=this.props.giftCode)||void 0===t?void 0:t.code;if(null!=n)window.open(U.Z5c.BILLING_PROMOTION_REDEMPTION(n))}),G(this,"renderCustomGiftBox",e=>{let{useReducedMotion:t,width:n}=this.props;if(null==e||null==e.giftStyle)return null;let a=y.jy.includes(e.giftStyle),s=l()(k.customGiftEmbedWrapper,{[k.legacySeasonalGiftEmbedWrapper]:a,[k.giftEmbedWrapperHorizontal]:n>=_.aL}),r=l()({[k.legacySeasonalGiftEmbedBox]:a,[k.legacySeasonalGiftEmbedBoxHorizontal]:a&&n>=_.aL,[k.customGiftEmbedBox]:!a,[k.customGiftEmbedBoxHorizontal]:!a&&n>=_.aL});return(0,i.jsxs)("div",{className:s,children:[!t&&y.eZ.includes(e.giftStyle)&&(0,i.jsx)(v.Z,{className:k.snow,wind:5}),a&&(0,i.jsx)(M.Z,{className:k.headerIcon}),null!=e.giftStyle&&(0,i.jsx)(f.Z,{defaultAnimationState:e.redeemed?h.S.LOOP:h.S.IDLE,giftStyle:e.giftStyle,className:r})]})})}}let H=(0,I.Z)((0,E.Z)(V));t.Z=c.ZP.connectStores([g.Z,x.Z,A.default,S.Z,R.Z,C.default,m.Z],e=>{let{code:t,author:n,currentUser:i}=e,a=g.Z.get(t),s=null!=a?x.Z.get(a.skuId):null,l=null!=a&&null!=a.userId?A.default.getUser(a.userId):null,r=m.Z.useReducedMotion;return{sku:s,giftCode:a,gifter:l,currentUser:i,subscriptionPlan:null!=a&&null!=a.subscriptionPlanId?(0,b.oE)(a.subscriptionPlanId):null,isSelfGift:null!=a?C.default.getId()===a.userId:C.default.getId()===n.id,resolved:g.Z.getIsResolved(t),libraryApplication:null!=s&&(null==a?void 0:a.entitlementBranches)!=null?Z.z2(a.entitlementBranches,s,S.Z):null,useReducedMotion:r}})(H)},54936:function(e,t,n){n.d(t,{n:function(){return m}}),n(411104);var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(481060),r=n(910111),o=n(732559),c=n(723851),d=n(981631),u=n(689938),_=n(968406);let E={[d.TaA.WINDOWS]:{icon:c.Z,getLabel:()=>u.Z.Messages.WINDOWS},[d.TaA.MACOS]:{icon:o.Z,getLabel:()=>u.Z.Messages.MACOS},[d.TaA.LINUX]:{icon:r.Z,getLabel:()=>u.Z.Messages.LINUX}};function I(e){let{operatingSystem:t,className:n}=e,a=E[t];if(null==a)throw Error("Unexpected operating system: ".concat(t));let s=a.icon;return(0,i.jsx)(l.Tooltip,{text:a.getLabel(),children:e=>(0,i.jsx)(s,{...e,className:n})})}let m=e=>{let{systems:t,className:n,iconClassName:a}=e;return(0,i.jsx)("div",{className:s()(_.OSSection,n),children:t.map(e=>(0,i.jsx)(I,{operatingSystem:e,className:s()(_.purchaseUnitOperatingSystem,a)},e))})}},72924:function(e,t,n){n.d(t,{S:function(){return h}});var i=n(735250);n(470079);var a=n(512722),s=n.n(a),l=n(481060),r=n(558381),o=n(821849),c=n(15640),d=n(724870),u=n(87484),_=n(928518),E=n(106976),I=n(689011),m=n(55563),T=n(981631);async function h(e){let{applicationId:t,skuId:n,initialPlanId:a,analyticsLocations:h,analyticsLocationObject:N}=e,f=m.Z.get(n);if(null==f){let e=(await (0,r.oJ)(t)).find(e=>e.sku.id===n);s()(null!=e,"Could not find store listing for sku"),e.sku.type===T.epS.SUBSCRIPTION_GROUP&&await (0,E.rx)(t,e.id)}f=null!=f?f:m.Z.get(n),s()(null!=f&&f.applicationId===t,"SKU must belong to application"),f.type===T.epS.SUBSCRIPTION&&!(0,c.a)([f.id])&&await (0,o.GZ)(f.id);let p=function(){let e=_.Z.getWindow(T.KJ3.CHANNEL_CALL_POPOUT);return null==e||e.closed?l.DEFAULT_MODAL_CONTEXT:l.POPOUT_MODAL_CONTEXT}();if(f.type!==T.epS.SUBSCRIPTION)return new Promise((e,i)=>{(0,u.Z)({applicationId:t,skuId:n,analyticsLocationObject:N,analyticsLocations:h,contextKey:p,onComplete:t=>{var n;e(null!==(n=null==t?void 0:t.entitlements)&&void 0!==n?n:[])},onClose:e=>{!e&&i()}})});await function(e,t,n,a,s){return(0,d.m)({applicationId:e,skuId:t,initialPlanId:n,analyticsLocationObject:a,analyticsLocations:s,renderHeader:(e,t,n)=>(0,i.jsx)(I.t,{step:n,onClose:()=>t(!1)})})}(t,n,a,N,h)}},626799:function(e,t,n){n.d(t,{$:function(){return Z}}),n(47120),n(411104);var i,a=n(735250),s=n(470079),l=n(613828),r=n(442837),o=n(481060),c=n(558381),d=n(410575),u=n(498179),_=n(86357),E=n(914602),I=n(568836),m=n(730749),T=n(112724),h=n(812206),N=n(283595),f=n(558314),p=n(55563),C=n(551428),g=n(73346),S=n(981631),A=n(689938),R=n(14994);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends(i=s.Component){get analyticsLocation(){let{analyticsContext:{location:e},analyticsSection:t}=this.props;return{...e,section:null!=t?t:S.jXE.APPLICATION_EMBED,object:S.qAy.CARD}}componentDidMount(){let{sku:e,skuId:t,storeListing:n}=this.props;(null==e||null==n)&&(0,c.km)(t)}renderViewInStoreButton(){return(0,a.jsx)(o.Button.Link,{to:this.getStoreListingLocation(),className:R.actionButton,color:o.Button.Colors.GREEN,size:o.Button.Sizes.SMALL,children:A.Z.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE})}render(){let{sku:e,storeListing:t,width:n,fetchFailed:i,renderFallback:s}=this.props,r=n>I.aL;if(null==e||null==t)return i?s():(0,a.jsx)(I.OR,{isHorizontal:r});return e.productLine===S.POd.COLLECTIBLES?(0,a.jsx)(d.Z,{section:S.jXE.APPLICATION_EMBED,children:this.renderApplicationTile(e,t)}):(0,a.jsx)(d.Z,{section:S.jXE.APPLICATION_EMBED,children:(0,a.jsx)(l.rU,{onClick:this.handleLinkClick,to:this.getStoreListingLocation(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:this.renderApplicationTile(e,t)})})}constructor(...e){super(...e),x(this,"state",{playing:!1,muted:!0}),x(this,"handleToggleMute",()=>{this.setState({muted:!this.state.muted})}),x(this,"handleMouseEnter",()=>{this.setState({playing:!0})}),x(this,"handleMouseLeave",()=>{this.setState({playing:!1})}),x(this,"getStoreListingLocation",()=>{let{sku:e}=this.props;if(null==e)throw Error("Should not be link to ApplicationStoreListing without SKU");return(0,g.ZI)(e.id,{slug:e.slug,analyticsSource:this.analyticsLocation})}),x(this,"handleActionButtonClick",e=>e.preventDefault()),x(this,"handleBuyButtonClick",e=>e.preventDefault()),x(this,"handleLinkClick",e=>{let{onEmbedClick:t}=this.props;null!=t&&t(e)}),x(this,"renderApplicationTile",(e,t)=>{let{inLibrary:n,width:i,renderCustomTitle:s,renderCustomTagline:l,renderCustomMedia:r}=this.props,{playing:o,muted:c}=this.state,d=i>I.aL;return(0,a.jsx)(E.Z,{sku:e,storeListing:t,playing:o,muted:c,inLibrary:n,onToggleMute:this.handleToggleMute,renderCustomActions:()=>this.renderActions(e),renderCustomTitle:s,renderCustomTagline:l,renderCustomMedia:r,isHorizontal:d,isEmbed:!0})}),x(this,"renderActions",e=>{let{inLibrary:t,application:n,skuId:i,libraryApplication:s,renderCustomActions:l}=this.props;if(null!=l)return(0,a.jsx)("div",{className:R.tileActions,children:l()});if(null==n)return null;let r=null!=n&&n.primarySkuId===i,c=null!=s&&s.hasFlag(S.eHb.HIDDEN);return(0,a.jsxs)("div",{className:R.tileActions,children:[!r||c?this.renderViewInStoreButton():(0,a.jsx)(u.Z,{application:n,customDisabledColor:o.Button.Colors.PRIMARY,size:o.Button.Sizes.SMALL,className:R.actionButton,source:S.Sbl.MESSAGE_EMBED,onClick:this.handleActionButtonClick}),t&&!c||e.premium?null:(0,a.jsx)(_.Z,{type:_.Z.Types.EMBED,sku:e,inLibrary:!1})]})})}}x(O,"defaultProps",{renderFallback:S.dG4});let M=[p.Z,f.Z,N.Z,C.Z];function v(e){let{skuId:t}=e,n=p.Z.get(t),i=null!=n?h.Z.getApplication(n.applicationId):null;return{sku:n,application:i,fetchFailed:p.Z.didFetchingSkuFail(t),inLibrary:null!=n&&N.Z.hasApplication(n.applicationId,n.applicationId,!0),storeListing:null!=n?C.Z.getForSKU(n.id):null,libraryApplication:null!=n?N.Z.getLibraryApplication(n.applicationId,n.applicationId,!0):null}}let L=(0,T.Z)((0,m.Z)(O));t.Z=r.ZP.connectStores(M,v)(L);let Z=(0,m.Z)(r.ZP.connectStores(M,v)(O))},69499:function(e,t,n){n.d(t,{E:function(){return I}}),n(47120);var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(239091),o=n(585237),c=n(812206),d=n(55563),u=n(73346),_=n(689938);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let I={DropdownSizes:o.Z.DropdownSizes,Sizes:o.Z.Sizes,Colors:o.Z.Colors,Looks:o.Z.Looks};class m extends a.PureComponent{render(){let{skus:e,children:t,applicationId:n,primarySKU:a,onSKUSelect:s,...l}=this.props;return(0,i.jsx)(o.Z,{onClick:this.handleClick,onDropdownClick:e.length>0?this.handleContextMenu:null,onContextMenu:e.length>0?this.handleContextMenu:void 0,...l,children:t})}constructor(...e){super(...e),E(this,"renderContextMenu",()=>{let{skus:e,onSKUSelect:t,onMenuSelect:n}=this.props;return(0,i.jsx)(l.Menu,{onSelect:n,navId:"test-skus","aria-label":_.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:r.Zy,children:e.map(e=>(0,i.jsx)(l.MenuItem,{id:"".concat(e.id),label:e.name,action:()=>{null==t||t(e)}},"".concat(e.id)))})}),E(this,"handleContextMenu",e=>{e.stopPropagation(),r.vq(e,this.renderContextMenu)}),E(this,"handleClick",()=>{let{onSKUSelect:e,primarySKU:t}=this.props;null!=t&&(null==e||e(t))})}}t.Z=s.ZP.connectStores([d.Z,c.Z],e=>{var t;let{applicationId:n}=e,i=(0,u.uF)(n,c.Z,d.Z);return{skus:(null!==(t=d.Z.getForApplication(n))&&void 0!==t?t:[]).sort((e,t)=>null!=i&&e.id===i.id?-1:null!=i&&t.id===i.id?1:e.name>=t.name?-1:1),primarySKU:i}})(m)},143740:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(481060);function s(e,t){(0,a.openModalLazy)(async()=>{let{default:a}=await n.e("6310").then(n.bind(n,706923));return n=>(0,i.jsx)(a,{channelId:e,messageId:t,...n})})}},912193:function(e,t,n){n.d(t,{b:function(){return u}});var i=n(735250);n(470079);var a=n(481060),s=n(846027),l=n(468026),r=n(689938);let o=null;function c(){null!==o&&(0,a.closeModal)(o),o=null}function d(){s.Z.setSilenceWarning(!1),c()}function u(){o=(0,a.openModal)(e=>(0,i.jsx)(l.default,{title:r.Z.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:r.Z.Messages.CONFIRM_DISABLE_SILENCE_BODY,secondaryConfirmText:r.Z.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:d,onConfirm:c,confirmText:r.Z.Messages.OKAY,...e}))}},733427:function(e,t,n){var i=n(470079);t.Z=()=>{let e=i.useRef(!0);return i.useEffect(()=>()=>{e.current=!1},[]),i.useCallback(()=>e.current,[])}},838085:function(e,t,n){n.d(t,{Z:function(){return s}}),n(47120);var i=n(470079),a=n(393238);function s(){let{ref:e,width:t}=(0,a.Z)(),[n,s]=i.useState();return i.useEffect(()=>{null==n&&null!=t&&s(t)},[n,t]),[e,n]}},468988:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(689938);let a=["a","b","c","d"],s=e=>e;function l(e,t){let n={},i=Math.min(e.length,a.length);for(let s=0;s<i;++s)n[a[s]]=(n,i)=>t(e[s],i);return n}class r{asString(){return this.transformed(s)}isEmpty(){return 0===this.items.length}transformed(e){switch(this.items.length){case 0:return"";case 1:return e(this.items[0],"");case 2:return i.Z.Messages.GENERIC_FORMATTED_LIST_TWO.format(l(this.items,e));case 3:return i.Z.Messages.GENERIC_FORMATTED_LIST_THREE.format(l(this.items,e));default:return i.Z.Messages.GENERIC_FORMATTED_LIST_FOUR.format(l(this.items,e))}}constructor(e){var t,n,i;t=this,i=void 0,(n="items")in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.items=e}}},475468:function(e,t,n){n.d(t,{K:function(){return o},z:function(){return c}});var i=n(481060),a=n(475179),s=n(925549),l=n(905423),r=n(981631);function o(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(0,i.hasAnyModalOpen)())n&&s.Z.channelListScrollTo(e,t),o&&null!=t&&a.Z.updateChatOpen(t,!0),l.Z.getState().updatePath(r.Z5c.CHANNEL(e,t))}function c(e){if(!(0,i.hasAnyModalOpen)())l.Z.getState().updatePath(e)}},107965:function(e,t,n){n.d(t,{Z:function(){return N}}),n(653041);var i=n(544891),a=n(433517),s=n(570140),l=n(865427),r=n(710845),o=n(70956),c=n(358085),d=n(960048),u=n(998502);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let E=1*o.Z.Millis.HOUR,I=7*o.Z.Millis.DAY,m=1*o.Z.Millis.DAY,T=a.K.get("lastNonRequiredUpdateShown",Date.now()),h=new r.Z("AutoUpdateManager");class N{destroy(){clearInterval(this._checkInterval)}quitAndInstall(){this.updateAvailable&&(this.hasNativeUpdate?null!=this._bootstrapper?this._bootstrapper.finishBootstrap():u.ZP.send("QUIT_AND_INSTALL"):location.reload(!0))}async _requestNewUpdaterBootstrap(){let e;h.log("Bootstrapping new updater host...");try{await u.ZP.ensureModule("discord_updater_bootstrap"),e=u.ZP.requireModule("discord_updater_bootstrap"),this._bootstrapper=e}catch(e){this._handleNativeUpdateNotAvailable();return}try{this._handleCheckingForUpdates(),await e.bootstrap(u.ZP.releaseChannel,"win"),this.updateAvailable=!0,this.hasNativeUpdate=!0,this._handleUpdateDownloaded(!0)}catch(e){h.log("Failed to bootstrap new updater:",e),this._handleNativeUpdateNotAvailable(),d.Z.captureException(e)}}_emitCallbacks(){this._callbacks.forEach(e=>e(this.updateAvailable)),this._callbacks=[]}constructor(e=E){var t=this;_(this,"updateAvailable",!1),_(this,"hasNativeUpdate",!1),_(this,"_checkInterval",void 0),_(this,"_callbacks",[]),_(this,"_bootstrapper",null),_(this,"checkForUpdates",function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(e||!t.hasNativeUpdate)&&(c.isPlatformEmbedded?"win32"===(0,c.getPlatformName)()&&u.ZP.canBootstrapNewUpdater?t._requestNewUpdaterBootstrap():u.ZP.send("CHECK_FOR_UPDATES"):t._handleNativeUpdateNotAvailable()),new Promise(e=>{t.updateAvailable?e(!0):t._callbacks.push(e)})}),_(this,"_handleCheckingForUpdates",()=>{s.Z.dispatch({type:"CHECKING_FOR_UPDATES"})}),_(this,"_handleNativeUpdateNotAvailable",()=>{this._handleCheckingForUpdates(),i.tn.get({url:"".concat(location.protocol,"//").concat(location.host).concat("/assets/","version.").concat(window.GLOBAL_ENV.RELEASE_CHANNEL,".json"),query:{_:Date.now()/1e3/60/5|0},oldFormErrors:!0}).then(e=>{if(null==e.body||"6f0c577f8f2eb718ff854aed0599252199a5575c"===e.body.hash)return this._handleUpdateNotAvailable();if(e.body.required||(0,l.fD)())return this._handleUpdateDownloaded(!1);let t="stable"===window.GLOBAL_ENV.RELEASE_CHANNEL?I:m;if(Date.now()-T>t)return a.K.set("lastNonRequiredUpdateShown",Date.now()),this._handleUpdateDownloaded(!1)},()=>this._handleUpdateError())}),_(this,"_handleUpdateNotAvailable",()=>{s.Z.dispatch({type:"UPDATE_NOT_AVAILABLE"}),this._emitCallbacks()}),_(this,"_handleUpdateAvailable",e=>{this.updateAvailable=!0,this.hasNativeUpdate=e,s.Z.dispatch({type:"UPDATE_AVAILABLE"})}),_(this,"_handleUpdateManually",()=>{this.updateAvailable=!0,this.hasNativeUpdate=!0,s.Z.dispatch({type:"UPDATE_MANUALLY"})}),_(this,"_handleUpdateError",e=>{this.updateAvailable=!1,s.Z.dispatch({type:"UPDATE_ERROR",message:e})}),_(this,"_handleUpdateDownloaded",(e,t,n,i,a)=>{this._handleUpdateAvailable(e),s.Z.dispatch({type:"UPDATE_DOWNLOADED",releaseNotes:t,releaseName:n,releaseDate:i,updateURL:a}),this._emitCallbacks()}),c.isPlatformEmbedded&&(u.ZP.on("CHECKING_FOR_UPDATES",this._handleCheckingForUpdates),u.ZP.on("UPDATE_NOT_AVAILABLE",this._handleNativeUpdateNotAvailable),u.ZP.on("UPDATE_AVAILABLE",()=>this._handleUpdateAvailable(!0)),u.ZP.on("UPDATE_ERROR",this._handleUpdateError),u.ZP.on("UPDATE_DOWNLOADED",()=>this._handleUpdateDownloaded(!0)),u.ZP.on("UPDATE_MANUALLY",this._handleUpdateManually)),s.Z.wait(()=>{this.checkForUpdates()}),this._checkInterval=setInterval(this.checkForUpdates,e)}}},276852:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(81063),a=n(701488);function s(e,t){return null==e||null==e.assets||null==e.assets.large_image?null:(0,i.getAssetImage)(t,e.assets.large_image,[a.cc,a.cc])}},147865:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(689938);function a(e){return e>0?i.Z.Messages.EMBEDDED_ACTIVITIES_MAX_PARTICIPANTS.format({count:e}):i.Z.Messages.EMBEDDED_ACTIVITIES_UNLIMITED_PARTICIPANTS}},994339:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(70956),a=n(709054);let s=2*i.Z.Millis.HOUR;function l(e,t,n){if(null==e)return!1;let i=null!=t.activity?t.activity.party_id:null,l=null!=i&&(null==e.party||e.party.id!==i),r=a.default.extractTimestamp(t.id)+s<Date.now(),o=null!=e.application_id&&e.application_id!==n;return!l&&!r&&!o}},624367:function(e,t,n){n.d(t,{Z:function(){return b}}),n(47120),n(789020);var i=n(735250);n(470079);var a=n(613828),s=n(442837),l=n(477690),r=n(481060),o=n(668781),c=n(2052),d=n(100527),u=n(906732),_=n(835473),E=n(522474),I=n(523746),m=n(592125),T=n(594174),h=n(602623),N=n(630388),f=n(823379),p=n(624138),C=n(317381),g=n(638880),S=n(146936),A=n(147865),R=n(778569),x=n(513202),O=n(403404),M=n(701488),v=n(981631),L=n(689938),Z=n(337533);let P=(0,p.Mg)(l.Z.ACTIVITY_BOOKMARK_EMBED_IMAGE_WIDTH);function b(e){var t,n,l,p;let{applicationId:b,message:D}=e,{analyticsLocations:j}=(0,u.ZP)(d.Z.ACTIVITY_BOOKMARK),U=(0,c.O)(),y=D.channel_id,B=(0,s.e7)([m.Z],()=>m.Z.getChannel(y),[y]),k=null==B?void 0:B.guild_id,G=null!=B&&(B.isGuildVoice()||B.isPrivate()),F=(0,s.e7)([C.ZP],()=>C.ZP.getSelfEmbeddedActivityForChannel(y)),w=(null==F?void 0:F.applicationId)===b,[V,H]=(0,_.Z)([b,null!==(n=null==F?void 0:F.applicationId)&&void 0!==n?n:""]),Y=(0,A.Z)(null!==(l=null==V?void 0:V.maxParticipants)&&void 0!==l?l:0),[W]=(0,s.Wu)([C.ZP],()=>G?C.ZP.getEmbeddedActivitiesForChannel(y).filter(e=>e.applicationId===b):[],[b,y,G]),z=Array.from(null!==(p=null==W?void 0:W.userIds)&&void 0!==p?p:[]),K=(0,s.Wu)([T.default],()=>z.map(e=>T.default.getUser(e)).filter(f.lm),[z]),Q=(0,R.Z)({applicationId:b,size:P,names:["embedded_cover"]}),q=E.Z.getWindowOpen(v.KJ3.CHANNEL_CALL_POPOUT),X=K.length>0?L.Z.Messages.JOIN:L.Z.Messages.START,J=async()=>{if(G){if(null!=W&&K.length>0)await (0,g.Z)({applicationId:W.applicationId,currentEmbeddedApplication:H,activityChannelId:y,embeddedActivitiesManager:x.Z,locationObject:U.location,analyticsLocations:j});else{let e=B.isPrivate()&&!I.Z.isCallActive(y),t=()=>(0,S.Z)({targetApplicationId:b,currentEmbeddedApplication:H,channelId:y,guildId:k,embeddedActivitiesManager:x.Z,analyticsLocations:j});e?o.Z.show({title:L.Z.Messages.DEFAULT_CONFIRMATION_MODAL_HEADER,cancelText:L.Z.Messages.CANCEL,confirmText:L.Z.Messages.CONFIRM,onConfirm:()=>t(),body:L.Z.Messages.EMBEDDED_ACTIVITIES_DM_START_CONFIRMATION_TEXT}):t()}}else(0,O.Z)({guildId:k,locationObject:U.location,openInPopout:q,initialSelectedApplicationId:b,initialSlide:M.ag.SELECT_CHANNEL,analyticsLocations:j})};return null!=V&&(0,N.yE)(V.flags,v.udG.EMBEDDED)?(0,i.jsx)(u.Gt,{value:j,children:(0,i.jsxs)("div",{className:Z.container,children:[(0,i.jsx)("div",{className:Z.imgContainer,children:(0,i.jsx)("img",{className:Z.img,alt:V.name,src:Q.url})}),(0,i.jsxs)("div",{className:Z.content,children:[(0,i.jsx)(r.Heading,{className:Z.heading,variant:"heading-xl/semibold",children:V.name}),(0,i.jsx)(r.Heading,{className:Z.description,variant:"heading-sm/medium",children:null===(t=V.description)||void 0===t?void 0:t.trim()}),(0,i.jsx)(r.Heading,{className:Z.learnMore,variant:"heading-sm/medium",children:(0,i.jsx)(a.rU,{to:v.Z5c.ACTIVITY_DETAILS(b),children:L.Z.Messages.LEARN_MORE})}),(0,i.jsxs)("div",{className:Z.cta,children:[K.length>0?(0,i.jsx)("div",{className:Z.avatars,children:(0,i.jsx)(h.Z,{guildId:k,users:K,max:4})}):(0,i.jsxs)("div",{className:Z.maxParticipants,children:[(0,i.jsx)(r.GroupIcon,{size:"md",color:"currentColor",className:Z.peopleIcon}),(0,i.jsx)(r.Text,{variant:"text-xs/semibold",children:Y})]}),(0,i.jsx)("div",{className:Z.buttonWrapper,children:(0,i.jsx)(r.Button,{onClick:J,className:Z.button,color:r.ButtonColors.GREEN,disabled:w,children:X})})]})]})]})}):null}},403404:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(481060),s=n(424602),l=n(397698),r=n(776862),o=n(701488),c=n(981631);function d(e){let{channel:t,guildId:d,locationObject:u,openInPopout:_,initialSelectedApplicationId:E,initialSlide:I=o.ag.DIRECTORY,enableSelectedTextChannelInvite:m=!1,analyticsLocations:T,opensAppLauncherModal:h=!1}=e,N=T.length>0?T[T.length-1]:"open-activity-shelf",{enabled:f}=s.m1.getCurrentConfig({location:N},{autoTrackExposure:!1});if(h&&f){null!=t&&(0,l.Z)({openInPopout:_,channel:t,analyticsLocation:N});return}_&&(0,r.Z)(c.KJ3.CHANNEL_CALL_POPOUT);let p=_?a.POPOUT_MODAL_CONTEXT:a.DEFAULT_MODAL_CONTEXT;return(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("19945").then(n.bind(n,471840));return n=>(0,i.jsx)(e,{...n,channel:t,guildId:d,locationObject:u,initialSlide:I,initialSelectedApplicationId:E,enableSelectedTextChannelInvite:m,analyticsLocations:T})},{modalKey:o.AC,contextKey:p})}},397698:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var a=n(481060),s=n(776862),l=n(306680),r=n(626135),o=n(499254),c=n(827498),d=n(314734),u=n(981631);function _(e){let{channel:t,openInPopout:_,analyticsLocation:E}=e;_&&(0,s.Z)(u.KJ3.CHANNEL_CALL_POPOUT);let I=_?a.POPOUT_MODAL_CONTEXT:a.DEFAULT_MODAL_CONTEXT;(0,o.y)(c.ti.DISMISSED),(0,o._)(c._b.VOICE);let m=t.id,T=l.ZP.hasUnread(m)||l.ZP.getMentionCount(m)>0;return r.default.track(u.rMx.VOICE_PANEL_TAB_OPENED,{tab:"activities",location:E,source:c._b.VOICE,is_chat_badged:T}),(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("81056").then(n.bind(n,743161));return n=>(0,i.jsx)(e,{channel:t,...n})},{modalKey:d.e9,contextKey:I})}},433074:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120);var i=n(735250),a=n(470079),s=n(873546),l=n(399606),r=n(481060),o=n(434650),c=n(706454),d=n(973616),u=n(914010),_=n(594174),E=n(197409),I=n(626135),m=n(135431),T=n(674588),h=n(264043),N=n(132871),f=n(147890),p=n(981631),C=n(689938),g=n(938979);function S(e){var t,n;let{code:S,message:A}=e,[R,x,O]=(0,l.Wu)([h.Z],()=>[h.Z.getApplication(S),h.Z.isInvalidApplication(S),h.Z.getApplicationFetchState(S)],[S]),M=(0,l.e7)([c.default],()=>c.default.locale),v=(0,l.e7)([u.Z],()=>{var e;return null!==(e=u.Z.getGuildId())&&void 0!==e?e:void 0}),L=(0,l.e7)([_.default],()=>_.default.getCurrentUser()),[Z,P]=a.useState(!1),b=a.useCallback(e=>{e&&P(!0)},[]),D=(0,o.O)(b);a.useEffect(()=>{(0,T.gZ)(S)},[S]),a.useEffect(()=>{Z&&O===h.M.FETCHED&&I.default.track(p.rMx.APP_DIRECTORY_PROFILE_EMBED_VIEWED,{application_id:S,device_platform:s.tq?"mobile_web":"desktop_web",sender_user_id:A.author.id,guild_id:v,channel_id:A.channel_id})},[Z,S,null==L?void 0:L.id,A.channel_id,v,A.author.id,O]),a.useEffect(()=>{Z&&x&&I.default.track(p.rMx.APP_DIRECTORY_PROFILE_INVALID_EMBED_VIEWED,{device_platform:s.tq?"mobile_web":"desktop_web",sender_user_id:A.author.id,guild_id:v,channel_id:A.channel_id})},[Z,v,x,A.author.id,A.channel_id]);let j=e=>{I.default.track(p.rMx.APP_DIRECTORY_PROFILE_EMBED_APP_INFO_CLICKED,{application_id:S,device_platform:s.tq?"mobile_web":"desktop_web",clicked_section:e,guild_id:v,channel_id:A.channel_id}),(0,f.goToAppDirectory)({view:N.ApplicationDirectoryViews.APPLICATION,guildId:v,applicationId:S,entrypoint:{name:N.ApplicationDirectoryEntrypointNames.APPLICATION_DIRECTORY_PROFILE_EMBED}})};if(x)return(0,i.jsxs)(E.Z,{containerRef:D,children:[(0,i.jsx)(E.Z.Header,{text:C.Z.Messages.APP_DIRECTORY_PROFILE_EMBED_INVALID_HEADER}),(0,i.jsx)(E.Z.Body,{children:(0,i.jsxs)("div",{className:g.invalidBody,children:[(0,i.jsx)(E.Z.Icon,{expired:!0}),(0,i.jsx)(E.Z.Info,{expired:!0,title:C.Z.Messages.APP_DIRECTORY_PROFILE_EMBED_INVALID_INFO_TITLE,children:C.Z.Messages.APP_DIRECTORY_PROFILE_EMBED_INVALID_INFO_BODY})]})})]});if(null==R||O===h.M.FETCHING)return(0,i.jsxs)(E.Z,{containerRef:D,children:[(0,i.jsx)(E.Z.Header,{text:C.Z.Messages.APP_DIRECTORY_PROFILE_EMBED_RESOLVING_HEADER}),(0,i.jsx)(E.Z.Body,{resolving:!0})]});let U=new Intl.NumberFormat(M,{notation:"compact",compactDisplay:"short"}).format(null!==(n=null===(t=R.directory_entry)||void 0===t?void 0:t.guild_count)&&void 0!==n?n:0);return(0,i.jsxs)(E.Z,{containerRef:D,children:[(0,i.jsx)(E.Z.Header,{text:C.Z.Messages.APP_DIRECTORY_PROFILE_EMBED_HEADER}),(0,i.jsxs)(E.Z.Body,{children:[(0,i.jsxs)("div",{className:g.applicationInfoContainer,children:[(0,i.jsx)(E.Z.Icon,{application:d.Z.createFromServer(R),className:g.applicationIcon,onClick:()=>j("application_icon")}),(0,i.jsx)(E.Z.Info,{title:(0,i.jsx)(r.Clickable,{onClick:()=>j("application_name"),children:R.name}),children:(0,i.jsxs)(r.Clickable,{className:g.guildCountContainer,onClick:()=>j("application_guild_count"),children:[(0,i.jsx)(r.CompassIcon,{size:"custom",color:"currentColor",width:16,height:16,className:g.guildCountIcon}),C.Z.Messages.APP_DIRECTORY_PROFILE_EMBED_GUILD_COUNT.format({guildCount:U})]})})]}),(0,i.jsx)(E.Z.Button,{onClick:()=>{if(null!=R)(0,m.L)({applicationId:S,customInstallUrl:R.custom_install_url,installParams:R.install_params,integrationTypesConfig:R.integration_types_config,guildId:v,source:"app_directory_profile_embed"})},color:E.Z.Button.Colors.GREEN,children:C.Z.Messages.APPLICATION_ADD_BUTTON})]})]})}},381961:function(e,t,n){n.d(t,{u:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2024-06_app_storefront_message_embeds",label:"Storefront Message Embed",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable",config:{enabled:!0}}]})},603270:function(e,t,n){n.d(t,{F:function(){return Z},P:function(){return L}}),n(47120);var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(241159),o=n(558381),c=n(812206),d=n(270144),u=n(307643),_=n(171246),E=n(359610),I=n(592125),m=n(509545),T=n(238),h=n(55563),N=n(551428),f=n(626135),p=n(572004),C=n(601911),g=n(504211),S=n(381961),A=n(970321),R=n(680005),x=n(981631),O=n(272242),M=n(689938),v=n(947654);let L=b(function(e){let{appId:t,message:o}=e,d=(0,A.R)(t),[_,m,h,N,p,S,R]=(0,s.Wu)([c.Z,T.Z,I.Z],()=>{var e;let n=c.Z.getApplication(t),i=null!=n?(0,C.y)(n,45):void 0,a=null===(e=I.Z.getBasicChannel(o.channel_id))||void 0===e?void 0:e.guild_id;return[n,c.Z.isFetchingApplication(t),c.Z.didFetchingApplicationFail(t),T.Z.getStoreLayout(t),T.Z.getFetchStatus(t),a,i]},[t,o.channel_id]);a.useEffect(()=>{p===T.N.NONE&&(0,r.k)(t),null==_&&!m&&!h&&(0,u.UM)(t)},[_,t,h,m,p]);let L=N.subscriptions.length,Z=N.otps.length,b=a.useMemo(()=>L>0&&Z>0?M.Z.Messages.STOREFRONT_SUBSCRIPTION_AND_ITEMS_COUNT.format({subCount:L,itemCount:Z}):L>0?M.Z.Messages.STOREFRONT_SUBSCRIPTION_COUNT.format({count:L}):Z>0?M.Z.Messages.STOREFRONT_ITEM_COUNT.format({count:Z}):M.Z.Messages.STOREFRONT_UNKNOWN_SUBSCRIPTIONS_OR_ITEMS,[Z,L]);if(!d||null==_)return null;let D=()=>{(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("89131"),n.e("34310")]).then(n.bind(n,7225));return n=>(0,i.jsx)(e,{transitionState:n.transitionState,onClose:n.onClose,appId:t,guildId:S})})};return(0,i.jsx)(P,{appName:_.name,title:M.Z.Messages.STOREFRONT_TITLE.format({appName:_.name}),description:b,link:"".concat(location.protocol,"//").concat(location.host).concat(x.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(t,O.ApplicationDirectoryProfileSections.STORE)),onLinkCopy:()=>{(0,g.X)(t,g.B.STORE_EMBED)},iconSrc:R,onIconClick:()=>{D(),f.default.track(x.rMx.STOREFRONT_STORE_MESSAGE_EMBED_CLICKED,{application_id:t,area:"app_icon"})},children:(0,i.jsx)(E.Z,{size:l.ButtonSizes.MEDIUM,onClick:()=>{D(),f.default.track(x.rMx.STOREFRONT_STORE_MESSAGE_EMBED_CLICKED,{application_id:t,area:"open_store_button"})},className:v.openStoreButton,children:M.Z.Messages.STOREFRONT_OPEN_STORE})})}),Z=b(function(e){var t,r;let{skuId:u,message:T}=e,[p,S,L,Z,b,D,j,U]=(0,s.Wu)([h.Z,N.Z,m.Z,I.Z,c.Z],()=>{var e,t,n,i;let a=null===(e=I.Z.getBasicChannel(T.channel_id))||void 0===e?void 0:e.guild_id,s=h.Z.get(u),l=null!==(n=null==s?void 0:null===(t=s.application)||void 0===t?void 0:t.id)&&void 0!==n?n:null==s?void 0:s.applicationId,r=null!==(i=null!=l?c.Z.getApplication(l):void 0)&&void 0!==i?i:null==s?void 0:s.application,o=null!=r?(0,C.y)(r,45):void 0,d=m.Z.getForSKU(u);return[s,r,N.Z.getForSKU(u),h.Z.isFetching(u),h.Z.didFetchingSkuFail(u),d.length>0?d[0].toServerData():null,a,o]},[T.channel_id,u]),y=(0,A.R)(null!==(r=null==S?void 0:S.id)&&void 0!==r?r:"");a.useEffect(()=>{null==p&&!Z&&!b&&(0,o.km)(u)},[b,Z,p,u]);let{subscriptionGroupListing:B}=(0,d.F5)(null==S?void 0:S.id,j);if((0,d.FE)(null==S?void 0:S.id,null==S?void 0:S.primarySkuId),!y||null==S||null==p)return null;let k=p.type===x.epS.SUBSCRIPTION,G=null!=B&&(0,_.KW)(B.sku_flags),F=()=>{(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("89131"),n.e("34310")]).then(n.bind(n,7225));return t=>(0,i.jsx)(e,{transitionState:t.transitionState,onClose:t.onClose,appId:S.id,guildId:j})})},w=()=>{(0,l.openModalLazy)(async()=>{let e=k?(await Promise.resolve().then(n.bind(n,519896))).SubscriptionDetailsModal:null,t=k?null:(await Promise.resolve().then(n.bind(n,147496))).ItemDetailsModal;return n=>{let a=()=>{n.onClose(),F()};return null!=e&&null!=B?(0,i.jsx)(e,{transitionState:n.transitionState,appId:S.id,skuId:p.id,groupListingId:B.id,groupListingType:G?"user":"guild",onClose:n.onClose,onHeaderTitleClick:a}):null!=t?(0,i.jsx)(t,{transitionState:n.transitionState,appId:S.id,skuId:u,onClose:n.onClose,onHeaderTitleClick:a}):null}})},V=k?G?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.UserIcon,{size:"custom",width:12,height:12})," ",M.Z.Messages.STOREFRONT_USER_SUBSCRIPTION]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.ServerIcon,{size:"custom",width:12,height:12})," ",M.Z.Messages.STOREFRONT_SERVER_SUBSCRIPTION]}):null==L?void 0:null===(t=L.description)||void 0===t?void 0:t.trim();""===V&&(V=void 0);let H=()=>{f.default.track(x.rMx.STOREFRONT_SKU_MESSAGE_EMBED_CLICKED,{application_id:S.id,sku_id:p.id,area:"purchase_button"})};return(0,i.jsx)(P,{appName:S.name,title:p.name,description:V,link:"".concat(location.protocol,"//").concat(location.host).concat(x.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(S.id,O.ApplicationDirectoryProfileSections.STORE)),onLinkCopy:()=>{(0,g.X)(S.id,g.B.SKU_EMBED,u)},iconSrc:U,onIconClick:()=>{F(),f.default.track(x.rMx.STOREFRONT_SKU_MESSAGE_EMBED_CLICKED,{application_id:S.id,sku_id:p.id,area:"app_icon"})},children:(0,i.jsxs)("div",{className:v.skuPurchaseButtons,children:[(0,i.jsx)(l.Button,{color:l.ButtonColors.CUSTOM,onClick:()=>{w(),f.default.track(x.rMx.STOREFRONT_SKU_MESSAGE_EMBED_CLICKED,{application_id:S.id,sku_id:p.id,area:"view_details"})},className:v.viewDetailsButton,children:M.Z.Messages.STOREFRONT_DETAILS}),k?null!=D?(0,i.jsx)(R.p,{appId:S.id,groupListingId:null==B?void 0:B.id,groupListingType:G?"user":"guild",skuId:p.id,subPlan:D,icon:(0,i.jsx)(l.ShopIcon,{size:"xs",color:"currentcolor"}),onHasClicked:H}):(0,i.jsx)(E.Z,{size:l.ButtonSizes.MEDIUM,onClick:w,children:M.Z.Messages.STOREFRONT_SUBSCRIBE}):(0,i.jsx)(R.Y,{appId:S.id,sku:p,icon:(0,i.jsx)(l.ShopIcon,{size:"xs",color:"currentcolor"}),onHasClicked:H})]})})});function P(e){let{appName:t,title:n,description:a,link:s,iconSrc:r,onIconClick:o,onLinkCopy:c,children:d}=e;return(0,i.jsxs)("div",{className:v.wrapper,children:[(0,i.jsxs)("div",{className:v.header,children:[(0,i.jsxs)("div",{className:v.headerTitle,children:[(0,i.jsx)(l.ShopIcon,{size:"xxs"}),(0,i.jsx)(l.Text,{variant:"eyebrow",color:"text-muted",children:t})]}),p.wS&&(0,i.jsx)(l.Button,{look:l.ButtonLooks.BLANK,size:l.ButtonSizes.ICON,"aria-label":M.Z.Messages.COPY_LINK,onClick:()=>{(0,p.JG)(s),(0,l.showToast)((0,l.createToast)(M.Z.Messages.COPIED_LINK,l.ToastType.SUCCESS)),c()},children:(0,i.jsx)(l.LinkIcon,{size:"xs"})})]}),(0,i.jsxs)("div",{className:v.content,children:[(0,i.jsxs)("div",{className:v.contentTextWrapper,children:[null!=r&&(0,i.jsx)(l.Button,{look:l.ButtonLooks.BLANK,size:l.ButtonSizes.NONE,onClick:o,children:(0,i.jsx)("img",{src:r.href,alt:"",className:v.appIcon})}),(0,i.jsxs)("div",{className:v.contentText,style:null==a?{justifyContent:"space-evenly"}:void 0,children:[(0,i.jsx)(l.Text,{variant:"heading-md/semibold",tag:"div",children:n}),null!=a&&(0,i.jsx)(l.Text,{variant:"heading-md/medium",color:"text-muted",tag:"div",className:v.description,children:a})]})]}),d]})]})}function b(e){return t=>{let{enabled:n}=S.u.useExperiment({location:"AppStorefrontMessageEmbed"});return n?(0,i.jsx)(e,{...t}):null}}},218035:function(e,t,n){n.d(t,{Z:function(){return I},c:function(){return E}});var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(92114),r=n(729052),o=n(9156),c=n(621600),d=n(981631),u=n(689938);function _(e){var t,n,i;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e.type){case d.d4z.GUILD_VOICE:;return a?(t=e,[{setting:d.bL.NULL,label:null!=t.parent_id?u.Z.Messages.FORM_LABEL_DEFAULT_CATEGORY:u.Z.Messages.FORM_LABEL_DEFAULT},{setting:d.bL.ALL_MESSAGES,label:u.Z.Messages.FORM_LABEL_ALL_VOICE_ACTIVITY},{setting:d.bL.ONLY_MENTIONS,label:u.Z.Messages.FORM_LABEL_ONLY_TEXT_MENTIONS.format()},{setting:d.bL.NO_MESSAGES,label:u.Z.Messages.FORM_LABEL_NOTHING}]):null;case d.d4z.GUILD_STAGE_VOICE:;return n=e,[{setting:d.bL.NULL,label:null!=n.parent_id?u.Z.Messages.FORM_LABEL_DEFAULT_CATEGORY:u.Z.Messages.FORM_LABEL_DEFAULT},{setting:d.bL.ONLY_MENTIONS,label:u.Z.Messages.FORM_LABEL_LIVE_STAGES_ONLY},{setting:d.bL.NO_MESSAGES,label:u.Z.Messages.FORM_LABEL_NOTHING}];default:;return i=e,[{setting:d.bL.NULL,label:null!=i.parent_id?u.Z.Messages.FORM_LABEL_DEFAULT_CATEGORY:u.Z.Messages.FORM_LABEL_DEFAULT},{setting:d.bL.ALL_MESSAGES,label:u.Z.Messages.FORM_LABEL_ALL_MESSAGES},{setting:d.bL.ONLY_MENTIONS,label:u.Z.Messages.FORM_LABEL_ONLY_MENTIONS.format()},{setting:d.bL.NO_MESSAGES,label:u.Z.Messages.FORM_LABEL_NOTHING}]}}function E(e){let t=e.getGuildId(),n=e.id,E=(0,a.e7)([o.ZP],()=>{let n=d.bL.NULL;return null!=e.parent_id&&(n=o.ZP.getChannelMessageNotifications(t,e.parent_id)),n!==d.bL.NULL?n:o.ZP.getMessageNotifications(t)},[t,e.parent_id]),I=(0,a.e7)([o.ZP],()=>o.ZP.getNewForumThreadsCreated(e)),m=(0,a.e7)([o.ZP],()=>o.ZP.getChannelOverrides(t)[n],[t,n]),T=null==m?d.bL.NULL:m.message_notifications,h=(0,r.p2)(e),N=_(e,h);return null==N?null:(0,i.jsxs)(i.Fragment,{children:[e.isForumLikeChannel()?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.MenuCheckboxItem,{id:"new-forum-threads-created",label:u.Z.Messages.FORUM_NEW_POSTS_CREATED,checked:I,action:()=>l.Z.setForumThreadsCreated(e,!I)}),(0,i.jsx)(s.MenuSeparator,{})]}):null,N.map(a=>{let{setting:r,label:o}=a;return(0,i.jsx)(s.MenuRadioItem,{group:"channel-notifications",id:"".concat(r),label:o,subtext:r===d.bL.NULL?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case d.bL.ALL_MESSAGES:return t.type===d.d4z.GUILD_VOICE&&n?u.Z.Messages.FORM_LABEL_ALL_VOICE_ACTIVITY:u.Z.Messages.FORM_LABEL_ALL_MESSAGES;case d.bL.ONLY_MENTIONS:return u.Z.Messages.FORM_LABEL_ONLY_MENTIONS.format();case d.bL.NO_MESSAGES:return u.Z.Messages.FORM_LABEL_NOTHING;case d.bL.NULL:default:return}}(E,e,h):void 0,action:()=>{var e;return e=r,void(null!=t&&l.Z.updateChannelOverrideSettings(t,n,{message_notifications:e},c.UE.notifications(e)))},checked:r===T},r)})]})}function I(e){var t,n;let l=E(e),c=(0,a.e7)([o.ZP],()=>o.ZP.resolvedMessageNotifications(e),[e]),I=(0,a.e7)([o.ZP],()=>o.ZP.getChannelOverrides(e.guild_id)[e.id],[e.guild_id,e.id]),m=null==I?d.bL.NULL:I.message_notifications,T=(0,r.p2)(e),h=m===d.bL.NULL&&e.isGuildStageVoice()?u.Z.Messages.FORM_LABEL_ONLY_MENTIONS.format():null===(n=_(e,T))||void 0===n?void 0:null===(t=n.find(e=>{let{setting:t}=e;return t===c}))||void 0===t?void 0:t.label;return null!=l?(0,i.jsx)(s.MenuItem,{id:"channel-notifications",label:u.Z.Messages.NOTIFICATION_SETTINGS,subtext:h,children:l}):null}},438536:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(569471),r=n(346479),o=n(689938);function c(e,t){return(0,a.e7)([l.Z],()=>l.Z.hasJoined(e.id))?(0,i.jsx)(s.MenuItem,{id:"leave-thread",label:e.isForumPost()?o.Z.Messages.LEAVE_FORUM_POST:o.Z.Messages.LEAVE_THREAD,action:()=>r.Z.leaveThread(e,t)}):(0,i.jsx)(s.MenuItem,{id:"join-thread",label:e.isForumPost()?o.Z.Messages.JOIN_FORUM_POST:o.Z.Messages.JOIN_THREAD,action:()=>r.Z.joinThread(e,t)})}},214906:function(e,t,n){n.d(t,{Z:function(){return E}}),n(47120);var i=n(735250);n(470079);var a=n(913527),s=n.n(a),l=n(442837),r=n(481060),o=n(777861),c=n(569471),d=n(346479),u=n(776568),_=n(689938);function E(e){let[t,n,a]=(0,l.Wu)([c.Z],()=>[c.Z.isMuted(e.id),c.Z.getMuteConfig(e.id),c.Z.hasJoined(e.id)]),E=(0,o.U)(n);function I(t){d.Z.setNotificationSettings(e,{muted:t})}return a?t?(0,i.jsx)(r.MenuItem,{id:"unmute-channel",label:e.isForumPost()?_.Z.Messages.UNMUTE_FORUM_POST:_.Z.Messages.UNMUTE_THREAD,subtext:E,action:()=>I(!1)}):(0,i.jsx)(r.MenuItem,{id:"mute-channel",label:e.isForumPost()?_.Z.Messages.MUTE_FORUM_POST:_.Z.Messages.MUTE_THREAD,action:()=>I(!0),children:(0,u.k)().map(t=>{let{value:n,label:a}=t;return(0,i.jsx)(r.MenuItem,{id:"".concat(n),label:a,action:()=>(function(t){let n=t>0?s()().add(t,"second").toISOString():null;d.Z.setNotificationSettings(e,{muted:!0,mute_config:{selected_time_window:t,end_time:n}})})(n)},n)})}):(0,i.jsx)(r.MenuItem,{id:"mute-disabled",label:e.isForumPost()?_.Z.Messages.MUTE_FORUM_POST:_.Z.Messages.MUTE_THREAD,disabled:!0})}},212342:function(e,t,n){n(47120),n(789020);var i,a,s,l,r=n(442837),o=n(433517),c=n(570140),d=n(314897),u=n(592125),_=n(496675),E=n(594174),I=n(630388),m=n(110630),T=n(981631);let h="ChannelFollowingBumpChannels",N=new Set,f=new Set;class p extends(i=r.ZP.Store){initialize(){this.waitFor(d.default),N=new Set(o.K.get(h))}shouldShowBump(e){return f.has(e)}}l="ChannelFollowingPublishBumpStore",(s="displayName")in(a=p)?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,t.Z=new p(c.Z,{MESSAGE_CREATE:function(e){var t;let{channelId:n,message:i,optimistic:a}=e;if(a||N.has(n))return!1;let s=u.Z.getChannel(n),l=E.default.getCurrentUser();if(!(null!=s&&s.type===T.d4z.GUILD_ANNOUNCEMENT&&(0,m.Z)(i)&&(null!=l&&(null===(t=i.author)||void 0===t?void 0:t.id)===l.id?_.Z.can(T.Plq.SEND_MESSAGES,s):_.Z.can(T.Plq.MANAGE_MESSAGES,s))&&!I.yE(Number(i.flags),T.iLy.CROSSPOSTED)))return!1;f.add(i.id)},MESSAGE_UPDATE:function(e){let{message:t}=e;f.has(t.id)&&I.yE(Number(t.flags),T.iLy.CROSSPOSTED)&&f.delete(t.id)},CHANNEL_SELECT:function(e){f.clear()},CHANNEL_FOLLOWING_PUBLISH_BUMP_DISMISSED:function(e){let{messageId:t}=e;f.delete(t)},CHANNEL_FOLLOWING_PUBLISH_BUMP_HIDE_PERMANENTLY:function(e){let{channelId:t}=e;N.add(t),o.K.set(h,N),f.clear()}})},110630:function(e,t,n){n.d(t,{Z:function(){return l}}),n(789020);var i=n(978003),a=n(630388),s=n(981631);function l(e){var t;return!(e.type!==s.uaV.DEFAULT||null!=e.poll||(0,a.yE)(null!==(t=e.flags)&&void 0!==t?t:0,s.iLy.EPHEMERAL)||("messageReference"in e?(0,i.Z)(e):(0,i.s)(e)))&&!0}},222709:function(e,t,n){var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(528963),o=n(143740),c=n(727218),d=n(212342),u=n(689938),_=n(969297);t.Z=e=>{let{channelId:t,messageId:n}=e,E=(0,s.e7)([d.Z],()=>d.Z.shouldShowBump(n),[n]),I=a.useCallback(()=>{r.Z.dismissPublishBump(n),(0,o.Z)(t,n)},[t,n]),m=a.useCallback(()=>{r.Z.dismissPublishBump(n)},[n]),T=a.useCallback(()=>{r.Z.permanentlyHidePublishBump(t)},[t]);return E?(0,i.jsxs)("div",{className:_.container,children:[(0,i.jsxs)("div",{className:_.bumpBox,children:[(0,i.jsx)(l.AnnouncementsIcon,{size:"xs",color:"currentColor",className:_.icon}),(0,i.jsx)(c.Z,{className:_.tagline,size:c.Z.Sizes.SIZE_14,children:u.Z.Messages.NEWS_CHANNEL_PUBLISH_BUMP}),(0,i.jsx)(l.Button,{color:l.Button.Colors.LINK,look:l.Button.Looks.LINK,size:l.Button.Sizes.MIN,className:_.publish,onClick:I,children:u.Z.Messages.NEWS_CHANNEL_PUBLISH}),(0,i.jsx)(l.Clickable,{onClick:m,children:(0,i.jsx)(l.CircleXIcon,{size:"xs",color:"currentColor",className:_.closeIcon})})]}),(0,i.jsx)(l.Text,{color:"text-muted",className:_.hidePermanently,variant:"text-sm/normal",children:(0,i.jsx)(l.Clickable,{onClick:T,children:u.Z.Messages.NEWS_CHANNEL_PUBLISH_BUMP_HIDE_PERMANENTLY})})]}):null}},115610:function(e,t,n){n.d(t,{O:function(){return h}}),n(536091);var i=n(904245),a=n(339085),s=n(957730),l=n(285651),r=n(268350),o=n(926491),c=n(373228),d=n(430824),u=n(594174),_=n(176354),E=n(709054),I=n(981631),m=n(185923);function T(e){let t=d.Z.getGuild(e);return null!=t&&(t.nsfwLevel===I.V_K.DEFAULT||t.nsfwLevel===I.V_K.SAFE)}async function h(e,t){var n,I,h;let N=t.getGuildId();if(null==N||null==d.Z.getGuild(N))return;let f=u.default.getCurrentUser();if(null==f)return;await (0,r.$p)();let p=Array.from(o.Z.getAllStickersIterator()),C=p.filter(e=>e.type===c.n0.GUILD).filter(e=>T(e.guild_id)&&(0,l.kl)(e,f,t)).sort((e,t)=>-E.default.compare(e.id,t.id));if(C.length>5){let a=[C[Math.floor(Math.pow(Math.random(),2)*C.length)].id];i.Z.sendStickers(t.id,a,"",{messageReference:{guild_id:null!==(n=t.getGuildId())&&void 0!==n?n:void 0,channel_id:t.id,message_id:e}});return}let g=d.Z.getGuildIds().filter(T).map(e=>a.Z.getUsableGuildEmoji(e)).flat().filter(e=>null==_.ZP.getEmojiUnavailableReason({emoji:e,channel:t,guildId:N,intention:m.Hz.CHAT})).sort((e,t)=>-E.default.compare(e.id,t.id));if(g.length>10){let n=g[Math.floor(Math.pow(Math.random(),2)*g.length)];i.Z.sendMessage(t.id,s.ZP.parse(t,n.allNamesString),!1,{messageReference:{guild_id:null!==(I=t.getGuildId())&&void 0!==I?I:void 0,channel_id:t.id,message_id:e}});return}let S=p.filter(e=>e.type===c.n0.STANDARD),A=[S[Math.floor(Math.random()*S.length)].id];i.Z.sendStickers(t.id,A,"",{messageReference:{guild_id:null!==(h=t.getGuildId())&&void 0!==h?h:void 0,channel_id:t.id,message_id:e}})}},376484:function(e,t,n){n.d(t,{Z:function(){return I}}),n(47120);var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(481060),r=n(454585),o=n(529815),c=n(702346),d=n(553385),u=n(981631),_=n(689938),E=n(362136);function I(e){let{message:t,channel:a,compact:r}=e,o=null!=t.embeds&&t.embeds.length>0;return(0,i.jsxs)("div",{children:[(0,i.jsx)(c.Z,{className:s()(E.mainContainer,{[E.compact]:r}),icon:n(570111),compact:r,children:(0,i.jsx)("div",{className:s()(E.__invalid_content,{[E.compact]:r}),children:(0,i.jsx)("div",{className:s()(E.__invalid_messageContent,{[E.compact]:r}),children:t.content})})}),(0,i.jsx)("div",{className:s()(E.__invalid_embedContent,{[E.compact]:r}),children:(0,i.jsx)(m,{message:t})}),(0,i.jsx)("div",{className:E.actions,children:(0,i.jsx)(l.Button,{color:l.Button.Colors.PRIMARY,onClick:()=>{o?(0,d.z$)(t):(0,d.XP)(a.guild_id,a.id,t.id)},children:_.Z.Messages.SYSTEM_MESSAGE_GET_GAMING_STATS})})]})}function m(e){var t;let{message:n}=e,[a]=null!==(t=n.embeds)&&void 0!==t?t:[];return null==a?null:(0,i.jsx)(o.ZP,{className:E.embed,embed:a,renderTitle:(e,t)=>r.Z.parseEmbedTitle(t,!0,{channelId:n.channel_id}),renderDescription:(e,t,i)=>r.Z.parse(t,!0,{channelId:n.channel_id}),autoPlayGif:!1,renderImageComponent:u.VqG,renderVideoComponent:u.VqG,renderLinkComponent:u.VqG,renderForwardComponent:u.VqG})}},362604:function(e,t,n){n.d(t,{Z:function(){return f}}),n(47120),n(536091);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(442837),o=n(481060),c=n(623292),d=n(926491),u=n(419922),_=n(702346),E=n(626135),I=n(585483),m=n(115610),T=n(981631),h=n(689938),N=n(666603);function f(e){let{message:t,channel:s,compact:f}=e,p=(0,r.Wu)([d.Z],()=>Array.from(d.Z.getAllGuildStickers().values()).flat()).slice(0,20),[C,g]=a.useState(null);return(a.useEffect(()=>{let e=setInterval(()=>{p.length>0&&g(p[Math.floor(Math.random()*p.length)])},500);return()=>clearInterval(e)},[p]),null==s.guild_id)?null:(0,i.jsxs)("div",{children:[(0,i.jsx)(_.Z,{className:l()(N.mainContainer,{[N.compact]:f}),icon:n(570111),compact:f,children:(0,i.jsx)("div",{className:l()(N.__invalid_content,{[N.compact]:f}),children:(0,i.jsx)("div",{className:l()(N.__invalid_messageContent,{[N.compact]:f}),children:""!==t.content?t.content:h.Z.Messages.DEADCHAT_PROMPT_1})})}),(0,i.jsxs)("div",{className:N.actions,children:[(0,i.jsx)(o.TooltipContainer,{text:h.Z.Messages.CHANNEL_PROMPT_UPLOAD_IMAGE_CTA,children:(0,i.jsx)(o.Button,{color:o.Button.Colors.PRIMARY,onClick:()=>{E.default.track(T.rMx.CHANNEL_PROMPT_ACTION_CLICKED,{message_id:t.id,channel_id:s.id,guild_id:s.guild_id,action_type:"upload_file"}),I.S.dispatch(T.CkL.UPLOAD_FILE),(0,c.fE)({message:t,channel:s,shouldMention:!0})},children:(0,i.jsx)(o.ImagePlusIcon,{size:"md",color:"currentColor"})})}),(0,i.jsx)(o.TooltipContainer,{text:h.Z.Messages.CHANNEL_PROMPT_RANDOM_STICKER_CTA,children:(0,i.jsx)(o.Button,{color:o.Button.Colors.PRIMARY,onClick:()=>{E.default.track(T.rMx.CHANNEL_PROMPT_ACTION_CLICKED,{message_id:t.id,channel_id:s.id,guild_id:s.guild_id,action_type:"sticker"}),(0,m.O)(t.id,s)},children:null!=C?(0,i.jsx)(u.ZP,{size:32,sticker:C}):(0,i.jsx)(o.ReactionIcon,{size:"md",color:"currentColor"})})})]})]})}},778087:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(470079),a=n(10718);function s(e,t){let n=i.useRef(null),s=i.useCallback((e,t)=>{var i,a,s;e.preventDefault(),e.clipboardData.setData("application/x-discord-interaction-data",JSON.stringify(t)),e.clipboardData.setData("text/plain",null!==(s=null===(a=n.current)||void 0===a?void 0:null===(i=a.textContent)||void 0===i?void 0:i.trim())&&void 0!==s?s:"")},[]);return a.YZ(e,t),{onCopy:s,copyRef:n}}},320007:function(e,t,n){n.d(t,{Z:function(){return N}});var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(618158),o=n(819640),c=n(131951),d=n(502568),u=n(924557),_=n(435064),E=n(779618),I=n(175470),m=n(203259),T=n(356659),h=n(689938);function N(e){let{canShowReminder:t=!1,className:N}=e,f=(0,E.Z)(c.Z),{showClipsHeaderEntrypoint:p}=u.NV.useExperiment({location:"ClipsButton"},{autoTrackExposure:!1}),{hasClips:C,hasNewClips:g,lastClipsSession:S,remindersEnabled:A,hasAnyClipAnimations:R}=(0,s.cj)([_.Z],()=>({hasClips:_.Z.hasClips(),hasNewClips:_.Z.getNewClipIds().length>0,lastClipsSession:_.Z.getLastClipsSession(),remindersEnabled:_.Z.getSettings().remindersEnabled,hasAnyClipAnimations:_.Z.hasAnyClipAnimations()})),x=null!=S&&S.newClipIds.length>0,O=(0,I.n)(e=>e.clipsButtonRef),M=(0,I.n)(e=>e.setClipsButtonRef),v=(0,s.e7)([o.Z],()=>o.Z.hasLayers()),{preventIdle:L,allowIdle:Z}=(0,r.Y)("animation");function P(){(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("2668"),n.e("56874")]).then(n.bind(n,542055));return t=>(0,i.jsx)(e,{...t})},{modalKey:T.Qr})}return(a.useEffect(()=>(R?L():Z(),()=>Z()),[R,L,Z]),p&&f&&C)?(0,i.jsxs)(i.Fragment,{children:[null!=O&&t&&A&&x&&!(0,l.hasAnyModalOpen)()&&!v&&(0,i.jsx)(m.Z,{clipIconRef:O,lastClipsSession:S,onOpenClipsGallery:P}),(0,i.jsx)("div",{ref:M,children:(0,i.jsx)(d.JO,{className:N,icon:l.ClipsIcon,showBadge:g,tooltip:h.Z.Messages.CLIPS_GALLERY_TOOLTIP,onClick:P})})]}):null}},175470:function(e,t,n){n.d(t,{n:function(){return i}});let i=(0,n(652874).Z)(e=>({clipsButtonRef:null,setClipsButtonRef:t=>e({clipsButtonRef:t})}))},203259:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),s=n(39604),l=n(176127),r=n(689938),o=n(907339);function c(e){let{onOpenClipsGallery:t,clipIconRef:n,lastClipsSession:c}=e;return(0,i.jsxs)(a.TooltipLayer,{tooltipClassName:o.reminderTooltip,tooltipContentClassName:o.tooltipContent,targetElementRef:{current:n},position:"bottom",color:a.TooltipColors.PRIMARY,children:[(0,i.jsx)(l.Z,{}),(0,i.jsx)(a.Heading,{variant:"heading-md/extrabold",children:r.Z.Messages.CLIPS_YOU_HAVE_NEW_CLIPS.format({count:c.newClipIds.length})}),(0,i.jsxs)("div",{className:o.buttonContainer,children:[(0,i.jsx)(a.Button,{color:a.Button.Colors.TRANSPARENT,onClick:s.eL,children:r.Z.Messages.DISMISS}),(0,i.jsx)(a.Button,{color:a.Button.Colors.BRAND,onClick:t,children:r.Z.Messages.CLIPS_REVIEW_NOW})]})]})}},176127:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(442837),r=n(435064),o=n(204006);function c(){let e=(0,l.Wu)([r.Z],()=>{var e;let t=null===(e=r.Z.getLastClipsSession())||void 0===e?void 0:e.newClipIds;return null==t?[]:r.Z.getClips().slice(0,4).filter(e=>t.includes(e.id))});return(0,i.jsx)("div",{className:s()(o.thumbnailStack,{[o["height-1"]]:1===e.length,[o["height-2"]]:2===e.length,[o["height-3"]]:3===e.length,[o["height-max"]]:e.length>=4}),children:Array.from({...e,length:4}).map((e,t)=>null!=e?(0,i.jsx)("img",{alt:"",className:o.thumbnail,src:e.thumbnail},e.id):(0,i.jsx)("div",{},"placeholder-".concat(t))).reverse()})}},847033:function(e,t,n){n.d(t,{Z:function(){return x},m:function(){return R}}),n(653041),n(47120);var i=n(735250),a=n(470079),s=n(512722),l=n.n(s),r=n(399606),o=n(704215),c=n(367907),d=n(605236),u=n(584825),_=n(994592),E=n(160404),I=n(703656),m=n(984933),T=n(430824),h=n(626135),N=n(652515),f=n(550951),p=n(544978),C=n(333866),g=n(629481),S=n(981631);let A=a.createContext(void 0);function R(){let e=a.useContext(A);return l()(null!=e,"must use useGuildShopDisplayContext within a GuildShopDisplayContextProvider"),e}function x(e){var t;let{children:n,initialTab:s,guildId:l}=e,R=(0,r.e7)([T.Z],()=>T.Z.getGuild(l)),x=(0,r.e7)([E.Z],()=>E.Z.isViewingServerShop(l)),O=(0,f.g)(R,"guild_shop_page"),M=(0,N.RF)(l,"guild_shop_page"),v=(null==R?void 0:R.hasFeature(S.oNc.PRODUCTS_AVAILABLE_FOR_PURCHASE))===!0,L=(0,_.mY)(null==R?void 0:R.id),Z=null===(t=(0,u.YB)(l))||void 0===t?void 0:t.server_shop_tab_order,P=[],b=p.y.GUILD_SHOP_FULL_PREVIEW;x||v&&L?(P.push(Z===C.a3.PRODUCTS_FIRST?p.y.GUILD_PRODUCTS:p.y.GUILD_ROLE_SUBSCRIPTIONS),P.push(Z===C.a3.PRODUCTS_FIRST?p.y.GUILD_ROLE_SUBSCRIPTIONS:p.y.GUILD_PRODUCTS),b=P[0]):v&&!L?(P.push(p.y.GUILD_PRODUCTS),b=p.y.GUILD_PRODUCTS):!v&&L&&(P.push(p.y.GUILD_ROLE_SUBSCRIPTIONS),b=p.y.GUILD_ROLE_SUBSCRIPTIONS,O&&P.push(p.y.GUILD_PRODUCTS_PREVIEW)),s=null!=s?s:b;let[D,j]=a.useState(s),U=O&&!(L&&M)||D===p.y.GUILD_PRODUCTS_PREVIEW;return a.useEffect(()=>{j(s)},[s]),(0,i.jsx)(A.Provider,{value:{selectedTab:D,setSelectedTab:j,categoryTabs:P,isPhantomPreview:U,handlePreviewDismiss:e=>{(0,d.EW)(o.z.SERVER_SHOP_PHANTOM_PREVIEW);let t={...(0,c.hH)(l)};if(D===p.y.GUILD_PRODUCTS_PREVIEW)e.stopPropagation(),j(p.y.GUILD_ROLE_SUBSCRIPTIONS),t.action_taken=g.mz.DISMISS_TAB_PREVIEW;else{var n;(0,I.dL)(S.Z5c.CHANNEL(l,null===(n=m.ZP.getDefaultChannel(l))||void 0===n?void 0:n.id)),t.action_taken=g.mz.DISMISS_FULL_PREVIEW}h.default.track(S.rMx.GUILD_SHOP_PREVIEW_CLICK,t)}},children:n})}},161314:function(e,t,n){n.d(t,{Z:function(){return R}}),n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(990547),o=n(831209),c=n(442837),d=n(481060),u=n(367907),_=n(213609),E=n(267101),I=n(336197),m=n(430824),T=n(346656),h=n(132338),N=n(626135),f=n(76535),p=n(866104),C=n(886176),g=n(981631),S=n(689938),A=n(919455);function R(e){var t;let{guildId:n}=e,s=(0,c.e7)([m.Z],()=>m.Z.getGuild(n)),{loading:R,subscriptionsSettings:x}=(0,f.H)(n),{listingsLoaded:O}=(0,E.eD)(n),M=(0,E.ue)(n,{publishedOnly:!0}),v=a.useCallback(async()=>{N.default.track(g.rMx.GUILD_SHOP_EMBED_CLICKED,{...(0,u.hH)(n)}),await (0,I.Z)(g.Z5c.SERVER_SHOP(n))},[n]);(0,_.Z)({type:r.ImpressionTypes.VIEW,name:r.ImpressionNames.GUILD_SHOP_EMBED},{disableTrack:null==s});let L=M.length>0?new Date(Math.min(...M.map(e=>Date.parse(e.published_at)))):void 0;return R||!O?(0,i.jsx)("div",{className:l()(A.guildShopEmbed,A.spinnerContainer),children:(0,i.jsx)(d.Spinner,{})}):null==s||null==x?null:(0,i.jsxs)("div",{className:A.guildShopEmbed,children:[(0,i.jsx)(p.Z,{coverImageAsset:null!==(t=x.cover_image_asset)&&void 0!==t?t:null}),(0,i.jsx)(d.Spacer,{size:16}),(0,i.jsxs)("div",{className:A.serverShopLabel,children:[(0,i.jsx)(C.Z,{height:"16px",width:"16px",color:o.Z.INTERACTIVE_NORMAL}),(0,i.jsx)(d.Heading,{variant:"heading-sm/semibold",color:"interactive-normal",className:A.serverShopLabelText,children:S.Z.Messages.GUILD_SHOP_CHANNEL_LABEL})]}),(0,i.jsx)(d.Spacer,{size:16}),(0,i.jsx)(d.Heading,{variant:"heading-md/semibold",color:"text-normal",children:S.Z.Messages.GUILD_STORE_HERO_TITLE.format({guildName:s.name})}),(0,i.jsx)(d.Spacer,{size:4}),(0,i.jsx)(d.Text,{variant:"text-sm/normal",color:"text-muted",lineClamp:2,children:x.description}),(0,i.jsx)(d.Spacer,{size:16}),(0,i.jsx)(h.Z,{}),(0,i.jsx)(d.Spacer,{size:16}),(0,i.jsxs)("div",{className:A.guildShopEmbedFooter,children:[(0,i.jsx)(T.Z,{guild:s}),(0,i.jsxs)("ul",{className:A.guildShopSummary,children:[(0,i.jsx)("li",{children:(0,i.jsx)(d.Text,{variant:"text-sm/normal",color:"text-muted",children:S.Z.Messages.GUILD_SHOP_EMBED_LISTINGS_AVAILABLE.format({listingCount:M.length})})}),null!=L&&(0,i.jsx)("li",{children:(0,i.jsx)(d.Text,{variant:"text-sm/normal",color:"text-muted",children:S.Z.Messages.GUILD_SHOP_EMBED_SHOP_AGE.format({createdYear:L.getFullYear()})})})]}),(0,i.jsx)(d.Button,{className:A.guildShopEmbedCta,onClick:v,children:(0,i.jsxs)("div",{className:A.guildShopEmbedCtaContent,children:[(0,i.jsx)(C.Z,{height:"18px",width:"18px"}),(0,i.jsx)(d.Text,{variant:"text-sm/medium",color:"always-white",children:S.Z.Messages.GUILD_SHOP_EMBED_CTA})]})})]})]})}},544978:function(e,t,n){var i,a;n.d(t,{y:function(){return i}}),(a=i||(i={})).GUILD_PRODUCTS="guild_products",a.GUILD_ROLE_SUBSCRIPTIONS="guild_role_subscriptions",a.GUILD_PRODUCTS_PREVIEW="guild_products_preview",a.GUILD_SHOP_FULL_PREVIEW="guild_shop_full_preview"},866104:function(e,t,n){n.d(t,{C:function(){return M},Z:function(){return O}}),n(47120);var i=n(735250),a=n(470079),s=n(512722),l=n.n(s),r=n(442837),o=n(481060),c=n(131388),d=n(357352),u=n(353254),_=n(695346),E=n(271383),I=n(594174),m=n(346656),T=n(671533),h=n(810090),N=n(51144),f=n(506071),p=n(696014),C=n(847033),g=n(544978),S=n(893182),A=n(689938),R=n(828406);function x(e){let{onClick:t}=e;return(0,i.jsxs)(o.Clickable,{onClick:t,className:R.showMoreButton,children:[(0,i.jsx)(o.Text,{variant:"text-sm/medium",color:"header-primary",children:A.Z.Messages.GUILD_STORE_HERO_SHOW_MORE_DESCRIPTION_LABEL}),(0,i.jsx)(o.Spacer,{size:4,horizontal:!0}),(0,i.jsx)(T.Z,{direction:T.Z.Directions.RIGHT,className:R.showMoreArrow})]})}function O(e){let{coverImageAsset:t,isPreview:n=!1}=e,a=_.QK.useSetting(),s=(0,f.n)()&&a,[l,r]=(0,u.Z)(t,s),o=s?(0,i.jsx)(h.Z,{autoPlay:!0,loop:!0,className:R.coverImage,width:655,poster:(0,d.b)("server_products/storefront/default-header.png"),src:(0,d.b)("server_products/storefront/default-header.mov")}):(0,i.jsx)("img",{src:(0,d.b)("server_products/storefront/default-header.png"),alt:"",className:R.coverImage});return(0,i.jsx)("div",{ref:l,className:R.coverImageContainer,children:null==r||n?o:(0,i.jsx)("img",{src:r,alt:"",className:R.coverImage})})}function M(e){var t,n,s;let{guild:u,subscriptionsSettings:_}=e,T=u.id;let{nickname:h,nickcolor:f}=(s=T,(0,r.cj)([E.ZP,I.default],()=>{var e,t;let n=I.default.getCurrentUser();l()(null!=n,"user cannot be null");let i=E.ZP.getMember(s,n.id);return{nickname:null!==(e=null==i?void 0:i.nick)&&void 0!==e?e:N.ZP.getName(n),nickcolor:null!==(t=null==i?void 0:i.colorString)&&void 0!==t?t:void 0}},[s])),{isTruncated:M,ExpandableTextContainer:v}=(0,p.s)(),L=(null!==(n=null==_?void 0:null===(t=_.description)||void 0===t?void 0:t.trim().length)&&void 0!==n?n:0)>0,[Z,P]=a.useState(1),b=(0,c.Z)("(max-width: 1439px)"),{selectedTab:D,isPhantomPreview:j}=(0,C.m)(),U=D===g.y.GUILD_PRODUCTS_PREVIEW?A.Z.Messages.GUILD_STORE_HERO_PREVIEW_TAB_DESCRIPTION:A.Z.Messages.GUILD_STORE_HERO_PREVIEW_PAGE_DESCRIPTION,y=L?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{lineClamp:b||2===Z?2:3,children:(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"text-normal",children:null==_?void 0:_.description})}),M&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Spacer,{size:4}),(0,i.jsx)(x,{onClick:()=>(0,S.Z)({guildId:T})})]})]}):(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"text-normal",children:j?U:A.Z.Messages.GUILD_STORE_HERO_DEFAULT_DESCRIPTION});return(0,i.jsxs)("div",{className:R.container,children:[(0,i.jsxs)("div",{className:R.infoContainer,children:[(0,i.jsx)("div",{children:(0,i.jsx)(m.Z,{guild:u,size:m.Z.Sizes.LARGER,iconSrc:null==u.icon||j?(0,d.b)("server_products/storefront/default-guild-icon.jpg"):void 0})}),(0,i.jsx)(o.Spacer,{size:16,horizontal:!0}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{ref:e=>{null!=e&&e.clientHeight>30&&P(2)},children:(0,i.jsx)(o.Heading,{variant:"heading-xl/semibold",color:"header-primary",lineClamp:2,children:j?A.Z.Messages.GUILD_STORE_HERO_PREVIEW_TITLE:A.Z.Messages.GUILD_STORE_HERO_TITLE.format({guildName:u.name})})}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Spacer,{size:8}),(0,i.jsx)(o.Text,{variant:"text-md/normal",color:"text-normal",children:A.Z.Messages.GUILD_STORE_HERO_DESCRIPTION_GREETING.format({username:h,usernameHook:function(e,t){return(0,i.jsx)("span",{style:{color:f},children:e},t)}})}),(0,i.jsx)(o.Spacer,{size:9}),y]})]})]}),(0,i.jsx)(O,{coverImageAsset:null==_?void 0:_.cover_image_asset,isPreview:j})]})}},893182:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(952265);function s(e){(0,a.ZD)(async()=>{let{default:t}=await n.e("86060").then(n.bind(n,816607));return n=>(0,i.jsx)(t,{...e,...n})})}},886176:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(325767);function s(e){let{width:t=24,height:n=24,color:s="currentColor",...l}=e;return(0,i.jsxs)("svg",{...(0,a.Z)(l),xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 20 20",fill:"none",children:[(0,i.jsxs)("g",{"clip-path":"url(#clip0_2645_182555)",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.6698 8.91016C14.5646 10.1567 16.3407 10.3342 17.4866 9.44283C17.4957 9.46624 17.5008 9.49191 17.5008 9.51916V15.8337C17.5008 17.2144 16.3815 18.3337 15.0008 18.3337H12.7092C12.5941 18.3337 12.5008 18.2404 12.5008 18.1253V13.3337C12.5008 12.4132 11.7547 11.667 10.8342 11.667H9.16748C8.24699 11.667 7.5008 12.4132 7.5008 13.3337V18.1253C7.5008 18.2404 7.40753 18.3337 7.29247 18.3337H5.0008C3.62009 18.3337 2.5008 17.2144 2.5008 15.8337V9.51916C2.5008 9.36341 2.66628 9.26158 2.81091 9.31949C3.23542 9.48933 3.70172 9.58366 4.19593 9.58366C5.27336 9.58366 6.24385 9.12583 6.92345 8.39408C7.0135 8.29708 7.17004 8.29679 7.26039 8.39349C7.94479 9.12583 8.91932 9.58366 10.0008 9.58366C11.0823 9.58366 12.0568 9.12583 12.7412 8.39349C12.8316 8.29679 12.9882 8.29708 13.0782 8.39408C13.2565 8.58599 13.4548 8.75916 13.6698 8.91016ZM11.7497 6.67891C9.42957 5.8204 9.4179 2.5511 11.7147 1.6683C11.699 1.66743 11.6833 1.66699 11.6675 1.66699H8.33415C7.87391 1.66699 7.50082 2.04009 7.50082 2.50033V5.83366C7.50082 5.87681 7.50191 5.9197 7.50407 5.96231C7.52181 6.31232 7.61153 6.64333 7.75873 6.94085C7.77282 6.96931 7.78743 6.99747 7.80255 7.02531C8.2259 7.80462 9.05157 8.33366 10.0008 8.33366C10.984 8.33366 11.8346 7.76614 12.2429 6.94084L12.2543 6.91751C12.2613 6.90286 12.2682 6.88812 12.2751 6.87331L11.7497 6.67891ZM15.8231 8.3336C15.4338 8.32949 15.0467 8.10931 14.8853 7.67305L14.4606 6.52524C14.2917 6.06904 13.9321 5.70936 13.4759 5.54055L13.3342 5.4881V2.84588L13.4759 2.79343C13.9321 2.62463 14.2917 2.26494 14.4606 1.80874L14.5131 1.66699H15.2462C16.3397 1.66699 17.3062 2.37762 17.6324 3.42131L18.1647 5.12491C18.2057 5.25598 18.2352 5.38724 18.254 5.51775L18.1924 5.54055C17.7361 5.70936 17.3765 6.06904 17.2077 6.52524L16.783 7.67305C16.627 8.09458 16.2603 8.31438 15.8847 8.33245C15.8642 8.33308 15.8437 8.33346 15.8231 8.3336ZM12.5008 3.15424V5.17974L12.3281 5.11583C11.4472 4.78989 11.4472 3.54409 12.3281 3.21816L12.5008 3.15424ZM4.75546 1.66699C3.662 1.66699 2.69541 2.37762 2.36926 3.4213L1.83688 5.12491C1.52876 6.11092 1.8679 7.1068 2.56708 7.72187C2.99643 8.09957 3.56156 8.33366 4.19593 8.33366C5.13437 8.33366 5.95065 7.81064 6.36917 7.04019C6.38619 7.00888 6.40255 6.97714 6.41823 6.94502C6.57788 6.618 6.66748 6.25052 6.66748 5.86211V2.50033C6.66748 2.04009 6.29438 1.66699 5.83415 1.66699H4.75546Z",fill:s}),(0,i.jsx)("path",{d:"M14.8838 0.660607C15.2097 -0.220202 16.4556 -0.220202 16.7815 0.660607L17.2062 1.80842C17.375 2.26462 17.7347 2.6243 18.1909 2.79311L19.3387 3.21783C20.2195 3.54377 20.2195 4.78957 19.3387 5.1155L18.1909 5.54023C17.7347 5.70903 17.375 6.06872 17.2062 6.52492L16.7815 7.67272C16.4556 8.5535 15.2097 8.5535 14.8838 7.67272L14.4591 6.52492C14.2903 6.06872 13.9306 5.70903 13.4744 5.54023L12.3266 5.1155C11.4458 4.78957 11.4458 3.54377 12.3266 3.21783L13.4744 2.79311C13.9306 2.6243 14.2903 2.26462 14.4591 1.80842L14.8838 0.660607Z",fill:s})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_2645_182555",children:(0,i.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})}},741914:function(e,t,n){var i=n(392711),a=n.n(i),s=n(723454),l=n(428595),r=n(454585);let o=a().omit(l.Z.RULES,["codeBlock","heading"]),c={...s.Z,parse:function(e,t,n){var i;let a=s.Z.parse(e,t,n),l=Math.min(6,(null!==(i=n.initialHeaderLevel)&&void 0!==i?i:3)+a.level);return{...a,level:l}}},d=r.Z.combineAndInjectMentionRule(o,[r.Z.createReactRules(r.Z.defaultReactRuleOptions),{header:c}]),u=r.Z.reactParserFor(d);t.Z=u},54797:function(e,t,n){n.d(t,{x:function(){return s}});var i=n(735250);n(470079);var a=n(481060);function s(e){let{listing:t}=e;(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("95480").then(n.bind(n,275869));return n=>(0,i.jsx)(e,{listing:t,...n})})}},696014:function(e,t,n){n.d(t,{s:function(){return o}}),n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(668878);function o(){let[e,t]=a.useState(!1);return{isTruncated:e,ExpandableTextContainer:a.memo(function(e){let{showAll:n=!1,className:a,children:s,lineClamp:o=2}=e;return(0,i.jsx)("div",{ref:e=>{null!=e&&t(e.scrollHeight-e.clientHeight>1)},className:l()(r.lineClamp,a),style:n?void 0:{lineClamp:o,WebkitLineClamp:o},children:s})})}}},240657:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(481060),o=n(741914),c=n(237475),d=n(622322);function u(e){let{color:t,className:n,variant:s,text:u,lineClamp:_}=e,E=(0,r.usePrivateHeadingLevel)(),I=a.useMemo(()=>null==u?null:(0,o.Z)(u,!0,{allowHeading:null==_,allowList:null==_,initialHeaderLevel:E}),[u,_,E]);return(0,i.jsx)(r.Text,{className:l()(n,d.markup,{[c.lineClamp2Plus]:null!=_&&_>1,[c.lineClamp1]:1===_}),color:t,variant:s,lineClamp:_,children:I})}},765400:function(e,t,n){n.d(t,{v:function(){return r}});var i=n(735250);n(470079);var a=n(481060),s=n(689938),l=n(652431);let r=()=>(0,i.jsx)(a.TextBadge,{color:a.tokens.unsafe_rawColors.YELLOW_300.css,text:s.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_MANAGEMENT_DRAFT_LABEL,className:l.draftBadge})},674525:function(e,t,n){var i,a,s,l,r=n(442837),o=n(570140);let c=[];class d extends(l=r.ZP.Store){getEligibleGuildsForNagActivate(){return c}}s="CreatorMonetizationMarketingStore",(a="displayName")in(i=d)?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,t.Z=new d(o.Z,{CREATOR_MONETIZATION_NAG_ACTIVATE_ELIGIBLITY_FETCH_SUCCESS:function(e){let{eligibleGuilds:t}=e;c=t}})},749277:function(e,t,n){n.d(t,{A:function(){return b}});var i=n(735250);n(470079);var a=n(442837),s=n(704215),l=n(481060),r=n(232567),o=n(230711),c=n(726542),d=n(100527),u=n(231757),_=n(674525),E=n(29458),I=n(636629),m=n(33885),T=n(963249),h=n(346585),N=n(303172),f=n(463230),p=n(246965),C=n(703656),g=n(706454),S=n(933429),A=n(395361),R=n(626135),x=n(243778),O=n(921944),M=n(981631),v=n(801461),L=n(474936),Z=n(689938),P=n(596791);let b=e=>{let{dismissibleContent:t,noticeType:b}=e,D=(0,a.e7)([S.Z],()=>S.Z.getNotice()),j=(0,a.e7)([g.default],()=>g.default.locale);return(0,i.jsx)(x.Z,{contentTypes:[t],groupName:O.R.NOTICE_BAR,bypassAutoDismiss:!0,children:e=>{var t,a;let{visibleContent:g,markAsDismissed:S}=e;switch(g){case s.z.GUILD_ONBOARDING_UPSELL_NAGBAR:return(0,i.jsx)(m.Z,{dismissCurrentNotice:()=>S(O.L.UNKNOWN)});case s.z.NAGBAR_NOTICE_DOWNLOAD:return(0,i.jsxs)(l.Notice,{color:l.NoticeColors.DEFAULT,children:[(0,i.jsx)(l.NoticeCloseButton,{onClick:()=>S(O.L.UNKNOWN),noticeType:b}),Z.Z.Messages.NOTICE_NATIVE_APPS_2020_06,(0,i.jsx)("i",{className:P.iconApple}),(0,i.jsx)("i",{className:P.iconAndroid}),(0,i.jsx)("i",{className:P.iconWindows}),(0,i.jsx)(l.PrimaryCTANoticeButton,{noticeType:b,onClick:()=>{(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,431583));return t=>(0,i.jsx)(e,{source:"Top Bar Nag",...t})})},children:Z.Z.Messages.DOWNLOAD})]});case s.z.NAGBAR_NOTICE_CONNECT_SPOTIFY:return(0,i.jsxs)(l.Notice,{color:l.NoticeColors.SPOTIFY,children:[(0,i.jsx)(l.NoticeCloseButton,{onClick:()=>S(O.L.UNKNOWN),noticeType:b}),(0,i.jsx)(A.Z,{className:P.platformIcon}),Z.Z.Messages.NOTICE_CONNECT_SPOTIFY,(0,i.jsx)(l.PrimaryCTANoticeButton,{onClick:()=>(0,u.Z)({platformType:M.ABu.SPOTIFY,location:"Notice Bar"}),noticeType:b,children:Z.Z.Messages.CONNECT})]});case s.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return(0,i.jsxs)(l.Notice,{color:l.NoticeColors.PLAYSTATION,children:[(0,i.jsx)(l.NoticeCloseButton,{onClick:()=>S(O.L.UNKNOWN)}),(0,i.jsx)("img",{alt:"",className:P.platformIcon,src:c.Z.get(M.ABu.PLAYSTATION).icon.whiteSVG}),Z.Z.Messages.NOTICE_CONNECT_PLAYSTATION,(0,i.jsx)(l.NoticeButton,{onClick:()=>(0,u.Z)({platformType:M.ABu.PLAYSTATION,location:"Notice Bar"}),children:Z.Z.Messages.CONNECT})]});case s.z.NAGBAR_NOTICE_MFA_SMS_BACKUP:return(0,i.jsxs)(l.Notice,{color:l.NoticeColors.DEFAULT,children:[(0,i.jsx)(l.NoticeCloseButton,{onClick:()=>S(O.L.UNKNOWN),noticeType:b}),Z.Z.Messages.NOTICE_MFA_SMS_BACKUP,(0,i.jsx)(l.PrimaryCTANoticeButton,{onClick:()=>o.Z.open(M.oAB.ACCOUNT),noticeType:b,children:Z.Z.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON})]});case s.z.NAGBAR_NOTICE_PREMIUM_PROMO:return(0,i.jsxs)(l.Notice,{color:l.NoticeColors.PREMIUM_TIER_2,children:[(0,i.jsx)("span",{className:P.premiumLogo}),(0,i.jsx)("span",{className:P.premiumText,children:Z.Z.Messages.NOTICE_PREMIUM_PROMO_MESSAGE}),(0,i.jsx)(l.PrimaryCTANoticeButton,{className:P.premiumAction,noticeType:b,onClick:()=>{R.default.track(M.rMx.PREMIUM_PROMOTION_OPENED,{location_section:M.jXE.NOTIFICATION_BAR,location_object:M.qAy.BUTTON_CTA}),o.Z.open(M.oAB.PREMIUM)},children:Z.Z.Messages.NOTICE_PREMIUM_PROMO_ACTION}),(0,i.jsx)(l.NoticeCloseButton,{onClick:()=>{S(O.L.UNKNOWN),(0,r.mB)(M.xW$.PREMIUM_PROMO_DISMISSED,!0)},noticeType:b})]});case s.z.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING:return(0,i.jsx)(p.Z,{dismissCurrentNotice:()=>S(O.L.UNKNOWN),subscriptionTier:L.Si.TIER_2});case s.z.NAGBAR_NOTICE_PREMIUM_TIER_0_TRIAL_ENDING:return(0,i.jsx)(p.Z,{dismissCurrentNotice:()=>S(O.L.UNKNOWN),subscriptionTier:L.Si.TIER_0});case s.z.NAGBAR_NOTICE_PREMIUM_REACTIVATE:return(0,i.jsxs)(l.Notice,{color:l.NoticeColors.PREMIUM_TIER_2,children:[(0,i.jsx)(l.NoticeCloseButton,{noticeType:b,onClick:()=>S(O.L.UNKNOWN)}),Z.Z.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_TEXT,(0,i.jsx)(l.PrimaryCTANoticeButton,{noticeType:b,onClick:()=>{S(O.L.UNKNOWN),o.Z.open(M.oAB.PREMIUM)},children:Z.Z.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_BUTTON_TEXT})]});case s.z.NAGBAR_NOTICE_LOCALIZED_PRICING:return(0,i.jsx)(f.Z,{notice:D,noticeType:b,dismissCurrentNotice:()=>S(O.L.UNKNOWN)});case s.z.QUEST_1_GO_LIVE_BANNER:let x=null==D?void 0:null===(t=D.metadata)||void 0===t?void 0:t.partnerGame;return(0,i.jsx)(I.Z,{noticeType:b,markAsDismissed:()=>S(O.L.UNKNOWN),partnerGame:x});case s.z.QUEST_1_ENDED_INCOMPLETE:let U=null==D?void 0:null===(a=D.metadata)||void 0===a?void 0:a.partnerGame;return(0,i.jsx)(E.Z,{noticeType:b,markAsDismissed:()=>S(O.L.UNKNOWN),partnerGame:U});case s.z.NAGBAR_BOUNCED_EMAIL_NOTICE:return(0,i.jsxs)(l.Notice,{color:l.NoticeColors.DANGER,children:[(0,i.jsx)(l.NoticeCloseButton,{onClick:()=>S(O.L.UNKNOWN),noticeType:b}),Z.Z.Messages.BOUNCED_EMAIL_DETECTED_NOTICE,(0,i.jsx)(l.PrimaryCTANoticeButton,{noticeType:b,onClick:()=>{(0,C.uL)(M.Z5c.SETTINGS("account"))},children:Z.Z.Messages.CHANGE_EMAIL_SHORT})]});case s.z.NAGBAR_ACTIVATE_SERVER_SUBSCRIPTION:let y=_.Z.getEligibleGuildsForNagActivate();return(0,i.jsxs)(l.Notice,{color:l.NoticeColors.DEFAULT,children:[(0,i.jsx)(l.NoticeCloseButton,{onClick:()=>S(O.L.UNKNOWN),noticeType:b}),Z.Z.Messages.GUILD_ROLE_SUBSCRIPTION_NAGBAR_TEXT,(0,i.jsx)(l.PrimaryCTANoticeButton,{noticeType:b,onClick:()=>{S(O.L.PRIMARY),(0,C.uL)(1===y.length?M.Z5c.GUILD_SETTINGS(y[0],"role-subscriptions"):M.Z5c.PICK_GUILD_SETTINGS("role-subscriptions",void 0,"server-subscriptions-finish-setting-up"))},children:Z.Z.Messages.LETS_GO})]});case s.z.NAGBAR_NOTICE_POMELO:return(0,i.jsxs)(l.Notice,{color:l.NoticeColors.WARNING,children:[(0,i.jsx)(l.NoticeCloseButton,{onClick:()=>S(O.L.UNKNOWN),noticeType:b}),Z.Z.Messages.POMELO_ACTION_NEEDED.format(),(0,i.jsx)(l.PrimaryCTANoticeButton,{onClick:()=>(0,N.Z)(v.Kq.NOTICE),noticeType:b,children:Z.Z.Messages.GET_STARTED})]});case s.z.UU_MIGRATION_NOTICE:return(0,i.jsxs)(l.Notice,{color:l.NoticeColors.WARNING,children:[(0,i.jsx)(l.NoticeCloseButton,{onClick:()=>S(O.L.UNKNOWN),noticeType:b}),Z.Z.Messages.POMELO_ACTION_NEEDED_FORCE.format({date:(0,h.IE)(j)}),(0,i.jsx)(l.PrimaryCTANoticeButton,{onClick:()=>(0,N.Z)(v.Kq.NOTICE),noticeType:b,children:Z.Z.Messages.GET_STARTED})]});case s.z.CHECKOUT_RECOVERY_NAGBAR:return(0,i.jsxs)(l.Notice,{color:l.NoticeColors.PREMIUM_TIER_2,children:[(0,i.jsx)(l.NoticeCloseButton,{onClick:()=>S(O.L.UNKNOWN),noticeType:b}),Z.Z.Messages.CHECKOUT_RECOVERY_NAGBAR_CONTENT,(0,i.jsx)(l.PrimaryCTANoticeButton,{onClick:()=>{(0,T.Z)({subscriptionTier:L.Si.TIER_2,analyticsLocations:[d.Z.CHECKOUT_RECOVERY_NAGBAR],analyticsLocation:M.Sbl.CHECKOUT_RECOVERY_NAGBAR,onClose:()=>S(O.L.UNKNOWN)})},noticeType:b,children:Z.Z.Messages.CHECKOUT_RECOVERY_NAGBAR_CTA})]})}}})}},135938:function(e,t,n){var i=n(818083);t.Z=(0,i.B)({kind:"user",id:"2021-12_inferno_spam_redaction",label:"Inferno Spam Redaction",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Allow guild channel messages from spammers to be collapsed",config:{enabled:!0}}]})},431583:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}}),n(47120);var i,a,s=n(735250),l=n(470079),r=n(120356),o=n.n(r),c=n(525654),d=n.n(c),u=n(873546),_=n(213919),E=n(442837),I=n(481060),m=n(391650),T=n(314897),h=n(594174),N=n(153124),f=n(626135),p=n(361207),C=n(792125),g=n(981631),S=n(689938),A=n(101934);(a=i||(i={}))[a.OSX=0]="OSX",a[a.WINDOWS=1]="WINDOWS",a[a.LINUX=2]="LINUX",a[a.IOS=3]="IOS",a[a.ANDROID=4]="ANDROID";let R=[{getOs:()=>S.Z.Messages.PLATFORM_MACOS,icon:A.apple,url:()=>(0,p.w4)("osx",!1),platformKey:0},{getOs:()=>S.Z.Messages.PLATFORM_WINDOWS,icon:A.windows,url:()=>(0,p.w4)("win",!1),platformKey:1},{getOs:()=>S.Z.Messages.PLATFORM_LINUX,icon:A.linux,url:[{url:()=>(0,p.w4)("linux",!1,"deb"),getText:()=>S.Z.Messages.DEB},{url:()=>(0,p.w4)("linux",!1,"tar.gz"),getText:()=>S.Z.Messages.TAR_GZ}],platformKey:2}],x=[{getOs:()=>S.Z.Messages.PLATFORM_IOS,icon:A.ios,url:()=>g.fzT.IOS,platformKey:3},{getOs:()=>S.Z.Messages.PLATFORM_ANDROID,icon:A.android,url:()=>g.fzT.ANDROID,platformKey:4}],O=(0,C.Q)(g.BRd.LIGHT),M=e=>{let{url:t,text:n,onClick:i}=e;return(0,s.jsx)(I.Anchor,{useDefaultUnderlineStyles:!1,href:t,className:A.downloadButton,onClick:i,children:n})},v=e=>{let t,{platform:n,onClick:i,onMouseEnter:a,isActive:l,claimed:r}=e,{getOs:c,icon:d,url:u,platformKey:_}=n,E=c(),m=o()(A.icon,d);if(Array.isArray(u))t=u.map((e,t)=>{let n=r?e.url():"";return(0,s.jsx)(M,{url:n,onClick:()=>i(E),text:e.getText()},"".concat(n,"-").concat(t))});else{let e=r?u():void 0;t=(0,s.jsx)(M,{url:e,onClick:()=>i(E),text:S.Z.Messages.DOWNLOAD})}return(0,s.jsx)("li",{className:o()(A.platform,{[A.active]:l}),onMouseEnter:()=>a(_),children:(0,s.jsxs)("div",{className:A.contentWrapper,children:[(0,s.jsxs)("div",{className:A.iconWrap,children:[(0,s.jsx)("div",{className:m}),(0,s.jsx)("div",{className:o()(A.active,m)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(I.Heading,{className:A.platformName,variant:"heading-lg/semibold",children:E}),(0,s.jsx)("div",{className:o()(A.downloadButtons,{[A.list]:Array.isArray(t)}),children:t})]})]})})};function L(e){let{source:t,onClose:n,transitionState:i}=e,a=(0,E.e7)([h.default],()=>h.default.getCurrentUser()),r=(0,E.e7)([T.default],()=>T.default.getFingerprint()),c=null==a||a.isClaimed(),[p,C]=l.useState(function(){var e;switch(null===(e=d().os)||void 0===e?void 0:e.family){case"OS X":return 0;case"Windows":return 1;case"Ubuntu":case"Debian":case"Fedora":case"Red Hat":case"SuSE":case"Linux":return 2;case"iOS":return 3;case"Android":return 4;default:return}}());function M(e){(null!=_.getToken()||null!=r)&&f.default.track(g.rMx.DOWNLOAD_APP,{platform:e,ptb:!1,released:!0,has_e_mail:c,referring_location:t,qr_code:!1}),!c&&(n(),m.j())}function L(e){C(e)}l.useEffect(()=>{f.default.track(g.rMx.OPEN_MODAL,{type:"Download App",source:{location:t}})},[t]);let Z=(0,N.Dt)();return(0,s.jsx)(I.ModalRoot,{className:o()(A.downloadApps,O),transitionState:i,"aria-labelledby":Z,children:(0,s.jsx)("div",{className:A.inner,children:(0,s.jsxs)(I.HeadingLevel,{component:(0,s.jsx)(I.HiddenVisually,{children:(0,s.jsx)(I.H,{id:Z,children:S.Z.Messages.DOWNLOAD_APP})}),children:[(0,s.jsx)(I.ModalCloseButton,{onClick:n,className:A.modalCloseButton}),!u.tq&&(0,s.jsx)("div",{className:A.platformsWrap,children:(0,s.jsx)(I.HeadingLevel,{component:(0,s.jsx)(I.Heading,{variant:"heading-lg/semibold",className:A.header,children:S.Z.Messages.DOWNLOAD_DESKTOP_TITLE}),children:(0,s.jsx)("ul",{className:A.platforms,children:R.map(e=>(0,s.jsx)(v,{isActive:p===e.platformKey,platform:e,onClick:M,onMouseEnter:L,claimed:c},e.platformKey))})})}),(0,s.jsx)("div",{className:A.platformsWrap,children:(0,s.jsxs)(I.HeadingLevel,{component:(0,s.jsx)(s.Fragment,{children:!u.tq&&(0,s.jsx)(I.Heading,{variant:"heading-lg/semibold",className:A.header,children:S.Z.Messages.DOWNLOAD_MOBILE_TITLE})}),children:[(0,s.jsx)("ul",{className:A.platforms,children:x.map(e=>(0,s.jsx)(v,{isActive:p===e.platformKey,platform:e,onClick:M,onMouseEnter:L,claimed:c},e.platformKey))}),(0,s.jsx)(I.Text,{className:A.footer,variant:"text-sm/normal",children:S.Z.Messages.DOWNLOAD_DESKTOP_FOOTER.format()})]})})]})})})}},960359:function(e,t,n){n.d(t,{BE:function(){return _},Nw:function(){return c},R5:function(){return d},RJ:function(){return E},VT:function(){return u},Vb:function(){return m},Vt:function(){return r},dN:function(){return o},m0:function(){return I}});var i=n(544891),a=n(570140),s=n(199902),l=n(981631);let r=async e=>{let t=!1;try{t=(await i.tn.get({url:l.ANM.DROPS_ELIGIBILITY,query:{drops_quest_id:e}})).body.eligible}catch(e){t=!1}a.Z.dispatch({type:"DROPS_ELIGIBILITY_FETCH_SUCCESS",isEligible:t,dropsQuestId:e})},o=async e=>{let t=[];try{t=(await i.tn.get({url:l.ANM.DROPS_PLATFORM_AVAILABILITY,query:{drops_quest_id:e}})).body.available_platforms}catch(e){t=[]}a.Z.dispatch({type:"DROPS_PLATFORM_AVAILABILITY_SUCCESS",availablePlatforms:t})},c=async(e,t)=>{try{let n=await i.tn.post({url:l.ANM.DROPS_CLAIM_REWARD_CODE,query:{drops_quest_id:e,platform:t}});return a.Z.dispatch({type:"DROPS_REWARD_CODE_CLAIM_SUCCESS",rewardCode:n.body.code}),n.body.code}catch(e){throw e}},d=async()=>{try{let e=await i.tn.get({url:l.ANM.DROPS_USER_STATUS});a.Z.dispatch({type:"DROPS_USER_STATUS_FETCH_SUCCESS",codes:e.body})}catch(e){a.Z.dispatch({type:"DROPS_USER_STATUS_FETCH_FAILURE"})}},u=async e=>{await i.tn.del({url:l.ANM.DROPS_ENROLL_USER,query:{drops_quest_id:e}}),a.Z.dispatch({type:"DROPS_UNENROLL_USER",dropsQuestId:e}),await d()},_=async e=>{let t=await i.tn.get({url:l.ANM.DROPS_ENROLL_USER,query:{drops_quest_id:e}});await a.Z.dispatch({type:"DROPS_ENROLLED_USER_FETCH_SUCCESS",enrolledUser:t.body.user,isEnrolled:t.body.enrolled,dropsQuestId:e})},E=async e=>{await i.tn.post({url:l.ANM.DROPS_ENROLL_USER,query:{drops_quest_id:e}}),a.Z.dispatch({type:"DROPS_ENROLL_SUCCESS"})},I=async(e,t,n)=>{let r=s.Z.getViewerIds(t);try{let s=await i.tn.post({url:l.ANM.DROPS_HEARTBEAT(e),query:{stream_key:t,application_id:n,viewer_count:r.length},retries:2});a.Z.dispatch({type:"DROPS_HEARTBEAT_SUCCESS",dropsQuestId:e,completed:s.body.completed,progress:s.body.progress})}catch(t){a.Z.dispatch({type:"DROPS_HEARTBEAT_FAILURE",dropsQuestId:e,statusCode:null==t?void 0:t.status})}},m=async e=>{try{let t=await i.tn.get({url:l.ANM.DROPS_PROGRESS(e)});a.Z.dispatch({type:"DROPS_FETCH_PROGRESS_SUCCESS",dropsQuestId:e,completed:t.body.completed,progress:t.body.progress})}catch(t){a.Z.dispatch({type:"DROPS_FETCH_PROGRESS_FAILURE",dropsQuestId:e})}}},702512:function(e,t,n){n.d(t,{El:function(){return a},RN:function(){return c},X2:function(){return r},Zv:function(){return _},_e:function(){return o},fS:function(){return d},kS:function(){return s},n4:function(){return l},oL:function(){return u}});var i=n(689938);let a=["XBOX","PLAYSTATION","SWITCH","PC"],s=2592e4,l="https://support.discord.com/hc/en-us/articles/9146392276375",r={FORTNITE:"FORTNITE"},o={STREAM_CTA:"STREAM_CTA",LOADING_INITIAL_PROGRESS:"LOADING_INITIAL_PROGRESS",TRACK_PROGRESS:"TRACK_PROGRESS",QUEST_COMPLETION:"QUEST_COMPLETION"},c={FORTNITE:["Fortnite"]},d="YYYY-MM-DD HH:mm",u="1022633972510752774",_={[r.FORTNITE]:{title:"Fortnite",gameSearchTerm:c[r.FORTNITE],assets:{iconSrc:n(569655),tooltipSrc:n(836110),rewardSrc:n(945368)},dropsQuestId:u,dropsGameId:"432980957394370572",endDate:"2023-05-22 23:59",finalClaimDate:"2023-5-29 08:00",dropsNoticeBannerDurationDays:3,articleUrl:l,messages:{claimTip:()=>i.Z.Messages.FORTNITE_REDEMPTION_TIP.format({learnMoreUrl:"https://discord.com/blog/fortnite-quest"}),giftInfo:()=>i.Z.Messages.FORTNITE_GIFT_INVENTORY_INFO.format({guardOutfitName:i.Z.Messages.FORNITE_GUARD_OUTPUT,rewardName:i.Z.Messages.FORTNITE_REWARD_NAME}),enrollmentTooltip:e=>i.Z.Messages.FORTNITE_DROPS_ELIGIBILITY_ENROLLMENT_TOOLTIP.format({rewardName:i.Z.Messages.FORTNITE_REWARD_NAME,streamLengthRequirement:e}),completionTooltip:e=>i.Z.Messages.FORTNITE_DROPS_COMPLETION_TOOLTIP.format({rewardName:i.Z.Messages.FORTNITE_REWARD_NAME,streamLengthRequirement:e})}}}},346114:function(e,t,n){n.d(t,{a:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2023-05_go_live_quest_fortnite",label:"Fortnite: Go Live Quest",defaultConfig:{dropsEnabled:!1,streamLengthRequirement:0,viewerCountRequirement:0,autoEnrollment:!1,showUnenroll:!1},treatments:[{id:1,label:"15 min stream req + auto enrollment",config:{dropsEnabled:!0,streamLengthRequirement:15,viewerCountRequirement:1,autoEnrollment:!0,showUnenroll:!1}},{id:99,label:"2 minute stream req + auto enrollment",config:{dropsEnabled:!0,streamLengthRequirement:2,viewerCountRequirement:1,autoEnrollment:!0,showUnenroll:!0}}]})},730417:function(e,t,n){n.d(t,{_g:function(){return T},au:function(){return m},c:function(){return f},dy:function(){return h},hs:function(){return p},op:function(){return N}});var i=n(470079),a=n(442837),s=n(570140),l=n(213609),r=n(211644),o=n(605236),c=n(594190),d=n(960359),u=n(346114),_=n(524347),E=n(853197),I=n(702512);function m(e){let t,n;let i=u.a.useExperiment({location:"59cc4b_1"});if(null==e)return null;let a=(0,E.BS)(e);if(null==a)return null;if(a.dropsQuestId===I.oL)t=u.a,n=i;else t=null,n=null;return null==t||null==n?null:{experiment:t,config:n,drop:a}}function T(e){var t;let n=(0,a.e7)([_.Z],()=>_.Z.serverEligibleByQuestIds),l=m(e),r=function(e){let t=(0,a.Wu)([c.ZP],()=>c.ZP.getGamesSeen(!1)),n=i.useMemo(()=>(0,E.R9)(),[]);return(0,E.YK)(e,t,n)}(e),o=null!=l&&n[l.drop.dropsQuestId];null!=l&&o&&r&&l.experiment.trackExposure({location:"ELIGIBILITY_ENROLLMENT_TOOLTIP"});let u=null==l?void 0:null===(t=l.config)||void 0===t?void 0:t.dropsEnabled,I=null==l?void 0:l.drop,T=null==I||(0,E.hM)(I);return i.useEffect(()=>{u&&!T&&r&&null!=I&&s.Z.wait(()=>{null==o&&(0,d.Vt)(I.dropsQuestId)})},[o,I,u,T,r]),null!=I&&!!u&&!T&&o&&r}function h(){let e=m(I.X2.FORTNITE);return null==e?void 0:e.config.dropsEnabled}function N(e){let t=m(e),n=null==t?void 0:t.drop,s=(0,a.e7)([_.Z],()=>null!=n&&_.Z.serverEligibleByQuestIds[n.dropsQuestId]),l=(0,a.e7)([_.Z],()=>_.Z.hasInitialProgressFetched);i.useEffect(()=>{null!=n&&s&&!l&&(0,d.Vb)(n.dropsQuestId)},[n,s,l])}function f(e,t,n,i){var s;let l=m(e),c=null==l?void 0:l.drop,d=(0,a.e7)([_.Z],()=>null!=c&&_.Z.serverEligibleByQuestIds[c.dropsQuestId]),u=(0,a.e7)([_.Z],()=>_.Z.getIsPartnerGameQuestComplete(e)),I=(0,E.wj)(null==t?void 0:t.name,null!==(s=null==c?void 0:c.gameSearchTerm)&&void 0!==s?s:[]),T=(0,r.ot)([n,i]),h=(0,o.wE)(i),N=null==c||(0,E.hM)(c),f=!!(null!=c&&!N&&I&&(null==l?void 0:l.config.dropsEnabled)&&d);return{partnerGame:f?e:null,dropsActivityPanelExperienceBlocked:T,showDropsSparkles:!u&&!h}}function p(e,t,n){let i=(0,E.BS)(e);(0,l.Z)({type:t,name:n,properties:{drops_quest_id:null==i?void 0:i.dropsQuestId,game_id:null==i?void 0:i.dropsGameId}})}},524347:function(e,t,n){var i,a,s,l,r=n(913527),o=n.n(r),c=n(442837),d=n(846519),u=n(570140),_=n(594190),E=n(569545),I=n(314897),m=n(70956),T=n(960359),h=n(853197),N=n(702512);let f=null,p=null,C={},g={},S=N._e.LOADING_INITIAL_PROGRESS,A=new d.V7,R={completed:!1,initialProgressFetched:!1,interrupted:!1,retries:0},x=e=>{let{dropsQuestId:t,streamKey:n,game:i,completed:a,gameTitle:s}=R;if(!(null==t||null==s||a||null==i||null==n||A.isStarted()))e?(0,T.m0)(t,n,i.pid):A.start(1*m.Z.Millis.MINUTE,()=>{(0,T.m0)(t,n,i.pid)})},O=e=>{R.retries=0,R.completed=e.completed,R.initialProgressFetched=!0,R.progress=e.progress,R.lastCheckedAt=o().now(),S=R.completed?N._e.QUEST_COMPLETION:N._e.TRACK_PROGRESS},M=(e,t,n)=>{if(!R.completed||e.dropsQuestId!==R.dropsQuestId)R.game=t,R.dropsQuestId=e.dropsQuestId,R.gameTitle=e.title,R.completed=!1,R.interrupted=!1,R.streamKey=n,R.retries=0,R.lastCheckedAt=o().now(),A.start(5e3,()=>x(!0))};class v extends(l=c.ZP.Store){initialize(){this.waitFor(_.ZP)}getActivityPanelTooltipAction(){return S}getIsPartnerGameQuestComplete(e){var t;let n=(0,h.BS)(e);if(null==n||null==p)return!1;let i=!!(null===(t=p[n.dropsQuestId])||void 0===t?void 0:t.completed_at);return R.completed&&R.gameTitle===n.title||i}get serverEligibleByQuestIds(){return C}get platformAvailability(){return f}get userStatus(){return p}get activityPanelTooltipAction(){return S}get enrolledDropsByQuestId(){return g}get hasInitialProgressFetched(){return R.initialProgressFetched}get isCurrentQuestCompleted(){return R.completed}get isCurrentQuestInterrupted(){return R.interrupted}get currentDropQuestGameTitle(){return R.gameTitle}get currentDropQuestStreamProgress(){let e=R.progress;if(null==e||null==e.steps||0===e.steps.length)return 0;let t=e.steps.find(e=>"stream_length"===e.name);return null==t?0:t.percent}}s="DropsStore",(a="displayName")in(i=v)?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,t.Z=new v(u.Z,{DROPS_ELIGIBILITY_FETCH_SUCCESS:e=>{C[e.dropsQuestId]=e.isEligible},DROPS_PLATFORM_AVAILABILITY_SUCCESS:e=>{f=e.availablePlatforms.filter(e=>N.El.includes(e))},DROPS_USER_STATUS_FETCH_SUCCESS:e=>{var t;p=null!==(t=e.codes)&&void 0!==t?t:{}},DROPS_USER_STATUS_FETCH_FAILURE:e=>{p={}},DROPS_ENROLLED_USER_FETCH_SUCCESS:e=>{g[e.dropsQuestId]={isEnrolled:e.isEnrolled,enrolledUser:e.enrolledUser}},DROPS_FETCH_PROGRESS_SUCCESS:O,DROPS_FETCH_PROGRESS_FAILURE:e=>{if(!R.initialProgressFetched)R.initialProgressFetched=!0,S=N._e.STREAM_CTA},DROPS_HEARTBEAT_SUCCESS:e=>{O(e),C[e.dropsQuestId]=!0,x()},DROPS_HEARTBEAT_FAILURE:e=>{let{dropsQuestId:t,statusCode:n}=e;if(R.completed=!1,R.initialProgressFetched=!0,R.lastCheckedAt=o().now(),429===n&&0===R.retries){R.retries=R.retries+1,x();return}S=N._e.STREAM_CTA,403===n?C[t]=!1:R.interrupted=!0},DROPS_UNENROLL_USER:e=>{p=null,C={...C},delete C[e.dropsQuestId],g={...g},delete g[e.dropsQuestId],R.dropsQuestId===e.dropsQuestId&&(R={completed:!1,initialProgressFetched:!1,interrupted:!1,retries:0})},STREAM_CLOSE:()=>{R.completed&&(S=N._e.QUEST_COMPLETION),R.interrupted=!1,R.retries=0,A.stop()},STREAM_START:function(e){var t;let{streamType:n,guildId:i,channelId:a,pid:s}=e,l=(0,E.V9)({streamType:n,guildId:i,channelId:a,ownerId:I.default.getId()});if(null==s)return;let r=_.ZP.getGameForPID(s);if(null==r)return;let o=Object.values(N.Zv).find(e=>e.gameSearchTerm.find(e=>{var t;return e.toLowerCase()===(null===(t=r.name)||void 0===t?void 0:t.toLowerCase())}));if(null==o||(0,h.hM)(o))return;let c=null===(t=(0,h.j7)(o))||void 0===t?void 0:t.getCurrentConfig({location:"1"},{autoTrackExposure:!1});if(null==c||!c.dropsEnabled)return;let d=c.autoEnrollment;null!=g[o.dropsQuestId]&&g[o.dropsQuestId].isEnrolled||d?M(o,r,l):u.Z.wait(async()=>{var e;await (0,T.BE)(o.dropsQuestId),(null===(e=g[o.dropsQuestId])||void 0===e?void 0:e.isEnrolled)&&M(o,r,l)})},LOGOUT:function(){C={},g={},p={},A.stop()}})},853197:function(e,t,n){n.d(t,{A5:function(){return _},BS:function(){return g},EW:function(){return S},FL:function(){return p},R9:function(){return m},Tn:function(){return f},Un:function(){return R},Xt:function(){return h},YK:function(){return T},hM:function(){return C},j7:function(){return E},wj:function(){return I},x8:function(){return A}});var i=n(913527),a=n.n(i),s=n(594190),l=n(695346),r=n(77498),o=n(70956),c=n(346114),d=n(702512),u=n(689938);function _(e){let t=g(e);return null==t?null:E(t)}function E(e){if(e.dropsQuestId===d.oL)return c.a;return null}function I(e,t){if(null==e)return!1;let n=r.Z.getGameByName(e);return!!(null!=n&&t.some(e=>{var t;return e.toLowerCase()===(null==n?void 0:null===(t=n.name)||void 0===t?void 0:t.toLowerCase())}))||!1}function m(){return Math.floor(Date.now()/1e3)-d.kS}function T(e,t,n){var i,a,s,l;if(null==g(e))return!1;let r=(i=t,a=d.RN[e],null!==(s=i.find(e=>I(e.name,a)))&&void 0!==s?s:null);if(null!=r){;let e=null!==(l=null==r?void 0:r.lastLaunched)&&void 0!==l?l:0;return n<=r.lastFocused||n*o.Z.Millis.SECOND<=e}return!1}function h(e){return T(e,s.ZP.getGamesSeen(!1),m())}function N(e,t){let{endDate:n}=e,i=a()(),s=a()(n,d.fS),l=a()(i.clone().add(e.dropsNoticeBannerDurationDays,"days").format(d.fS)),r=s.isSameOrBefore(l),o=s.isBefore(i,"minute");return r&&(t&&!o||!t&&o)}function f(e){var t;let n=g(e);if(null==n||!(null===(t=_(e))||void 0===t?void 0:t.getCurrentConfig({location:"1"},{autoTrackExposure:!1}).dropsEnabled))return!1;let i=l.bh.getSetting(),a=N(n,!0);return!i&&a}function p(e){var t,n;let i=g(e);if(null==i||!(null===(n=_(e))||void 0===n?void 0:null===(t=n.getCurrentConfig({location:"2"},{autoTrackExposure:!1}))||void 0===t?void 0:t.dropsEnabled))return!1;let a=l.bh.getSetting(),s=N(i,!1);return C(i)&&!a&&s}function C(e){let{endDate:t}=e,n=a()(t,"YYYY-MM-DD HH:mm");return a()()>n}function g(e){return d.Zv[e]}function S(e){return Object.values(d.Zv).find(t=>t.dropsQuestId===e)}function A(e){return Object.keys(d.Zv).find(t=>d.Zv[t].dropsQuestId===e)}function R(e){switch(e){case"SWITCH":return u.Z.Messages.DROPS_PLATFORM_SWITCH;case"PC":return u.Z.Messages.DROPS_PLATFORM_PC;case"PLAYSTATION":return u.Z.Messages.DROPS_PLATFORM_PLAYSTATION;case"XBOX":return u.Z.Messages.DROPS_PLATFORM_XBOX;default:return""}}},29458:function(e,t,n){var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(594174),r=n(853197),o=n(921944),c=n(689938),d=n(703422);t.Z=e=>{var t;let{noticeType:n,markAsDismissed:u,partnerGame:_}=e,E=(0,a.e7)([l.default],()=>l.default.getCurrentUser());if(null==_)return null;let I=(0,r.BS)(_);if(null==I)return null;let m="https://survey.alchemer.com/s3/7043057/Drops-NPS?user_id=".concat(null!==(t=null==E?void 0:E.id)&&void 0!==t?t:"");return(0,i.jsxs)(s.Notice,{className:d.colorGuildBlue,children:[c.Z.Messages.DROPS_BANNER_ENDED_INCOMPLETE.format({gameTitle:I.title}),(0,i.jsx)(s.NoticeButtonAnchor,{href:m,target:"_blank",onClick:()=>{u(o.L.PRIMARY)},children:c.Z.Messages.DROPS_FEEDBACK_SURVEY}),(0,i.jsx)(s.NoticeCloseButton,{onClick:()=>{u(o.L.DISMISS)},noticeType:n})]})}},636629:function(e,t,n){var i=n(735250);n(470079);var a=n(913527),s=n.n(a),l=n(481060),r=n(730417),o=n(921944),c=n(689938),d=n(983209);let u=(e,t)=>({bodyText:c.Z.Messages.DROPS_BANNER_NOTICE.format({gameName:e.title,endDate:s()(e.endDate,"YYYY-MM-DD HH:mm").format("MMM Do"),streamLengthRequirement:t}),articleUrl:e.articleUrl});t.Z=e=>{let{noticeType:t,markAsDismissed:n,partnerGame:a}=e,s=(0,r.au)(a);if(null==s)return null;let{bodyText:_,articleUrl:E}=u(s.drop,s.config.streamLengthRequirement);return(0,i.jsxs)(l.Notice,{className:d.colorGuildBlue,children:[_,(0,i.jsx)(l.NoticeButtonAnchor,{href:E,target:"_blank",onClick:()=>{n(o.L.PRIMARY)},children:c.Z.Messages.LEARN_MORE}),(0,i.jsx)(l.NoticeCloseButton,{onClick:()=>{n(o.L.DISMISS)},noticeType:t})]})}},468706:function(e,t,n){n.d(t,{e:function(){return d}});var i=n(735250);n(470079);var a=n(481060),s=n(240872),l=n(923500),r=n(163268),o=n(774863),c=n(689938);function d(e,t){if((0,r.aP)({action:r.Yy.EXPLICIT_MEDIA_SENDER_FALSE_POSITIVE_BUTTON_CLICKED,messageId:t,channelId:e}),!o.Z.canSubmitFpReport(t)){s.Z.show({title:c.Z.Messages.SENDER_BLOCKED_MEDIA_EXPIRED_ERROR_HEADER,body:c.Z.Messages.SENDER_BLOCKED_MEDIA_EXPIRED_ERROR_BODY,confirmText:c.Z.Messages.OKAY}),l.Z.disableFalsePositiveButton(e,t);return}(0,a.openModalLazy)(async()=>{let{default:a}=await n(773276);return n=>(0,i.jsx)(a,{channelId:e,messageId:t,...n})})}},923500:function(e,t,n){var i=n(570140);t.Z={disableFalsePositiveButton:function(e,t){i.Z.dispatch({type:"MESSAGE_EXPLICIT_CONTENT_FP_SUBMIT",messageId:t,channelId:e})}}},668058:function(e,t,n){n.d(t,{$:function(){return s}}),n(47120);var i=n(470079),a=n(881052);function s(e){let{onError:t,onSuccess:n,report:s}=e,[l,r]=i.useState(!1);return{reportFalsePositive:i.useCallback(async()=>{if(!l){r(!0);try{await s(),null==n||n()}catch(n){let e=new a.Hx(n);null==t||t(e)}finally{r(!1)}}},[l,t,n,s]),isReportFalsePositiveLoading:l}}},703751:function(e,t,n){n.d(t,{r:function(){return s}});var i=n(399606),a=n(774863);let s=e=>null!=(0,i.e7)([a.Z],()=>a.Z.getFpMessageInfo(e))},761538:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(481060),s=n(689938),l=n(382862);function r(e){let{message:t}=e;return(0,i.jsxs)(a.Clickable,{onClick:()=>{(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("14021").then(n.bind(n,910673));return n=>(0,i.jsx)(e,{channelId:t.channel_id,messageId:t.id,...n})})},className:l.accessory,children:[(0,i.jsx)(a.CircleInformationIcon,{size:"xs",color:"currentColor"}),(0,i.jsx)(a.Text,{variant:"text-xs/normal",className:l.accessoryText,children:s.Z.Messages.OBSCURED_CONTENT_LEARN_MORE_MESSAGE_LABEL})]})}},674611:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(468706),o=n(774863),c=n(689938);function d(e){let{messageId:t,channelId:n}=e,d=(0,s.e7)([o.Z],()=>o.Z.canSubmitFpReport(t)),u=a.useCallback(()=>{(0,r.e)(n,t)},[n,t]);return(0,i.jsx)(l.Button,{size:l.Button.Sizes.MEDIUM,color:l.Button.Colors.PRIMARY,onClick:u,disabled:!d,children:c.Z.Messages.SENDER_BLOCKED_MEDIA_MARK_FALSE_POSITIVE})}},160877:function(e,t,n){n.d(t,{$:function(){return g},s:function(){return C}});var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(470167),o=n(481060),c=n(572691),d=n(406432),u=n(584656),_=n(153124),E=n(810090),I=n(163268),m=n(719548),T=n(689938),h=n(344898);let N=e=>{let{attachment:t}=e,{url:n,description:a}=t;return null==n?null:(0,i.jsx)(p,{url:n,description:a})},f=e=>{var t,n,a;let{embed:s}=e;if(!m.n2.has(s.type))return null;let l=void 0!==s.video&&s.type!==r.h.GIFV?s.video.url:null!==(a=null===(t=s.thumbnail)||void 0===t?void 0:t.url)&&void 0!==a?a:null===(n=s.image)||void 0===n?void 0:n.url;return null==l?null:(0,i.jsx)(p,{url:l})},p=e=>{let{url:t,description:n}=e,a=(0,d.cb)(t);return(0,i.jsx)("div",{className:h.mediaContainer,children:a?(0,i.jsx)(E.Z,{className:l()(h.video,h.media),controls:!0,src:t}):(0,i.jsx)("img",{className:l()(h.image,h.media),src:t,alt:n})})};function C(e){c.Z.pop(),(0,u.t)({id:"explicit-media-false-positive-modal",text:T.Z.Messages.OBSCURED_CONTENT_MARK_FALSE_POSITIVE_SUCCESS}),e()}function g(e){let{channelId:t,messageId:n,isReportFalsePositiveLoading:s,analyticsContext:l,attachmentPreview:r,embedPreview:c,onConfirmPress:d,transitionState:u,onClose:E}=e,m=(0,_.Dt)(),p=a.useCallback(()=>{(0,I.aP)({action:I.Yy.EXPLICIT_MEDIA_FALSE_POSITIVE_CLICK_CANCEL,channelId:t,messageId:n,context:l}),E()},[t,n,l,E]),C=a.useCallback(()=>{null==d||d(),(0,I.aP)({action:I.Yy.EXPLICIT_MEDIA_FALSE_POSITIVE_CLICK_CONFIRM,channelId:t,messageId:n,context:l})},[t,n,l,d]);return a.useEffect(()=>{(0,I.aP)({action:I.Yy.EXPLICIT_MEDIA_FALSE_POSITIVE_VIEWED,channelId:t,messageId:n,context:l})},[t,n,l]),(0,i.jsxs)(o.ModalRoot,{transitionState:u,"aria-labelledby":m,size:o.ModalSize.SMALL,children:[(0,i.jsxs)(o.ModalContent,{children:[(0,i.jsx)(o.ModalCloseButton,{onClick:p,className:h.closeButton}),(0,i.jsx)(o.Heading,{id:m,variant:"heading-lg/semibold",color:"header-primary",className:h.header,children:T.Z.Messages.OBSCURED_CONTENT_MARK_FALSE_POSITIVE_MODAL_HEADER}),(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"header-secondary",className:h.subheader,children:T.Z.Messages.OBSCURED_CONTENT_MARK_FALSE_POSITIVE_MODAL_DESCRIPTION}),null!=r&&(0,i.jsx)(N,{attachment:r}),null!=c&&(0,i.jsx)(f,{embed:c})]}),(0,i.jsxs)(o.ModalFooter,{children:[(0,i.jsx)(o.Button,{className:h.button,disabled:s,submitting:s,size:o.Button.Sizes.MEDIUM,color:o.Button.Colors.BRAND,onClick:C,children:T.Z.Messages.CONFIRM}),(0,i.jsx)(o.Button,{className:h.button,disabled:s,color:o.Button.Colors.TRANSPARENT,size:o.Button.Sizes.MEDIUM,onClick:p,children:T.Z.Messages.CANCEL})]})]})}},773276:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var i=n(735250);n(470079);var a=n(399606),s=n(481060),l=n(923500),r=n(522664),o=n(163268),c=n(774863),d=n(668058),u=n(160877),_=n(689938);function E(e){let{channelId:t,messageId:n,transitionState:E,onClose:I}=e,m=(0,a.e7)([c.Z],()=>c.Z.getFpMessageInfo(n)),T=m.attachments.map(e=>e.id),h=m.attachments.map(e=>e.filename),{reportFalsePositive:N,isReportFalsePositiveLoading:f}=(0,d.$)({onSuccess:()=>{(0,u.s)(I),l.Z.disableFalsePositiveButton(t,n)},onError:()=>{(0,s.showToast)((0,s.createToast)(_.Z.Messages.ERROR_GENERIC_TITLE,s.ToastType.FAILURE))},report:()=>{(0,r.Eq)(t,n,T,h)}});return!(m.attachments.length>0)&&I(),(0,i.jsx)(u.$,{messageId:n,channelId:t,isReportFalsePositiveLoading:f,analyticsContext:o.UU.EXPLICIT_MEDIA_SENDER_FALSE_POSITIVE_FLOW,onConfirmPress:N,transitionState:E,onClose:I})}},822869:function(e,t,n){n.d(t,{Lb:function(){return s},gP:function(){return r},sF:function(){return l}});var i=n(626135),a=n(981631);function s(e,t,n){i.default.track(a.rMx.FORWARD_MESSAGE_STARTED,{channel_id:e,message_id:t,source:n})}function l(e,t){i.default.track(a.rMx.FORWARD_MESSAGE_CANCELLED,{channel_id:e,message_id:t})}function r(e,t,n,s){i.default.track(a.rMx.FORWARD_MESSAGE_SENT,{channel_id:e,message_id:t,has_error:n,num_destinations:s})}},631184:function(e,t,n){n.d(t,{u:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2024-06_message_forward_breadcrumb",label:"Message forward breadcrumb",defaultConfig:{showForwardBreadcrumb:!0},treatments:[{id:1,label:"No breadcrumb",config:{showForwardBreadcrumb:!1}}]})},868643:function(e,t,n){n.d(t,{a:function(){return E},h:function(){return _}}),n(789020);var i=n(470079),a=n(442837),s=n(430198),l=n(378233),r=n(592125),o=n(630388),c=n(981631);let d=c.iLy.CROSSPOSTED|c.iLy.FAILED_TO_MENTION_SOME_ROLES_IN_THREAD|c.iLy.GUILD_FEED_HIDDEN|c.iLy.HAS_SNAPSHOT|c.iLy.HAS_THREAD|c.iLy.IS_CROSSPOST|c.iLy.IS_VOICE_MESSAGE|c.iLy.SHOULD_SHOW_LINK_NOT_DISCORD_WARNING|c.iLy.SUPPRESS_EMBEDS|c.iLy.SUPPRESS_NOTIFICATIONS|c.iLy.URGENT;function u(e){return e.state!==c.yb.SEND_FAILED&&!!c.V$x.FORWARDABLE.has(e.type)&&null==e.poll&&!(e.components.length>0)&&null==e.activity&&null==e.call&&null==e.interaction&&0===(0,o.Ge)(e.flags,d)&&!((0,l.cv)(e).length>0)&&!0}function _(e){var t;if(!u(e))return!1;let n=null===(t=r.Z.getChannel(e.channel_id))||void 0===t?void 0:t.guild_id;return!(null!=n&&s.Z.isChannelGated(n,e.channel_id))&&!0}function E(e){let t=(0,a.e7)([s.Z,r.Z],()=>{var t;if(null==e)return!1;let n=null===(t=r.Z.getChannel(e.channel_id))||void 0===t?void 0:t.guild_id;return null!=n&&s.Z.isChannelGated(n,e.channel_id)});return i.useMemo(()=>null!=e&&u(e),[e])&&!t}},100604:function(e,t,n){n.d(t,{r:function(){return T}});var i=n(933557),a=n(356264),s=n(592125),l=n(430824),r=n(496675),o=n(699516),c=n(594174),d=n(768581),u=n(55935),_=n(631184);n(978003);var E=n(689938);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return{originLabel:e.name,originIconUrl:d.ZP.getGuildIconURL({id:e.id,size:16,icon:e.icon,canAnimate:!1}),timestampLabel:t,accessibilityLabel:E.Z.Messages.MESSAGE_FORWARD_FOOTER_WITH_ORIGIN_A11Y.format({origin:e.name,timestamp:t})}}class T{getForwardInfo(){var e,t,n,d,I;let T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.Z,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default,N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Z,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.Z,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.Z,C=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a.Z,{snapshotIndex:g,parentMessage:S,messageSnapshot:A}=this,{showForwardBreadcrumb:R}=_.u.getCurrentConfig({location:"MessageForward"});if(!R)return{snapshotIndex:g};let x=(0,u.Xf)(A.message.timestamp),O=T.getChannel(this.parentMessage.channel_id);if(null!=O&&O.guild_id===(null===(e=S.messageReference)||void 0===e?void 0:e.guild_id)){let e=T.getChannel(null===(d=S.messageReference)||void 0===d?void 0:d.channel_id);if(null==e){let e=p.getGuild(O.guild_id);return null==e?{snapshotIndex:g}:{snapshotIndex:g,footerInfo:m(e,x)}}if(!f.can(e.accessPermissions,e))return{snapshotIndex:g};let t=(0,i.F6)(e,h,N,!0);return{snapshotIndex:g,footerInfo:{originLabel:t,timestampLabel:x,accessibilityLabel:E.Z.Messages.MESSAGE_FORWARD_FOOTER_WITH_ORIGIN_A11Y.format({origin:t,timestamp:x})}}}let M=null===(t=S.messageReference)||void 0===t?void 0:t.guild_id;if(null==M)return{snapshotIndex:g};let v=null!==(I=p.getGuild(M))&&void 0!==I?I:C.getGuild(M);if(null==v)return{snapshotIndex:g};let L=T.getChannel(null===(n=S.messageReference)||void 0===n?void 0:n.channel_id);return null==L||f.can(L.accessPermissions,L)?{snapshotIndex:g,footerInfo:m(v,x)}:{snapshotIndex:g}}constructor(e,t,n){I(this,"parentMessage",void 0),I(this,"messageSnapshot",void 0),I(this,"snapshotIndex",void 0),this.parentMessage=e,this.messageSnapshot=t,this.snapshotIndex=n}}},876338:function(e,t,n){n.d(t,{j:function(){return s}});var i=n(406432),a=n(981631);function s(e,t){let{targetKind:n,embedIndex:s}=t;if("media"===n){var l,r;let t=e;return(null===(l=e.messageReference)||void 0===l?void 0:l.type)===a.Uvt.FORWARD&&(t=null===(r=e.messageSnapshots[0])||void 0===r?void 0:r.message),{onlyAttachmentIds:null==t?void 0:t.attachments.filter(e=>{let{filename:t}=e;return(0,i.CO)(t)||(0,i.NU)(t)}).map(e=>e.id)}}if("embed"===n&&null!=s)return{onlyEmbedIndices:[s]}}},694784:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(336197),a=n(592125),s=n(430824),l=n(900849),r=n(981631);async function o(e){if(null==e.messageReference)return;let t=e.messageReference.guild_id,n=e.messageReference.channel_id,o=a.Z.getChannel(n);if(null==o&&null!=t&&null==s.Z.getGuild(t))try{await (0,l.Ub)(t,{},{channelId:n}),o=a.Z.getChannel(n)}catch{}(0,i.Z)(r.Z5c.CHANNEL(t,n,e.messageReference.message_id),void 0)}},394779:function(e,t,n){n.d(t,{s:function(){return T}});var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(481060),o=n(346610),c=n(868643),d=n(912332),u=n(503349),_=n(689938),E=n(789447);function I(){(0,r.closeModal)(u.c)}function m(e){let{className:t,channelId:n,messageId:s,target:o}=e,c=a.useCallback(()=>{if("embed"===o.type){(0,d.l8)({messageId:s,channelId:n,source:"media-viewer",forwardOptions:{onlyEmbedIndices:[o.embedIndex]},onRequestSent:I});return}(0,d.l8)({messageId:s,channelId:n,source:"media-viewer",forwardOptions:{onlyAttachmentIds:[o.attachmentId]},onRequestSent:I})},[n,s,o]);return(0,i.jsx)(r.Clickable,{className:l()(E.container,t),onClick:c,children:(0,i.jsx)(r.Text,{className:E.text,variant:"text-sm/medium",color:"always-white",children:_.Z.Messages.MESSAGE_ACTION_FORWARD})})}function T(e,t){let{canForwardMessages:n}=o.w.getCurrentConfig({location:"ForwardLink"},{autoTrackExposure:!1});return n&&(0,c.h)(e)?n=>{let{className:a}=n;return(0,i.jsx)(m,{className:a,channelId:e.channel_id,messageId:e.id,target:t})}:()=>null}},912332:function(e,t,n){n.d(t,{Np:function(){return c},l8:function(){return r},mc:function(){return o}});var i=n(735250);n(470079);var a=n(481060),s=n(822869);let l="forward-modal";function r(e){let{messageId:t,channelId:r,source:o,initialSelectedDestinations:c=[],forwardOptions:d,onRequestSent:u}=e;(0,s.Lb)(r,t,o),(0,a.openModalLazy)(async()=>{let{ForwardModal:e}=await Promise.all([n.e("6380"),n.e("35494")]).then(n.bind(n,930864));return n=>(0,i.jsx)(e,{...n,channelId:r,messageId:t,initialSelectedDestinations:c,forwardOptions:d,onRequestSent:u})},{modalKey:l})}function o(){(0,a.closeModal)(l)}function c(e){let{messageId:t,channelId:s,failedDestinations:l,forwardOptions:r}=e;(0,a.openModalLazy)(async()=>{let{ForwardFailedAlertModal:e}=await n.e("86590").then(n.bind(n,384331));return n=>(0,i.jsx)(e,{...n,messageId:t,channelId:s,failedDestinations:l,forwardOptions:r})})}},294734:function(e,t,n){n.d(t,{Z:function(){return L}});var i=n(735250),a=n(470079),s=n(793030),l=n(442837),r=n(902704),o=n(692547),c=n(481060),d=n(356264),u=n(628238),_=n(25015),E=n(438075),I=n(695346),m=n(592125),T=n(906467),h=n(430824),N=n(496675),f=n(699516),p=n(594174),C=n(113039),g=n(100604),S=n(694784),A=n(39154),R=n(689938),x=n(414700);function O(){return(0,i.jsxs)("div",{className:x.headerContainer,children:[(0,i.jsx)(c.ChatArrowRightIcon,{size:"xs",className:x.headerIcon,color:o.Z.colors.TEXT_LOW_CONTRAST}),(0,i.jsx)(s.x,{className:x.headerText,variant:"text-sm/semibold",color:"text-low-contrast",children:R.Z.Messages.MESSAGE_FORWARDED})]})}function M(e){let{message:t,snapshot:n,index:u}=e,_=a.useMemo(()=>new g.r(t,n,u),[t,n,u]),E=(0,l.e7)([m.Z,p.default,f.Z,N.Z,h.Z,d.Z],()=>_.getForwardInfo(m.Z,p.default,f.Z,N.Z,h.Z,d.Z).footerInfo,[_],r.Z),I=a.useCallback(()=>{(0,S.Z)(t)},[t]);return null==E?null:(0,i.jsxs)(c.Clickable,{className:x.footerContainer,onClick:I,children:[null!=E.originIconUrl?(0,i.jsx)("img",{className:x.originIcon,src:E.originIconUrl,alt:""}):null,(0,i.jsx)(s.x,{className:x.footerText,variant:"text-sm/medium",color:"none",children:"".concat(E.originLabel,"  •  ").concat(E.timestampLabel)}),(0,i.jsx)(c.ChevronSmallRightIcon,{size:"xxs",color:o.Z.colors.TEXT_LOW_CONTRAST})]})}function v(e){var t;let{message:n,snapshot:s,index:r}=e,o=a.useMemo(()=>(0,A.Z)(n,s),[n,s]),c=I.RS.useSetting(),d=I.NA.useSetting(),h=(0,l.e7)([T.Z],()=>T.Z.isDeveloper),N=(0,u.A)((null!==(t=o.editedTimestamp)&&void 0!==t?t:o.timestamp).valueOf()),{content:f,hasSpoilerEmbeds:p}=(0,_.Z)(o,{hideSimpleEmbedContent:c&&d,isInteracting:!1,formatInline:!1,allowList:N,allowHeading:N,allowLinks:!0,allowDevLinks:h,previewLinkTarget:!0}),g=(0,l.e7)([m.Z],()=>m.Z.getChannel(n.channel_id)),S=I.jU.useSetting();return null==g?null:(0,i.jsxs)("div",{className:x.container,children:[(0,i.jsx)("div",{className:x.quote}),(0,i.jsxs)("div",{className:x.content,children:[(0,i.jsx)(O,{}),(0,i.jsx)(C.ZP,{message:o,content:f}),(0,E.Z)({channelMessageProps:{message:o,channel:g,compact:S},hasSpoilerEmbeds:p,isInteracting:!1,isMessageSnapshot:!0}),(0,i.jsx)(M,{message:n,snapshot:s,index:r})]})]},r)}function L(e){let{message:t}=e;return(0,i.jsx)(i.Fragment,{children:t.messageSnapshots.map((e,n)=>(0,i.jsx)(v,{message:t,snapshot:e,index:n},n))})}},426275:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250),a=n(470079),s=n(692547),l=n(481060),r=n(375954),o=n(876338),c=n(912332),d=n(689938);function u(e){let{className:t,channelId:n,messageId:u,targetKind:_,embedIndex:E}=e,I=a.useCallback(()=>{let e=r.Z.getMessage(n,u);if(null==e)return;let t=(0,o.j)(e,{targetKind:_,embedIndex:E});(0,c.l8)({channelId:n,messageId:u,source:"message-actions",forwardOptions:t})},[n,E,u,_]);return(0,i.jsx)(l.CircleIconButton,{className:t,tooltip:d.Z.Messages.MESSAGE_ACTION_FORWARD,color:l.CircleIconButtonColors.SECONDARY,icon:(0,i.jsx)(l.ChatArrowRightIcon,{size:"xs",color:s.Z.colors.INTERACTIVE_NORMAL}),onClick:I})}},317632:function(e,t,n){n(47120);var i,a,s,l,r=n(442837),o=n(570140),c=n(823379),d=n(981631);let u=[],_={},E=null,I=0;function m(e){let t=null;try{t=JSON.parse(e.launch_parameters)}catch{return null}if(e.platform_type===d.ABu.XBOX){let n=null==t?void 0:t.titleId,i=null==t?void 0:t.inviteToken;return null==n||null==i?null:{...e,parsed_launch_parameters:{titleId:n,inviteToken:i}}}return null}class T extends(i=r.ZP.Store){getInvites(){return u}getInviteStatuses(){return _}isInviteGameInstalled(e){var t;return null===(t=_[e.invite_id])||void 0===t?void 0:t.installed}isInviteJoinable(e){var t;return null===(t=_[e.invite_id])||void 0===t?void 0:t.joinable}getLastUnseenInvite(){return E}getUnseenInviteCount(){return I}}l="GameInviteStore",(s="displayName")in(a=T)?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,t.Z=new T(o.Z,{CONNECTION_OPEN_SUPPLEMENTAL:function(e){let{gameInvites:t}=e;u=t.map(m).filter(c.lm)},GAME_INVITE_CREATE:function(e){let{gameInvite:t}=e,n=m(t);null!=n&&(u=[n,...u],E=t,I+=1)},GAME_INVITE_DELETE:function(e){let{inviteId:t}=e;u=u.filter(e=>e.invite_id!==t)},GAME_INVITE_DELETE_MANY:function(e){let{inviteIds:t}=e;u=u.filter(e=>!t.includes(e.invite_id))},GAME_INVITE_UPDATE_STATUS:function(e){(_={..._})[e.inviteId]={installed:e.installed,joinable:e.joinable}},GAME_INVITE_CLEAR_UNSEEN:function(e){E=null,I=0}})},602478:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2023-11_xbox_game_invites",label:"Xbox Game Invites Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Xbox Game Invites UI Enabled",config:{enabled:!0}}]});t.Z=i},174767:function(e,t,n){n.d(t,{Br:function(){return o},MH:function(){return c},Ol:function(){return d},TG:function(){return E},UF:function(){return _},sJ:function(){return u}}),n(411104);var i=n(544891),a=n(570140),s=n(439849),l=n(358085),r=n(981631);async function o(e){if(e.platform_type===r.ABu.XBOX){let t=e.parsed_launch_parameters.titleId,n=e.parsed_launch_parameters.inviteToken;if(!(0,l.isWindows)()||null==t||null==n)return;let i=await I(t,!1),s=await T(n);a.Z.dispatch({type:"GAME_INVITE_UPDATE_STATUS",inviteId:e.invite_id,installed:i,joinable:s})}else throw Error("Unsupported invite platform "+e.platform_type)}async function c(e){if(e.platform_type===r.ABu.XBOX){let t=e.parsed_launch_parameters.titleId;return!!(0,l.isWindows)()&&null!=t&&await m(t)}throw Error("Unsupported invite platform "+e.platform_type)}async function d(e){if(e.platform_type===r.ABu.XBOX){let t=e.parsed_launch_parameters.inviteToken;return!!(0,l.isWindows)()&&null!=t&&await h(t)}throw Error("Unsupported invite platform "+e.platform_type)}function u(){a.Z.dispatch({type:"GAME_INVITE_CLEAR_UNSEEN"})}async function _(e){await i.tn.del({url:r.ANM.GAME_INVITE(e.invite_id)})}async function E(){await i.tn.del({url:r.ANM.GAME_INVITES})}async function I(e,t){if(!(0,l.isWindows)())return!1;let n=await (0,s.Z)();return new Promise((i,a)=>{if((null==n?void 0:n.xboxIsApplicationInstalled)==null){a(Error("Game utils module not loaded"));return}n.xboxIsApplicationInstalled(e,t,e=>{i(e)})})}async function m(e){if(!(0,l.isWindows)())return!1;let t=await (0,s.Z)();return new Promise((n,i)=>{if((null==t?void 0:t.xboxLaunchGame)==null){i(Error("Game utils module not loaded"));return}t.xboxLaunchGame(e,e=>{n(e)})})}async function T(e){if(!(0,l.isWindows)())return!1;let t=await (0,s.Z)();return new Promise((n,i)=>{if((null==t?void 0:t.xboxIsInviteTokenValid)==null){i(Error("Game utils module not loaded"));return}t.xboxIsInviteTokenValid(e,e=>{n(e)})})}async function h(e){if(!(0,l.isWindows)())return!1;let t=await (0,s.Z)();return new Promise((n,i)=>{if((null==t?void 0:t.xboxAcceptGameInvite)==null){i(Error("Game utils module not loaded"));return}t.xboxAcceptGameInvite(e,e=>{n(e)})})}},646288:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(937615),a=n(689938);function s(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.available)return a.Z.Messages.GAME_ACTION_BUTTON_UNAVAILABLE;if(e.premium&&!n)return a.Z.Messages.APPLICATION_STORE_FREE_WITH_PREMIUM;let s=e.getPrice(null,t);if(null!=s)return s.amount>0?(0,i.T4)(s.amount,s.currency):a.Z.Messages.APPLICATION_STORE_FREE;return a.Z.Messages.GAME_ACTION_BUTTON_UNAVAILABLE}},615365:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2023-08_guild_usage_survey",label:"Guild Usage Survey",defaultConfig:{showSurvey:!1},treatments:[{id:1,label:"show survey nag bar",config:{showSurvey:!0}}]});t.Z=i},858822:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(735250);n(470079);var a=n(913527),s=n.n(a),l=n(442837),r=n(481060),o=n(92114),c=n(776568),d=n(777861),u=n(9156),_=n(621600),E=n(689938);function I(e,t){let n=null==e?void 0:e.id,{muted:a,muteConfig:I}=(0,l.cj)([u.ZP],()=>({muted:null!=n?u.ZP.isMuted(n):void 0,muteConfig:null!=n?u.ZP.getMuteConfig(n):void 0}),[n]),m=(0,d.U)(I);return null==n?null:a?(0,i.jsx)(r.MenuItem,{id:"unmute-guild",label:E.Z.Messages.UNMUTE_SERVER,subtext:m,action:()=>o.Z.updateGuildNotificationSettings(n,{muted:!1},_.ZB.Unmuted)}):(0,i.jsx)(r.MenuItem,{id:"mute-guild",label:E.Z.Messages.MUTE_SERVER,action:()=>o.Z.updateGuildNotificationSettings(n,{muted:!0},_.ZB.Muted),children:(0,c.k)().map(e=>{let{value:a,label:l}=e;return(0,i.jsx)(r.MenuItem,{id:"".concat(a),label:l,action:()=>(function(e){if(null==n)return;let i=e>0?s()().add(e,"second").toISOString():null;o.Z.updateGuildNotificationSettings(n,{muted:!0,mute_config:{selected_time_window:e,end_time:i}},_.ZB.Muted,t)})(a)},a)})})}},506357:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(241559),o=n(527379),c=n(430824),d=n(944486),u=n(914010),_=n(346656),E=n(626135),I=n(528011),m=n(666657),T=n(533244),h=n(981631),N=n(176505),f=n(689938),p=n(928112);function C(e){var t,C;let{onDismiss:g}=e,S=(0,s.e7)([u.Z],()=>u.Z.getGuildId()),A=(0,s.e7)([d.Z],()=>null!=S?d.Z.getChannelId(S):null,[S]),R=null!=S?S:null,x=(0,s.e7)([c.Z],()=>null!=R?c.Z.getGuild(R):null,[R]),{shouldShowIncidentActions:O,incidentData:M,isUnderLockdown:v}=(0,I.mI)(R),L=(0,r.n2)(null!==(t=null==x?void 0:x.id)&&void 0!==t?t:h.lds),Z=a.useCallback(()=>null!=x&&(0,o._X)(x.id),[x]);if(null==x||null==M||!O)return null;let P=e=>{if(e&&L&&A!==N.oC.MEMBER_SAFETY&&Z()){E.default.track(h.rMx.APP_NOTICE_PRIMARY_CTA_OPENED,{notice_type:h.kVF.GUILD_RAID_NOTIFICATION,guild_id:x.id});return}(0,l.openModalLazy)(async()=>{let e={source:m.Zu.NAGBAR,alertType:(0,T.T1)(M)},{default:t}=await n.e("58175").then(n.bind(n,664452));return n=>(0,i.jsx)(t,{...n,guildId:x.id,analyticsData:e})})},b=(0,i.jsx)(_.Z,{className:p.guildIcon,guild:x,size:_.Z.Sizes.MINI}),D=(0,T.OY)(M,x.name);if(null!=(null!==(C=M.dmsDisabledUntil)&&void 0!==C?C:M.invitesDisabledUntil)&&v)return(0,i.jsxs)(l.Notice,{className:p.notice,color:l.NoticeColors.NEUTRAL,children:[(0,i.jsx)(l.NoticeCloseButton,{onClick:g,noticeType:h.kVF.GUILD_RAID_NOTIFICATION}),b,D,(0,i.jsx)(l.NoticeButton,{className:p.actionButton,onClick:()=>P(!1),children:(0,i.jsxs)("div",{className:p.actionButtonInner,children:[(0,i.jsx)(l.LockIcon,{size:"xs",color:"currentColor"}),(0,i.jsx)("span",{children:f.Z.Messages.GUILD_ANTIRAID_LOCKDOWN_NAGBAR_ACTION})]})})]});let j=(0,T.CG)(M)?f.Z.Messages.GUILD_ANTIRAID_NAGBAR_RAID_MESSAGE_2_NEW.format({guildName:x.name}):(0,T.kk)(M)?f.Z.Messages.GUILD_ANTIRAID_NAGBAR_DM_RAID_MESSAGE_2_NEW.format({guildName:x.name}):f.Z.Messages.GUILD_ANTIRAID_NAGBAR_MESSAGE_2_NEW.format({guildName:x.name}),U=L&&A===N.oC.MEMBER_SAFETY;return(0,i.jsxs)(l.Notice,{className:p.notice,color:l.NoticeColors.WARNING,children:[(0,i.jsx)(l.NoticeCloseButton,{onClick:g,noticeType:h.kVF.GUILD_RAID_NOTIFICATION}),b,j,!U&&(0,i.jsx)(l.NoticeButton,{className:p.actionButton,onClick:()=>P(!0),children:(0,i.jsx)("div",{className:p.actionButtonInner,children:(0,i.jsx)("span",{children:f.Z.Messages.GUILD_ANTIRAID_NAGBAR_ACTION_VIEW})})})]})}},295474:function(e,t,n){n.d(t,{Ux:function(){return N},gS:function(){return f},ww:function(){return p}}),n(789020);var i=n(470079),a=n(399606),s=n(230711),l=n(906732),r=n(18438),o=n(314897),c=n(271383),d=n(430824),u=n(496675),_=n(914010),E=n(715903),I=n(981631),m=n(372897),T=n(526761),h=n(689938);function N(e){return(0,a.e7)([o.default,c.ZP],()=>{if(null==e)return!1;let t=o.default.getId();return(0,E.EY)(c.ZP.getMember(e,t))},[e])}function f(e){return(0,a.cj)([o.default,c.ZP,_.Z,d.Z],()=>{let t={nick:void 0,bio:void 0},n=_.Z.getGuildId(),i=null!=e?e:n,a=d.Z.getGuild(i);if(null==a||null==i)return t;let s=o.default.getId(),l=c.ZP.getMember(i,s),r=(0,E.Ow)(null==l?void 0:l.flags);if(0===r.size)return t;if(r.has(m.q.AUTOMOD_QUARANTINED_USERNAME_OR_GUILD_NICKNAME)){if(null==e){var u;t.nick=[h.Z.Messages.GUILD_AUTOMOD_PROFILE_ERROR_QUARANTINE_USERNAME_IN_GUILD.format({guildName:null!==(u=a.name)&&void 0!==u?u:""})]}else t.nick=[h.Z.Messages.GUILD_AUTOMOD_PROFILE_ERROR_QUARANTINE_USERNAME]}return r.has(m.q.AUTOMOD_QUARANTINED_BIO)&&(t.bio=[h.Z.Messages.GUILD_AUTOMOD_PROFILE_ERROR_QUARANTINE_BIO]),t},[e])}function p(e){let{guildId:t,scrollPosition:n,analyticsLocation:o,analyticsLocations:c,openWithoutBackstack:_}=e,{analyticsLocations:E}=(0,l.ZP)(),m=(0,a.e7)([d.Z],()=>d.Z.getGuild(t),[t]),h=(0,a.e7)([u.Z],()=>null!=m&&u.Z.can(I.Plq.CHANGE_NICKNAME,m),[m]);return[i.useCallback(()=>{if(null==m)return;let e=I.oAB.PROFILE_CUSTOMIZATION,t=T.NB.GUILD;h?(0,r.Fq)(m,null!=c?c:E):t=T.NB.USER_PROFILE,s.Z.open(e,t,{scrollPosition:n,analyticsLocation:o,analyticsLocations:c,openWithoutBackstack:_})},[h,n,o,c,_,m,E]),h]}},236069:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120);var i=n(735250);n(470079);var a=n(481060),s=n(295474),l=n(689938),r=n(596791);function o(e){let{guildId:t,analyticsLocations:n,analyticsLocation:o}=e,[c,d]=(0,s.ww)({guildId:t,analyticsLocations:n,analyticsLocation:o,openWithoutBackstack:!0}),u=d?l.Z.Messages.GUILD_AUTOMOD_NAGBAR_QUARANTINED_USER_PROFILE:l.Z.Messages.GUILD_AUTOMOD_NAGBAR_QUARANTINED_USER_PROFILE_NO_PERMS,_=d?l.Z.Messages.GUILD_AUTOMOD_NAGBAR_QUARANTINED_USER_PROFILE_CTA:l.Z.Messages.GUILD_AUTOMOD_NAGBAR_QUARANTINED_ACCOUNT_USERNAME_CTA;return(0,i.jsxs)(a.Notice,{color:a.NoticeColors.CUSTOM,className:r.quarantineNotice,children:[u,(0,i.jsx)(a.NoticeButton,{onClick:c,children:_})]})}},574650:function(e,t,n){n(653041),n(47120);var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(266067),r=n(442837),o=n(481060),c=n(430824),d=n(914010),u=n(693546),_=n(305325),E=n(246364),I=n(937111),m=n(981631),T=n(176505),h=n(689938),N=n(415706),f=n(40578);t.Z=()=>{var e,t;let a=(0,r.e7)([d.Z],()=>d.Z.getGuildId(),[]),p=(0,r.e7)([c.Z],()=>c.Z.getGuild(a),[a]),C=(0,r.e7)([I.Z],()=>null!=a?I.Z.getRequest(a):null,[a]),g=(0,l.TH)(),S=(null===(e=(0,l.LX)(g.pathname,m.Z5c.CHANNEL(null==p?void 0:p.id,T.oC.GUILD_ONBOARDING)))||void 0===e?void 0:e.isExact)===!0;if(null==p||!p.hasVerificationGate()||S)return null;let A=null!==(t=null==C?void 0:C.applicationStatus)&&void 0!==t?t:E.wB.STARTED,R=null,x=null,O=null,M=[N.notice,f.notice];switch(A){case E.wB.SUBMITTED:R=h.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE,x=h.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION,O=()=>{(0,o.openModal)(e=>(0,i.jsx)(o.ConfirmModal,{header:h.Z.Messages.MODIFY_FOLLOWED_NEWS_HEADER,confirmText:h.Z.Messages.CONFIRM,cancelText:h.Z.Messages.CANCEL,onConfirm:()=>u.Z.removeGuildJoinRequest(p.id),confirmButtonColor:o.Button.Colors.BRAND,...e,children:(0,i.jsx)(o.Text,{variant:"text-md/normal",children:h.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE})}))};break;case E.wB.REJECTED:R=h.Z.Messages.MEMBER_VERIFICATION_REJECTED_TITLE,x=h.Z.Messages.MEMBER_VERIFICATION_LEARN_MORE,O=()=>{(0,o.openModalLazy)(async()=>{let{default:e}=await n.e("3378").then(n.bind(n,76075));return t=>(0,i.jsx)(e,{guildId:p.id,...t})})},M.push(N.error);break;default:R=h.Z.Messages.MEMBER_VERIFICATION_NOTICE_TEXT,x=h.Z.Messages.MEMBER_VERIFICATION_NOTICE_CTA,O=()=>{(0,_.hk)(p.id)}}return(0,i.jsxs)("div",{className:s()(...M),children:[(0,i.jsx)(o.Text,{className:N.header,variant:"text-sm/normal",children:R}),(0,i.jsx)(o.Button,{className:N.button,look:o.Button.Looks.OUTLINED,color:o.Button.Colors.WHITE,size:o.Button.Sizes.NONE,onClick:O,children:x})]})}},33885:function(e,t,n){n.d(t,{Z:function(){return T}});var i=n(735250),a=n(470079),s=n(399606),l=n(704215),r=n(481060),o=n(605236),c=n(434404),d=n(430824),u=n(914010),_=n(626135),E=n(150340),I=n(981631),m=n(689938);function T(e){let{dismissCurrentNotice:t}=e,n=(0,s.e7)([u.Z],()=>u.Z.getGuildId(),[]),T=(0,s.e7)([d.Z],()=>d.Z.getGuild(n),[n]);return(a.useEffect(()=>{(0,o.kk)(l.z.GUILD_ONBOARDING_UPSELL_NAGBAR)},[]),null==T)?null:(0,i.jsxs)(r.Notice,{color:r.NoticeColors.DEFAULT,children:[(0,i.jsx)(r.NoticeCloseButton,{onClick:()=>{_.default.track(I.rMx.UPSELL_CLICKED,{type:l.z[l.z.GUILD_ONBOARDING_UPSELL_NAGBAR],action:"dismiss"}),t(),(0,E.G)(T.id,l.z.GUILD_ONBOARDING_UPSELL_NAGBAR)}}),m.Z.Messages.GUILD_ONBOARDING_NAGBAR_MESSAGE,(0,i.jsx)(r.NoticeButton,{onClick:()=>{_.default.track(I.rMx.UPSELL_CLICKED,{type:l.z[l.z.GUILD_ONBOARDING_UPSELL_NAGBAR],action:"primary"}),c.Z.open(T.id,I.pNK.ONBOARDING),(0,E.G)(T.id,l.z.GUILD_ONBOARDING_UPSELL_NAGBAR)},children:m.Z.Messages.GUILD_ONBOARDING_UPSELL_COACHMARK_CHECK_IT_OUT})]})}},179838:function(e,t,n){n.d(t,{L:function(){return a}});var i=n(782568);function a(e){return(0,i.Z)(e)}},406877:function(e,t,n){n.d(t,{Z:function(){return c}}),n(47120);var i=n(470079),a=n(668781),s=n(881052),l=n(824389),r=n(179838),o=n(689938);function c(e,t){let[n,c]=i.useState(!1);return{isLoading:n,downloadAttachment:i.useCallback(async n=>{if(null!=e&&null!=t){c(!0);try{let{url:i}=await l.gs({guildId:e,productId:t,attachmentId:n});await r.L(i)}catch(t){let e=t instanceof s.Hx?t.getAnyErrorMessage():void 0;a.Z.show({title:o.Z.Messages.ERROR_GENERIC_TITLE,body:null!=e?e:o.Z.Messages.GENERIC_ERROR_BODY})}finally{c(!1)}}},[e,t])}}},623488:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(481060),r=n(240657),o=n(765400),c=n(153124),d=n(916001),u=n(689938),_=n(509365);function E(e){let{hidePurchaseToUnlockBadge:t,showDraftBadge:n,className:a,children:r}=e;return(0,i.jsxs)("div",{className:s()(_.productThumbnailContainer,a),children:[r,!t&&(0,i.jsxs)("div",{className:_.purchaseToUnlockBadge,children:[(0,i.jsx)(l.LockIcon,{size:"xs",className:_.lockIcon,color:"currentColor","aria-hidden":!0}),(0,i.jsx)(l.Text,{variant:"text-sm/normal",color:"always-white",className:_.__invalid_unlockText,children:u.Z.Messages.GUILD_PRODUCT_CARD_PURCHASE_TO_UNLOCK})]}),n&&(0,i.jsx)("div",{className:_.draftBadge,children:(0,i.jsx)(o.v,{})})]})}function I(e){let{onShowFullDescription:t,variant:n}=e,a=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Text,{variant:n,color:null!=t?"text-link":"interactive-hover",children:u.Z.Messages.GUILD_PRODUCT_CARD_SEE_FULL_DESCRIPTION}),(0,i.jsx)(l.ArrowSmallRightIcon,{size:"xs",color:"currentColor",className:_.arrowIcon})]});return null==t?(0,i.jsx)("div",{className:_.showMoreButton,children:a}):(0,i.jsx)(l.Clickable,{className:s()(_.showMoreButton,_.hasAction),onClick:e=>{e.stopPropagation(),null!=t&&t()},children:a})}function m(e){let{imageUrl:t,name:n,description:a,formattedPrice:o,role:m,ctaComponent:T,shouldShowFullDescriptionButton:h=!0,onShowFullDescription:N,productType:f,onTapCard:p,actionMenu:C,showOpaqueBackground:g=!1,hideRoleTag:S=!1,lineClamp:A=1,cardWidth:R=332,cardHeight:x,thumbnailHeight:O=187,descriptionTextVariant:M="text-sm/normal",isDraft:v=!1}=e,L=(0,c.hQ)(),Z=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E,{showDraftBadge:v,hidePurchaseToUnlockBadge:!0,children:(0,i.jsx)("img",{alt:"",src:t,className:_.productThumbnail,style:{height:O}})}),(0,i.jsxs)("div",{className:_.productDetails,children:[(0,i.jsxs)("div",{className:_.productDetailContent,children:[(0,i.jsx)(l.Heading,{variant:"text-md/medium",color:"header-primary",className:_.productName,id:L,children:n}),(0,i.jsx)(l.FocusBlock,{children:(0,i.jsx)(r.Z,{variant:M,color:"text-muted",lineClamp:A,text:a})}),h&&(0,i.jsx)(I,{onShowFullDescription:N,variant:M}),S||null==m||""===m.name?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Spacer,{size:16}),(0,i.jsx)(d.Z,{role:m})]})]}),C]}),(0,i.jsxs)("div",{className:_.purchaseDetails,children:[(0,i.jsx)(l.Text,{variant:"text-md/medium",color:"interactive-active",className:_.__invalid_productPrice,children:null!=o?o:u.Z.Messages.GUILD_PRODUCT_CARD_EMPTY_PRICE}),(0,i.jsx)(l.Text,{variant:"text-xxs/normal",color:"text-normal",className:_.__invalid_productType,children:f}),(0,i.jsx)("div",{className:_.productActionButton,onClick:e=>{e.stopPropagation()},children:T})]})]});return null==p?(0,i.jsx)("article",{className:s()(_.productCard,g?_.opaqueBackground:_.solidBackground),"aria-labelledby":L,children:Z}):(0,i.jsx)("div",{style:{width:R,height:x},children:(0,i.jsx)(l.ClickableContainer,{tag:"article","aria-label":u.Z.Messages.GUILD_SHOP_LISTING_CARD_A11Y_LABEL.format({productName:n}),className:s()(_.productCard,g?_.opaqueBackground:_.solidBackground,_.cardClickableContainer),onClick:p,children:Z})})}},637618:function(e,t,n){n.d(t,{Z:function(){return _}}),n(47120);var i=n(735250);n(470079);var a=n(990547),s=n(399606),l=n(100527),r=n(213609),o=n(914010),c=n(267101),d=n(675297),u=n(20281);function _(e){let{code:t}=e,[n,_]=t.split("-"),E=(0,c.hO)(n,_),I=(0,s.e7)([o.Z],()=>o.Z.getGuildId());return((0,r.Z)({type:u.n.VIEW,name:a.ImpressionNames.GUILD_PRODUCT_LISTING_EMBED,properties:{guild_product_listing_id:_,has_entitlement:(null==E?void 0:E.has_entitlement)===!0}},{disableTrack:null==E}),null==E||I!==n)?null:(0,i.jsx)(d.H,{guildProductListing:E,guildId:n,location:l.Z.GUILD_PRODUCT_EMBED_CARD,cardWidth:390,thumbnailHeight:219})}},596211:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var a=n(481060),s=n(406877);function l(e){let{guildId:t,productId:n,attachmentId:l,...r}=e,{isLoading:o,downloadAttachment:c}=(0,s.Z)(t,n);return(0,i.jsx)(a.Button,{...r,submitting:o,onClick:function(){c(l)}})}},400916:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(735250);n(470079);var a=n(512722),s=n.n(a),l=n(399606),r=n(481060),o=n(671533),c=n(240864),d=n(613810),u=n(596211),_=n(689938),E=n(7438);function I(e){var t,n,a,I;let{guildId:m,productId:T}=e,h=(0,l.e7)([c.Z],()=>c.Z.getGuildProduct(T)),N=(null!==(I=null==h?void 0:null===(t=h.attachments)||void 0===t?void 0:t.length)&&void 0!==I?I:0)>1,f=null==h?void 0:null===(a=h.attachments)||void 0===a?void 0:null===(n=a[0])||void 0===n?void 0:n.id;return N?(0,i.jsxs)(r.Button,{onClick:function(){d.Z.open({guildId:m,productId:T})},innerClassName:E.textWithIcon,children:[(0,i.jsx)("div",{children:_.Z.Messages.GUILD_PRODUCT_DOWNLOAD_BUTTON_MULTIPLE_FILES}),(0,i.jsx)(r.Spacer,{size:8,horizontal:!0}),(0,i.jsx)(o.Z,{width:16,height:16,direction:o.Z.Directions.RIGHT})]}):(s()(null!=f,"No attachment"),(0,i.jsxs)(u.Z,{guildId:m,productId:T,attachmentId:f,innerClassName:E.textWithIcon,children:[(0,i.jsx)("div",{children:_.Z.Messages.GUILD_PRODUCT_DOWNLOAD_BUTTON_SINGLE_FILE}),(0,i.jsx)(r.Spacer,{size:8,horizontal:!0}),(0,i.jsx)(r.DownloadIcon,{size:"xs",color:"currentColor"})]}))}},675297:function(e,t,n){n.d(t,{H:function(){return f}});var i=n(735250);n(470079);var a=n(399606),s=n(166081),l=n(54797),r=n(674180),o=n(430824),c=n(572004),d=n(267101),u=n(863663),_=n(676651),E=n(623488),I=n(942833),m=n(391181),T=n(964793),h=n(226060),N=n(981631);function f(e){let{guildProductListing:t,guildId:n,location:f,shouldShowFullDescriptionButton:p=!0,hideRoleTag:C=!1,lineClamp:g=1,cardWidth:S,cardHeight:A,thumbnailHeight:R,descriptionTextVariant:x="text-sm/normal",showOpaqueBackground:O=!1}=e,M=(0,a.e7)([o.Z],()=>o.Z.getGuild(n),[n]),v=(0,a.e7)([o.Z],()=>{var e;return o.Z.getRole(n,null!==(e=null==t?void 0:t.role_id)&&void 0!==e?e:N.lds)}),L=(0,s.U)(t,600),Z=(0,I.C)(t),P=(0,d.SO)(M),{shouldHideGuildPurchaseEntryPoints:b}=(0,r.uP)(n),D=(0,I.k)(t);if(null==M||b)return null;let j=()=>(0,T.e)({guildId:n,guildProductListingId:t.id,analyticsLocation:f}),U=(0,i.jsx)(m.m,{product:t,guildId:n,showEditProduct:P,showUnpublishProduct:!1,showCopyLink:!0,showTestDownload:!1,showDeleteProduct:!1,showReportProduct:!0,onEditProduct:P?()=>{_.h(M.id,t.id)}:()=>{},onUnpublishProduct:()=>{},onDeleteProduct:()=>{},onReportProduct:()=>{(0,l.x)({listing:t})},onCopyProductLink:()=>{(0,c.JG)((0,u.ar)(n,t.id))},onTestDownload:()=>{}});return(0,i.jsx)(E.Z,{imageUrl:L,name:t.name,description:t.description,formattedPrice:D,role:v,ctaComponent:(0,i.jsx)(h.Z,{guildId:n,guildProductListingId:t.id,sourceAnalyticsLocations:f}),productType:Z,shouldShowFullDescriptionButton:p,onShowFullDescription:j,onTapCard:j,actionMenu:U,showOpaqueBackground:O,hideRoleTag:C,lineClamp:g,cardWidth:S,cardHeight:A,thumbnailHeight:R,descriptionTextVariant:x,isDraft:!t.published},t.id)}},226060:function(e,t,n){n.d(t,{Z:function(){return T}});var i=n(735250);n(470079);var a=n(512722),s=n.n(a),l=n(399606),r=n(481060),o=n(607070),c=n(430824),d=n(506071),u=n(267101),_=n(240864),E=n(57949),I=n(400916),m=n(689938);function T(e){let{guildId:t,guildProductListingId:n,sourceAnalyticsLocations:a}=e,T=(0,l.e7)([_.Z],()=>_.Z.getGuildProduct(n)),h=(0,l.e7)([c.Z],()=>c.Z.getGuild(t),[t]),N=(0,l.e7)([o.Z],()=>o.Z.useReducedMotion),f=(0,d.n)();if(s()(null!=h,"guild cannot be null"),s()(null!=T,"guildProductListing cannot be null"),(0,u.SO)(h))return(0,i.jsx)(r.Tooltip,{text:m.Z.Messages.GUILD_PRODUCT_PURCHASE_DISABLED_TOOLTIP,children:e=>(0,i.jsx)(r.Button,{...e,color:r.Button.Colors.BRAND,disabled:!0,children:m.Z.Messages.GUILD_PRODUCT_CARD_PURCHASE_BUTTON})});if(!T.has_entitlement)return(0,i.jsx)(r.ShinyButton,{shineSize:r.ShinyButton.ShineSizes.SMALL,pauseAnimation:N||!f,onClick:()=>(0,E.z)({guildProductListing:T,guildId:h.id,sourceAnalyticsLocations:a}),children:m.Z.Messages.GUILD_PRODUCT_CARD_PURCHASE_BUTTON});return null!=T.attachments?(0,i.jsx)(I.Z,{guildId:h.id,productId:T.id}):(0,i.jsx)(r.Button,{color:r.Button.Colors.PRIMARY,disabled:!0,children:m.Z.Messages.GUILD_PRODUCT_CARD_PURCHASED})}},916001:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(866442),s=n(481060),l=n(689938),r=n(394318);function o(e){let{locked:t,role:n,textVariant:o="text-xs/medium"}=e,c=(0,s.useToken)(s.tokens.colors.INTERACTIVE_NORMAL).hex();return(0,i.jsx)("div",{className:r.roleTagContainer,children:(0,i.jsxs)("div",{className:r.roleTag,children:[(0,i.jsx)("div",{className:r.roleColor,style:{backgroundColor:(0,a.Rf)(n.color)}}),(0,i.jsx)(s.Spacer,{size:8,horizontal:!0}),(0,i.jsxs)(s.Text,{variant:o,color:"text-normal",children:[(0,i.jsx)(s.HiddenVisually,{children:l.Z.Messages.GUILD_PRODUCT_CARD_HIDDEN_ROLE_SCREEN_READER}),n.name]}),!0===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Spacer,{size:8,horizontal:!0}),(0,i.jsx)(s.LockIcon,{size:"md",color:c})]})]})})}},964793:function(e,t,n){n.d(t,{e:function(){return s}});var i=n(735250);n(470079);var a=n(481060);function s(e){(0,a.openModalLazy)(async()=>{let{default:t}=await n.e("38062").then(n.bind(n,546604));return n=>(0,i.jsx)(t,{...e,...n})})}},57949:function(e,t,n){n.d(t,{z:function(){return d}});var i=n(735250);n(470079);var a=n(772848),s=n(481060),l=n(976255),r=n(667),o=n(626135),c=n(981631);function d(e){let{guildProductListing:t,guildId:d,sourceAnalyticsLocations:u}=e,_=!1,E=(0,a.Z)(),I=()=>{_=!0};(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("96427"),n.e("77298"),n.e("23357"),n.e("15972"),n.e("12013"),n.e("6416"),n.e("39612"),n.e("32776"),n.e("95900"),n.e("37544")]).then(n.bind(n,578780));return n=>(0,i.jsx)(e,{...n,applicationId:t.application_id,skuId:t.id,sourceAnalyticsLocations:u,guildProductContext:{guildProductListingId:t.id,guildId:d},loadId:E,onComplete:I})},{onCloseCallback:()=>{!_&&o.default.track(c.rMx.PAYMENT_FLOW_CANCELED,{load_id:E,payment_type:c.Zuq[c.GZQ.ONE_TIME],is_gift:!1,location_stack:Array.isArray(u)?u:[u]}),(0,l.fw)(),(0,r.p)()},onCloseRequest:c.dG4})}},331372:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(325767);function s(e){let{width:t=440,height:n=200,avatar:s,...l}=e;return(0,i.jsxs)("svg",{...(0,a.Z)(l),width:t,height:n,viewBox:"0 0 ".concat(t," ").concat(n),fill:"none",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,i.jsx)("rect",{y:"12",width:"440",height:"176",rx:"4",fill:"url(#paint0_linear_0_1)"}),(0,i.jsx)("path",{d:"M4 12C1.79086 12 0 13.7909 0 16V87.7111C0 89.0292 0.644578 90.2711 1.75757 90.9773C19.6029 102.3 40.6908 102.01 54.593 95.3775C74.7698 85.8079 78.9758 61.6391 58.8478 45.7384C50.2069 38.7483 44.7223 29.0027 45.9176 20.7172C46.434 17.1376 44.0823 12 40.4657 12H4Z",fill:"#3442D9"}),(0,i.jsx)("path",{d:"M440 44.2244C440 42.4907 438.885 40.9507 437.228 40.4399C387.67 25.1621 330.882 28.8097 301.274 66.4895C271.113 104.874 240.425 106.271 206.014 93.988C172.008 81.8488 55.3406 98.3422 74.0098 184.887C74.3973 186.683 76.0228 188 77.8605 188H436C438.209 188 440 186.209 440 184V44.2244Z",fill:"#3442D9"}),(0,i.jsx)("path",{d:"M397.403 63.2537C395.463 62.0597 394.269 60.2687 393.97 58.0299L393.373 54.2985C393.373 54.1493 393.224 54 392.925 54C392.776 54 392.627 54.1493 392.627 54.2985L392.03 58.0299C391.731 60.2687 390.537 62.0597 388.597 63.2537L388.149 63.5522C388 63.7015 388 63.8507 388 64C388 64.1493 388 64.1493 388.149 64.2985L388.597 64.597C390.537 65.791 391.731 67.5821 392.03 69.8209L392.627 73.5522C392.627 73.8507 392.776 74 392.925 74C393.224 74 393.373 73.8507 393.373 73.5522L393.97 69.8209C394.269 67.5821 395.463 65.791 397.403 64.597L397.851 64.2985C398 64.1493 398 64.1493 398 64C398 63.8507 398 63.7015 397.851 63.5522L397.403 63.2537Z",fill:"#57F287"}),(0,i.jsx)("path",{d:"M300.628 164.106C299.09 163.2 298.013 161.691 297.705 159.879L297.244 156.86C297.244 156.71 297.09 156.559 296.936 156.559C296.782 156.559 296.628 156.71 296.628 156.86L296.167 159.879C296.013 161.691 294.936 163.2 293.398 164.106L292.936 164.408C292.782 164.559 292.782 164.559 292.782 164.71V165.011H293.244C294.782 165.917 295.859 167.577 296.013 169.389L296.475 172.408C296.475 172.559 296.628 172.559 296.782 172.559C296.936 172.559 297.09 172.559 297.09 172.408L297.551 169.389C297.859 167.577 298.936 166.068 300.475 165.011H300.782V164.71C300.782 164.559 300.782 164.408 300.628 164.408V164.106Z",fill:"#808AFF"}),(0,i.jsx)("path",{d:"M232.642 35.4003C231.478 34.6839 230.761 33.5197 230.582 32.1765L230.224 30.0272C230.224 29.8481 230.134 29.7585 229.955 29.7585C229.866 29.7585 229.776 29.8481 229.776 30.0272L229.418 32.1765C229.239 33.5197 228.522 34.6839 227.358 35.4003L227.09 35.5794C227 35.669 227 35.669 227 35.7585C227 35.8481 227 35.9376 227.09 35.9376L227.358 36.2063C228.522 36.9227 229.239 37.9974 229.418 39.3406L229.776 41.5794C229.776 41.669 229.866 41.7585 229.955 41.7585C230.134 41.7585 230.224 41.669 230.224 41.5794L230.582 39.3406C230.761 37.9974 231.478 36.9227 232.642 36.2063L232.91 35.9376C233 35.8481 233 35.8481 233 35.7585C233 35.669 232.91 35.669 232.91 35.5794L232.642 35.4003Z",fill:"#FFE75C"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_0_1",x1:"220",y1:"12",x2:"220",y2:"188",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{"stop-color":"#686bff"}),(0,i.jsx)("stop",{offset:"1","stop-color":"#c356fd"})]})}),(0,i.jsx)("svg",{width:100,height:100,viewBox:"-2 -15 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{"clip-path":"url(#clip0_2645_182555)",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.6698 8.91016C14.5646 10.1567 16.3407 10.3342 17.4866 9.44283C17.4957 9.46624 17.5008 9.49191 17.5008 9.51916V15.8337C17.5008 17.2144 16.3815 18.3337 15.0008 18.3337H12.7092C12.5941 18.3337 12.5008 18.2404 12.5008 18.1253V13.3337C12.5008 12.4132 11.7547 11.667 10.8342 11.667H9.16748C8.24699 11.667 7.5008 12.4132 7.5008 13.3337V18.1253C7.5008 18.2404 7.40753 18.3337 7.29247 18.3337H5.0008C3.62009 18.3337 2.5008 17.2144 2.5008 15.8337V9.51916C2.5008 9.36341 2.66628 9.26158 2.81091 9.31949C3.23542 9.48933 3.70172 9.58366 4.19593 9.58366C5.27336 9.58366 6.24385 9.12583 6.92345 8.39408C7.0135 8.29708 7.17004 8.29679 7.26039 8.39349C7.94479 9.12583 8.91932 9.58366 10.0008 9.58366C11.0823 9.58366 12.0568 9.12583 12.7412 8.39349C12.8316 8.29679 12.9882 8.29708 13.0782 8.39408C13.2565 8.58599 13.4548 8.75916 13.6698 8.91016ZM11.7497 6.67891C9.42957 5.8204 9.4179 2.5511 11.7147 1.6683C11.699 1.66743 11.6833 1.66699 11.6675 1.66699H8.33415C7.87391 1.66699 7.50082 2.04009 7.50082 2.50033V5.83366C7.50082 5.87681 7.50191 5.9197 7.50407 5.96231C7.52181 6.31232 7.61153 6.64333 7.75873 6.94085C7.77282 6.96931 7.78743 6.99747 7.80255 7.02531C8.2259 7.80462 9.05157 8.33366 10.0008 8.33366C10.984 8.33366 11.8346 7.76614 12.2429 6.94084L12.2543 6.91751C12.2613 6.90286 12.2682 6.88812 12.2751 6.87331L11.7497 6.67891ZM15.8231 8.3336C15.4338 8.32949 15.0467 8.10931 14.8853 7.67305L14.4606 6.52524C14.2917 6.06904 13.9321 5.70936 13.4759 5.54055L13.3342 5.4881V2.84588L13.4759 2.79343C13.9321 2.62463 14.2917 2.26494 14.4606 1.80874L14.5131 1.66699H15.2462C16.3397 1.66699 17.3062 2.37762 17.6324 3.42131L18.1647 5.12491C18.2057 5.25598 18.2352 5.38724 18.254 5.51775L18.1924 5.54055C17.7361 5.70936 17.3765 6.06904 17.2077 6.52524L16.783 7.67305C16.627 8.09458 16.2603 8.31438 15.8847 8.33245C15.8642 8.33308 15.8437 8.33346 15.8231 8.3336ZM12.5008 3.15424V5.17974L12.3281 5.11583C11.4472 4.78989 11.4472 3.54409 12.3281 3.21816L12.5008 3.15424ZM4.75546 1.66699C3.662 1.66699 2.69541 2.37762 2.36926 3.4213L1.83688 5.12491C1.52876 6.11092 1.8679 7.1068 2.56708 7.72187C2.99643 8.09957 3.56156 8.33366 4.19593 8.33366C5.13437 8.33366 5.95065 7.81064 6.36917 7.04019C6.38619 7.00888 6.40255 6.97714 6.41823 6.94502C6.57788 6.618 6.66748 6.25052 6.66748 5.86211V2.50033C6.66748 2.04009 6.29438 1.66699 5.83415 1.66699H4.75546Z",fill:"white"}),(0,i.jsx)("path",{d:"M14.8838 0.660607C15.2097 -0.220202 16.4556 -0.220202 16.7815 0.660607L17.2062 1.80842C17.375 2.26462 17.7347 2.6243 18.1909 2.79311L19.3387 3.21783C20.2195 3.54377 20.2195 4.78957 19.3387 5.1155L18.1909 5.54023C17.7347 5.70903 17.375 6.06872 17.2062 6.52492L16.7815 7.67272C16.4556 8.5535 15.2097 8.5535 14.8838 7.67272L14.4591 6.52492C14.2903 6.06872 13.9306 5.70903 13.4744 5.54023L12.3266 5.1155C11.4458 4.78957 11.4458 3.54377 12.3266 3.21783L13.4744 2.79311C13.9306 2.6243 14.2903 2.26462 14.4591 1.80842L14.8838 0.660607Z",fill:"white"})]})}),(0,i.jsx)("foreignObject",{x:"30",y:"100",width:"56",height:"56",children:s})]})}},533694:function(e,t,n){n.d(t,{Z:function(){return T}});var i=n(735250);n(470079);var a=n(399606),s=n(481060),l=n(607070),r=n(739566),o=n(942951),c=n(703656),d=n(702346),u=n(331372),_=n(981631),E=n(689938),I=n(741751);function m(e){let{guildId:t,user:n,username:r}=e,o=(0,a.e7)([l.Z],()=>!l.Z.useReducedMotion),c=n.getAvatarURL(t,56,o),d=(0,i.jsx)("img",{src:c,className:I.userAvatar,alt:""});return(0,i.jsxs)("div",{className:I.thankYouCard,role:"img","aria-label":E.Z.Messages.ROLE_SUBSCRIPTION_WELCOME_CARD_ARIA_LABEL.format({username:r}),children:[(0,i.jsx)(u.Z,{avatar:d}),(0,i.jsx)(s.Text,{className:I.thankYouText,tag:"p",color:"status-positive-text",variant:"heading-xl/medium",children:E.Z.Messages.GUILD_PRODUCT_PURCHASE_THANK_YOU_CARD_TEXT.format({username:r,usernameHook:(e,t)=>(0,i.jsx)(s.Text,{tag:"span",color:"status-positive-text",variant:"heading-xxl/extrabold",lineClamp:3,children:e},t)})})]})}function T(e){var t,a,s;let{channel:l,message:u,compact:I}=e,T=(0,r.ZP)(u),h=(0,o.l)({user:u.author,channelId:l.id,guildId:l.guild_id,messageId:u.id})(T),N=E.Z.Messages.SYSTEM_MESSAGE_GUILD_PRODUCT_PURCHASE.format({username:T.nick,usernameHook:h,productName:null!==(s=null===(a=u.purchaseNotification)||void 0===a?void 0:null===(t=a.guild_product_purchase)||void 0===t?void 0:t.product_name)&&void 0!==s?s:"",handleProductListingClick:()=>{var e,t,n;(0,c.uL)(_.Z5c.GUILD_PRODUCT(l.guild_id,null!==(n=null===(t=u.purchaseNotification)||void 0===t?void 0:null===(e=t.guild_product_purchase)||void 0===e?void 0:e.listing_id)&&void 0!==n?n:""))}});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{icon:n(570111),timestamp:u.timestamp,compact:I,children:N}),(0,i.jsx)(m,{username:T.nick,guildId:l.guild_id,user:u.author})]})}},353254:function(e,t,n){n.d(t,{Z:function(){return s}}),n(47120);var i=n(838085),a=n(73346);function s(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[n,s]=(0,i.Z)();return[n,(null==e?void 0:e.application_id)!=null&&null!=s?(0,a._W)(e.application_id,e,s,t?void 0:"webp"):void 0]}},313550:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120),n(653041);var i=n(470079),a=n(468988),s=n(817460),l=n(570533),r=n(689938);function o(e){let{includeFlairAsBenefit:t,listing:n,guildId:o}=e,c=0,d=0;for(let e of n.role_benefits.benefits)(0,s.rC)(e)?c+=1:(0,s.lL)(e)&&(d+=1);let u=n.role_id,_=(0,l.Z)(o).filter(e=>e.roles.includes(u)).length;return i.useMemo(()=>{let e=[];return!0===t&&e.push(r.Z.Messages.GUILD_ROLE_SUBSCRIPTION_BENEFIT_VISUAL_FLAIR),0!==c&&e.push(r.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EXCLUSIVE_CHANNELS_SUBTITLE.format({channelCount:c})),0!==d&&e.push(r.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_BENEFITS_SUBTITLE.format({benefitCount:d})),0!==_&&e.push(r.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EMOJI_SUBTITLE.format({emojiCount:_})),new a.Z(e)},[c,d,_,t])}},934826:function(e,t,n){n.d(t,{Z:function(){return u}}),n(47120);var i=n(470079),a=n(442837),s=n(821849),l=n(509545),r=n(78839),o=n(289393),c=n(697227),d=n(981631);function u(e){let t=(0,a.e7)([r.ZP],()=>r.ZP.getSubscriptions()),n=i.useMemo(()=>{if(null==t)return{};let e={};for(let n of Object.values(t))n.type===d.NYc.GUILD&&(e[(0,c.W)(n)]=n);return e},[t]),{activeSubscription:u,activeSubscriptionListing:_}=(0,a.cj)([o.Z],()=>{var t;let i,a=null,s=null!=e?o.Z.getSubscriptionGroupListing(e):null;for(let e of null!==(t=null==s?void 0:s.subscription_listings_ids)&&void 0!==t?t:[]){let t=o.Z.getSubscriptionListing(e),s=null==t?void 0:t.subscription_plans[0].id;if(null==s)continue;let l=n[s];if(null!=l){a=l,i=t;break}}return{activeSubscription:a,activeSubscriptionListing:i}}),E=null==_?void 0:_.subscription_plans[0],I=null==E?void 0:E.id,m=null==E?void 0:E.sku_id,T=(0,a.e7)([l.Z],()=>null!=I?l.Z.get(I):null),h=null==_?void 0:_.soft_deleted;return i.useEffect(()=>{null==T&&null!=m&&!l.Z.isFetchingForSKU(m)&&(0,s.GZ)(m,void 0,void 0,h)},[T,m,h]),{activeSubscription:u,activeSubscriptionListing:_,activeSubscriptionPlanFromStore:T}}},896083:function(e,t,n){n.d(t,{F:function(){return s}}),n(47120);var i=n(470079),a=n(295141);let s=()=>{let[e,t]=i.useState(!1),[n,s]=i.useState(null);return{loading:e,error:n,getTrialPurchaseEligibility:i.useCallback(async(e,n,i)=>{t(!0),s(null);try{return await (0,a.LB)(e,n,i)}catch(e){s(e)}finally{t(!1)}},[])}}},768318:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(470079),a=n(584825);function s(e,t){let n=(0,a.oC)(t);return i.useMemo(()=>{var e;return null!=n&&(null==n.max_num_active_trial_users||n.max_num_active_trial_users>(null!==(e=n.num_active_trial_users)&&void 0!==e?e:0))},[n])}},367719:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(468194),a=n(477690),s=n(131388),l=n(293810);let r=(0,i.Mg)(a.Z.GUILD_ROLE_SUBSCRIPTION_CARD_BASIC_INFO_TIER_IMAGE_SIZE),o=(0,i.Mg)(a.Z.GUILD_ROLE_SUBSCRIPTION_CARD_BASIC_INFO_TIER_IMAGE_SIZE_MOBILE);function c(){let e=(0,s.Z)(l.iP);return e?o:r}},665302:function(e,t,n){n.d(t,{h:function(){return o}});var i=n(735250);n(470079);var a=n(481060),s=n(671533),l=n(981631),r=n(658216);function o(e){let{buttonText:t,onGoBack:n,onDismiss:o,showCloseButton:c}=e;return(0,i.jsxs)(a.Notice,{className:r.backNotice,children:[c&&(0,i.jsx)(a.NoticeCloseButton,{onClick:o,noticeType:l.kVF.BACK_TO_PREVIOUS_SCREEN}),(0,i.jsxs)(a.Button,{className:r.backButton,innerClassName:r.backButtonInner,look:a.Button.Looks.OUTLINED,color:a.Button.Colors.WHITE,size:a.Button.Sizes.NONE,onClick:n,children:[(0,i.jsx)(s.Z,{width:16,height:16,direction:s.Z.Directions.LEFT,className:r.__invalid_backArrow}),t]})]})}},838940:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(481060),r=n(528027),o=n(686807),c=n(113318),d=n(240233);function u(e){let{benefit:t,guildId:n}=e,a=(0,c.Z)(n,t.ref_id),u=(0,i.jsx)(r.Z,{guildId:n,emojiId:t.emoji_id,emojiName:t.emoji_name}),_=null!=a?(0,i.jsx)(l.Clickable,{className:d.__invalid_channelLink,onClick:a.navigateToChannel,"aria-label":a.ariaLabel,role:"link",children:(0,i.jsx)(l.Text,{variant:"text-md/medium",color:"header-primary",className:s()(d.name,d.linkedName),children:(0,o.Z)(t)})}):(0,i.jsx)(l.Text,{variant:"text-md/medium",color:"header-primary",className:d.name,children:(0,o.Z)(t)});return(0,i.jsxs)("div",{className:d.container,children:[(0,i.jsxs)("div",{className:d.infoContainer,children:[_,(0,i.jsx)(l.Text,{color:"interactive-normal",variant:"text-sm/normal",children:t.description})]}),(0,i.jsx)("div",{className:d.emojiContainer,children:u})]})}},305342:function(e,t,n){n.d(t,{c:function(){return D}}),n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(442837),o=n(481060),c=n(131388),d=n(160404),u=n(351402),_=n(153124),E=n(768581),I=n(817460),m=n(584825),T=n(290348),h=n(934826),N=n(768318),f=n(570533),p=n(971792),C=n(629262),g=n(761966),S=n(893729),A=n(838940),R=n(882101),x=n(11705),O=n(81273),M=n(293810),v=n(981631),L=n(689938),Z=n(359158);let P=e=>{let{benefits:t,header:n,guildId:s}=e,[l,r]=a.useState(!1),c=l?t:t.slice(0,5),d=t.length>5,u=t.length-5,E=L.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION_WITH_ITEMS.format({numTruncated:u}),m=(0,_.Dt)();return 0===t.length?null:(0,i.jsxs)("div",{className:Z.benefitsSection,children:[(0,i.jsx)(o.Heading,{variant:"text-xs/bold",color:"header-secondary",className:Z.sectionHeader,id:m,children:n}),(0,i.jsx)(o.Spacer,{size:12}),(0,i.jsx)("ul",{className:Z.benefitsList,"aria-labelledby":m,children:c.map((e,t)=>(0,i.jsx)("li",{children:(0,i.jsx)(A.Z,{guildId:s,benefit:e},(0,I.ab)(e))},t))}),d&&(0,i.jsx)(j,{isViewAll:l,onToggle:()=>r(e=>!e),showMoreText:E})]})},b=e=>{let{guildId:t,listingId:n}=e,a=(0,f.Z)(t),[s]=T.XZ(n,t),l=a.filter(e=>s.has(e.id));return 0===l.length?null:(0,i.jsxs)("div",{className:Z.benefitsSection,children:[(0,i.jsx)(o.Heading,{variant:"text-xs/bold",color:"header-secondary",className:Z.sectionHeader,children:L.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EMOJI_SECTION_TITLE.format({count:l.length})}),(0,i.jsx)(o.Spacer,{size:12}),(0,i.jsx)("div",{className:Z.emojiList,children:l.map((e,t)=>{var n;return(0,i.jsx)(o.Tooltip,{text:e.name,"aria-label":!1,children:t=>{var n;return(0,i.jsx)("img",{...t,className:Z.emojiListEmoji,src:(n=e,E.ZP.getEmojiURL({id:n.id,animated:n.animated,size:24})),width:24,height:24,alt:e.name})}},null!==(n=e.id)&&void 0!==n?n:t)})})]})},D=e=>{let{listingId:t,guildId:n,className:a}=e,s=(0,p.Z)(n,t),[r]=T.UE(t),c=(0,C.Z)(r),[d]=T.R7(t),u=T.qs(t,n),[_]=T.XZ(t,n);return null==s&&0===c.length&&0===d.length&&0===_.size?null:(0,i.jsxs)("div",{className:l()(Z.subscriptionPerks,a),children:[null!=s&&(0,i.jsxs)(o.HeadingLevel,{component:(0,i.jsx)(o.Heading,{variant:"text-xs/bold",color:"header-secondary",className:Z.sectionHeader,children:L.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_MEMBER_PREVIEW}),children:[(0,i.jsx)(o.Spacer,{size:8}),(0,i.jsx)(S.Z,{role:u,guildId:n,className:Z.roleMessagePreview})]}),(0,i.jsx)(P,{header:L.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EXCLUSIVE_CHANNELS_SECTION_TITLE,benefits:c,guildId:n}),(0,i.jsx)(P,{header:L.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_ADDITIONAL_BENEFITS_SECTION_TITLE,benefits:d,guildId:n}),(0,i.jsx)(b,{guildId:n,listingId:t})]})},j=e=>{let t,{onToggle:n,isViewAll:a,showMoreText:s}=e;return t=a?(0,i.jsxs)(i.Fragment,{children:[L.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_LESS_DESCRIPTION,(0,i.jsx)(o.ChevronSmallUpIcon,{size:"md",color:"currentColor",className:Z.toggleTruncationButtonIcon})]}):(0,i.jsxs)(i.Fragment,{children:[s,(0,i.jsx)(o.ChevronSmallDownIcon,{size:"md",color:"currentColor",className:Z.toggleTruncationButtonIcon})]}),(0,i.jsx)(o.Button,{look:o.Button.Looks.BLANK,size:o.Button.Sizes.NONE,className:Z.toggleTruncationButton,innerClassName:Z.toggleTruncationButtonInner,onClick:n,children:t})};t.Z=e=>{var t;let{listingId:n,guildId:s,groupListingId:_,analyticsLocation:E}=e,f=(0,m.jO)(n),{openModal:p,canOpenModal:C,cannotOpenReason:S,isCheckingTrialEligibility:A}=(0,O.Z)(f,s,_,E),P=(0,r.e7)([u.Z],()=>u.Z.isSyncing),{activeSubscription:b,activeSubscriptionListing:U}=(0,h.Z)(_),y=(null==U?void 0:U.id)===n,B=(null==b?void 0:b.status)===v.O0b.CANCELED,[k,G]=a.useState(!1),[F,w]=a.useState(!1),V=a.useCallback(e=>{let t=!1;null!=e&&(t=e.scrollHeight-e.clientHeight>1),w(t)},[]),[H]=T._T(n),[Y]=T.PK(n),[W]=T.TT(n),[z]=T.F2(n),K=(0,N.Z)(s,n),Q=null!=W&&null==b&&K,q=(0,c.Z)(M.iP),[X,J]=a.useState(!1),$=X||!q,ee=(0,r.e7)([d.Z],()=>d.Z.isViewingServerShop(s)),et=(null==f?void 0:f.published)===!0,en=(null==f?void 0:f.soft_deleted)===!0,ei=L.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION;return(et||ee)&&!en?(0,i.jsxs)("article",{className:Z.container,"aria-label":H,children:[Q&&(0,i.jsxs)("div",{className:l()(Z.tierTrialIndicator,Z.tierTopIndicator),children:[L.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_PERIOD.format({trialPeriodDuration:(0,I.iG)({interval:W.interval,interval_count:W.interval_count})}),(0,i.jsx)(o.Tooltip,{clickableOnMobile:!0,text:L.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_DISCLAIMER.format({activeTrialUserLimit:null!=z?z:0}),children:e=>(0,i.jsx)(o.CircleInformationIcon,{size:"xs",color:"currentColor",className:Z.tierTrialIndicatorIcon,...e})})]}),(0,i.jsxs)("div",{className:Q?void 0:Z.cardContainerWithoutTopIndicator,children:[(0,i.jsxs)("div",{className:Z.tierInfoContainer,children:[q?(0,i.jsx)(x.e,{listingId:n,isListingPublished:et,expanded:$,onToggleExpanded:()=>J(e=>!e)}):(0,i.jsx)(R.xv,{listingId:n,isListingPublished:et}),$&&(0,i.jsxs)(i.Fragment,{children:[q&&(0,i.jsx)("div",{className:Z.divider}),y?(0,i.jsx)(o.Button,{fullWidth:!0,look:o.Button.Looks.OUTLINED,color:o.Button.Colors.PRIMARY,disabled:!0,children:B?L.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_CANCELED_LABEL:L.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBED_LABEL}):(0,i.jsx)(o.Tooltip,{text:C?null:S,"aria-label":null!==(t=C&&S)&&void 0!==t&&t,children:e=>(0,i.jsx)(g.Z,{...e,fullWidth:!0,disabled:!C||P,submitting:A,onClick:p,onlyShineOnHover:!0,children:L.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBE_LABEL})}),(0,i.jsx)(o.Spacer,{size:16}),(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"text-normal",className:l()((!F||!k)&&Z.tierDescriptionTruncate),children:(0,i.jsx)("div",{ref:V,children:Y})}),F&&(0,i.jsx)(j,{isViewAll:k,onToggle:()=>G(e=>!e),showMoreText:ei})]})]}),$&&(0,i.jsx)(o.HeadingLevel,{children:(0,i.jsx)(D,{listingId:n,guildId:s})})]})]}):null}},882101:function(e,t,n){n.d(t,{BM:function(){return E},Ey:function(){return _},xv:function(){return I}}),n(47120);var i=n(735250);n(470079);var a=n(481060),s=n(765400),l=n(937615),r=n(817460),o=n(290348),c=n(367719),d=n(689938),u=n(364375);let _=e=>{let{listingName:t}=e;return(0,i.jsx)(a.Heading,{variant:"text-md/normal",color:"interactive-active",className:u.tierName,children:t})};function E(e){let{image:t}=e;return null==t?null:(0,i.jsx)("img",{src:t,alt:"",className:u.tierImage})}let I=e=>{let{listingId:t,isListingPublished:n}=e,I=(0,c.Z)(),[m]=o._T(t),[T]=o.d9(t,I),[h]=o.H9(t);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(_,{listingName:m}),(0,i.jsx)(E,{image:T}),!n&&(0,i.jsx)("div",{className:u.draftBadgeContainer,children:(0,i.jsx)(s.v,{})}),(0,i.jsx)(a.Text,{variant:"heading-xl/semibold",className:u.tierPrice,tag:"div",children:(0,l.T4)(h.price,h.currency)}),(0,i.jsx)(a.Text,{variant:"text-xs/normal",color:"interactive-normal",className:u.tierPeriod,children:d.Z.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({period:(0,r.JE)({interval:h.interval,interval_count:h.interval_count})})})]})}},11705:function(e,t,n){n.d(t,{e:function(){return E}}),n(47120);var i=n(735250);n(470079);var a=n(481060),s=n(765400),l=n(937615),r=n(817460),o=n(290348),c=n(367719),d=n(882101),u=n(689938),_=n(635816);let E=e=>{let{listingId:t,isListingPublished:n,expanded:E,onToggleExpanded:I}=e,m=(0,c.Z)(),[T]=o._T(t),[h]=o.d9(t,m),[N]=o.H9(t);return(0,i.jsxs)("div",{className:_.container,children:[(0,i.jsx)(d.BM,{image:h}),(0,i.jsxs)("div",{className:_.tierTextInfoContainer,children:[(0,i.jsx)(d.Ey,{listingName:T}),(0,i.jsxs)("div",{className:_.tierPriceContainer,children:[!n&&(0,i.jsx)(s.v,{}),(0,i.jsxs)(a.Text,{variant:"text-xs/normal",className:_.tierPrice,children:[(0,l.T4)(N.price,N.currency)," ",u.Z.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({period:(0,r.JE)({interval:N.interval,interval_count:N.interval_count})})]})]})]}),(0,i.jsx)(a.Clickable,{onClick:I,children:E?(0,i.jsx)(a.ChevronSmallUpIcon,{size:"md",color:"currentColor",className:_.toggleButton}):(0,i.jsx)(a.ChevronSmallDownIcon,{size:"md",color:"currentColor",className:_.toggleButton})})]})}},939872:function(e,t,n){n.d(t,{m:function(){return u}});var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(17894),r=n(430824),o=n(313550),c=n(689938),d=n(750231);let u=e=>{let{onClose:t,listing:n,guildId:u}=e,_=(0,a.e7)([r.Z],()=>r.Z.getGuild(u),[u]),E=(0,o.Z)({listing:n,guildId:u});return(0,i.jsxs)("div",{className:d.confirmationContainer,children:[(0,i.jsx)(s.Heading,{className:d.confirmationHeader,variant:"heading-lg/extrabold",children:c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_TITLE.format({serverName:null==_?void 0:_.toString(),tierName:n.name})}),!E.isEmpty()&&(0,i.jsx)(s.Text,{className:d.confirmationSubtitle,variant:"text-sm/normal",color:"header-secondary",children:c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_SUBTITLE.format({benefits:E.asString()})}),(0,i.jsx)(s.Button,{className:d.openDiscordButton,onClick:()=>(0,l.Z)("role_sub_mweb_success_modal"),children:c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_OPEN_DISCORD_BUTTON}),(0,i.jsx)(s.Button,{className:d.doneButton,look:s.Button.Looks.BLANK,onClick:()=>t(!0),children:c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_DONE_BUTTON})]})}},265985:function(e,t,n){n.d(t,{h:function(){return C},x:function(){return g}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(442837),r=n(481060),o=n(596454),c=n(131388),d=n(409813),u=n(430824),_=n(73346),E=n(817460),I=n(584825),m=n(570533),T=n(629262),h=n(575460),N=n(293810),f=n(689938),p=n(538568);let C=e=>{let{onClose:t,listing:n,step:a,guildId:l}=e,o=(0,I.YB)(l),u=(0,c.Z)(N.Xy),E=(()=>{var e;if(u)return null;let t=(null==o?void 0:null===(e=o.cover_image_asset)||void 0===e?void 0:e.application_id)!=null?(0,_._W)(o.cover_image_asset.application_id,o.cover_image_asset,440):void 0;return null==t&&a!==d.h8.CONFIRM?null:null==t?(0,i.jsx)("div",{className:p.headerImageEmpty}):(0,i.jsx)("img",{src:t,alt:"",className:p.headerImage})})();return(0,i.jsxs)("div",{className:s()(p.headerContainer,{[p.headerEmpty]:u||null==E}),children:[E,(()=>{if(a!==d.h8.CONFIRM)return null;let e=null==n.image_asset?void 0:(0,_._W)(n.application_id,n.image_asset,80);return(0,i.jsx)("div",{className:p.tierImageContainer,children:(0,i.jsx)("img",{src:e,alt:"",className:p.tierImage})})})(),(0,i.jsx)(r.Clickable,{className:p.closeContainer,onClick:()=>t(!1),"aria-label":f.Z.Messages.CLOSE,children:(0,i.jsx)(r.CloseSmallIcon,{size:"md",color:"currentColor",className:p.closeIcon})})]})},g=e=>{let{onClose:t,listing:n,guildId:a}=e,s=(0,l.e7)([u.Z],()=>u.Z.getGuild(a),[a]),c=(0,m.Z)(a).filter(e=>e.roles.includes(n.role_id)),d=n.role_benefits.benefits.filter(E.rC).slice(0,null===c.length?4:3),_=(0,T.Z)(d).slice(0,null===c.length?4:3);return(0,i.jsxs)("div",{className:p.confirmationContainer,children:[(0,i.jsx)(r.Heading,{className:p.confirmationHeader,variant:"heading-xl/semibold",color:"header-secondary",children:f.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_TITLE.format({serverName:null==s?void 0:s.toString()})}),(0,i.jsx)(r.Text,{className:p.confirmationSubtitle,variant:"text-md/normal",color:"header-secondary",children:f.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_SUBTITLE.format({tier:n.name})}),_.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Text,{variant:"text-xs/normal",color:"header-secondary",className:p.confirmationSectionLabel,children:f.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_CHANNEL_PREVIEW}),(0,i.jsx)("div",{className:p.confirmationBenefits,children:_.map(e=>(0,i.jsx)(h.Z,{benefit:e,guildId:a,onClick:()=>t(!0)},(0,E.ab)(e)))})]}),(()=>{var e;if(0===c.length)return null;let t=c[0];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Text,{variant:"text-xs/medium",color:"header-secondary",className:p.confirmationSectionLabel,children:f.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_PREVIEW_TITLE}),(0,i.jsxs)("div",{className:p.emojiBenefitsRow,children:[(0,i.jsx)(o.Z,{emojiId:t.id,emojiName:t.name,animated:null!==(e=t.animated)&&void 0!==e&&e,className:p.emojiImage}),(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Text,{variant:"text-md/medium",color:"header-primary",className:p.emojiName,children:f.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_BENEFIT_TEXT}),(0,i.jsx)(r.Text,{color:"interactive-normal",variant:"text-sm/normal",children:f.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_BENEFIT_DESCRIPTION.format({count:c.length})})]})]})]})})(),(0,i.jsx)(r.Button,{className:p.confirmationButton,onClick:()=>t(!0),children:f.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_DONE_BUTTON})]})}},575460:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(481060),s=n(259580),l=n(528027),r=n(686807),o=n(113318),c=n(121834);function d(e){let{benefit:t,guildId:n,onClick:d}=e,u=(0,o.Z)(n,t.ref_id),_=(0,i.jsx)(l.Z,{guildId:n,emojiId:t.emoji_id,emojiName:t.emoji_name});return(0,i.jsxs)(a.Clickable,{className:c.container,onClick:()=>{null==u||u.navigateToChannel(),d()},"aria-label":null==u?void 0:u.ariaLabel,role:"link",children:[(0,i.jsx)("div",{className:c.emojiContainer,children:_}),(0,i.jsxs)("div",{className:c.infoContainer,children:[(0,i.jsx)(a.Text,{variant:"text-md/medium",color:"header-primary",className:c.name,children:(0,r.Z)(t)}),(0,i.jsx)(a.Text,{color:"interactive-normal",variant:"text-sm/normal",children:t.description})]}),(0,i.jsx)(s.Z,{direction:s.Z.Directions.RIGHT,className:c.caret})]})}},81273:function(e,t,n){var i=n(735250),a=n(470079),s=n(512722),l=n.n(s),r=n(913527),o=n.n(r),c=n(442837),d=n(570140),u=n(821849),_=n(131388),E=n(906732),I=n(305325),m=n(246364),T=n(937111),h=n(281956),N=n(41776),f=n(738737),p=n(509545),C=n(63063),g=n(817460),S=n(584825),A=n(697227),R=n(934826),x=n(896083),O=n(939872),M=n(265985),v=n(293810),L=n(981631),Z=n(689938);t.Z=(e,t,n,s)=>{let r;let P=(0,c.e7)([N.Z],()=>N.Z.isLurking(t)),b=(0,h.J)(t),D=(0,c.e7)([T.Z],()=>null!=t?T.Z.getRequest(t):null),j=(null==D?void 0:D.applicationStatus)===m.wB.SUBMITTED,U=null==e?void 0:e.subscription_plans[0],y=null==U?void 0:U.id,B=(null==e?void 0:e.published)===!0,k=null==U?void 0:U.sku_id,G=(0,c.e7)([p.Z],()=>null!=y?p.Z.get(y):null),{activeSubscription:F,activeSubscriptionPlanFromStore:w}=(0,R.Z)(n),V=null==F||null!=w,H=(0,S._k)(n,{includeSoftDeleted:!0}).map(e=>e.subscription_plans[0].id),Y=(0,A.V)(F),W=null!=Y,z=(null==F?void 0:F.trialId)!=null,{loading:K,getTrialPurchaseEligibility:Q}=(0,x.F)(),q=(0,S.oC)(null==e?void 0:e.id),{analyticsLocations:X}=(0,E.ZP)(),J=(null==F?void 0:F.paymentGateway)===L.gg$.APPLE_PARTNER;j?r=Z.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_REQUIRE_APPROVED_MEMBER:P&&!b?r=Z.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_REQUIRE_APPROVED_MEMBER:Y===y?r=Z.Z.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION_TO_CURRENT_LISTING.format({changeDate:null!=F?o()(F.currentPeriodEnd).format("MMM DD, YYYY"):""}):W?r=Z.Z.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION:z?r=Z.Z.Messages.GUILD_ROLE_SUBSCRIPTION_CHANGE_TIER_DISABLED_IN_TRIAL:J&&(r=Z.Z.Messages.GUILD_ROLE_SUBSCRIPTION_CHANGE_TIER_DISABLED_IF_IAP);let $=(0,_.Z)(v.iP);a.useEffect(()=>{B&&null!=k&&d.Z.wait(()=>{(0,u.GZ)(k)})},[B,k]);let ee=a.useCallback(async()=>{let n,a;if(l()(null!=e,"No subscription listing"),l()(null!=U,"No subscription plan"),l()(B,"Cannot purchase this unpublished plan"),(null==q?void 0:q.active_trial)!=null){let i=await Q(t,e.id,q.active_trial.id);if((null==i?void 0:i.is_eligible)===!0){var r;n=null==q?void 0:null===(r=q.active_trial)||void 0===r?void 0:r.id}else a=Z.Z.Messages.GUILD_ROLE_SUBSCRIPTION_INELIGIBLE_TRIAL_DISCLAIMER}(0,f.Z)({activeSubscription:F,analyticsSubscriptionType:L.NYc.GUILD,trialId:n,trialFooterMessageOverride:(null==q?void 0:q.active_trial)!=null?Z.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_RENEWAL_FOOTER_V2.format({buttonText:Z.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SUBSCRIBE,interval:(0,g.iG)(U),days:1,contactLink:L.EYA.CONTACT,cancelSubscriptionArticle:C.Z.getArticleURL(L.BhN.ROLE_SUBSCRIPTION_CANCEL),helpdeskArticle:C.Z.getArticleURL(L.BhN.ROLE_SUBSCRIPTION_TRIAL),paidServiceTermsArticle:C.Z.getArticleURL(L.BhN.PAID_TERMS),tierName:U.name}):void 0,analyticsLocations:X,analyticsLocation:s,renderHeader:(n,a,s)=>(0,i.jsx)(M.h,{onClose:a,listing:e,step:s,guildId:t}),initialPlanId:U.id,skuId:U.sku_id,planGroup:H,renderPurchaseConfirmation:(n,a)=>$?(0,i.jsx)(O.m,{listing:e,onClose:a,guildId:t}):(0,i.jsx)(M.x,{listing:e,onClose:a,guildId:t}),reviewWarningMessage:a})},[B,e,U,F,H,t,X,s,Q,q,$]),et=a.useCallback(()=>{(0,I.hk)(t)},[t]);return{openModal:b?et:ee,canOpenModal:!P&&null!=G&&V&&!j&&!W&&!z&&!J,cannotOpenReason:r,isCheckingTrialEligibility:K}}},626751:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250),a=n(470079),s=n(442837),l=n(430824),r=n(869782),o=n(630388),c=n(35125),d=n(523361),u=n(981631);function _(e){var t,n;let{channel:_,message:E}=e,I=null!==(n=null===(t=E.roleSubscriptionData)||void 0===t?void 0:t.is_renewal)&&void 0!==n&&n?(0,d.Md)():(0,d.Q8)(),m=_.guild_id,T=(0,s.e7)([l.Z],()=>{var e;return null===(e=l.Z.getGuild(m))||void 0===e?void 0:e.systemChannelFlags},[m]),h=null!=T&&(0,o.yE)(T,u.xmn.SUPPRESS_ROLE_SUBSCRIPTION_PURCHASE_NOTIFICATION_REPLIES),N=a.useMemo(()=>(0,c._i)(_,E),[_,E]);return h?null:(0,i.jsx)(r.Z,{channel:_,message:E,buttonLabels:I,stickers:d.HG,event:u.rMx.ROLE_SUBSCRIPTION_PURCHASE_SYSTEM_MESSAGE_CTA_CLICKED,eventProperties:N})}},182180:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(735250),a=n(470079),s=n(481060),l=n(100527),r=n(906732),o=n(739566),c=n(942951),d=n(703656),u=n(702346),_=n(35125),E=n(626751),I=n(891614),m=n(981631),T=n(176505),h=n(689938),N=n(918624);function f(e){let{username:t}=e;return(0,i.jsx)("div",{className:N.welcomeCardText,children:(0,i.jsx)(s.Text,{tag:"p",className:N.welcomeCardText,color:"status-positive-text",variant:"heading-xl/medium",children:h.Z.Messages.ROLE_SUBSCRIPTION_WELCOME_CARD_TEXT.format({username:t,usernameHook:(e,t)=>(0,i.jsx)(s.Text,{tag:"span",color:"status-positive-text",variant:"heading-xxl/extrabold",lineClamp:3,children:e},t)})})})}function p(e){let{guildId:t,user:n,username:a}=e;return(0,i.jsxs)("div",{className:N.welcomeCard,role:"img","aria-label":h.Z.Messages.ROLE_SUBSCRIPTION_WELCOME_CARD_ARIA_LABEL.format({username:a}),children:[(0,i.jsx)(I.Z,{guildId:t,user:n,className:N.welcomeCardBadge}),(0,i.jsx)(f,{username:a})]})}function C(e){var t,s;let{channel:I,message:h,compact:N}=e,f=(0,o.ZP)(h),C=function(e){let{author:t,channel:n,message:i}=e,s=n.guild_id,o=(0,c.l)({user:i.author,channelId:n.id,guildId:s,messageId:i.id})(t),{analyticsLocations:u}=(0,r.ZP)(l.Z.GUILD_ROLE_SUBSCRIPTION_PURCHASE_SYSTEM_MESSAGE),E=i.roleSubscriptionData,I=a.useCallback(()=>{(0,d.uL)(m.Z5c.CHANNEL(s,T.oC.ROLE_SUBSCRIPTIONS),null,null,u),(null==E?void 0:E.role_subscription_listing_id)!=null&&(0,_.y8)(s,n.id,i.id,E.role_subscription_listing_id)},[s,n,i,E,u]);return null==E?null:(0,_.Tn)({username:t.nick,usernameOnClickHandler:o,roleSubscriptionOnClickHandler:I,guildId:s,roleSubscriptionData:i.roleSubscriptionData})}({channel:I,message:h,author:f}),g=(null===(t=h.roleSubscriptionData)||void 0===t?void 0:t.total_months_subscribed)!=null&&(null===(s=h.roleSubscriptionData)||void 0===s?void 0:s.total_months_subscribed)<=1;return null==C?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{icon:n(570111),timestamp:h.timestamp,compact:N,children:C}),g&&(0,i.jsx)(p,{guildId:I.guild_id,user:h.author,username:f.nick}),(0,i.jsx)(E.Z,{channel:I,message:h})]})}},891614:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(442837),s=n(607070),l=n(854e3);function r(e){let{guildId:t,user:n,className:r}=e,o=(0,a.e7)([s.Z],()=>!s.Z.useReducedMotion),c=n.getAvatarURL(t,56,o),d=(0,i.jsx)("foreignObject",{x:"30",y:"68",width:"56",height:"56",transform:"skewX(12)",children:(0,i.jsx)("img",{src:c,className:l.userAvatar,alt:""})});return(0,i.jsx)("div",{className:r,children:(0,i.jsxs)("svg",{width:"128",height:"200",viewBox:"0 0 128 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:l.svg,children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.6475 3.07525C42.2166 3.01705 42.7941 2.98723 43.3787 2.98723H44.0149C51.1639 2.98723 57.3812 8.03091 58.5312 14.9582L58.5326 14.9664L71.1297 85.803L74.1529 85.2934L61.5601 14.4815C61.5597 14.4786 61.5592 14.4758 61.5587 14.4729C60.1604 6.07701 52.6392 0 44.0149 0H42.997C42.4189 0 41.8467 0.037182 41.283 0.10879C31.6239 1.11743 24.0326 9.0199 24.0326 18.799C24.0326 21.3525 24.5847 23.8942 25.5481 26.1672L25.5512 26.1745L25.5543 26.1817C30.6753 37.9136 33.7197 47.8651 33.2106 58.7186C32.7013 69.5731 28.6272 81.5075 19.156 97.1507C9.58001 112.967 1.96875 129.323 0.328288 144.93C-1.32267 160.636 3.084 175.549 17.4069 188.258C44.018 211.936 78.8775 196.708 84.4502 170.024C87.2081 156.818 84.3006 145.78 79.001 135.687C75.0979 128.255 69.8387 121.246 64.61 114.277C62.8057 111.873 61.0052 109.473 59.2652 107.063C52.5319 97.7348 49.6357 89.4917 48.5724 81.9158C47.538 74.5461 48.2262 67.7588 48.9086 61.0273C48.9314 60.803 48.9541 60.5787 48.9768 60.3545C50.4158 46.1192 45.9689 34.8772 40.4143 27.5533L40.4092 27.5466L34.5424 19.988L34.533 19.9764C30.8561 15.4298 31.6398 8.83644 36.3021 5.27079C37.8665 4.11054 39.7105 3.32756 41.6475 3.07525ZM29.4797 10.5429C27.9714 12.9383 27.1008 15.7614 27.1008 18.799C27.1008 20.9399 27.5653 23.0928 28.3813 25.0206C33.564 36.8951 36.8159 47.3374 36.2756 58.8549C35.7352 70.3737 31.4122 82.7904 21.7991 98.6677C12.2907 114.372 4.95262 130.278 3.38056 145.234C1.81906 160.089 5.93633 174.039 19.4752 186.051L19.4768 186.053C44.2662 208.11 76.329 193.919 81.4435 169.429C84.0293 157.047 81.3387 146.702 76.2691 137.047C72.4865 129.844 67.4387 123.116 62.2536 116.205C60.4212 113.762 58.5717 111.297 56.7549 108.78C49.7474 99.0725 46.6638 90.3811 45.5325 82.3203C44.4482 74.5953 45.1687 67.4973 45.8457 60.8276C45.8717 60.5718 45.8976 60.3165 45.9233 60.0619C47.2829 46.613 43.0814 36.1022 37.951 29.3343L32.1127 21.8124C29.4463 18.5078 28.6103 14.3561 29.4797 10.5429Z",fill:"#57F287"}),(0,i.jsx)("path",{d:"M59.282 31.4071C56.8646 29.0585 57.1191 27.3279 58.0097 24.7321C58.1369 24.2377 58.6458 23.9905 59.1548 23.9905H62.9716V31.4071H59.282Z",fill:"#57F287"}),(0,i.jsx)("path",{d:"M125.569 155.388L122.388 158.601C120.734 160.332 118.317 161.321 115.899 161.321H101.268V135.486H125.569L127.859 147.971C128.368 150.69 127.477 153.41 125.569 155.388Z",fill:"#8CD9FF"}),(0,i.jsx)("path",{d:"M29.2561 45.6221L25.8209 49.0832C23.9125 51.0609 23.0219 53.9039 23.5308 56.6233L26.7115 74.6704H45.4142V45.6221H29.2561Z",fill:"#8CD9FF"}),(0,i.jsx)("path",{d:"M124.551 151.061C125.568 155.635 122.515 160.208 117.68 161.197C117.044 161.321 116.281 161.445 115.645 161.321H52.7936C46.6867 161.074 41.4703 156.871 40.198 151.061L23.531 56.7471C22.5132 52.1735 25.5667 47.6 30.4014 46.6111C31.0375 46.4875 31.8009 46.3639 32.437 46.4875H95.288C101.395 46.7347 106.611 50.9374 107.884 56.7471L124.551 151.061Z",fill:"#8CD9FF"}),(0,i.jsx)("path",{d:"M127.732 147.724C128.749 152.297 125.823 156.747 121.243 157.736C120.479 157.86 119.716 157.984 118.826 157.984H55.9745C49.8676 157.86 44.6512 153.534 43.3789 147.724L26.7119 53.5333C25.6941 48.9598 28.7476 44.3862 33.5823 43.3973C34.2184 43.2737 34.9818 43.1501 35.6179 43.2737H98.5962C104.703 43.3973 109.92 47.7237 111.065 53.5333L127.732 147.724Z",fill:"white"}),(0,i.jsx)("path",{d:"M78.7482 52.1736C79.2571 54.893 77.4759 57.6124 74.6769 58.1068C74.2952 58.2304 73.7863 58.2304 73.4046 58.2304H66.0253C62.4629 58.1068 59.4094 55.6346 58.6461 52.1736L55.3381 33.7557C54.8292 31.0363 56.6104 28.3169 59.4094 27.8225C59.7911 27.6989 60.3 27.6989 60.6817 27.6989H68.061C71.6234 27.8225 74.6769 30.2947 75.4402 33.7557L78.7482 52.1736Z",fill:"black"}),(0,i.jsx)("path",{d:"M115.39 139.071C115.899 142.285 113.736 145.375 110.428 145.87C109.919 145.993 109.537 145.993 109.028 145.993H62.7172C58.5186 145.87 54.829 143.027 53.9384 139.071C53.3022 135.857 55.4651 132.767 58.7731 132.149C59.282 132.025 59.7909 132.025 60.2998 132.025H106.611C110.81 132.149 114.499 134.992 115.39 139.071Z",fill:"#FFC619"}),(0,i.jsx)("path",{d:"M71.4152 52.8176C72.7444 51.4082 72.394 48.9945 70.6325 47.4264C68.8711 45.8582 66.3656 45.7295 65.0364 47.1389C63.7072 48.5482 64.0576 50.9619 65.819 52.5301C67.5805 54.0982 70.086 54.2269 71.4152 52.8176Z",fill:"#5865F2"}),(0,i.jsx)("path",{d:"M68.5697 30.9126C68.4425 31.1598 68.188 31.4071 67.9336 31.4071H60.8088C60.4271 31.4071 60.2998 31.1598 60.2998 31.0362C60.2998 30.9126 60.2998 30.9126 60.1726 30.9126V30.6654C60.1726 30.5418 60.1726 30.2946 60.2998 30.171C61.5721 27.0807 60.6815 25.5974 59.1548 24.4849V23.9905H64.3712C64.7529 23.9905 65.1345 23.9905 65.389 24.2377C67.9336 25.5974 70.0965 26.7099 68.5697 30.9126Z",fill:"#57F287"}),(0,i.jsx)("path",{d:"M63.4808 19.4171H59.155C58.7734 19.4171 58.5189 19.788 58.6461 20.0352L59.2823 23.9907H64.2442L63.4808 19.4171Z",fill:"black"}),(0,i.jsx)("path",{d:"M61.1485 21.3944C62.4818 21.3286 63.5224 20.5015 63.4728 19.547C63.4231 18.5925 62.302 17.872 60.9686 17.9378C59.6353 18.0035 58.5947 18.8306 58.6444 19.7851C58.694 20.7396 59.8152 21.4601 61.1485 21.3944Z",fill:"black"}),d]})})}},113318:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(442837),a=n(201895),s=n(557135),l=n(703656),r=n(592125),o=n(979651),c=n(66999),d=n(981631);function u(e,t){let n=(0,i.e7)([r.Z],()=>r.Z.getChannel(t)),{needSubscriptionToAccess:u}=(0,c.Z)(null==n?void 0:n.id);if(null==n||u)return null;let _=n.isGuildVocal(),E=(0,a.ZP)({channel:n});return{navigateToChannel:()=>{_?s.Z.handleVoiceConnect({channel:n,connected:o.Z.isInChannel(n.id),needSubscriptionToAccess:!1,routeDirectlyToChannel:!0}):(0,l.uL)(d.Z5c.CHANNEL(e,n.id))},ariaLabel:E}}},225890:function(e,t,n){n.d(t,{Z:function(){return N}}),n(47120);var i=n(735250),a=n(470079),s=n(442837),l=n(305325),r=n(281956),o=n(922482),c=n(592125),d=n(271383),u=n(430824),_=n(594174),E=n(897285),I=n(924301),m=n(482241),T=n(11868),h=n(231338);function N(e){let{code:t}=e,[n,N,f]=t.split("-"),{guildScheduledEvent:p,guild:C,channel:g,isMember:S}=(0,s.cj)([I.ZP,u.Z,c.Z,d.ZP,_.default],()=>{var e,t;let i=null!==(t=I.ZP.getGuildScheduledEvent(N))&&void 0!==t?t:void 0,a=u.Z.getGuild(n),s=c.Z.getChannel(null==i?void 0:i.channel_id);return{guildScheduledEvent:i,guild:a,channel:s,isMember:d.ZP.isMember(n,null===(e=_.default.getCurrentUser())||void 0===e?void 0:e.id)}},[n,N]);return a.useEffect(()=>{(null==p?void 0:p.id)==null&&m.Z.fetchGuildEvent(n,N),E.Z.getGuildEventUserCounts(n,N,null!=f?[f]:[]),E.Z.getGuildEventsForCurrentUser(n)},[N,n,null==p?void 0:p.id,f]),(0,i.jsx)(T.ZP,{guild:C,channel:g,guildScheduledEvent:p,isMember:S,onAcceptInstantInvite:h.dG,onTransitionToInviteChannel:function(){if((0,r.n)(n)){(0,l.hk)(n);return}(null==g?void 0:g.isGuildStageVoice())?(0,o.Cq)(g):(null==g?void 0:g.isGuildVoice())&&m.Z.joinVoiceEvent(g.guild_id,g.id)},recurrenceId:f})}},364097:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(197409),r=n(846587),o=n(409059),c=n(58346),d=n(689938),u=n(227210),_=n(637091);function E(e){var t;let{code:E}=e,I=(0,a.e7)([o.Z],()=>o.Z.getGuildTemplate(E));if(null==I||I.state===c.Rj.RESOLVING)return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(l.Z.Header,{text:d.Z.Messages.GUILD_TEMPLATE_RESOLVING_TITLE}),(0,i.jsx)(l.Z.Body,{resolving:!0})]});if(I.state===c.Rj.EXPIRED)return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(l.Z.Header,{text:d.Z.Messages.GUILD_TEMPLATE_INVALID_TITLE}),(0,i.jsxs)(l.Z.Body,{children:[(0,i.jsx)(l.Z.Icon,{expired:!0}),(0,i.jsx)(l.Z.Info,{expired:!0,title:d.Z.Messages.GUILD_TEMPLATE_INVALID_SUBTITLE})]})]});let m=__OVERLAY__?(0,i.jsx)(l.Z.Button,{isDisabled:!0,color:l.Z.Button.Colors.PRIMARY,children:d.Z.Messages.GUILD_TEMPLATE_EMBED_VIEW_IN_APP}):(0,i.jsx)(l.Z.Button,{onClick:()=>{(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("10778"),n.e("22921")]).then(n.bind(n,766775));return t=>(0,i.jsx)(e,{...t,guildTemplate:I})})},submitting:I.state===c.Rj.ACCEPTING,color:l.Z.Button.Colors.GREEN,children:d.Z.Messages.GUILD_TEMPLATE_OPEN});return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(l.Z.Header,{text:d.Z.Messages.GUILD_TEMPLATE_RESOLVED_EMBED_TITLE}),(0,i.jsxs)(l.Z.Body,{children:[(0,i.jsxs)("div",{className:_.headerLine,children:[(0,i.jsx)(r.Z,{className:u.icon}),(0,i.jsx)(l.Z.Info,{title:I.name,children:d.Z.Messages.GUILD_TEMPLATE_USAGES.format({usageCount:String(null!==(t=I.usageCount)&&void 0!==t?t:0)})})]}),m]})]})}},495129:function(e,t,n){n.d(t,{H:function(){return S}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(442837),r=n(481060),o=n(904245),c=n(287734),d=n(957730),u=n(739566),_=n(599706),E=n(703656),I=n(592125),m=n(430824),T=n(594174),h=n(938475),N=n(622116),f=n(5192),p=n(981631),C=n(689938),g=n(531878);function S(e){var t,n,a,S,A,R,x,O,M,v;let{message:L,channel:Z}=e,P=null===(a=L.embeds[0])||void 0===a?void 0:null===(n=a.fields)||void 0===n?void 0:null===(t=n.find(e=>{let{rawName:t}=e;return"guild_id"===t}))||void 0===t?void 0:t.rawValue,b=null===(R=L.embeds[0])||void 0===R?void 0:null===(A=R.fields)||void 0===A?void 0:null===(S=A.find(e=>{let{rawName:t}=e;return"channel_id"===t}))||void 0===S?void 0:S.rawValue,D=(0,l.e7)([m.Z],()=>m.Z.getGuild(P)),j=(0,l.e7)([I.Z],()=>I.Z.getChannel(b)),U=(0,l.e7)([T.default],()=>T.default.getCurrentUser()),y=(0,l.e7)([],()=>L.author.id===(null==U?void 0:U.id)),B=null===(x=Z.recipients)||void 0===x?void 0:x.find(e=>e!==L.author.id),k=(0,l.e7)([T.default],()=>null!=B?T.default.getUser(B):null),G=(0,u.ZP)(L),F=(0,f._T)(Z.getGuildId(),Z.id,k),w=(0,l.Wu)([h.ZP],()=>null!=j?h.ZP.getVoiceStatesForChannel(j):[],[j]),V=w.some(e=>e.user.id===(null==U?void 0:U.id)),H=null===(v=L.embeds[0])||void 0===v?void 0:null===(M=v.fields)||void 0===M?void 0:null===(O=M.find(e=>{let{rawName:t}=e;return"voice_user_ids"===t}))||void 0===O?void 0:O.rawValue,Y=null!=H?H.split(","):[],W=(0,l.Wu)([T.default],()=>Y.map(e=>T.default.getUser(e)).filter(Boolean)),z=y&&null!=k?C.Z.Messages.WAVED_AT_USER.format({username:F}):C.Z.Messages.WAVED_AT_YOU.format({username:G.nick}),K=null!=D&&null!=j,Q=null;Q=K?y||V?C.Z.Messages.YOU_ARE_IN_CHANNEL.format({channelHook:(e,t)=>(0,i.jsx)(N.Z,{channel:null!=j?j:void 0},t)}):C.Z.Messages.THEY_ARE_IN_CHANNEL.format({channelHook:(e,t)=>(0,i.jsx)(N.Z,{channel:null!=j?j:void 0},t)}):C.Z.Messages.CANNOT_ACCESS_HANGOUT,0===w.length&&(Q=y?C.Z.Messages.HANGOUT_OVER_SENDER:C.Z.Messages.HANGOUT_OVER_RECEIVER);let q=y?C.Z.Messages.WAVE_AGAIN:C.Z.Messages.WAVE_BACK;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:g.card,children:[(0,i.jsx)(r.Text,{variant:"text-md/semibold",color:"header-primary",children:z}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",color:"header-secondary",children:Q}),w.length>0?(0,i.jsx)("div",{className:g.participants,children:(0,i.jsx)(_.Z,{guildId:P,partySize:{knownSize:w.length,unknownSize:0,totalSize:w.length},members:w.map(e=>e.user),maxAvatarsShown:5})}):(0,i.jsx)("div",{className:s()(g.participants,g.disabled),children:(0,i.jsx)(_.Z,{guildId:P,partySize:{knownSize:W.length,unknownSize:Y.length-W.length,totalSize:Y.length},members:W,maxAvatarsShown:5})})]}),(0,i.jsxs)("div",{className:g.actions,children:[(0,i.jsxs)(r.Button,{color:r.Button.Colors.BRAND,onClick:()=>{null!=b&&null!=P&&((0,E.uL)(p.Z5c.CHANNEL(P,b)),c.default.selectVoiceChannel(b))},className:g.button,innerClassName:g.buttonInner,disabled:V||!K,children:[(0,i.jsx)(r.VoiceNormalIcon,{size:"md",color:"currentColor"}),C.Z.Messages.JOIN_HANGOUT]}),(0,i.jsx)(r.Button,{color:r.Button.Colors.PRIMARY,onClick:()=>{o.Z.sendMessage(Z.id,d.ZP.parse(Z,"\uD83D\uDC4B"))},className:g.button,children:q})]})]})}},110255:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(776568),r=n(218035),o=n(775666),c=n(858822),d=n(423589),u=n(131704),_=n(430824);function E(e){let{channel:t,closePopout:n,onSelect:E,navId:I,label:m,location:T,includeGuildMute:h}=e,N=(0,r.c)(t),f=(0,o.EQ)(t),p=(0,a.e7)([_.Z],()=>_.Z.getGuild(t.guild_id)),C=(0,c.Z)(p),g=(0,d.Mn)("ChannelNotificationSettingsPopoutMenu")&&u.$N.has(t.type);return(0,i.jsxs)(s.Menu,{navId:I,onClose:n,"aria-label":m,onSelect:E,children:[(0,i.jsx)(s.MenuGroup,{children:(0,l.ZP)(t,T)}),h?(0,i.jsx)(s.MenuGroup,{children:C}):null,g?f:(0,i.jsx)(s.MenuGroup,{children:N})]})}},984370:function(e,t,n){n.d(t,{O:function(){return S}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(873546),r=n(442837),o=n(100527),c=n(906732),d=n(320007),u=n(141321),_=n(208450),E=n(594174),I=n(502568),m=n(358085),T=n(998502),h=n(300986),N=n(314451),f=n(35583),p=n(981631),C=n(176505),g=n(656847);async function S(){if((0,m.isMac)()&&m.isPlatformEmbedded){var e,t,n;let i=null!==(n=await (null===(e=(t=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===e?void 0:e.call(t)))&&void 0!==n?n:"Maximize";"Minimize"===i?T.ZP.minimize():"Maximize"===i&&T.ZP.maximize()}}function A(e){let{children:t,className:n,channelId:a,guildId:s,innerClassname:o,transparent:c=!1,toolbar:m,mobileToolbar:T,"aria-label":p,"aria-labelledby":C,scrollable:A,role:R,hideSearch:x,showDivider:O}=e,M=(0,r.e7)([E.default],()=>E.default.getCurrentUser()),v=(null==M?void 0:M.isStaff())||(null==M?void 0:M.isStaffPersonal())||!1;return(0,i.jsx)(I.ZP,{className:n,innerClassName:o,toolbar:function(){if(null==m)return null;let e=null!=a&&!x;return l.tq?T:(0,i.jsxs)(i.Fragment,{children:[m,e?(0,i.jsx)(_.Z,{className:g.search},null!=s?s:a):null,O&&(0,i.jsx)(I.ZP.Divider,{}),(0,i.jsx)(f.Z,{}),(0,i.jsx)(d.Z,{canShowReminder:!0}),(0,i.jsx)(u.Z,{}),v?(0,i.jsx)(N.Z,{}):(0,i.jsx)(h.Z,{})]})}(),transparent:c,onDoubleClick:S,"aria-label":p,"aria-labelledby":C,role:R,scrollable:A,children:t})}function R(e){let{children:t,className:n,"aria-label":a,"aria-labelledby":s,role:l}=e;return(0,i.jsx)(I.ZP,{className:n,onDoubleClick:S,"aria-label":a,"aria-labelledby":s,role:l,children:t})}function x(e){let{isAuthenticated:t=!0,...n}=e,{analyticsLocations:a}=(0,c.ZP)(o.Z.HEADER_BAR),l=s()(n.className,{[g.forumOrHome]:null!=n.channelType&&p.TPd.GUILD_THREADS_ONLY.has(n.channelType)||n.channelId===C.oC.GUILD_HOME});return(0,i.jsx)(c.Gt,{value:a,children:t?(0,i.jsx)(A,{...n,className:l}):(0,i.jsx)(R,{...n,className:l})})}x.Title=I.ZP.Title,x.Icon=I.ZP.Icon,x.Divider=I.ZP.Divider,x.Caret=I.ZP.Caret,t.Z=x},300986:function(e,t,n){n.d(t,{Z:function(){return T}}),n(47120);var i=n(735250);n(470079);var a=n(442837),s=n(692547),l=n(481060),r=n(706454),o=n(594174),c=n(502568),d=n(626135),u=n(63063),_=n(51144),E=n(981631),I=n(689938);let m=new Set(["ko","ja"]);function T(){let e=(0,a.e7)([o.default],()=>o.default.getCurrentUser()),t=(0,a.e7)([r.default],()=>r.default.locale),n=(0,_.EO)(e);return(0,i.jsx)(l.Anchor,{href:u.w,target:"_blank",tabIndex:-1,children:(0,i.jsx)(c.JO,{color:n?s.Z.unsafe_rawColors.GREEN_360.css:"currentColor",onClick:()=>d.default.track(E.rMx.HELP_CLICKED,{highlighted:n}),icon:l.CircleQuestionIcon,tooltipPosition:m.has(t)?"left":void 0,tooltip:I.Z.Messages.HELP})})}},314451:function(e,t,n){n.d(t,{Z:function(){return E}}),n(47120);var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(782568),o=n(31336),c=n(906467),d=n(502568),u=n(63063),_=n(689938);function E(){let e=(0,s.e7)([c.Z],()=>c.Z.isDeveloper),[t,E]=a.useState(!1),[I,m]=a.useState(0),T=e=>{clearTimeout(I),m(setTimeout(()=>{E(e)},100))};return(0,i.jsx)("div",{onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:(0,i.jsx)(l.Popout,{shouldShow:t,animation:l.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestOpen:()=>E(!0),onRequestClose:()=>E(!1),renderPopout:()=>(function(e){let{onClose:t,isDiscordDeveloper:a}=e;return(0,i.jsx)(l.Menu,{onSelect:()=>{},navId:"staff-help-popout",variant:"fixed",onClose:t,"aria-label":_.Z.Messages.GUILD_ACTIONS_MENU_LABEL,children:(0,i.jsxs)(l.MenuGroup,{children:[(0,i.jsx)(l.MenuItem,{id:"staff-help-bug-reporter",label:_.Z.Messages.BUG_REPORT_TITLE,icon:l.BugIcon,action:()=>(0,l.openModalLazy)(async()=>{let{default:e}=await n.e("83051").then(n.bind(n,115072));return t=>(0,i.jsx)(e,{...t})})}),a&&(0,i.jsx)(l.MenuItem,{id:"staff-devtools",label:"Toggle DevTools",icon:l.StaffBadgeIcon,action:()=>(0,o.SO)()}),(0,i.jsx)(l.MenuItem,{id:"staff-help-center",label:"Go to Help Center",icon:l.WindowLaunchIcon,action:()=>(0,r.Z)(u.w)})]})})})({onClose:()=>E(!1),isDiscordDeveloper:e}),children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(d.JO,{...e,icon:l.BugIcon,"aria-label":_.Z.Messages.HELP,selected:n})}})})}},35583:function(e,t,n){n(47120);var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(668781),o=n(431583),c=n(91372),d=n(19780),u=n(502568),_=n(35818),E=n(689938),I=n(656847);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends a.PureComponent{static getDerivedStateFromProps(e,t){return e.mode!==t.memoizedMode?{memoizedMode:e.mode,clicked:!1}:null}handleDownloadApps(){(0,l.openModal)(e=>(0,i.jsx)(o.default,{source:"Links",...e}))}render(){switch(this.props.mode){case"UPDATE_AVAILABLE":return(0,i.jsx)(u.JO,{hideOnClick:!1,tooltip:E.Z.Messages.UPDATE_AVAILABLE,foreground:I.downloadArrow,background:I.cloud,icon:l.DownloadIcon});case"UPDATE_MANUALLY":case"UPDATE_DOWNLOADED":return(0,i.jsx)(u.JO,{tooltip:E.Z.Messages.UPDATE_DOWNLOADED,foreground:I.updateIconForeground,onClick:this.handleInstallDownload,icon:l.DownloadIcon});default:return null}}constructor(...e){super(...e),m(this,"state",{memoizedMode:this.props.mode,clicked:!1}),m(this,"handleInstallDownload",()=>{d.Z.isConnected()?r.Z.show({title:E.Z.Messages.UPDATE_DURING_CALL_TITLE,body:E.Z.Messages.UPDATE_DURING_CALL_BODY,onConfirm:this.doUpdate,cancelText:E.Z.Messages.CANCEL,confirmText:E.Z.Messages.UPDATE_DURING_CALL_CONTINUE}):this.doUpdate()}),m(this,"doUpdate",()=>{!this.state.clicked&&(this.setState({clicked:!0}),(0,_.Q)())})}}t.Z=s.ZP.connectStores([c.Z],()=>({mode:c.Z.getState()}))(T)},859428:function(e,t,n){n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(442837),o=n(481060),c=n(749210),d=n(703656),u=n(430824),_=n(914010),E=n(900849),I=n(41776),m=n(981631),T=n(689938),h=n(595708),N=n(40578);t.Z=()=>{let e=(0,r.e7)([_.Z],()=>_.Z.getGuildId(),[]),t=(0,r.e7)([u.Z],()=>u.Z.getGuild(e),[e]),n=(0,r.e7)([I.Z],()=>I.Z.getHistorySnapshot(),[]),[s,f]=a.useState(!1);if(null==t)return null;let p=async()=>{f(!0);try{E.mT(t.id),await c.Z.joinGuild(t.id,{source:m.vtS.NOTICE_BAR})}catch{f(!1)}};return(0,i.jsxs)("div",{className:l()(h.notice,N.notice),children:[(0,i.jsxs)(o.Button,{look:o.Button.Looks.OUTLINED,color:o.Button.Colors.WHITE,size:o.Button.Sizes.NONE,className:l()(h.button,h.back),innerClassName:h.iconButton,onClick:()=>{let e=(0,d.s1)();null!=n&&null!=n.location?(0,d.dL)({...n.location}):e.goBack()},children:[(0,i.jsx)(o.ArrowSmallLeftIcon,{size:"xs",color:"currentColor",className:h.arrow}),T.Z.Messages.BACK]}),(0,i.jsx)(o.Text,{className:h.header,variant:"text-sm/normal",children:T.Z.Messages.LURKER_MODE_NAG_BAR_HEADER}),(0,i.jsx)(o.Button,{className:h.button,look:o.Button.Looks.OUTLINED,color:o.Button.Colors.WHITE,size:o.Button.Sizes.NONE,submitting:s,onClick:p,children:T.Z.Messages.LURKER_MODE_NAG_BAR_BUTTON.format({guild:t.name})})]})}},158222:function(e,t,n){n.d(t,{V6:function(){return c},fn:function(){return r},xP:function(){return o}});var i=n(544891),a=n(570140),s=n(881052),l=n(981631);function r(e){a.Z.dispatch({type:"DISMISS_MEDIA_POST_SHARE_PROMPT",threadId:e})}async function o(e){a.Z.dispatch({type:"MEDIA_POST_EMBED_FETCH",threadId:e});try{let t=(await i.tn.get({url:l.ANM.MEDIA_POST_RESHARE_GET_PREVIEW(e)})).body;a.Z.dispatch({type:"MEDIA_POST_EMBED_FETCH_SUCCESS",threadId:e,mediaPostEmbed:t})}catch(t){a.Z.dispatch({type:"MEDIA_POST_EMBED_FETCH_FAILURE",threadId:e})}}async function c(e){try{return(await i.tn.post({url:l.ANM.UNFURL_EMBED_URLS,body:{urls:e}})).body}catch(e){throw new s.Hx(e)}}},312146:function(e,t,n){n.d(t,{Ui:function(){return l},p$:function(){return o}});var i=n(818083),a=n(981631);let s=(0,i.B)({kind:"guild",id:"2023-03_guild_media_channel",label:"Media Channel",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enables guild to create a media channel",config:{enabled:!0}}]});function l(e){var t;let{enabled:n}=s.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:a.lds,location:"96e84c_1"},{autoTrackExposure:!0});return(null==e?void 0:e.id)!=null&&n}let r=(0,i.B)({kind:"user",id:"2023-04_guild_media_channel_post_preview_embed_users",label:"Guild Role Subscription Users",defaultConfig:{enabledForUser:!1},treatments:[{id:1,label:"Enables for users Guild Media Post Preview Embeds",config:{enabledForUser:!0}}]});function o(){let{enabledForUser:e}=r.useExperiment({location:"96e84c_2"},{autoTrackExposure:!0});return e}},487554:function(e,t,n){n.d(t,{M:function(){return r}});var i,a,s,l,r,o=n(442837),c=n(570140);(i=r||(r={}))[i.NOT_FETCHED=0]="NOT_FETCHED",i[i.FETCHING=1]="FETCHING",i[i.FETCHED=2]="FETCHED",i[i.FAILED=3]="FAILED";let d={},u={};class _ extends o.yh{getMediaPostEmbed(e){if(null!=e)return d[e]}getEmbedFetchState(e){var t;return null!==(t=u[e])&&void 0!==t?t:0}getMediaPostEmbeds(){return d}}l="MediaPostEmbedStore",(s="displayName")in(a=_)?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,t.Z=new _(c.Z,{CONNECTION_OPEN:function(){d={},u={}},MEDIA_POST_EMBED_FETCH:function(e){let{threadId:t}=e;u[t]=1},MEDIA_POST_EMBED_FETCH_SUCCESS:function(e){let{threadId:t,mediaPostEmbed:n}=e;d={...d,[t]:n},u[t]=2},MEDIA_POST_EMBED_FETCH_FAILURE:function(e){let{threadId:t}=e;u[t]=3},LOGOUT:function(e){!e.isSwitchingAccount&&(d={},u={})}})},495114:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(325767);function s(e){let{width:t=14,height:n=18,color:s="currentColor",...l}=e;return(0,i.jsx)("svg",{...(0,a.Z)(l),width:t,height:n,viewBox:"0 0 10 14",fill:"none",children:(0,i.jsx)("path",{d:"M8.33325 6.33301V3.66634C8.33325 1.82834 6.83725 0.333008 4.99992 0.333008C3.16125 0.333008 1.66659 1.82834 1.66659 3.66634V6.33301C0.931252 6.33301 0.333252 6.93034 0.333252 7.66634V12.333C0.333252 13.0683 0.931252 13.6663 1.66659 13.6663H8.33325C9.06859 13.6663 9.66659 13.0683 9.66659 12.333V7.66634C9.66659 6.93034 9.06859 6.33301 8.33325 6.33301ZM4.99992 10.9997C4.44792 10.9997 3.99992 10.5517 3.99992 9.99967C3.99992 9.44767 4.44792 8.99967 4.99992 8.99967C5.55192 8.99967 5.99992 9.44767 5.99992 9.99967C5.99992 10.5517 5.55192 10.9997 4.99992 10.9997ZM6.99992 6.33301H2.99992V3.66634C2.99992 2.56367 3.89725 1.66634 4.99992 1.66634C6.10259 1.66634 6.99992 2.56367 6.99992 3.66634V6.33301Z",fill:s})})}},346013:function(e,t,n){n.d(t,{Z:function(){return y}}),n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(512722),o=n.n(r),c=n(772848),d=n(831209),u=n(399606),_=n(481060),E=n(607070),I=n(100527),m=n(367907),T=n(1585),h=n(841762),N=n(336197),f=n(406432),p=n(348238),C=n(38267),g=n(484459),S=n(103575),A=n(695346),R=n(271383),x=n(594174),O=n(768581),M=n(900849),v=n(506071),L=n(495114),Z=n(170140),P=n(981631),b=n(959517),D=n(689938),j=n(84427),U=n(527455);function y(e){var t,n,s;let{embedUrl:r,message:y,channel:B}=e,k=(0,Z.J)(r,y),{setPopout:G}=(0,C.Z)(y.id,b.d$),F=(0,p.qo)(y,B,G,!0),w=A.QK.useSetting(),V=(0,v.n)(),[H,Y]=a.useState(!1),[W,z]=a.useState((null==k?void 0:k.coverImage)==null),K=(0,u.e7)([E.Z],()=>E.Z.useReducedMotion),Q=(0,u.e7)([R.ZP,x.default],()=>{var e;return R.ZP.isMember(null==k?void 0:k.guildId,null===(e=x.default.getCurrentUser())||void 0===e?void 0:e.id)},[k]),q=(0,u.e7)([R.ZP],()=>(null==k?void 0:k.authorId)!=null?R.ZP.getMember(k.guildId,k.authorId):null),[X,J]=a.useMemo(()=>{var e;return[null!==(e=null==q?void 0:q.colorString)&&void 0!==e?e:"inherit",null==q?void 0:q.colorRoleId]},[q]),{reducedMotion:$}=a.useContext(_.AccessibilityPreferencesContext),[ee,et]=a.useState(!1),en=a.useCallback(()=>{Y(!0)},[Y]),ei=a.useCallback(()=>{Y(!1)},[Y]),ea=a.useCallback(async()=>{null!=k&&((0,m.yw)(P.rMx.MEDIA_POST_PREVIEW_EMBED_CLICKED,{media_post_id:k.threadId,channel_id:B.id,can_access:k.canAccess,is_member:Q}),k.canAccess?(0,N.Z)(P.Z5c.CHANNEL(k.guildId,k.threadId,k.messageId)):Q?(0,N.Z)(P.Z5c.CHANNEL(k.guildId,k.parentChannelId)):await M.Ub(k.guildId,{},{channelId:k.parentChannelId}))},[k,B,Q]),es=a.useCallback(()=>(o()((null==k?void 0:k.authorId)!=null,"Author Id cannot be null when loading user profile"),(0,g.W)(k.authorId,k.avatarUrl,{guildId:k.guildId,channelId:B.id})),[k,B]);if(null==k)return null;let el=(e,t)=>(o()(null!=k.authorId,"Author Id cannot be null when rendering user popout"),(0,i.jsx)(S.Z,{...e,location:"MediaPostEmbed",userId:k.authorId,guildId:k.guildId,channelId:B.id,messageId:y.id,roleId:J,newAnalyticsLocations:t})),er=(0,O.NZ)({avatarDecoration:(null==q?void 0:q.avatarDecoration)!=null?null==q?void 0:q.avatarDecoration:null===(t=k.user)||void 0===t?void 0:t.avatarDecoration,size:(0,T.y9)(_.AvatarSizes.SIZE_40),canAnimate:ee}),eo=null===(n=k.user)||void 0===n?void 0:n.getAvatarURL(k.guildId,40,ee),ec=()=>{if(!$.enabled)et(e=>!e)},ed=k.coverImage,eu=null!=ed&&(0,f.d$)(ed);return(0,i.jsxs)("div",{className:j.postPreviewContainer,children:[(0,i.jsxs)("div",{className:j.thumbnailContainer,onMouseEnter:en,onMouseLeave:ei,children:[!W&&(!0===k.shouldShowBlurredThumbnailImage?(0,i.jsx)("img",{src:U,alt:D.Z.Messages.MEDIA_POST_EMBED_THUMBNAIL_ALT,className:l()(j.thumbnail,{[j.spoiler]:k.shouldSpoiler}),onContextMenu:F,onError:()=>z(!0)}):(0,i.jsx)(h.Z,{src:!(V&&(w||H))&&eu?"".concat(ed,"?format=png"):ed,backgroundSrc:"".concat(ed,"?format=png"),alt:D.Z.Messages.MEDIA_POST_EMBED_THUMBNAIL_ALT,aspectRatio:16/9,className:l()(j.thumbnail,{[j.spoiler]:k.shouldSpoiler}),imageChildClassName:j.thumbnailImage,onContextMenu:F,onError:()=>z(!0)})),null!=k.coverImageOverlayText&&(0,i.jsx)(_.Clickable,{onClick:ea,children:(0,i.jsx)("div",{className:j.thumbnailOverlay,children:(0,i.jsxs)("div",{className:j.thumbnailOverlayCta,children:[(0,i.jsx)(L.Z,{color:d.Z.WHITE}),(0,i.jsx)(_.Text,{variant:"text-sm/semibold",color:"always-white",children:k.coverImageOverlayText})]})})})]}),(0,i.jsxs)("div",{className:j.descriptionContainer,children:[(0,i.jsxs)("div",{className:j.descriptionHeader,children:[(0,i.jsx)(_.Text,{variant:"text-md/semibold",color:"text-normal",className:j.descriptionHeaderText,children:k.title}),(0,i.jsx)(_.Text,{variant:"text-sm/normal",color:"text-muted",className:l()(j.descriptionHeaderText,j.descriptionSubtitle),children:k.subtitle})]}),(0,i.jsxs)("div",{className:j.descriptionFooter,children:[null!=eo&&(0,i.jsx)(_.Popout,{renderPopout:e=>el(e,[I.Z.AVATAR]),position:"right",spacing:12,preload:null==k.authorId?void 0:es,children:e=>(0,i.jsx)("div",{onMouseEnter:ec,onMouseLeave:ec,children:(0,i.jsx)(_.Avatar,{...e,size:_.AvatarSizes.SIZE_40,src:eo,"aria-label":D.Z.Messages.MEDIA_POST_EMBED_AUTHOR_AVATAR_ALT,avatarDecoration:er})})}),(0,i.jsxs)("div",{className:j.descriptionFooterContainer,children:[(0,i.jsxs)("div",{className:j.descriptionFooterChannelName,children:[null!=k.channelName&&(0,i.jsx)(_.ImageSparkleIcon,{size:"md",color:"currentColor",className:j.mediaChannelIcon}),(0,i.jsx)(_.Clickable,{onClick:ea,className:j.channelName,children:(0,i.jsx)(_.Heading,{variant:"heading-md/semibold",color:"header-primary",children:null!==(s=k.channelName)&&void 0!==s?s:k.guildName})})]}),null!=k.authorName&&(0,i.jsx)(_.Text,{variant:"text-sm/medium",color:"text-muted",className:j.descriptionFooterAuthorContainer,children:D.Z.Messages.MEDIA_POST_EMBED_FOOTER_WEB.format({authorName:k.authorName,authorNameHook:()=>(0,i.jsx)(_.Popout,{renderPopout:e=>el(e,[I.Z.USERNAME]),position:"right",preload:null==k.authorId?void 0:es,children:e=>(0,i.jsx)(_.NameWithRoleAnchor,{...e,name:k.authorName,color:X,className:j.authorName})},(0,c.Z)())})})]}),k.canAccess?(0,i.jsx)(_.Button,{color:_.ButtonColors.BRAND,onClick:ea,children:(0,i.jsx)(_.Text,{variant:"text-sm/medium",color:"always-white",children:k.ctaText})}):(0,i.jsx)(_.ShinyButton,{pauseAnimation:K,onClick:ea,className:l()(j.__invalid_ctaButtonContent,j.subscribeButton),color:_.Button.Colors.CUSTOM,children:(0,i.jsx)(_.Text,{variant:"text-sm/medium",color:"always-white",children:k.ctaText})})]})]})]})}},170140:function(e,t,n){n.d(t,{J:function(){return N}});var i=n(470079),a=n(399606),s=n(430198),l=n(754688),r=n(314897),o=n(592125),c=n(271383),d=n(430824),u=n(914010),_=n(594174),E=n(158222),I=n(312146),m=n(487554),T=n(874748),h=n(981631);function N(e,t){let n=(0,I.p$)(),N=(0,T.LR)(e),f=(0,a.e7)([c.ZP,r.default],()=>{let e=r.default.getId();return c.ZP.isMember(null==N?void 0:N.guildId,e)},[N]),p=(0,a.e7)([s.Z],()=>null!=N&&(null==N?void 0:N.channelId)!=null&&s.Z.isChannelGated(N.guildId,N.channelId),[N]),C=t.hasFlag(h.iLy.IS_CROSSPOST),{rawMediaPostEmbedData:g,guild:S,parentChannel:A,user:R,selectedGuildId:x,canAccess:O}=(0,a.cj)([m.Z,d.Z,o.Z,_.default,u.Z],()=>{var e;let t=null===(e=m.Z.getMediaPostEmbed(null==N?void 0:N.threadId))||void 0===e?void 0:e.media,n=d.Z.getGuild(null==N?void 0:N.guildId),i=o.Z.getChannel(null==N?void 0:N.channelId),a=_.default.getUser(null==t?void 0:t.author_id),s=u.Z.getGuildId(),r=null!=i&&(0,l.YO)(i);return{rawMediaPostEmbedData:t,guild:n,parentChannel:i,user:a,selectedGuildId:s,canAccess:r}},[N]),M=i.useMemo(()=>{let e=(0,T.ku)({mediaPostEmbedData:g,guild:S,parentChannel:A,user:R,selectedGuildId:x,canAccess:O});return null==e?null:{...e,user:R}},[g,S,A,R,x,O]);return i.useEffect(()=>{if((null==N?void 0:N.threadId)!=null){let e=m.Z.getEmbedFetchState(N.threadId);!0===n&&e===m.M.NOT_FETCHED&&(!f||!1!==p)&&(f||!C)&&(0,E.xP)(null==N?void 0:N.threadId)}},[N,n,f,p,C]),M}},610697:function(e,t,n){n.d(t,{Z:function(){return c}}),n(47120);var i=n(470079),a=n(442837),s=n(594174),l=n(823162),r=n(355298);let o=new Set(["GB"]);function c(){let e=(0,a.e7)([r.Z],()=>r.Z.getUserCountryCode()),t=!1===(0,a.e7)([s.default],()=>{var e;return null===(e=s.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed});return i.useEffect(()=>{null==e&&(0,l.hi)()},[e]),!!(null!=e&&o.has(e.alpha2))&&!!t||!1}},203965:function(e,t,n){n.d(t,{N:function(){return c}}),n(47120);var i=n(470079),a=n(442837),s=n(904245),l=n(592125),r=n(375954),o=n(822893);function c(e){let t=(0,a.Wu)([l.Z,r.Z],()=>e.filter(e=>null!=l.Z.getChannel(e.channelId)).map(e=>r.Z.getMessage(e.channelId,e.messageId)).filter(e=>null!=e)),n=e.filter(e=>null==r.Z.getMessage(e.channelId,e.messageId)),[c,d]=i.useState(0===n.length);return i.useEffect(()=>{(0,o.sE)()},[]),i.useEffect(()=>{if(!c)n.forEach(e=>{try{s.Z.fetchMessages({channelId:e.channelId,limit:1,jump:{messageId:e.messageId,flash:!1,offset:1}})}catch{}}),d(!0)},[n,c]),t}},570907:function(e,t,n){n.d(t,{p:function(){return u}});var i=n(106351),a=n(131704),s=n(23750),l=n(598077),r=n(592125),o=n(375954),c=n(594174),d=n(981631);function u(e){var t,n,u;let _=o.Z.getMessage(e.channelId,e.messageId),E=c.default.getUser(e.authorId),I=r.Z.getChannel(e.channelId),m=null!=E?E:new l.Z({id:e.authorId,username:e.authorSummary}),T=new s.ZP({id:e.messageId,channel_id:e.channelId,author:m,content:e.messageSummary}),h=null==e.guildId?new a.cE({id:e.channelId,type:i.d.DM,name:null!==(t=e.channelSummary)&&void 0!==t?t:"",guild_id:d.lds,recipients:[null!==(n=e.authorId)&&void 0!==n?n:d.lds]}):new a.DA({id:e.channelId,type:null==e.guildId?i.d.DM:i.d.GUILD_TEXT,name:null!==(u=e.channelSummary)&&void 0!==u?u:"",guild_id:e.guildId});return{channel:null!=I?I:h,message:null!=_?_:T}}},63205:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2023-07_announcement_views",label:"Announcement Views",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});t.Z=i},226378:function(e,t,n){n.d(t,{NL:function(){return c}});var i,a,s=n(470079),l=n(867176),r=n(527805),o=n(689938);function c(e){let{embeddedActivity:t,joinability:n,currentEmbeddedActivity:i,channel:a}=e;return s.useMemo(()=>(function(e){let{embeddedActivity:t,joinability:n,currentEmbeddedActivity:i,channel:a}=e,s=null==t,c={disabled:!1,isJoinAction:!s,text:s?o.Z.Messages.START:o.Z.Messages.EMBEDDED_ACTIVITIES_JOIN,tooltip:void 0},d=(0,l.WS)(a,s,"EmbeddedApplicationInstanceUtils");if(null!=t&&null!=i&&t.launchId===i.launchId)return{...c,disabled:!0,text:o.Z.Messages.EMBEDDED_ACTIVITIES_JOINED,tooltip:o.Z.Messages.EMBEDDED_ACTIVITIES_ALREADY_IN_ACTIVITY};if(s)return{...c,disabled:!d,tooltip:d?void 0:o.Z.Messages.EMBEDDED_ACTIVITIES_LAUNCH_DISABLED_START};if(null!=n&&n!==r.Fw.CAN_JOIN){let e;switch(n){case r.Fw.NO_USE_EMBEDDED_ACTIVITIES_PERMISSION:e=o.Z.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS;break;case r.Fw.ACTIVITY_AGE_GATED:e=o.Z.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_AGE_GATE;break;case r.Fw.ACTIVITIES_FEATURE_NOT_ENABLED_FOR_OS:e=o.Z.Messages.EMBEDDED_ACTIVITIES_APPLICATION_UNSUPPORTED_OS;break;case r.Fw.ACTIVITY_NOT_SUPPORTED_ON_OS:e=o.Z.Messages.EMBEDDED_ACTIVITIES_NOT_AVAILABLE_ON_OS;break;case r.Fw.CHANNEL_FULL:e=o.Z.Messages.UNABLE_TO_JOIN_CHANNEL_FULL;break;case r.Fw.NO_CHANNEL_CONNECT_PERMISSION:e=o.Z.Messages.EMBEDDED_ACTIVITIES_INSTANCE_EMBED_NO_VOICE_PERMISSION;break;case r.Fw.NO_CHANNEL:case r.Fw.NO_GUILD:case r.Fw.NO_USER:case r.Fw.IS_AFK_CHANNEL:e=o.Z.Messages.EMBEDDED_ACTIVITIES_INSTANCE_EMBED_INVALID_CHANNEL}return{...c,disabled:!0,tooltip:e}}return c})({embeddedActivity:t,joinability:n,currentEmbeddedActivity:i,channel:a}),[t,n,i,a])}(i=a||(a={}))[i.ACTIVE=0]="ACTIVE",i[i.ENDED=1]="ENDED"},161010:function(e,t,n){n.d(t,{M:function(){return a}});let i=(0,n(818083).B)({kind:"user",id:"2023-10_social_proofing_file_size",label:"Social Proofing File Size",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Should show nitro upsell for large files",config:{enabled:!0}}]});function a(e){return i.getCurrentConfig({location:e}).enabled}},461157:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e){let t=0;return""!==e.content&&t++,null!=e.activity&&t++,(e.stickers.length>0||e.stickerItems.length>0)&&t++,e.components.length>0&&t++,e.messageSnapshots.length>0&&t++,null!=e.poll&&t++,t}},850908:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e){if(null!=e.title&&null!=e.filename){let t=e.filename.lastIndexOf("."),n=t>0?e.filename.substr(t):"";return e.title+n}return e.filename}},277707:function(e,t,n){n.d(t,{e:function(){return a}});var i=n(689938);function a(e){let{isVoiceChannel:t,isHubGuild:n,isOwnInvite:a,isGuest:s,isStage:l,isStream:r}=e;if(t){if(a){if(r)return i.Z.Messages.INVITE_BUTTON_TITLE_INVITER_STREAM;if(l)return i.Z.Messages.INVITE_BUTTON_TITLE_INVITER_STAGE_CHANNEL;else if(s)return i.Z.Messages.GUEST_INVITE_EMBED_TITLE_SENDER;else return i.Z.Messages.INVITE_BUTTON_TITLE_INVITER_VOICE_CHANNEL}if(r)return i.Z.Messages.INVITE_BUTTON_TITLE_INVITED_STREAM;if(l)return i.Z.Messages.INVITE_BUTTON_TITLE_INVITED_STAGE_CHANNEL;else if(s)return i.Z.Messages.GUEST_INVITE_EMBED_TITLE_RECEIVER;else return i.Z.Messages.INVITE_BUTTON_TITLE_INVITED_VOICE_CHANNEL}return n?a?i.Z.Messages.INVITE_BUTTON_TITLE_INVITER_HUB:i.Z.Messages.INVITE_BUTTON_TITLE_INVITED_HUB:a?i.Z.Messages.INVITE_BUTTON_TITLE_INVITER:i.Z.Messages.INVITE_BUTTON_TITLE_INVITED}},697568:function(e,t,n){var i=n(544891),a=n(900849),s=n(981631);t.Z=e=>i.tn.get({url:s.ANM.STICKER_GUILD_DATA(e),oldFormErrors:!0}).then(e=>(null==e?void 0:e.body)!=null?(0,a.PP)(e.body):null).catch(()=>null)},900164:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(981631);function a(e,t){return e.type===i.uaV.GUILD_INVITE_REMINDER&&!t}},554838:function(e,t,n){n.d(t,{J:function(){return d},Z:function(){return u}});var i=n(55935),a=n(70956),s=n(709054),l=n(463396),r=n(901461),o=n(981631);let c=7*a.Z.Millis.MINUTE;function d(e,t,n){return null==t||t.type===o.ys_.MESSAGE&&t.content.id===t.content.channel_id||t.type!==o.ys_.MESSAGE&&t.type!==o.ys_.THREAD_STARTER_MESSAGE||u(e,t.content,n)}function u(e,t,n){if(n.hasFlag(o.iLy.HAS_THREAD)||n.isCommandType())return!0;if(n.type>o.uaV.DEFAULT)return!(0,r.Z)(t)||n.type===o.uaV.REPLY||!1;return!!((0,r.Z)(t)||t.author.id!==n.author.id||t.hasFlag(o.iLy.EPHEMERAL)!==n.hasFlag(o.iLy.EPHEMERAL)||null!=n.webhookId&&t.author.username!==n.author.username||(null==e?void 0:e.isForumPost())&&t.id===s.default.castChannelIdAsMessageId(e.id)||!(0,i._w)(t.timestamp,n.timestamp,c)||n.hasFlag(o.iLy.SUPPRESS_NOTIFICATIONS)&&!t.hasFlag(o.iLy.SUPPRESS_NOTIFICATIONS)||t.hasFlag(o.iLy.SUPPRESS_NOTIFICATIONS)&&!n.hasFlag(o.iLy.SUPPRESS_NOTIFICATIONS)&&(n.mentions.length>0||n.mentionRoles.length>0||n.mentionEveryone)||(0,l.f)(n))||!1}},50284:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(544891),a=n(569471),s=n(346479),l=n(592125),r=n(375954),o=n(306680),c=n(594174),d=n(709054),u=n(981631);async function _(e,t){let n=c.default.getCurrentUser();if(null==n)return;let _=r.Z.getMessages(e),E=_.toArray().filter(e=>0>d.default.compare(e.id,t)).sort((e,t)=>d.default.compare(e.id,t.id)).reverse()[0],I=null==E?d.default.atPreviousMillisecond(t):E.id,m=0;_.forAll(e=>{d.default.compare(e.id,I)>0&&(0,o.Ex)(e,n)&&m++});let T=l.Z.getChannel(e);null!=T&&T.isThread()&&(T.isArchivedThread()&&await s.Z.unarchiveThread(T,!1),!a.Z.hasJoined(e)&&await s.Z.joinThread(T,"Mark Unread")),i.tn.post({url:u.ANM.MESSAGE_ACK(e,I),body:{manual:!0,mention_count:m},oldFormErrors:!0})}},814082:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(981631);function a(e,t){var n;return!i.V$x.SELF_MENTIONABLE_SYSTEM.has(e.type)&&(null===(n=e.author)||void 0===n?void 0:n.id)===t}},60174:function(e,t,n){n.d(t,{X:function(){return M}}),n(789020),n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(954955),o=n.n(r),c=n(507274),d=n(481060),u=n(130402),_=n(466794),E=n(659215),I=n(222677),m=n(995774),T=n(931651),h=n(594174),N=n(630388),f=n(74538),p=n(566006),C=n(981631),g=n(185923),S=n(474936),A=n(689938),R=n(704963),x=n(667671);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M extends a.Component{render(){let{type:e,message:t,className:n,children:a,useChatFontScaling:s}=this.props,{isReactionPickerActive:r}=this.state,o=t.state===C.yb.SENDING,c=e===p.O.BURST;if(o||(0,N.yE)(t.flags,C.iLy.EPHEMERAL))return null;let E=h.default.getCurrentUser(),I=(0,f.I5)(E),m=c?A.Z.Messages.ADD_BURST_REACTION:A.Z.Messages.ADD_REACTION;!I&&c&&(m=(0,i.jsx)(_.X,{tooltipText:A.Z.Messages.ADD_BURST_REACTION}));let T=s?x:R;return(0,i.jsx)(d.Popout,{shouldShow:r,onRequestClose:this.handleReactionPickerToggle,renderPopout:this.renderReactionPopout,position:"right",children:(e,t)=>{let{isShown:s}=t;return(0,i.jsx)(d.TooltipContainer,{text:m,color:d.TooltipColors.PRIMARY,"aria-label":c?A.Z.Messages.ADD_BURST_REACTION:A.Z.Messages.ADD_REACTION,tooltipClassName:T.__invalid_addReactionTooltip,children:(0,i.jsxs)(d.Clickable,{...e,onClick:e=>{this.handleAddReactionClick(e)},onMouseEnter:()=>(0,u.x)(g.qR.AddReactionPopoutMouseEntered),onFocus:()=>(0,u.x)(g.qR.AddReactionPopoutFocused),className:l()(T.reactionBtn,{[T.active]:s},n),children:[c?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(d.SuperReactionIcon,{size:"sm",color:"currentColor",className:T.icon})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(d.ReactionIcon,{size:"sm",color:"currentColor",className:T.icon})}),a]})})}})}constructor(...e){super(...e),O(this,"state",{isReactionPickerActive:!1}),O(this,"onAddReaction",(e,t)=>{if(null==e)return;let{channel:n,message:i,isForumToolbar:a}=this.props;(0,I.rU)(n.id,i.id,(0,m.g1)(e),a?I.TW.FORUM_TOOLBAR:I.TW.MESSAGE,{burst:t})}),O(this,"handleReactionPickerToggle",()=>{this.setState(e=>({isReactionPickerActive:!e.isReactionPickerActive}))}),O(this,"handleAddReactionClick",e=>{let{type:t,channel:n}=this.props;e.stopPropagation();let i=h.default.getCurrentUser();t===p.O.BURST&&!(0,f.I5)(i)&&(0,E.openBurstReactionsUpsellModal)({analytics:{type:S.cd.BURST_REACTION_UPSELL,page:null!=n.getGuildId()?C.ZY5.GUILD_CHANNEL:C.ZY5.DM_CHANNEL,section:(0,m.s4)(n),object:C.qAy.INLINE_REACTION_PICKER_UPSELL}}),this.handleReactionPickerToggle()}),O(this,"renderReactionPopout",e=>{let{closePopout:t}=e,{type:n,channel:a,message:s}=this.props,l={openPopoutType:"message_reaction_emoji_picker",...n===p.O.BURST&&{openPopoutType:"message_super_reaction_emoji_picker",page:null!=a.getGuildId()?C.ZY5.GUILD_CHANNEL:C.ZY5.DM_CHANNEL,section:(0,m.s4)(a),object:C.qAy.REACTION_RAIL}},r=(0,i.jsx)(T.$,{closePopout:t,channel:a,onSelectEmoji:(e,n,i)=>{this.onAddReaction(e,i),n&&(i?o()(t,150)():t())},analyticsOverride:l,messageId:s.id});return(0,i.jsx)(c.M.Consumer,{children:e=>e?(0,i.jsx)(d.Dialog,{"aria-label":A.Z.Messages.REACTION_PICKER,children:r}):r})})}}},384203:function(e,t,n){n.d(t,{Z:function(){return c}}),n(47120);var i=n(735250);n(470079);var a=n(592125),s=n(430824),l=n(496675),r=n(983436),o=n(981631);function c(e){let{code:t,messageData:n}=e,[c,d]=t.split("/"),u=a.Z.getChannel(d),_=s.Z.getGuild(c);return null!=u&&u.isGuildVocal()&&null!=_&&l.Z.can(o.Plq.VIEW_CHANNEL,u)&&l.Z.can(o.Plq.CONNECT,u)?(0,i.jsx)(r.Z,{guild:_,channel:u,messageData:n}):null}},294218:function(e,t,n){n(789020);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(91192),o=n(442837),c=n(518738),d=n(628238),u=n(869765),_=n(592125),E=n(496675),I=n(998951),m=n(630388),T=n(709054),h=n(900164),N=n(739566),f=n(453687),p=n(25015),C=n(689674),g=n(438075),S=n(963550),A=n(845080),R=n(295790),x=n(145807),O=n(56744),M=n(981631),v=n(105461);t.Z=a.memo(function(e){var t;let{message:n,compact:a=!1,className:s,onContextMenu:L,onClick:Z,disableInteraction:P=!1,hideSimpleEmbedContent:b=!0,channel:D,isGroupStart:j,animateAvatar:U,subscribeToComponentDispatch:y,renderThreadAccessory:B,trackAnnouncementViews:k=!1,...G}=e,F=n.isFirstMessageInForumPost(D),w=(0,d.A)((null!==(t=n.editedTimestamp)&&void 0!==t?t:n.timestamp).valueOf()),{content:V,hasSpoilerEmbeds:H}=(0,p.Z)(n,{hideSimpleEmbedContent:b,allowList:F||w,allowHeading:F||w,allowLinks:!0,previewLinkTarget:!0}),Y=n.type===M.uaV.REPLY?n.messageReference:void 0,W=(0,o.e7)([u.Z],()=>u.Z.getMessageByReference(Y)),z=(0,r.JA)(n.id),K=(0,N.ZP)(n),Q=(0,o.e7)([_.Z],()=>n.hasFlag(M.iLy.HAS_THREAD)&&_.Z.getChannel(T.default.castMessageIdAsChannelId(n.id))),q=(0,c.p9)({guildId:D.guild_id,roleId:K.iconRoleId}),X=(0,o.e7)([E.Z],()=>E.Z.can(M.Plq.CREATE_INSTANT_INVITE,D)),J=(0,C.Z)({message:n,channel:D,enabled:k});if((0,h.Z)(n,X))return null;let $=(0,f.iG)(n),ee=(0,f.Gx)(n);return(0,i.jsx)(I.Z,{compact:a,className:l()(s,{[v.ephemeral]:(0,m.yE)(n.flags,M.iLy.EPHEMERAL),[v.disableInteraction]:P}),disableInteraction:P,childrenRepliedMessage:(0,O.Z)(n,D,Y,W,a),childrenExecutedCommand:(0,x.Z)(n,D,a),childrenHeader:(0,A.Z)({...e,guildId:D.guild_id,author:K,roleIcon:q}),childrenAccessories:e.hideAccessories?void 0:(0,g.Q)(e,H),childrenMessageContent:(0,S.Z)(e,V),childrenSystemMessage:(0,R.Z)(e),onContextMenu:L,onClick:Z,hasThread:B&&null!=Q&&n.hasFlag(M.iLy.HAS_THREAD),hasReply:n.type===M.uaV.REPLY,"aria-labelledby":$,"aria-describedby":ee,messageRef:J,...z,...G})})},633957:function(e,t,n){n.d(t,{Z:function(){return O}}),n(47120);var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(2052),o=n(317381),c=n(638880),d=n(146936),u=n(527805),_=n(952561),E=n(513202),I=n(100527),m=n(906732),T=n(973616),h=n(314897),N=n(592125),f=n(158776),p=n(594174),C=n(602623),g=n(823379),S=n(226378),A=n(701488),R=n(689938),x=n(656366);function O(e){var t;let{application:n,channelId:O,guildId:M}=e,[v,L]=a.useState(!1),{analyticsLocations:Z}=(0,m.ZP)(I.Z.ACTIVITY_INSTANCE_EMBED),P=(0,r.O)(),b=(0,_.Z)(),D=(0,s.e7)([N.Z],()=>N.Z.getChannel(O)),j=(null==D?void 0:null===(t=D.isThread)||void 0===t?void 0:t.call(D))?null==D?void 0:D.parent_id:O,U=(0,s.e7)([h.default],()=>h.default.getId()),{embeddedActivity:y,currentEmbeddedActivity:B}=(0,s.cj)([o.ZP],()=>({embeddedActivity:o.ZP.getEmbeddedActivitiesForChannel(null!=j?j:"").find(e=>e.applicationId===n.id),currentEmbeddedActivity:o.ZP.getCurrentEmbeddedActivity()})),k=(0,s.Wu)([p.default],()=>{var e;return Array.from(null!==(e=null==y?void 0:y.userIds)&&void 0!==e?e:[]).map(e=>p.default.getUser(e)).filter(g.lm)}),G=(0,s.e7)([f.Z],()=>{var e;let t=null==y?void 0:y.userIds.values().next().value;return null==t?null:null===(e=f.Z.findActivity(t,e=>e.application_id===n.id))||void 0===e?void 0:e.details}),F=a.useMemo(()=>{let e=new T.Z(n);return null==e.embeddedActivityConfig&&(e.embeddedActivityConfig=A.wT),e},[n]),w=(0,u.s5)({userId:U,channelId:O,application:F}),V=null==y,H=(0,S.NL)({embeddedActivity:y,joinability:w,currentEmbeddedActivity:B,channel:D}),Y=async()=>{L(!0);try{V?await (0,d.Z)({targetApplicationId:n.id,currentEmbeddedApplication:b,channelId:O,guildId:M,locationObject:P.location,embeddedActivitiesManager:E.Z,analyticsLocations:Z}):await (0,c.Z)({applicationId:y.applicationId,currentEmbeddedApplication:b,activityChannelId:O,locationObject:P.location,embeddedActivitiesManager:E.Z,analyticsLocations:Z})}finally{L(!1)}},W=H.disabled?R.Z.Messages.EMBEDDED_ACTIVITIES_EMBED_ENDED:R.Z.Messages.EMBEDDED_ACTIVITIES_INSTANCE_EMBED_ENDED;return(0,i.jsx)("div",{className:x.container,children:(0,i.jsxs)("div",{className:x.contentContainer,children:[(0,i.jsx)("div",{className:x.headerContainer,children:V?(0,i.jsx)("div",{className:x.__invalid_endedNote,children:(0,i.jsx)(l.Text,{variant:"text-md/medium",children:W})}):(0,i.jsx)(l.Text,{variant:"text-md/medium",lineClamp:1,color:"text-normal",children:null!=G?G:R.Z.Messages.EMBEDDED_ACTIVITIES_INSTANCE_EMBED_NO_PRESENCE})}),(0,i.jsxs)("div",{className:x.footerContainer,children:[(0,i.jsx)(l.Tooltip,{text:H.tooltip,children:e=>{let{onClick:t,...n}=e;return(0,a.createElement)(l.Button,{...n,key:"".concat(H.isJoinAction),onClick:()=>{Y(),null==t||t()},color:H.isJoinAction?l.ButtonColors.GREEN:l.ButtonColors.PRIMARY,submitting:v,disabled:H.disabled},H.text)}}),!V&&(0,i.jsx)(C.Z,{guildId:M,users:k,max:4,size:C.u.SIZE_32})]})]})})}},37772:function(e,t,n){n(789020);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(442837),o=n(481060),c=n(25610),d=n(703751),u=n(628238),_=n(976853),E=n(977683),I=n(869765),m=n(695346),T=n(592125),h=n(699516),N=n(998951),f=n(702346),p=n(630388),C=n(709054),g=n(493892),S=n(901461),A=n(739566),R=n(443877),x=n(938353),O=n(25015),M=n(689674),v=n(963550),L=n(845080),Z=n(295790),P=n(145807),b=n(56744),D=n(981631),j=n(689938),U=n(429759),y=n(105461);function B(e){let{className:t,count:n,compact:a,collapsedReason:s}=e;return(0,i.jsx)(N.Z,{className:t,compact:a,role:"group",childrenMessageContent:(0,i.jsx)(f.Z,{compact:a,className:U.blockedSystemMessage,iconNode:(0,i.jsx)(o.CloseSmallIcon,{size:"md",color:"currentColor",className:U.blockedIcon}),children:(0,i.jsx)("div",{className:U.blockedMessageText,children:s.format({count:n})})})})}t.Z=a.memo(function e(t){var n;let a;let{channel:s,message:o,compact:f=!1,className:U,onContextMenu:k,onClick:G,disableInteraction:F=!1,hasThread:w,treatSpam:V}=t,H=D.OBS.has(o.type)?o.messageReference:void 0,Y=(0,r.e7)([I.Z],()=>I.Z.getMessageByReference(H)),W=(0,r.e7)([T.Z],()=>o.type===D.uaV.THREAD_STARTER_MESSAGE&&Y.state===I.Y.LOADED?T.Z.getChannel(Y.message.channel_id):null),z=m.x4.useSetting(),K=m.RS.useSetting(),Q=m.NA.useSetting(),q=m.QK.useSetting(),X=(0,u.A)((null!==(n=o.editedTimestamp)&&void 0!==n?n:o.timestamp).valueOf()),J=(0,_.Z)(null==s?void 0:s.id),{disableReactionCreates:$}=(0,R.Z)(s),{content:ee,hasSpoilerEmbeds:et}=(0,O.Z)(o,{hideSimpleEmbedContent:K&&Q,allowList:X,allowHeading:X,allowLinks:!0,previewLinkTarget:!0}),en=(0,A.ZP)(o),ei=(0,r.e7)([T.Z],()=>o.hasFlag(D.iLy.HAS_THREAD)&&T.Z.getChannel(C.default.castMessageIdAsChannelId(o.id))),ea=o.type===D.uaV.THREAD_STARTER_MESSAGE&&Y.state===I.Y.LOADED&&null!=W,es=!ea&&void 0===a,el=(0,M.Z)({message:o,channel:s,enabled:es}),er=(0,c.V)(s.id,o.author.id),eo=(0,d.r)(o.id),ec=(0,E.Z)(o);return ea?(0,i.jsx)(e,{...t,message:Y.message,channel:W,hasThread:!1}):(h.Z.isBlockedForMessage(o)?a=j.Z.Messages.BLOCKED_MESSAGE_COUNT:(0,g.DQ)(o)&&V&&(a=j.Z.Messages.HIDDEN_SPAM_MESSAGE_COUNT),void 0!==a)?(0,i.jsx)(B,{className:U,compact:f,count:1,collapsedReason:a}):(0,i.jsx)(N.Z,{compact:f,className:l()(U,{[y.ephemeral]:(0,p.yE)(o.flags,D.iLy.EPHEMERAL),[y.disableInteraction]:F,[y.groupStart]:t.isGroupStart}),childrenRepliedMessage:(0,b.Z)(o,s,H,Y,f),childrenHeader:(0,L.Z)({...t,author:en,guildId:s.guild_id}),childrenAccessories:(0,i.jsx)(x.BB,{channel:s,message:o,hasSpoilerEmbeds:et,compact:f,canSuppressEmbeds:!1,canDeleteAttachments:!1,disableReactionReads:!1,disableReactionCreates:$,disableReactionUpdates:!1,renderThreadAccessory:w,renderComponentAccessory:!1,inlineAttachmentMedia:z,inlineEmbedMedia:K,renderEmbeds:Q,gifAutoPlay:q,poll:ec,showListsAndHeaders:X,showMaskedLinks:X,shouldHideMediaOptions:J,shouldRedactExplicitContent:er,shouldRenderCtaButton:eo,hasInlineForwardButton:!1}),childrenExecutedCommand:(0,P.Z)(o,s,f),childrenMessageContent:(0,v.Z)(t,ee),childrenSystemMessage:(0,Z.Z)(t),onContextMenu:k,onClick:G,hasThread:!1!==w&&null!=ei&&o.hasFlag(D.iLy.HAS_THREAD),hasReply:o.type===D.uaV.REPLY,isSystemMessage:(0,S.Z)(o),messageRef:el})})},782658:function(e,t,n){n.d(t,{Z:function(){return O}});var i=n(735250),a=n(470079),s=n(442837),l=n(447543),r=n(410575),o=n(906732),c=n(924301),d=n(11868),u=n(413605),_=n(451603),E=n(885714),I=n(314897),m=n(430824),T=n(701190),h=n(610699),N=n(313876),f=n(778333),p=n(949981),C=n(680668),g=n(143708),S=n(358595),A=n(563917),R=n(135845),x=n(981631);function O(e){let{code:t,author:n,getAcceptInviteContext:O}=e,{invite:M,inviteError:v}=(0,s.cj)([T.Z],()=>({invite:T.Z.getInvite(t),inviteError:T.Z.getInviteError(t)}),[t]);a.useEffect(()=>{null==M&&l.Z.resolveInvite(t)},[t]);let L=null!=M?M:{state:x.r2o.RESOLVING,code:""},{analyticsLocations:Z}=(0,o.ZP)(),P=(0,s.e7)([m.Z],()=>(null==M?void 0:M.guild)!=null?m.Z.getGuild(M.guild.id):null,[M]),b=(0,s.e7)([I.default],()=>I.default.getId()),D=(0,s.e7)([c.ZP],()=>{var e;return c.ZP.getGuildScheduledEvent(null===(e=L.guild_scheduled_event)||void 0===e?void 0:e.id)},[L]),j=()=>{null!=L.channel&&l.Z.transitionToInviteSync(L)},U=()=>{(0,_.yU)()?(0,E.Z)({analyticsSource:{page:x.ZY5.INVITE_EMBED},analyticsLocation:{page:x.ZY5.INVITE_EMBED,section:x.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:Z}):l.Z.acceptInviteAndTransitionToInviteChannel({inviteKey:t,context:O("Invite Button Embed")})},y=(0,i.jsx)(C.Z,{onTransitionToInviteChannel:j,onAcceptInstantInvite:U,currentUserId:b,guild:P,invite:L,author:n});switch(L.state){case x.r2o.RESOLVING:y=(0,i.jsx)(S.Z,{});break;case x.r2o.EXPIRED:case x.r2o.BANNED:y=(0,i.jsx)(g.Z,{banned:L.state===x.r2o.BANNED,author:n});break;case x.r2o.ERROR:y=(0,i.jsx)(N.Z,{author:n,inviteError:v});break;default:switch((0,u.VR)(L)){case u.wx.GROUP_DM:y=(0,i.jsx)(p.Z,{onTransitionToInviteChannel:j,onAcceptInstantInvite:U,currentUserId:b,invite:L,author:n});break;case u.wx.FRIEND:y=(0,i.jsx)(f.Z,{invite:L,author:n,getAcceptInviteContext:O});break;default:if((0,u.TY)(L)){y=(0,i.jsx)(R.Z,{onTransitionToInviteChannel:j,onAcceptInstantInvite:U,currentUserId:b,guild:P,invite:L});break}if((0,u.Tx)(L)){y=(0,i.jsx)(d.ZP,{guildScheduledEvent:D,guild:L.guild,channel:L.channel,isMember:null!=P,onAcceptInstantInvite:U,onTransitionToInviteChannel:j});break}if((0,u.$P)(L)){y=(0,i.jsx)(A.Z,{stageInstance:L.stage_instance,guild:L.guild,isMember:null!=P,onTransitionToInviteChannel:j,onAcceptInstantInvite:U});break}(0,u.P1)(L)&&(y=(0,i.jsx)(h.Z,{invite:L,getAcceptInviteContext:O}))}}return(0,i.jsx)(r.Z,{section:x.jXE.INVITE_LINK,children:y})}},219797:function(e,t,n){n.d(t,{L9:function(){return O},ZK:function(){return x},d4:function(){return R},dS:function(){return C},jY:function(){return A},q7:function(){return S},vZ:function(){return g}}),n(789020);var i=n(735250),a=n(470079),s=n(442837),l=n(993365),r=n(981729),o=n(481060),c=n(543651),d=n(394779),u=n(519320),_=n(592125),E=n(52824),I=n(630388),m=n(591759),T=n(850908),h=n(524444),N=n(981631),f=n(689938),p=n(559266);function C(e){let t=e.item.originalItem;return(0,h.Yi)({...e,alt:t.description,src:(0,E.q)({proxyURL:t.proxy_url,url:t.url}),original:t.url,placeholder:t.placeholder,placeholderVersion:t.placeholder_version,renderForwardComponent:(0,d.s)(e.message,{type:"attachment",attachmentId:t.id})})}function g(e){let t=e.item.originalItem,n=a.useCallback(()=>{var e;return(0,I.yE)(null!==(e=t.flags)&&void 0!==e?e:0,N.J0y.IS_CLIP)?(0,i.jsxs)(r.DY,{text:f.Z.Messages.CLIPS_BETA_TAG_HOVER,className:p.clipPill,children:[(0,i.jsx)(o.ClipsIcon,{size:"xs",color:"currentColor"}),(0,i.jsx)(l.x,{variant:"text-xs/semibold",color:"always-white",children:f.Z.Messages.CLIP_TAG})]}):null},[t]),s=m.Z.toURLSafe(t.proxy_url);return null==s?null:(s.searchParams.append("format","jpeg"),(0,h.lV)({...e,alt:t.description,poster:s.toString(),fileSize:t.size,fileName:(0,T.Z)(t),src:t.url,placeholder:t.placeholder,placeholderVersion:t.placeholder_version,renderOverlayContent:n,renderForwardComponent:(0,d.s)(e.message,{type:"attachment",attachmentId:t.id})}))}function S(e){let t=e.item.originalItem;return(0,h.hX)({...e,fileSize:t.size,fileName:(0,T.Z)(t),src:t.url})}function A(e){let{message:t,item:n}=e,i=n.originalItem,s=a.useCallback((e,n,a)=>{var s;(0,u.tb)(t.id,null!==(s=i.duration_secs)&&void 0!==s?s:null,n,t.author.id)},[t,i.duration_secs]),l=a.useCallback((e,n)=>{var a;(0,u.EW)(t.id,null!==(a=i.duration_secs)&&void 0!==a?a:null,e,t.author.id,n)},[t,i.duration_secs]),r=a.useCallback(e=>{var n;(0,u.Np)(t.id,null!==(n=null==e?void 0:e.message)&&void 0!==n?n:null)},[t]);return(0,h.wj)({...e,fileSize:i.size,fileName:(0,T.Z)(i),src:i.url,durationSecs:i.duration_secs,waveform:i.waveform,onPlay:s,onPause:l,onError:r})}function R(e){let t=e.item.originalItem;return(0,h.xi)({...e,url:t.url,fileName:(0,T.Z)(t),fileSize:t.size,contentType:t.content_type})}function x(e){let t=e.item.originalItem;return(0,h.ur)({...e,url:t.url,fileName:(0,T.Z)(t),fileSize:t.size})}function O(e){if("CLIP"===e.item.type)return(0,i.jsx)(M,{attachment:e.item.originalItem,message:e.message});return null}function M(e){var t;let{attachment:n,message:a}=e,l=a.channel_id,r=(0,s.e7)([_.Z],()=>{var e;return null===(e=_.Z.getBasicChannel(l))||void 0===e?void 0:e.guild_id}),{clip_created_at:o,clip_participants:d,title:u,application:E}=n;return(0,i.jsx)(c.Z,{createdAt:null!=o?Date.parse(o):void 0,participantIds:null!==(t=null==d?void 0:d.map(e=>{let{id:t}=e;return t}))&&void 0!==t?t:[],applicationId:null==E?void 0:E.id,title:u,guildId:r})}},938353:function(e,t,n){n.d(t,{$p:function(){return e7},BB:function(){return e0},ZP:function(){return e1}}),n(47120),n(789020),n(411104),n(390547);var i,a=n(735250),s=n(470079),l=n(120356),r=n.n(l),o=n(275726),c=n(442837),d=n(377108),u=n(902704),_=n(481060),E=n(904245),I=n(637374),m=n(626799),T=n(911969),h=n(624367),N=n(433074),f=n(421474),p=n(603270),C=n(222709),g=n(960904),S=n(161314),A=n(163268),R=n(25610),x=n(703751),O=n(761538),M=n(674611),v=n(346610),L=n(868643),Z=n(394779),P=n(294734),b=n(426275),D=n(715903),j=n(71619),U=n(637618),y=n(225890),B=n(364097),k=n(495129),G=n(954654),F=n(41776),w=n(628238),V=n(454585),H=n(768494),Y=n(976853),W=n(346013),z=n(977683),K=n(128435),Q=n(98278),q=n(614825),X=n(265299),J=n(699833),$=n(344997),ee=n(378233),et=n(374425),en=n(665906),ei=n(432147),ea=n(695346),es=n(314897),el=n(271383),er=n(607744),eo=n(496675),ec=n(594174),ed=n(529815),eu=n(261922),e_=n(941797),eE=n(52824),eI=n(727779),em=n(310043),eT=n(69750),eh=n(592256),eN=n(626135),ef=n(70956),ep=n(408433),eC=n(630388),eg=n(823379),eS=n(709054),eA=n(591759),eR=n(169525),ex=n(161010),eO=n(461157),eM=n(901461),ev=n(432376),eL=n(384203),eZ=n(633957),eP=n(29909),eb=n(782658),eD=n(219797),ej=n(453687),eU=n(128854),ey=n(101578),eB=n(524444),ek=n(319323),eG=n(920888),eF=n(817384),ew=n(981631),eV=n(474936),eH=n(689938),eY=n(105461),eW=n(928959),ez=n(680674);function eK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eQ(){return(0,a.jsxs)("div",{className:eW.nitroFileSizeUpsell,children:[(0,a.jsx)("img",{src:ez,className:eW.nitroBadgeSvg,alt:""}),(0,a.jsx)(_.Text,{variant:"text-xs/normal",color:"text-muted",children:eH.Z.Messages.LARGE_FILE_UPLOAD_POWERED_BY_NITRO.format({onClick:()=>(0,Q.z)()})})]})}let eq=15*ef.Z.Millis.MINUTE,eX=new Set(["discord-developers","discord-testers","discord-townhall","discordgameslab"]),eJ=(e,t,n)=>()=>{let i=null!=t?t:n;if(null==i)return null;let{url:s,proxyURL:l,width:r,height:o}=i;return(0,a.jsx)(eP.Z,{width:r,height:o,src:null!=l&&""!==l?l:s,url:null!=e&&""!==e?e:null!=l&&""!==l?l:s,format:null!=n?d.EO.VIDEO:d.EO.IMAGE,className:eW.gifFavoriteButton})},e$=e=>()=>{let{url:t,proxyUrl:n,width:i,height:s}=e;return null!=i&&null!=s&&eu.u.test(n)?(0,a.jsx)(eP.Z,{width:i,height:s,src:n,url:t,format:d.EO.IMAGE,className:eW.gifFavoriteButton}):null};class e0 extends(i=s.Component){shouldRenderInvite(e){let{channel:t}=this.props;return!(t.isDM()&&!t.isSystemDM()&&!t.isGroupDM()&&eX.has(e))}shouldComponentUpdate(e,t){var n,i;let{channel:a,message:s,poll:l}=this.props,{channel:r,message:o,poll:c}=e;return!(0,u.Z)(this.state,t)||!(0,u.Z)(this.props,e,["message","channel"])||a.type!==r.type||c!==l||o.codedLinks!==s.codedLinks||o.flags!==s.flags||o.giftCodes!==s.giftCodes||o.attachments!==s.attachments||o.embeds!==s.embeds||o.components!==s.components||o.activity!==s.activity||(n=o.reactions,n!==(i=s.reactions)&&(n.length!==i.length||!!n.some((e,t)=>{let{emoji:n,count:a,burst_count:s}=e,{emoji:l,count:r,burst_count:o}=i[t];return s!==o||a!==r||n.id!==l.id||n.name!==l.name})))}renderCtaButton(){let{message:e,channel:t,shouldRenderCtaButton:n}=this.props;return n?(0,a.jsx)("div",{className:eW.ctaButtonContainer,children:(0,a.jsx)(M.Z,{messageId:e.id,channelId:t.id})}):null}renderSocialProofingFileSizeNitroUpsell(e){let t=e.attachments.some(e=>e.size>eV.Lw);return(0,ex.M)("attachment")&&t?(0,a.jsx)(eQ,{}):null}renderCodedLinks(e){return 0===e.codedLinks.length?null:e.codedLinks.map(t=>{let{type:n,code:i}=t;if(n===g.g.INVITE)return this.shouldRenderInvite(i)?(0,a.jsx)(eb.Z,{code:i,author:e.author,getAcceptInviteContext:this.getAcceptInviteContext},i):null;if(n===g.g.TEMPLATE)return(0,a.jsx)(B.Z,{code:i},i);if(n===g.g.EVENT)return(0,a.jsx)(y.Z,{code:i},i);else if(n===g.g.CHANNEL_LINK)return(0,a.jsx)(eL.Z,{code:i,messageData:e},i);else if(n===g.g.APP_DIRECTORY_PROFILE)return(0,a.jsx)(N.Z,{code:i,message:e},i);else if(n===g.g.ACTIVITY_BOOKMARK)return(0,a.jsx)(h.Z,{applicationId:i,message:e},i);else if(n===g.g.GUILD_PRODUCT)return(0,a.jsx)(U.Z,{code:i},i);else if(n===g.g.SERVER_SHOP)return(0,a.jsx)(S.Z,{guildId:i},i);else if(n===g.g.QUESTS_EMBED)return(0,a.jsx)(X.Z,{questId:i},i);else if(n===g.g.APP_DIRECTORY_STOREFRONT)return(0,a.jsx)(p.P,{appId:i,message:e},i);else if(n===g.g.APP_DIRECTORY_STOREFRONT_SKU){let t=(0,f.Q)(i);return null==t?null:(0,a.jsx)(p.F,{skuId:t.skuId,message:e},i)}else throw Error("Unknown coded link type: ".concat(n))})}renderGiftCodes(e){let{giftCodes:t,author:n,channel_id:i,type:s,content:l,giftInfo:r}=e,o=ec.default.getCurrentUser();return null!=o&&t.length>0?t.map(e=>(0,a.jsx)("div",{className:eW.giftCodeContainer,children:(0,a.jsx)(I.Z,{code:e,author:n,channelId:i,currentUser:o,type:s,content:l,giftInfo:r})},e)):null}renderReferralTrial(e){let{referralTrialOfferId:t,type:n}=e,{canRenderReferralEmbed:i}=this.props;return n!==o.u.PREMIUM_REFERRAL||null==t?null:(0,a.jsx)("div",{className:eW.referralContainer,children:(0,a.jsx)(q.Z,{userTrialOfferId:t,canRenderReferralEmbed:null!=i&&i})},t)}renderReactions(e){let{disableReactionCreates:t,disableReactionReads:n,disableReactionUpdates:i,isLurking:s,isGuest:l,isPendingMember:r,channel:o,forceAddReactions:c}=this.props;return n?null:(0,a.jsx)(eG.Z,{message:e,channel:o,disableReactionCreates:t,disableReactionUpdates:i,isLurking:s,isGuest:l,isPendingMember:r,forceAddReactions:c,useChatFontScaling:!0})}renderAttachments(e){let{attachments:t,flags:n}=e,{channel:i,shouldRedactExplicitContent:s,hasInlineForwardButton:l}=this.props;if(0===t.length||e.isPoll()||e.isUIKitComponents())return null;let r=t.filter(e=>null==e.flags||!(0,eC.yE)(e.flags,ew.J0y.IS_THUMBNAIL));if(0===r.length)return null;let{gifAutoPlay:o,canDeleteAttachments:c,inlineAttachmentMedia:d,onMediaItemContextMenu:u,shouldHideMediaOptions:_}=this.props,E=r.map(t=>(0,eh.j9)(t,(0,Z.s)(e,{type:"attachment",attachmentId:t.id}),_,s)).filter(eg.lm),I={source:"Media Mosaic",guild_id:i.guild_id,channel_id:i.id,channel_type:i.type},m=E.length>1?(0,eh.Cx)(E,I):{},T=(0,eC.yE)(n,ew.iLy.IS_VOICE_MESSAGE);function h(e,t){return(0,eR.dn)(e.originalItem,t)}let N=r.map(t=>{let n=(0,H.VY)(t),a={message:e,item:(0,eT.OB)(t,d),autoPlayGif:o,canRemoveItem:c&&(r.length>1||""!==e.content),onRemoveItem:this.handleRemoveAttachment,className:eW.embedWrapper,getObscureReason:h,onContextMenu:null!=u?e=>{e.stopPropagation(),e.preventDefault(),u(e,n)}:void 0,renderAudioComponent:T?eD.jY:eD.q7,renderImageComponent:eD.dS,renderVideoComponent:eD.vZ,renderPlaintextFilePreview:eD.d4,renderGenericFileComponent:eD.ZK,renderMosaicItemFooter:eD.L9,onPlay:(e,n,a)=>{eN.default.track(ew.rMx.MEDIA_ATTACHMENT_PLAYBACK_STARTED,{guild_id:i.guild_id,channel_id:i.id,channel_type:i.type,type:t.content_type,flags:t.flags,size:t.size,duration:a})},gifFavoriteButton:e$(n)},s=(0,eE.q)({proxyURL:t.proxy_url,url:t.url});return s in m&&(a.onClick=m[s]),a}),f=l?(0,a.jsx)(b.Z,{className:eY.hideIfMessageNotFocused,messageId:e.id,channelId:i.id,targetKind:"media"}):void 0;return(0,a.jsx)(em.Z,{items:N,inlineForwardButton:f})}renderEmbeds(e){let{renderEmbeds:t}=this.props;return 0!==e.embeds.length&&t?e.embeds.map((t,n)=>{if(eF.b.has(t.type)||(0,ep.l3)(t))return null;let i={renderImageComponent:eB.Yi,renderVideoComponent:eB.lV,renderLinkComponent:eB.iT,renderForwardComponent:(0,Z.s)(e,{type:"embed",embedIndex:n})};if(t.type===ew.hBH.ARTICLE&&null!=t.url&&/^https?:\/\/(?:canary|ptb|www)?\.discord(?:app)?\.com\/store\/skus\/(?:[0-9]+)/.test(t.url)&&null!=t.provider&&"Discord"===t.provider.name){let s=eA.Z.safeParseWithQuery(t.url);if(null!=s&&null!=s.pathname){let l=s.pathname.split("/")[3];if(null!=l)return(0,a.jsx)(m.Z,{skuId:l,renderFallback:()=>this.renderEmbed(t,n,i,e.id,e.channel_id)},t.id)}}return this.renderEmbed(t,n,i,e.id,e.channel_id)}):null}renderComponentAccessories(e){if(0===e.components.length||!1===this.props.renderComponentAccessory)return null;let{gifAutoPlay:t,shouldRedactExplicitContent:n,shouldHideMediaOptions:i,onMediaItemContextMenu:s}=this.props;return(0,a.jsx)(eU.F,{gifAutoPlay:t,getGifFavButton:e$,getOnMediaItemContextMenu:null==s?void 0:e=>t=>{t.stopPropagation(),t.preventDefault(),null==s||s(t,e)},shouldHideMediaOptions:i,shouldRedactExplicitContent:n,children:(0,a.jsx)(G.ZP,{message:e})})}renderActivityInvite(e){if(null==e.activity)return null;let{channel:t}=this.props;return(0,a.jsx)(ey.Z,{channel:t,message:e,hideParty:!1})}renderPublishBump(e){return this.props.channel.type!==ew.d4z.GUILD_ANNOUNCEMENT||this.props.isMessageSnapshot?null:(0,a.jsx)(C.Z,{channelId:e.channel_id,messageId:e.id})}renderEphemeralAccessories(e){return(0,eC.yE)(e.flags,ew.iLy.EPHEMERAL)?(0,a.jsx)(eI.Z,{message:e,onDeleteMessage:()=>{E.Z.dismissAutomatedMessage(e)}}):null}renderStickersAccessories(e){let t=(0,ee.cv)(e),{channel:n,isInteracting:i}=this.props;return 0===t.length?null:t.map(e=>(0,a.jsx)(et.Z,{channel:n,isInteracting:i,renderableSticker:e},e.id))}renderThreadAccessories(e){if(e.hasFlag(ew.iLy.HAS_THREAD)&&!1!==this.props.renderThreadAccessory)return(0,a.jsx)(ei.Z,{message:e,compact:this.props.compact})}renderThreadRoleMentionWarning(e){if(!!e.hasFlag(ew.iLy.FAILED_TO_MENTION_SOME_ROLES_IN_THREAD)&&!!this.props.isCurrentUser){if(!(Date.now()-eS.default.extractTimestamp(e.id)>=eq))return(0,a.jsx)("div",{className:eW.threadRoleMentionFailure,children:eH.Z.Messages.THREAD_ROLE_MENTION_FAILURE})}}renderSuppressConfirmModal(){let{channel:e,message:t}=this.props;return(0,a.jsxs)(_.DeclarativeConfirmModal,{dismissable:!0,header:eH.Z.Messages.SUPPRESS_EMBED_TITLE,confirmText:eH.Z.Messages.SUPPRESS_EMBED_CONFIRM,cancelText:eH.Z.Messages.CANCEL,onCancel:()=>this.setState({showSuppressModal:!1}),onConfirm:()=>{E.Z.suppressEmbeds(e.id,t.id),this.setState({showSuppressModal:!1})},children:[(0,a.jsx)(_.Text,{variant:"text-md/normal",color:"text-normal",className:eW.confirmText,children:eH.Z.Messages.SUPPRESS_EMBED_BODY}),(0,a.jsx)(_.Text,{variant:"text-md/normal",color:"text-muted",children:eH.Z.Messages.SUPPRESS_EMBED_TIP})]})}renderRemoveAttachmentConfirmModal(){let{channel:e,message:t}=this.props,{attachmentToDelete:n}=this.state;if(null==n){this.setState({showRemoveAttachmentModal:!1});return}return(0,a.jsx)(_.DeclarativeConfirmModal,{dismissable:!0,header:eH.Z.Messages.REMOVE_ATTACHMENT_TITLE,confirmText:eH.Z.Messages.REMOVE_ATTACHMENT_CONFIRM,cancelText:eH.Z.Messages.CANCEL,onCancel:()=>this.setState({showRemoveAttachmentModal:!1,attachmentToDelete:null}),onConfirm:()=>{let i=t.attachments.filter(e=>e.id!==n.id);E.Z.patchMessageAttachments(e.id,t.id,i),this.setState({showRemoveAttachmentModal:!1,attachmentToDelete:null})},children:(0,a.jsx)(_.Text,{variant:"text-md/normal",color:"text-normal",className:eW.confirmText,children:eH.Z.Messages.REMOVE_ATTACHMENT_BODY})})}renderInteractionPremiumUpsell(e){let t=e.applicationId;return e.type!==o.u.INTERACTION_PREMIUM_UPSELL||null==t?null:(0,a.jsx)(ek.Z,{applicationId:t,guildId:this.props.channel.guild_id})}renderEmbeddedApplicationInstanceEmbed(e){let{application:t,activityInstance:n,interaction:i}=e;return null==t||null==n||(null==i?void 0:i.type)!==T.B8.APPLICATION_COMMAND?null:(0,a.jsx)(eZ.Z,{application:t,channelId:this.props.channel.id,guildId:this.props.channel.guild_id})}renderMediaPostEmbeds(e){return e.embeds.flatMap(t=>t.type!==ew.hBH.POST_PREVIEW||null==t.url?[]:(0,a.jsx)(W.Z,{embedUrl:t.url,message:e,channel:this.props.channel},t.id))}renderSafetyPolicyNotice(e){return 1===e.embeds.length&&e.embeds[0].type===ew.hBH.SAFETY_POLICY_NOTICE?(0,a.jsx)(J.i,{message:e}):null}renderSafetySystemNotification(e){return 1===e.embeds.length&&e.embeds[0].type===ew.hBH.SAFETY_SYSTEM_NOTIFICATION?(0,a.jsx)($.g,{embed:e.embeds[0]}):null}renderVoiceChannelInvite(e,t){if(1===e.embeds.length&&e.embeds[0].type===ew.hBH.VOICE_CHANNEL)return(0,a.jsx)(k.H,{message:e,channel:t})}renderMediaObscureNotice(e){if(0===e.attachments.length&&0===e.embeds.length)return null;let{obscuredAttachments:t,obscuredEmbeds:n}=(0,A.Tw)(e);return 0===t.length&&0===n.length?null:(0,a.jsx)(O.Z,{message:e})}renderPoll(e,t){if(null!=t)return(0,a.jsx)(K.Z,{message:e,poll:t,className:eW.pollContainer})}renderForwardedMessage(e){return 0===e.messageSnapshots.length?null:(0,a.jsx)(P.Z,{message:e})}render(){let{className:e,message:t,channel:n,poll:i}=this.props,{showSuppressModal:s,showRemoveAttachmentModal:l}=this.state,o=this.renderCodedLinks(t),c=this.renderGiftCodes(t),d=this.renderReferralTrial(t),u=this.renderAttachments(t),_=this.renderCtaButton(),E=this.renderSocialProofingFileSizeNitroUpsell(t),I=this.renderEmbeds(t),m=this.renderActivityInvite(t),T=this.renderReactions(t),h=this.renderPublishBump(t),N=this.renderEphemeralAccessories(t),f=this.renderStickersAccessories(t),p=this.renderThreadAccessories(t),C=this.renderComponentAccessories(t),g=this.renderThreadRoleMentionWarning(t),S=this.renderEmbeddedApplicationInstanceEmbed(t),A=this.renderInteractionPremiumUpsell(t),R=this.renderMediaPostEmbeds(t),x=this.renderSafetyPolicyNotice(t),O=this.renderSafetySystemNotification(t),M=this.renderVoiceChannelInvite(t,n),v=this.renderMediaObscureNotice(t),L=this.renderPoll(t,i),Z=this.renderForwardedMessage(t);return null==o&&null==u&&null==I&&null==m&&null==T&&null==c&&null==d&&null==h&&null==N&&null==f&&null==p&&null==C&&null==S&&null==g&&null==R&&null==x&&null!=A&&null==L&&null==M&&null==Z?null:(0,a.jsxs)("div",{id:(0,ej.bX)(t),className:r()(e,eW.container),children:[Z,g,L,o,c,d,R,u,_,I,v,m,f,C,S,A,E,T,h,N,s&&this.renderSuppressConfirmModal(),l&&this.renderRemoveAttachmentConfirmModal(),p,x,O,M]})}constructor(...e){super(...e),eK(this,"state",{showSuppressModal:!1,showRemoveAttachmentModal:!1,attachmentToDelete:null}),eK(this,"getAcceptInviteContext",e=>{let{channel:t,message:n}=this.props;return{location:e,location_guild_id:t.getGuildId(),location_channel_id:t.id,location_channel_type:t.type,location_message_id:n.id}}),eK(this,"renderEmbed",(e,t,n,i,s)=>{let{gifAutoPlay:l,inlineEmbedMedia:r,canSuppressEmbeds:o,hasSpoilerEmbeds:c,shouldRedactExplicitContent:d,hasInlineForwardButton:u}=this.props,_=(0,eR.BP)(e,s,i,c,d);if(e.type===ew.hBH.GIFT)return null;let E=(0,a.jsx)(e_.h.Provider,{value:eJ(e.url,e.image,e.video),children:(0,a.jsx)(ed.ZP,{className:eW.embedWrapper,embed:e,obscureReason:null!=_?_:void 0,autoPlayGif:l,hideMedia:!r,onSuppressEmbed:o?this.handleEmbedSuppressed:void 0,renderTitle:this.renderEmbedTitle,renderDescription:this.renderEmbedDescription,messageId:i,channelId:s,...n})},e.id);return u?(0,a.jsxs)("div",{className:eW.embedContainer,children:[E,(0,a.jsx)(b.Z,{className:eY.hideIfMessageNotFocused,messageId:i,channelId:s,targetKind:"embed",embedIndex:t})]}):E}),eK(this,"renderEmbedTitle",(e,t)=>e.type===ew.hBH.RICH?V.Z.parseEmbedTitle(t,!0,{channelId:this.props.channel.id}):t),eK(this,"renderEmbedDescription",(e,t,n)=>e.type===ew.hBH.RICH?V.Z.parse(t,!0,{channelId:this.props.channel.id,allowLinks:!0,allowEmojiLinks:!0,allowList:this.props.showListsAndHeaders,allowHeading:!n&&this.props.showListsAndHeaders,previewLinkTarget:this.props.showMaskedLinks}):t),eK(this,"handleEmbedSuppressed",e=>{let{channel:t,message:n}=this.props;e.shiftKey?E.Z.suppressEmbeds(t.id,n.id):this.setState({showSuppressModal:!0})}),eK(this,"handleRemoveAttachment",e=>{let t=e.originalItem;this.setState({showRemoveAttachmentModal:!0,attachmentToDelete:t})})}}function e1(e){var t;let{channel:n,message:i,renderSuppressEmbeds:s,isMessageSnapshot:l}=e,r=(0,c.e7)([es.default],()=>es.default.getId()),o=ea.x4.useSetting(),d=ea.RS.useSetting(),u=ea.NA.useSetting()&&!(0,eM.Z)(e.message),_=ea.nc.useSetting(),E=ea.QK.useSetting(),I=(0,c.e7)([er.Z],()=>null==n.guild_id||er.Z.canChatInGuild(n.guild_id),[n]),m=(0,c.e7)([F.Z],()=>null!=n.guild_id&&F.Z.isLurking(n.guild_id),[n]),T=(0,c.e7)([el.ZP],()=>el.ZP.isCurrentUserGuest(n.guild_id),[n]),h=(0,c.e7)([el.ZP,ec.default],()=>{var e,t;let i=ec.default.getCurrentUser();return null!==(t=null!=n.guild_id&&null!=i?null===(e=el.ZP.getMember(n.guild_id,i.id))||void 0===e?void 0:e.isPending:null)&&void 0!==t&&t}),{canAddNewReactions:N,canManageMessages:f}=(0,c.cj)([eo.Z],()=>({canAddNewReactions:I&&eo.Z.can(ew.Plq.ADD_REACTIONS,n),canManageMessages:eo.Z.can(ew.Plq.MANAGE_MESSAGES,n)}),[I,n]),p=(0,D.ux)(n.guild_id),[,C]=(0,j.AB)(n.guild_id),g=(0,en.$R)(n),S=(r===i.author.id||f)&&i.author.id!==ew.LAt&&!1!==s&&!(0,eC.yE)(i.flags,ew.iLy.EPHEMERAL)&&g&&1===(0,eO.Z)(i),A=r===i.author.id&&g&&!l,O=i.author.id===r,M=i.isFirstMessageInForumPost(n),Z=(0,ev.Z)({channel:n,canChat:I,renderReactions:_,canAddNewReactions:N,isLurking:m,isGuest:T,communicationDisabled:C,isActiveChannelOrUnarchivableThread:g,isAutomodQuarantined:p}),P=(0,w.A)((null!==(t=i.editedTimestamp)&&void 0!==t?t:i.timestamp).valueOf()),b=(0,Y.Z)(null==n?void 0:n.id),U=(0,z.Z)(i),y=(0,R.V)(n.id,i.author.id),B=(0,x.r)(i.id),{hasInlineForwardButton:k}=v.w.useExperiment({location:"MessageAccessories"}),G=(0,L.a)(i)&&k;return(0,a.jsx)(e0,{canSuppressEmbeds:S,canDeleteAttachments:A,...Z,disableReactionReads:!!M||Z.disableReactionReads,...e,isLurking:m&&I,isGuest:T&&I,isPendingMember:h&&I,isCurrentUser:O,inlineAttachmentMedia:o,inlineEmbedMedia:d,renderEmbeds:u,gifAutoPlay:E,canRenderReferralEmbed:n.isDM(),poll:U,showListsAndHeaders:P,showMaskedLinks:P,shouldHideMediaOptions:b,shouldRedactExplicitContent:y,shouldRenderCtaButton:B,hasInlineForwardButton:G})}eK(e0,"defaultProps",{renderEmbeds:!0,compact:!1});let e7=e=>{var t;let{message:n,channel:i,disableReactionReads:s=!1,renderComponentAccessory:l=!1,renderThreadAccessory:r=!1,disableReactionCreates:o=!0,disableReactionUpdates:c=!0,...d}=e,u=ea.x4.useSetting(),_=ea.RS.useSetting(),E=ea.NA.useSetting(),I=ea.QK.useSetting(),m=(0,w.A)((null!==(t=n.editedTimestamp)&&void 0!==t?t:n.timestamp).valueOf()),T=(0,Y.Z)(null==i?void 0:i.id),h=(0,R.V)(i.id,n.author.id),N=(0,x.r)(n.id),f=(0,z.Z)(n);return(0,a.jsx)(e0,{...d,message:n,channel:i,disableReactionReads:s,disableReactionCreates:o,disableReactionUpdates:c,canSuppressEmbeds:!1,canDeleteAttachments:!1,renderComponentAccessory:l,renderThreadAccessory:r,inlineAttachmentMedia:u,inlineEmbedMedia:_,renderEmbeds:E,gifAutoPlay:I,poll:f,showListsAndHeaders:m,showMaskedLinks:m,shouldHideMediaOptions:T,shouldRedactExplicitContent:h,shouldRenderCtaButton:N,hasInlineForwardButton:!1})}},101578:function(e,t,n){var i=n(735250);n(470079);var a=n(442837),s=n(654030),l=n(906732),r=n(973616),o=n(789407),c=n(314897),d=n(158776),u=n(981631),_=n(616922),E=n(846615);t.Z=e=>{var t;let{channel:n,message:I,hideParty:m}=e,{analyticsLocations:T}=(0,l.ZP)(),h=(0,a.e7)([c.default],()=>c.default.getId()),N=(0,a.e7)([d.Z],()=>{if(null==I.application)return d.Z.findActivity(I.author.id,e=>e.type===u.IIU.LISTENING);{var e;let t=I.author.id;return(null===(e=I.activity)||void 0===e?void 0:e.type)===u.mFx.JOIN_REQUEST&&(t=t===h&&n.isPrivate()?n.getRecipientId():h),d.Z.getApplicationActivity(t,I.application.id)}},[I,n,h]);return(0,i.jsx)(s.Z,{className:E.container,activity:N,activityActionType:null!=I.activity?I.activity.type:null,partyId:null!=I.activity?I.activity.party_id:null,userId:I.author.id,application:null!=(t=I).application?r.Z.createFromServer(t.application):null!=t.activity&&null!=t.activity.party_id&&(0,_.Ps)(t.activity.party_id)?o.r9:void 0,message:I,channelId:n.id,guildId:n.getGuildId(),hideParty:m,isSender:I.author.id===h,analyticsLocations:T})}},319323:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(270144),r=n(488915),o=n(171246),c=n(696906),d=n(981631),u=n(689938),_=n(463329);function E(e){let{applicationId:t,guildId:n}=e,E=(0,l.IX)(t),{listingsLoaded:I}=(0,l.FE)(t,null==E?void 0:E.primarySkuId),m=(0,a.e7)([r.Z],()=>r.Z.getSubscriptionGroupListingForApplication(t),[t]),T=null!=m?(0,o.Pw)(m):null,{openModal:h,canOpenModal:N}=(0,c.Z)({guildId:n,groupListingId:null==m?void 0:m.id,showBenefitsFirst:!0,analyticsLocation:d.Sbl.INTERACTION_RESPONSE,skuId:null==T?void 0:T.id});return(0,i.jsx)(s.Button,{color:s.Button.Colors.BRAND,size:s.Button.Sizes.SMALL,onClick:()=>h(),disabled:!N||!I,children:(0,i.jsxs)("div",{className:_.button,children:[(0,i.jsx)(s.ShopIcon,{size:"xs",color:"white"}),u.Z.Messages.INTERACTION_PREMIUM_UPSELL_CTA]})})}},920888:function(e,t,n){n(47120),n(653041);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(215569),o=n(481060),c=n(566006),d=n(60174),u=n(453687),_=n(434624),E=n(287151),I=n(689938),m=n(704963),T=n(667671);let h=(e,t)=>null==e&&null==t||e===t,N=(e,t)=>e.findIndex(e=>h(e.emoji.id,null==t?void 0:t.id)&&h(e.emoji.name,null==t?void 0:t.name)),f=(e,t)=>{if(null==t)return e;let n=N(e,t);return n<0?e:[e[n],...e.slice(0,n),...e.slice(n+1)]};class p extends a.PureComponent{static getDerivedStateFromProps(e,t){let n=e.message.reactions.length;return 0===t.reactionsCount&&n>0?{disableTransitionAppear:!1,reactionsCount:n}:t.reactionsCount!==n?{reactionsCount:n}:null}render(){let{message:e,disableReactionCreates:t,disableReactionUpdates:n,isLurking:a,isGuest:s,isPendingMember:h,isForumToolbar:N,channel:f,className:p,forceAddReactions:C,reactionClassName:g,useChatFontScaling:S,forceHideReactionCreates:A,remainingReactions:R,combinedReactions:x,visibleReactionsCount:O}=this.props,{disableTransitionAppear:M}=this.state,v=S?T:m,L=O>0;return L||C?(0,i.jsxs)(r.W,{component:"div",className:l()(v.reactions,p),transitionAppear:!M,role:"group",transitionLeave:!1,id:(0,u.bY)(e),onMouseEnter:()=>this.setState({isHovered:!0}),onMouseLeave:()=>this.setState({isHovered:!1}),children:[(0,i.jsx)(_.l,{reactions:x,message:e,readOnly:n,isLurking:a,isGuest:s,isPendingMember:h,isForumToolbar:N,useChatFontScaling:S,className:g}),R>0&&(0,i.jsx)(o.Clickable,{onClick:t=>{t.stopPropagation(),(0,E.op)(f,e)},className:l()(v.reaction,g,v.remainingReactions),"aria-label":I.Z.Messages.ADD_REACTION,children:(0,i.jsxs)(o.Text,{className:v.reactionInner,variant:"text-sm/normal",children:["+",R]})}),!t&&!A&&(0,i.jsx)(d.X,{type:c.O.NORMAL,message:e,channel:f,useChatFontScaling:S,isHovered:this.state.isHovered,className:l()({[v.forceShow]:C&&!L,[v.forceShowLook]:C})})]}):null}constructor(...e){var t,n,i;super(...e),t=this,n="state",i={disableTransitionAppear:!0,reactionsCount:this.props.message.reactions.length,isHovered:!1},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}t.Z=e=>{let{message:t,maxReactions:n,hoistReaction:s}=e,{combinedReactions:l,remainingReactions:r,visibleReactionsCount:o}=a.useMemo(()=>{let e=[],i=f(t.reactions,s),a=null!=n&&n<i.length?i.slice(0,n):i,l=i.length-a.length,r=i.length;return a.forEach(t=>{t.burst_count>0&&e.push({...t,type:c.O.BURST}),t.count>0&&e.push({...t,type:c.O.NORMAL}),null!=t.me_vote&&--r}),{combinedReactions:e,visibleReactionsCount:r,remainingReactions:l}},[s,n,t.reactions]);return(0,i.jsx)(p,{...e,visibleReactionsCount:o,combinedReactions:l,remainingReactions:r})}},434624:function(e,t,n){n.d(t,{l:function(){return h}}),n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(866442),o=n(596454),c=n(434650),d=n(56314),u=n(18732),_=n(566006),E=n(287151),I=n(704963),m=n(667671);let T=a.memo(function(e){let t,n,{useChatFontScaling:a,hideEmoji:s,emoji:c,className:T,count:h,me:N,me_burst:f,burst_count:p,burst_colors:C,readOnly:g,isLurking:S,isGuest:A,isPendingMember:R,type:x}=e,O=x===_.O.BURST,M=(0,E.y4)(N,f,x),v=(0,d.v)(O&&null!=C?C:[]),L=a?m:I,Z=O?p:h,P=(0,u.y)(Z,E.aO),b={};if(O&&null!=v){var D;let{accentColor:e,backgroundColor:i,opacity:a}=v,s=null!==(D=(0,r.wK)(null!=i?i:"",a))&&void 0!==D?D:"";M&&(b.borderColor=i),b.background=s,t=e,n=e}let j={minWidth:P,color:t,borderColor:n};return(0,i.jsxs)("div",{className:l()(L.reaction,L.reactionInner,T,{[L.reactionMe]:M,[L.reactionReadOnly]:g&&!S&&!R&&!A}),style:b,children:[(0,i.jsx)(o.Z,{className:l()({[L.hideEmoji]:s}),emojiId:c.id,emojiName:c.name,size:"reaction",animated:O&&c.animated}),(0,i.jsx)("div",{className:L.reactionCount,style:j,children:Z})]})}),h=a.memo(function(e){let{showImmediate:t,reactions:n,...s}=e,[l,r]=a.useState(!1),[o,d]=a.useTransition(),u=a.useCallback(e=>{e&&!l&&!o&&d(()=>{r(!0)})},[l,o]),I=(0,c.O)(u),m=l&&!o||t?E.le:T;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:I}),n.map(e=>{var t,n;return(0,i.jsx)(m,{...s,...e},(t=e,"".concat(t.type===_.O.BURST?"burst:":"").concat(null!==(n=t.emoji.id)&&void 0!==n?n:0,":").concat(t.emoji.name)))})]})})},818570:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(481060),s=n(197115),l=n(702346),r=n(981631),o=n(474936),c=n(689938),d=n(255265);function u(e){let{message:t,channel:n}=e,u=null!=n.guild_id?r.jXE.TEXT_IN_VOICE:r.jXE.CHANNEL_TEXT_AREA;return(0,i.jsx)(l.Z,{contentClassName:d.messageContentContainer,iconContainerClassName:d.iconContainer,iconNode:(0,i.jsx)(a.BellIcon,{colorClass:d.icon}),children:(0,i.jsxs)("div",{className:d.container,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Text,{variant:"text-sm/medium",children:t.content}),(0,i.jsxs)("div",{className:d.nitroBadge,children:[(0,i.jsx)(a.NitroWheelIcon,{size:"xs",colorClass:d.nitroBadgeIcon}),(0,i.jsx)(a.Text,{variant:"text-xs/medium",className:d.nitroBadgeText,children:c.Z.Messages.POWERED_BY_NITRO})]})]}),(0,i.jsx)("div",{className:d.buttonContainer,children:(0,i.jsx)(s.Z,{showGradient:!0,iconClassName:d.premiumIcon,subscriptionTier:o.Si.TIER_2,buttonText:c.Z.Messages.STREAM_PREMIUM_UPSELL_BANNER_CTA,size:a.Button.Sizes.SMALL,premiumModalAnalyticsLocation:{section:u,object:r.qAy.MESSAGE}})})]})})}},815387:function(e,t,n){n(411104);var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(239091),o=n(904245),c=n(287734),d=n(872810),u=n(911969),_=n(376484),E=n(362604),I=n(710845),m=n(825829),T=n(623624),h=n(533694),N=n(182180),f=n(924301),p=n(225890),C=n(434404),g=n(507435),S=n(504733),A=n(563959),R=n(703656),x=n(471253),O=n(565799),M=n(590415),v=n(911560),L=n(488131),Z=n(814820),P=n(314897),b=n(523746),D=n(592125),j=n(430824),U=n(496675),y=n(158776),B=n(944486),k=n(594174),G=n(979651),F=n(113039),w=n(755090),V=n(136036),H=n(676751),Y=n(662147),W=n(900316),z=n(493829),K=n(65667),Q=n(36664),q=n(645092),X=n(464139),J=n(497481),$=n(705116),ee=n(808641),et=n(318175),en=n(75601),ei=n(595162),ea=n(407818),es=n(24971),el=n(314061),er=n(501217),eo=n(908648),ec=n(774200),ed=n(690249),eu=n(658975),e_=n(147507),eE=n(585483),eI=n(5192),em=n(960048),eT=n(709054),eh=n(937889),eN=n(818570),ef=n(942951),ep=n(981631),eC=n(70722),eg=n(689938),eS=n(518171);function eA(e){let{message:t,channel:n,compact:l}=e,{author:r}=t,{guild_id:o}=n,c=t.getChannelId(),d=(0,s.e7)([j.Z],()=>j.Z.getGuild(o),[o]),u=a.useCallback(()=>{if(null!=d)(0,T.f)({guildId:d.id,location:{section:ep.jXE.CHANNEL_TEXT_AREA,object:ep.qAy.BOOST_ANNOUNCEMENT_UPSELL}})},[d]),_=(0,ef.l)({user:r,channelId:c,guildId:n.guild_id,messageId:t.id,stopPropagation:!0});return(0,i.jsx)(e_.ZP,{message:t,compact:l,guild:d,usernameHook:_,onClickMessage:u})}function eR(e){let{message:t,compact:n,channel:a}=e,s=(0,ef.l)({user:t.author,channelId:a.id,guildId:a.guild_id,messageId:t.id});return(0,i.jsx)(K.Z,{message:t,compact:n,usernameHook:s})}let ex=Object.freeze({[ep.uaV.DEFAULT]:void 0,[ep.uaV.REPLY]:void 0,[ep.uaV.CHAT_INPUT_COMMAND]:void 0,[ep.uaV.CONTEXT_MENU_COMMAND]:void 0,[ep.uaV.RECIPIENT_ADD]:function(e){let{message:t,channel:n,compact:a}=e,{author:l}=t,r=t.getChannelId(),o=(0,s.e7)([k.default],()=>k.default.getUser(t.mentions[0]),[t]),c=eI.ZP.getName(null,r,o),d=(0,ef.l)({user:l,channelId:r,guildId:n.guild_id,messageId:t.id}),u=(0,ef.l)({user:o,channelId:r,guildId:n.guild_id,messageId:t.id});return n.isThread()?(0,i.jsx)(eo.Z,{message:t,channel:n,compact:a,targetUser:o,actorUsernameHook:d,targetUsernameHook:u}):(0,i.jsx)(ee.Z,{message:t,compact:a,otherUsername:c,usernameHook:d,otherUsernameHook:u})},[ep.uaV.RECIPIENT_REMOVE]:function(e){let{message:t,channel:n,compact:a}=e,{author:l}=t,r=t.getChannelId(),o=(0,s.e7)([k.default],()=>k.default.getUser(t.mentions[0]),[t]),c=(0,ef.l)({user:l,channelId:r,guildId:n.guild_id,messageId:t.id}),d=(0,ef.l)({user:o,channelId:r,guildId:n.guild_id,messageId:t.id});return n.isThread()?(0,i.jsx)(ec.Z,{message:t,channel:n,compact:a,targetUser:o,actorUsernameHook:c,targetUsernameHook:d}):null!=o&&o.id!==l.id?(0,i.jsx)(et.Z,{message:t,channel:n,compact:a,usernameHook:c,otherUser:o,otherUsernameHook:d}):(0,i.jsx)(et.Z,{message:t,channel:n,usernameHook:c})},[ep.uaV.CALL]:function(e){let{message:t,compact:n,channel:l}=e,{id:r,author:o}=t,d=P.default.getId(),u=t.getChannelId(),_=(0,s.e7)([b.Z],()=>b.Z.isCallActive(u,r),[u,r]),E=(0,s.e7)([G.Z],()=>G.Z.getVoiceState(ep.ME,d)),I=!_&&null!=t.call&&!t.call.participants.includes(d),m=_&&(null==E||E.channelId!==u),T=a.useCallback(()=>c.default.selectVoiceChannel(u),[u]),h=(0,ef.l)({user:o,channelId:u,guildId:l.guild_id,messageId:t.id});return(0,i.jsx)(V.Z,{compact:n,message:t,missed:I,joinable:m,usernameHook:h,onClickJoinCall:T})},[ep.uaV.CHANNEL_NAME_CHANGE]:function(e){let{message:t,compact:n,channel:a}=e,{author:s}=t,l=t.getChannelId(),r=(0,ef.l)({user:s,channelId:l,guildId:a.guild_id,messageId:t.id});return(0,i.jsx)(W.Z,{compact:n,message:t,usernameHook:r,isForumPost:a.isForumPost()})},[ep.uaV.CHANNEL_ICON_CHANGE]:function(e){let{message:t,compact:n,channel:a}=e,{author:s}=t,l=t.getChannelId(),r=(0,ef.l)({user:s,channelId:l,guildId:a.guild_id,messageId:t.id});return(0,i.jsx)(Y.Z,{compact:n,message:t,usernameHook:r})},[ep.uaV.CHANNEL_PINNED_MESSAGE]:function(e){let{message:t,compact:n,channel:s}=e,{author:l}=t,r=t.getChannelId(),o=a.useCallback(()=>{if(B.Z.getChannelId()!==r){let e=D.Z.getChannel(r);null!=e&&(0,R.XU)(e.guild_id,e.id)}setTimeout(()=>eE.S.dispatch(ep.CkL.TOGGLE_CHANNEL_PINS),0)},[r]),c=(0,ef.l)({user:l,channelId:r,guildId:s.guild_id,messageId:t.id});return(0,i.jsx)(z.Z,{message:t,compact:n,usernameHook:c,onClickPins:__OVERLAY__?null:o})},[ep.uaV.USER_JOIN]:function(e){let{message:t,compact:n,channel:a}=e,{author:s}=t,l=t.getChannelId(),r=(0,ef.l)({user:s,channelId:l,guildId:a.guild_id,messageId:t.id});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eu.Z,{message:t,guildId:a.guild_id,compact:n,usernameHook:r}),(0,i.jsx)(Z.f,{channel:a,message:t})]})},[ep.uaV.GUILD_BOOST]:eA,[ep.uaV.GUILD_BOOST_TIER_1]:eA,[ep.uaV.GUILD_BOOST_TIER_2]:eA,[ep.uaV.GUILD_BOOST_TIER_3]:eA,[ep.uaV.CHANNEL_FOLLOW_ADD]:function(e){let{message:t,compact:n,channel:a}=e,{author:s}=t,l=t.getChannelId(),r=(0,ef.l)({user:s,channelId:l,guildId:a.guild_id,messageId:t.id});return(0,i.jsx)(H.Z,{message:t,compact:n,usernameHook:r})},[ep.uaV.GUILD_STREAM]:function(e){let{message:t,compact:n,channel:l}=e,{author:r,author:{id:o},messageReference:c}=t,u=t.getChannelId(),_=(0,s.e7)([y.Z],()=>y.Z.findActivity(o,e=>e.type===ep.IIU.PLAYING),[o]),E=(0,s.e7)([D.Z],()=>null!=c?D.Z.getChannel(c.channel_id):null,[c]),I=null==c?void 0:c.guild_id,m=(0,ef.l)({user:r,channelId:u,guildId:l.guild_id,messageId:t.id}),T=a.useCallback(()=>{if(null!=E&&null!=I)(0,d.iV)({streamType:eC.lo.GUILD,ownerId:o,channelId:E.id,guildId:I})},[o,E,I]);return null!=c&&null!=E&&null!=c.guild_id?(0,i.jsx)(J.Z,{message:t,compact:n,channel:E,playingActivity:_,onJoinStream:T,usernameHook:m}):null},[ep.uaV.GUILD_DISCOVERY_DISQUALIFIED]:function(e){let{message:t,compact:n}=e,a=t.getChannelId(),l=(0,s.e7)([D.Z],()=>D.Z.getChannel(a),[a]),r=null!=l?l.getGuildId():null;return(0,i.jsx)(Q.IF,{message:t,compact:n,onClick:()=>{null!=r&&C.Z.open(r,ep.pNK.DISCOVERY)}})},[ep.uaV.GUILD_DISCOVERY_REQUALIFIED]:Q.Ci,[ep.uaV.GUILD_DISCOVERY_GRACE_PERIOD_INITIAL_WARNING]:Q.s0,[ep.uaV.GUILD_DISCOVERY_GRACE_PERIOD_FINAL_WARNING]:Q.k$,[ep.uaV.THREAD_CREATED]:function(e){let{message:t,channel:s,compact:o}=e,c=(0,ef.l)({user:t.author,channelId:t.channel_id,guildId:s.guild_id,messageId:t.id}),d=a.useCallback(async e=>{var n;let i=null===(n=t.messageReference)||void 0===n?void 0:n.channel_id;if(null!=i){await v.Z.loadThread(i);let t=D.Z.getChannel(i);null!=t&&(0,L.ok)(t,e.shiftKey)}},[t]),u=a.useCallback(()=>{(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("91315"),n.e("32627")]).then(n.bind(n,223901));return t=>(0,i.jsx)(e,{channel:s,...t})})},[s]),_=a.useCallback(e=>{var a;let s=D.Z.getChannel(null===(a=t.messageReference)||void 0===a?void 0:a.channel_id);null!=s&&(0,r.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("39285"),n.e("48800"),n.e("31288")]).then(n.bind(n,422200));return t=>(0,i.jsx)(e,{...t,channel:s})})},[t]);return(0,i.jsx)(er.Z,{message:t,compact:o,usernameHook:c,onClickThread:d,onClickViewThreads:u,onContextMenuThread:_})},[ep.uaV.THREAD_STARTER_MESSAGE]:ed.Z,[ep.uaV.GUILD_INVITE_REMINDER]:function(e){let{message:t,channel:n,compact:a}=e,l=(0,s.e7)([k.default],()=>k.default.getCurrentUser()),r=(0,s.e7)([j.Z],()=>{var e,t;return null!==(t=null===(e=j.Z.getGuild(n.getGuildId()))||void 0===e?void 0:e.isOwner(l))&&void 0!==t&&t});return(0,i.jsx)($.Z,{message:t,compact:a,isOwner:r,channel:n})},[ep.uaV.AUTO_MODERATION_ACTION]:function(e){let{message:t,compact:n,channel:a}=e;return(0,m.nY)(t)?(0,i.jsx)(w.Z,{message:t,compact:n,channel:a}):null},[ep.uaV.GUILD_INCIDENT_ALERT_MODE_ENABLED]:eR,[ep.uaV.GUILD_INCIDENT_ALERT_MODE_DISABLED]:eR,[ep.uaV.GUILD_INCIDENT_REPORT_RAID]:function(e){let{message:t,compact:n,channel:a}=e,s=(0,ef.l)({user:t.author,channelId:a.id,guildId:a.guild_id,messageId:t.id});return(0,i.jsx)(X.Z,{message:t,compact:n,channel:a,usernameHook:s})},[ep.uaV.GUILD_INCIDENT_REPORT_FALSE_ALARM]:function(e){let{message:t,compact:n,channel:a}=e,s=(0,ef.l)({user:t.author,channelId:a.id,guildId:a.guild_id,messageId:t.id});return(0,i.jsx)(q.Z,{message:t,compact:n,channel:a,usernameHook:s})},[ep.uaV.ROLE_SUBSCRIPTION_PURCHASE]:N.Z,[ep.uaV.PURCHASE_NOTIFICATION]:function(e){var t;let{message:n,channel:a,compact:s}=e;return(null===(t=n.purchaseNotification)||void 0===t?void 0:t.type)===u.Eh.GUILD_PRODUCT?(0,i.jsx)(h.Z,{message:n,channel:a,compact:s}):null},[ep.uaV.INTERACTION_PREMIUM_UPSELL]:void 0,[ep.uaV.STAGE_START]:function(e){let{message:t,channel:n,compact:a}=e,l=(0,ef.l)({user:t.author,channelId:n.id,guildId:n.guild_id,messageId:t.id}),r=(0,s.e7)([f.ZP],()=>f.ZP.getActiveEventByChannel(n.id),[n.id]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(es.Z,{message:t,compact:a,usernameHook:l}),null!=r&&r.name===t.content?(0,i.jsx)(p.Z,{code:"".concat(n.guild_id,"-").concat(r.id)}):null]})},[ep.uaV.STAGE_END]:function(e){let{message:t,channel:n,compact:a}=e,s=(0,ef.l)({user:t.author,channelId:n.id,guildId:n.guild_id,messageId:t.id});return(0,i.jsx)(en.Z,{message:t,compact:a,usernameHook:s})},[ep.uaV.STAGE_SPEAKER]:function(e){let{message:t,channel:n,compact:a}=e,s=(0,ef.l)({user:t.author,channelId:n.id,guildId:n.guild_id,messageId:t.id});return(0,i.jsx)(ea.Z,{message:t,compact:a,usernameHook:s})},[ep.uaV.STAGE_RAISE_HAND]:function(e){var t,n;let{message:a,channel:r,compact:c}=e,d=(0,ef.l)({user:a.author,channelId:r.id,guildId:r.guild_id,messageId:a.id}),u=(0,s.e7)([U.Z],()=>U.Z.can(ep.Plq.MUTE_MEMBERS,r)),_=(0,s.e7)([O.Z],()=>O.Z.getParticipant(r.id,a.author.id)),E=new Date(eT.default.extractTimestamp(a.id)).toISOString()===new Date(null!==(n=null==_?void 0:null===(t=_.voiceState)||void 0===t?void 0:t.requestToSpeakTimestamp)&&void 0!==n?n:0).toISOString(),I=u&&(null==_?void 0:_.rtsState)===M.xO.REQUESTED_TO_SPEAK&&E;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ei.Z,{message:a,compact:c,usernameHook:d}),I?(0,i.jsxs)(l.Button,{wrapperClassName:eS.inviteToSpeakButtonWrapper,innerClassName:eS.inviteToSpeakButtonInner,look:l.Button.Looks.FILLED,color:l.Button.Colors.PRIMARY,onClick:()=>{(0,x.DT)(r,a.author.id,!1),o.Z.deleteMessage(r.id,a.id,!0)},children:[(0,i.jsx)(l.MicrophoneArrowRightIcon,{size:"custom",color:"currentColor",height:20,width:20}),eg.Z.Messages.REQUEST_TO_SPEAK_ACCEPT]}):null]})},[ep.uaV.STAGE_TOPIC]:function(e){let{message:t,channel:n,compact:a}=e,s=(0,ef.l)({user:t.author,channelId:n.id,guildId:n.guild_id,messageId:t.id});return(0,i.jsx)(el.Z,{message:t,compact:a,usernameHook:s})},[ep.uaV.GUILD_APPLICATION_PREMIUM_SUBSCRIPTION]:S.Z,[ep.uaV.PRIVATE_CHANNEL_INTEGRATION_ADDED]:A.P,[ep.uaV.PRIVATE_CHANNEL_INTEGRATION_REMOVED]:A.e,[ep.uaV.PREMIUM_REFERRAL]:void 0,[ep.uaV.GUILD_DEADCHAT_REVIVE_PROMPT]:function(e){let{message:t,channel:n,compact:a}=e;return(0,i.jsx)(E.Z,{message:t,channel:n,compact:a})},[ep.uaV.CUSTOM_GIFT]:void 0,[ep.uaV.GUILD_GAMING_STATS_PROMPT]:function(e){let{message:t,channel:n,compact:a}=e;return(0,i.jsx)(_.Z,{message:t,channel:n,compact:a})},[ep.uaV.VOICE_HANGOUT_INVITE]:void 0,[ep.uaV.POLL_RESULT]:g.Z,[ep.uaV.CHANGELOG]:void 0,[ep.uaV.NITRO_NOTIFICATION]:function(e){let{message:t,channel:n}=e;return(0,i.jsx)(eN.Z,{message:t,channel:n})}});t.Z=a.memo(function(e){let{message:t,channel:n,compact:a}=e,{type:s}=t,l=ex[s];if(null==l){var r;return r=Error("unknown message type ".concat(t.type)),em.Z.captureException(r),new I.Z("SystemMessage").error("",r),null}return(0,i.jsx)(F.ZP,{message:t,content:(0,eh.ZP)(t).content,children:(0,i.jsx)(l,{message:t,channel:n,compact:a})})})},507418:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var a=n(512722),s=n.n(a),l=n(83474),r=n(245315),o=n(556041),c=n(103575),d=n(592125),u=n(368859);function _(e,t){if((0,r.cp)(t))return(0,i.jsx)(o.Z,{});if((0,u.Z)(t)){let{guild_id:e,channel_id:n,message_id:a}=t.messageReference;if(null!=e)return(0,i.jsx)(l.ZP,{guildId:e,channelId:n,messageId:a})}if(null!=t.interaction&&"SENDING"===t.state)return(0,i.jsx)(i.Fragment,{});let n=d.Z.getChannel(t.channel_id);return s()(null!=n,"renderUserGuildPopout: channel should never be null"),(0,i.jsx)(c.Z,{...e,location:"renderUserGuildPopout",channelId:t.channel_id,messageId:t.id,guildId:n.guild_id,userId:t.author.id,user:null!=t.webhookId?t.author:void 0})}},348238:function(e,t,n){n.d(t,{$3:function(){return G},Go:function(){return y},NU:function(){return P},Nk:function(){return M},R9:function(){return L},RN:function(){return j},Wl:function(){return O},XO:function(){return x},Xn:function(){return F},bb:function(){return k},qo:function(){return b},rY:function(){return Z},sR:function(){return U},tn:function(){return B},wq:function(){return D}}),n(789020),n(47120);var i=n(735250),a=n(470079),s=n(668781),l=n(239091),r=n(904245),o=n(144144),c=n(40851),d=n(592125),u=n(323873),_=n(375954),E=n(594174),I=n(585483),m=n(5967),T=n(630388),h=n(358085),N=n(51144),f=n(91047),p=n(901461),C=n(50284),g=n(981631),S=n(689938);function A(e,t,n){return a.useCallback(()=>{n({[e]:!t})},[e,n,t])}function R(e,t,n){return a.useCallback(i=>{let a=E.default.getUser(e);if(null==a)return;if(i.preventDefault(),i.stopPropagation(),!i.shiftKey){n();return}let s="@".concat(N.ZP.getUserTag(a,{decoration:"never"})),l="<@".concat(e,">");I.S.dispatchToLastSubscribed(g.CkL.INSERT_TEXT,{plainText:s,rawText:l}),o.Z.startTyping(t)},[e,t,n])}function x(e,t,n,i){let a=A("usernameProfile",n,i);return R(e.author.id,t.id,a)}function O(e,t,n,i){let a=A("referencedUsernameProfile",n,i);return R(null==e?void 0:e.author.id,t.id,a)}function M(e,t,n,i){let a=A("interactionUsernameProfile",n,i);return R(null==e?void 0:e.user.id,t.id,a)}function v(e){return a.useCallback(t=>{t.preventDefault(),t.stopPropagation(),e()},[e])}function L(e,t){return v(A("avatarProfile",e,t))}function Z(e,t){return v(A("referencedAvatarProfile",e,t))}function P(e,t){return v(A("interactionAvatarProfile",e,t))}function b(e,t,s,r){let{id:o}=t,{id:E,flags:I}=e,m=(0,T.yE)(I,g.iLy.EPHEMERAL),N=(0,p.Z)(e),f=(0,c.bp)();return a.useCallback((e,t)=>{if(m)return;if(!h.isPlatformEmbedded){let t=e.target;if("A"===t.tagName&&""!==t.textContent||null==window.getSelection)return;let n=window.getSelection();if(null!=n&&!n.isCollapsed&&(n.focusNode===e.target||t.contains(n.focusNode)))return}let a=d.Z.getChannel(o),c=_.Z.getMessage(o,E),I=u.Z.isEditing(o,E);if(null!=a&&null!=c&&!I)s({contextMenu:!0}),(0,l.jW)(e,async()=>{if(N){let{default:e}=await Promise.all([n.e("47939"),n.e("80621")]).then(n.bind(n,240678));return n=>(0,i.jsx)(e,{...n,message:c,channel:a,mediaItem:t})}{let{default:e}=await Promise.all([n.e("47939"),n.e("37220"),n.e("92557"),n.e("92490")]).then(n.bind(n,225138));return n=>(0,i.jsx)(e,{...n,message:c,channel:a,mediaItem:t,shouldHideMediaOptions:r})}},{onClose:()=>s({contextMenu:!1}),context:f})},[m,o,E,s,f,N,r])}function D(e,t){return a.useCallback(n=>{let i=E.default.getUser(e),a=d.Z.getChannel(t);null!=i&&null!=a&&(n.stopPropagation(),(0,f.Pv)(n,i,a))},[e,t])}function j(e,t,n){return a.useCallback(i=>{let a=E.default.getUser(e),s=d.Z.getChannel(t);null!=a&&null!=s&&(i.stopPropagation(),(0,f._j)(i,{user:a,channel:s,moderationAlertId:n}))},[e,t,n])}function U(e,t){return a.useCallback(n=>{let i=E.default.getUser(e),a=d.Z.getChannel(t);null!=i&&null!=a&&(n.stopPropagation(),(0,f.xS)(n,i,a.guild_id))},[e,t])}function y(e,t){let{id:n}=e,{id:i}=t;return a.useCallback(e=>{e.altKey&&(e.preventDefault(),(0,C.Z)(i,n))},[i,n])}function B(e,t,n){let i="".concat(e,":").concat(t),s=a.useRef(n),[l,r]=a.useState(n);s.current=l||s.current;let o=a.useCallback(()=>{!l&&(I.S.dispatchKeyed(g.LPv.ANIMATE_CHAT_AVATAR,i,!0),r(!0))},[l,i]),c=a.useCallback(()=>{I.S.dispatchKeyed(g.LPv.ANIMATE_CHAT_AVATAR,i,!1),r(!1)},[i]);return{hasHovered:s.current,isHovered:l,handleMouseEnter:o,handleMouseLeave:c}}function k(e,t){let[n,i]=a.useState(!1),[s,l]=a.useState(!1),r=a.useCallback(t=>{var n,a;let s=null!==(a=null===(n=(0,m.uB)(t))||void 0===n?void 0:n.activeElement)&&void 0!==a?a:null;(t.target===t.currentTarget||t.currentTarget.contains(s))&&(l(!0),i(!0)),null!=e&&e(t)},[e]);return{handleFocus:r,handleBlur:a.useCallback(e=>{var n,a;let s=null!==(a=null===(n=(0,m.uB)(e))||void 0===n?void 0:n.activeElement)&&void 0!==a?a:null;(e.target===e.currentTarget||!e.currentTarget.contains(s))&&i(!1),null!=t&&t(e)},[t]),isFocused:n,hasFocused:s}}function G(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.useCallback(()=>{null!=t&&(n?s.Z.show({title:S.Z.Messages.UNBLOCK_TO_JUMP_TITLE,body:S.Z.Messages.UNBLOCK_TO_JUMP_BODY.format({name:t.author.username}),confirmText:S.Z.Messages.OKAY}):r.Z.jumpToMessage({channelId:t.channel_id,messageId:t.id,flash:!0,returnMessageId:e.id}))},[n,e.id,t])}function F(e,t){let n=A("interactionData",e,t);return a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),n()},[n])}},38267:function(e,t,n){n.d(t,{Z:function(){return r}}),n(47120);var i=n(470079),a=n(585483),s=n(981631);function l(e){return Object.keys(e).some(t=>e[t])}function r(e,t){let[n,r]=i.useState(t),[o,c]=i.useState(l(n)),d=i.useRef(o),u=i.useRef(null),_=i.useCallback(e=>{r(t=>{let n={...t,...e},i=l(n);return i!==d.current&&(d.current=i,null!=u.current&&(cancelAnimationFrame(u.current),u.current=null),i?c(!0):u.current=requestAnimationFrame(()=>c(!1))),n})},[]);return i.useEffect(()=>{let t=e=>{let{emojiPicker:t,emojiBurstPicker:n}=e;return _({emojiPicker:t,emojiBurstPicker:n})};return a.S.subscribeKeyed(s.LPv.TOGGLE_REACTION_POPOUT,e,t),()=>void a.S.unsubscribeKeyed(s.LPv.TOGGLE_REACTION_POPOUT,e,t)},[e,_]),{popouts:n,setPopout:_,selected:o}}},717680:function(e,t,n){n.d(t,{Z:function(){return r}}),n(47120);var i=n(470079);let a=!1,s=new Set;function l(e){e!==a&&(a=e,s.forEach(e=>e(a)))}function r(){let[e,t]=i.useState(a);return i.useEffect(()=>{let e=e=>{t(e)};return s.add(e),()=>{s.delete(e)}},[]),e}window.addEventListener("keydown",e=>{l(e.shiftKey)}),window.addEventListener("keyup",e=>{l(e.shiftKey)}),window.addEventListener("mousemove",e=>{l(e.shiftKey)}),window.addEventListener("blur",()=>{l(!1)})},689674:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(470079),a=n(106351),s=n(442837),l=n(434650),r=n(430824),o=n(63205),c=n(529726),d=n(981631);function u(e){var t,n;let{message:u,channel:_,enabled:E=!0}=e,I=(0,s.e7)([r.Z],()=>{var e;let t=r.Z.getGuild(_.guild_id);return null!==(e=null==t?void 0:t.hasFeature(d.oNc.COMMUNITY))&&void 0!==e&&e},[_.guild_id]),m=(null===(t=u.messageReference)||void 0===t?void 0:t.guild_id)!=null&&null!=u.webhookId&&u.hasFlag(d.iLy.IS_CROSSPOST)&&null!=_.guild_id,T=_.type===a.d.GUILD_ANNOUNCEMENT&&I,h=!u.hasFlag(d.iLy.EPHEMERAL)&&(m||T),N=m&&null!=u.messageReference?u.messageReference.message_id:u.id,f=m&&null!=u.messageReference?u.messageReference.channel_id:_.id,p=m&&(null===(n=u.messageReference)||void 0===n?void 0:n.guild_id)!=null?u.messageReference.guild_id:_.guild_id,C=i.useCallback(e=>{e?c.Z.handleMessageBecameVisible({messageId:N,channelId:_.id,guildId:_.guild_id,sourceChannelId:f,sourceGuildId:p}):c.Z.handleMessageLostVisibility(N)},[N,_.id,_.guild_id,f,p]),g=o.Z.useExperiment({location:"836a4b_1"},{disable:!h||!E,autoTrackExposure:!0}).enabled,S=(0,l.O)(C,0,g);return i.useEffect(()=>()=>{c.Z.handleMessageLostVisibility(N)},[N]),S}},610699:function(e,t,n){n.d(t,{Z:function(){return k}}),n(653041),n(47120),n(390547);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(512722),o=n.n(r),c=n(442837),d=n(477690),u=n(481060),_=n(447543),E=n(317381),I=n(778569),m=n(182906),T=n(100527),h=n(906732),N=n(835473),f=n(471445),p=n(601964),C=n(592125),g=n(430824),S=n(496675),A=n(594174),R=n(197409),x=n(514342),O=n(602623),M=n(624138),v=n(358595),L=n(981631),Z=n(245335),P=n(689938),b=n(746142);let D=(0,M.Mg)(d.Z.EMBEDDED_APPLICATION_INVITE_IMAGE_WIDTH_LARGE),j=(0,M.Mg)(d.Z.EMBEDDED_APPLICATION_INVITE_IMAGE_WIDTH_SMALL),U=(0,M.Mg)(d.Z.EMBEDDED_APPLICATION_INVITE_CONTENT_WIDTH);function y(e){let{members:t,membersOnline:n,isLarge:a,isStacked:s}=e,r=[];return null!=n&&n>0&&r.push((0,i.jsxs)("div",{className:b.statusWrapper,children:[(0,i.jsx)("i",{className:b.statusOnline}),(0,i.jsx)(u.Text,{variant:"text-xs/normal",className:b.count,children:P.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n})})]},"onlineCount")),null!=t&&r.push((0,i.jsxs)("div",{className:b.statusWrapper,children:[(0,i.jsx)("i",{className:b.statusOffline}),(0,i.jsx)(u.Text,{variant:"text-xs/normal",className:b.count,children:P.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:t})})]},"memberCount")),(0,i.jsx)("div",{className:l()(b.statusCounts,{[b.large]:a,[b.stacked]:s}),children:r})}function B(e){let{channel:t,guild:n,isStacked:a,hasEnded:s}=e;if(null!=t&&null!=n){let e=(0,f.KS)(t,n);return(0,i.jsxs)("div",{className:l()(b.channel,{[b.stacked]:a,[b.ended]:s}),children:[null!=e?(0,i.jsx)(e,{className:b.channelIcon,size:"xs",color:"currentColor"}):null,(0,i.jsx)(x.Z,{children:(0,i.jsx)(u.Text,{variant:"text-xs/normal",children:P.Z.Messages.EMBEDDED_ACTIVITIES_INVITE_CHANNEL_IN_SERVER.format({channelName:t.name,serverName:n.name})})})]})}return null!=n?(0,i.jsx)("div",{className:l()(b.channel,{[b.stacked]:a,[b.ended]:s}),children:(0,i.jsx)(x.Z,{children:(0,i.jsx)(u.Text,{variant:"text-xs/normal",children:P.Z.Messages.INVITE_BUTTON_STREAMING_SUBTEXT.format({guildName:n.name})})})}):null}function k(e){var t,n;let s,r,{invite:d,getAcceptInviteContext:f}=e,{approximate_member_count:x,approximate_presence_count:M,target_type:k,target_application:G}=d;o()(k===Z.Iq.EMBEDDED_APPLICATION&&null!=G,"invalid application invite");let F=a.useRef(null),[w,V]=a.useState(!1),[H,Y]=a.useState(!1);a.useEffect(()=>{let e=new ResizeObserver(()=>(function(){var e;let t=null===(e=F.current)||void 0===e?void 0:e.offsetWidth;null!=t&&(V(t<U+j),Y(t<=2*D))})()),t=F.current;return null!=t&&e.observe(t),()=>{e.disconnect()}},[F,V,Y]);let W=(0,c.e7)([g.Z],()=>null!=d.guild?g.Z.getGuild(d.guild.id):null,[d]),z=(0,N.Z)([G.id])[0],K=(0,c.e7)([E.ZP],()=>{var e;return(null==d?void 0:d.channel)!=null&&(null===(e=E.ZP.getSelfEmbeddedActivityForChannel(d.channel.id))||void 0===e?void 0:e.applicationId)===G.id}),Q=(0,c.e7)([E.ZP],()=>{var e;return((null===(e=d.channel)||void 0===e?void 0:e.id)!=null?E.ZP.getEmbeddedActivitiesForChannel(d.channel.id):[]).some(e=>{let{applicationId:t}=e;return G.id===t})}),q=C.Z.getChannel(null===(t=d.channel)||void 0===t?void 0:t.id),X=(0,c.e7)([S.Z],()=>null!=q&&S.Z.can(L.Plq.USE_EMBEDDED_ACTIVITIES,q),[q]),{analyticsLocations:J}=(0,h.ZP)(T.Z.INVITE_EMBED),$=(0,I.Z)({applicationId:G.id,size:D,names:["embedded_cover"]}),ee=(0,c.Wu)([E.ZP],()=>null!=q?E.ZP.getEmbeddedActivitiesForChannel(q.id).filter(e=>e.applicationId===G.id).flatMap(e=>Array.from(e.userIds)):[],[q,G.id]),et=(0,c.Wu)([A.default],()=>ee.map(e=>A.default.getUser(e)),[ee]),en=d.state===L.r2o.ACCEPTING,ei=null!=W;if(null==W){if(null==d.guild)return(0,i.jsx)(v.Z,{});W=new p.ZP(d.guild)}let ea=ei&&!X||ei&&K,es=()=>{_.Z.acceptInviteAndTransitionToInviteChannel({inviteKey:d.code,context:f("Invite Button Embed"),analyticsLocations:J})};return(ei&&K&&(s=P.Z.Messages.EMBEDDED_ACTIVITIES_ALREADY_IN_ACTIVITY),!X&&(s=P.Z.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS),r=K?P.Z.Messages.INVITE_EMBED_JOINED:Q||!ei?P.Z.Messages.JOIN:P.Z.Messages.START,null==d.code||""===d.code)?null:(0,i.jsxs)("div",{className:b.container,ref:F,children:[(0,i.jsx)("div",{className:l()(b.imgContainer,{[b.large]:w,[b.stacked]:H}),children:(0,i.jsx)(m.Z,{imageBackground:$,applicationName:null!==(n=null==z?void 0:z.name)&&void 0!==n?n:"",imageClassName:l()(b.img,{[b.large]:w,[b.stacked]:H}),imageNotFoundClassName:l()(b.brokenImg,{[b.large]:w,[b.stacked]:H})})}),(0,i.jsxs)(R.Z,{className:l()(b.content,{[b.large]:w,[b.stacked]:H}),children:[(0,i.jsxs)("div",{className:b.info,children:[(0,i.jsx)(u.FormTitle,{children:ei?P.Z.Messages.EMBEDDED_ACTIVITIES_EMBED_TITLE_INVITED_TO_JOIN:P.Z.Messages.INVITE_BUTTON_TITLE_INVITED}),(0,i.jsx)(u.Heading,{className:b.heading,variant:"heading-xl/semibold",children:null==z?void 0:z.name}),(0,i.jsx)(B,{channel:q,guild:W,isStacked:H,hasEnded:!Q})]}),(0,i.jsxs)("div",{className:l()(b.currentState,{[b.large]:w,[b.split]:!Q&&H}),children:[!Q&&ei?(0,i.jsxs)("div",{className:l()(b.endedNote,{[b.large]:w}),children:[(0,i.jsx)(u.Text,{variant:"text-xs/medium",children:P.Z.Messages.EMBEDDED_ACTIVITIES_EMBED_ENDED}),(0,i.jsx)(u.Text,{variant:"text-xs/medium",children:P.Z.Messages.EMBEDDED_ACTIVITIES_EMBED_START})]}):null,ei?null:(0,i.jsx)(y,{members:x,membersOnline:M,isLarge:w,isStacked:H}),(0,i.jsxs)("div",{className:b.cta,children:[null!=W&&Q?(0,i.jsx)("div",{className:b.avatars,children:(0,i.jsx)(O.Z,{guildId:W.id,users:et,max:4})}):null,(0,i.jsx)(u.Tooltip,{text:s,children:e=>{let{onClick:t,...n}=e;return(0,i.jsx)(u.Button,{className:b.actionButton,onClick:()=>{es(),null==t||t()},wrapperClassName:b.tooltipButtonWrapper,...n,submitting:en,disabled:ea,color:u.ButtonColors.GREEN,children:r})}})]})]})]})]})}},313876:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(442837),s=n(314897),l=n(197409),r=n(782605),o=n(689938);function c(e){var t,n;let{author:c,inviteError:d}=e,u=(0,a.e7)([s.default],()=>s.default.getId())===c.id?o.Z.Messages.INVITE_BUTTON_TITLE_INVITER_INVALID:o.Z.Messages.INVITE_BUTTON_TITLE_INVITED_INVALID,_=(0,r.l)(null==d?void 0:d.code);return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(l.Z.Header,{text:u}),(0,i.jsxs)(l.Z.Body,{children:[(0,i.jsx)(l.Z.Icon,{expired:!0}),(0,i.jsx)(l.Z.Info,{expired:!0,title:null!==(t=null==_?void 0:_.title)&&void 0!==t?t:o.Z.Messages.INVITE_BUTTON_INVALID,children:null!==(n=null==_?void 0:_.description)&&void 0!==n?n:null==d?void 0:d.message})]})]})}},778333:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250),a=n(470079),s=n(442837),l=n(493683),r=n(447543),o=n(598077),c=n(314897),d=n(592125),u=n(699516),_=n(197409),E=n(51144),I=n(981631),m=n(689938),T=n(637091);function h(e){var t;let{invite:n,getAcceptInviteContext:h}=e,N=(0,s.e7)([c.default],()=>c.default.getId()),f=(null===(t=n.inviter)||void 0===t?void 0:t.id)===N,p=n.state===I.r2o.ACCEPTING,C=(0,s.e7)([u.Z],()=>{var e;return null!=n.inviter&&u.Z.isFriend(null===(e=n.inviter)||void 0===e?void 0:e.id)}),g=a.useCallback(()=>{null!=n.inviter&&null!=d.Z.getDMFromUserId(n.inviter.id)&&l.Z.openPrivateChannel([n.inviter.id])},[n.inviter]),S=a.useCallback(()=>{let e=h("Invite Button Embed");r.Z.acceptInviteAndTransitionToInviteChannel({inviteKey:n.code,context:e})},[n.code,h]);if(null==n.inviter)return null;let A=C?g:S,R=m.Z.Messages.INVITE_BUTTON_ADD_FRIEND,x=_.Z.Button.Colors.GREEN;C?(R=m.Z.Messages.INVITE_BUTTON_ALREADY_FRIENDS,x=_.Z.Button.Colors.PRIMARY):f&&(R=m.Z.Messages.INVITE_BUTTON_ADD_FRIEND,x=_.Z.Button.Colors.PRIMARY);let O=f?m.Z.Messages.INVITE_BUTTON_TITLE_INVITER_FRIEND:m.Z.Messages.INVITE_BUTTON_TITLE_INVITED_FRIEND,M=null!=n.inviter?"".concat(n.inviter.username):"",v=null!=n.inviter?E.ZP.getUserTag(n.inviter):"";return(0,i.jsxs)(_.Z,{children:[(0,i.jsx)(_.Z.Header,{text:O}),(0,i.jsxs)(_.Z.Body,{children:[(0,i.jsxs)("div",{className:T.headerLine,children:[(0,i.jsx)(_.Z.Icon,{user:new o.Z(n.inviter),onClick:C?A:void 0}),(0,i.jsx)(_.Z.Info,{title:M,onClick:C?A:void 0,children:v})]}),(0,i.jsx)(_.Z.Button,{onClick:A,submitting:p,isDisabled:f,color:x,children:R})]})]})}},949981:function(e,t,n){n.d(t,{Z:function(){return T}}),n(724458),n(653041);var i=n(735250);n(470079);var a=n(512722),s=n.n(a),l=n(442837),r=n(131704),o=n(592125),c=n(594174),d=n(197409),u=n(823379),_=n(358595),E=n(981631),I=n(689938),m=n(637091);function T(e){let t,{invite:n,author:a,currentUserId:T,onTransitionToInviteChannel:h,onAcceptInstantInvite:N}=e,f=T===a.id,p=n.state===E.r2o.ACCEPTING,C=(0,l.e7)([o.Z],()=>null!=n.channel?o.Z.getChannel(n.channel.id):null,[n]);s()(null==C||C.isPrivate(),"must be a private channel");let g=null!=C;if(null==C){if(null==n.channel)return(0,i.jsx)(_.Z,{});C=(0,r.jD)(n.channel),t=null!=n.channel&&null!=n.channel.recipients?n.channel.recipients:[]}else{t=C.recipients.reduce((e,t)=>{let n=c.default.getUser(t);return null!=n&&e.push(n),e},[]);let e=c.default.getCurrentUser();g&&null!=e&&t.push(e)}let S=C.name;(null==S||""===S)&&(S=t.length>0?t.filter(u.lm).map(e=>e.username).join(", "):I.Z.Messages.UNNAMED);let A=g?h:N,R=I.Z.Messages.JOIN_GUILD,x=d.Z.Button.Colors.GREEN;g&&(R=I.Z.Messages.JOINED_GUILD,x=d.Z.Button.Colors.PRIMARY);let O=I.Z.Messages.INVITE_BUTTON_TITLE_INVITED_GROUP_DM;return f&&(O=I.Z.Messages.INVITE_BUTTON_TITLE_INVITER_GROUP_DM),(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(d.Z.Header,{text:O}),(0,i.jsxs)(d.Z.Body,{children:[(0,i.jsxs)("div",{className:m.headerLine,children:[(0,i.jsx)(d.Z.Icon,{channel:C,onClick:g?A:void 0}),(0,i.jsx)(d.Z.Info,{title:S,onClick:g?A:void 0,children:(0,i.jsx)(d.Z.Data,{members:t.length})})]}),(0,i.jsx)(d.Z.Button,{onClick:A,submitting:p,isDisabled:g,color:x,children:R})]})]})}},680668:function(e,t,n){n.d(t,{Z:function(){return h}}),n(789020);var i=n(735250);n(470079);var a=n(533800),s=n(481060),l=n(358555),r=n(131704),o=n(197409),c=n(630388),d=n(267642),u=n(411198),_=n(277707),E=n(358595),I=n(981631),m=n(689938),T=n(637091);function h(e){var t,h;let N,f,p,{onTransitionToInviteChannel:C,onAcceptInstantInvite:g,guild:S,invite:A,author:R,currentUserId:x}=e,O=x===R.id,{channel:M,approximate_member_count:v,approximate_presence_count:L}=A,Z=A.state===I.r2o.ACCEPTING,P=null!=M?(0,r.jD)(M):null,b=null!=S,D=null!=P,j=null!=P&&P.isGuildVocal(),U=null!=P&&P.isGuildStageVoice(),y=(0,c.yE)(null!==(t=A.flags)&&void 0!==t?t:0,a.$.IS_GUEST_INVITE),B=null!==(h=null==S?void 0:S.hasFeature(I.oNc.HUB))&&void 0!==h&&h;if(null==S){if(null==A.guild)return(0,i.jsx)(E.Z,{});S=u.Qs(A.guild);let e=(0,d.rF)(A.guild.premium_subscription_count,A.guild.id);S.premiumTier=e}let k=b?C:g,G=(0,_.e)({isVoiceChannel:j,isOwnInvite:O,isGuest:y,isHubGuild:B,isStage:U,isStream:!1});return f=(0,i.jsxs)("span",{className:T.infoTitle,children:[(0,i.jsx)(o.Z.GuildName,{guild:S}),(0,i.jsx)("span",{className:T.infoBadge,children:(0,i.jsx)(l.Z,{guild:S,isBannerVisible:!1,disableBoostClick:!0})})]}),y&&(p=(0,i.jsx)(s.TooltipContainer,{className:T.tooltipContainer,text:m.Z.Messages.GUEST_MEMBERSHIP_EXPLANATION,children:(0,i.jsx)(s.CircleInformationIcon,{size:"md",color:"currentColor",className:T.infoIcon})})),j?(f=(0,i.jsx)(o.Z.Channel,{channel:P}),N=(0,i.jsxs)("span",{className:T.infoTitle,children:[m.Z.Messages.INVITE_BUTTON_BODY_IN_GUILD.format({guildName:S.name}),(0,i.jsx)("span",{className:T.infoBadge,children:(0,i.jsx)(l.Z,{guild:S,isBannerVisible:!1})})]})):null!=v&&v>=5||null!=L&&L>0?N=(0,i.jsx)(o.Z.Data,{members:v,membersOnline:L}):D&&(N=(0,i.jsx)(o.Z.Channel,{channel:P,guild:S})),(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(o.Z.GuildSplash,{guild:S}),(0,i.jsx)(o.Z.Header,{text:G,extra:p}),(0,i.jsxs)(o.Z.Body,{children:[(0,i.jsxs)("div",{className:T.headerLine,children:[(0,i.jsx)(o.Z.Icon,{guild:S}),(0,i.jsx)(o.Z.Info,{title:f,onClick:b?k:null,children:N})]}),(0,i.jsx)(o.Z.Button,{onClick:k,submitting:Z,color:o.Z.Button.Colors.GREEN,children:j?U?m.Z.Messages.STAGE_CHANNEL_JOIN:m.Z.Messages.INVITE_VOICE_CHANNEL_JOIN:b?m.Z.Messages.JOINED_GUILD:m.Z.Messages.JOIN_GUILD})]}),S.hasFeature(I.oNc.HUB)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:T.separator}),(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"header-secondary",children:m.Z.Messages.HUB_INVITE_ANOTHER_SCHOOL_LINK.format({onClick:()=>(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("95468"),n.e("32260")]).then(n.bind(n,650233));return t=>(0,i.jsx)(e,{...t})})})})]})]})}},143708:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(735250);n(470079);var a=n(442837),s=n(144144),l=n(314897),r=n(944486),o=n(197409),c=n(585483),d=n(51144),u=n(981631),_=n(689938),E=n(637091);function I(e){let t,n,I,{author:m,banned:T}=e,h=(0,a.e7)([l.default],()=>l.default.getId()),N=(0,a.e7)([r.Z],()=>r.Z.getChannelId()),f=d.ZP.useName(m),p=h===m.id;return p?(t=_.Z.Messages.INVITE_BUTTON_INVALID_OWNER,I=_.Z.Messages.INVITE_BUTTON_TITLE_INVITER_INVALID):(I=_.Z.Messages.INVITE_BUTTON_TITLE_INVITED_INVALID,T?t=_.Z.Messages.INSTANT_INVITE_BANNED_INFO:null!=f?(t=_.Z.Messages.INSTANT_INVITE_ASK_USER_FOR_NEW_INVITE.format({username:f}),n=(0,i.jsx)(o.Z.Button,{onClick:function(){let{id:e}=m,t="@".concat(d.ZP.getUserTag(m,{decoration:"never"}));c.S.dispatchToLastSubscribed(u.CkL.INSERT_TEXT,{plainText:t,rawText:"<@".concat(e,">")}),null!=N&&s.Z.startTyping(N)},children:_.Z.Messages.MENTION})):t=_.Z.Messages.INSTANT_INVITE_ASK_FOR_NEW_INVITE),(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(o.Z.Header,{text:I}),(0,i.jsxs)(o.Z.Body,{children:[(0,i.jsxs)("div",{className:E.headerLine,children:[(0,i.jsx)(o.Z.Icon,{expired:!0}),(0,i.jsx)(o.Z.Info,{expired:!0,title:_.Z.Messages.INVITE_BUTTON_INVALID,children:t})]}),n]})]})}},358595:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var a=n(197409),s=n(689938);function l(){return(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(a.Z.Header,{text:s.Z.Messages.INVITE_BUTTON_RESOLVING}),(0,i.jsx)(a.Z.Body,{resolving:!0})]})}},563917:function(e,t,n){var i=n(735250);n(470079);var a=n(792766),s=n(197409);t.Z=e=>{let{stageInstance:t,guild:n,isMember:l,onTransitionToInviteChannel:r,onAcceptInstantInvite:o}=e;return(0,i.jsx)(s.Z,{children:(0,i.jsx)(a.Z,{isEmbed:!0,stageInstance:t,guild:n,onClick:l?r:o})})}},135845:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var a=n(512722),s=n.n(a),l=n(442837),r=n(131704),o=n(601964),c=n(199902),d=n(914010),u=n(197409),_=n(358595),E=n(981631),I=n(245335),m=n(689938),T=n(637091);function h(e){let t,n,a,{invite:h,currentUserId:N,guild:f,onTransitionToInviteChannel:p,onAcceptInstantInvite:C}=e,g=null==f?void 0:f.id,S=(0,l.e7)([d.Z],()=>d.Z.getGuildId()),A=(0,l.e7)([c.Z],()=>null!=h&&null!=h.target_user?c.Z.getActiveStreamForUser(h.target_user.id,g):null,[h,g]),R=(0,l.e7)([c.Z],()=>null!=h&&null!=h.target_user?c.Z.getStreamForUser(h.target_user.id,g):null,[h,g]),x=null!=h&&h.target_type===I.Iq.STREAM&&null!=h.target_user&&null!=A,O=null!=h&&null!=R&&null!=h.channel&&null!=h.guild&&R.channelId===h.channel.id&&R.guildId===h.guild.id;s()(null!=h,"Invite cannot be null");let{target_type:M,target_user:v}=h;s()(M===I.Iq.STREAM&&null!=v,"invalid streaming invite");let L=N===v.id,Z=h.state===E.r2o.ACCEPTING,P=null!=f;if(null==f){if(null==h.guild)return(0,i.jsx)(_.Z,{});f=new o.ZP(h.guild)}let b=null!=h.channel?(0,r.jD)(h.channel):null,D=x?p:C;P&&!O?a=L?m.Z.Messages.INVITE_BUTTON_STREAM_ENDED_STREAMER:m.Z.Messages.INVITE_BUTTON_STREAM_ENDED.format({name:v.username}):(t=m.Z.Messages.WATCH,n=u.Z.Button.Colors.GREEN,x&&(t=m.Z.Messages.INVITE_BUTTON_STREAM_WATCHING,n=u.Z.Button.Colors.PRIMARY),a=L?m.Z.Messages.INVITE_BUTTON_STREAMER:m.Z.Messages.INVITE_BUTTON_STREAMING.format({name:v.username}));let j=S===f.id&&null!=b?(0,i.jsx)(u.Z.Channel,{channel:b}):m.Z.Messages.INVITE_BUTTON_STREAMING_SUBTEXT.format({guildName:f.name});return(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(u.Z.Header,{text:m.Z.Messages.INVITE_BUTTON_TITLE_STREAMING}),(0,i.jsxs)(u.Z.Body,{children:[(0,i.jsxs)("div",{className:T.headerLine,children:[(0,i.jsx)(u.Z.Icon,{guild:f,onClick:P&&O?D:void 0}),(0,i.jsx)(u.Z.Info,{title:a,onClick:P&&O?D:void 0,children:j})]}),O?(0,i.jsx)(u.Z.Button,{disabled:P&&!O,onClick:D,submitting:Z,isDisabled:x&&O,color:n,children:t}):null]})]})}},983436:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250),a=n(470079),s=n(287734),l=n(475468),r=n(358555),o=n(944486),c=n(914010),d=n(197409),u=n(626135),_=n(981631),E=n(689938),I=n(637091);function m(e){var t;let{guild:n,channel:m,messageData:T}=e,h=c.Z.getGuildId(),N=o.Z.getChannelId(h),f=a.useCallback(()=>{var e;u.default.track(_.rMx.CHANNEL_LINK_PREVIEW_JOINED,{author_id:null===(e=T.author)||void 0===e?void 0:e.id,link_guild_id:n.id,link_channel_id:m.id,link_channel_type:m.type,guild_id:h,channel_id:N}),(0,l.K)(n.id,m.id),s.default.selectVoiceChannel(m.id)},[null===(t=T.author)||void 0===t?void 0:t.id,n.id,m.id,m.type,h,N]),p=(0,i.jsx)(d.Z.Channel,{channel:m});return(0,i.jsx)(d.Z,{children:(0,i.jsxs)(d.Z.Body,{children:[(0,i.jsxs)("div",{className:I.headerLine,children:[(0,i.jsx)(d.Z.Icon,{guild:n}),(0,i.jsx)(d.Z.Info,{title:p,onClick:f,children:(0,i.jsxs)("span",{className:I.infoTitle,children:[E.Z.Messages.INVITE_BUTTON_BODY_IN_GUILD.format({guildName:n.name}),(0,i.jsx)("span",{className:I.infoBadge,children:(0,i.jsx)(r.Z,{guild:n,isBannerVisible:!1})})]})})]}),(0,i.jsx)(d.Z.Button,{onClick:f,color:d.Z.Button.Colors.GREEN,children:m.isGuildStageVoice()?E.Z.Messages.STAGE_CHANNEL_JOIN:E.Z.Messages.JOIN_VOICE})]})})}},438075:function(e,t,n){n.d(t,{Q:function(){return r},Z:function(){return l}});var i=n(735250);n(470079);var a=n(275344),s=n(938353);function l(e){let{channelMessageProps:{message:t,channel:n,compact:l=!1},hasSpoilerEmbeds:r,handleContextMenu:o,isInteracting:c,isAutomodBlockedMessage:d,isMessageSnapshot:u,renderThreadAccessory:_,renderComponentAccessory:E,renderSuppressEmbeds:I,forceAddReactions:m,className:T}=e;return d?null:(0,i.jsx)(a.Z,{message:t,children:(0,i.jsx)(s.ZP,{className:T,isInteracting:c,message:t,channel:n,compact:l,hasSpoilerEmbeds:r,isMessageSnapshot:u,onMediaItemContextMenu:o,renderThreadAccessory:_,renderComponentAccessory:E,renderSuppressEmbeds:I,forceAddReactions:m})})}function r(e,t){let{message:n,channel:a,compact:l=!1,renderThreadAccessory:r,disableReactionCreates:o,disableReactionUpdates:c}=e;return(0,i.jsx)(s.$p,{message:n,channel:a,compact:l,hasSpoilerEmbeds:t,renderThreadAccessory:r,disableReactionCreates:o,disableReactionUpdates:c})}},295790:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var a=n(901461),s=n(815387);function l(e){let{message:t,channel:n,compact:l}=e;return(0,a.Z)(t)?(0,i.jsx)(s.Z,{message:t,channel:n,compact:l}):null}},145807:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(442837),s=n(699516),l=n(783709);function r(e){let{message:t,channel:n,compact:r}=e,o=(0,a.e7)([s.Z],()=>null!=t.interaction&&s.Z.isBlocked(t.interaction.user.id),[t.interaction]);return(0,i.jsx)(l.Z,{message:t,channel:n,compact:r,isInteractionUserBlocked:o})}function o(e,t,n){return null!=e.interaction&&""!==e.interaction.displayName?(0,i.jsx)(r,{message:e,channel:t,compact:n}):null}},56744:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(735250),a=n(470079),s=n(442837),l=n(905405),r=n(869765),o=n(699516),c=n(512665),d=n(937889),u=n(739566),_=n(981631);let E=a.memo(function(e){let{baseMessage:t,channel:n,referencedMessage:_,compact:E=!1}=e,I=_.state===r.Y.LOADED?_.message:void 0,m=(0,l.p)(),T=a.useMemo(()=>(null==I?void 0:I.content)!=null&&""!==I.content?(0,d.ZP)(I,{formatInline:!0,shouldFilterKeywords:m}).content:null,[I,m]),h=(0,s.e7)([o.Z],()=>null!=I&&o.Z.isBlockedForMessage(I),[I]),N=(0,u.Uj)(I),f=(0,u.Uj)(t);return(0,i.jsx)(c.Z,{repliedAuthor:N,baseAuthor:f,baseMessage:t,channel:n,referencedMessage:_,content:T,compact:E,isReplyAuthorBlocked:h})});function I(e,t,n,a,s){return e.type!==_.uaV.REPLY||null==n?null:(0,i.jsx)(E,{baseMessage:e,channel:t,referencedMessage:a,compact:s})}},650473:function(e,t,n){n.d(t,{AZ:function(){return a},Y9:function(){return i},bj:function(){return s}});let i="#83DDC5",a="#F47FFF",s="#FFDE4D"},833592:function(e,t,n){n.d(t,{Vk:function(){return _},g3:function(){return h},jF:function(){return E},jk:function(){return I},wt:function(){return m}});var i=n(990547),a=n(544891),s=n(283693),l=n(570140),r=n(695346),o=n(573261),c=n(140155),d=n(178480),u=n(981631);function _(e){l.Z.dispatch({type:"NOTIFICATION_CENTER_SET_ACTIVE",active:e})}function E(){l.Z.dispatch({type:"RESET_NOTIFICATION_CENTER"})}async function I(e,t){if(c.Z.loading)return;await l.Z.dispatch({type:"LOAD_NOTIFICATION_CENTER_ITEMS"});let n=Math.ceil(c.Z.items.length/e.limit);try{let a=await o.Z.get({url:u.ANM.NOTIF_CENTER_ITEMS(),trackedActionData:{event:i.NetworkActionNames.NOTIFICATION_CENTER_PAGE_FETCH,properties:e=>{var t;let i=((null===(t=e.body)||void 0===t?void 0:t.items)||[]).map(e=>e.type);return(0,s.iG)({page:n,items:i,item_count:i.length})}},query:{...e}});null==t||t(),await l.Z.dispatch({type:"LOAD_NOTIFICATION_CENTER_ITEMS_SUCCESS",items:a.body.items,cursor:a.body.cursor,hasMore:a.body.has_more})}catch(e){null==t||t(),await l.Z.dispatch({type:"LOAD_NOTIFICATION_CENTER_ITEMS_FAILURE"})}}function m(e){null!=e.local_id?function(e){l.Z.dispatch({type:"NOTIFICATION_CENTER_ITEMS_LOCAL_ACK",localIds:e})}([e.local_id]):(0,d.RB)(e)?function(e){l.Z.dispatch({type:"NOTIFICATION_CENTER_ITEMS_ACK",optimistic:!0,ids:[e]})}(e.id):T(e.id)}async function T(e){try{l.Z.dispatch({type:"NOTIFICATION_CENTER_ITEMS_ACK",optimistic:!0,ids:[e]}),await a.tn.post({url:u.ANM.NOTIF_CENTER_ITEMS_ACK(e)})}catch(t){l.Z.dispatch({type:"NOTIFICATION_CENTER_ITEMS_ACK_FAILURE",ids:[e]})}}async function h(e){let t=r.d$.getSetting();try{l.Z.dispatch({type:"NOTIFICATION_CENTER_ITEM_DELETE",id:e.id}),await o.Z.delete({url:u.ANM.NOTIF_CENTER_ITEMS(e.id),body:{item_type:(0,d.RB)(e)?"mention":"regular"},trackedActionData:{event:i.NetworkActionNames.NOTIFICATION_CENTER_ITEM_DELETE,properties:{notification_center_id:e.id,acked:(0,d.r)(e,t),item_type:e.type}}})}catch(t){throw l.Z.dispatch({type:"NOTIFICATION_CENTER_ITEM_DELETE_FAILURE",item:e}),t}}},774807:function(e,t,n){n(47120);var i,a=n(442837),s=n(570140);n(57132);var l=n(455199),r=n(70956),o=n(709054),c=n(497089);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=90*r.Z.Millis.DAY,_={tab:null,localItemAcks:{},hasNewMentions:!1,isDataStale:!1,isRefreshing:!1};class E extends(i=a.ZP.PersistedStore){initialize(e){if(this.waitFor(l.Z),null!=e){var t;(_=e).localItemAcks=function(e){let t={};for(let[n,i]of Object.entries(e))Date.now()-i<u&&(t[n]=i);return t}(null!==(t=_.localItemAcks)&&void 0!==t?t:{}),_.isDataStale=!0}}getState(){return _}getTab(){var e;return null!==(e=_.tab)&&void 0!==e?e:c.b1.ForYou}isLocalItemAcked(e){return null!=e.local_id&&(null!=_.localItemAcks[e.local_id]||o.default.age(e.id)>u)}hasNewMentions(){return _.hasNewMentions}isDataStale(){return _.isDataStale}isRefreshing(){return _.isRefreshing}shouldReload(){return _.hasNewMentions||_.isDataStale||_.isRefreshing}}d(E,"displayName","NotificationCenterStore"),d(E,"persistKey","NotificationCenterStore");function I(){_.hasNewMentions=!1,_.isDataStale=!1,_.isRefreshing=!1}t.Z=new E(s.Z,{MESSAGE_CREATE:function(e){let{message:t}=e},NOTIFICATION_CENTER_SET_TAB:function(e){_={..._,tab:e.tab}},NOTIFICATION_CENTER_ITEMS_LOCAL_ACK:function(e){let{localIds:t}=e;t.forEach(e=>{_={..._,localItemAcks:{..._.localItemAcks,[e]:Date.now()}}})},NOTIFICATION_CENTER_REFRESH:function(){_.isRefreshing=!0},LOAD_NOTIFICATION_CENTER_ITEMS_FAILURE:I,LOAD_NOTIFICATION_CENTER_ITEMS_SUCCESS:I})},418316:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(924301);n(57132);var a=n(430824),s=n(699516),l=n(594174),r=n(624138),o=n(51144),c=n(497089),d=n(981631),u=n(689938);function _(e){var t,n,_,E,I,m,T,h,N,f,p,C,g,S,A;let R=null!==(_=null===(t=e.other_user)||void 0===t?void 0:t.id)&&void 0!==_?_:d.lds,x=o.ZP.getName(l.default.getUser(null===(n=e.other_user)||void 0===n?void 0:n.id));switch(e.type){case c.O7.INCOMING_FRIEND_REQUESTS:return u.Z.Messages.NOTIFICATION_CENTER_INCOMING_FRIEND_REQUEST.format({username:"**".concat(x,"**")});case c.O7.FRIEND_REQUESTS_GROUPED:let O=o.ZP.getName(l.default.getUser(null===(I=e.other_users)||void 0===I?void 0:null===(E=I[0])||void 0===E?void 0:E.id)),M=o.ZP.getName(l.default.getUser(null===(T=e.other_users)||void 0===T?void 0:null===(m=T[1])||void 0===m?void 0:m.id)),v=Math.max((null!==(N=null===(h=e.other_users)||void 0===h?void 0:h.length)&&void 0!==N?N:0)-2,0);return u.Z.Messages.NOTIFICATION_CENTER_INCOMING_FRIEND_REQUESTS.format({user:O,user2:M,count:v});case c.O7.MOBILE_NATIVE_UPDATE_AVAILABLE:let L=null!==(p=null===(f=e.local_id)||void 0===f?void 0:f.split("_").pop())&&void 0!==p?p:"unknown";return"Update to build ".concat(L," available!");case c.DY.FRIEND_SUGGESTION_CREATED:let Z=s.Z.getRelationshipType(R)===d.OGo.PENDING_OUTGOING;return null!==(C=e.body)&&void 0!==C?C:"";case c.DY.GUILD_SCHEDULED_EVENT_STARTED:let P=e.guild_scheduled_event_id,b=null!=P?i.ZP.getGuildScheduledEvent(P):null,D=null==b?void 0:b.name,j=null===(g=a.Z.getGuild(null==b?void 0:b.guild_id))||void 0===g?void 0:g.name,U=(0,i.Z2)(null!=b?b:void 0);return(0,r.Ew)(j)||(0,r.Ew)(D)||!U?null!==(S=e.body)&&void 0!==S?S:"":u.Z.Messages.NOTIFICATION_CENTER_GUILD_SCHEDULED_EVENT_ENDED.format({event_name:D,guild_name:j});case c.O7.INCOMING_FRIEND_REQUESTS_ACCEPTED:return u.Z.Messages.NOTIFICATION_CENTER_INCOMING_FRIEND_REQUEST_ACCEPTED.format({username:"**".concat(x,"**")})}return null!==(A=e.body)&&void 0!==A?A:""}},526146:function(e,t,n){n.d(t,{I:function(){return l}});var i=n(442837),a=n(774807),s=n(178480);let l=(e,t)=>{let n=(0,i.e7)([a.Z],()=>a.Z.isLocalItemAcked(e));return!e.forceUnacked&&(n||(0,s.r)(e,t))}},11799:function(e,t,n){n.d(t,{y6:function(){return E}}),n(47120);var i=n(470079),a=n(442837),s=n(45114),l=n(733427),r=n(455199),o=n(833592),c=n(140155),d=n(774807),u=n(490897);let _=e=>{let{isFocused:t,navigatedAway:n,isDesktop:_,withMentions:E=!1,initialPageSize:I}=e,m=(0,a.e7)([d.Z],()=>d.Z.shouldReload()),T=i.useRef(!1),[h,N]=i.useState(!1),{initialized:f,loading:p,items:C,hasMore:g,cursor:S,errored:A}=(0,a.cj)([c.Z],()=>({initialized:c.Z.initialized,loading:c.Z.loading,items:c.Z.items,hasMore:c.Z.hasMore,cursor:c.Z.cursor,errored:c.Z.errored})),{roleFilter:R,everyoneFilter:x}=(0,a.cj)([r.Z],()=>({everyoneFilter:r.Z.everyoneFilter,roleFilter:r.Z.roleFilter}));i.useEffect(()=>((0,o.Vk)(!0),()=>(0,o.Vk)(!1)),[]),i.useEffect(()=>{f&&t&&(0,s.FT)(u.W.NOTIFICATION_CENTER)},[t,f]);let O=(0,l.Z)();i.useEffect(()=>()=>{_?!O()&&(A||C.length>100)&&(0,o.jF)():n&&C.length>100&&(0,o.jF)()},[n,C,_,O,A]),i.useEffect(()=>{let e=m&&t;(!f||e)&&(0,o.jk)({limit:null!=I?I:E?8:20,with_mentions:E,roles_filter:R,everyone_filter:x})},[f,m,t,E,R,x,I]);let M=i.useCallback(async e=>{!T.current&&f&&g&&null!=S&&(e||!A)&&(T.current=!0,N(!0),await (0,o.jk)({after:S,with_mentions:E,roles_filter:R,everyone_filter:x,limit:E?8:20},()=>{T.current=!1}),N(!1))},[f,g,S,A,E,R,x]);return{initialized:f,loading:p,items:C,hasMore:g,loadMore:M,loadingMore:h,setReadNotifItemToAcked:e=>{!e.acked&&(e.acked=!0)},errored:A}},E=()=>{let{initialized:e,loading:t,items:n,hasMore:i,loadMore:a}=_({isFocused:!0,isDesktop:!0});return{initialized:e,loading:t,items:n.filter(e=>"notification-center-item"===e.kind),hasMore:i,loadMore:a}}},441358:function(e,t,n){n.d(t,{v:function(){return r}});var i=n(735250);n(470079);var a=n(689938),s=n(92857),l=n(652430);let r=()=>(0,i.jsxs)("div",{className:s.container,children:[(0,i.jsx)("img",{className:s.image,alt:"",src:l}),(0,i.jsx)("div",{className:s.title,children:a.Z.Messages.FOR_YOU_EMPTY_TITLE}),(0,i.jsx)("div",{className:s.body,children:a.Z.Messages.FOR_YOU_EMPTY_BODY})]})},865112:function(e,t,n){n.d(t,{RB:function(){return x},VH:function(){return S},Vi:function(){return O},Vu:function(){return M},q7:function(){return R}});var i,a,s,l,r=n(692547),o=n(497089),c=n(650473),d=n(389765),u=n(137492),_=n(387661),E=n(659953),I=n(319707),m=n(584914),T=n(334702),h=n(333722),N=n(549931),f=n(178561),p=n(39863),C=n(130312);(i=s||(s={})).CHECKED="CHECKED",i.FRIENDS="FRIENDS",i.SHARE_SCREEN="SHARE_SCREEN",i.NEW_MESSAGE="NEW_MESSAGE";let g={CHECKED:_,FRIENDS:I,SHARE_SCREEN:p,NEW_MESSAGE:N};(a=l||(l={})).MISSED_MESSAGES="MISSED_MESSAGES",a.FRIEND_REQUEST_REMINDER="FRIEND_REQUEST_REMINDER",a.SCHEDULED_GUILD_EVENT="SCHEDULED_GUILD_EVENT",a.TOP_MESSAGES="TOP_MESSAGES",a.NOTIFICATION_CENTER="NOTIFICATION_CENTER",a.UPDATE_PROFILE="UPDATE_PROFILE",a.FIND_FRIENDS="FIND_FRIENDS",a.ADD_FRIEND="ADD_FRIEND",a.FIRST_MESSAGE="FIRST_MESSAGE";let S={MISSED_MESSAGES:h,FRIEND_REQUEST_REMINDER:m,SCHEDULED_GUILD_EVENT:E,TOP_MESSAGES:T,NOTIFICATION_CENTER:u,UPDATE_PROFILE:C,FIND_FRIENDS:d,ADD_FRIEND:d,FIRST_MESSAGE:f},A=e=>{switch(e.item_enum){case o.AM.ADD_FRIEND:return"ADD_FRIEND";case o.AM.FIND_FRIENDS:return"FIND_FRIENDS";case o.AM.FIRST_MESSAGE:return"FIRST_MESSAGE";case o.AM.UPDATE_PROFILE:return"UPDATE_PROFILE";default:return"NOTIFICATION_CENTER"}},R=e=>{switch(e.type){case"lifecycle_item":return A(e);case"missed_messages":return"MISSED_MESSAGES";case"friend_request_reminder":return"FRIEND_REQUEST_REMINDER";case"scheduled_guild_event_started":return"SCHEDULED_GUILD_EVENT";case"top_messages":return"TOP_MESSAGES";default:return"NOTIFICATION_CENTER"}},x=e=>{if("icHighlight"===e)return"TOP_MESSAGES";return"NOTIFICATION_CENTER"},O=e=>{switch(e){case o.DY.GO_LIVE_PUSH:return{icon:g.SHARE_SCREEN,color:r.Z.colors.BACKGROUND_ACCENT};case o.DY.FRIEND_REQUEST_ACCEPTED:return{icon:g.CHECKED,color:r.Z.colors.STATUS_POSITIVE_BACKGROUND};case o.DY.FRIEND_REQUEST_PENDING:case o.DY.FRIEND_SUGGESTION_CREATED:return{icon:g.FRIENDS,color:r.Z.colors.BACKGROUND_ACCENT};case o.DY.DM_FRIEND_NUDGE:return{icon:g.NEW_MESSAGE,color:r.Z.colors.BACKGROUND_ACCENT};case o.O7.INCOMING_FRIEND_REQUESTS:case o.O7.INCOMING_FRIEND_REQUESTS_ACCEPTED:return{icon:g.FRIENDS,color:r.Z.colors.BACKGROUND_ACCENT};default:return null}},M=e=>{switch(e.item_enum){case o.AM.UPDATE_PROFILE:return c.Y9;case o.AM.ADD_FRIEND:case o.AM.FIND_FRIENDS:return c.AZ;case o.AM.FIRST_MESSAGE:return c.bj;default:return r.Z.unsafe_rawColors.BRAND_500.css}}},400565:function(e,t,n){n.d(t,{U:function(){return d}});var i=n(735250),a=n(470079),s=n(598077),l=n(806519),r=n(865112),o=n(261985);let c=e=>{let{mask:t}=e;return null==t?null:(0,i.jsx)("div",{className:o.maskBackground,style:{backgroundColor:t.color.css},children:(0,i.jsx)("img",{className:o.maskIcon,alt:"",src:t.icon})})},d=a.memo(function(e){let{item:t}=e,n=null,a=!1;if(null!=t.icon_name)n=(0,i.jsx)("img",{alt:"",src:r.VH[(0,r.RB)(t.icon_name)]});else if(null!=t.other_user){let e=t.other_user instanceof s.Z?t.other_user:new s.Z(t.other_user);n=(0,i.jsx)("img",{alt:"",className:o.image,src:e.getAvatarURL(void 0,40)}),a=!0}else n=null!=t.icon_url?(0,i.jsx)("img",{alt:"",className:o.image,src:t.icon_url}):(0,i.jsx)("img",{alt:"",src:r.VH[(0,r.q7)(t)]});let d=(0,r.Vi)(t.type);return(0,i.jsxs)(l.ZP,{mask:null==d?l.QS.AVATAR_DEFAULT:l.QS.AVATAR_STATUS_ROUND_16,width:40,height:40,rightOverhang:3,bottomOverhang:3,className:o.mask,children:[(0,i.jsx)("div",{className:o.container,style:a?void 0:{backgroundColor:(0,r.Vu)(t)},children:n}),(0,i.jsx)(c,{mask:d})]})})},426521:function(e,t,n){n.d(t,{U:function(){return D}});var i=n(735250),a=n(470079),s=n(481060),l=n(99690),r=n(906732),o=n(336197),c=n(454585),d=n(171368),u=n(695346),_=n(598077),E=n(594174),I=n(626135),m=n(709054),T=n(591759),h=n(833592),N=n(497089),f=n(178480),p=n(418316),C=n(526146),g=n(400565),S=n(148789),A=n(11825),R=n(981631),x=n(689938),O=n(749967),M=n(756688),v=n(886765);function L(e){var t,n,a;let{item:r}=e,o=null===(t=r.message)||void 0===t?void 0:t.content;if(null==o)return(0,i.jsx)("div",{});let d=null!==(a=E.default.getUser(null===(n=r.other_user)||void 0===n?void 0:n.id))&&void 0!==a?a:new _.Z(r.other_user),u=c.Z.parse(o);return(0,i.jsxs)("div",{className:O.messagePreviewContainer,children:[(0,i.jsx)(l.Z,{user:d,size:s.AvatarSizes.SIZE_24}),(0,i.jsx)(s.Text,{className:O.messagePreviewText,variant:"text-sm/normal",lineClamp:2,children:u})]})}function Z(e){let{item:{callout:t}}=e;if(null==t)return null;let n=c.Z.parse(t);return(0,i.jsx)("div",{className:O.calloutContainer,children:(0,i.jsx)(s.Text,{variant:"text-sm/normal",lineClamp:2,children:n})})}function P(e){let{item:t}=e,n=v,a=x.Z.Messages.NOTIFICATION_CENTER_TODO;return t.completed&&(n=M,a=x.Z.Messages.NOTIFICATION_CENTER_DONE),(0,i.jsxs)("div",{className:O.lifecycleContainer,children:[(0,i.jsx)("img",{className:O.checkbox,alt:"",src:n}),(0,i.jsx)(s.Text,{className:O.lifecycleText,variant:"text-xs/bold",color:"header-secondary",children:a})]})}let b=a.memo(function(e){var t;let{item:l,ackedBeforeId:u}=e,{analyticsLocations:_}=(0,r.ZP)(),E=(0,C.I)(l,u),x=a.useCallback(async()=>{if(!E&&(0,h.wt)(l),null!=l.item_enum&&l.item_enum===N.AM.FIND_FRIENDS){(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("6074").then(n.bind(n,443189));return t=>(0,i.jsx)(e,{source:"Notification Center",...t})});return}if(null!=l.deeplink){let t=T.Z.safeParseWithQuery(l.deeplink);if(null==t)return;let n=t.hostname,i=t.path;if(null==n||null==i)return;if(T.Z.isDiscordHostname(n)){let t=i.match("^/users/(\\d+)");if(null!=t&&2===t.length){var e;(0,d.openUserProfileModal)({userId:t[1],messageId:null===(e=l.message)||void 0===e?void 0:e.id,sourceAnalyticsLocations:_,analyticsLocation:{section:R.jXE.NOTIFICATION_CENTER}})}else await (0,o.Z)(i)}I.default.track(R.rMx.NOTIFICATION_CENTER_ACTION,{action_type:N.ud.CLICKED,notification_center_id:l.id,item_type:l.type,acked:E})}},[l,E,_]),M=null;l.type===N.O7.INCOMING_FRIEND_REQUESTS&&null!=l.other_user&&(M=(0,i.jsx)(S.Z,{userId:l.other_user.id}));let v=null!=l.local_id,b=(0,p.Z)(l);return(0,i.jsxs)("div",{className:O.row,children:[(0,i.jsxs)(s.ClickableContainer,{className:O.rowContent,focusProps:{offset:4},"aria-label":b,onClick:x,children:[E?null:(0,i.jsx)("div",{className:O.unread}),(0,i.jsx)(g.U,{item:l}),(0,i.jsxs)("div",{className:O.body,children:["lifecycle_item"===l.type&&null!=l.item_enum&&(0,i.jsx)(P,{item:l}),(0,i.jsx)(s.Text,{variant:"text-md/normal",color:E?"text-muted":"text-normal",children:"string"!=typeof b?b:c.Z.parse(b)}),(null===(t=l.message)||void 0===t?void 0:t.content)!=null?(0,i.jsx)(L,{item:l}):null,null!=l.callout?(0,i.jsx)(Z,{item:l}):null,(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:E?"text-muted":"header-secondary",children:(0,f.a3)(m.default.extractTimestamp(l.id))}),M]})]}),v?null:(0,i.jsx)(A.z,{item:l})]})}),D=a.memo(function(e){let{items:t}=e,n=u.d$.useSetting();return(0,i.jsx)(i.Fragment,{children:t.map(e=>(0,i.jsx)(b,{item:e,ackedBeforeId:n},e.id))})})},148789:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250),a=n(470079),s=n(481060),l=n(194359),r=n(689938),o=n(749967);function c(e){let{userId:t}=e,n=a.useCallback(e=>{e.stopPropagation(),l.Z.cancelFriendRequest(t)},[t]),c=a.useCallback(e=>{e.stopPropagation(),l.Z.addRelationship({userId:t})},[t]);return(0,i.jsxs)("div",{className:o.friendRequestContainer,children:[(0,i.jsx)(s.Button,{className:o.acceptButton,look:s.Button.Looks.FILLED,color:s.Button.Colors.GREEN,size:s.Button.Sizes.NONE,onClick:c,children:(0,i.jsx)(s.Text,{variant:"text-sm/medium",color:"always-white",children:r.Z.Messages.FRIEND_REQUEST_ACCEPT})}),(0,i.jsx)(s.Button,{className:o.ignoreButton,look:s.Button.Looks.FILLED,color:s.Button.Colors.PRIMARY,size:s.Button.Sizes.NONE,onClick:n,children:(0,i.jsx)(s.Text,{variant:"text-sm/medium",color:"always-white",children:r.Z.Messages.FRIEND_REQUEST_IGNORE})})]})}},11825:function(e,t,n){n.d(t,{z:function(){return c}});var i=n(735250),a=n(470079),s=n(481060),l=n(833592),r=n(689938);let o=e=>{let{item:t,closePopout:n}=e;return(0,i.jsx)(s.Menu,{navId:"notification-actions",onClose:n,onSelect:n,"aria-label":r.Z.Messages.RECENTS_NOTIFICATIONS_MENU_LABEL,children:(0,i.jsx)(s.MenuItem,{id:"delete",label:r.Z.Messages.DELETE,icon:s.TrashIcon,action:async()=>{await (0,l.g3)(t)}})})},c=a.memo(function(e){let{item:t}=e;return(0,i.jsx)(s.Popout,{renderPopout:e=>(0,i.jsx)(o,{...e,item:t}),position:"bottom",align:"right",animation:s.Popout.Animation.NONE,children:e=>{let{onClick:t}=e;return(0,i.jsx)(s.CircleIconButton,{tooltip:r.Z.Messages.MORE,color:s.CircleIconButtonColors.TERTIARY,icon:(0,i.jsx)(s.MoreHorizontalIcon,{size:"xs",color:"currentColor"}),onClick:e=>{e.stopPropagation(),t(e)},"aria-haspopup":"menu"})}})})},632523:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250),a=n(470079),s=n(990547),l=n(91192),r=n(481060),o=n(724757),c=n(213609),d=n(441358),u=n(426521),_=n(374986);function E(e){let{initialized:t,items:n,loading:E,loadMore:I}=e,m=a.useRef(null),T=(0,o.Z)("for-you",m);(0,c.Z)({type:s.ImpressionTypes.VIEW,name:s.ImpressionNames.NOTIFICATION_CENTER_LANDING,properties:{empty:0===n.length}},{disableTrack:!t},[t]);let h=()=>{var e;let t=null===(e=m.current)||void 0===e?void 0:e.getScrollerState();if(null!=t)t.scrollHeight-t.scrollTop-t.offsetHeight<1500&&I()};return t?0===n.length?(0,i.jsx)(d.v,{}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.bG,{navigator:T,children:(0,i.jsx)(l.SJ,{children:e=>{let{ref:t,...a}=e;return(0,i.jsxs)(r.AdvancedScroller,{className:_.container,ref:e=>{var n;m.current=e,t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},...a,onScroll:h,children:[(0,i.jsx)(u.U,{items:n}),E?(0,i.jsx)(r.Spinner,{className:_.spinner}):null]})}})})}):(0,i.jsx)(r.Spinner,{className:_.loadingPlaceholder})}},599706:function(e,t,n){n(653041);var i=n(735250);n(470079);var a=n(392711),s=n.n(a),l=n(481060),r=n(730749),o=n(100527),c=n(484459),d=n(103575),u=n(463618),_=n(823379),E=n(981631),I=n(147522);let m=(0,r.Z)(e=>{let{member:t,empty:n,analyticsContext:a,guildId:s}=e;if(n)return(0,i.jsx)("div",{className:I.partyMemberEmpty});if(null==t)return(0,i.jsx)("div",{className:I.partyMemberUnknown,children:(0,i.jsx)(u.Z,{className:I.partyMemberUnknownIcon})});let r={location:{...a.location,object:E.qAy.AVATAR}};return(0,i.jsx)("div",{className:I.partyMemberKnown,children:(0,i.jsx)(l.Popout,{preload:()=>(0,c.W)(t.id,t.getAvatarURL(s,80),{guildId:s}),renderPopout:e=>(0,i.jsx)(d.Z,{...e,location:"PartyAvatars",userId:t.id,guildId:s,analyticsParams:r,newAnalyticsLocations:[o.Z.AVATAR]}),position:"left",children:e=>(0,i.jsx)(l.Avatar,{...e,src:t.getAvatarURL(s,24),"aria-label":t.username,size:l.AvatarSizes.SIZE_24,className:I.partyMember})})})});t.Z=e=>{let{partySize:t,members:n,minAvatarsShown:a=1,maxAvatarsShown:l=2,guildId:r}=e,{unknownSize:o,totalSize:c,knownSize:d}=t;if(c<a)return null;let u=s()(n).filter(_.lm).take(l).map(e=>(0,i.jsx)(m,{member:e,guildId:r},e.id)).value();for(let e=0;e<o&&u.length<l;e++)u.push((0,i.jsx)(m,{guildId:r},"unknown-member-".concat(e)));let E=c-d-o;for(let e=0;e<E&&u.length<l;e++)u.push((0,i.jsx)(m,{empty:!0,guildId:r},"empty-member-".concat(e)));let T=Math.max(Math.min(c-u.length,99),0);if(1===T){let e=n[l];u.push((0,i.jsx)(m,{member:e,guildId:r},e.id))}return(0,i.jsx)("div",{className:I.wrapper,children:(0,i.jsxs)("div",{className:I.partyMembers,children:[u,T>1?(0,i.jsxs)("div",{className:I.partyMemberOverflow,children:["+",T]}):null]})})}},738737:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(481060),s=n(987209),l=n(981631);function r(e){let{initialPlanId:t,activeSubscription:r,trialId:o,trialFooterMessageOverride:c,onClose:d,analyticsObject:u,analyticsLocation:_,analyticsLocations:E,analyticsSubscriptionType:I,renderHeader:m,renderPurchaseConfirmation:T,planGroup:h,reviewWarningMessage:N,skuId:f}=e;(0,a.openModalLazy)(async()=>{let{PaymentContextProvider:e}=await Promise.resolve().then(n.bind(n,598)),{PaymentModal:a}=await Promise.all([n.e("15972"),n.e("6416"),n.e("32776"),n.e("12041")]).then(n.bind(n,791785)),{STEPS:l}=await Promise.all([n.e("96427"),n.e("77298"),n.e("23357"),n.e("15972"),n.e("12013"),n.e("6416"),n.e("39612"),n.e("32776"),n.e("95900"),n.e("8016"),n.e("68136"),n.e("46524"),n.e("63874")]).then(n.bind(n,7305));return n=>{let{onClose:p,...C}=n;return(0,i.jsx)(e,{activeSubscription:r,stepConfigs:l,skuIDs:[f],children:(0,i.jsx)(s.KB,{children:(0,i.jsx)(a,{...C,initialPlanId:t,onClose:e=>{p(),null==d||d(e)},analyticsLocations:E,analyticsObject:u,analyticsLocation:_,analyticsSubscriptionType:I,skuId:f,renderHeader:m,renderPurchaseConfirmation:T,planGroup:h,trialId:o,trialFooterMessageOverride:c,reviewWarningMessage:N})})})}},{onCloseCallback:()=>{null==d||d(!1)},onCloseRequest:l.dG4})}},398805:function(e,t,n){function i(e,t){var n;let i=null!==(n=decodeURIComponent(t).split("/").pop())&&void 0!==n?n:"temp.gif";return"".concat(e,"-").concat(i)}n.d(t,{Yk:function(){return i}}),n(489887)},553803:function(e,t,n){n.d(t,{A:function(){return s}});var i=n(735250);n(470079);var a=n(481060);function s(e){let{message:t,initialAnswerId:s}=e;(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("74590").then(n.bind(n,651081));return n=>(0,i.jsx)(e,{...n,message:t,initialAnswerId:s})})}},316758:function(e,t,n){n.d(t,{IV:function(){return o},P:function(){return d},fH:function(){return c},sk:function(){return _},xt:function(){return u}});var i=n(166459),a=n(966390),s=n(476326),l=n(703558),r=n(398805);async function o(e,t,n){let i=(0,r.Yk)(t,n),a=await fetch(n);return c(e,t,new File([await a.blob()],i,{type:"image/gif"})),n}function c(e,t,n){let a={id:t,channelId:e,file:n,platform:s.ow.WEB};i.Z.addFile({file:a,channelId:e,draftType:l.d.Poll})}async function d(e,t,n){i.Z.remove(e,t,l.d.Poll)}async function u(e){i.Z.clearAll(e,l.d.Poll)}async function _(e){let{channel:t,items:n,poll:i,nonce:s,maxSizeCallback:r}=e;return a.Z.uploadFiles({channelId:t.id,uploads:n,draftType:l.d.Poll,parsedMessage:{content:"",tts:!1,invalidEmojis:[],validNonShortcutEmojis:[]},options:{nonce:s,poll:i},raiseEndpointErrors:!0})}},203143:function(e,t,n){n.d(t,{n:function(){return D}}),n(411104),n(47120),n(390547),n(724458);var i=n(512722),a=n.n(i),s=n(392711),l=n.n(s),r=n(263568),o=n(442837),c=n(570140),d=n(668781),u=n(749210),_=n(904245),E=n(881052),I=n(367907),m=n(41776),T=n(566006),h=n(48854),N=n(869765),f=n(314897),p=n(592125),C=n(703558),g=n(607744),S=n(375954),A=n(117530),R=n(553803),x=n(316758),O=n(467531),M=n(798628),v=n(918088),L=n(981631),Z=n(689938);function P(e,t){let n=[...t],i=0,a=0;for(let t of n){var s;let n=null==e?void 0:null===(s=e.find(e=>e.answer_id===parseInt(t)))||void 0===s?void 0:s.poll_media;(null==n?void 0:n.text)!=null&&(i+=1),(null==n?void 0:n.emoji)!=null&&(a+=1)}return{analyticsSelectedAnswerIds:n,selectedTextAnswersCount:i,selectedEmojiAnswersCount:a}}function b(e){let{guildId:t,title:n,body:i}=e;d.Z.show({title:n,body:i,confirmText:Z.Z.Messages.LURKER_MODE_POPOUT_JOIN,cancelText:Z.Z.Messages.LURKER_MODE_POPOUT_CANCEL,onConfirm:()=>{u.Z.joinGuild(t,{source:L.vtS.POLL_ALERT})}})}function D(e){let{channelId:t,messageId:n,answerId:i}=e,a=p.Z.getChannel(t);if(null==a)return;if(m.Z.isLurking(a.guild_id)){b({guildId:a.guild_id,title:Z.Z.Messages.POLL_LURKING_SEE_VOTES_TITLE,body:Z.Z.Messages.POLL_LURKING_VOTE_SUBTITLE});return}let s=S.Z.getMessage(t,n);if(null==s||null==s.poll||0===s.poll.answers.length)return;let l=null!=i?i:String(s.poll.answers[0].answer_id);R.A({message:s,initialAnswerId:l})}function j(e){let{channelId:t,messageId:n,isEditing:i}=e;(0,M.eu)(t,n,e=>{var n;return{channelId:t,selectedAnswerIds:new Set,submitting:!1,editing:i,showResults:null!==(n=null==e?void 0:e.showResults)&&void 0!==n&&n}})}function U(e){let{channelId:t,messageId:n}=e,i=S.Z.getMessage(t,n);return null==i?[]:i.reactions.flatMap(e=>!0===e.me_vote?e.emoji.name:[])}async function y(e){let{channelId:t,messageId:n,answerIds:i}=e,a=U({channelId:t,messageId:n}),s=l().difference(a,i),r=l().difference(i,a),d=f.default.getId(),u=[...s.map(e=>({type:"MESSAGE_REACTION_REMOVE",id:e})),...r.map(e=>({type:"MESSAGE_REACTION_ADD",id:e}))],_=o.ZP.Emitter.batched(()=>{let e;for(let{id:i,type:a}of u)e=c.Z.dispatch({type:a,channelId:t,messageId:n,emoji:{id:i,name:i},userId:d,optimistic:!0,reactionType:T.O.VOTE});return e});null!=_&&await _}async function B(e){let{channelId:t,messageId:n}=e,i=p.Z.getChannel(t);if(null==i)return;if(m.Z.isLurking(i.guild_id)){b({guildId:i.guild_id,title:Z.Z.Messages.POLL_LURKING_VOTE_TITLE,body:Z.Z.Messages.POLL_LURKING_VOTE_SUBTITLE});return}if(!g.Z.canChatInGuild(i.guild_id)){d.Z.show({title:Z.Z.Messages.POLL_GUILD_MEMBER_UNVERIFIED_TITLE,body:Z.Z.Messages.POLL_GUILD_MEMBER_UNVERIFIED_SUBTITLE});return}let s=(0,M.fU)(t,n);a()(null!=s,"Must not be able to vote without existing state!");let l=U({channelId:t,messageId:n});try{let e=[...s.selectedAnswerIds.values()];(0,M.eu)(t,n,e=>(a()(null!=e,"Must not be able to vote without existing state!"),{...e,submitting:!0,editing:!1})),await y({channelId:t,messageId:n,answerIds:e}),await O.B({channelId:t,messageId:n,answerIds:e}),(0,M.eu)(t,n,()=>void 0)}catch(e){var r,o,c;d.Z.show({title:Z.Z.Messages.GENERIC_ERROR_TITLE,body:null!==(c=null!==(o=null===(r=e.getAnyErrorMessage)||void 0===r?void 0:r.call(e))&&void 0!==o?o:e.message)&&void 0!==c?c:Z.Z.Messages.GENERIC_ERROR_BODY}),await y({channelId:t,messageId:n,answerIds:l}),(0,M.eu)(t,n,e=>{if(null!=e)return{...e,submitting:!1,editing:!1}})}}async function k(e){let{channelId:t,messageId:n}=e,i=p.Z.getChannel(t);if(null!=i){if(m.Z.isLurking(i.guild_id)){b({guildId:i.guild_id,title:Z.Z.Messages.POLL_LURKING_UNVOTE_TITLE,body:Z.Z.Messages.POLL_LURKING_UNVOTE_SUBTITLE});return}return(0,M.eu)(t,n,e=>{var n;return{channelId:t,selectedAnswerIds:new Set,submitting:!1,editing:!1,showResults:null!==(n=null==e?void 0:e.showResults)&&void 0!==n&&n}}),await B({channelId:t,messageId:n})}}async function G(e){let{channelId:t,messageId:n,type:i}=e;switch(i){case"submit":await B({channelId:t,messageId:n});break;case"remove":await k({channelId:t,messageId:n});break;case"cancel":j({channelId:t,messageId:n,isEditing:!1});break;case"showVotes":!function(e){let{channelId:t,messageId:n}=e;(0,M.eu)(t,n,e=>{var i,a;let s=null==e||!e.showResults,l=S.Z.getMessage(t,n),r=null!=l?l.reactions.reduce((e,t)=>{var n,i;return e+(null!==(i=null===(n=t.count_details)||void 0===n?void 0:n.vote)&&void 0!==i?i:0)},0):0;return I.ZP.trackWithMetadata(L.rMx.POLL_SHOW_RESULTS_CLICKED,{channel_id:t,message_id:n,show_results:s,votes_count:r}),{channelId:t,selectedAnswerIds:new Set,submitting:null!==(i=null==e?void 0:e.submitting)&&void 0!==i&&i,editing:null!==(a=null==e?void 0:e.submitting)&&void 0!==a&&a,showResults:s}})}({channelId:t,messageId:n});break;case"showVoterDetails":D({channelId:t,messageId:n});break;default:a()(!1,"Unknown poll action type: ".concat(i))}}async function F(e){let{channel:t,question:n,answers:i,allowMultiSelect:a,duration:s,layout:l,onClose:o}=e,c=A.Z.getUploads(t.id,C.d.Poll),d=i.map(e=>{var t,n;let i=null==c?void 0:c.findIndex(t=>t.id===e.localCreationAnswerId),a={attachment_ids:-1!==i?["".concat(i)]:void 0};l===r.C.DEFAULT&&(a.text=null===(n=e.text)||void 0===n?void 0:n.trim());let s=null===(t=e.image)||void 0===t?void 0:t.emoji;return null!=s&&(null!=s.id?a.emoji={id:s.id,name:""}:null!=s.optionallyDiverseSequence&&(a.emoji={name:s.optionallyDiverseSequence})),{poll_media:a}}),u={question:{text:n.trim()},answers:d,allow_multiselect:a,duration:s,layout_type:l};try{if(null!=c&&c.length>0){var I;let e=null!==(I=f.default.getToken())&&void 0!==I?I:"";await x.sk({channel:t,items:c,token:e,poll:u,nonce:(0,h.r)(),maxSizeCallback:()=>{}})}else await _.Z.sendPollMessage(t.id,u);null==o||o()}catch(e){if("poll"===(e instanceof E.Hx?e:new E.Hx(e)).getAnyErrorMessage()&&null!=e.text)throw{...e,body:JSON.parse(e.text)};throw e}}async function w(e){let{channelId:t,messageId:n}=e;await d.Z.confirm({title:Z.Z.Messages.POLL_END_EARLY_CONFIRMATION_TITLE,body:Z.Z.Messages.POLL_END_EARLY_CONFIRMATION_TEXT})&&await O.W({channelId:t,messageId:n})}t.Z={handlePollAnswerTapped:function(e){var t,n;let{answerId:i,...s}=e,{channelId:l,messageId:r,message:o}=function(e){let{channelId:t,messageId:n}=e,i=S.Z.getMessage(t,n);if(null!=i)return{message:i,channelId:t,messageId:n};let s=N.Z.getMessage(t,n);if(null!=s.message)return{channelId:t,messageId:n,message:s.message};throw a()(null!=i,"Tapped on a non-existent poll message"),Error()}(s),{tapShouldOpenVotersModal:c}=null!==(n=(0,v.Tk)(o))&&void 0!==n?n:{};if(!0===c){D({channelId:l,messageId:r,answerId:i});return}let d=null===(t=o.poll)||void 0===t?void 0:t.allow_multiselect;(0,M.eu)(l,r,e=>{var t,n;if(null==e){let e=new Set([i]),{analyticsSelectedAnswerIds:t,selectedTextAnswersCount:a,selectedEmojiAnswersCount:s}=P(null===(n=o.poll)||void 0===n?void 0:n.answers,e);return I.ZP.trackWithMetadata(L.rMx.POLL_VOTE_SELECTED,{channel_id:l,message_id:r,selected_answer_ids:t,selected_text_answers_count:a,selected_emoji_answers_count:s}),{channelId:l,selectedAnswerIds:e,submitting:!1,editing:!1,showResults:!1}}let a={...e},s=new Set(a.selectedAnswerIds);if(a.selectedAnswerIds=s,s.has(i))s.delete(i);else{if(!d)for(let e of s)s.delete(e);s.add(i)}let{analyticsSelectedAnswerIds:c,selectedTextAnswersCount:u,selectedEmojiAnswersCount:_}=P(null===(t=o.poll)||void 0===t?void 0:t.answers,s);return I.ZP.trackWithMetadata(L.rMx.POLL_VOTE_SELECTED,{channel_id:l,message_id:r,selected_answer_ids:c,selected_text_answers_count:u,selected_emoji_answers_count:_}),a})},handlePollSubmitVote:B,handleUpdateVoteEditingState:j,handlePollActionTapped:G,createPoll:F,endPollEarly:w}},467531:function(e,t,n){n.d(t,{B:function(){return l},W:function(){return r}});var i=n(544891),a=n(881052),s=n(981631);async function l(e){let{channelId:t,messageId:n,answerIds:l}=e;try{await i.tn.put({url:s.ANM.POLL_ANSWERS(t,n),body:{answer_ids:l}})}catch(e){throw new a.Hx(e)}}async function r(e){let{channelId:t,messageId:n}=e;try{await i.tn.post({url:s.ANM.POLL_EXPIRE(t,n)})}catch(e){throw new a.Hx(e)}}},798628:function(e,t,n){n.d(t,{cE:function(){return r},eu:function(){return o},fU:function(){return c}});var i=n(652874),a=n(902704);let s={},l=(0,i.Z)(e=>({polls:{},updatePollState(t,n,i){e(e=>{var a;return{polls:{...e.polls,[t]:{...e.polls[t],[n]:i(null===(a=e.polls[t])||void 0===a?void 0:a[n])}}}})}}));function r(e){return l(t=>{var n;return null!==(n=t.polls[e])&&void 0!==n?n:s},a.Z)}function o(e,t,n){l.getState().updatePollState(e,t,n)}function c(e,t){var n;return null===(n=l.getState().polls[e])||void 0===n?void 0:n[t]}},275344:function(e,t,n){n.d(t,{Z:function(){return I},v:function(){return _}});var i=n(735250),a=n(470079),s=n(512722),l=n.n(s),r=n(399606),o=n(904245),c=n(375954),d=n(918088);let u=a.createContext(void 0);function _(e){var t;let n=null!==(t=a.useContext(u))&&void 0!==t?t:e;return l()(null!=n,"Using PollReferenceMessageContext without a provider (or a fallback)"),n}function E(e){let{message:t,children:n}=e,s=(0,r.e7)([c.Z],()=>c.Z.getMessage(t.channel_id,t.id),[t.channel_id,t.id]),l=null!=s;return a.useEffect(()=>{!l&&o.Z.focusMessage({channelId:t.channel_id,messageId:t.id})},[l,t.channel_id,t.id]),(0,i.jsx)(u.Provider,{value:null!=s?s:t,children:n})}function I(e){let{message:t,children:n}=e;return(0,d.r8)(t)?(0,i.jsx)(i.Fragment,{children:n}):(0,i.jsx)(E,{message:t,children:n})}},839963:function(e,t,n){var i,a,s,l,r,o;n.d(t,{Y7:function(){return s}}),(l=i||(i={}))[l.NONE=0]="NONE",l[l.LOW=1]="LOW",l[l.HIGH=2]="HIGH",(r=a||(a={}))[r.NONE=0]="NONE",r[r.HOLLOW=1]="HOLLOW",r[r.FILLED=2]="FILLED",r[r.CHECKMARK=3]="CHECKMARK",(o=s||(s={}))[o.LIST=1]="LIST",o[o.CHECKBOXES=2]="CHECKBOXES",o[o.RADIO_BUTTONS=3]="RADIO_BUTTONS"},897325:function(e,t,n){n.d(t,{E:function(){return r},_:function(){return l}}),n(627341);var i=n(278074),a=n(263568),s=n(148163);function l(e,t){let n=(0,i.EQ)(t).with(a.C.IMAGE_ONLY_ANSWERS,()=>s.normalStylesImageOnlyAnswers).otherwise(()=>s.normalStylesDefault);return{styles:{loserSelected:n,normal:n,notVoted:n,selected:n,voted:s.votedStyles,victorSelected:s.victorStyles,victorNotSelected:s.victorStyles,normalVote:n}}}function r(e,t){return e.getAvatarURL(t,20,!1)}},57101:function(e,t,n){var i=n(392711),a=n(897325);t.Z=(0,i.memoize)(function(e){let{theme:t,layoutType:n}=e;return(0,a._)(t,n)},e=>{let{theme:t,layoutType:n}=e;return"".concat(t,":").concat(n)})},918088:function(e,t,n){n.d(t,{Tk:function(){return v},ZP:function(){return L},ef:function(){return x},r8:function(){return M}}),n(47120),n(627341);var i=n(278074),a=n(263568),s=n(607070),l=n(339085),r=n(633302),o=n(715903),c=n(69882),d=n(592125),u=n(271383),_=n(375954),E=n(594174),I=n(768581),m=n(176354),T=n(358085),h=n(798628),N=n(79390),f=n(839963),p=n(897325),C=n(57101),g=n(562293),S=n(981631),A=n(689938);let R={channelId:S.lds,selectedAnswerIds:new Set,submitting:!1,editing:!1,showResults:!1};function x(e,t){for(let n of e)if(("number"==typeof n.emoji.id?"".concat(n.emoji.id):n.emoji.id)===t)return n}let O=e=>(0,i.EQ)(e).with({isExpired:!0,isLeader:!0,didSelfVote:!0},()=>"victorSelected").with({isExpired:!0,isLeader:!0,didSelfVote:!1},()=>"victorNotSelected").with({isExpired:!0,didSelfVote:!0},()=>"loserSelected").with({isExpired:!0},()=>"notVoted").with({didSelfVote:!0,isExpired:!1},()=>"voted").with({hasVoted:!0,isExpired:!1},()=>"notVoted").with({isSelected:!0},()=>"selected").with({isExpired:!1,showResults:!0},()=>"notVoted").otherwise(()=>"normalVote");function M(e){return null==e.poll||_.Z.getMessage(e.channel_id,e.id)===e&&!0}function v(e,t){var n,i,a,s;let{formattedExpirationLabel:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{poll:r}=e;if(null==r)return;let E=e.state===S.yb.SENT,I=E?null!=l?l:(0,g.H)(r.expiry):"",m=null==I&&E,{selectedAnswerIds:T,submitting:N,editing:f,showResults:p}=null!==(a=null!=t?t:(0,h.fU)(e.getChannelId(),e.id))&&void 0!==a?a:R,C=e.reactions,A=!0;if(!M(e)){let t=_.Z.getMessage(e.channel_id,e.id);A=!e.isSearchHit&&null!=t,C=null!==(s=null==t?void 0:t.reactions)&&void 0!==s?s:C}let x=T.size>0,O=C.some(e=>!0===e.me_vote),v=!f&&O,L=v||m||p,Z=E&&A&&(!O||f||L),P=null===(i=d.Z.getChannel(e.getChannelId()))||void 0===i?void 0:null===(n=i.getGuildId)||void 0===n?void 0:n.call(i),b=null!=P?u.ZP.getSelfMember(P):null,D=(0,o.EY)(b),j=(0,c.b)(b);return{poll:r,canTapAnswers:Z,canRemoveVote:v&&E&&!m,canShowVoteCounts:L,canSubmitVote:!N&&x&&!v&&E&&!D&&!j,expirationLabel:I,hasSelectedAnswer:x,hasVoted:v,hasVoteRecorded:O,isEditingVote:f,isExpired:m,isInteractive:A,isSent:E,reactions:C,selectedAnswerIds:T,submitting:N,tapShouldOpenVotersModal:L,showResults:p}}function L(e,t){var n,o;let{animateEmoji:c=!1,theme:u="dark",formattedExpirationLabel:_}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{poll:h}=e;if(null==h)return;let g=E.default.getCurrentUser();if(null==g)return;let S=s.Z.useReducedMotion,R=null===(o=d.Z.getChannel(e.getChannelId()))||void 0===o?void 0:null===(n=o.getGuildId)||void 0===n?void 0:n.call(o),M=(0,p.E)(g,R),L=h.answers,Z=h.layout_type,P=v(e,t,{formattedExpirationLabel:_});if(null==P)return;let{canTapAnswers:b,canRemoveVote:D,canShowVoteCounts:j,canSubmitVote:U,expirationLabel:y=A.Z.Messages.POLL_EXPIRED,hasSelectedAnswer:B,hasVoted:k,isEditingVote:G,isExpired:F,isInteractive:w,reactions:V,selectedAnswerIds:H,submitting:Y,tapShouldOpenVotersModal:W,showResults:z}=P,K=(0,N.cZ)(V),Q=A.Z.Messages.POLL_VOTES_COUNT.format({count:K.toLocaleString()}),q=Math.max(...L.map(e=>{var t,n;let i=x(V,"".concat(e.answer_id));return null!==(n=null==i?void 0:null===(t=i.count_details)||void 0===t?void 0:t.vote)&&void 0!==n?n:0})),X=L.map(e=>{var t,n,s;let o="".concat(e.answer_id),d=x(V,o),u=null!==(n=null==d?void 0:null===(t=d.count_details)||void 0===t?void 0:t.vote)&&void 0!==n?n:0,_=0===K?0:u/K,E=H.has(o),T=u>=q&&0!==u,h=k&&null!==(s=null==d?void 0:d.me_vote)&&void 0!==s&&s,N=O({didSelfVote:h,hasVoted:k,isExpired:F,isSelected:E,isLeader:T,showResults:z});return{answerId:o,pollMedia:{text:e.poll_media.text,emoji:function(e){let{animateEmoji:t=!1,size:n=48}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return;let i=e.animated;if(null==i&&null!=e.id){var a,s;i=null!==(s=null===(a=l.Z.getCustomEmojiById(e.id))||void 0===a?void 0:a.animated)&&void 0!==s&&s}let o=t&&null!=i&&i;return{id:null==e.id?null:"".concat(e.id),name:e.name,displayName:null==e.id?r.ZP.convertSurrogateToName(e.name):e.name,src:null==e.id?m.ZP.getURL(e.name):I.ZP.getEmojiURL({id:e.id,animated:o,size:n}),animated:o}}(e.poll_media.emoji,{animateEmoji:c}),stickerId:e.poll_media.sticker_id,attachmentIds:e.poll_media.attachment_ids},isSelected:E,isVictor:F&&T,didSelfVote:h,style:N,shouldAnimateTransition:Y&&!S,votesPercentage:Math.round(100*_),votes:(0,i.EQ)(Z).with(a.C.IMAGE_ONLY_ANSWERS,()=>"(".concat(u.toLocaleString(),")")).otherwise(()=>A.Z.Messages.POLL_VOTES_COUNT.format({count:u.toLocaleString()}))}}),J=(0,i.EQ)({isExpired:F,canSubmitVote:U,hasVoted:k,isEditingVote:G,canRemoveVote:D,isInteractive:w,showResults:z}).with({isInteractive:!1},()=>void 0).with({isExpired:!0},()=>void 0).with({isEditingVote:!0},()=>({label:A.Z.Messages.POLL_SUBMIT_VOTE,presentation:"button",enabled:B,type:"submit"})).with({canRemoveVote:!0},()=>({label:A.Z.Messages.POLL_REMOVE_VOTE,presentation:"secondaryButton",enabled:!0,type:"remove"})).with({hasVoted:!1,showResults:!0},()=>({label:A.Z.Messages.POLL_HIDE_VOTES,presentation:"secondaryButton",enabled:!0,type:"showVotes"})).otherwise(()=>({label:A.Z.Messages.POLL_SUBMIT_VOTE,presentation:"button",enabled:U,type:"submit"})),$=(0,T.isIOS)()?A.Z.Messages.POLL_TAP_FOR_VOTERS_A11Y_IOS:A.Z.Messages.POLL_TAP_FOR_VOTERS_A11Y_ANDROID,ee=(0,i.EQ)({isExpired:F,isInteractive:w,isEditingVote:G}).with({isInteractive:!1,isExpired:!1},()=>({label:A.Z.Messages.POLL_NOT_INTERACTIVE,presentation:"text",enabled:!1})).with({isEditingVote:!0},()=>({label:A.Z.Messages.CANCEL,presentation:"textButton",enabled:!0,type:"cancel"})).otherwise(()=>({label:Q,secondaryLabel:y,accessibilityHint:$,presentation:"text",enabled:!0,type:"showVoterDetails"})),et=!w||F||k||z?void 0:{label:A.Z.Messages.POLL_SHOW_VOTES,presentation:"textButton",enabled:!0,type:"showVotes"},en=h.allow_multiselect,ei=(0,i.EQ)({isInteractive:w,isExpired:F,canSelectMultipleAnswers:en}).with({isInteractive:!1},()=>void 0).with({isExpired:!0},()=>void 0).with({canSelectMultipleAnswers:!0},()=>A.Z.Messages.POLL_SELECT_MULTIPLE_ANSWERS).otherwise(()=>A.Z.Messages.POLL_SELECT_ONE_ANSWER);return{question:h.question,promptLabel:ei,answers:X,answersInteraction:(0,i.EQ)({tapShouldOpenVotersModal:W,canTapAnswers:b,canSelectMultipleAnswers:en}).with({tapShouldOpenVotersModal:!0},()=>f.Y7.LIST).with({canTapAnswers:!1},()=>f.Y7.LIST).with({canSelectMultipleAnswers:!1},()=>f.Y7.RADIO_BUTTONS).with({canSelectMultipleAnswers:!0},()=>f.Y7.CHECKBOXES).exhaustive(),answerTapAccessibilityLabel:W?$:void 0,layoutType:Z,resources:(0,C.Z)({theme:u,layoutType:Z}),containerStyle:"normal",primaryAction:J,isInteractive:w,canTapAnswers:b,canSelectMultipleAnswers:en,hasSelectedAnswer:B,canShowVoteCounts:j,hasVoted:k,isExpired:F,myAvatarUrl:M,secondaryAction:ee,tertiaryAction:et}}},562293:function(e,t,n){n.d(t,{H:function(){return l},Z:function(){return r}});var i=n(913527),a=n.n(i),s=n(689938);function l(e){let t=a()();if(e<=t)return;let n=e.diff(t,"days");if(n>1)return s.Z.Messages.POLL_EXPIRY_DAYS_REMAINING.format({days:n});let i=e.diff(t,"hours");if(i>1)return s.Z.Messages.POLL_EXPIRY_HOURS_REMAINING.format({hours:i});let l=e.diff(t,"minutes");return s.Z.Messages.POLL_EXPIRY_MINUTES_REMAINING.format({minutes:l})}function r(e){if(null!=e)return l(e)}},977683:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(470079),a=n(410030),s=n(695346),l=n(798628),r=n(275344),o=n(918088),c=n(562293);function d(e,t){var n;let d=(0,r.v)(e),u=(0,l.cE)(d.getChannelId())[d.id],_=(0,c.Z)(null===(n=d.poll)||void 0===n?void 0:n.expiry),E=s.Yk.useSetting(),I=(0,a.ZP)(),m=null!=t?t:I;return i.useMemo(()=>(0,o.ZP)(d,u,{animateEmoji:E,theme:m,formattedExpirationLabel:_}),[E,d,u,_,m])}},809026:function(e,t,n){function i(e){if((null==e?void 0:e.fields)==null)return null;let t={},n={};for(let i of e.fields)switch(i.rawName){case"poll_question_text":t.questionText=i.rawValue;break;case"victor_answer_id":t.victorAnswerId=i.rawValue;break;case"victor_answer_text":t.victorAnswerText=i.rawValue;break;case"victor_answer_votes":t.victorAnswerVotes=parseInt(i.rawValue,10);break;case"total_votes":t.totalVotes=parseInt(i.rawValue,10);break;case"victor_answer_emoji_id":n.id=i.rawValue;break;case"victor_answer_emoji_name":n.name=i.rawValue;break;case"victor_answer_emoji_animated":n.animated="true"===i.rawValue}if(null!=n.name){var i;n.animated=null!==(i=n.animated)&&void 0!==i&&i,t.victorEmoji=n}return t}n.d(t,{Z:function(){return i}}),n(47120)},507435:function(e,t,n){n.d(t,{Z:function(){return A}});var i,a,s=n(735250),l=n(470079),r=n(120356),o=n.n(r),c=n(468194),d=n(481060),u=n(904245),_=n(596454),E=n(377171),I=n(702346),m=n(809026),T=n(139256),h=n(489887),N=n(689938),f=n(872806);function p(){return(0,s.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:E.Z.INTERACTIVE_NORMAL,"aria-hidden":!0,children:(0,s.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM5.70711 9.29289C5.31658 8.90237 4.68342 8.90237 4.29289 9.29289C3.90237 9.68342 3.90237 10.3166 4.29289 10.7071L5.08579 11.5L4.29289 12.2929C3.90237 12.6834 3.90237 13.3166 4.29289 13.7071C4.68342 14.0976 5.31658 14.0976 5.70711 13.7071L6.5 12.9142L7.29289 13.7071C7.68342 14.0976 8.31658 14.0976 8.70711 13.7071C9.09763 13.3166 9.09763 12.6834 8.70711 12.2929L7.91421 11.5L8.70711 10.7071C9.09763 10.3166 9.09763 9.68342 8.70711 9.29289C8.31658 8.90237 7.68342 8.90237 7.29289 9.29289L6.5 10.0858L5.70711 9.29289ZM15.2929 9.29289C15.6834 8.90237 16.3166 8.90237 16.7071 9.29289L17.5 10.0858L18.2929 9.29289C18.6834 8.90237 19.3166 8.90237 19.7071 9.29289C20.0976 9.68342 20.0976 10.3166 19.7071 10.7071L18.9142 11.5L19.7071 12.2929C20.0976 12.6834 20.0976 13.3166 19.7071 13.7071C19.3166 14.0976 18.6834 14.0976 18.2929 13.7071L17.5 12.9142L16.7071 13.7071C16.3166 14.0976 15.6834 14.0976 15.2929 13.7071C14.9024 13.3166 14.9024 12.6834 15.2929 12.2929L16.0858 11.5L15.2929 10.7071C14.9024 10.3166 14.9024 9.68342 15.2929 9.29289ZM9.08869 17.5563C8.78148 18.0152 8.16038 18.1382 7.70142 17.831C7.24247 17.5238 7.11947 16.9027 7.42669 16.4437C8.41166 14.9723 10.092 14 11.9999 14C13.9078 14 15.5881 14.9723 16.5731 16.4437C16.8803 16.9027 16.7573 17.5238 16.2984 17.831C15.8394 18.1382 15.2183 18.0152 14.9111 17.5563C14.2815 16.6158 13.2124 16 11.9999 16C10.7874 16 9.71825 16.6158 9.08869 17.5563Z",fill:"currentColor"})})}function C(e){let t,{hasNoVotes:n,victorEmoji:i}=e;if(n)t=(0,s.jsx)(p,{});else if(null!=i){let e=""!==i.name?i.name:i.displayName;t=(0,s.jsx)(_.Z,{emojiId:i.id,emojiName:e,animated:i.animated})}return null!=t?(0,s.jsx)("div",{className:f.imageContainer,children:t}):null}(i=a||(a={})).NO_VOTES="NO_VOTES",i.VICTOR="VICTOR",i.TIE="TIE";function g(e){let t,{type:n,...i}=e;switch(n){case"NO_VOTES":t=(0,s.jsx)(d.Text,{variant:"text-sm/semibold",color:"text-normal",scaleFontToUserSetting:!0,children:N.Z.Messages.POLL_RESULT_NO_VOTERS});break;case"VICTOR":let{victorAnswerText:a,victorVotePercentage:l}=i;t=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:f.victorAnswer,children:[(0,s.jsx)(d.Text,{variant:"text-sm/semibold",color:"text-normal",className:f.victorAnswerText,scaleFontToUserSetting:!0,children:a}),(0,s.jsx)(T.ZY,{size:16,className:f.victorIcon,isVictor:!0,isExpired:!0})]}),(0,s.jsxs)(d.Text,{variant:"text-xs/medium",color:"input-placeholder-text",scaleFontToUserSetting:!0,children:[N.Z.Messages.POLL_RESULT_WINNING," • ",l,"%"]})]});break;case"TIE":let{tiedVotePercentage:r}=i;t=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Text,{variant:"text-sm/semibold",color:"text-normal",scaleFontToUserSetting:!0,children:N.Z.Messages.POLL_RESULT_TIED}),(0,s.jsxs)(d.Text,{variant:"text-xs/medium",color:"input-placeholder-text",scaleFontToUserSetting:!0,children:[r,"%"]})]})}return(0,s.jsx)("div",{className:f.description,children:t})}function S(e){let{className:t,data:n,onClickPollLink:i}=e,a=l.useMemo(()=>(function(e){if(0===e.totalVotes)return{type:"NO_VOTES"};let t=null!=e.victorAnswerId,n=e.totalVotes>0?Math.round(e.victorAnswerVotes/e.totalVotes*100):0;return t?{type:"VICTOR",victorAnswerText:e.victorAnswerText,victorVotePercentage:n}:{type:"TIE",tiedVotePercentage:n}})(n),[n]);return(0,s.jsxs)("div",{className:o()(f.container,t),children:[(0,s.jsx)(C,{hasNoVotes:"NO_VOTES"===a.type,victorEmoji:n.victorEmoji}),(0,s.jsx)(g,{...a}),(0,s.jsx)(d.Button,{className:f.button,size:d.Button.Sizes.TINY,onClick:i,color:d.Button.Colors.PRIMARY,children:(0,s.jsx)(d.Text,{variant:"text-sm/medium",color:"none",scaleFontToUserSetting:!0,children:N.Z.Messages.POLL_RESULT_VIEW_POLL})})]})}function A(e){var t;let{message:n,compact:i}=e,a=n.embeds[0],r=l.useMemo(()=>(0,m.Z)(a),[a]),o=(0,c.aF)(null!==(t=null==r?void 0:r.questionText)&&void 0!==t?t:"",h.Dv),_=n.messageReference,E=l.useCallback(()=>{null!=_&&u.Z.jumpToMessage({channelId:_.channel_id,messageId:_.message_id,flash:!0,returnMessageId:n.id})},[n.id,_]);return null==r?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.Z,{iconNode:(0,s.jsx)(d.PollsIcon,{size:"xs"}),timestamp:n.timestamp,compact:i,children:N.Z.Messages.POLL_RESULT_MESSAGE_HEADER.format({title:o,titleOnClick:E})}),(0,s.jsx)(S,{className:f.embed,data:r,onClickPollLink:E})]})}},139256:function(e,t,n){n.d(t,{$e:function(){return P},$w:function(){return y},Og:function(){return k},ZY:function(){return B},sc:function(){return j},zs:function(){return G}}),n(627341);var i,a,s=n(735250),l=n(470079),r=n(120356),o=n.n(r),c=n(278074),d=n(481060),u=n(596454),_=n(44315),E=n(377171),I=n(695346),m=n(261922),T=n(186523),h=n(553826),N=n(506071),f=n(203143),p=n(79390),C=n(839963),g=n(294608),S=n(65145),A=n(981631),R=n(689938),x=n(353452);function O(e){let{className:t,children:n}=e;return(0,s.jsx)("ul",{"aria-label":R.Z.Messages.POLL_OPTIONS_ARIA,className:t,children:n})}function M(e){let{className:t,children:n}=e;return(0,s.jsx)("div",{"aria-label":R.Z.Messages.POLL_OPTIONS_ARIA,role:"group",className:t,children:n})}function v(e){let{className:t,children:n}=e,i=(0,d.useRadioGroup)({orientation:"vertical"});return(0,s.jsx)("div",{"aria-label":R.Z.Messages.POLL_OPTIONS_ARIA,...i,className:t,children:n})}function L(e){let{className:t,onClick:n,isSelected:i,isFirstAnswer:a,children:l}=e,{pollAnswerRef:r}=(0,S.dv)();return(0,s.jsx)(d.Clickable,{role:"checkbox",className:o()(t,x.enabled),onClick:n,"aria-checked":i,ref:a?r:void 0,children:l})}function Z(e){let t,{className:n,children:i,onClick:a,isSelected:l,hasSelectedAnyAnswer:r,isFirstAnswer:c}=e;t=r?l?0:-1:c?0:-1;let{pollAnswerRef:u}=(0,S.dv)();return(0,s.jsx)(d.Clickable,{role:"radio",className:o()(n,x.enabled),onClick:a,"aria-checked":l,tabIndex:t,ref:c?u:void 0,children:i})}function P(e){let{answers:t,answersInteraction:n,answerTapAccessibilityLabel:i,canTapAnswers:a,hasSelectedAnyAnswer:l,className:r,answerClassName:d,renderAnswerContent:u}=e,{ContainerComponent:_,answerElementType:E}=(0,c.EQ)({canTapAnswers:a,answersInteraction:n}).with({answersInteraction:C.Y7.RADIO_BUTTONS},()=>({ContainerComponent:v,answerElementType:1})).with({answersInteraction:C.Y7.CHECKBOXES},()=>({ContainerComponent:M,answerElementType:2})).with({canTapAnswers:!0,answersInteraction:C.Y7.LIST},()=>({ContainerComponent:O,answerElementType:3})).otherwise(()=>({ContainerComponent:O,answerElementType:0}));return(0,s.jsx)(_,{className:r,children:t.map((e,t)=>(0,s.jsx)(b,{className:o()(x.__invalid_answer,d),answer:e,isFirstAnswer:0===t,elementType:E,answerTapAccessibilityLabel:i,hasSelectedAnyAnswer:l,children:u(e)},e.answerId))})}function b(e){let{className:t,answer:n,children:i,hasSelectedAnyAnswer:a,isFirstAnswer:r,elementType:c}=e,{channelId:d,messageId:u}=(0,g.pE)(),_=(0,g.$B)(n.style),E=!0===n.isSelected,I=l.useCallback(()=>{f.Z.handlePollAnswerTapped({channelId:d,messageId:u,answerId:n.answerId})},[d,u,n.answerId]);switch(c){case 0:case 3:return(0,s.jsx)("li",{className:o()(t,_),children:i});case 1:return(0,s.jsx)(Z,{className:o()(t,_),onClick:I,isSelected:E,hasSelectedAnyAnswer:a,isFirstAnswer:r,children:i});case 2:return(0,s.jsx)(L,{className:o()(t,_),onClick:I,isSelected:E,isFirstAnswer:r,children:i})}}function D(e){var t;let{attachment:n,className:i}=e,a=(0,N.n)(),l=I.QK.useSetting();return(0,s.jsx)(m.Z,{className:i,imageClassName:x.attachmentImage,src:null!=n.proxy_url&&""!==n.proxy_url?n.proxy_url:n.url,alt:null!==(t=n.description)&&void 0!==t?t:(0,p.fw)(n.filename),responsive:!0,width:212,height:212,autoPlay:l,shouldAnimate:a,shouldRenderAccessory:!1})}function j(e){let{className:t,emoji:n}=e;return(0,s.jsx)(u.Z,{className:t,emojiId:n.id,emojiName:n.name,animated:n.animated})}function U(e,t){return null!=e?(0,s.jsx)("div",{className:e,children:t}):(0,s.jsx)(s.Fragment,{children:t})}function y(e){let{media:t,containerClassName:n,attachmentClassName:i,emojiClassName:a,fallback:l}=e,{message:r}=(0,g.GF)();if(null!=t.attachmentIds&&t.attachmentIds.length>0){let e=r.attachments.find(e=>{var n;return e.id===(null===(n=t.attachmentIds)||void 0===n?void 0:n[0])});if(null!=e)return U(n,(0,s.jsx)(D,{className:i,attachment:e}))}return null!=t.emoji?U(n,(0,s.jsx)(j,{className:a,emoji:t.emoji})):void 0!==l?(0,s.jsx)(s.Fragment,{children:l}):null}function B(e){let{isVictor:t,isExpired:n,size:i,className:a}=e,{color:l,backgroundColor:r}=(0,c.EQ)({isVictor:t,isExpired:n}).with({isExpired:!0,isVictor:!0},()=>({color:E.Z.BUTTON_POSITIVE_BACKGROUND,backgroundColor:(0,_.Lq)(A.Ilk.WHITE_500)})).with({isExpired:!0,isVictor:!1},()=>({color:E.Z.ICON_PRIMARY,backgroundColor:E.Z.BG_MOD_FAINT})).otherwise(()=>({color:(0,_.Lq)(A.Ilk.BRAND_500),backgroundColor:(0,_.Lq)(A.Ilk.WHITE_500)}));return(0,s.jsx)(d.CircleCheckIcon,{size:"custom",width:i,height:i,className:a,color:l,secondaryColor:r,"aria-hidden":!0})}function k(e){let{isSelected:t,size:n,className:i}=e,a={width:n,height:n,background:x.radioBackground,"aria-hidden":!0};return t?(0,s.jsx)(h.Z,{...a,foreground:x.radioForeground,className:i}):(0,s.jsx)(T.Z,{...a,className:i})}function G(e){let{isSelected:t,size:n,className:i}=e,a=.85*n;return(0,s.jsx)("div",{className:o()(x.checkbox,{[x.checkboxSelected]:t},i),style:{width:n,height:n},"aria-hidden":!0,children:t&&(0,s.jsx)(d.CheckmarkLargeIcon,{size:"custom",width:a,height:a,color:(0,_.Lq)(A.Ilk.WHITE_500)})})}(a=i||(i={}))[a.LIST_ITEM=0]="LIST_ITEM",a[a.RADIO=1]="RADIO",a[a.CHECKBOX=2]="CHECKBOX",a[a.LIST_ITEM_BUTTON=3]="LIST_ITEM_BUTTON"},365206:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(297821),r=n(481060),o=n(839963),c=n(139256),d=n(689938),u=n(849160);function _(e){let{didSelfVote:t,label:n,percentage:a}=e;return(0,i.jsxs)("div",{className:u.votesData,children:[t&&(0,i.jsx)(l.T,{children:d.Z.Messages.POLL_ANSWER_VOTED_ARIA}),(0,i.jsxs)(r.Text,{variant:"text-md/semibold",color:"none",children:[a,"%"]}),(0,i.jsx)(r.Text,{variant:"text-xs/semibold",color:"none",children:n})]})}function E(e){let{answer:t,isExpired:n,myAvatarUrl:a,canShowVoteCounts:l}=e,r=!0===t.isSelected,o=!0===t.didSelfVote,d=!0===t.isVictor;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.$w,{attachmentClassName:s()(u.attachment,{[u.attachmentWithResults]:l}),emojiClassName:u.emoji,media:t.pollMedia,fallback:(0,i.jsx)("div",{className:s()(u.attachment,u.mediaMissing)})}),r&&(0,i.jsx)(c.ZY,{size:40,isVictor:d,isExpired:n,className:u.selectedIcon}),l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(_,{didSelfVote:o,percentage:t.votesPercentage,label:t.votes,myAvatarUrl:o?a:void 0}),(!n&&o||d)&&(0,i.jsx)(c.ZY,{size:18,isVictor:d,isExpired:n,className:u.pollAnswerIcon})]})]})}function I(e){let{isExpired:t,myAvatarUrl:n,answersInteraction:a,canShowVoteCounts:l,...r}=e;return(0,i.jsx)(c.$e,{className:u.answersContainer,answerClassName:s()(u.answer,{[u.currentlyVoting]:a!==o.Y7.LIST}),myAvatarUrl:n,answersInteraction:a,renderAnswerContent:e=>(0,i.jsx)(E,{answer:e,isExpired:t,myAvatarUrl:n,answersInteraction:a,canShowVoteCounts:l}),...r})}},294608:function(e,t,n){n.d(t,{$B:function(){return o},GF:function(){return l},XL:function(){return r},pE:function(){return c}}),n(411104);var i=n(735250),a=n(470079);let s=a.createContext(void 0);function l(){let e=a.useContext(s);if(null==e)throw Error("No PollContextProvider found");return e}function r(e){let{children:t,message:n,poll:l}=e,r=a.useMemo(()=>({message:n,poll:l}),[n,l]);return(0,i.jsx)(s.Provider,{value:r,children:t})}function o(e){return function(){let{poll:e}=l();return e.resources}().styles[e]}function c(){let{message:e}=l(),t=e.getChannelId();return a.useMemo(()=>({channelId:t,messageId:e.id}),[e.id,t])}},128435:function(e,t,n){n.d(t,{Z:function(){return C}}),n(627341);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(278074),o=n(263568),c=n(481060),d=n(203143),u=n(365206),_=n(294608),E=n(65145),I=n(920557),m=n(355957);function T(e){let{media:t}=e;return(0,i.jsx)(c.Heading,{variant:"text-md/medium",className:m.question,scaleFontToUserSetting:!0,children:t.text})}function h(e){let{children:t,onClick:n,variant:a="text-sm/medium",color:s="interactive-active",className:r,buttonRef:o}=e;return(0,i.jsx)(c.Button,{onClick:n,className:l()(m.__invalid_textButton,r),look:c.Button.Looks.BLANK,size:c.Button.Sizes.NONE,buttonRef:o,children:(0,i.jsx)(c.Text,{variant:a,color:s,scaleFontToUserSetting:!0,children:t})})}function N(e){let{buttonLabel:t,secondaryLabel:n,handleClick:a,isInteractive:s,className:r}=e;return(0,i.jsxs)("div",{className:l()(m.detailsText,r),children:[s?(0,i.jsx)(h,{onClick:a,variant:"text-sm/normal",color:"none",className:l()(m.detailsTextButton,m.interactive),children:t}):(0,i.jsx)(c.Text,{variant:"text-sm/normal",color:"text-muted",scaleFontToUserSetting:!0,children:t}),null!=n&&(0,i.jsx)(c.Text,{variant:"text-sm/normal",color:"text-muted",scaleFontToUserSetting:!0,children:n})]})}function f(e){let{action:t,channelId:n,messageId:s,isInteractive:r,className:o}=e,{actionButtonRef:u,manageFocusOnAction:_}=(0,E.dv)(),I=a.useCallback(async()=>{if((null==t?void 0:t.type)!=null)await d.Z.handlePollActionTapped({channelId:n,messageId:s,type:t.type}),_(t.type)},[null==t?void 0:t.type,n,s,_]);return null==t?null:"button"===t.presentation||"secondaryButton"===t.presentation?(0,i.jsx)(c.Button,{buttonRef:u,onClick:I,disabled:!t.enabled,color:"secondaryButton"===t.presentation?c.Button.Colors.CUSTOM:c.Button.Colors.BRAND,size:c.Button.Sizes.SMALL,className:l()(o,m.buttonPresentation,"secondaryButton"===t.presentation&&m.secondaryButtonPresentation),children:(0,i.jsx)(c.Text,{variant:"text-sm/medium",color:"none",scaleFontToUserSetting:!0,children:t.label})},t.presentation):"textButton"===t.presentation?(0,i.jsx)(h,{buttonRef:u,onClick:I,className:o,children:t.label}):(0,i.jsx)(N,{buttonLabel:t.label,secondaryLabel:t.secondaryLabel,handleClick:I,isInteractive:r,className:o})}function p(e){let{message:t,poll:n,className:a}=e,s=(0,_.$B)(n.containerStyle),d=function(e,t){let n={answers:t.answers,answersInteraction:t.answersInteraction,answerTapAccessibilityLabel:t.answerTapAccessibilityLabel,isExpired:t.isExpired,canTapAnswers:t.canTapAnswers,hasSelectedAnyAnswer:t.hasSelectedAnswer,myAvatarUrl:t.myAvatarUrl,canShowVoteCounts:t.canShowVoteCounts};return(0,r.EQ)(t.layoutType).with(o.C.DEFAULT,()=>(0,i.jsx)(I.K,{...n})).with(o.C.IMAGE_ONLY_ANSWERS,()=>(0,i.jsx)(u.Z,{...n})).otherwise(()=>null)}(0,n);return null==d?null:(0,i.jsx)("div",{className:l()(m.container,s,a),children:(0,i.jsxs)(c.HeadingLevel,{children:[(0,i.jsxs)("div",{className:m.header,children:[(0,i.jsx)(T,{media:n.question}),null!=n.promptLabel&&(0,i.jsx)(c.Text,{variant:"text-sm/normal",color:"text-muted",className:m.prompt,scaleFontToUserSetting:!0,children:n.promptLabel})]}),d,(0,i.jsxs)("div",{className:m.bottomBar,children:[(0,i.jsx)(f,{channelId:t.getChannelId(),messageId:t.id,action:n.secondaryAction,className:m.secondaryAction,isInteractive:n.isInteractive}),(0,i.jsx)(f,{channelId:t.getChannelId(),messageId:t.id,action:n.tertiaryAction,className:m.tertiaryAction}),(0,i.jsx)(f,{channelId:t.getChannelId(),messageId:t.id,action:n.primaryAction})]})]})})}function C(e){let{message:t,poll:n,className:a}=e;return(0,i.jsx)(_.XL,{message:t,poll:n,children:(0,i.jsx)(E.Pk,{children:(0,i.jsx)(p,{message:t,poll:n,className:a})})})}},65145:function(e,t,n){n.d(t,{Pk:function(){return u},dv:function(){return c}}),n(411104),n(47120);var i,a,s=n(735250),l=n(470079),r=n(823379);(a=i||(i={})).POLL_ANSWERS="POLL_ANSWERS",a.ACTION_BUTTON="ACTION_BUTTON";let o=l.createContext(void 0);function c(){let e=l.useContext(o);if(null==e)throw Error("No PollFocusContextProvider found");return e}function d(e){let{children:t,actionButtonRef:n,pollAnswerRef:i,manageFocusOnAction:a}=e,r=l.useMemo(()=>({actionButtonRef:n,pollAnswerRef:i,manageFocusOnAction:a}),[n,i,a]);return(0,s.jsx)(o.Provider,{value:r,children:t})}function u(e){let{children:t}=e,[n,i]=l.useState(),a=l.useRef(null),o=l.useRef(null);return l.useEffect(()=>{var e,t,i;"POLL_ANSWERS"===n&&null!=o.current&&(null===(t=o.current)||void 0===t||null===(e=t.ref)||void 0===e||e.focus()),"ACTION_BUTTON"===n&&null!=a.current&&(null===(i=a.current)||void 0===i||i.focus())},[n]),(0,s.jsx)(d,{pollAnswerRef:o,actionButtonRef:a,manageFocusOnAction:e=>{switch(e){case"submit":case"cancel":i("ACTION_BUTTON");break;case"remove":case"showVotes":i("POLL_ANSWERS");break;case"showVoterDetails":break;default:(0,r.vE)(e)}},children:t})}},920557:function(e,t,n){n.d(t,{K:function(){return R}}),n(47120),n(627341);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(297821),o=n(920906),c=n(278074),d=n(748780),u=n(481060),_=n(542578),E=n(153124),I=n(203143),m=n(79390),T=n(839963),h=n(139256),N=n(294608),f=n(689938),p=n(567909);function C(e){let{percentage:t,label:n,canShowVoterDetails:s,answerId:l}=e,o=(0,E.Dt)(),{channelId:c,messageId:d}=(0,N.pE)(),[T,h]=a.useState(""),[f,C]=a.useState(!1),g=""!==T&&f,S=a.useCallback(()=>{h((0,m.e1)(d,c,l))},[d,c,l]),A=a.useCallback(()=>{S(),C(!0)},[S]),R=a.useCallback(()=>{C(!1)},[]),x=a.useCallback(()=>{(0,I.n)({channelId:c,messageId:d,answerId:l})},[c,d,l]);a.useEffect(()=>{if(!!f)return _.Z.addReactChangeListener(S),()=>{_.Z.removeReactChangeListener(S)}},[f,S]);let O=(0,i.jsx)(u.Text,{variant:"text-xs/semibold",color:"none",className:p.voteCount,scaleFontToUserSetting:!0,children:n});return(0,i.jsxs)("div",{className:p.votesData,children:[s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Tooltip,{text:(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"text-muted",scaleFontToUserSetting:!0,children:T}),forceOpen:g,"aria-label":!1,children:e=>(0,i.jsx)(u.Button,{...e,onMouseEnter:A,onMouseLeave:R,onFocus:A,onBlur:R,onClick:x,className:p.voteCountButton,"aria-describedby":g?o:void 0,look:u.Button.Looks.BLANK,size:u.Button.Sizes.NONE,children:O})}),g&&(0,i.jsx)(r.T,{id:o,children:T})]}):(0,i.jsx)(i.Fragment,{children:O}),(0,i.jsxs)(u.Text,{variant:"text-md/bold",color:"none",scaleFontToUserSetting:!0,children:[t,"%"]})]})}function g(e){let{percentage:t,shouldAnimate:n}=e,a=(0,o.useSpring)({from:{width:n?"0%":"".concat(t,"%")},to:{width:"".concat(t,"%")},config:{duration:1200,easing:d.Z.Easing.inOut(d.Z.Easing.ease)}});return(0,i.jsx)(o.animated.span,{className:p.votePercentageBar,style:a,"aria-hidden":!0})}function S(e){let{answersInteraction:t,isSelected:n,didSelfVote:a,isVictor:s,isExpired:l,className:r}=e;return(0,c.EQ)({answersInteraction:t,didSelfVote:a}).with({answersInteraction:T.Y7.RADIO_BUTTONS},()=>(0,i.jsx)(h.Og,{isSelected:n,size:24,className:r})).with({answersInteraction:T.Y7.CHECKBOXES},()=>(0,i.jsx)(h.zs,{isSelected:n,size:20,className:r})).with({answersInteraction:T.Y7.LIST,didSelfVote:!0},()=>(0,i.jsx)(h.ZY,{isVictor:s,isExpired:l,size:24,className:r})).otherwise(()=>null)}function A(e){let{answer:t,isExpired:n,answersInteraction:a,canShowVoteCounts:s,canShowVoterDetails:o}=e,c=!0===t.isSelected,d=!0===t.didSelfVote,_=!0===t.isVictor,E=t.shouldAnimateTransition;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:l()(p.answerInner,{[p.currentlyVoting]:a!==T.Y7.LIST,[p.selected]:c}),children:[s?(0,i.jsx)(g,{percentage:t.votesPercentage,shouldAnimate:E}):null,null!=t.pollMedia.emoji&&(0,i.jsx)(h.sc,{className:p.emoji,emoji:t.pollMedia.emoji}),(0,i.jsx)(u.Text,{className:p.label,variant:"text-sm/semibold",color:"none",scaleFontToUserSetting:!0,children:t.pollMedia.text}),t.didSelfVote&&(0,i.jsx)(r.T,{children:f.Z.Messages.POLL_ANSWER_VOTED_ARIA}),s&&(0,i.jsx)(C,{percentage:t.votesPercentage,label:t.votes,canShowVoterDetails:o,answerId:t.answerId}),(0,i.jsx)(S,{answersInteraction:a,isSelected:c,didSelfVote:d,isVictor:_,isExpired:n,className:p.answerSelectionIcon})]})})}function R(e){let{isExpired:t,answersInteraction:n,canShowVoteCounts:a,canTapAnswers:s,...l}=e;return(0,i.jsx)(h.$e,{className:p.answersContainer,answerClassName:p.answer,answersInteraction:n,canTapAnswers:s,renderAnswerContent:e=>(0,i.jsx)(A,{answer:e,isExpired:t,answersInteraction:n,canShowVoteCounts:a,canShowVoterDetails:s}),...l})}},332473:function(e,t,n){n.d(t,{b:function(){return r},e:function(){return l}});var i=n(399606),a=n(594174),s=n(918505);let l=()=>o(a.default.getCurrentUser(),(0,s.JH)()),r=()=>o((0,i.e7)([a.default],()=>a.default.getCurrentUser()),(0,s.o9)());function o(e,t){return!(null==e||e.isPomelo())&&!!e.hasVerifiedEmailOrPhone()&&!!t&&!0}},30684:function(e,t,n){var i,a,s,l,r=n(442837),o=n(570140),c=n(853872);let d=!1;class u extends(l=r.ZP.Store){isEligibleForNagbar(){var e;let t=null!==(e=c.Z.paymentSources)&&void 0!==e?e:{};return d&&0!==Object.keys(t).length}}s="CheckoutRecoveryStore",(a="displayName")in(i=u)?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,t.Z=new u(o.Z,{CHECKOUT_RECOVERY_STATUS_FETCH:function(e){d=e.isEligibleForNagbar},PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(){d=!1}})},451603:function(e,t,n){n.d(t,{yU:function(){return r}}),n(442837),n(536442);var i=n(430824),a=n(594174),s=n(74538),l=n(981631);function r(){let e=i.Z.getGuildCount()>=l.DZw,t=s.ZP.canUseIncreasedGuildCap(a.default.getCurrentUser());return e&&!t}},614825:function(e,t,n){n.d(t,{Z:function(){return v}}),n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(913527),o=n.n(r),c=n(873546),d=n(442837),u=n(481060),_=n(568836),E=n(100527),I=n(906732),m=n(963249),T=n(594174),h=n(78839),N=n(55935),f=n(63063),p=n(74538),C=n(276444),g=n(790368),S=n(786397),A=n(474936),R=n(981631),x=n(689938),O=n(713533);class M extends a.Component{renderTitle(e,t,n){let{trialOffer:i}=this.props,a=T.default.getUser(i.user_id),s=null!=a?a.username:"???",l=T.default.getUser(i.referrer_id),r=null!=l?l.username:"???";if(e&&void 0===i.redeemed_at)return x.Z.Messages.SHARE_NITRO_EMBEDDED_MESSAGE_DISABLED_HEADER.format({username:s});if(t)return n?x.Z.Messages.SHARE_NITRO_EMBEDDED_MESSAGE_EXPIRED_HEADER:x.Z.Messages.REFERRAL_PROGRAM_EMBED_TIRAL_EXPIRED.format({userName:r});return x.Z.Messages.REFERRAL_PROGRAM_EMBED_HEADER.format({senderUserName:r,recipientUserName:s})}renderBody(e,t,n){let{trialOffer:i}=this.props;return e&&!n&&void 0===i.redeemed_at?x.Z.Messages.REFERRAL_PROGRAM_LEARN_MORE_ABOUT_SHARING.format({helpdeskArticle:f.Z.getArticleURL(R.BhN.REFERRAL_PROGRAM)}):t?null:x.Z.Messages.REFERRAL_PROGRAM_EMBED_BODY}renderActions(e,t,n){let{trialOffer:a,currentUser:s,analyticsLocations:l}=this.props,r={onClick:()=>{this.handleStartTrial(a,l)},color:u.Button.Colors.BRAND},o=s.id!==a.user_id||(0,p.I5)(s)||!s.verified||(0,S.B)(a),c=this.renderExpirationDate(e,t,n);return r.disabled=o,(0,i.jsxs)("div",{className:O.buttonContainer,children:[(0,i.jsx)("div",{children:(0,i.jsx)(u.Button,{...r,size:u.Button.Sizes.SMALL,onClick:()=>{(0,m.Z)({initialPlanId:null,subscriptionTier:A.Si.TIER_2,analyticsLocations:l,trialId:a.trial_id,referralTrialOfferId:a.id})},children:x.Z.Messages.START_TRIAL})}),(0,i.jsx)("div",{className:O.metadata,children:c})]})}renderExpirationDate(e,t,n){let{trialOffer:i,trialEndsAt:a}=this.props;if(void 0!==i.redeemed_at&&!n&&null!==a)return x.Z.Messages.TRIAL_EXPIRES.format({date:(0,N.vc)(o()(a),"LL")});if(e||void 0===i.expires_at)return null;let s=o()(i.expires_at);if(t)return x.Z.Messages.EXPIRED_DATE.format({date:(0,N.vc)(o()(s),"LL")});let l=s.diff(o()(),"h");if(l>48){let e=s.diff(o()(),"d");return x.Z.Messages.EXPIRES_DAYS.format({numDays:e})}if(l>1)return x.Z.Messages.EXPIRES_HOURS.format({numHours:l});let r=s.diff(o()(),"minutes");return x.Z.Messages.EXPIRES_MINUTES.format({numMinutes:r})}renderMedia(e){return(0,i.jsx)("div",{className:l()({[O.referral]:!e,[O.birthdayReferral]:e})})}render(){let{trialOffer:e,currentUser:t,recipientHasNitro:n,shouldShowBirthdayUX:a}=this.props,s=(0,S.B)(e),r=t.id===e.referrer_id;return(0,i.jsxs)("div",{className:l()(O.tile,O.container),children:[(0,i.jsx)("div",{className:O.media,children:this.renderMedia(a)}),(0,i.jsxs)("div",{className:O.description,children:[(0,i.jsx)(u.H,{className:O.title,children:this.renderTitle(n,s,r)}),(0,i.jsx)("div",{className:O.tagline,children:this.renderBody(n,s,r)}),(0,i.jsx)("div",{className:O.actions,children:this.renderActions(n,s,r)})]})]})}constructor(...e){var t,n,i;super(...e),t=this,n="handleStartTrial",i=(e,t)=>{(0,m.Z)({initialPlanId:null,subscriptionTier:A.Si.TIER_2,analyticsLocations:t,trialId:e.trial_id})},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}function v(e){let{userTrialOfferId:t,canRenderReferralEmbed:n}=e,{trialOffer:a,isResolving:s}=(0,d.cj)([C.Z],()=>({trialOffer:n?C.Z.getRelevantUserTrialOffer(t):null,isResolving:!!n&&C.Z.isResolving(t)}),[n,t]),l=T.default.getCurrentUser(),r=(0,d.e7)([T.default],()=>null!=a&&(0,p.I5)(void 0!==l&&a.user_id===l.id?l:T.default.getUser(a.user_id))),o=(0,d.e7)([h.ZP],()=>{var e;return r?null===(e=h.ZP.getPremiumTypeSubscription())||void 0===e?void 0:e.trialEndsAt:null}),{analyticsLocations:u}=(0,I.ZP)(E.Z.SHARE_NITRO_EMBED),{enabled:m}=g.Z.useExperiment({location:"f4ff1d_1"},{autoTrackExposure:!0});return s?(0,i.jsx)(_.OR,{isHorizontal:!c.tq}):n&&null!=a&&void 0!==l?(0,i.jsx)(M,{trialOffer:a,currentUser:l,recipientHasNitro:r,trialEndsAt:o,analyticsLocations:u,shouldShowBirthdayUX:m,...e}):(0,i.jsx)("div",{className:O.invalidWrapper,children:(0,i.jsx)("div",{className:O.invalid})})}},616106:function(e,t,n){var i,a,s,l,r=n(913527),o=n.n(r),c=n(442837),d=n(570140),u=n(255078),_=n(594174),E=n(74538);let I=!1;class m extends(l=c.ZP.Store){shouldShowReactivateNotice(){let e=_.default.getCurrentUser();return!(0,E.I5)(e)&&I}}s="SubscriptionRemindersStore",(a="displayName")in(i=m)?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,t.Z=new m(d.Z,{BILLING_MOST_RECENT_SUBSCRIPTION_FETCH_SUCCESS:function(e){let{subscription:t}=e;if(null!=t){var n;let e=u.Z.createFromServer(t);if(null==(0,E.Af)(e)||(null===(n=e.metadata)||void 0===n?void 0:n.ended_at)==null)return;let i=o()(e.metadata.ended_at);o()().isBetween(i.clone().add(4,"days"),i.clone().add(11,"days"))&&(I=!0)}}})},774276:function(e,t,n){n.d(t,{cI:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2023-10_premium_tier_2_trial_offer_expiring_notice",label:"Premium Tier 2 Trial Offer Expiring Notice",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});t.ZP=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.useExperiment({location:"experiment_hook"},{autoTrackExposure:e,disable:t})}},29270:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e){let t=Number(e.content);return isNaN(t)||0===t?1:t}},14335:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(735250),a=n(470079),s=n(793030),l=n(442837),r=n(481060),o=n(230711),c=n(2052),d=n(906732),u=n(963249),_=n(594174),E=n(626135),I=n(74538),m=n(163684),T=n(748770),h=n(474936),N=n(981631),f=n(689938),p=n(921186);function C(){let e=(0,l.e7)([_.default],()=>I.ZP.isPremium(_.default.getCurrentUser())),{enabled:t,getNitroCTA:n}=m.g.useExperiment({location:"OutboundPromotionNotice"},{autoTrackExposure:!e,disable:e}),{location:C}=(0,c.O)(),{analyticsLocations:g}=(0,d.ZP)(),S=a.useCallback(()=>{(0,u.Z)({subscriptionTier:I.ZP.getSkuIdForPremiumType(h.p9.TIER_2),analyticsLocations:g,analyticsObject:{...C,object:N.qAy.BUTTON_CTA,objectType:N.Qqv.TIER_2}})},[g,C]),A=a.useCallback(()=>{o.Z.open(N.oAB.INVENTORY),T.ZP.dismissOutboundPromotionNotice()},[]),R=a.useCallback(()=>{E.default.track(N.rMx.OUTBOUND_PROMOTION_NOTICE_CLICKED),n?S():A()},[n,S,A]);return(0,i.jsxs)(r.Notice,{color:r.NoticeColors.PREMIUM_TIER_2,children:[(0,i.jsx)(r.NoticeCloseButton,{noticeType:N.kVF.OUTBOUND_PROMOTION,onClick:()=>{T.ZP.dismissOutboundPromotionNotice()}}),(0,i.jsx)(r.NitroWheelIcon,{size:"md",color:"currentColor",className:p.premiumIcon}),t?n?(0,i.jsxs)(s.x,{variant:"text-sm/normal",className:p.text,children:[f.Z.Messages.OUTBOUND_PROMO_UPSELL_EXPERIMENT_NAG_BAR_TITLE_V2," ",f.Z.Messages.LEARN_MORE_CLICK.format({onClick:A})]}):f.Z.Messages.OUTBOUND_PROMO_UPSELL_EXPERIMENT_NAG_BAR_TITLE:f.Z.Messages.OUTBOUND_PROMOTION_NOTICE,(0,i.jsx)(r.PrimaryCTANoticeButton,{noticeType:N.kVF.OUTBOUND_PROMOTION,onClick:R,children:n?f.Z.Messages.PREMIUM_UPSELL_GET_NITRO:f.Z.Messages.TAKE_ME_THERE})]})}},930114:function(e,t,n){n.d(t,{V:function(){return _}});var i=n(735250);n(470079);var a=n(481060),s=n(594174),l=n(78839),r=n(585483),o=n(74538),c=n(138464),d=n(474936),u=n(981631);function _(e){let{processedCode:t,channelContext:_,customGiftMessage:E,giftInfo:I}=e,m=!1,T=null,h=s.default.getCurrentUser(),N=(0,o.yd)(null==h?void 0:h.premiumType,d.p9.TIER_0);(0,a.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("92446"),n.e("16776")]).then(n.bind(n,409858));return n=>{var a,s;return(0,i.jsx)(e,{code:t,channelContext:_,customGiftMessage:E,emojiName:null==I?void 0:null===(a=I.emoji)||void 0===a?void 0:a.name,soundId:null==I?void 0:null===(s=I.sound)||void 0===s?void 0:s.id,onComplete:(e,t)=>{T=e,t&&(m=t,e.isSubscription&&null==l.ZP.getPremiumSubscription(!1)&&(0,c.H)(!0))},...n})}},{onCloseCallback:()=>{var e;m&&null!=T&&!N&&T.isSubscription&&(null==T?void 0:null===(e=T.subscriptionPlan)||void 0===e?void 0:e.premiumSubscriptionType)===d.p9.TIER_2&&r.S.dispatch(u.CkL.PREMIUM_SUBSCRIPTION_CREATED)}})}},463230:function(e,t,n){var i=n(735250);n(470079);var a=n(481060),s=n(230711),l=n(985754),r=n(91802),o=n(222727),c=n(981631),d=n(921944),u=n(689938),_=n(596791);t.Z=e=>{let{notice:t,noticeType:n,dismissCurrentNotice:E}=e,I=(null==t?void 0:t.metadata.premiumSubscription)!=null,m=(0,r.n)();if((0,o.U)(c.jXE.NOTIFICATION_BAR,null==m?void 0:m.countryCode),null==m)return null;let T=m.countryCode,h=m.currency,N=m.paymentSourceTypes.length>0;return(0,i.jsxs)(a.Notice,{color:I?a.NoticeColors.BRAND:a.NoticeColors.PREMIUM_TIER_2,children:[(0,i.jsx)(a.NoticeCloseButton,{onClick:()=>E(d.L.UNKNOWN),noticeType:n}),!I&&(0,i.jsx)(a.NitroWheelIcon,{size:"md",color:"currentColor",className:_.premiumIcon}),(0,l.Gv)(T,h,N,I),(0,i.jsx)(a.PrimaryCTANoticeButton,{onClick:()=>{E(d.L.UNKNOWN),s.Z.open(c.oAB.PREMIUM)},noticeType:n,children:u.Z.Messages.LEARN_MORE})]})}},466794:function(e,t,n){n.d(t,{X:function(){return l}});var i=n(735250);n(470079);var a=n(481060),s=n(842333);function l(e){let{tooltipText:t,textColor:n}=e;return(0,i.jsxs)("span",{className:s.tooltipTextContainer,children:[(0,i.jsx)(a.NitroWheelIcon,{size:"md",color:"currentColor",className:s.nitroWheel}),(0,i.jsx)(a.Text,{className:s.tooltipText,variant:"text-sm/medium",color:null!=n?n:"text-normal",children:t})]})}},246965:function(e,t,n){n(411104);var i=n(735250);n(470079);var a=n(481060),s=n(774078),l=n(100527),r=n(906732),o=n(963249),c=n(639119),d=n(474936),u=n(981631),_=n(689938),E=n(596791);t.Z=function(e){var t;let{dismissCurrentNotice:n,subscriptionTier:I}=e,{analyticsLocations:m}=(0,r.ZP)(function(e){switch(e){case d.Si.TIER_0:return l.Z.PREMIUM_TIER_0_TRIAL_ENDING_NOTICE;case d.Si.TIER_2:return l.Z.PREMIUM_TIER_2_TRIAL_ENDING_NOTICE;default:throw Error("Unsupported subscription tier: ".concat(e))}}(I)),T=(0,c.N)(),h=(0,s.Z)(null!=T&&null!=T.expires_at?Date.parse(T.expires_at):0);return null==T||(null===(t=T.subscription_trial)||void 0===t?void 0:t.sku_id)!==I||null==T.expires_at||Object.values(h).every(e=>0===e)?null:(0,i.jsxs)(a.Notice,{color:function(e){switch(e){case d.Si.TIER_0:return a.NoticeColors.PREMIUM_TIER_0;case d.Si.TIER_2:return a.NoticeColors.PREMIUM_TIER_2;default:throw Error("Unsupported subscription tier: ".concat(e))}}(I),children:[(0,i.jsx)(a.NoticeCloseButton,{onClick:n}),(0,i.jsx)(a.NitroWheelIcon,{size:"md",color:"currentColor",className:E.premiumIcon}),function(e,t){switch(e){case d.Si.TIER_0:return t.days>0?_.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_DAYS_VARIANT.format({days:t.days}):t.hours>0?_.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_HOURS_VARIANT.format({hours:t.hours}):_.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_MINUTES_VARIANT.format({minutes:Math.max(t.minutes,1)});case d.Si.TIER_2:return t.days>0?_.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_DAYS_VARIANT.format({days:t.days}):t.hours>0?_.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_HOURS_VARIANT.format({hours:t.hours}):_.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_MINUTES_VARIANT.format({minutes:Math.max(t.minutes,1)});default:throw Error("Unsupported subscription tier: ".concat(e))}}(I,h),(0,i.jsx)(a.NoticeButton,{onClick:()=>{(0,o.Z)({trialId:T.trial_id,subscriptionTier:I,analyticsLocations:m,analyticsObject:{page:u.ZY5.IN_APP,section:u.jXE.NOTIFICATION_BAR,object:u.qAy.BUTTON_CTA}})},children:function(e){switch(e){case d.Si.TIER_0:return _.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_CTA_VARIANT;case d.Si.TIER_2:return _.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_CTA_VARIANT;default:throw Error("Unsupported subscription tier: ".concat(e))}}(I)})]})}},885714:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var a=n(481060),s=n(430824);function l(e){let{onCloseCallback:t,analyticsLocations:l,...r}=e;(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("11166").then(n.bind(n,971949));return t=>(0,i.jsx)(e,{...t,...r,analyticsLocations:l,guildCount:s.Z.getGuildCount(),"aria-labelledby":"nitro-guild-cap-upsell"})},{onCloseCallback:t})}},504733:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(481060),s=n(739566),l=n(942951),r=n(702346),o=n(981791),c=n(221207);function d(e){let{message:t,channel:n,compact:d}=e,u=(0,s.ZP)(t),_=t.application,E=(0,l.l)({user:t.author,channelId:n.id,guildId:n.guild_id,messageId:t.id});return(0,i.jsx)(r.Z,{iconNode:(0,i.jsx)(a.TicketIcon,{size:"md",color:"currentColor",className:c.ticketIcon}),timestamp:t.timestamp,compact:d,children:(0,o.A)({application:_,username:u.nick,usernameHook:E(u)})})}},981791:function(e,t,n){n.d(t,{A:function(){return s}});var i=n(981631),a=n(689938);function s(e){let{application:t,username:n,usernameHook:s=i.dG4}=e;return null!=t?a.Z.Messages.SYSTEM_MESSAGE_APPLICATION_SUBSCRIPTION_PURCHASE.format({username:n,applicationName:t.name,usernameHook:s}):a.Z.Messages.SYSTEM_MESSAGE_APPLICATION_SUBSCRIPTION_PURCHASE_FROM_DELETED_APPLICATION.format({username:n,usernameHook:s})}},628566:function(e,t,n){n.d(t,{M:function(){return i}}),n(47120),n(653041);var i,a,s,l,r,o,c=n(442837),d=n(570140),u=n(973616),_=n(911955);(s=i||(i={}))[s.NOT_FETCHED=0]="NOT_FETCHED",s[s.FETCHING=1]="FETCHING",s[s.FETCHED=2]="FETCHED",s[s.FETCH_FAILED=3]="FETCH_FAILED";let E=new Map,I=new Map,m=[],T=0,h=[];class N extends(a=c.ZP.Store){getIntegrations(e){var t;return null!==(t=E.get(e))&&void 0!==t?t:h}getIntegration(e,t){var n;return null===(n=E.get(e))||void 0===n?void 0:n.find(e=>e.application.id===t)}getAllIntegrations(){return E}getIntegrationsFetchState(e){var t;return null!==(t=I.get(e))&&void 0!==t?t:0}getApplicationsShelfFetchState(){return T}getApplicationsShelf(){return m}}function f(e){return e.sort((e,t)=>e.application.name.localeCompare(t.application.name))}o="PrivateChannelIntegrationStore",(r="displayName")in(l=N)?Object.defineProperty(l,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[r]=o;let p=new N(d.Z,{LOGOUT(){E.clear()},CONNECTION_OPEN(){E.clear(),I.clear()},CHANNEL_SELECT(e){let{channelId:t}=e;if(null==t||3!==I.get(t))return!1;I.set(t,0)},APPLICATIONS_SHELF_FETCH_START(){T=1},APPLICATIONS_SHELF_FETCH_SUCCESS(e){let{applications:t}=e;m=t.map(u.Z.createFromServer).sort((e,t)=>e.name.localeCompare(t.name)),T=2},APPLICATIONS_SHELF_FETCH_FAIL(){T=3},FETCH_PRIVATE_CHANNEL_INTEGRATIONS_START(e){let{channelId:t}=e;E.set(t,null),I.set(t,1)},FETCH_PRIVATE_CHANNEL_INTEGRATIONS_SUCCESS(e){let{channelId:t,integrations:n}=e;E.set(t,f(n.map(_.F))),I.set(t,2)},FETCH_PRIVATE_CHANNEL_INTEGRATIONS_FAIL(e){let{channelId:t}=e;I.set(t,3)},PRIVATE_CHANNEL_INTEGRATION_CREATE(e){let{integration:t}=e,n=E.get(t.channel_id);if(null==n)return!1;E.set(t.channel_id,f([...n,(0,_.F)(t)]))},PRIVATE_CHANNEL_INTEGRATION_UPDATE(e){let{integration:t}=e,n=E.get(t.channel_id);if(null==n)return!1;let i=(0,_.F)(t),a=n.findIndex(e=>e.application.id===i.application.id),s=[...n];-1===a?s.push(i):s[a]=i,E.set(i.channel_id,f(s))},PRIVATE_CHANNEL_INTEGRATION_DELETE(e){let{channelId:t,applicationId:n}=e,i=E.get(t);if(null==i)return!1;E.set(t,i.filter(e=>e.application.id!==n))},CHANNEL_DELETE(e){let{channel:t}=e;return E.delete(t.id)}});t.Z=p},563959:function(e,t,n){n.d(t,{P:function(){return f},e:function(){return p}});var i=n(735250),a=n(470079),s=n(481060),l=n(239091),r=n(739566),o=n(942951),c=n(484459),d=n(103575),u=n(594174),_=n(702346),E=n(768581),I=n(91047),m=n(628566),T=n(693912),h=n(981631);function N(e,t){return a.useCallback(a=>(r,o)=>{var _;let T=E.ZP.getApplicationIconURL({id:a.id,icon:a.icon,bot:a.bot,botIconFirst:!0}),h=u.default.getUser(null===(_=a.bot)||void 0===_?void 0:_.id),N=m.Z.getIntegration(e.id,a.id),f=e.isPrivate()&&null!=N?t=>{(0,l.jW)(t,async()=>{let{default:t}=await n.e("30887").then(n.bind(n,496281));return n=>(0,i.jsx)(t,{...n,channel:e,integration:N})})}:null!=h?t=>(0,I.Pv)(t,h,e):void 0,{bot:p}=a;return null==p?r:(0,i.jsx)(s.Popout,{position:"right",preload:()=>(0,c.W)(p.id,T,{guildId:e.guild_id,channelId:e.id}),renderPopout:n=>(0,i.jsx)(d.Z,{...n,location:"PrivateChannelIntegrationSystemMessage",userId:p.id,guildId:e.guild_id,channelId:e.id,messageId:t.id}),children:e=>(0,i.jsx)(s.Anchor,{...e,onContextMenu:f,children:r})},o)},[e,t.id])}function f(e){let{message:t,channel:a,compact:s}=e,l=(0,r.ZP)(t),c=t.application,d=(0,o.l)({user:t.author,channelId:a.id,guildId:a.guild_id,messageId:t.id}),u=N(a,t);return(0,i.jsx)(_.Z,{icon:n(570111),timestamp:t.timestamp,compact:s,children:(0,T.DS)({application:c,username:l.nick,usernameHook:d(l),applicationNameHook:null!=c?u(c):h.dG4})})}function p(e){let{message:t,channel:a,compact:s}=e,l=(0,r.ZP)(t),c=t.application,d=(0,o.l)({user:t.author,channelId:a.id,guildId:a.guild_id,messageId:t.id}),u=N(a,t);return(0,i.jsx)(_.Z,{icon:n(474019),timestamp:t.timestamp,compact:s,children:(0,T.nh)({application:c,username:l.nick,usernameHook:d(l),applicationNameHook:null!=c?u(c):h.dG4})})}},621615:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2023-09_proxy_block_notice",label:"Proxy Block Experiment",defaultConfig:{eligibleForNotice:!1},treatments:[{id:1,label:"Show nag bar when proxy blocks an API request",config:{eligibleForNotice:!0}}]});t.Z=i},417626:function(e,t,n){var i,a,s,l,r=n(442837),o=n(570140);let c=!1;class d extends(l=r.ZP.Store){get blockedByProxy(){return c}}s="ProxyBlockStore",(a="displayName")in(i=d)?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,t.Z=new d(o.Z,{PROXY_BLOCKED_REQUEST:function(e){c=!0}})},556041:function(e,t,n){var i=n(735250);n(470079);var a=n(481060),s=n(285952),l=n(245315),r=n(689938),o=n(404154);t.Z=()=>(0,i.jsxs)(s.Z,{align:s.Z.Align.CENTER,justify:s.Z.Justify.CENTER,direction:s.Z.Direction.VERTICAL,className:o.popout,children:[(0,i.jsx)("img",{alt:"",src:(0,l.QA)(),className:o.avatar}),(0,i.jsxs)(s.Z,{align:s.Z.Align.CENTER,justify:s.Z.Justify.CENTER,className:o.nameWrapper,children:[(0,i.jsx)(a.Tooltip,{text:r.Z.Messages.STAFF_BADGE_TOOLTIP,children:e=>(0,i.jsx)("div",{...e,className:o.staffBadge})}),(0,i.jsx)(a.Heading,{className:o.header,variant:"heading-md/semibold",children:r.Z.Messages.ANNOUNCEMENT_GUILD_POPOUT_NAME})]}),(0,i.jsx)(a.Text,{className:o.description,color:"header-secondary",variant:"text-sm/normal",children:r.Z.Messages.ANNOUNCEMENT_GUILD_DESCRIPTION}),(0,i.jsx)(a.Text,{className:o.description,color:"header-secondary",variant:"text-sm/normal",children:r.Z.Messages.ANNOUNCEMENT_GUILD_HERE_TO_HELP})]})},610674:function(e,t,n){n.d(t,{Z:function(){return i}});let i="https://dis.gd/appeal"},686777:function(e,t,n){n.d(t,{q:function(){return a}});let i=(0,n(818083).B)({id:"2024-04_concurrent_quests",kind:"user",label:"Concurrent Quests",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Concurrent Quests Enabled",config:{enabled:!0}}]}),a=e=>{let{location:t,autoTrackExposure:n=!1}=e;return i.useExperiment({location:t},{autoTrackExposure:n}).enabled}},87894:function(e,t,n){n.d(t,{DJ:function(){return c},U0:function(){return _},W_:function(){return r},Z$:function(){return u},Z0:function(){return I},iM:function(){return o},j2:function(){return E},jc:function(){return d},uq:function(){return l}});var i,a,s=n(497505);function l(e){return[s.jn.GIFT_INVENTORY_FOR_YOU,s.jn.GIFT_INVENTORY_OTHER].includes(e)}function r(e){return e===s.jn.GIFT_INVENTORY_FOR_YOU||!l(e)}function o(e){let{quest:t,location:n}=e,{userStatus:i}=t;return(null==i?void 0:i.enrolledAt)!=null&&null==i.completedAt||r(n)}(i=a||(a={}))[i.FOR_YOU=0]="FOR_YOU",i[i.OTHER=1]="OTHER";let c=100,d=20,u=32,_=1e3,E=460,I=280},37303:function(e,t,n){n.d(t,{D:function(){return N},Z:function(){return f}}),n(47120);var i=n(735250),a=n(470079),s=n(920906),l=n(442837),r=n(686777),o=n(113434),c=n(569984),d=n(497505),u=n(602667),_=n(87894),E=n(372113),I=n(206044),m=n(266843),T=n(46140),h=n(441468);function N(e){let{questId:t,...n}=e,a=(0,l.e7)([c.Z],()=>c.Z.getQuest(t));if(null==a)return null;{let e={quest:a,...n};return(0,i.jsx)(f,{...e})}}function f(e){let{quest:t,location:n,initiallyExpanded:l,contentPosition:c}=e,[N,f]=a.useState(!1),p=a.useCallback(()=>f(!0),[]),C=a.useCallback(()=>f(!1),[]),g=(0,o.tP)(t),{containerRef:S,size:A,height:R}=(0,m.h)([t]),x=(0,r.q)({location:T.dr.QUESTS_CARD}),{expansionSpring:O,isAnimating:M,isExpanded:v,toggleExpanded:L}=(0,m.O)({initiallyExpanded:!x||l||(0,_.iM)({location:n,quest:t})}),Z=null!=R?R:_.U0;return(0,i.jsx)(u.A,{questOrQuests:t,questContent:n,questContentPosition:c,trackGuildAndChannelMetadata:n===d.jn.QUESTS_EMBED,children:e=>(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s.animated.div,{style:{maxHeight:n===d.jn.QUESTS_EMBED?void 0:O.to({range:[0,1],output:[_.DJ,Z]})},ref:t=>{e.current=t,S.current=t},className:h.questsCard,onFocus:p,onMouseEnter:p,onBlur:C,onMouseLeave:C,children:[(0,i.jsx)(I.Z,{isFocused:N,isQuestExpired:g,location:n,quest:t,size:A,expansionSpring:O,isAnimating:M,isExpanded:v,isInConcurrentQuestExperiment:x,contentPosition:c,toggleExpanded:L}),(0,i.jsx)(E.Z,{quest:t,isQuestExpired:g,location:n,size:A,isFocused:N,isExpanded:v,isAnimating:M,contentPosition:c})]})})})}},372113:function(e,t,n){n(47120);var i,a,s=n(735250),l=n(470079),r=n(120356),o=n.n(r),c=n(442837),d=n(481060),u=n(230711),_=n(607070),E=n(706454),I=n(63063),m=n(930153),T=n(617136),h=n(272008),N=n(113434),f=n(569984),p=n(497505),C=n(918701),g=n(796111),S=n(566078),A=n(340100),R=n(644646),x=n(667105),O=n(341907),M=n(87894),v=n(2660),L=n(46140),Z=n(981631),P=n(689938),b=n(504321),D=n(789002);let j=(e,t,n)=>(0,M.uq)(e)&&!n&&"lg"===t?"text-lg/medium":"lg"===t?"text-md/medium":"sm"===t?"text-sm/medium":"text-xs/medium";function U(e){let{containerSize:t,onClick:n,children:i,tabIndex:a}=e;return"xs"===t?(0,s.jsx)(d.Clickable,{tabIndex:a,className:b.learnMoreLink,tag:"span",onClick:n,children:(0,s.jsx)(d.Text,{variant:"text-sm/medium",color:"text-link",children:i})}):(0,s.jsx)(d.Button,{tabIndex:a,wrapperClassName:b.ctaButtonWrapper,color:d.ButtonColors.PRIMARY,onClick:n,children:i})}(a=i||(i={}))[a.UNACCEPTED=0]="UNACCEPTED",a[a.ACCEPTED=1]="ACCEPTED",a[a.IN_PROGRESS=2]="IN_PROGRESS",a[a.COMPLETED=3]="COMPLETED",a[a.CLAIMED=4]="CLAIMED";function y(e){let{quest:t,useReducedMotion:n}=e,[i,a]=l.useState([]),r=(0,x.g2)({useReducedMotion:n,className:b.refreshIcon}),o=async()=>{r.startAnimation(),a((await (0,h.CS)(t.id)).errorHints),r.stopAnimation()},c=()=>{(0,T._3)({questId:t.id,questContent:p.jn.GIFT_INVENTORY_FOR_YOU,questContentCTA:T.jZ.DEFIBRILLATOR}),o()},{rawTooltipText:u,renderTooltipText:_,buttonText:E}=l.useMemo(()=>{let e=S.r.build(t.config).application.name,n=(0,C.zK)(t,L.S7.IN_HOUSE_CONSOLE_QUEST),a=i.join("\n"),l=()=>(0,s.jsx)(s.Fragment,{children:i.map((e,t)=>(0,s.jsx)(d.Text,{className:t>0?b.ctaTooltipErrorHint:void 0,variant:"text-xxs/normal",children:e},t))});return n?{rawTooltipText:i.length>0?a:P.Z.Messages.QUESTS_CHECK_FOR_ANY_GAME_LAUNCH_TOOLTIP,renderTooltipText:i.length>0?l:()=>P.Z.Messages.QUESTS_CHECK_FOR_ANY_GAME_LAUNCH_TOOLTIP,buttonText:i.length>0?P.Z.Messages.QUESTS_ANY_GAME_NOT_DETECTED:P.Z.Messages.QUESTS_MICROHPONE_UNIT_BUTTON_CTA}:{rawTooltipText:i.length>0?a:P.Z.Messages.QUESTS_CHECK_FOR_GAME_LAUNCH_TOOLTIP.format({gameTitle:e}),renderTooltipText:i.length>0?l:()=>P.Z.Messages.QUESTS_CHECK_FOR_GAME_LAUNCH_TOOLTIP.format({gameTitle:e}),buttonText:i.length>0?P.Z.Messages.QUESTS_GAME_NOT_DETECTED.format({gameTitle:e}):P.Z.Messages.QUESTS_MICROHPONE_UNIT_BUTTON_CTA}},[t,i]);return(0,s.jsx)(d.Tooltip,{"aria-label":u,text:_(),tooltipContentClassName:i.length>0?b.ctaTooltipErrorText:b.ctaTooltipText,children:e=>(0,s.jsx)(d.Button,{...e,wrapperClassName:b.ctaButtonWrapper,color:i.length>0?d.ButtonColors.RED:d.ButtonColors.PRIMARY,onClick:c,children:(0,s.jsxs)("div",{className:b.ctaButtonInner,children:[E,r.render()]})})},u)}function B(e){let{quest:t,progressState:n,isCollectibleQuest:i,location:a,questContentPosition:r,inGiftInventory:o}=e,u=n>=1,E=n>=3,I=(0,C.$J)(t),{xboxAndPlaystationAccounts:m}=(0,N.z6)(),p=m.length>0,S=(0,C.Bz)(t),A=(0,c.e7)([_.Z],()=>_.Z.useReducedMotion),R=(0,c.e7)([f.Z],()=>f.Z.isEnrolling(t.id)),M=(0,C.zK)(t,L.S7.IN_HOUSE_CONSOLE_QUEST),v=function(e){let{quest:t,progressState:n,isCollectibleQuest:i,location:a,questContentPosition:s,waitingForConsoleConnection:r,isInHouseQuest:o,inGiftInventory:c}=e,d=(0,x.hf)({quest:t,location:a,questContentPosition:s});return l.useMemo(()=>{switch(n){case 0:return{text:P.Z.Messages.QUESTS_ACCEPT,tooltipText:P.Z.Messages.QUESTS_ACCEPT_TOOLTIP,onClick:()=>(0,h.AH)(t.id,{questContent:a,questContentCTA:T.jZ.ACCEPT_QUEST,questContentPosition:s})};case 1:case 2:if(r&&c)return{text:P.Z.Messages.QUESTS_CONNECT_CONSOLE,tooltipText:null,onClick:()=>(0,O.gI)({quest:t,showInline:(0,g.i)({location:L.dr.QUESTS_CARD})},{content:a,ctaContent:T.jZ.CONNECT_CONSOLE})};return{text:P.Z.Messages.QUESTS_CLAIM_REWARD,tooltipText:P.Z.Messages.QUESTS_IN_PROGRESS_TOOLTIP,onClick:null};case 3:return{text:P.Z.Messages.QUESTS_CLAIM_REWARD,tooltipText:o?P.Z.Messages.QUESTS_IN_HOUSE_REWARD_TOOLTIP:null,onClick:d};case 4:let e={tooltipText:null,onClick:d};if(o)return{...e,text:P.Z.Messages.QUESTS_MOBILE_HOME_VIEW_REWARD};if(i)return{...e,text:P.Z.Messages.COLLECTIBLES_USE_NOW};return{...e,text:P.Z.Messages.QUESTS_SEE_CODE}}},[t,i,o,a,d,n,s,r,c])}({progressState:n,quest:t,isInHouseQuest:M,location:a,isCollectibleQuest:i,waitingForConsoleConnection:u&&I&&!p,questContentPosition:r,inGiftInventory:o});if(I&&u&&p&&!S&&!E&&o)return(0,s.jsx)(y,{quest:t,useReducedMotion:A});let Z=M&&o&&E,j=Z?b.inHouseButton:d.ButtonColors.BRAND,U=E&&!A?d.ShinyButton:d.Button;return(0,s.jsx)(d.Tooltip,{text:v.tooltipText,tooltipContentClassName:b.ctaTooltipText,children:e=>{var t;return(0,s.jsx)(U,{...e,wrapperClassName:b.ctaButtonWrapper,color:j,disabled:null==v.onClick,submitting:R,onClick:null!==(t=v.onClick)&&void 0!==t?t:()=>{},children:(0,s.jsxs)("div",{className:b.ctaButtonInner,children:[Z&&(0,s.jsx)("img",{src:D,alt:"",className:b.inHouseIcon}),v.text]})})}},v.tooltipText)}t.Z=e=>{let{quest:t,location:n,size:i,isFocused:a,isQuestExpired:l,isExpanded:r,isAnimating:_,contentPosition:h}=e,f=function(e){var t,n,i;let a=(null===(t=e.userStatus)||void 0===t?void 0:t.enrolledAt)!=null,s=(null===(n=e.userStatus)||void 0===n?void 0:n.completedAt)!=null,l=(null===(i=e.userStatus)||void 0===i?void 0:i.claimedAt)!=null,r=(0,N.Rf)({quest:e,location:L.dr.QUESTS_CARD}).percentComplete>0;if(l)return 4;if(s)return 3;if(r)return 2;else if(a)return 1;else return 0}(t),g=f>=1,x=f>=3,O=f>=4,D=(0,C.Xv)(t.config),y=(0,M.uq)(n),k=n===p.jn.QUESTS_EMBED,G=r||_,{xboxAndPlaystationAccounts:F}=(0,N.z6)(),w=(0,N.t5)(t,L.dr.QUESTS_CARD,n),V=g&&!O&&y,H=F.length>0,Y=(0,c.e7)([E.default],()=>E.default.locale),W=y&&D,z=l&&!x,K=(0,s.jsx)(R.Z,{autoplay:a,className:o()(b.gridImg,{[b.questRewardGiftInventory]:y&&"lg"===i,[b.questRewardEmbed]:k&&"lg"===i,[b.questRewardEmbedSm]:"sm"===i,[b.questRewardEmbedXs]:"xs"===i}),learnMoreStyle:y?null:"text",quest:t,questContent:n,questContentPosition:h});return(0,s.jsxs)("div",{className:o()(b.outerContainer,{[b.outerContainerSm]:"sm"===i,[b.outerContainerXs]:"xs"===i,[b.outerContainerNoProgress]:!V}),style:{visibility:G?"visible":"hidden"},"aria-hidden":!G,children:[(0,s.jsx)(d.Tooltip,{text:z?P.Z.Messages.QUESTS_REWARD_TILE_EXPIRED_QUEST:null,tooltipContentClassName:b.rewardTileExpirationTooltip,shouldShow:z,children:e=>(0,s.jsxs)("div",{className:b.rewardTileWrapper,...e,children:[l&&(0,s.jsx)("div",{className:b.rewardTileExpired,children:(0,s.jsx)(d.CircleExclamationPointIcon,{color:d.tokens.colors.WHITE})}),W?(0,s.jsx)(v.Z,{questConfig:t.config,fallback:K,isFocused:a}):K]})}),(0,s.jsxs)("div",{className:o()(b.gridText,b.taskDetails),children:[(0,s.jsx)(d.Text,{variant:j(n,i,g),className:b.taskInstructions,children:l?P.Z.Messages.QUESTS_EXPIRED_QUEST_CARD_HEADING.format({questName:t.config.messages.questName}):w}),(0,s.jsx)(d.Text,{variant:"lg"===i?"text-sm/medium":"text-xs/medium",color:"text-muted",children:function(e){var t,n,i,a,s,l,r;let{quest:o,location:c,locale:d,isQuestExpired:_,hasConsoleConnection:E}=e,T=(null===(t=o.userStatus)||void 0===t?void 0:t.enrolledAt)!=null,h=(null===(n=o.userStatus)||void 0===n?void 0:n.completedAt)!=null,f=h&&(null===(i=o.userStatus)||void 0===i?void 0:i.claimedAt)!=null,p=(0,C.zK)(o,L.S7.IN_HOUSE_CONSOLE_QUEST),g=(0,C.zK)(o,L.S7.MOBILE_CONSOLE_QUEST),A=(0,M.uq)(c),R=(0,N.B6)(null===(a=o.userStatus)||void 0===a?void 0:a.completedAt,{year:"numeric",month:"long",day:"numeric"}),x=(0,C.oo)({quest:o}),O=S.r.build(o.config).defaultReward.messages.nameWithArticle,v=(0,C.Kr)(o.config);if(h&&p&&A)return P.Z.Messages.QUEST_REWARD_COMPLETED_UNCLAIMED.format({date:R});if(f){let e=x?(0,C.o9)({quest:o,idx:null===(s=o.userStatus)||void 0===s?void 0:s.claimedTier}):null,t=null!==(l=null==e?void 0:e.messages.nameWithArticle)&&void 0!==l?l:null;return null!=t?P.Z.Messages.QUEST_REWARD_COMPLETED_CLAIMED.format({reward:t,date:R}):P.Z.Messages.QUEST_REWARD_COMPLETED.format({reward:O,date:R})}if(h)return x?P.Z.Messages.QUEST_REWARD_COMPLETED_UNCLAIMED.format({date:R}):P.Z.Messages.QUEST_REWARD_COMPLETED.format({reward:O,date:R});let b=x?(0,C.o9)({quest:o,idx:0}):null;return _?P.Z.Messages.QUESTS_EXPIRED_QUEST_CARD_SUBHEADING.format({reward:null!==(r=null==b?void 0:b.messages.nameWithArticle)&&void 0!==r?r:O}):A&&!T&&!E&&g?null!=v?P.Z.Messages.QUEST_REWARD_MULTIPLATFORM_WITH_EXPIRING_COLLECTIBLE_REWARD.format({gameTitle:o.config.messages.gameTitle,reward:O,streamingDurationRequirement:(0,C.il)({quest:o,location:L.dr.QUESTS_CARD}).targetMinutes,onClick:()=>{u.Z.open(Z.oAB.CONNECTIONS)},duration:v}):P.Z.Messages.QUEST_REWARD_MULTIPLATFORM.format({gameTitle:o.config.messages.gameTitle,reward:O,streamingDurationRequirement:(0,C.il)({quest:o,location:L.dr.QUESTS_CARD}).targetMinutes,onClick:()=>{u.Z.open(Z.oAB.CONNECTIONS)}}):null!=b&&null!=b.approximateCount?P.Z.Messages.QUEST_REWARD_TIERED.format({maxReward:b.messages.nameWithArticle,maxRewardCount:(0,m.Bs)(b.approximateCount,d),helpCenterLink:I.Z.getArticleURL(Z.BhN.QUESTS_LEARN_MORE)}):null!=v?P.Z.Messages.QUEST_REWARD_WITH_EXPIRATION.format({reward:O,duration:v}):P.Z.Messages.QUEST_REWARD.format({reward:O})}({quest:t,location:n,locale:Y,isQuestExpired:l,hasConsoleConnection:H})})]}),(0,s.jsxs)("div",{className:o()(b.ctaButtonContainer,b.gridCtaButtons),children:[!y&&(0,s.jsx)(U,{containerSize:i,onClick:()=>{u.Z.open(Z.oAB.INVENTORY),(0,T._3)({questId:t.id,questContent:n,questContentPosition:h,questContentCTA:T.jZ.LEARN_MORE})},children:P.Z.Messages.QUESTS_LEARN_MORE_V2}),l&&!x?null:(0,s.jsx)(B,{quest:t,progressState:f,isCollectibleQuest:D,location:n,inGiftInventory:y})]}),V&&(0,s.jsx)(A.Z,{className:b.gridProgressBar,color:x?d.tokens.colors.TEXT_POSITIVE:d.tokens.colors.BG_BRAND,quest:t,isInventory:y})]})}},206044:function(e,t,n){n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(920906),o=n(722770),c=n(442837),d=n(846519),u=n(481060),_=n(393238),E=n(607070),I=n(210887),m=n(810090),T=n(572004),h=n(617136),N=n(113434),f=n(497505),p=n(918701),C=n(566078),g=n(685613),S=n(611855),A=n(644646),R=n(670638),x=n(87894),O=n(46140),M=n(689938),v=n(491829);let L=(0,r.animated)(u.ChevronSmallDownIcon),Z=(0,r.animated)(m.Z),P=e=>{let{quest:t,location:n,questContentPosition:s,...l}=e,[r,o]=a.useState(!1),c=a.useRef(new d.V7);a.useEffect(()=>{let e=c.current;return function(){e.stop()}},[]);let _=()=>{(0,h._3)({questId:t.id,questContent:n,questContentCTA:h.jZ.COPY_QUEST_URL,questContentPosition:s}),(0,T.JG)((0,p.Rs)(t.id)),o(!0),c.current.start(1e3,()=>o(!1))};return(0,i.jsx)(u.Tooltip,{forceOpen:r,shouldShow:r,color:u.Tooltip.Colors.GREEN,text:M.Z.Messages.COPY_SUCCESS_1,children:()=>(0,i.jsx)(u.Button,{...l,className:v.shareButton,color:u.Button.Colors.PRIMARY,size:u.Button.Sizes.SMALL,onClick:_,children:M.Z.Messages.QUESTS_SHARE_QUEST})})};t.Z=e=>{var t;let{isFocused:n,isQuestExpired:s,quest:d,location:m,size:T,expansionSpring:b,isAnimating:D,isExpanded:j,isInConcurrentQuestExperiment:U,contentPosition:y,toggleExpanded:B}=e,{ref:k,height:G}=(0,_.Z)(),{ref:F,width:w,scrollWidth:V}=(0,_.Z)(),H=(0,c.e7)([I.Z],()=>I.Z.getState().theme),Y=(0,c.e7)([E.Z],()=>E.Z.useReducedMotion),W=a.useMemo(()=>(0,p.nP)(d.config.assets.hero),[d]),z=a.useRef(null),K=(0,x.uq)(m),Q=m===f.jn.QUESTS_EMBED,q=(0,N.t5)(d,O.dr.QUESTS_CARD,m),X=(null===(t=d.userStatus)||void 0===t?void 0:t.completedAt)!=null,J=(0,N.B6)(d.config.expiresAt,{year:"numeric",month:"long",day:"numeric"}),$=(0,N.B6)(C.r.build(d.config).rewardsExpireAt,{year:"numeric",month:"long",day:"numeric"}),ee=e=>{e.stopPropagation(),e.currentTarget.blur(),B(),(0,h._3)({questId:d.id,questContent:m,questContentCTA:j?h.jZ.COLLAPSE:h.jZ.EXPAND,questContentPosition:y})};a.useEffect(()=>{W&&null!=z.current&&(n?z.current.play():!n&&(z.current.pause(),z.current.currentTime=0))},[n,W]);let et=(0,p.j8)(d);return(0,i.jsxs)("div",{className:l()(v.outerContainer,{[v.outerContainerGiftInventory]:K,[v.outerContainerEmbed]:Q,[v.outerContainerXs]:"xs"===T}),"aria-label":M.Z.Messages.EXPAND,style:{height:K?G:void 0},children:[(0,i.jsx)(Z,{style:{opacity:b.to({range:[0,1],output:[.25,1]})},autoPlay:!1,loop:!1,muted:!0,playsInline:!0,className:v.questSplash,controls:!1,poster:et,ref:z,children:!Y&&W&&(0,i.jsx)("source",{src:et,type:(0,p.mN)(et)})}),(0,i.jsxs)("div",{className:v.header,"aria-expanded":j,children:[(0,i.jsxs)(r.animated.div,{className:l()(v.headerContent,{[v.headerContentEmbed]:Q}),style:{y:K?b.to({range:[0,1],output:[x.DJ,0]}):void 0},children:[K&&(0,i.jsx)(r.animated.div,{className:v.headerCollapsedContent,style:{opacity:b.to({range:[0,1],output:[1,0]}),visibility:D||!j?"visible":"hidden"},"aria-hidden":!D&&j,children:(0,i.jsxs)(u.ClickableContainer,{"aria-label":M.Z.Messages.EXPAND,onClick:ee,className:v.headerCollapsedClickableContainer,children:[(0,i.jsx)("div",{className:v.headerCollapsedContentRewardWrapper,children:(0,i.jsx)(A.Z,{quest:d,questContent:m,className:v.headerCollapsedRewardTile})}),(0,i.jsxs)("div",{className:v.headerCollapsedContentCopyWrapper,children:[(0,i.jsxs)("div",{className:v.headerCollapsedContentCopyLogos,children:[(0,i.jsx)(g.Z,{className:v.partnerBranding,gameTileSize:g.f.MEDIUM,quest:d,theme:H}),(0,i.jsx)(S.Z,{color:"always-white"})]}),(0,i.jsx)(u.Text,{variant:"text-xs/medium",children:q})]})]})}),(0,i.jsxs)(r.animated.div,{ref:e=>{k.current=e},className:l()(v.headerExpandedContent,{[v.outerContainerGiftInventory]:K,[v.outerContainerEmbed]:Q}),style:{opacity:b.to({range:[0,1],output:[0,1]}),visibility:D||j?"visible":"hidden"},"aria-hidden":!D&&!j,children:[(0,i.jsxs)("div",{className:v.headerExpandedWrapper,children:[(0,i.jsxs)("div",{className:v.iconLogotypeContainer,children:[(0,i.jsx)(g.Z,{className:v.partnerBranding,gameTileSize:g.f.MEDIUM,quest:d,theme:H}),Q?null:(0,i.jsx)(S.Z,{color:"always-white"})]}),(0,i.jsxs)("div",{className:v.questInfo,children:[(0,i.jsx)(u.Tooltip,{text:d.config.messages.questName,shouldShow:null!=w&&null!=V&&w<V,children:e=>(0,i.jsx)(u.Heading,{ref:F,variant:"lg"===T?"heading-xxl/bold":"sm"===T?"heading-xl/bold":"heading-lg/bold",className:v.heading,...e,children:M.Z.Messages.QUEST.format({questName:d.config.messages.questName})})}),(0,i.jsx)(u.Text,{variant:"text-xs/normal",children:X?M.Z.Messages.QUESTS_CLAIM_BY_DATE.format({expirationDate:$}):s?M.Z.Messages.QUESTS_EXPIRED_ON.format({expirationDate:J}):M.Z.Messages.QUESTS_AVAILABLE_UNTIL_DATE.format({expirationDate:J})})]})]}),!s&&K&&(0,i.jsx)(P,{quest:d,location:m,questContentPosition:y})]})]}),(0,i.jsxs)(r.animated.div,{className:v.iconsContainer,style:{top:K?b.to({range:[0,1],output:[x.DJ/2-x.Z$/2,x.jc]}):x.jc},children:[(0,i.jsx)(R.r,{questContent:m,quest:d,questContentPosition:y,shouldShowDisclosure:!0,hideLearnMore:K,showShareLink:!s&&Q,children:e=>(0,i.jsx)(r.animated.div,{style:{opacity:b,visibility:D||j?"visible":"hidden"},"aria-hidden":!D&&!j,children:(0,i.jsx)(u.Clickable,{...e,className:v.iconWrapper,"aria-label":M.Z.Messages.ACTIONS,children:(0,i.jsx)(u.MoreHorizontalIcon,{size:"md",color:o.Z.WHITE})})})}),U&&!(0,x.W_)(m)&&(0,i.jsx)(u.Clickable,{onClick:ee,className:v.iconWrapper,"aria-label":j?M.Z.Messages.COLLAPSE:M.Z.Messages.EXPAND,children:(0,i.jsx)(L,{style:{rotate:b.to({range:[0,1],output:[0,180]})},color:o.Z.WHITE})})]})]})]})}},266843:function(e,t,n){n.d(t,{O:function(){return d},h:function(){return c}}),n(47120);var i=n(470079),a=n(920906),s=n(442837),l=n(393238),r=n(607070),o=n(87894);function c(e){let t=i.useRef(null),[n,a]=i.useState("lg"),[s,r]=i.useState(void 0);return(0,l.P)(t,e=>{let{width:t,scrollHeight:n}=e;return(r(n),null==t||t>o.j2)?a("lg"):t>o.Z0?a("sm"):a("xs")},null!=e?e:[]),{containerRef:t,size:n,height:s}}function d(e){let{initiallyExpanded:t}=e,[n,l]=i.useState(t),[o,c]=i.useState(!1),d=(0,s.e7)([r.Z],()=>r.Z.useReducedMotion),u=i.useCallback(()=>{l(e=>!e),c(!0)},[]),{expansionSpring:_}=(0,a.useSpring)({expansionSpring:n?1:0,config:{tension:450,friction:45},immediate:d,onRest:()=>c(!1)});return{expansionSpring:_,isAnimating:o,isExpanded:n,toggleExpanded:u}}},2660:function(e,t,n){var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(204418),r=n(594174),o=n(113434),c=n(182294),d=n(227258);t.Z=e=>{let{questConfig:t,fallback:n,isFocused:u}=e,_=(0,a.e7)([r.default],()=>r.default.getCurrentUser()),{avatarDecoration:E,isFetching:I}=(0,o.DU)(t);return I?(0,i.jsx)("div",{className:d.questsCollectibleReward,children:(0,i.jsx)(s.Spinner,{})}):null==_||null==E?n:(0,i.jsx)("div",{className:d.questsCollectibleReward,children:(0,i.jsx)(l.Z,{avatarSize:c.EF.SIZE_56,user:_,guildId:null,avatarDecorationOverride:E,animateOnHover:!u})})}},134483:function(e,t,n){n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(442837),o=n(780384),c=n(481060),d=n(230711),u=n(358221),_=n(594190),E=n(687516),I=n(210887),m=n(937995),T=n(158776),h=n(594174),N=n(617136),f=n(272008),p=n(113434),C=n(569984),g=n(497505),S=n(918701),A=n(242755),R=n(5881),x=n(566078),O=n(602667),M=n(340100),v=n(611855),L=n(644646),Z=n(670638),P=n(667105),b=n(860151),D=n(46140),j=n(981631),U=n(354459),y=n(689938),B=n(703201);t.Z=function(e){var t,n,s;let{channelId:k,previewQuest:G,isParticipatingOverride:F}=e,[w,V]=a.useState(!1),H=a.useCallback(()=>V(!0),[]),Y=a.useCallback(()=>V(!1),[]),W=a.useContext(m.h9),z=(0,r.e7)([h.default],()=>h.default.getCurrentUser()),K=(0,r.e7)([I.Z],()=>I.Z.getState().theme),Q=(0,o.wj)(K)?j.BRd.DARK:j.BRd.LIGHT,{isCurrentUserStreamingQuestApplication:q,quest:X}=(0,r.cj)([T.Z,u.Z,C.Z],()=>{let e=u.Z.getParticipants(k),t=null!=G?G:function(e,t,n){for(let s of e){var i,a;if(s.type===U.fO.STREAM){let e=(0,E.L2)(s.stream,n),a=(null==e?void 0:e.id)!=null?(0,S.lQ)(t,e.id):null;if(null!=a&&(null===(i=a.userStatus)||void 0===i?void 0:i.claimedAt)==null)return a}if((0,A.J)({location:D.dr.QUEST_CHANNEL_CALL_HEADER}))for(let i of e){if(!(0,U.I)(i))for(let e of n.getActivities(i.user.id)){if(null==e.application_id)continue;let n=(0,S.CE)(t,e.application_id);if(null!=n&&(null===(a=n.userStatus)||void 0===a?void 0:a.claimedAt)==null)return n}}}return null}(e,C.Z.quests,T.Z);return{isCurrentUserStreamingQuestApplication:null!=t&&null!=z&&function(e,t,n,i){for(let s of e){var a;if(s.type===U.fO.STREAM&&s.user.id===n.id&&x.r.build(t.config).application.id===(null===(a=(0,E.L2)(s.stream,i))||void 0===a?void 0:a.id))return!0}return!1}(e,t,z,T.Z),quest:t}},[k,z,G]),J=null!=X?x.r.build(X.config):null,$=null==J?void 0:J.application.id,ee=(0,r.cj)([_.ZP],()=>{let e=_.ZP.getRunningGames().map(e=>e.id);return(0,S.$H)({quest:X,location:D.dr.QUEST_CHANNEL_CALL_HEADER})&&e.includes($)},[X,$]),et=!0===F||q||ee,en=(0,r.e7)([C.Z],()=>null!=X&&C.Z.isEnrolling(X.id),[X]),ei=(0,r.e7)([u.Z],()=>((null==z?void 0:z.id)==null?null:u.Z.getParticipant(k,z.id))!=null,[k,z]),ea=(0,p.B6)(null==X?void 0:X.config.expiresAt),es=(0,p.B6)(null==J?void 0:J.rewardsExpireAt),el=a.useCallback(()=>{null!=X&&(0,f.AH)(X.id,{questContent:g.jn.QUEST_LIVE_STREAM,questContentCTA:N.jZ.ACCEPT_QUEST})},[X]),er=a.useCallback(()=>{null!=X&&((0,N._3)({questId:X.id,questContent:g.jn.QUEST_LIVE_STREAM,questContentCTA:N.jZ.TRACK_PROGRESS}),d.Z.open(j.oAB.INVENTORY))},[X]),eo=a.useCallback(()=>{null!=X&&((0,N._3)({questId:X.id,questContent:g.jn.QUEST_LIVE_STREAM,questContentCTA:N.jZ.LEARN_MORE}),d.Z.open(j.oAB.INVENTORY))},[X]),ec=(0,P.hf)({quest:X,location:g.jn.QUEST_LIVE_STREAM}),ed=a.useMemo(()=>(0,R.T)({quest:X,location:D.dr.QUEST_CHANNEL_CALL_HEADER}),[X]),eu=(0,p.tP)(X);if(null==X||!(0,S.dl)(X))return null;let e_=(null===(t=X.userStatus)||void 0===t?void 0:t.enrolledAt)!=null,eE=(null===(n=X.userStatus)||void 0===n?void 0:n.completedAt)!=null,eI=null!=X.userStatus&&(0,S.zE)(X.userStatus,g.jn.QUEST_LIVE_STREAM),em=null!=X.userStatus&&(0,S.zE)(X.userStatus,g.jn.QUEST_BAR),eT=(0,S.Mi)(X,g.jn.QUEST_BAR)&&!em;ed.info({isQuestCallHeaderDismissed:eI,isQuestExpired:eu,isQuestBarShowing:eT,isCurrentUserCallParticipant:ei});let eh=null!=G&&(null===(s=X.userStatus)||void 0===s?void 0:s.claimedAt)==null;if(!eh&&(eI||eu||eT)||!eh&&!ei)return null;let eN=(0,S.il)({quest:X,location:D.dr.QUEST_CHANNEL_CALL_HEADER}),ef=(0,i.jsx)(L.Z,{className:B.rewardTile,autoplay:w,quest:X,questContent:g.jn.QUEST_LIVE_STREAM});return(0,i.jsx)(O.A,{questOrQuests:X,overrideVisibility:!W,questContent:g.jn.QUEST_LIVE_STREAM,children:()=>{var e;return(0,i.jsxs)("div",{className:l()(B.wrapper,{[B.wrapperAccepted]:e_}),onFocus:H,onMouseEnter:H,onBlur:Y,onMouseLeave:Y,children:[!e_&&(0,i.jsxs)("div",{className:B.rewardTileWrapper,children:[ef,(0,i.jsx)(v.Z,{bgOpacity:.32,className:B.promotedTag})]}),(0,i.jsxs)("div",{className:B.content,children:[(0,i.jsxs)("div",{className:B.heading,children:[e_&&et?ef:(0,i.jsx)("img",{className:B.gameTile,alt:X.config.messages.gameTitle,src:(0,S.uo)(X,Q)}),(0,i.jsxs)("div",{className:B.__invalid_details,children:[(0,i.jsxs)("div",{className:B.headingWithSubmenu,children:[(0,i.jsx)(c.Heading,{className:B.questTitle,variant:"heading-md/semibold",color:"header-primary",children:et?(0,S.AV)({quest:X,taskDetails:eN}):y.Z.Messages.QUESTS_TITLE.format({questName:X.config.messages.questName})}),(0,i.jsx)(Z.r,{questContent:g.jn.QUEST_LIVE_STREAM,quest:X,preventIdle:!0,shouldShowDisclosure:(null===(e=X.userStatus)||void 0===e?void 0:e.enrolledAt)==null,children:e=>(0,i.jsx)(c.Clickable,{...e,className:B.submenuWrapper,"aria-label":y.Z.Messages.ACTIONS,children:(0,i.jsx)(c.MoreHorizontalIcon,{size:"md",color:"currentColor",className:B.submenuIcon})})})]}),(0,i.jsx)(c.Text,{color:"header-secondary",variant:"text-xs/medium",children:eE?y.Z.Messages.QUESTS_CLAIM_BY_DATE.format({expirationDate:es}):y.Z.Messages.QUESTS_AVAILABLE_UNTIL_DATE.format({expirationDate:ea})})]})]}),e_&&!eE&&!et&&(0,i.jsx)(b.Z,{autoplay:w,quest:X,questContent:g.jn.QUEST_LIVE_STREAM,questExperimentLocation:D.dr.QUEST_CHANNEL_CALL_HEADER}),(0,i.jsxs)("div",{className:B.ctas,children:[!e_&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Button,{className:B.cta,color:c.Button.Colors.PRIMARY,fullWidth:!0,size:c.Button.Sizes.SMALL,onClick:eo,children:y.Z.Messages.QUESTS_LEARN_MORE_V2}),(0,i.jsx)(c.Button,{className:B.cta,color:c.Button.Colors.BRAND,fullWidth:!0,onClick:el,size:c.Button.Sizes.SMALL,submitting:en,children:y.Z.Messages.QUESTS_ACCEPT_QUEST})]}),e_&&!eE&&et&&(0,i.jsx)(M.Z,{color:c.tokens.colors.BG_BRAND,quest:X}),e_&&!eE&&!et&&(0,i.jsx)(c.Button,{className:B.cta,color:c.Button.Colors.BRAND,fullWidth:!0,onClick:er,size:c.Button.Sizes.SMALL,children:y.Z.Messages.QUESTS_CHECK_PROGRESS}),eE&&(0,i.jsx)(c.Button,{className:B.cta,color:c.Button.Colors.BRAND,fullWidth:!0,onClick:ec,size:c.Button.Sizes.SMALL,children:y.Z.Messages.QUESTS_CLAIM_REWARD})]})]})]})}})}},683650:function(e,t,n){n.d(t,{o:function(){return I}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(481060),r=n(230711),o=n(266843),c=n(981631),d=n(689938),u=n(342101),_=n(87181);function E(){return(0,i.jsx)("div",{className:u.buttonContainer,children:(0,i.jsx)(l.Button,{className:u.button,color:l.ButtonColors.BRAND,onClick:()=>{r.Z.open(c.oAB.INVENTORY)},children:d.Z.Messages.GIFT_INVENTORY})})}function I(){let{containerRef:e,size:t}=(0,o.h)();return(0,i.jsxs)("div",{ref:t=>e.current=t,className:s()(u.container,{[u.wide]:"lg"===t,[u.tall]:"lg"!==t}),children:[(0,i.jsxs)("div",{className:u.contentContainer,children:[(0,i.jsx)(l.Heading,{variant:"lg"===t?"heading-xl/bold":"heading-lg/bold",color:"header-primary",children:d.Z.Messages.QUESTS_EMBED_INVALID_HEADING}),(0,i.jsx)(l.Text,{variant:"lg"===t?"text-sm/medium":"text-xs/medium",color:"text-normal",className:u.__invalid_mobileWebCopy,children:d.Z.Messages.QUESTS_EMBED_INVALID_BODY_2}),(0,i.jsx)(E,{})]}),(0,i.jsx)("div",{className:u.imgContainer,children:(0,i.jsx)("img",{src:_,alt:"",className:u.missingQuestImage})})]})}},265299:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(481060),s=n(113434),l=n(497505),r=n(37303),o=n(683650),c=n(59685);function d(e){let{questId:t}=e,{quests:n,isFetchingCurrentQuests:d}=(0,s.J2)({fetchPolicy:"cache-or-network"}),u=n.find(e=>e.id===t);return d?(0,i.jsx)(a.Spinner,{className:c.spinner}):null==u?(0,i.jsx)(o.o,{}):(0,i.jsx)(r.Z,{quest:u,location:l.jn.QUESTS_EMBED},u.id)}},860151:function(e,t,n){var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(481060),r=n(918701),o=n(644646),c=n(118393);t.Z=function(e){let{className:t,autoplay:n,quest:a,questContent:d,questExperimentLocation:u}=e,_=(0,r.pG)({quest:a,location:u});return(0,i.jsxs)("div",{className:s()(c.wrapper,t),style:{color:a.config.colors.primary},children:[(0,i.jsx)(o.Z,{autoplay:n,className:c.rewardTile,quest:a,questContent:d}),(0,i.jsx)(l.Text,{className:c.instructions,variant:"text-sm/normal",color:"text-normal",children:_})]})}},455199:function(e,t,n){n(733860),n(653041);var i,a,s,l,r=n(392711),o=n.n(r),c=n(442837),d=n(433517),u=n(379649),_=n(570140),E=n(786761),I=n(572804),m=n(901461),T=n(814082),h=n(23750),N=n(314897),f=n(592125),p=n(375954),C=n(306680),g=n(699516),S=n(914010),A=n(9156),R=n(594174),x=n(981631);let O="recentMentionFilterSettings",M=[],v={},L=!1,Z=!0,P=d.K.get(O,{guildFilter:x.NgX.ALL_SERVERS,everyoneFilter:!0,roleFilter:!0}),b=!1,D=0,j=!1,U=!1;function y(e){if(e instanceof h.ZP)return e;let t=p.Z.getMessage(e.channel_id,e.id);return null!=t?t:(0,E.e5)(e)}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,m.Z)(e)&&!x.V$x.SELF_MENTIONABLE_SYSTEM.has(e.type))return null;null==t&&(t=e.channel_id);let n=f.Z.getChannel(t);if(null==n||n.type===x.d4z.DM||P.guildFilter===x.NgX.THIS_SERVER&&n.getGuildId()!==S.Z.getGuildId())return null;let i=N.default.getId();if(g.Z.isBlockedForMessage(e)||(0,T.Z)(e,i))return null;e=y(e);let a=!P.everyoneFilter,s=!P.roleFilter;return(0,I.ZP)({message:e,userId:i,suppressEveryone:a,suppressRoles:s})?(U&&C.ZP.ackMessageId(n.id)!==e.id&&(0,I.ZP)({message:e,userId:i,suppressEveryone:A.ZP.isSuppressEveryoneEnabled(n.getGuildId()),suppressRoles:A.ZP.isSuppressRolesEnabled(n.getGuildId())})&&(U=!1),e):null}function k(e){if(null==v[e])return!1;delete v[e],M=o().filter(M,t=>{let{id:n}=t;return n!==e})}function G(e){let{id:t}=e;return k(t)}function F(e){let t={...P};P=o().defaults(o().pick(e,["guildFilter","roleFilter","everyoneFilter"]),P),d.K.set(O,P);let n=(e,n)=>t[e]!==P[e]&&P[e]===n,i=n("guildFilter",x.NgX.THIS_SERVER)||n("everyoneFilter",!1)||n("roleFilter",!1);v={};let a=[];i&&M.forEach(e=>{let t=B(e);null!=t&&(a.push(t),v[t.id]=!0)}),0===(M=a).length&&(b=!1)}function w(){M=[],v={},b=!1,U=!1}function V(){M=M.filter(e=>!g.Z.isBlockedForMessage(e))}function H(e){let{channel:t}=e;M=o().filter(M,e=>e.channel_id!==t.id||(delete v[e.id],!1))}class Y extends(i=c.ZP.Store){initialize(){this.waitFor(R.default,f.Z,p.Z,C.ZP)}isOpen(){return j}get hasLoadedEver(){return b}get lastLoaded(){return D}getMentions(){return b||M.length>0?M:null}hasMention(e){return v[e]}get loading(){return L}get hasMore(){return Z}get guildFilter(){return P.guildFilter}get everyoneFilter(){return P.everyoneFilter}get roleFilter(){return P.roleFilter}get mentionsAreStale(){return U}}l="RecentMentionsStore",(s="displayName")in(a=Y)?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,t.Z=new Y(_.Z,{LOAD_RECENT_MENTIONS:function(e){let{guildId:t}=e;L=!0,null==t&&P.guildFilter===x.NgX.THIS_SERVER&&F({guildFilter:x.NgX.ALL_SERVERS})},LOAD_RECENT_MENTIONS_SUCCESS:function(e){let{hasMoreAfter:t,messages:n,isAfter:i}=e,a=o().map(n,y);i?M=M.concat(a):(M=a,v={}),o().forEach(a,e=>{v[e.id]=!0}),L=!1,Z=t,D=(0,u.zO)(),b=!0},LOAD_RECENT_MENTIONS_FAILURE:function(){L=!1},SET_RECENT_MENTIONS_FILTER:F,CLEAR_MENTIONS:function(e){w()},TRUNCATE_MENTIONS:function(e){let{size:t}=e;for(let e=t;e<M.length;++e)delete v[M[e].id];let n=M.length;n>(M=M.slice(0,t)).length&&(Z=!0)},CHANNEL_SELECT:function(){if(P.guildFilter!==x.NgX.THIS_SERVER)return!1;b=!1},CONNECTION_OPEN:w,GUILD_DELETE:function(e){let{guild:t}=e;M=o().filter(M,e=>{let n=f.Z.getChannel(e.channel_id);return null!=n&&n.getGuildId()!==t.id||(delete v[e.id],!1)})},MESSAGE_CREATE:function(e){let{channelId:t,message:n}=e,i=R.default.getCurrentUser();if(null==i||!(0,I.Hl)({rawMessage:n,userId:i.id,suppressRoles:!1,suppressEveryone:!1}))return!1;let a=B(n,t);if(null==a)return!1;(M=M.slice()).unshift(a),v[a.id]=!0},MESSAGE_UPDATE:function(e){let t=e.message.id;if(null==v[String(t)])return!1;let n=o().findIndex(M,e=>{let{id:n}=e;return n===t}),i=(M=M.slice())[n];null!=i&&(M[n]=(0,E.wi)(i,e.message))},MESSAGE_DELETE:G,RECENT_MENTION_DELETE:G,MESSAGE_DELETE_BULK:function(e){let{ids:t}=e;o().forEach(t,k)},CHANNEL_DELETE:H,THREAD_DELETE:H,RELATIONSHIP_ADD:V,RELATIONSHIP_REMOVE:V,MENTION_MODAL_OPEN:function(){j=!0},MENTION_MODAL_CLOSE:function(){j=!1},SET_RECENT_MENTIONS_STALE:function(e){U=!0}})},288552:function(e,t,n){n.d(t,{a:function(){return l}});var i=n(735250);n(470079);var a=n(481060),s=n(135172);let l=e=>{let{text:t,icon:n,onClick:l}=e;return(0,i.jsxs)(a.Button,{className:s.button,innerClassName:s.buttonInner,onClick:l,children:[(0,i.jsx)(n,{color:"currentColor"}),(0,i.jsx)(a.Text,{variant:"text-md/semibold",color:"none",children:t})]})}},153209:function(e,t,n){n.d(t,{Z:function(){return C}}),n(47120);var i=n(735250),a=n(470079),s=n(442837),l=n(524437),r=n(481060),o=n(140155),c=n(497089),d=n(178480),u=n(11799),_=n(632523),E=n(695346),I=n(626135),m=n(709054),T=n(791914),h=n(981631),N=n(689938),f=n(297783);function p(e){let{onClick:t}=e;return(0,i.jsx)(r.CircleIconButton,{tooltip:N.Z.Messages.MARK_ALL_AS_READ,color:r.CircleIconButtonColors.SECONDARY,icon:(0,i.jsx)(r.DoubleCheckmarkLargeIcon,{size:"xs",color:"currentColor"}),onClick:t})}function C(e){let{setTab:t,badgeState:n,closePopout:r}=e,{initialized:N,items:C,loading:g,loadMore:S}=(0,u.y6)(),A=(0,s.e7)([o.Z],()=>o.Z.localItems),R=a.useMemo(()=>[...[...C,...A].sort((e,t)=>-1*m.default.compare(e.id,t.id))],[C,A]),x=C.length>0?C[0]:null,O=E.d$.useSetting(),M=a.useMemo(()=>{if(null!=x&&0>=m.default.compare(x.id,O))return!1;for(let e of R){if(0>=m.default.compare(e.id,O))break;if(!(0,d.r)(e,O))return!0}return!1},[x,O,R]);return(0,i.jsxs)("div",{className:f.container,children:[(0,i.jsx)(T.Z,{tab:l.X.FOR_YOU,setTab:t,badgeState:n,closePopout:r,children:M?(0,i.jsx)(p,{onClick:()=>{null!=x&&(E.d$.updateSetting(x.id),I.default.track(h.rMx.NOTIFICATION_CENTER_ACTION,{action_type:c.ud.MARK_ALL_READ}))}}):null}),(0,i.jsx)(_.Z,{initialized:N,items:R,loading:g,loadMore:S})]})}},818186:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(758059),r=n(377171),o=n(497089),c=n(703656),d=n(699516),u=n(626135),_=n(981631),E=n(689938),I=n(566832);function m(e){let{closePopout:t}=e,n=(0,a.e7)([d.Z],()=>d.Z.getPendingCount());return(0,i.jsx)(s.TooltipContainer,{text:E.Z.Messages.VIEW_FRIEND_REQUESTS,children:(0,i.jsxs)(s.Clickable,{className:I.friendRequestsButton,onClick:()=>{u.default.track(_.rMx.NOTIFICATION_CENTER_ACTION,{action_type:o.ud.FRIEND_REQUESTS_BUTTON_CLICK}),(0,c.uL)(_.Z5c.FRIENDS),l.Z.setSection(_.pJs.PENDING),t()},children:[(0,i.jsx)(s.FriendsIcon,{size:"xs",color:"currentColor"}),(0,i.jsx)(s.NumberBadge,{count:n,color:r.Z.BACKGROUND_ACCENT})]})})}},655354:function(e,t,n){n.d(t,{Z:function(){return d}}),n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(481060),o=n(689938),c=n(554050);function d(e){let{className:t,onJump:n}=e,[s,d]=a.useState(!1);return(0,i.jsx)(r.Clickable,{className:l()(c.jumpButton,t),onClick:e=>{d(!0),n(e)},children:s?(0,i.jsx)(r.Spinner,{type:r.Spinner.Type.PULSING_ELLIPSIS}):(0,i.jsx)(r.Text,{variant:"text-xs/normal",className:c.text,children:o.Z.Messages.JUMP})})}},143316:function(e,t,n){n.d(t,{Z:function(){return u}}),n(47120);var i=n(735250),a=n(470079),s=n(481060),l=n(360629),r=n(626135),o=n(288552),c=n(981631),d=n(689938);function u(e){let{type:t,onClick:n}=e,[u,E]=a.useState(!1),I=(0,l.sv)(),m=()=>{n(),r.default.track(c.rMx.INBOX_CHANNEL_ACKED,{marked_all_channels_as_read:!0,num_unread_channels_remaining:0})},T=e=>{e.shiftKey?m():E(!0)};return(0,i.jsxs)(i.Fragment,{children:[u?(0,i.jsx)(_,{confirm:m,cancel:()=>E(!1)}):null,"bottom-floating"===t?(0,i.jsx)(o.a,{text:d.Z.Messages.MARK_ALL_AS_READ,icon:s.DoubleCheckmarkLargeIcon,onClick:T}):(0,i.jsx)(s.CircleIconButton,{tooltip:I?d.Z.Messages.MARK_ALL_AS_READ:d.Z.Messages.UNREADS_MARK_READ,color:s.CircleIconButtonColors.SECONDARY,icon:(0,i.jsx)(s.DoubleCheckmarkLargeIcon,{size:"xs",color:"currentColor"}),onClick:T})]})}function _(e){let{cancel:t,confirm:n}=e;return(0,i.jsx)(s.DeclarativeConfirmModal,{dismissable:!0,header:d.Z.Messages.UNREADS_CONFIRM_MARK_ALL_READ_HEADER,confirmText:d.Z.Messages.MARK_AS_READ,cancelText:d.Z.Messages.CANCEL,confirmButtonColor:s.Button.Colors.BRAND,onCancel:t,onConfirm:n,children:(0,i.jsx)(s.Text,{color:"text-normal",variant:"text-sm/normal",children:d.Z.Messages.UNREADS_CONFIRM_MARK_ALL_READ_DESCRIPTION})})}},881591:function(e,t,n){n.d(t,{Z:function(){return y}}),n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(512722),o=n.n(r),c=n(913527),d=n.n(c),u=n(442837),_=n(524437),E=n(481060),I=n(239091),m=n(904245),T=n(43267),h=n(933557),N=n(822893),f=n(329461),p=n(831267),C=n(203965),g=n(570907),S=n(294218),A=n(703656),R=n(695346),x=n(592125),O=n(430824),M=n(375954),v=n(346656),L=n(240126),Z=n(791914),P=n(981631),b=n(689938),D=n(111212),j=n(174766);let U={offset:{left:4,right:-12}};function y(e){let{setTab:t,closePopout:n}=e,s=(0,u.e7)([f.Z],()=>f.Z.getMessageReminders());a.useEffect(()=>()=>{(0,N.Mf)()},[]);let[l,r]=a.useState(!1),o=a.useMemo(()=>s.filter(e=>null==e.dueAt||e.dueAt<new Date),[s]),c=l?s:o,d=c.filter(e=>!(0,p.uX)(e));return(0,C.N)(d),(0,i.jsxs)("div",{className:D.container,children:[(0,i.jsx)(Z.Z,{tab:_.X.TODOS,setTab:t,closePopout:n}),(0,i.jsxs)("div",{className:D.headerText,children:[(0,i.jsx)(E.Heading,{variant:"heading-lg/bold",children:l?b.Z.Messages.MESSAGE_REMINDERS_HEADER_ALL:b.Z.Messages.MESSAGE_REMINDERS_HEADER_OVERDUE}),(0,i.jsx)(E.Anchor,{onClick:()=>r(!l),children:(0,i.jsx)(E.Text,{variant:"text-sm/normal",color:"text-link",children:l?b.Z.Messages.MESSAGE_REMINDERS_HEADER_SHOW_OVERDUE.format({count:o.length}):b.Z.Messages.MESSAGE_REMINDERS_HEADER_SHOW_ALL.format({count:s.length})})})]}),0===c.length?(0,i.jsx)(k,{}):null,(0,i.jsx)(E.AdvancedScrollerThin,{children:c.map(e=>(function(e){return[(0,i.jsx)(B,{messageId:e.messageId},e.messageId)]})(e))})]})}function B(e){let t,{messageId:a}=e,s=(0,u.e7)([f.Z],()=>f.Z.getMessageReminders().find(e=>e.messageId===a));o()(null!=s,"should not be rendering a to-do message without a to-do message");let r=s.complete,c=(0,u.e7)([M.Z],()=>M.Z.getMessage(s.channelId,s.messageId)),{message:_,channel:p}=(0,g.p)(s),C=x.Z.getChannel(p.id),L=(0,h.ZP)(C,!0),Z=null!=L?L:p.name,y=(0,u.e7)([O.Z],()=>O.Z.getGuild(null==p?void 0:p.guild_id)),B=null!=p?(0,T.x)(p):null,k=null;return null!=s.dueAt&&(s.dueAt>new Date?(t="text-muted",k=b.Z.Messages.MESSAGE_REMINDERS_DUE_IN.format({duration:d().duration(s.dueAt.getTime()-Date.now(),"millisecond").humanize()})):(t="text-danger",k=b.Z.Messages.MESSAGE_REMINDERS_OVERDUE.format({duration:d().duration(Date.now()-s.dueAt.getTime(),"millisecond").humanize()}))),(0,i.jsxs)("div",{className:j.container,children:[(0,i.jsxs)("div",{className:D.messageHeader,children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:D.messageInfo,children:[null!=y?(0,i.jsx)(v.Z,{className:D.guildIcon,guild:y,size:v.Z.Sizes.SMALL,active:!0}):(0,i.jsx)(E.Avatar,{"aria-hidden":!0,src:null!=B?B:n(788429),size:E.AvatarSizes.SIZE_32}),(0,i.jsx)(E.Text,{variant:"text-md/medium",color:"header-primary",selectable:!0,children:Z})]}),null!=s.notes&&s.notes.length>0?(0,i.jsxs)(E.Text,{variant:"text-sm/normal",color:"text-muted",className:D.notes,selectable:!0,children:[(0,i.jsx)(E.FileIcon,{size:"xxs",color:"currentColor"}),s.notes]}):null,null!=k?(0,i.jsx)(E.Text,{variant:"text-sm/medium",color:t,style:{marginTop:4},children:k}):null]}),(0,i.jsxs)("div",{className:D.reminderActions,children:[(0,i.jsx)(E.TooltipContainer,{text:b.Z.Messages.MESSAGE_REMINDERS_SNOOZE,children:(0,i.jsx)(E.Clickable,{onClick:e=>(0,I.jW)(e,async()=>{let{default:e}=await n.e("6045").then(n.bind(n,883150));return t=>(0,i.jsx)(e,{...t,message:_})}),className:D.clock,children:(0,i.jsx)(E.ClockIcon,{size:"custom",width:20,height:20,color:"currentColor"})})}),(0,i.jsx)(E.Checkbox,{type:E.Checkbox.Types.INVERTED,value:r,onChange:(e,t)=>{(0,N.Y_)(s.messageId,t)}})]})]}),(0,i.jsxs)("div",{className:l()(j.messageContainer,D.unloadedMessage,{[D.disabledMessage]:r}),children:[(0,i.jsx)(S.Z,{message:_,channel:p,className:j.message,compact:R.jU.getSetting(),animateAvatar:!1,focusProps:U,trackAnnouncementViews:!0},_.id),(0,i.jsxs)("div",{className:D.actions,children:[null==c?(0,i.jsx)(E.Button,{onClick:()=>{m.Z.fetchMessages({channelId:s.channelId,limit:1,jump:{messageId:s.messageId,flash:!1,offset:1}})},size:E.Button.Sizes.MIN,color:E.Button.Colors.TRANSPARENT,className:D.loadButton,children:(0,i.jsx)(E.Text,{variant:"text-xs/normal",children:"Load"})}):null,(0,i.jsx)(E.Button,{onClick:()=>{(0,A.uL)(P.Z5c.CHANNEL(null==p?void 0:p.getGuildId(),s.channelId,s.messageId))},size:E.Button.Sizes.MIN,color:E.Button.Colors.TRANSPARENT,className:D.loadButton,children:(0,i.jsx)(E.Text,{variant:"text-xs/normal",children:b.Z.Messages.JUMP})})]})]})]})}function k(){return(0,u.e7)([f.Z],()=>f.Z.getMessageReminders().length>0)?null:(0,i.jsx)(L.Z,{Icon:E.DoubleCheckmarkLargeIcon,header:b.Z.Messages.MESSAGE_REMINDERS_EMPTY,tip:b.Z.Messages.MESSAGE_REMINDERS_EMPTY_TIP})}},280763:function(e,t,n){n.d(t,{Z:function(){return I}}),n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(748780),o=n(399606),c=n(607070),d=n(641051),u=n(329461),_=n(495295);class E extends a.PureComponent{componentDidUpdate(e){e.count<this.props.count&&!this.props.reducedMotion&&r.Z.sequence([r.Z.timing(this.animationScale,{toValue:1.8,duration:300}),r.Z.timing(this.animationScale,{toValue:1,duration:200})]).start()}render(){let{count:e,className:t}=this.props;return 0===e?null:(0,i.jsx)(r.Z.div,{className:l()(_.badge,t),style:{transform:[{scale:this.animationScale}]},children:e})}constructor(...e){var t,n,i;super(...e),t=this,n="animationScale",i=new r.Z.Value(1),n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}function I(e){let{className:t}=e,{showReminders:n}=d.Z.useExperiment({location:"f79435_1"},{autoTrackExposure:!1}),a=(0,o.e7)([u.Z],()=>n?u.Z.getOverdueMessageReminderCount():0,[n]),s=(0,o.e7)([c.Z],()=>c.Z.useReducedMotion);return n?(0,i.jsx)(E,{count:a,className:t,reducedMotion:s}):null}},617379:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),s=n(110255),l=n(64247),r=n(981631),o=n(689938);function c(e){let{channel:t}=e;return(0,i.jsx)(a.Popout,{align:"right",animation:a.Popout.Animation.NONE,position:"bottom",renderPopout:e=>t.isThread()?(0,i.jsx)(l.Z,{...e,channel:t,navId:"recents-thread-notifications",label:o.Z.Messages.RECENTS_NOTIFICATIONS_MENU_LABEL}):(0,i.jsx)(s.Z,{...e,channel:t,navId:"recents-notifications",label:o.Z.Messages.RECENTS_NOTIFICATIONS_MENU_LABEL,location:{section:r.jXE.INBOX},includeGuildMute:!0}),children:e=>{let{onClick:t}=e;return(0,i.jsx)(a.CircleIconButton,{tooltip:o.Z.Messages.NOTIFICATION_SETTINGS,color:a.CircleIconButtonColors.TERTIARY,icon:(0,i.jsx)(a.BellIcon,{size:"xs",color:"currentColor"}),onClick:t})}})}},903672:function(e,t,n){n.d(t,{Z:function(){return v}});var i=n(735250),a=n(470079),s=n(442837),l=n(524437),r=n(481060),o=n(235820),c=n(494404),d=n(110924),u=n(796798),_=n(198620),E=n(294218),I=n(695346),m=n(592125),T=n(731290),h=n(944486),N=n(455199),f=n(655354),p=n(999671),C=n(324081),g=n(240126),S=n(791914),A=n(981631),R=n(689938),x=n(174766);let O={offset:{left:4,right:-12}};function M(e,t,n){let i=t?N.Z.guildFilter:null,a=t?N.Z.roleFilter:null,s=t?N.Z.everyoneFilter:null,l=null;null!=e&&null!=i&&(l=i===A.NgX.ALL_SERVERS?null:e.getGuildId()),o.Z.fetchRecentMentions(n,A.DJj,l,a,s)}function v(e){let{setTab:t,onJump:n,badgeState:r,closePopout:E}=e,I=(0,s.e7)([m.Z,h.Z],()=>m.Z.getChannel(h.Z.getChannelId())),{messages:T,hasMore:f,loading:C,guildFilter:g,roleFilter:O,everyoneFilter:v}=(0,s.cj)([N.Z],()=>({messages:N.Z.getMentions(),hasMore:N.Z.hasMore,loading:N.Z.loading,guildFilter:N.Z.guildFilter,roleFilter:N.Z.roleFilter,everyoneFilter:N.Z.everyoneFilter})),L=(0,d.Z)(g),P=(0,d.Z)(O),D=(0,d.Z)(v);a.useEffect(()=>{if(!N.Z.hasLoadedEver){M(I,!0);return}(null!=L&&g!==L||null!=P&&O!==P||null!=D&&v!==D)&&M(I,!0)},[L,g,P,O,D,v,I,!0]);a.useEffect(()=>{u.l.getCurrentConfig({location:"mentions"}).enabled&&(null==T?void 0:T.some(_.k5))&&(o.Z.clearMentions(),M(I,!0))},[]),a.useEffect(()=>()=>{o.Z.truncateMentions(A.DJj)},[]);let j=a.useCallback(()=>(0,i.jsx)(S.Z,{tab:l.X.MENTIONS,setTab:t,badgeState:r,closePopout:E,children:(0,i.jsx)(p.Z,{})}),[!0,t,r,E]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c.ZP,{className:x.recentMentionsPopout,scrollerClassName:x.scroller,onFetch:()=>null,onJump:n,onCloseMessage:function(e){o.Z.deleteRecentMention(e.id)},channel:I,messages:T,loading:C,hasMore:f,analyticsName:"Recent Mentions",loadMore:function(){M(I,!0,null!=T&&T.length>0?T[T.length-1].id:null)},canCloseAllMessages:!0,renderHeader:j,renderEmptyState:b,renderMessage:Z,"aria-label":R.Z.Messages.RECENT_MENTIONS,listName:"recents"})})}function L(e,t){return[(0,i.jsx)(P,{message:e,gotoMessage:t},e.id)]}function Z(e,t){return[(0,i.jsx)(P,{message:e,gotoMessage:t,dismissible:!0},e.id)]}function P(e){let{message:t,gotoMessage:n,dismissible:a}=e;if(null==t)return null;let s=m.Z.getChannel(t.channel_id);if(null==s)return null;let l=T.Z.didAgree(s.getGuildId()),c=!!s.isNSFW()&&!l;return(0,i.jsxs)("div",{className:x.container,children:[(0,i.jsx)(C.Z,{channel:s,gotoChannel:n,children:null!=a?(0,i.jsx)(r.CircleIconButton,{className:x.closeButton,tooltip:R.Z.Messages.CLOSE,color:r.CircleIconButtonColors.TERTIARY,icon:(0,i.jsx)(r.CloseSmallIcon,{size:"xs",color:"currentColor"}),onClick:()=>o.Z.deleteRecentMention(t.id)}):null}),(0,i.jsxs)("div",{className:x.messageContainer,children:[(0,i.jsx)(f.Z,{className:x.jumpMessageButton,onJump:n}),(0,i.jsx)(E.Z,{message:t,channel:s,className:x.message,hideAccessories:c,compact:I.jU.getSetting(),animateAvatar:!1,focusProps:O,trackAnnouncementViews:!0},t.id)]})]})}function b(e){return(0,i.jsx)(g.Z,{Icon:r.AtIcon,header:R.Z.Messages.RECENT_MENTIONS_EMPTY_STATE_HEADER,tip:R.Z.Messages.RECENT_MENTIONS_EMPTY_STATE_TIP})}},999671:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(235820),r=n(592125),o=n(944486),c=n(455199);n(288552);var d=n(981631),u=n(689938);function _(e){let{closePopout:t,onSelect:n}=e,_=(0,a.e7)([r.Z,o.Z],()=>r.Z.getChannel(o.Z.getChannelId())),{everyoneFilter:E,roleFilter:I,guildFilter:m}=(0,a.cj)([c.Z],()=>{let{everyoneFilter:e,roleFilter:t,guildFilter:n}=c.Z;return{everyoneFilter:e,roleFilter:t,guildFilter:n}});return(0,i.jsxs)(s.Menu,{navId:"mentions-filter","aria-label":u.Z.Messages.FILTER,onClose:t,onSelect:n,children:[(0,i.jsx)(s.MenuCheckboxItem,{id:"Everyone",label:u.Z.Messages.RECENT_MENTIONS_FILTER_EVERYONE,action:function(){l.Z.setGuildFilter({everyoneFilter:!E})},checked:E}),(0,i.jsx)(s.MenuCheckboxItem,{id:"Roles",label:u.Z.Messages.RECENT_MENTIONS_FILTER_ROLES,action:function(){l.Z.setGuildFilter({roleFilter:!I})},checked:I}),null==_||_.isPrivate()?null:(0,i.jsx)(s.MenuCheckboxItem,{id:"All Servers",label:u.Z.Messages.RECENT_MENTIONS_FILTER_ALL_SERVERS,action:function(){l.Z.setGuildFilter({guildFilter:m===d.NgX.THIS_SERVER?d.NgX.ALL_SERVERS:d.NgX.THIS_SERVER})},checked:m===d.NgX.ALL_SERVERS})]})}function E(){return(0,i.jsx)(s.Popout,{align:"right",animation:s.Popout.Animation.NONE,position:"bottom",renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(_,{closePopout:t})},children:e=>{let{onClick:t}=e;return(0,i.jsx)(s.CircleIconButton,{tooltip:u.Z.Messages.FILTER,color:s.CircleIconButtonColors.SECONDARY,icon:(0,i.jsx)(s.FiltersHorizontalIcon,{size:"xs",color:"currentColor"}),onClick:t})}})}},141321:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(317632),o=n(602478),c=n(360629),d=n(306680),u=n(594174),_=n(502568),E=n(280763),I=n(178088),m=n(222940),T=n(490897),h=n(689938),N=n(673908);function f(e){let{onOpen:t,onClose:n,className:f}=e,p=(0,c.sv)(),C=(0,s.e7)([u.default],()=>u.default.getCurrentUser()),g=a.useRef(null),S=(0,s.e7)([d.ZP],()=>!!p&&(null==C?void 0:C.id)!=null&&d.ZP.getMentionCount(C.id,T.W.NOTIFICATION_CENTER)>0),{enabled:A}=o.Z.useExperiment({location:"RecentsButton"},{autoTrackExposure:!1}),R=(0,s.e7)([r.Z],()=>A&&r.Z.getUnseenInviteCount()>0);return(0,i.jsx)(I.k,{onOpen:t,onClose:n,badgeState:{badgeForYou:S},popoutPosition:"bottom",popoutAlign:"right",children:(e,t,n)=>(0,i.jsxs)("div",{ref:g,className:N.recentsIcon,children:[A&&(0,i.jsx)(m.Z,{inboxIconRef:g,recentsPopoutShown:t}),(0,i.jsx)(_.JO,{...n,className:f,onClick:e,icon:l.InboxIcon,"aria-label":h.Z.Messages.INBOX,tooltip:t?null:h.Z.Messages.INBOX,selected:t,showBadge:S||R,children:(0,i.jsx)(E.Z,{className:N.todoBadge})})]})})}},324081:function(e,t,n){n.d(t,{Z:function(){return A}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(91192),r=n(442837),o=n(481060),c=n(788307),d=n(43267),u=n(933557),_=n(471445),E=n(199902),I=n(592125),m=n(430824),T=n(158776),h=n(594174),N=n(2093),f=n(346656),p=n(153124),C=n(689938),g=n(51562);let S={top:8,bottom:8,left:-4,right:-4};function A(e){let{channel:t,children:n,gotoChannel:a,mentionCount:s,channelState:r,toggleCollapsed:c}=e,d=(0,l.JA)("recents-header-".concat(t.id,"-").concat((0,p.Dt)()));return(0,i.jsx)(o.FocusRing,{offset:S,children:(0,i.jsxs)("div",{className:g.channelHeader,...d,tabIndex:0,"data-recents-channel":t.id,onKeyDown:function(e){null!=c&&null!=r&&("ArrowRight"===e.key&&r.collapsed||"ArrowLeft"===e.key&&!r.collapsed)&&(null==c||c(r))},children:[(0,i.jsx)(R,{channel:t,gotoChannel:a}),(0,i.jsx)(M,{channel:t,gotoChannel:a,mentionCount:s}),n]})})}function R(e){let{channel:t,gotoChannel:n}=e;return t.isPrivate()?(0,i.jsx)(x,{channel:t,gotoChannel:n}):(0,i.jsx)(O,{channel:t,gotoChannel:n})}function x(e){let{channel:t,gotoChannel:n}=e,a=(0,r.e7)([h.default],()=>t.isDM()?h.default.getUser(t.getRecipientId()):null),s=null==a?(0,d.x)(t):a.getAvatarURL(void 0,40);return(0,i.jsx)(o.Clickable,{onClick:n,tabIndex:-1,children:(0,i.jsx)("img",{className:g.dmIcon,src:s,alt:"","aria-hidden":!0})})}function O(e){let{channel:t,gotoChannel:n}=e,a=(0,r.e7)([m.Z],()=>m.Z.getGuild(t.guild_id));return null==a?null:(0,i.jsx)(f.Z,{"aria-hidden":!0,className:g.guildIcon,guild:a,size:f.Z.Sizes.MEDIUM,active:!0,onClick:n,tabIndex:-1})}function M(e){let{channel:t,gotoChannel:n,mentionCount:a}=e,l=(0,r.e7)([m.Z],()=>m.Z.getGuild(t.guild_id)),c=(0,r.e7)([I.Z],()=>I.Z.getChannel(t.parent_id)),d=(0,_.KS)(t,l),E=(0,u.ZP)(t,!1),T=null==c?null==l?void 0:l.name:"".concat(null==l?void 0:l.name," › ").concat(c.name),h=t.isMultiUserDM()?C.Z.Messages.MEMBERS_HEADER.format({members:t.recipients.length+1}):t.isPrivate()?(0,i.jsx)(v,{channel:t}):(0,i.jsx)(o.Clickable,{className:s()(g.subtext,g.guildName),onClick:n,children:T});return(0,i.jsxs)("div",{className:g.channelNameSection,children:[(0,i.jsx)(o.Heading,{variant:"heading-md/semibold",className:g.channelNameHeader,children:(0,i.jsxs)(o.Clickable,{className:g.channelName,onClick:n,children:[t.isThread()||t.isGroupDM()||null==d?null:(0,i.jsx)(d,{className:t.isForumLikeChannel()?g.forumIcon:void 0,width:18,height:18,size:"custom",color:"currentColor"}),(0,i.jsx)("span",{className:g.channelNameSpan,children:E}),null!=a&&a>0?(0,i.jsx)(N.Z,{value:a,className:g.badge}):null]})}),(0,i.jsx)(o.Text,{color:"header-secondary",variant:"text-xs/normal",className:g.subtextContainer,children:h})]})}function v(e){let{channel:t}=e,{user:n,activities:a,applicationStream:s}=(0,r.cj)([h.default,T.Z,E.Z],()=>{let e=h.default.getUser(t.getRecipientId());return{user:e,activities:null!=e?T.Z.getActivities(e.id):null,applicationStream:null!=e?E.Z.getAnyStreamForUser(e.id):null}});return null==a?null:(0,i.jsx)(c.Z,{className:g.activityStatus,emojiClassName:g.activityEmoji,activities:a,applicationStream:s,hideTooltip:!0,user:n})}},240126:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(481060),s=n(499033),l=n(689938),r=n(930960);function o(e){let{Icon:t,header:n,tip:o,disableStars:c}=e;return(0,i.jsxs)("div",{className:r.container,children:[(0,i.jsxs)("div",{className:r.iconContainer,children:[(0,i.jsx)(t,{color:"currentColor",size:"custom",className:r.icon,width:36,height:36}),c?null:(0,i.jsx)(s.Z,{className:r.stars})]}),(0,i.jsx)(a.Heading,{className:r.header,variant:"heading-xl/semibold",children:n}),(0,i.jsxs)(a.Text,{color:"header-secondary",variant:"text-xs/normal",children:[c?null:(0,i.jsxs)(a.Text,{tag:"span",className:r.protip,variant:"text-xs/bold",color:"text-positive",children:[l.Z.Messages.FORM_LABEL_ROLES_PRO_TIP,":"," "]}),o]})]})}},791914:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(399606),r=n(524437),o=n(481060),c=n(494404),d=n(377171),u=n(317632),_=n(602478),E=n(641051),I=n(329461),m=n(360629),T=n(818186),h=n(689938),N=n(775132);function f(e){return(0,m.sv)()?(0,i.jsx)(p,{...e}):(0,i.jsx)(C,{...e})}function p(e){let{tab:t,setTab:n,children:a,badgeState:m,closePopout:f}=e,{showReminders:p}=E.Z.useExperiment({location:"RecentsHeader"},{autoTrackExposure:!1}),{enabled:C}=_.Z.useExperiment({location:"RecentsHeader"}),g=(0,l.e7)([u.Z],()=>u.Z.getUnseenInviteCount()),S=(0,l.e7)([I.Z],()=>I.Z.getMessageReminders()).length;return(0,i.jsxs)(c.h4,{className:s()(N.header,N.expanded),children:[(0,i.jsxs)("div",{className:s()(N.expandedInboxHeader),children:[(0,i.jsx)(o.InboxIcon,{size:"md",color:"currentColor",className:N.inboxIcon}),(0,i.jsx)(o.Text,{className:N.inboxTitle,variant:"text-lg/semibold",children:h.Z.Messages.INBOX}),(0,i.jsx)(T.Z,{closePopout:f})]}),(0,i.jsxs)("div",{className:s()(N.expandedTabSection),children:[(0,i.jsxs)(o.TabBar,{selectedItem:t,type:"top-pill",onItemSelect:n,children:[(0,i.jsxs)(o.TabBar.Item,{id:r.X.FOR_YOU,"aria-label":h.Z.Messages.FOR_YOU,className:s()(N.tab,N.expanded,{[N.active]:t===r.X.FOR_YOU}),children:[h.Z.Messages.FOR_YOU,(null==m?void 0:m.badgeForYou)?(0,i.jsx)(o.CircleBadge,{color:d.Z.STATUS_DANGER,className:s()(N.iconBadge)}):null]}),(0,i.jsx)(o.TabBar.Item,{id:r.X.UNREADS,className:s()(N.tab,N.expanded,{[N.active]:t===r.X.UNREADS}),children:h.Z.Messages.UNREADS_TAB_LABEL}),(0,i.jsx)(o.TabBar.Item,{"aria-label":h.Z.Messages.MENTIONS,id:r.X.MENTIONS,className:s()(N.tab,N.expanded,{[N.active]:t===r.X.MENTIONS}),children:h.Z.Messages.MENTIONS}),C?(0,i.jsxs)(o.TabBar.Item,{"aria-label":"game_invites",id:r.X.GAME_INVITES,className:s()(N.tab,N.expanded,{[N.active]:t===r.X.GAME_INVITES}),children:[h.Z.Messages.GAME_INVITES,g>0?(0,i.jsx)(o.CircleBadge,{color:d.Z.STATUS_DANGER,className:s()(N.iconBadge)}):null]}):null,p?(0,i.jsxs)(o.TabBar.Item,{"aria-label":"todos",id:r.X.TODOS,className:s()(N.tab,N.expanded,{[N.active]:t===r.X.TODOS}),children:[h.Z.Messages.MESSAGE_REMINDERS_HEADER,S>0?(0,i.jsx)(o.CircleBadge,{color:d.Z.STATUS_DANGER,className:s()(N.iconBadge)}):null]}):null]}),(0,i.jsx)("div",{className:N.controls,children:a})]})]})}function C(e){let{tab:t,setTab:n,children:a}=e,{showReminders:l}=E.Z.useExperiment({location:"489e3f_2"},{autoTrackExposure:!1}),d=(0,m.sv)(),{enabled:u}=_.Z.useExperiment({location:"RecentsHeader"});return(0,i.jsxs)(c.h4,{className:N.header,children:[(0,i.jsxs)(o.TabBar,{selectedItem:t,type:"top-pill",onItemSelect:n,className:N.tabBar,children:[d?(0,i.jsx)(o.TabBar.Item,{id:r.X.FOR_YOU,className:s()(N.tab,{[N.active]:t===r.X.FOR_YOU}),children:h.Z.Messages.FOR_YOU}):null,(0,i.jsx)(o.TabBar.Item,{id:r.X.MENTIONS,className:s()(N.tab,{[N.active]:t===r.X.MENTIONS}),children:h.Z.Messages.MENTIONS}),(0,i.jsx)(o.TabBar.Item,{id:r.X.UNREADS,className:s()(N.tab,{[N.active]:t===r.X.UNREADS}),children:h.Z.Messages.UNREADS_TAB_LABEL}),u?(0,i.jsx)(o.TabBar.Item,{id:r.X.GAME_INVITES,className:s()(N.tab,{[N.active]:t===r.X.GAME_INVITES}),children:h.Z.Messages.GAME_INVITES}):null,l?(0,i.jsx)(o.TabBar.Item,{id:r.X.TODOS,className:s()(N.tab,{[N.active]:t===r.X.TODOS}),children:h.Z.Messages.MESSAGE_REMINDERS_HEADER}):null]}),(0,i.jsx)("div",{className:N.controls,children:a})]})}},178088:function(e,t,n){n.d(t,{k:function(){return A}}),n(47120);var i=n(735250),a=n(470079),s=n(349445),l=n(442837),r=n(524437),o=n(481060),c=n(100527),d=n(906732),u=n(602478),_=n(641051),E=n(360629),I=n(675478),m=n(581883),T=n(585483),h=n(153209),N=n(881591),f=n(903672),p=n(946443),C=n(264233),g=n(981631),S=n(689938);function A(e){let{onOpen:t,onClose:n,children:A,badgeState:R,popoutPosition:x,popoutAlign:O}=e,{analyticsLocations:M}=(0,d.ZP)(c.Z.NOTIFICATION_CENTER),[v,L]=a.useState(!1),[Z,P]=function(){let e=(0,l.e7)([m.Z],()=>{var e,t;return null!==(t=null===(e=m.Z.settings.inbox)||void 0===e?void 0:e.currentTab)&&void 0!==t?t:r.X.UNREADS});return[e,a.useCallback(e=>{I.hW.updateAsync("inbox",t=>{if(t.currentTab===e)return!1;t.currentTab=e},I.fy.FREQUENT_USER_ACTION)},[])]}(),{showTutorial:b,setSeenTutorial:D}=function(e){let t=(0,l.e7)([m.Z],()=>{var e,t;return null!==(t=null===(e=m.Z.settings.inbox)||void 0===e?void 0:e.viewedTutorial)&&void 0!==t&&t}),n=a.useCallback(()=>{I.hW.updateAsync("inbox",e=>{e.viewedTutorial=!0},I.fy.INFREQUENT_USER_ACTION)},[]);return{showTutorial:!t&&e===r.X.UNREADS,setSeenTutorial:n}}(Z),j=a.useCallback(()=>{L(!1),v&&(null==n||n())},[n,v]),U=a.useCallback(()=>{L(!v),v?null==n||n():null==t||t()},[n,t,v]),y=a.useCallback(()=>{U(),P(r.X.UNREADS)},[P,U]);a.useEffect(()=>(T.S.subscribe(g.CkL.TOGGLE_INBOX_UNREADS_TAB,y),()=>void T.S.unsubscribe(g.CkL.TOGGLE_INBOX_UNREADS_TAB,y)),[y]);let{showReminders:B}=_.Z.useExperiment({location:"RecentsPopout"},{autoTrackExposure:!1}),k=(0,E.sv)(),{enabled:G}=u.Z.useExperiment({location:"RecentsPopout"});a.useEffect(()=>{!B&&Z===r.X.TODOS&&P(r.X.MENTIONS)});let F=a.useCallback(e=>{!e.shiftKey&&j()},[j]);return(0,i.jsx)(d.Gt,{value:M,children:(0,i.jsx)(o.Popout,{animation:o.Popout.Animation.NONE,position:x,align:O,autoInvert:!1,shouldShow:v,onRequestClose:j,renderPopout:function(){return(0,i.jsx)(o.Dialog,{"aria-label":S.Z.Messages.INBOX,children:Z===r.X.FOR_YOU&&k?(0,i.jsx)(h.Z,{setTab:P,badgeState:R,closePopout:j}):Z===r.X.MENTIONS?(0,i.jsx)(f.Z,{setTab:P,onJump:F,badgeState:R,closePopout:j}):G&&Z===r.X.GAME_INVITES?(0,i.jsx)(C.Z,{setTab:P,badgeState:R,closePopout:j}):B&&Z===r.X.TODOS?(0,i.jsx)(N.Z,{setTab:P,onJump:F,closePopout:j}):(0,i.jsx)(s.SV,{fallback:(0,i.jsx)(p.h,{setTab:P,closePopout:j,badgeState:R}),children:(0,i.jsx)(p.Z,{setTab:P,onJump:F,showTutorial:b,setSeenTutorial:D,closePopout:j,badgeState:R})})})},ignoreModalClicks:!0,children:(e,t)=>{let{isShown:n}=t;return A(U,n,e)}})})}},289481:function(e,t,n){n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(920906),o=n(442837),c=n(481060),d=n(570140),u=n(45114),_=n(367907),E=n(717680),I=n(703656),m=n(592125),T=n(259580),h=n(617379),N=n(324081),f=n(305248),p=n(520116),C=n(981631),g=n(689938),S=n(385190);let A=a.memo(function(e){let{channel:t,deleteChannel:n}=e,s=a.useRef(null),[[l,o],c]=a.useState([0,0]),d=t.deleted&&l>0;if(t.deleted&&0===l&&null!=s.current){let e=s.current.offsetHeight,t=s.current.offsetTop,n=s.current.parentElement.scrollTop,i=n>t?e-(n-t):e;c([e,e-i])}let{opacity:u,size:_}=(0,r.useSpring)({config:{clamp:!0,friction:18,tension:200},opacity:d?0:1,size:d?0:1,onRest:()=>{n(t.channelId)}}),E={opacity:u,height:_.to(e=>d?function(e,t,n){return t+(e-t)*n}(l,o,e):"auto")};return(0,i.jsx)(r.animated.div,{ref:s,style:E,children:(0,i.jsx)(R,{...e})})});t.Z=A;let R=a.memo(function(e){let{channel:t,onJump:n,deleteChannel:s,toggle:l}=e,r=(0,o.e7)([m.Z],()=>m.Z.getChannel(t.channelId));if(a.useEffect(()=>{null!=r&&t.isFullyLoaded&&!t.hasError&&!t.collapsed&&"messages"===t.type&&0===t.messages.length&&d.Z.wait(()=>{(0,u.In)(t.channelId,!0),s(t.channelId)})}),null==r||!t.hasLoadedAnything)return null;let E=(e,i)=>{(0,_.yw)(C.rMx.INBOX_CHANNEL_CLICKED,{channel_id:t.channelId,guild_id:t.guildId});let a=null!=i?i:t.oldestUnreadMessageId;(0,I.uL)(C.Z5c.CHANNEL(t.guildId,t.channelId,"forum"===t.type?null:a)),n(e)};return(0,i.jsx)("div",{className:S.channel,children:(0,i.jsx)(c.HeadingLevel,{component:(0,i.jsxs)(N.Z,{channel:r,gotoChannel:E,mentionCount:t.mentionCount,toggleCollapsed:l,channelState:t,children:[(0,i.jsx)(h.Z,{channel:r}),(0,i.jsx)(x,{...e}),"nsfw"===t.type?null:(0,i.jsx)(O,{...e})]}),children:t.collapsed?null:"messages"===t.type?(0,i.jsx)(p.Z,{channel:t,channelRecord:r,gotoChannel:E}):"forum"===t.type?(0,i.jsx)(f.Z,{channel:t,channelRecord:r,deleteChannel:s}):null})})});function x(e){let{channel:t,markChannelRead:n,markGuildRead:a,getNumUnreadChannels:s}=e,l=(0,E.Z)()&&null!=t.guildId;return(0,i.jsx)(c.CircleIconButton,{className:S.markReadButton,tooltip:l?g.Z.Messages.MARK_GUILD_AS_READ:g.Z.Messages.MARK_AS_READ,color:c.CircleIconButtonColors.TERTIARY,icon:l?(0,i.jsx)(c.DoubleCheckmarkLargeIcon,{size:"xs",color:"currentColor"}):(0,i.jsx)(c.CheckmarkLargeIcon,{size:"xs",color:"currentColor"}),onClick:function(){l&&null!=t.guildId?a(t.guildId):n(t),(0,_.yw)(C.rMx.INBOX_CHANNEL_ACKED,{channel_id:t.channelId,guild_id:t.guildId,marked_all_channels_as_read:!1,num_unread_channels_remaining:s()-1})}})}function O(e){let{channel:t,toggle:n,getNumUnreadChannels:a}=e;function s(){n(t),(0,_.yw)(C.rMx.INBOX_CHANNEL_COLLAPSED,{channel_id:t.channelId,guild_id:t.guildId,num_unread_channels_remaining:a(),is_now_collapsed:!t.collapsed})}return(0,i.jsx)(c.Tooltip,{text:g.Z.Messages.COLLAPSE,children:e=>(0,i.jsx)(c.Clickable,{...e,className:l()(S.collapseButton,{[S.collapsed]:t.collapsed}),onClick:s,children:(0,i.jsx)(T.Z,{width:16,height:16})})})}},305248:function(e,t,n){n.d(t,{Z:function(){return f}}),n(47120);var i=n(735250),a=n(470079),s=n(392711),l=n.n(s),r=n(442837),o=n(570140),c=n(45114),d=n(404616),u=n(470623),_=n(344185),E=n(488131),I=n(592125),m=n(823379),T=n(709054),h=n(124368),N=n(437667);function f(e){let{channel:t,channelRecord:n,deleteChannel:s}=e,f=(0,r.Wu)([_.Z,I.Z],()=>l()(_.Z.getThreadsForParent(n.guild_id,n.id)).values().filter(e=>{let{id:n}=e;return T.default.compare(n,t.oldestReadMessageId)>0}).map(e=>{let{id:t}=e;return I.Z.getChannel(t)}).filter(m.lm).sort((e,t)=>T.default.compare(e.id,t.id)).value(),[t.oldestReadMessageId,n.guild_id,n.id]),p=a.useCallback((e,t)=>{(0,E.ok)(e,t,h.on.INBOX)},[]);return a.useEffect(()=>{null!=n&&t.isFullyLoaded&&!t.hasError&&!t.collapsed&&0===f.length&&o.Z.wait(()=>{(0,c.In)(t.channelId,!0),s(t.channelId)})}),(0,i.jsx)("div",{className:N.container,children:f.map(e=>(0,i.jsx)(u.oL,{createStore:()=>(0,u.NU)(n),children:(0,i.jsx)(d.ZP,{className:N.forumPost,threadId:e.id,goToThread:p})},e.id))})}},520116:function(e,t,n){n.d(t,{Z:function(){return M}}),n(653041);var i=n(735250),a=n(470079),s=n(913527),l=n.n(s),r=n(91192),o=n(442837),c=n(481060),d=n(135938),u=n(900164),_=n(554838),E=n(493892),I=n(37772),m=n(695346),T=n(314897),h=n(496675),N=n(594174),f=n(132338),p=n(55935),C=n(655354),g=n(809780),S=n(981631),A=n(689938),R=n(131132);let x={left:4,right:-12};function O(e){var t;let{channel:n,message:s,compact:l,isGroupStart:o,treatSpam:d,gotoChannel:u}=e,_=(0,r.JA)(null!==(t=s.id)&&void 0!==t?t:""),E=a.useCallback(e=>{if("ArrowLeft"===e.key){var t;null===(t=document.querySelector('[data-recents-channel="'.concat(n.id,'"]')))||void 0===t||t.focus()}},[n.id]);return(0,i.jsx)(c.FocusRing,{offset:x,children:(0,i.jsxs)("div",{className:R.messageContainer,onKeyDown:E,..._,children:[(0,i.jsx)(C.Z,{className:R.jumpButton,onJump:e=>u(e,s.id)}),(0,i.jsx)(I.Z,{id:s.id,message:s,channel:n,className:R.message,compact:l,animateAvatar:!1,isGroupStart:o,onKeyDown:E,treatSpam:d})]},s.id)})}function M(e){var t,n;let{channel:a,channelRecord:s,gotoChannel:r}=e,{enabled:I}=d.Z.useExperiment({location:"20e3b0_1"},{autoTrackExposure:!1}),C=m.jU.useSetting(),x=(0,o.e7)([h.Z],()=>h.Z.can(S.Plq.CREATE_INSTANT_INVITE,s)),M=(0,E.P1)(s),v=!1,L=0===a.messages.length||l()(a.messages[0].timestamp).isSame(l()(),"day"),Z=null!==(n=null===(t=N.default.getUser(T.default.getId()))||void 0===t?void 0:t.hasFlag(S.xW$.SPAMMER))&&void 0!==n&&n,P=[];if(!a.collapsed){let e=null,t=null,n=a.messages.slice(0,g.hC);n.forEach(n=>{if(!(0,u.Z)(n,x)){if(!L&&(null==e||!e.isSame(n.timestamp,"day"))){let t=(0,p.vc)(n.timestamp,"LL");P.push((0,i.jsx)(f.Z,{className:R.divider,children:t},t)),e=l()(n.timestamp)}let a=null==t||(0,_.Z)(s,t,n);t=n,v=v||(0,E.DQ)(n),P.push((0,i.jsx)(O,{channel:s,message:n,compact:C,isGroupStart:a,treatSpam:!Z&&I&&(0,E.DQ)(n)&&M,gotoChannel:r},n.id))}}),a.messages.length>=g.hC&&P.push((0,i.jsxs)(c.Button,{color:c.Button.Colors.LINK,look:c.Button.Looks.LINK,onClick:e=>r(e,n[n.length-1].id),children:[A.Z.Messages.UNREADS_VIEW_CHANNEL," ›"]},"view-all")),0===P.length&&(P=[(0,i.jsx)(c.Spinner,{},"spinner")])}return v&&M&&d.Z.trackExposure({location:"20e3b0_2"}),(0,i.jsx)("div",{className:R.messages,children:P})}},207950:function(e,t,n){n.d(t,{Z:function(){return u}}),n(390547),n(653041);var i=n(735250);n(470079);var a=n(392711),s=n.n(a),l=n(132338),r=n(289481),o=n(809780),c=n(689938),d=n(521173);function u(e,t,n){let{markChannelRead:a,markGuildRead:u,deleteChannel:_,toggle:E,getNumUnreadChannels:I}=t,m=null;return s().flatMap(e,e=>{let t=e.sortOrder!==m;m=e.sortOrder;let s=[];return t&&(e.hasLoadedAnything&&e.sortOrder===o.As.ReallyOldChannel?s.push((0,i.jsx)(l.Z,{className:d.divider,contentClassName:d.dividerContent,children:c.Z.Messages.UNREADS_OLD_CHANNELS_DIVIDER},"old-divider")):e.hasLoadedAnything&&e.sortOrder===o.As.NoNotifications&&s.push((0,i.jsx)(l.Z,{className:d.divider,contentClassName:d.dividerContent,children:c.Z.Messages.UNREADS_NO_NOTIFICATIONS_DIVIDER},"disabled-divider"))),s.push((0,i.jsx)(r.Z,{channel:e,markChannelRead:a,markGuildRead:u,toggle:E,deleteChannel:_,onJump:n,getNumUnreadChannels:I},e.channelId)),s})}},946443:function(e,t,n){n.d(t,{Z:function(){return x},h:function(){return M}}),n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(525654),o=n.n(r),c=n(91192),d=n(442837),u=n(524437),_=n(481060),E=n(570140),I=n(607070),m=n(724757),T=n(626135),h=n(585483),N=n(143316),f=n(240126),p=n(791914),C=n(207950),g=n(809780),S=n(981631),A=n(689938),R=n(608777);function x(e){let{setTab:t,onJump:n,showTutorial:s,setSeenTutorial:r,closePopout:x,badgeState:M}=e,v=a.useRef(null),[L,Z]=(0,g.ZP)(v),{loadState:P,channels:b}=L,{maybeLoadMore:D,markAllRead:j}=Z;(function(e,t,n){a.useLayoutEffect(()=>{var i;let{scrollToChannelIndex:a}=t;n.clearScrollToChannelIndex();let{current:s}=e;if(null==s||null==a)return;let l=null===(i=s.getScrollerNode())||void 0===i?void 0:i.children;if(null==l)return;let r=l[a];if(null==r)return;let{scrollTop:o,scrollHeight:c}=s.getScrollerState();(r.offsetTop<o||r.offsetTop>o+c)&&s.scrollTo({to:r.offsetTop})})})(v,L,Z),function(e,t){a.useEffect(()=>{let n=()=>{let n=e.channels.find(e=>!e.collapsed);null!=n&&t.markChannelRead(n)};return h.S.subscribe(S.CkL.MARK_TOP_INBOX_CHANNEL_READ,n),()=>{h.S.unsubscribe(S.CkL.MARK_TOP_INBOX_CHANNEL_READ,n)}},[t,e.channels])}(L,Z),a.useEffect(()=>{T.default.track(S.rMx.OPEN_POPOUT,{type:"Inbox"})},[]),a.useEffect(()=>(E.Z.subscribe("CONNECTION_OPEN",x),()=>{E.Z.unsubscribe("CONNECTION_OPEN",x)}),[x]);let U=(0,d.e7)([I.Z],()=>I.Z.messageGroupSpacing),y=(0,m.Z)("unreads",v);if(0===b.length){var B;return(0,i.jsxs)("div",{className:R.container,children:[(0,i.jsx)(p.Z,{tab:u.X.UNREADS,setTab:t,badgeState:M,closePopout:x}),(0,i.jsx)(f.Z,{Icon:_.InboxIcon,header:A.Z.Messages.UNREADS_EMPTY_STATE_HEADER,tip:(null===(B=o().os)||void 0===B?void 0:B.family)==="OS X"?A.Z.Messages.UNREADS_EMPTY_STATE_TIP_MAC:A.Z.Messages.UNREADS_EMPTY_STATE_TIP})]})}return(0,i.jsxs)("div",{className:l()(R.container,"group-spacing-".concat(U)),"aria-label":A.Z.Messages.UNREADS_TAB_LABEL,children:[(0,i.jsx)(p.Z,{tab:u.X.UNREADS,setTab:t,badgeState:M,closePopout:x,children:(0,i.jsx)(N.Z,{type:"top-header",onClick:j})}),(0,i.jsx)(c.bG,{navigator:y,children:(0,i.jsx)(c.SJ,{children:e=>{let{ref:t,...a}=e;return(0,i.jsxs)(_.AdvancedScrollerThin,{ref:e=>{var n;v.current=e,t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},...a,onScroll:P===g.jd.Done?void 0:D,className:R.scroller,children:[s?(0,i.jsx)(O,{setSeenTutorial:r}):null,(0,C.Z)(b,Z,n),P===g.jd.Done?null:(0,i.jsx)(_.Spinner,{className:R.spinner})]})}})})]})}function O(e){let{setSeenTutorial:t}=e;return(0,i.jsxs)("div",{className:R.tutorial,children:[(0,i.jsx)("div",{className:R.tutorialIcon,children:(0,i.jsx)(_.InboxIcon,{size:"md",color:"currentColor"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(_.Heading,{className:R.__invalid_tutorialHeader,variant:"heading-md/semibold",children:A.Z.Messages.UNREADS_TUTORIAL_HEADER}),(0,i.jsx)(_.Text,{color:"header-secondary",variant:"text-sm/normal",children:A.Z.Messages.UNREADS_TUTORIAL_BODY}),(0,i.jsx)(_.Button,{className:R.tutorialButton,onClick:t,size:_.Button.Sizes.SMALL,children:A.Z.Messages.TUTORIAL_CLOSE})]})]})}function M(e){let{setTab:t,badgeState:n,closePopout:a}=e;return(0,i.jsxs)("div",{className:R.container,children:[(0,i.jsx)(p.Z,{tab:u.X.UNREADS,setTab:t,badgeState:n,closePopout:a}),(0,i.jsx)(f.Z,{Icon:_.InboxIcon,disableStars:!0,header:A.Z.Messages.UNREADS_EMPTY_STATE_ERROR_HEADER,tip:A.Z.Messages.UNREADS_EMPTY_STATE_ERROR_SUBTITLE})]})}},809780:function(e,t,n){n.d(t,{As:function(){return i},ZP:function(){return Q},hC:function(){return w},jd:function(){return a}}),n(653041),n(47120);var i,a,s,l,r=n(470079),o=n(836560),c=n(512722),d=n.n(c),u=n(392711),_=n.n(u),E=n(570140),I=n(904245),m=n(45114),T=n(607070),h=n(853856),N=n(181945),f=n(220444),p=n(601070),C=n(344185),g=n(569471),S=n(723170),A=n(675478),R=n(581883),x=n(131704),O=n(592125),M=n(984933),v=n(731290),L=n(430824),Z=n(375954),P=n(496675),b=n(306680),D=n(771845),j=n(9156),U=n(70956),y=n(823379),B=n(709054),k=n(981631),G=n(124368);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(s=i||(i={}))[s.Favorite=0]="Favorite",s[s.PrivateChannel=1]="PrivateChannel",s[s.Mentioned=2]="Mentioned",s[s.AllMessagesNotifications=3]="AllMessagesNotifications",s[s.GuildChannel=4]="GuildChannel",s[s.OldChannel=5]="OldChannel",s[s.NoNotifications=6]="NoNotifications",s[s.ReallyOldChannel=7]="ReallyOldChannel",(l=a||(a={})).Loading="loading",l.Loaded="loaded",l.Done="done";let w=25;class V extends o.EventEmitter{loadMore(){let{loadState:e,channels:t}=this.state;if("loaded"!==e)return;let n=!1,i=t.map(e=>{if(e.isFullyLoaded||e.deleted||n)return e;if(e.collapsed)return e.hasLoadedAnything?e:{...e,hasLoadedAnything:!0};return(e=this.populateInitialStateFromStore(e)).isFullyLoaded?e:(d()("nsfw"!==e.type,"this channel should already be loaded"),"messages"===e.type&&this.loadChannelMessages(e)&&(n=!0),e)});(!n||i.some((e,n)=>e!==t[n]))&&this.setState({channels:i,loadState:n?this.state.loadState:"done"})}populateInitialStateFromStore(e){if("messages"===e.type)return H(e,!1);if("nsfw"===e.type)return{...e,isFullyLoaded:!0,hasLoadedAnything:!0};if("forum"===e.type){let t=C.Z.hasLoaded(e.guildId);return{...e,isFullyLoaded:t,hasLoadedAnything:t}}else(0,y.vE)(e)}clearScrollToChannelIndex(){this.setState({scrollToChannelIndex:null})}loadChannelMessages(e){I.Z.clearChannel(e.channelId);let t=I.Z.fetchMessages({channelId:e.channelId,limit:k.AQB,jump:{messageId:e.oldestReadMessageId,flash:!0}});return null!=t&&!1!==t&&(this.setState({loadState:"loading"}),t.then(t=>{this.setState({loadState:"loaded",channels:this.updateChannel(e.channelId,e=>{d()("messages"===e.type,"channel cannot change type");let n=H(e,!0);return(0===n.messages.length||n.messages.length===e.messages.length)&&(n={...n,hasLoadedAnything:!0,isFullyLoaded:!0,hasError:!t}),n})})},()=>{this.setState({loadState:"loaded",channels:this.updateChannel(e.channelId,e=>{var t;return d()("messages"===e.type,"channel cannot change type"),{...H(e,!0),isFullyLoaded:!0,hasError:!0,hasLoadedAnything:!0,newestUnreadMessageId:null===(t=e.messages[e.messages.length-1])||void 0===t?void 0:t.id}})})}),!0)}updateChannel(e,t){return this.state.channels.map(n=>n.channelId===e?t(n):n)}setState(e){for(let t in e)if(e[t]!==this.state[t]){this.state={...this.state,...e},this.emit("change",this.state);return}}constructor(e,t){super(),F(this,"state",void 0),F(this,"scrollerRef",void 0),F(this,"maybeLoadMore",void 0),F(this,"reloadMessages",void 0),F(this,"getNumUnreadChannels",void 0),F(this,"markChannelRead",void 0),F(this,"markGuildRead",void 0),F(this,"deleteChannel",void 0),F(this,"markAllRead",void 0),F(this,"toggle",void 0),F(this,"handleUserGuildSettingsStoreChange",void 0),F(this,"handleJoinedThreadsStoreChange",void 0),F(this,"handleActiveThreadsStoreChange",void 0),this.state=e,this.scrollerRef=t,this.maybeLoadMore=()=>{var e;let t=null===(e=this.scrollerRef.current)||void 0===e?void 0:e.getScrollerState();if(null!=t)t.scrollHeight-t.scrollTop-t.offsetHeight<2e3&&this.loadMore()},this.reloadMessages=()=>{this.setState({channels:this.state.channels.map(e=>"messages"===e.type&&e.hasLoadedAnything?H(e,!1,!0):e)})},this.getNumUnreadChannels=()=>this.state.channels.length,this.markChannelRead=e=>{let{channelId:t,newestUnreadMessageId:n}=e;if(E.Z.wait(()=>m.In(t,!0,void 0,n,{section:k.jXE.INBOX})),1===this.state.channels.length){this.deleteChannel(t);return}this.setState({channels:this.updateChannel(t,e=>({...e,deleted:!0}))}),T.Z.useReducedMotion&&this.deleteChannel(t),this.maybeLoadMore()},this.markGuildRead=e=>{E.Z.wait(()=>(0,N.Z)([e],k.jXE.INBOX)),this.setState({channels:this.state.channels.filter(t=>t.guildId!==e)}),this.maybeLoadMore()},this.deleteChannel=e=>{this.setState({scrollToChannelIndex:_().findIndex(this.state.channels,t=>t.channelId===e),channels:this.state.channels.filter(t=>t.channelId!==e)}),this.maybeLoadMore()},this.markAllRead=()=>{m.y5(this.state.channels.map(e=>({channelId:e.channelId,messageId:e.newestUnreadMessageId}))),this.setState({channels:[]})},this.toggle=e=>{let{channelId:t,guildId:n}=e,{channels:i,collapsedChannels:a,loadState:s}=this.state,l=_().findIndex(i,e=>e.channelId===t),r=i[l],o=!r.collapsed;a[t]=o,(0,A.BU)(n,t,e=>{e.collapsedInInbox=o},A.fy.FREQUENT_USER_ACTION),this.setState({scrollToChannelIndex:l,collapsedChannels:a,loadState:"done"!==s||o||r.isFullyLoaded?s:"loaded",channels:this.updateChannel(t,e=>({...e,collapsed:o}))}),r.collapsed?!r.isFullyLoaded&&this.loadMore():this.maybeLoadMore()},this.handleUserGuildSettingsStoreChange=()=>{let e=this.state.channels.filter(e=>!j.ZP.isGuildOrCategoryOrChannelMuted(e.guildId,e.channelId));e.length!==this.state.channels.length&&this.setState({channels:e})},this.handleJoinedThreadsStoreChange=()=>{let e=this.state.channels.filter(e=>!g.Z.isMuted(e.channelId));e.length!==this.state.channels.length&&this.setState({channels:e})},this.handleActiveThreadsStoreChange=()=>{let e=this.state.channels.map(e=>{if("forum"!==e.type)return e;{let t=C.Z.hasLoaded(e.guildId);return{...e,isFullyLoaded:t,hasLoadedAnything:t}}});this.setState({channels:e})}}}function H(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Z.Z.getMessages(e.channelId),s=a.toArray().filter(t=>B.default.compare(t.id,e.oldestReadMessageId)>0&&0>=B.default.compare(t.id,e.newestUnreadMessageId));if(s.length===e.messages.length&&s.every((t,n)=>e.messages[n]===t)&&i)return e;let l=null!=a.getAfter(e.oldestReadMessageId)||(null===(n=s[0])||void 0===n?void 0:n.id)===e.oldestUnreadMessageId,r=s[s.length-1],o=B.default.compare(null==r?void 0:r.id,e.newestUnreadMessageId)>=0||s.length>=w;return{...e,messages:s,hasLoadedAnything:e.hasLoadedAnything||l||t,hasLoadedFirst:e.hasLoadedFirst||l||t,isFullyLoaded:e.isFullyLoaded||l&&o||t&&!a.hasMoreAfter}}function Y(){let e=function(){var e,t;let n={},i=null!==(t=null===(e=R.Z.settings.guilds)||void 0===e?void 0:e.guilds)&&void 0!==t?t:{};for(let e in i)for(let t in i[e].channels){let a=O.Z.getChannel(t);(!(t in n)||(null==a?void 0:a.guild_id)===e)&&(n[t]=i[e].channels[t].collapsedInInbox)}return n}(),t=function(e){let t=[];return O.Z.getSortedPrivateChannels().forEach(n=>W(e,t,null,n.id)),D.ZP.getFlattenedGuildIds().forEach(n=>{if(null==n)return;let i=M.ZP.getSelectableChannelIds(n),a=p.Z.getActiveJoinedUnreadThreadsForGuild(n);i.forEach(i=>{var s;W(e,t,n,i);let l=null!==(s=a[i])&&void 0!==s?s:{};for(let i in l)W(e,t,n,i)})}),_().sortBy(t,e=>e.sortOrder)}(e),n=_().uniq(t.map(e=>e.guildId)).filter(y.lm);return E.Z.dispatch({type:"INBOX_OPEN",guildIds:n}),{collapsedChannels:e,loadState:"loaded",channels:t,scrollToChannelIndex:null}}function W(e,t,n,i){if(null==i)return;let a=O.Z.getChannel(i);if(null==a||!x.Ec.has(a.type)&&j.ZP.isGuildOrCategoryOrChannelMuted(n,a.id))return;if(a.isPrivate()){if(0===b.ZP.getMentionCount(i))return}else if(!(0,f.d)(a)&&0===b.ZP.getMentionCount(i))return;if(!a.isPrivate()&&!P.Z.can(k.Plq.READ_MESSAGE_HISTORY,a))return;let s=b.ZP.ackMessageId(i);if(null==s){let e=L.Z.getGuild(a.guild_id);if(null==e||null==e.joinedAt)return;s=B.default.fromTimestamp(e.joinedAt.getTime())}let l=b.ZP.getOldestUnreadMessageId(i),r=b.ZP.lastMessageId(i),o=b.ZP.getMentionCount(i),c=o>0||a.isPrivate();if(null==r||B.default.compare(s,r)>=0)return;let d={guildId:n,channelId:i,oldestReadMessageId:s,oldestUnreadMessageId:l,newestUnreadMessageId:r,collapsed:!0===e[i],hasLoadedAnything:!1,hasLoadedFirst:!1,isFullyLoaded:!1,hasError:!1,hasMentionsOrUnreads:c,mentionCount:o,sortOrder:function(e,t,n){let i=O.Z.getChannel(t);if(h.Z.isFavorite(t))return 0;if(i.isPrivate())return 1;if(b.ZP.getMentionCount(t)>0)return 2;if(null!=n){let e=B.default.extractTimestamp(n);if(Date.now()-e>K)return 7;if(Date.now()-e>z)return 5}if(i.isThread()){let e=(0,S.J)(i);return e===G.iN.ALL_MESSAGES?3:e===G.iN.NO_MESSAGES?6:4}{let n=j.ZP.getChannelMessageNotifications(e,t),i=n===k.bL.NULL?j.ZP.getMessageNotifications(e):n;return i===k.bL.ALL_MESSAGES?3:i===k.bL.NO_MESSAGES?6:4}}(n,i,r)};a.isNSFW()&&!v.Z.didAgree(a.guild_id)?t.push({...d,type:"nsfw"}):a.isForumLikeChannel()?t.push({...d,type:"forum"}):t.push({...d,type:"messages",messages:[]})}let z=2*U.Z.Millis.DAY,K=10*U.Z.Millis.DAY;function Q(e){let[t,n]=r.useState(()=>new V(Y(),e)),[i,a]=r.useState(!1),s=r.useRef(Date.now()),[l,o]=r.useState(()=>Y());return r.useEffect(()=>{let e=e=>o(e);return t.on("change",e),o(t.state),()=>{t.off("change",e)}},[t]),r.useEffect(()=>{if(null==l||l.channels.length>0||i)return;let t=Date.now(),r=Y();0===r.channels.length||t-s.current<10*U.Z.Millis.SECOND?a(!0):(s.current=Date.now(),n(new V(r,e)))},[l,i,e]),r.useLayoutEffect(t.maybeLoadMore,[null==l?void 0:l.channels,null==l?void 0:l.loadState]),r.useEffect(()=>(Z.Z.addChangeListener(t.reloadMessages),()=>Z.Z.removeChangeListener(t.reloadMessages)),[t.reloadMessages]),r.useEffect(()=>(j.ZP.addChangeListener(t.handleUserGuildSettingsStoreChange),()=>j.ZP.removeChangeListener(t.handleUserGuildSettingsStoreChange)),[t]),r.useEffect(()=>(g.Z.addChangeListener(t.handleJoinedThreadsStoreChange),()=>g.Z.removeChangeListener(t.handleJoinedThreadsStoreChange)),[t]),r.useEffect(()=>(C.Z.addChangeListener(t.handleActiveThreadsStoreChange),()=>C.Z.removeChangeListener(t.handleActiveThreadsStoreChange)),[t]),[l,t]}},326838:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(735250),a=n(470079),s=n(913527),l=n.n(s),r=n(442837),o=n(481060),c=n(727637),d=n(782568),u=n(317632),_=n(174767),E=n(594174),I=n(55935),m=n(689938),T=n(960626);function h(e){let{invite:t,expired:n}=e,s=(0,r.e7)([E.default],()=>{var e,n;return null!==(n=null===(e=E.default.getUser(t.inviter_id))||void 0===e?void 0:e.username)&&void 0!==n?n:""}),d=(0,I.vc)(l()(t.created_at),"LT"),u=a.useRef(null),h=(0,c.Z)(u);return a.useEffect(()=>{!n&&(0,_.Br)(t)},[t,n]),(0,i.jsxs)("div",{className:T.container,ref:u,children:[(0,i.jsxs)("div",{className:T.primaryRow,children:[(0,i.jsx)("img",{className:T.inviteImage,src:t.application_asset,alt:"Game Invite"}),(0,i.jsx)(o.Text,{className:T.title,variant:"text-md/semibold",color:"interactive-active",children:m.Z.Messages.GAME_INVITES_SENT_YOU_AN_INVITE.format({username:s})}),(0,i.jsxs)("div",{className:T.buttonContainer,children:[(0,i.jsx)(N,{expired:n,invite:t,isHoveringInvite:h}),(0,i.jsx)(o.CircleIconButton,{className:T.deleteButton,tooltip:m.Z.Messages.DELETE,color:o.CircleIconButtonColors.SECONDARY,icon:(0,i.jsx)(o.TrashIcon,{size:"xs"}),onClick:()=>{(0,_.UF)(t)}})]})]}),(0,i.jsx)("div",{className:T.divider}),(0,i.jsxs)("div",{className:T.secondaryRow,children:[(0,i.jsxs)(o.Text,{variant:"text-xs/medium",className:T.subtitle,color:"text-muted",children:[t.application_name," \xb7 ",d]}),n&&(0,i.jsx)("div",{className:T.metaContainer,children:(0,i.jsx)(o.Text,{variant:"text-xxs/semibold",className:T.__invalid_metaText,color:"text-muted",children:m.Z.Messages.GAME_INVITES_EXPIRED})})]})]})}function N(e){let{expired:t,invite:n,isHoveringInvite:s}=e,l=(0,r.e7)([u.Z],()=>u.Z.isInviteGameInstalled(n)),c=(0,r.e7)([u.Z],()=>u.Z.isInviteJoinable(n)),[E,I]=a.useState(!1),h=a.useCallback(async()=>{I(!0);try{await (0,_.MH)(n)}catch{}I(!1)},[n]),N=a.useCallback(async()=>{I(!0);try{await (0,_.Ol)(n)}catch{}I(!1)},[n]);if(t)return l&&s?(0,i.jsx)(o.Button,{className:T.primaryButton,color:o.ButtonColors.TRANSPARENT,disabled:E,size:o.ButtonSizes.SMALL,onClick:h,children:m.Z.Messages.GAME_INVITES_LAUNCH_GAME}):null;return l&&c?(0,i.jsx)(o.Button,{className:T.primaryButton,color:o.ButtonColors.GREEN,disabled:E,size:o.ButtonSizes.SMALL,onClick:N,children:m.Z.Messages.GAME_INVITES_JOIN_GAME}):null!=n.fallback_url?(0,i.jsx)(o.Button,{className:T.primaryButton,disabled:E,size:o.ButtonSizes.SMALL,color:o.ButtonColors.TRANSPARENT,onClick:()=>(0,d.Z)(n.fallback_url),children:m.Z.Messages.GAME_INVITES_INSTALL_GAME}):(0,i.jsx)(o.Tooltip,{text:m.Z.Messages.GAME_INVITES_NOT_DETECTED_TOOLTIP.format({gameTitle:n.application_name}),children:e=>(0,i.jsx)(o.Button,{...e,className:T.primaryButton,disabled:!0,size:o.ButtonSizes.SMALL,color:o.ButtonColors.TRANSPARENT,onClick:()=>(0,d.Z)(n.fallback_url),children:(0,i.jsxs)("div",{className:T.launchToJoinContainer,children:[(0,i.jsx)(o.Text,{variant:"text-xxs/medium",className:T.launchToJoinText,color:"text-muted",children:m.Z.Messages.GAME_INVITES_LAUNCH_TO_JOIN}),(0,i.jsx)(o.CircleInformationIcon,{size:"xxs",color:o.tokens.colors.TEXT_MUTED.css})]})})})}},264233:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(735250),a=n(470079),s=n(392711),l=n.n(s),r=n(442837),o=n(524437),c=n(481060),d=n(317632),u=n(174767),_=n(240126),E=n(791914),I=n(326838),m=n(689938),T=n(277539);function h(e){let{setTab:t,badgeState:s,closePopout:h}=e,f=(0,r.Wu)([d.Z],()=>d.Z.getInvites()),p=(0,r.e7)([d.Z],()=>d.Z.getInviteStatuses()),[C,g]=a.useMemo(()=>l().partition(f,e=>{var t;return(null===(t=p[e.invite_id])||void 0===t?void 0:t.joinable)!==!1&&(Date.now()-new Date(e.created_at).getTime())/1e3<e.ttl}),[f,p]);return(a.useEffect(()=>{(0,u.sJ)()}),0===f.length)?(0,i.jsxs)("div",{className:T.container,children:[(0,i.jsx)(E.Z,{tab:o.X.GAME_INVITES,setTab:t,badgeState:s,closePopout:h}),(0,i.jsx)("div",{className:T.__invalid_emptyStateContainer,children:(0,i.jsx)(_.Z,{Icon:c.GameControllerIcon,header:m.Z.Messages.GAME_INVITES_EMPTY_STATE_TITLE,tip:m.Z.Messages.GAME_INVITES_EMPTY_STATE_SUBTITLE})})]}):(0,i.jsxs)("div",{className:T.container,children:[(0,i.jsx)(E.Z,{tab:o.X.GAME_INVITES,setTab:t,badgeState:s,closePopout:h,children:(0,i.jsx)(c.CircleIconButton,{className:T.__invalid_deleteButton,tooltip:m.Z.Messages.GAME_INVITES_DELETE_ALL,color:c.CircleIconButtonColors.SECONDARY,icon:(0,i.jsx)(c.TrashIcon,{size:"xs"}),onClick:function(){(0,c.openModalLazy)(async()=>{let{default:e}=await n.e("13111").then(n.bind(n,93756));return t=>(0,i.jsx)(e,{...t,onDelete:async()=>{await t.onClose()}})})}})}),(0,i.jsx)(c.AdvancedScrollerThin,{children:(0,i.jsxs)("div",{className:T.invitesContainer,children:[C.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N,{title:m.Z.Messages.GAME_INVITES_RECENT_HEADER}),(0,i.jsx)(i.Fragment,{children:C.map(e=>(0,i.jsx)(I.Z,{invite:e,expired:!1},e.invite_id))})]}),g.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N,{title:m.Z.Messages.GAME_INVITES_EXPIRED_HEADER}),(0,i.jsx)(i.Fragment,{children:g.map(e=>(0,i.jsx)(I.Z,{invite:e,expired:!0},e.invite_id))})]})]})})]})}function N(e){let{title:t}=e;return(0,i.jsxs)("div",{className:T.headerContainer,children:[(0,i.jsx)(c.Text,{className:T.headerTitle,variant:"text-xs/semibold",color:"interactive-normal",children:t}),(0,i.jsx)("div",{className:T.headerDivider})]})}},222940:function(e,t,n){n.d(t,{Z:function(){return E}}),n(47120);var i=n(735250),a=n(470079),s=n(399606),l=n(846519),r=n(481060),o=n(317632),c=n(174767),d=n(594174),u=n(689938),_=n(573688);function E(e){let{inboxIconRef:t,recentsPopoutShown:n}=e,[E,I]=a.useState(!1),m=(0,s.e7)([o.Z],()=>o.Z.getLastUnseenInvite()),T=(0,s.e7)([d.default],()=>null!=m?d.default.getUser(m.inviter_id):null);return(a.useEffect(()=>{n&&I(!1)},[n]),a.useEffect(()=>{if(null==m){I(!1);return}(0,c.Br)(m),I(!0);let e=new l.V7;return e.start(5e3,()=>{I(!1)}),()=>{e.stop()}},[m]),E&&null!=m&&null!=T)?(0,i.jsxs)(r.TooltipLayer,{tooltipClassName:_.tooltip,tooltipContentClassName:_.tooltipContent,targetElementRef:t,position:"bottom",color:r.TooltipColors.BLACK,children:[(0,i.jsxs)("div",{className:_.iconContainer,children:[(0,i.jsx)("img",{className:_.inviteImage,src:m.application_asset,alt:"Game Invite"}),(0,i.jsx)("div",{className:_.offsetAvatarContainer,children:(0,i.jsx)(r.Avatar,{"aria-label":"Inviter",className:_.inviterImage,src:T.getAvatarURL(null,24),size:r.AvatarSizes.SIZE_24})})]}),(0,i.jsxs)("div",{className:_.titleContainer,children:[(0,i.jsx)(r.Text,{className:_.__invalid_title,variant:"text-xs/semibold",children:u.Z.Messages.GAME_INVITES_INVITE_FROM.format({username:T.username})}),(0,i.jsx)(r.Text,{className:_.__invalid_subtitle,variant:"text-xxs/medium",children:m.application_name})]})]}):null}},800530:function(e,t,n){n.d(t,{Cg:function(){return p},Cs:function(){return m},EY:function(){return A},I5:function(){return C},RY:function(){return g},SU:function(){return d},Sv:function(){return S},bK:function(){return I},c6:function(){return x},d9:function(){return R},n0:function(){return _},qS:function(){return T},s:function(){return E},sQ:function(){return f},wo:function(){return u}});var i,a,s,l,r,o,c,d,u,_,E,I,m,T,h=n(981631);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(i=d||(d={})).SETTINGS="SETTINGS",i.ACCOUNT_STANDING="ACCOUNT_STANDING",i.GUILD_SETTINGS="GUILD_SETTINGS",i.ENCRYPTION="ENCRYPTION";class f{}N(f,"TOS_LINK","https://discord.com/terms"),N(f,"COMMUNITY_GUIDELINES","https://discord.com/guidelines"),N(f,"APPEALS_LINK","https://support.discord.com/hc/requests/new?ticket_form_id=360000029731"),N(f,"WARNING_SYSTEM_HELPCENTER_LINK","https://support.discord.com/hc/articles/18210965981847"),N(f,"AGE_VERIFICATION_LINK","https://support.discord.com/hc/requests/new?ticket_form_id=360000029731"),N(f,"SPAM_LINK","https://support.discord.com/hc/requests/new?ticket_form_id=360000029731&tf_360055270593=__dc.ticket_form-tnsv1_appeals_other_questions__");class p{}N(p,"CLASSIFICATION_ID","classification_id"),N(p,"INCIDENT_TIMESTAMP","incident_time"),(a=u||(u={})).POLICY_VIOLATION_DETAIL="policy_violation_detail",a.LEARN_MORE_LINK="learn_more_link";class C{}N(C,"ICON_TYPE","icon_type"),N(C,"HEADER","header"),N(C,"BODY","body"),N(C,"CTAS","ctas"),N(C,"TIMESTAMP","timestamp"),N(C,"THEME","theme"),N(C,"CLIENT_VERSION_MESSAGE","client_version_message"),N(C,"LEARN_MORE_LINK","learn_more_link"),N(C,"CLASSIFICATION_ID","classification_id"),(s=_||(_={}))[s.ViewViolationDetail=0]="ViewViolationDetail",s[s.ViewViolationsDropdown=1]="ViewViolationsDropdown",s[s.ClickLetUsKnow=2]="ClickLetUsKnow",s[s.ClickAgeVerificationLink=3]="ClickAgeVerificationLink",s[s.ClickSpamWebformLink=4]="ClickSpamWebformLink",s[s.ClickLearnMoreLink=5]="ClickLearnMoreLink",s[s.ClickCommunityGuidelinesLink=6]="ClickCommunityGuidelinesLink",s[s.ClickWarningSystemHelpcenterLink=7]="ClickWarningSystemHelpcenterLink",(l=E||(E={}))[l.SystemDM=0]="SystemDM",l[l.StandingTab=1]="StandingTab",l[l.AppealIngestion=2]="AppealIngestion",Object.freeze({SPEED_BUMP:h.jXE.APPEAL_INGESTION_SPEED_BUMP,COLLECT_SIGNAL:h.jXE.APPEAL_INGESTION_COLLECT_SIGNAL,CONFIRM_SUBMISSION:h.jXE.APPEAL_INGESTION_CONFIRM_SUBMISSION,REQUEST_SENT:h.jXE.APPEAL_INGESTION_REQUEST_SENT,THANKS:h.jXE.APPEAL_INGESTION_THANKS,SPAM:h.jXE.APPEAL_INGESTION_SPAM}),(r=I||(I={}))[r.DIDNT_VIOLATE_POLICY=0]="DIDNT_VIOLATE_POLICY",r[r.TOO_STRICT_UNFAIR=1]="TOO_STRICT_UNFAIR",r[r.DONT_AGREE_PENALTY=2]="DONT_AGREE_PENALTY",r[r.SOMETHING_ELSE=3]="SOMETHING_ELSE";let g=[0,1,2,3],S=372,A=279;(o=m||(m={})).SPEED_BUMP="speed-bump",o.COLLECT_SIGNAL="collect-signal",o.CONFIRM_SUBMISSION="confirm-submission",o.REQUEST_SENT="request-sent",o.THANKS="thanks";let R={"speed-bump":{next:"collect-signal",prev:null},"collect-signal":{next:"confirm-submission",prev:"speed-bump"},"confirm-submission":{next:"request-sent",prev:"collect-signal"},"request-sent":{next:null,prev:null}},x={"collect-signal":{next:"thanks",prev:null},thanks:{next:null,prev:null}};(c=T||(T={}))[c.USER=1]="USER",c[c.GUILD_OWNER=2]="GUILD_OWNER",c[c.GUILD_MEMBER=3]="GUILD_MEMBER"},531441:function(e,t,n){var i,a,s,l,r,o,c,d,u,_,E,I,m;n.d(t,{OY:function(){return c},Sn:function(){return o},hQ:function(){return s},lK:function(){return i},wO:function(){return a}}),(i||(i={})).MESSAGE="message",(d=a||(a={}))[d.OWNER=1]="OWNER",d[d.MEMBER=2]="MEMBER",(u=s||(s={}))[u.REVIEW_PENDING=1]="REVIEW_PENDING",u[u.CLASSIFICATION_UPHELD=2]="CLASSIFICATION_UPHELD",u[u.CLASSIFICATION_INVALIDATED=3]="CLASSIFICATION_INVALIDATED",(_=l||(l={}))[_.UNSPECIFIED=0]="UNSPECIFIED",_[_.UNKNOWN=1]="UNKNOWN",_[_.UNSOLICITED_PORNOGRAPHY=100]="UNSOLICITED_PORNOGRAPHY",_[_.NONCONSENSUAL_PORNOGRAPHY=200]="NONCONSENSUAL_PORNOGRAPHY",_[_.GLORIFYING_VIOLENCE=210]="GLORIFYING_VIOLENCE",_[_.HATE_SPEECH=220]="HATE_SPEECH",_[_.CRACKED_ACCOUNTS=230]="CRACKED_ACCOUNTS",_[_.ILLICIT_GOODS=240]="ILLICIT_GOODS",_[_.SOCIAL_ENGINEERING=250]="SOCIAL_ENGINEERING",_[_.TEST_CLASSIFICATION=9e3]="TEST_CLASSIFICATION",_[_.TEST_CLASSIFICATION_LOW=9001]="TEST_CLASSIFICATION_LOW",_[_.TEST_CLASSIFICATION_SEVERE=9002]="TEST_CLASSIFICATION_SEVERE",(E=r||(r={}))[E.BAN=0]="BAN",E[E.TEMP_BAN=1]="TEMP_BAN",E[E.GLOBAL_QUARANTINE=2]="GLOBAL_QUARANTINE",E[E.REQUIRE_VERIFICATION=3]="REQUIRE_VERIFICATION",E[E.USER_WARNING=4]="USER_WARNING",E[E.USER_SPAMMER=5]="USER_SPAMMER",E[E.CHANNEL_SPAM=6]="CHANNEL_SPAM",E[E.MESSAGE_SPAM=7]="MESSAGE_SPAM",E[E.DISABLE_SUSPICIOUS_ACTIVITY=8]="DISABLE_SUSPICIOUS_ACTIVITY",E[E.LIMITED_ACCESS=9]="LIMITED_ACCESS",E[E.CHANNEL_SCHEDULE_DELETE=10]="CHANNEL_SCHEDULE_DELETE",E[E.MESSAGE_CONTENT_REMOVAL=11]="MESSAGE_CONTENT_REMOVAL",E[E.GUILD_DISABLE_INVITE=12]="GUILD_DISABLE_INVITE",E[E.USER_CONTENT_REMOVAL=13]="USER_CONTENT_REMOVAL",E[E.USER_USERNAME_MANGLE=14]="USER_USERNAME_MANGLE",E[E.GUILD_LIMITED_ACCESS=15]="GUILD_LIMITED_ACCESS",E[E.USER_MESSAGE_REMOVAL=16]="USER_MESSAGE_REMOVAL",E[E.GUILD_DELETE=20]="GUILD_DELETE",(I=o||(o={}))[I.ALL_GOOD=100]="ALL_GOOD",I[I.LIMITED=200]="LIMITED",I[I.VERY_LIMITED=300]="VERY_LIMITED",I[I.AT_RISK=400]="AT_RISK",I[I.SUSPENDED=500]="SUSPENDED",(m=c||(c={}))[m.PENDING=0]="PENDING",m[m.SUCCESS=1]="SUCCESS",m[m.FAILED=2]="FAILED"},788080:function(e,t,n){n.d(t,{FB:function(){return h},Pu:function(){return f},Vt:function(){return I},XX:function(){return u},Zs:function(){return N},c7:function(){return T},eS:function(){return _},fr:function(){return E},ox:function(){return m}}),n(724458);var i=n(913527),a=n.n(i),s=n(406432),l=n(531441),r=n(800530),o=n(981631),c=n(959517),d=n(689938);function u(e){return a()().to(a()(e))}function _(e){var t,n;return(0,s.CO)(e.filename)||(0,s.NU)(e.filename)?"".concat(c._j).concat(null!==(t=e.filename)&&void 0!==t?t:".png"):null!==(n=e.filename)&&void 0!==n?n:""}function E(e){var t,n,i,a;if(null==e.fields)return;let s=e.fields.reduce((e,t)=>(e[t.rawName]=t.rawValue,e),{});return{header:null!==(t=s[r.I5.HEADER])&&void 0!==t?t:"",icon:s[r.I5.ICON_TYPE],body:null!==(n=s[r.I5.BODY])&&void 0!==n?n:"",ctas:(null!==(i=s[r.I5.CTAS])&&void 0!==i?i:"").split(",").filter(e=>""!==e),timestamp:parseFloat(null!==(a=s[r.I5.TIMESTAMP])&&void 0!==a?a:0),theme:s[r.I5.THEME],learn_more_link:s[r.I5.LEARN_MORE_LINK],classification_id:s[r.I5.CLASSIFICATION_ID]}}function I(e){if(e.type===l.lK.MESSAGE)return""===e.content&&0===e.attachments.length;return!0}let m=e=>({[r.bK.DIDNT_VIOLATE_POLICY]:d.Z.Messages.APPEAL_INGESTION_MODAL_COLLECT_SIGNAL_DIDNT_VIOLATE_POLICY,[r.bK.TOO_STRICT_UNFAIR]:d.Z.Messages.APPEAL_INGESTION_MODAL_COLLECT_SIGNAL_TOO_STRICT_UNFAIR,[r.bK.DONT_AGREE_PENALTY]:d.Z.Messages.APPEAL_INGESTION_MODAL_COLLECT_SIGNAL_DONT_AGREE_PENALTY,[r.bK.SOMETHING_ELSE]:d.Z.Messages.APPEAL_INGESTION_MODAL_COLLECT_SIGNAL_SOMETHING_ELSE})[e],T=e=>null==e||0===e.length?"":1===e.length?e.toUpperCase():"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function h(e){return null!=e&&null!=e.guild_metadata}let N=e=>{if(e===o.evJ.DSA_APPEAL_REQUEST_DEFLECTION)return d.Z.Messages.APPEAL_INGESTION_MODAL_CONFIRM_SUBMISSION_DEFLECTION_ERROR;return d.Z.Messages.APPEAL_INGESTION_MODAL_CONFIRM_SUBMISSION_ERROR};function f(e){let t=e.max_expiration_time;if(null==t)return null;try{return new Date(t)}catch{return null}}},699833:function(e,t,n){n.d(t,{i:function(){return _}});var i=n(735250);n(470079);var a=n(913527),s=n.n(a),l=n(692547),r=n(481060),o=n(800530),c=n(689938),d=n(530271);let u=e=>s()().diff(s().unix(e),"days");function _(e){var t,a,s,_,E;if(null==e.message.embeds||null==e.message.embeds[0].fields)return null;let I=e.message.embeds[0],m=null!==(s=null===(t=I.fields)||void 0===t?void 0:t.find(e=>e.rawName===o.Cg.CLASSIFICATION_ID))&&void 0!==s?s:void 0,T=null!==(_=null==m?void 0:m.rawValue)&&void 0!==_?_:void 0,h=null!==(E=null===(a=I.fields)||void 0===a?void 0:a.find(e=>e.rawName===o.Cg.INCIDENT_TIMESTAMP))&&void 0!==E?E:void 0,N=null==h||null==h.rawValue?void 0:parseFloat(h.rawValue);return null==T||null==N?null:(0,i.jsxs)(r.Clickable,{onClick:()=>{(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("18831"),n.e("16397")]).then(n.bind(n,41164));return t=>(0,i.jsx)(e,{classificationId:T,source:o.s.SystemDM,transitionState:t.transitionState,onClose:t.onClose})})},className:d.safetyPolicyNoticeContainer,children:[(0,i.jsxs)("div",{className:d.noticeContent,children:[(0,i.jsxs)("div",{className:d.headerRow,children:[(0,i.jsx)(r.WarningIcon,{className:d.warningIcon,color:l.Z.colors.STATUS_DANGER}),(0,i.jsx)(r.Text,{variant:"text-md/semibold",children:c.Z.Messages.SAFETY_POLICY_NOTICE_HEADER})]}),(0,i.jsx)("div",{className:d.incidentTiming,children:(0,i.jsx)(r.Text,{variant:"text-xs/medium",children:c.Z.Messages.SAFETY_POLICY_NOTICE_DAYS_AGO.format({daysAgo:u(N)})})}),(0,i.jsx)("div",{className:d.noticeBody,children:(0,i.jsx)(r.Text,{variant:"text-md/normal",color:"text-muted",children:c.Z.Messages.SAFETY_POLICY_NOTICE_BODY})})]}),(0,i.jsx)("div",{className:d.footerContainer,children:(0,i.jsx)(r.Button,{look:r.Button.Looks.BLANK,className:d.detailsButton,color:r.Button.Colors.WHITE,children:c.Z.Messages.SAFETY_POLICY_NOTICE_BUTTON})})]})}},344997:function(e,t,n){n.d(t,{g:function(){return N}});var i=n(735250);n(470079);var a=n(913527),s=n.n(a),l=n(692547),r=n(481060),o=n(788080),c=n(800530),d=n(689938),u=n(748737);let _=e=>s()().diff(s().unix(e),"days");function E(e){let{classificationId:t}=e;return(0,i.jsx)(r.Anchor,{onClick:()=>{(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("18831"),n.e("16397")]).then(n.bind(n,41164));return n=>(0,i.jsx)(e,{classificationId:t,source:c.s.SystemDM,transitionState:n.transitionState,onClose:n.onClose})})},className:u.detailsButton,children:d.Z.Messages.SAFETY_SYSTEM_NOTIFICATION_SEE_DETAILS_BUTTON})}function I(e){let{learnMoreLink:t}=e;return(0,i.jsx)(r.Anchor,{className:u.detailsButton,href:t,children:d.Z.Messages.SAFETY_SYSTEM_NOTIFICATION_LEARN_MORE_BUTTON})}function m(e){let{ctaType:t,classificationId:n,learnMoreLink:a}=e;switch(t){case c.wo.POLICY_VIOLATION_DETAIL:if(null==n)return null;return(0,i.jsx)(E,{classificationId:n});case c.wo.LEARN_MORE_LINK:if(null==a)return null;return(0,i.jsx)(I,{learnMoreLink:a});default:return null}}function T(e){let{iconType:t}=e,n={default:(0,i.jsx)(r.AnnouncementsIcon,{size:"xs",color:l.Z.colors.TEXT_LINK.css}),danger:(0,i.jsx)(r.WarningIcon,{color:l.Z.colors.STATUS_DANGER})};return null!=t&&t in n?(0,i.jsx)("div",{className:u.icon,children:n[t]}):null}function h(e){let{children:t,theme:n}=e,a={default:u.defaultFooterContainer,danger:u.dangerFooterContainer};return(0,i.jsx)("div",{className:a[null!=n?n:"default"],children:t})}function N(e){var t,n;if(null==e.embed||null==e.embed.fields)return null;let a=(0,o.fr)(e.embed);return null==a?null:(0,i.jsxs)(r.Clickable,{className:u.safetyPolicyNoticeContainer,children:[(0,i.jsxs)("div",{className:u.noticeContent,children:[(0,i.jsxs)("div",{className:u.headerRow,children:[(0,i.jsx)(T,{iconType:a.icon}),(0,i.jsx)(r.Text,{variant:"text-md/semibold",children:a.header})]}),(0,i.jsx)("div",{className:u.incidentTiming,children:(0,i.jsx)(r.Text,{variant:"text-xs/medium",children:d.Z.Messages.SAFETY_POLICY_NOTICE_DAYS_AGO.format({daysAgo:_(null!==(n=a.timestamp)&&void 0!==n?n:0)})})}),(0,i.jsx)("div",{className:u.noticeBody,children:(0,i.jsx)(r.Text,{variant:"text-md/normal",color:"text-muted",children:a.body})})]}),(0,i.jsx)(h,{theme:a.theme,children:null===(t=a.ctas)||void 0===t?void 0:t.map(e=>(0,i.jsx)(m,{ctaType:e,classificationId:a.classification_id,learnMoreLink:a.learn_more_link},e))})]})}},905567:function(e,t,n){n.d(t,{C:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2023-05_safety_user_sentiment",label:"Safety User Sentiment Feedback Eligible",defaultConfig:{isEligible:!1},treatments:[{id:1,label:"Eligible",config:{isEligible:!0}}]})},523255:function(e,t,n){n.d(t,{SI:function(){return c},hZ:function(){return u}});var i=n(913527),a=n.n(i),s=n(835913),l=n(675478),r=n(581883),o=n(905567);let c=e=>{var t;if(!d(e))return!1;let n=null===(t=r.Z.settings.userContent)||void 0===t?void 0:t.safetyUserSentimentNoticeDismissedAt,i=null!=n?s.E.toDate(n):void 0,l=null!=i?a()().diff(i,"days"):null,c=null!=n;if(c&&!(null!=l&&l>30))return!1;let{isEligible:u}=o.C.getCurrentConfig({location:"657a81_1"},{autoTrackExposure:!0});return u},d=e=>null!=e&&Date.now()-e.createdAt.getTime()>2592e6,u=()=>{let e=s.E.now();l.hW.updateAsync("userContent",t=>{t.safetyUserSentimentNoticeDismissedAt=e},l.fy.INFREQUENT_USER_ACTION)}},854709:function(e,t,n){n.d(t,{X:function(){return a}});var i=n(594174);function a(){var e,t;return null!==(t=null===(e=i.default.getCurrentUser())||void 0===e?void 0:e.isStaff())&&void 0!==t&&t}},208450:function(e,t,n){n(757143);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(371917),o=n(299608),c=n.n(o),d=n(442837),u=n(481060),_=n(603263),E=n(461745),I=n(349033),m=n(999650),T=n(857595),h=n(607070),N=n(367907),f=n(592125),p=n(984933),C=n(768119),g=n(944486),S=n(153124),A=n(585483),R=n(72006),x=n(405656),O=n(181389),M=n(854709),v=n(778177),L=n(981631),Z=n(689938),P=n(514646);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(72385);let D=(0,S.hQ)(),j=c()(_.yC,500);class U extends a.PureComponent{componentDidMount(){var e,t;A.S.subscribe(L.CkL.PERFORM_SEARCH,this.search),A.S.subscribe(L.CkL.SET_SEARCH_QUERY,this.handleSetSearchQuery),A.S.subscribe(L.CkL.FOCUS_SEARCH,this.handleFocusSearch),null===(t=this._editorRef)||void 0===t||null===(e=t.editor)||void 0===e||e.setAttribute("aria-haspopup","listbox")}componentDidUpdate(e){let{editorState:t,searchId:n}=this.props;if(t!==e.editorState){let e=x.kG(R.Sq(t)),i=O.g9(e,t);_.u$(n,e,i),null!=this._editorRef&&R.iE(this._editorRef.editor)}}componentWillUnmount(){A.S.unsubscribe(L.CkL.PERFORM_SEARCH,this.search),A.S.unsubscribe(L.CkL.SET_SEARCH_QUERY,this.handleSetSearchQuery),A.S.unsubscribe(L.CkL.FOCUS_SEARCH,this.handleFocusSearch)}tokenize(e){let t=x.kG(R.Sq(e)).filter(e=>e.type!==I.ZP.NON_TOKEN_TYPE);return R.lv(t,e,m.ZP)}clearSearch(){let{searchId:e}=this.props;null!=e&&_.qt(e)}handlePastedFiles(){return!0}handleDroppedFiles(){return!0}handleDrop(){return!0}renderInput(e){let{editorState:t}=this.props;return(0,i.jsx)(r.Editor,{autoCorrect:"off",ref:this.setEditorRef,onBlur:this.onBlur,onFocus:this.onFocus,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handleKeyCommand:this.handleKeyCommand,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,handleDroppedFiles:this.handleDroppedFiles,handleDrop:this.handleDrop,keyBindingFn:this.handleKeyBind,placeholder:Z.Z.Messages.SEARCH,editorState:t,onChange:this.setEditorState,role:"combobox",ariaExpanded:e,ariaControls:e?D:void 0,ariaLabel:Z.Z.Messages.SEARCH,ariaAutocomplete:"list"})}render(){let{searchId:e,editorState:t,hasResults:n,className:a}=this.props,{focused:s}=this.state,r=R.Sq(t).length>0;return null==e?null:(0,i.jsx)(u.Popout,{renderPopout:this.renderPopout,position:"bottom",animation:u.Popout.Animation.NONE,shouldShow:s,autoInvert:!1,children:(t,o)=>{var c;let{isShown:d}=o;return(0,i.jsx)("div",{className:a,children:(0,i.jsx)("div",{className:l()(P.search,{[P.open]:r||s,[P.focused]:s}),children:(0,i.jsx)(u.FocusRing,{focusTarget:{current:null===(c=this._editorRef)||void 0===c?void 0:c.editor},ringTarget:this._searchBarRef,children:(0,i.jsxs)("div",{className:P.searchBar,ref:this._searchBarRef,children:[this.renderInput(d),(0,i.jsx)(E.BK,{onClear:this.handleClearSearch,hasContent:r||n,className:P.icon})]},e)})})})}})}constructor(e){super(e),b(this,"state",{focused:!1,selectedIndex:void 0}),b(this,"_editorRef",void 0),b(this,"_searchBarRef",a.createRef()),b(this,"_searchPopoutRef",a.createRef()),b(this,"handleSetSearchQuery",e=>{let{query:t,anchor:n,focus:i,performSearch:a,replace:s}=e,{editorState:l}=this.props,r=R.Sq(l);" "!==t.charAt(t.length-1)&&(t+=" "),null!=n&&0!==n&&" "!==r.charAt(n-1)&&" "!==t.charAt(0)&&(t=" "+t),s?(l=R.c2(t,l),n=0):l=R.x0(t,l,n,i),l=R.Hl(l,512),l=this.tokenize(l);let o=Number(n)+t.length;l=R.iK(o,l),this.setEditorState(l),a&&this.search({queryString:R.Sq(l)})}),b(this,"handleSelectedIndexChanged",e=>{var t,n;null===(n=this._editorRef)||void 0===n||null===(t=n.editor)||void 0===t||t.setAttribute("aria-activedescendant",null!=e?"".concat(D,"-").concat(e):void 0),this.setState({selectedIndex:e})}),b(this,"renderPopout",()=>(0,i.jsx)(v.ZP,{ref:this._searchPopoutRef,navId:D,onSelectedIndexChanged:this.handleSelectedIndexChanged})),b(this,"search",e=>{let{searchId:t,isSearching:n}=this.props,{queryString:i,searchEverywhere:a}=null!=e?e:{};if(null==i||""===i){let{editorState:e}=this.props;i=R.Sq(e)}if(null!=t&&!n){let e=x.kG(i),n=x.$G(e);for(let t=0;t<e.length;t++)!x.Fr(e[t],e[t+1])&&(i=i.substring(0,e[t].start)+i.substring(e[t].end));if(0===e.length||0===Object.keys(n).length)return!1;j(t,n,i,!!a),u.AccessibilityAnnouncer.announce(Z.Z.Messages.SEARCH_STARTED_A11Y_ANNOUNCE),this.onBlur()}return!0}),b(this,"handleClearSearch",e=>{let{editorState:t}=this.props,{focused:n}=this.state;if(e.preventDefault(),e.stopPropagation(),""===R.Sq(t)){this.focusEditor();return}t=R.Hl(t,0),this.setEditorState(t),!n&&Promise.resolve().then(()=>this.blurEditor())}),b(this,"handleFocusSearch",e=>{let{prefillCurrentChannel:t}=e;if(!t){this.focusEditor();return}let n=g.Z.getChannelId(),i=f.Z.getChannel(n);if((null==i?void 0:i.isThread())&&(i=f.Z.getChannel(null==i?void 0:i.parent_id)),null==i||i.isPrivate()){this.focusEditor();return}let a=p.ZP.getTextChannelNameDisambiguations(i.getGuildId())[i.id],s=null!=a?a.name:i.name;this.handleSetSearchQuery({query:m.ZP[L.dCx.FILTER_IN].key+"#".concat(s," "),replace:!0})}),b(this,"focusEditor",()=>{let{_editorRef:e}=this;null!=e&&Promise.resolve().then(()=>e.focus())}),b(this,"blurEditor",()=>{var e;null===(e=this._editorRef)||void 0===e||e.blur()}),b(this,"setEditorRef",e=>{this._editorRef=e}),b(this,"onFocus",()=>{let{searchType:e}=this.props;N.ZP.trackWithMetadata(L.rMx.SEARCH_OPENED,{search_type:e}),this.setState({focused:!0})}),b(this,"onBlur",()=>{this.setState({focused:!1},()=>{R.xb(this.props.editorState)&&this.clearSearch()})}),b(this,"handleReturn",e=>{let{shiftKey:t}=e;e.preventDefault();let{current:n}=this._searchPopoutRef;return!(null!=n&&n.selectOption())&&((0,M.X)()&&t?this.search({searchEverywhere:!0}):this.search()),!0}),b(this,"handleBeforeInput",e=>{let{editorState:t}=this.props,{focused:n}=this.state;return!!(R.Sq(t).length>=512)||(t=R.x0(e,t),t=R.Hl(t,512),t=this.tokenize(t),this.setEditorState(t),!n&&this.setState({focused:!0}),!0)}),b(this,"handleKeyCommand",e=>{let{editorState:t}=this.props,{focused:n}=this.state;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":return t=R.yd(e,t),t=this.tokenize(t),this.setEditorState(t),!n&&this.setState({focused:!0}),!0;case"transpose-characters":case"move-selection-to-start-of-block":case"move-selection-to-end-of-block":return t=R.Zn(e,t),t=this.tokenize(t),this.setEditorState(t),!0;case"split-block":case"underline":case"bold":case"italic":return!0}}),b(this,"handlePastedText",e=>{let{editorState:t}=this.props,{focused:n}=this.state;return e=null!=e?e.replace(/\n/g,""):"",t=R.x0(e,t),t=R.Hl(t,512),t=this.tokenize(t),!n&&this.setState({focused:!0}),this.setEditorState(t),!0}),b(this,"setEditorState",e=>{let{searchId:t}=this.props;_.j8(t,e)}),b(this,"handleKeyBind",e=>{let{key:t,metaKey:n,shiftKey:i}=e,{editorState:a,searchId:s,keyboardModeEnabled:l}=this.props;if(e.stopPropagation(),"Escape"===t){if(e.preventDefault(),R.xb(a))this.blurEditor();else{let e=R.FZ(a);_.j8(s,e),this.setState({focused:!0})}return!0}if("ArrowUp"===t){e.preventDefault();let{current:t}=this._searchPopoutRef;return null!=t&&t.focusPreviousOption(),!0}if("ArrowDown"===t){e.preventDefault();let{current:t}=this._searchPopoutRef;return null!=t&&t.focusNextOption(),!0}if("Tab"===t){if(l)return;return(0,T.Qj)(),!0}if("Home"===t||"ArrowLeft"===t&&n)return e.preventDefault(),a=i?R.R8(a):R.eE(a),this.setEditorState(a),!0;if("End"===t||"ArrowRight"===t&&n)return e.preventDefault(),a=i?R.Wg(a):R.NJ(a),this.setEditorState(a),!0;if(("Delete"===t||"Backspace"===t)&&n){let e=R.FZ(a);return this.setEditorState(e),!0}return R.q0(e)}),x.WU()}}t.Z=d.ZP.connectStores([h.Z,C.Z],()=>{var e;let t=C.Z.getCurrentSearchId(),n=C.Z.getSearchType(),i=null!=t&&C.Z.isSearching(t),a=null!=t&&null!==(e=C.Z.getEditorState(t))&&void 0!==e?e:R.nR(O.Jl(m.ZP)),s=h.Z.keyboardModeEnabled;return{searchId:t,searchType:n,isSearching:i,editorState:a,hasResults:C.Z.hasResults(t),keyboardModeEnabled:s}})(U)},778177:function(e,t,n){n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(512722),o=n.n(r),c=n(392711),d=n.n(c),u=n(913527),_=n.n(u),E=n(608787),I=n(442837),m=n(481060),T=n(603263),h=n(542051),N=n(349033),f=n(999650),p=n(933557),C=n(471445),g=n(592125),S=n(271383),A=n(699516),R=n(250758),x=n(944486),O=n(914010),M=n(246946),v=n(594174),L=n(585483),Z=n(63063),P=n(405656),b=n(51144),D=n(854709),j=n(981631),U=n(689938),y=n(644058);function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let k=_()("2015-05-15").local(),G=(0,E.Un)({createPromise:()=>Promise.resolve().then(n.bind(n,547800)),webpackId:547800}),F=(e,t,n)=>{var a,s,l;let{user:r,text:o}=n;if(null==r)return(0,i.jsx)("strong",{children:o});let c=v.default.getUser(r.id),d=g.Z.getChannel(e),u=(null==d?void 0:d.isPrivate())?A.Z.getNickname(r.id):null,_=null!==(s=null!==(a=S.ZP.getNick(e,r.id))&&void 0!==a?a:u)&&void 0!==s?s:b.ZP.getName(r),E=null!==(l=null==c?void 0:c.getAvatarURL(e,20))&&void 0!==l?l:r.getAvatarURL(null==d?void 0:d.guild_id,20);return[(0,i.jsx)("img",{alt:"",className:y.displayAvatar,src:E},"avatar-".concat(t,"-").concat(r.id)),(0,i.jsx)("span",{className:y.displayedNick,children:_},"display-nick-".concat(t,"-").concat(r.id)),(0,i.jsx)("span",{className:y.displayUsername,children:b.ZP.getUserTag(r,{identifiable:M.Z.enabled&&M.Z.hidePersonalInformation?"never":"always"})},"display-username-".concat(t,"-").concat(r.id))]},w=(e,t,n)=>{let{channel:a,text:s}=n;if(null==a)return(0,i.jsx)("strong",{children:s});let l=g.Z.getChannel(a.parent_id),r=(0,C.KS)(a);return(0,i.jsxs)("div",{className:y.resultChannel,children:[null!=r?(0,i.jsx)(r,{className:y.searchResultChannelIcon}):null,(0,i.jsx)("strong",{children:(0,p.F6)(a,v.default,A.Z)}),null!=l?(0,i.jsx)("span",{className:y.searchResultChannelCategory,children:(0,p.F6)(l,v.default,A.Z)}):null]})},V=e=>{let t,n,{id:a,searchId:s,result:r,group:o,className:c,role:d,tabIndex:u,"aria-selected":_,onSelect:E,onFocus:I,showFilter:T,renderResult:h}=e;if(T){var N,p;t=(0,i.jsx)("span",{className:y.filter,children:null!==(p=null===(N=f.ZP[o])||void 0===N?void 0:N.key)&&void 0!==p?p:"addme:"})}return n=null!=h?h(s,o,r):(0,i.jsx)("strong",{children:r.text}),(0,i.jsxs)(m.Clickable,{tag:"li",className:l()(y.option,c),onClick:E,onFocus:I,id:a,role:d,tabIndex:u,"aria-selected":_,children:[t,n,(0,i.jsx)(m.PlusSmallIcon,{size:"sm",color:"currentColor",className:y.plusIcon})]})},H=e=>(0,i.jsx)(V,{...e,className:y.user,renderResult:F}),Y={[j.dCx.FILTER_FROM]:{titleText:()=>U.Z.Messages.SEARCH_GROUP_HEADER_FROM,component:H},[j.dCx.FILTER_MENTIONS]:{titleText:()=>U.Z.Messages.SEARCH_GROUP_HEADER_MENTIONS,component:H},[j.dCx.FILTER_HAS]:{titleText:()=>U.Z.Messages.SEARCH_GROUP_HEADER_HAS},[j.dCx.FILTER_FILE_TYPE]:{titleText:()=>U.Z.Messages.SEARCH_GROUP_HEADER_FILE_TYPE},[j.dCx.FILTER_IN]:{titleText:()=>U.Z.Messages.SEARCH_GROUP_HEADER_CHANNELS,component:e=>(0,i.jsx)(V,{...e,renderResult:w})},[j.rtL.DATES]:{titleText:()=>U.Z.Messages.SEARCH_GROUP_HEADER_DATES},[j.rtL.HISTORY]:{titleText:()=>U.Z.Messages.SEARCH_GROUP_HEADER_HISTORY,groupTip(e){let{searchId:t}=e;return(0,i.jsx)(m.Tooltip,{text:U.Z.Messages.SEARCH_CLEAR_HISTORY,position:"left",children:e=>{let{onMouseEnter:n,onMouseLeave:a}=e;return(0,i.jsx)(m.Clickable,{onClick:()=>(0,T.QQ)(t),onMouseEnter:n,onMouseLeave:a,className:y.searchClearHistory,title:U.Z.Messages.SEARCH_CLEAR_HISTORY,"aria-label":U.Z.Messages.SEARCH_CLEAR_HISTORY,children:(0,i.jsx)(m.TrashIcon,{size:"md",color:"currentColor"})})}})},component:function(e){let{onSelect:t,onFocus:n,result:s,showFilter:r,searchId:o,renderResult:c,group:d,...u}=e,_="",E=a.useMemo(()=>{var e;return e=s.text,P.kG(e).map((e,t,n)=>P.Fr(e,n[t+1])?e:new N.WU(e.getFullMatch(),N.Xe))},[s.text]).map(e=>{let t=e.getFullMatch();if(""===t.trim())return null;let n=j.TNx.test(e.type),a=j.KA4.test(e.type);return _+=t,(0,i.jsx)("span",{className:l()({[y.filter]:n,[y.answer]:a,[y.nonText]:!n&&!a}),children:t},e.type+t)});return(0,i.jsxs)(m.Clickable,{className:l()(y.option,y.__invalid_history),onClick:t,onFocus:n,...u,"aria-label":U.Z.Messages.SEARCH_FROM_SUGGESTIONS.format({suggestion:_}),children:[E,(0,i.jsx)(m.PlusSmallIcon,{size:"sm",color:"currentColor",className:y.plusIcon})]})}},[j.rtL.SEARCH_OPTIONS]:{titleText:()=>U.Z.Messages.SEARCH_GROUP_HEADER_SEARCH_OPTIONS,groupTip:()=>(0,i.jsx)(m.Tooltip,{text:U.Z.Messages.LEARN_MORE,position:"left",children:e=>(0,i.jsx)("div",{className:y.searchLearnMore,...e,children:(0,i.jsx)(m.Anchor,{href:Z.Z.getArticleURL(j.BhN.USING_SEARCH),title:U.Z.Messages.LEARN_MORE,children:(0,i.jsx)(m.CircleQuestionIcon,{size:"md",color:"currentColor"})})})}),component:function(e){var t;let{result:n,onSelect:a,onFocus:s,showFilter:r,searchId:o,...c}=e,d=P.Ko(null!==(t=n.token)&&void 0!==t?t:"");return(0,i.jsxs)(m.Clickable,{className:l()(y.option,y.searchOption),onClick:a,onFocus:s,...c,children:[(0,i.jsx)("span",{className:y.filter,children:n.text}),(0,i.jsx)("span",{className:l()({[y.answer]:d}),children:d}),(0,i.jsx)(m.PlusSmallIcon,{size:"sm",color:"currentColor",className:y.plusIcon})]})}}};class W extends a.PureComponent{componentDidUpdate(e,t){let{resultsState:n,totalResults:i}=this.props,{mode:a}=n,{resultsState:s}=e;null!=a.filter&&null==s.mode.filter&&i>0?this.setSelectedIndex(0):a.type===j.Sap.FILTER_ALL&&s.mode.type!==a.type?this.setSelectedIndex(-1):this.keepCurrentOptionSelected(e,t)}setSelectedIndex(e){this.setState({selectedIndex:e},()=>this.props.onSelectedIndexChanged(e))}render(){let{selectedIndex:e}=this.state,{navId:t,resultsState:n,totalResults:a,searchId:s}=this.props;return(0,i.jsx)(h.Z,{numResults:a,query:n.query,navId:t,hideQuery:!this.shouldShowSearchQuery(),focusedIndex:e,renderCustomResults:this.renderAutocompletes,renderInitialState:this.renderAutocompletes,onHighlightQuery:()=>this.focusOption(-1),onSelectQuery:this.performSearch,onSelectSearchEverywhere:()=>this.performSearch({searchEverywhere:!0}),renderNoResults:()=>null,searchFavorites:s===j.I_8&&(0,D.X)()})}constructor(...e){var t;super(...e),t=this,B(this,"state",{dateHint:(0,f.Pr)(),selectedIndex:-1}),B(this,"handleDateChange",e=>{this.setSearchQuery(e.format(j.b2L)+" ",!0)}),B(this,"keepCurrentOptionSelected",(e,t)=>{let{selectedIndex:n}=this.state,{resultsState:i,totalResults:a}=this.props,{mode:s,autocompletes:l}=i,{resultsState:r}=e;if(s.type!==r.mode.type)this.setSelectedIndex(-1);else if(t.selectedIndex>=0&&(t.selectedIndex===n||r.autocompletes.length!==l.length)){let e=P.zV(r.autocompletes,r.mode.type)[t.selectedIndex-1],n=P.zV(l,s.type).indexOf(e);-1!==n?this.setSelectedIndex(n):t.selectedIndex>=a&&this.setSelectedIndex(a-1)}}),B(this,"focusNextOption",()=>{this.focusOtherOption(1)}),B(this,"focusPreviousOption",()=>{this.focusOtherOption(-1)}),B(this,"focusOtherOption",e=>{let{selectedIndex:t}=this.state,{resultsState:n}=this.props;if(!P.Fz(n.mode.filter))this.focusOption(t+e)}),B(this,"focusOption",e=>{let t=e,{autocompletes:n}=this.props.resultsState,i=this.shouldShowSearchQuery();t<-1||!i&&t<0?t=P.BU(n)-1:i&&t>=P.BU(n)?t=-1:!i&&t>=P.BU(n)&&(t=0),this.setSelectedIndex(t)}),B(this,"selectOption",e=>{let t=e;if(null==t&&(t=this.state.selectedIndex),t<0)return!1;let{autocompletes:n,mode:i}=this.props.resultsState;if(P.Fz(i.filter))return;let a=P.zV(n,i.type);if(t>=a.length)return!1;let s=a[t],l=function(e){let t=!0,n=e.trim();return d()(f.ZP).forOwn(e=>{""!==e.key&&null!=e.key&&n===e.key&&(t=!1)}),t}(s);return this.setSearchQuery(s,l),!0}),B(this,"setSearchQuery",function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{mode:i,cursorScope:a}=t.props.resultsState,s=0;null!=i.token?s=i.token.start:(null==a?void 0:a.currentToken)!=null&&(s=a.currentToken.end);let l=null!=i.token?i.token.end:s;L.S.dispatch(j.CkL.SET_SEARCH_QUERY,{query:e,anchor:s,focus:l,performSearch:n}),t.setSelectedIndex(-1)}),B(this,"shouldShowSearchQuery",()=>{let{mode:e}=this.props.resultsState;return e.type!==j.Sap.FILTER&&e.type!==j.Sap.EMPTY&&!P.Fz(e.filter)}),B(this,"renderDatePicker",()=>(0,i.jsxs)("div",{className:y.datePicker,children:[(0,i.jsx)(G,{onSelect:this.handleDateChange,maxDate:_()().local(),minDate:k}),(0,i.jsxs)("div",{className:y.datePickerHint,children:[(0,i.jsxs)("span",{className:y.hint,children:[U.Z.Messages.SEARCH_DATE_PICKER_HINT,"\xa0"]}),(0,i.jsx)(m.Clickable,{tag:"span",className:y.hintValue,onClick:this.handleHintClick,children:this.state.dateHint})]})]})),B(this,"handleHintClick",()=>{this.setSearchQuery(this.state.dateHint,!0)}),B(this,"performSearch",e=>{L.S.dispatch(j.CkL.PERFORM_SEARCH,null!=e?e:{})}),B(this,"renderAutocompletes",()=>{let{selectedIndex:e}=this.state,{navId:t,searchId:n}=this.props,{autocompletes:a,mode:s}=this.props.resultsState;if(P.Fz(s.filter))return this.renderDatePicker();let l=-1;return a.map(a=>{var r,o,c;let d,u;if(null==a||0===a.results.length)return null;let _=null!==(r=Y[a.group])&&void 0!==r?r:{};null!=_.titleText&&(u="".concat(a.group,"-header"),d=(0,i.jsx)("div",{id:u,className:y.header,children:_.titleText()}));let E=null!==(o=_.groupTip)&&void 0!==o?o:null,I=null!=E?(0,i.jsx)(E,{searchId:n}):null,m=null!==(c=_.component)&&void 0!==c?c:V,T=s.type===j.Sap.FILTER_ALL;return(0,i.jsxs)("ul",{role:"group","aria-labelledby":u,className:y.resultsGroup,children:[d,I,a.results.map(s=>{var r,o;if(null==s||null==a)return null;let c=e===(l+=1);return(0,i.jsx)(m,{searchId:n,group:null!==(r=s.group)&&void 0!==r?r:a.group,result:s,showFilter:T,onSelect:this.selectOption.bind(null,l),onFocus:this.focusOption.bind(null,l),...(0,h.M)(t,l,c)},"".concat(a.group,"-").concat(s.text,"-").concat(null!==(o=s.key)&&void 0!==o?o:""))})]},a.group)})})}}t.ZP=a.forwardRef((e,t)=>{let[n,a,s]=(0,I.Wu)([O.Z,x.Z,R.Z],()=>{let e=O.Z.getGuildId(),t=x.Z.getChannelId(),n=null!=e?e:t;o()(null!=n,"SearchPopout.getStateFromStores - invalid searchId");let i=R.Z.getState(n),a=P.BU(i.autocompletes);return[n,i,a]});return(0,i.jsx)(W,{...e,searchId:n,resultsState:a,totalResults:s,ref:t})})},584656:function(e,t,n){n.d(t,{t:function(){return l}});var i=n(735250);n(470079);var a=n(481060),s=n(820644);function l(e){let{text:t,id:n}=e;(0,a.showToast)((0,a.createToast)(t,a.ToastType.CUSTOM,{component:(0,i.jsx)(s.o,{text:t},n)}))}},820644:function(e,t,n){n.d(t,{o:function(){return c}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(481060),r=n(176002),o=n(354603);function c(e){let{text:t}=e;return(0,i.jsxs)("div",{className:s()(o.toast,r.toast),children:[(0,i.jsx)(l.ShieldIcon,{color:l.tokens.colors.TEXT_BRAND}),(0,i.jsx)(l.Text,{className:o.__invalid_content,color:"header-primary",variant:"text-md/normal",children:t})]})}},458263:function(e,t,n){n.d(t,{o:function(){return p}});var i=n(735250);n(470079);var a=n(442837),s=n(693789),l=n(260034),r=n(993365),o=n(481060),c=n(230711),d=n(197115),u=n(504983),_=n(594174),E=n(74538),I=n(981631),m=n(921944),T=n(474936),h=n(526761),N=n(689938),f=n(695983);function p(e){var t;let{onClose:n,markAsDismissed:p}=e,C=(0,a.e7)([_.default],()=>_.default.getCurrentUser());let g=(t=null==C?void 0:C.premiumType)===T.p9.TIER_2?N.Z.Messages.CALL_SOUNDS_UPSELL_DESCRIPTION_TIER_2:null==t?N.Z.Messages.CALL_SOUNDS_UPSELL_DESCRIPTION_NON_SUB:N.Z.Messages.CALL_SOUNDS_UPSELL_DESCRIPTION_NON_TIER_2,S=E.ZP.canUseCustomCallSounds(C);return(0,i.jsxs)(u.Z,{isShown:!0,type:u.Y.PREMIUM,className:f.upsellOuter,backgroundClassName:f.upsellInner,children:[null!=p?(0,i.jsx)(o.Clickable,{className:f.close,onClick:()=>null==p?void 0:p(m.L.DISMISS),"aria-label":N.Z.Messages.CLOSE,children:(0,i.jsx)(o.CloseSmallIcon,{size:"xs",color:"currentColor",className:f.closeIcon})}):null,(0,i.jsxs)("div",{className:f.upsellTitle,children:[(0,i.jsx)(o.NitroWheelIcon,{size:"sm",color:"currentColor",className:f.nitroWheel}),(0,i.jsx)(l.X,{variant:"heading-sm/bold",children:N.Z.Messages.CALL_SOUNDS_UPSELL_TITLE_NON_SUB})]}),(0,i.jsx)(r.x,{variant:"text-sm/normal",children:g}),S?(0,i.jsx)(s.zx,{onClick:function(){c.Z.open(I.oAB.VOICE,h.GA),null==n||n(),null==p||p(m.L.PRIMARY)},children:N.Z.Messages.CHECK_IT_OUT}):(0,i.jsx)(d.Z,{buttonText:N.Z.Messages.PREMIUM_UPSELL_GET_NITRO,subscriptionTier:T.Si.TIER_2,premiumModalAnalyticsLocation:{section:I.jXE.SOUNDBOARD_SOUND_PICKER,object:I.qAy.BUTTON_CTA},color:s.zx.Colors.GREEN,onSubscribeModalClose:()=>null==p?void 0:p(m.L.PRIMARY)})]})}},456432:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var a=n(481060),s=n(829820);function l(e){let{activity:t,user:n,source:l,...r}=e,{label:o,tooltip:c,loading:d,disabled:u,onClick:_}=(0,s.Lz)(t,n,l);return(0,i.jsx)(a.Tooltip,{text:c,children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,i.jsx)(a.Button,{...r,color:u?a.Button.Colors.PRIMARY:a.Button.Colors.GREEN,onClick:_,onMouseEnter:t,onMouseLeave:n,disabled:!d&&u,submitting:d,children:o})}})}},852923:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(481060),r=n(592125),o=n(944486),c=n(471253),d=n(623633),u=n(930180),_=n(689938),E=n(905185);function I(e){let t=o.Z.getVoiceChannelId();if(null==t)return;let n=r.Z.getChannel(t);if(null!=n)(0,c.RK)(n,e)}function m(){var e;let t=(0,d.Z)(),n=null!==(e=(0,u._d)(null==t?void 0:t.id))&&void 0!==e?e:0;return null==t?null:(0,i.jsxs)(l.Notice,{className:E.container,color:l.NoticeColors.DEFAULT,children:[(0,i.jsx)("div",{children:_.Z.Messages.STAGE_SPEAK_INVITE_HEADER}),n>0?(0,i.jsxs)("div",{className:E.blocked,children:[(0,i.jsx)(l.DenyIcon,{size:"xxs",color:"currentColor",className:E.blockedIcon}),(0,i.jsx)("div",{className:E.blockedText,children:_.Z.Messages.STAGE_SPEAK_INVITE_HEADER_BLOCKED_USERS.format({number:n})})]}):null,(0,i.jsx)(l.Button,{className:s()(E.__invalid_button,E.acceptButton),size:l.Button.Sizes.MIN,color:l.Button.Colors.WHITE,onClick:()=>I(!1),children:(0,i.jsx)(l.Text,{className:E.acceptText,variant:"text-xs/normal",color:"none",children:_.Z.Messages.STAGE_SPEAK_INVITE_ACCEPT})}),(0,i.jsx)(l.Button,{className:s()(E.__invalid_button,E.declineButton),look:l.Button.Looks.OUTLINED,size:l.Button.Sizes.MIN,color:l.Button.Colors.WHITE,onClick:()=>I(!0),children:(0,i.jsx)(l.Text,{className:E.declineText,variant:"text-xs/normal",color:"none",children:_.Z.Messages.STAGE_SPEAK_INVITE_DECLINE})})]})}},374425:function(e,t,n){n(47120);var i=n(735250),a=n(470079),s=n(477690),l=n(481060),r=n(100527),o=n(367907),c=n(906732),d=n(524444),u=n(624138),_=n(453070),E=n(373228),I=n(419922),m=n(217588),T=n(981631),h=n(474936),N=n(120001);let f=(0,u.Mg)(s.Z.STICKERS_CONSTANTS_STICKER_DIMENSION),p=e=>{if(null!=e)o.ZP.trackWithMetadata(T.rMx.EXPRESSION_TOOLTIP_VIEWED,{type:h.cd.STICKER_IN_MESSAGE_HOVER,expression_id:e.id,expression_name:e.name,is_animated:(0,E.aQ)(e.format_type),is_custom:(0,E.z)(e.type)})};t.Z=e=>{let{renderableSticker:t,channel:n,isInteracting:s}=e,[o,u]=a.useState(!0),[E,T]=a.useState(String(Date.now())),[h]=(0,_.XW)(t,s),{analyticsLocations:C}=(0,c.ZP)(r.Z.STICKER_MESSAGE),g=(0,i.jsxs)("span",{className:N.stickerName,children:[(0,i.jsx)(l.StickerSmallIcon,{size:"xs",color:"currentColor",className:N.stickerIcon}),(null!=h?h:t).name]});return(0,i.jsx)(c.Gt,{value:C,children:(0,i.jsx)(l.Popout,{align:"center",animation:l.Popout.Animation.TRANSLATE,positionKey:E,onRequestClose:()=>{u(!0)},renderPopout:e=>(0,i.jsx)(m.Z,{...e,renderableSticker:t,channel:n,refreshPositionKey:()=>T(String(Date.now()))}),children:e=>{let{onClick:n}=e;return(0,i.jsx)(l.Tooltip,{...d.b_,shouldShow:o,text:(0,d.Y)(g),"aria-label":!1,onTooltipShow:()=>{p(h)},children:e=>(0,i.jsx)(l.Clickable,{...e,className:N.clickableSticker,onClick:e=>{u(!o),n(e)},tag:"span",children:(0,i.jsx)(I.ZP,{isInteracting:s,size:f,sticker:null!=h?h:t})})})}})})}},217588:function(e,t,n){n(724458),n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(442837),o=n(481060),c=n(749210),d=n(367907),u=n(400106),_=n(697568),E=n(183023),I=n(524444),m=n(98278),T=n(197115),h=n(430824),N=n(594174),f=n(285952),p=n(514342),C=n(626135),g=n(74538),S=n(453070),A=n(926491),R=n(378233),x=n(419922),O=n(688179),M=n(981631),v=n(474936),L=n(689938),Z=n(235222),P=n(423192);let b=(e,t)=>t?L.Z.Messages.STICKER_POPOUT_PACK_INFO_PREMIUM.format({stickerPackName:e.name}):L.Z.Messages.STICKER_POPOUT_PACK_INFO_UNAVAILABLE.format({stickerPackName:e.name}),D=e=>{let{sticker:t,stickerPack:n}=e;return a.useMemo(()=>null==n?[]:n.stickers.slice(0,4).reduce((e,n)=>3!==e.length&&n.id!==t.id?e.concat(n):e,[]),[t,n])};function j(e){C.default.track(M.rMx.PREMIUM_PROMOTION_OPENED,{location_page:null!=e.guild_id?M.ZY5.GUILD_CHANNEL:M.ZY5.DM_CHANNEL,location_section:M.jXE.STICKER_POPOUT}),(0,m.z)()}function U(e){let{sticker:t,description:n}=e;return(0,i.jsxs)(f.Z,{children:[(0,i.jsx)(x.ZP,{sticker:t,size:48,isInteracting:!0}),(0,i.jsxs)(f.Z,{direction:f.Z.Direction.VERTICAL,justify:f.Z.Justify.CENTER,className:P.truncatingText,children:[(0,i.jsx)(o.Text,{className:P.__invalid_emojiName,variant:"text-md/semibold",children:(0,i.jsx)(p.Z,{children:t.name})}),null!=n&&(0,i.jsx)(o.Text,{variant:"text-sm/normal",children:n})]})]})}let y=e=>{let{closePopout:t,sticker:n,channel:s,refreshPositionKey:l}=e,[c,u,_]=(0,r.Wu)([A.Z],()=>[A.Z.getStickerPack(n.pack_id),!A.Z.hasLoadedStickerPacks,A.Z.isPremiumPack(n.pack_id)],[n]),E=D({sticker:n,stickerPack:c});(0,S.Pq)(n.pack_id);let m=(0,S.Sd)(s);return(a.useEffect(()=>{l()},[u]),a.useEffect(()=>{C.default.track(M.rMx.OPEN_POPOUT,{type:M.jXE.STICKER_POPOUT,guild_id:s.getGuildId(),sticker_pack_id:n.pack_id,...(0,d.v_)(s)})},[n.pack_id]),u||null==c)?(0,i.jsx)(I.SE,{className:Z.popoutLoader}):(0,i.jsxs)(I.W_,{className:Z.popoutContent,children:[(0,i.jsx)(o.Heading,{variant:"heading-md/semibold",children:n.name}),(0,i.jsx)(o.Text,{variant:"text-sm/normal",children:b(c,_)}),(0,i.jsx)("ul",{className:Z.stickersList,children:E.map(e=>(0,i.jsx)(x.ZP,{isInteracting:!0,size:80,sticker:e},e.id))}),_&&(0,i.jsx)("div",{className:Z.packActions,children:(0,i.jsx)(o.Button,{color:o.Button.Colors.PRIMARY,size:o.Button.Sizes.SMALL,onClick:()=>{_&&(0,O.m)({stickerPack:c,stickerPickerCategories:m}),t()},children:L.Z.Messages.STICKER_VIEW_MORE_STICKERS},"view-sticker-pack")})]})},B=e=>{let t,{sticker:n,channel:s,closePopout:m,refreshPositionKey:p}=e,[S,A]=a.useState(null),[R,O]=a.useState(!1),b=N.default.getCurrentUser(),D=g.ZP.canUseCustomStickersEverywhere(b),y=(0,r.e7)([h.Z],()=>h.Z.getGuild(n.guild_id)),B=null!=y,[k,G]=a.useState(!1),[F,w]=a.useState(null),V=a.useMemo(()=>({page:null!=s.guild_id?M.ZY5.GUILD_CHANNEL:M.ZY5.DM_CHANNEL,section:M.jXE.STICKER_POPOUT}),[s.guild_id]),{current:H}=a.useRef({guild_id:s.getGuildId(),...(0,d.v_)(s)});a.useEffect(()=>{(async()=>{(null==y||y.hasFeature(M.oNc.DISCOVERABLE))&&A(await (0,_.Z)(n.id)),O(!0)})()},[n.id,B]);let Y=n.guild_id===s.getGuildId(),W=null!=S,z=!1,K="Custom Sticker Popout";D?t=B?Y?L.Z.Messages.STICKER_POPOUT_PREMIUM_CURRENT_GUILD_DESCRIPTION:L.Z.Messages.STICKER_POPOUT_PREMIUM_JOINED_GUILD_DESCRIPTION:W?L.Z.Messages.STICKER_POPOUT_PREMIUM_UNJOINED_DISCOVERABLE_GUILD_DESCRIPTION:L.Z.Messages.STICKER_POPOUT_PREMIUM_UNJOINED_PRIVATE_GUILD_DESCRIPTION:B?(Y?t=L.Z.Messages.STICKER_POPOUT_CURRENT_GUILD_DESCRIPTION:t=L.Z.Messages.STICKER_POPOUT_JOINED_GUILD_DESCRIPTION,z=!0,K="Custom Sticker Popout (Upsell)"):W?(t=L.Z.Messages.STICKER_POPOUT_UNJOINED_DISCOVERABLE_GUILD_DESCRIPTION,z=!0,K="Custom Sticker Popout (Upsell)"):(t=L.Z.Messages.STICKER_POPOUT_UNJOINED_PRIVATE_GUILD_DESCRIPTION.format({openPremiumSettings:()=>{j(s),m()}}),K="Custom Sticker Popout (Soft Upsell)");let Q=!z&&!B&&W&&D;return(a.useEffect(()=>{p()},[R,S]),a.useEffect(()=>{C.default.track(M.rMx.OPEN_POPOUT,{type:K,...H})},[]),R)?(0,i.jsxs)(I.W_,{className:P.popoutContent,children:[(()=>{let e=async()=>{if(null==S||B)return;m();let e=S.id;try{await c.Z.joinGuild(e),c.Z.transitionToGuildSync(e)}catch{}};return(0,i.jsxs)("div",{className:P.emojiSection,children:[(0,i.jsx)(U,{description:t,sticker:n}),z&&(0,i.jsx)(T.Z,{className:P.ctaButton,subscriptionTier:v.Si.TIER_2,size:o.Button.Sizes.SMALL,fullWidth:!0,buttonText:L.Z.Messages.EMOJI_POPOUT_PREMIUM_CTA,onSubscribeModalClose:t=>t?e():m(),postSuccessGuild:B||null==S?void 0:S,premiumModalAnalyticsLocation:V}),Q&&(0,i.jsx)(o.Button,{size:o.Button.Sizes.SMALL,className:P.ctaButton,fullWidth:!0,onClick:e,children:L.Z.Messages.GUILD_PROFILE_JOIN_SERVER_BUTTON})]})})(),(null!=y||null!=S)&&(()=>{var e;if(!W&&!B)return;let t=(null!==(e=null==S?void 0:S.stickers)&&void 0!==e?e:[]).slice(0,13).filter(e=>e.id!==n.id).slice(0,12),a=null!=S?u.Z.createFromDiscoverableGuild(S):u.Z.createFromGuildRecord(y);return(0,i.jsxs)("div",{className:P.guildSection,children:[(0,i.jsx)(o.FormTitle,{className:P.guildTitle,children:B?L.Z.Messages.STICKER_POPOUT_JOINED_GUILD_EMOJI_DESCRIPTION:L.Z.Messages.STICKER_POPOUT_UNJOINED_GUILD_EMOJI_DESCRIPTION}),(0,i.jsx)(E.Oe,{expressionSourceGuild:a,hasJoinedExpressionSourceGuild:B,isDisplayingJoinGuildButtonInPopout:Q}),!B&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Clickable,{onClick:()=>{p(),G(!k)},className:P.showMoreEmojis,children:(0,i.jsxs)(f.Z,{children:[(0,i.jsx)(o.Text,{className:P.__invalid_showMoreEmojisLabel,variant:"text-xs/normal",color:"none",children:L.Z.Messages.STICKER_POPOUT_SHOW_MORE_STICKERS}),(0,i.jsx)(o.ChevronSmallDownIcon,{size:"md",color:"currentColor",className:l()(P.showMoreEmojisArrow,{[P.showMoreEmojisArrowCollapsed]:!k})})]})}),k&&(0,i.jsx)(f.Z,{wrap:f.Z.Wrap.WRAP,align:f.Z.Align.START,justify:f.Z.Justify.START,className:P.otherEmojisContainer,children:t.map(e=>(0,i.jsx)(o.Tooltip,{text:e.name,...I.b_,children:t=>{let{onMouseEnter:n,onMouseLeave:a,...s}=t;return(0,i.jsx)("div",{className:l()(P.otherEmoji,{[Z.nonInteractingSticker]:null!=F&&F!==e.id}),onMouseEnter:()=>{null==n||n(),w(e.id)},onMouseLeave:()=>{null==a||a(),w(null)},...s,children:(0,i.jsx)(x.ZP,{size:32,enlargeOnInteraction:!0,enlargeWithName:!1,enlargeScaleFactor:2,isInteracting:F===e.id,sticker:e})},e.id)}},e.id))})]})]})})()]}):(0,i.jsx)(I.SE,{className:Z.popoutLoader})};function k(e){let{channel:t,closePopout:n,sticker:a}=e;return(0,i.jsx)(I.W_,{className:Z.popoutContent,children:(0,i.jsx)(U,{sticker:a,description:L.Z.Messages.STICKER_POPOUT_UNJOINED_PRIVATE_GUILD_DESCRIPTION.format({openPremiumSettings:()=>{n(),j(t)}})})})}t.Z=e=>{let{renderableSticker:t,channel:n,closePopout:a,refreshPositionKey:s}=e,[l,r]=(0,S.XW)(t,!0);if(null!=l&&(0,R.jl)(l))return(0,i.jsx)(y,{sticker:l,closePopout:a,channel:n,refreshPositionKey:s});if(null!=l&&(0,R.J8)(l))return(0,i.jsx)(B,{sticker:l,channel:n,closePopout:a,refreshPositionKey:s});if(!r)return(0,i.jsx)(I.SE,{});else if(r&&null==l)return(0,i.jsx)(k,{channel:n,closePopout:a,sticker:t});return a(),null}},688179:function(e,t,n){n.d(t,{m:function(){return r}});var i=n(806966),a=n(585483),s=n(981631),l=n(957825);function r(e){let{stickerPack:t,stickerPickerCategories:n}=e;a.S.dispatchToLastSubscribed(s.CkL.OPEN_EXPRESSION_PICKER,{activeView:l.X1.STICKER});let r=n.findIndex(e=>e.id===t.id);-1!==r&&i.ZN.setActiveCategoryIndex(r)}},432147:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(442837),r=n(481060),o=n(239091),c=n(901461),d=n(592125),u=n(709054),_=n(723774),E=n(144140),I=n(91159),m=n(576799),T=n(488131),h=n(981631),N=n(689938),f=n(541595);function p(e){let{message:t,compact:n}=e,a=(0,l.e7)([d.Z],()=>d.Z.getChannel(u.default.castMessageIdAsChannelId(t.id)));return null==a?null:(0,i.jsx)(C,{channel:a,compact:n,isSystemMessage:(0,c.Z)(t)})}function C(e){let{channel:t,compact:a,isSystemMessage:c}=e,d=(0,l.e7)([E.Z],()=>E.Z.getCount(t.id)),u=function(e){var t;let n=(0,l.e7)([E.Z],()=>E.Z.getMostRecentMessage(e.id)),a=(0,l.e7)([E.Z],()=>E.Z.getCount(e.id)),s=(0,I.Ok)(e);return(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)?N.Z.Messages.NO_RECENT_THREAD_MESSAGES:null==a||0===a?N.Z.Messages.NO_THREAD_MESSAGES:null==n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:N.Z.Messages.NO_RECENT_THREAD_MESSAGES}),(0,i.jsx)("span",{className:f.timestamp,children:(0,I.Ye)(s)})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Z,{message:n,channel:e}),(0,i.jsx)("span",{className:f.timestamp,children:(0,I.Ye)(s)})]})}(t),p=null!=d&&d>0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:s()(f.spine,{[f.cozy]:!a,[f.systemMessageSpine]:c})}),(0,i.jsx)(r.Clickable,{onClick:function(e){e.stopPropagation(),(0,T.ok)(t,e.shiftKey)},onKeyDown:function(e){e.stopPropagation();let n=!e.altKey&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey,i=e.shiftKey&&!(e.altKey||e.ctrlKey||e.metaKey);(e.which===h.yXg.SPACE||e.which===h.yXg.ENTER)&&(e.preventDefault(),(n||i)&&(0,T.ok)(t,i))},onContextMenu:function(e){(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("39285"),n.e("48800"),n.e("31288")]).then(n.bind(n,422200));return n=>(0,i.jsx)(e,{channel:t,...n})})},"aria-roledescription":N.Z.Messages.THREAD_MESSAGE_ROLE_DESCRIPTION,className:s()(f.container,{[f.systemMessageContainer]:c}),children:(0,i.jsxs)(r.BlockInteractions,{children:[(0,i.jsxs)("div",{className:f.topLine,children:[(0,i.jsx)(r.HiddenVisually,{children:N.Z.Messages.THREAD}),(0,i.jsx)("span",{className:f.name,children:t.name}),(0,i.jsx)("span",{className:f.cta,"aria-hidden":!p,children:(0,_.WE)(d,t.id)})]}),(0,i.jsx)("span",{"aria-hidden":!0,className:s()(f.bottomLine),children:u})]})})]})}},576799:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(735250),a=n(470079),s=n(442837),l=n(58540),r=n(905405),o=n(937889),c=n(123145),d=n(699516),u=n(512665),_=n(768760),E=n(250050);function I(e){let{message:t,channel:n}=e,I=(0,s.e7)([d.Z],()=>d.Z.isBlockedForMessage(t)),m=(0,r.p)(),T=a.useMemo(()=>({[n.guild_id]:[t.author.id]}),[n.guild_id,t.author.id]);(0,l.$)(T);let h=a.useMemo(()=>null!=t.content&&""!==t.content?(0,o.ZP)(t,{formatInline:!0,shouldFilterKeywords:m}).content:null,[t,m]);return(0,i.jsxs)("div",{className:E.threadMessageAccessory,children:[(0,i.jsx)("img",{alt:"",src:t.author.getAvatarURL(n.guild_id,16),className:E.threadMessageAccessoryAvatar}),(0,i.jsx)(c.Z,{message:t,channel:n,compact:!0}),(0,i.jsx)("div",{className:E.threadMessageAccessoryPreview,children:function(e,t,n){let{contentPlaceholder:a,renderedContent:s,leadingIcon:l,trailingIcon:r}=(0,u.f)(e,t,n,E.threadMessageAccessoryContent,{trailingIconClass:E.threadMessageAccessoryContentTrailingIcon,leadingIconClass:E.threadMessageAccessoryContentLeadingIcon,iconSize:_.WW});return(0,i.jsxs)(i.Fragment,{children:[l,null!=s?s:(0,i.jsx)("span",{className:E.threadMessageAccessoryPlaceholder,children:a}),r]})}(t,h,I)})]})}},64247:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(481060),s=n(438536),l=n(214906),r=n(346479),o=n(723170),c=n(124368);function d(e){let{channel:t,closePopout:n,onSelect:d,navId:u,label:_}=e,E=(0,s.Z)(t,"Notifications Bell"),I=(0,l.Z)(t),m=(0,o.B)(t);return(0,i.jsxs)(a.Menu,{navId:u,onClose:n,"aria-label":_,onSelect:d,children:[(0,i.jsxs)(a.MenuGroup,{children:[t.isForumPost()?E:null,I]}),(0,i.jsx)(a.MenuGroup,{children:(0,c.zb)().map(e=>{let{setting:n,label:s}=e;return(0,i.jsx)(a.MenuRadioItem,{group:"thread-notifications",id:"".concat(n),label:s,action:()=>r.Z.setNotificationSettings(t,{flags:n}),checked:n===m},n)})})]})}},196051:function(e,t,n){n.d(t,{Bo:function(){return l},Ct:function(){return o},LA:function(){return s},NB:function(){return r},cP:function(){return a}});var i=n(570140);function a(e,t,n,a,s){i.Z.dispatch({type:"SPEAK_TEXT",text:e,interrupt:t,maxLength:n,onStart:a,onEnd:s})}function s(e,t){i.Z.dispatch({type:"SPEAK_MESSAGE",channel:e,message:t})}function l(e,t){i.Z.dispatch({type:"SPEAKING_MESSAGE",channelId:e,messageId:t})}function r(){i.Z.dispatch({type:"STOP_SPEAKING"})}function o(e){i.Z.dispatch({type:"SET_TTS_SPEECH_RATE",speechRate:e})}},441729:function(e,t,n){var i,a=n(442837),s=n(570140);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let r={speechRate:1,currentMessage:null},o=r;class c extends(i=a.ZP.DeviceSettingsStore){initialize(e){o={...r,...null!=e?e:null}}isSpeakingMessage(e,t){let{currentMessage:n}=o;return null!==n&&n.channelId===e&&n.messageId===t}get currentMessage(){return o.currentMessage}get speechRate(){return o.speechRate}getUserAgnosticState(){return o}}l(c,"displayName","TTSStore"),l(c,"persistKey","TTSStore"),l(c,"migrations",[]),t.Z=new c(s.Z,__OVERLAY__?{}:{SPEAKING_MESSAGE:function(e){let{messageId:t,channelId:n}=e;o={...o,currentMessage:{messageId:t,channelId:n}}},STOP_SPEAKING:function(){o={...o,currentMessage:null}},SET_TTS_SPEECH_RATE:function(e){o={...o,speechRate:e.speechRate}}})},57048:function(e,t,n){n.d(t,{U:function(){return o},a:function(){return c}});var i=n(199902),a=n(158776),s=n(699516),l=n(626135),r=n(981631);let o=e=>{let{displayProfile:t,isMobile:n,loadDurationMs:i,activity:a,customStatusActivity:s,status:o}=e;l.default.track(r.rMx.DM_PROFILE_VIEWED,{has_mobile_indicator:n,has_activity:null!=a&&(null==a?void 0:a.type)!==r.IIU.CUSTOM_STATUS,has_game_activity:(null==a?void 0:a.type)===r.IIU.PLAYING,load_duration_ms:i,profile_user_status:o,has_custom_status:null!=s,has_profile_effect:null!=t.profileEffectId,...d(t)})},c=(e,t)=>{l.default.track(r.rMx.DM_PROFILE_TOGGLED,{is_profile_open:t,...d(e)})},d=e=>{var t;if(null==e)return{};let n=e.userId,l=null!=i.Z.getAnyStreamForUser(n),o=a.Z.findActivity(n,e=>{let{type:t}=e;return l?t===r.IIU.PLAYING:t!==r.IIU.CUSTOM_STATUS}),c=null==o?void 0:o.assets,d=s.Z.isFriend(n);return{has_images:!!(null!==(t=null==c?void 0:c.large_image)&&void 0!==t?t:null==c?void 0:c.small_image),is_friend:d,viewed_profile_user_id:n,profile_has_nitro_customization:e.hasPremiumCustomization(),profile_has_theme_color_customized:e.hasThemeColors(),profile_has_theme_animation:null!=e.popoutAnimationParticleType}}},519320:function(e,t,n){n.d(t,{EW:function(){return o},Np:function(){return c},tb:function(){return r}});var i,a,s=n(626135),l=n(981631);function r(e,t,n,i){s.default.track(l.rMx.VOICE_MESSAGE_PLAYBACK_STARTED,{message_id:e,total_duration_secs:t,start_duration_secs:Math.min(null!=t?t:n,n),sender_user_id:i})}function o(e,t,n,i,a){s.default.track(l.rMx.VOICE_MESSAGE_PLAYBACK_ENDED,{message_id:e,total_duration_secs:t,end_duration_secs:Math.min(null!=t?t:n,n),sender_user_id:i,duration_listening_secs:a})}function c(e,t){s.default.track(l.rMx.VOICE_MESSAGE_PLAYBACK_FAILED,{message_id:e,error_message:t})}(i=a||(a={})).SENT="sent",i.CANCELLED_DURATION="cancelled_duration",i.CANCELLED_USER_REQUESTED="cancelled_user_requested",i.CANCELLED_GESTURE_CONFLICT="cancelled_gesture_conflict",i.CANCELLED_ON_BACKGROUND="cancelled_on_background"},8532:function(e,t,n){n.d(t,{m:function(){return i}});let i=[{id:"749054660769218631",format_type:3,description:"Wumpus waves hello",name:"Wave"},{id:"751606379340365864",format_type:3,description:"Nelly peeks around a wall and waves hello",name:"Wave"},{id:"754108890559283200",format_type:3,description:"Clyde cheerfully waving",name:"Wave"},{id:"781291131828699156",format_type:2,description:"Choco waves in greeting",name:"Wave"},{id:"816087792291282944",format_type:3,description:"Doggo spins and greets you",name:"Sup"},{id:"819128604311027752",format_type:3,description:"Peach raising her arms in distress",name:"Scream"}]},779139:function(e,t,n){n.d(t,{TZ:function(){return d},y6:function(){return c}});var i=n(904245),a=n(594174),s=n(626135),l=n(709054),r=n(8532),o=n(981631);let c=e=>{var t;let n=null===(t=a.default.getCurrentUser())||void 0===t?void 0:t.id,i=((null!=n?l.default.extractTimestamp(n):0)+l.default.extractTimestamp(e))%r.m.length;return r.m[i]},d=(e,t,n)=>{var l;i.Z.sendGreetMessage(e.id,n,i.Z.getSendMessageOptionsForReply({channel:e,message:t,shouldMention:!0,showMentionToggle:!0})),s.default.track(o.rMx.WELCOME_CTA_CLICKED,{is_reply:!0,sticker_id:n,target_user:t.author.id,sender:null===(l=a.default.getCurrentUser())||void 0===l?void 0:l.id})}},814820:function(e,t,n){n.d(t,{f:function(){return p}}),n(47120);var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(541716),o=n(419922),c=n(665906),d=n(271383),u=n(430824),_=n(496675),E=n(594174),I=n(838440),m=n(779139),T=n(981631),h=n(689938),N=n(18716);let f=e=>{let{channel:t,message:n}=e,[s,c]=a.useState(!1),d=(0,m.y6)(n.id),u=a.useCallback(()=>{(0,I.v)({type:r.I.FORM,content:"",channel:t}).then(e=>{let{valid:i}=e;if(!!i)(0,m.TZ)(t,n,d.id)})},[t,n,d]);return(0,i.jsx)("div",{className:N.welcomeCTA,children:(0,i.jsxs)(l.Button,{className:N.welcomeCTAButtonOuter,innerClassName:N.welcomeCTAButton,color:l.ButtonColors.PRIMARY,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:u,children:[(0,i.jsx)(o.ZP,{className:N.welcomeCTASticker,isInteracting:s,sticker:d,size:28}),h.Z.Messages.WELCOME_CTA_LABEL]})})},p=e=>{let{message:t,channel:n}=e,a=n.getGuildId(),l=(0,s.e7)([E.default,_.Z,u.Z,d.ZP],()=>{var e;let i=E.default.getCurrentUser(),s=(0,c.xl)(n),l=_.Z.can(T.Plq.SEND_MESSAGES,n),r=null!=a&&null!=i&&(null===(e=d.ZP.getMember(a,i.id))||void 0===e?void 0:e.isPending),o=t.author.bot,I=u.Z.getGuild(a),m=null!=I&&(I.systemChannelFlags&T.xmn.SUPPRESS_JOIN_NOTIFICATION_REPLIES)==0;return l&&!s&&!r&&!o&&m});return null!=a&&l?(0,i.jsx)(f,{message:t,channel:n}):null}},789407:function(e,t,n){n.d(t,{XB:function(){return s},ZP:function(){return r},r9:function(){return o}});var i=n(726542),a=n(973616);let s="spotify",l=i.Z.get(s);class r extends a.Z{getIconURL(e){return l.icon.lightPNG}constructor(){super({}),this.id=s,this.name=l.name}}let o=new r},91372:function(e,t,n){var i,a,s,l,r=n(442837),o=n(570140);let c="UPDATE_NOT_AVAILABLE";function d(e){c=e.type}class u extends(l=r.ZP.Store){getState(){return c}}s="AutoUpdateStore",(a="displayName")in(i=u)?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,t.Z=new u(o.Z,{CHECKING_FOR_UPDATES:d,UPDATE_NOT_AVAILABLE:d,UPDATE_AVAILABLE:d,UPDATE_MANUALLY:d,UPDATE_ERROR:d,UPDATE_DOWNLOADED:d})},427123:function(e,t,n){n(47120),n(653041);var i,a,s,l,r=n(392711),o=n.n(r),c=n(442837),d=n(433517),u=n(570140),_=n(496929),E=n(16084),I=n(728345),m=n(812206),T=n(594190),h=n(594174),N=n(580130),f=n(55563),p=n(981631);let C="DetectedOffPlatformPremiumPerksStore",g={},S={},A=[];function R(){let e=!1;for(let{skuId:t,applicationId:n}of o().values(S)){if(A.includes(t))continue;let i=m.Z.getApplication(n);if(null==i){!m.Z.isFetchingApplication(n)&&!m.Z.didFetchingApplicationFail(n)&&I.Z.fetchApplication(n);continue}let a=f.Z.get(t);if(null==a){!f.Z.isFetching(t)&&!f.Z.didFetchingSkuFail(t)&&E.$N(i.id,t);continue}N.Z.applicationIdsFetching.has(i.id)||N.Z.isEntitledToSku(h.default.getCurrentUser(),t,i.id,i.id)||!a.available?null!=g[t]&&(delete g[t],e=!0):(g[t]={skuId:t,applicationId:n},e=!0)}return e}class x extends(i=c.ZP.Store){initialize(){var e;this.waitFor(T.ZP,f.Z,N.Z),A=null!==(e=d.K.get(C))&&void 0!==e?e:A}getDetectedOffPlatformPremiumPerks(){return o().values(g)}}l="DetectedOffPlatformPremiumPerksStore",(s="displayName")in(a=x)?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,t.Z=new x(u.Z,{LOGOUT:function(){g={},S={}},SKU_FETCH_SUCCESS:R,ENTITLEMENT_FETCH_APPLICATION_SUCCESS:R,ENTITLEMENT_CREATE:R,APPLICATION_FETCH_SUCCESS:R,DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS:function(e){let{skuId:t}=e;if(delete g[t],A.includes(t))return!1;A.push(t),d.K.set(C,A)},RUNNING_GAMES_CHANGE:function(){let e=!1;for(let{id:t,distributor:n}of T.ZP.getRunningGames())if(null!=t&&n!==p.GQo.DISCORD)for(let{skuId:n,applicationId:i}of p.Lg6){if(!(i!==t||A.includes(n)))null==S[n]&&(!N.Z.applicationIdsFetched.has(i)&&!N.Z.applicationIdsFetching.has(i)&&null==N.Z.getForSku(n)&&_.yD(i),S[n]={skuId:n,applicationId:i},e=!0)}return e&&R(),e}})},831506:function(e,t,n){n(47120);var i,a,s,l,r=n(392711),o=n.n(r),c=n(442837),d=n(570140),u=n(314897),_=n(699516),E=n(885110),I=n(981631);let m={},T={};function h(e,t){var n;return(null!==(n=m[e])&&void 0!==n?n:{})[t]}function N(e,t){let n=h(e,t);if(null==n)return;let i=m[e];delete i[t],o().isEmpty(i)&&delete m[e];let a=T[n];null!=a&&(a.delete(e),0===a.size&&delete T[n])}function f(e,t,n,i){let a=n.find(e=>null!=e.party&&e.party.id),s=null!=a&&null!=a.party?a.party.id:null,l=h(t,e);if(null==s||i===I.Skl.OFFLINE)return null!=l&&(N(t,e),void 0);if(null!=l){if(l===s)return!1;N(t,e)}!function(e,t,n){var i;let a=m[e];if(null==a&&(a=m[e]={}),a[t]=n,_.Z.isBlocked(e))return;let s=null!==(i=T[n])&&void 0!==i?i:new Set;T[n]=s,s.add(e)}(t,e,s)}function p(e){let{guild:t}=e,n=!1;for(let{user:e,status:i,activities:a}of t.presences)!1!==f(t.id,e.id,a,i)&&(n=!0);return n}function C(e,t){let n=!1;return t.forEach(t=>{null!=t&&f(e,t.user.id,t.activities,t.status)&&(n=!0)}),n}function g(){let e=u.default.getId(),t=E.Z.getActivities();return f(I.ME,e,t)}class S extends(i=c.ZP.Store){initialize(){this.syncWith([E.Z],g),this.waitFor(E.Z,_.Z)}getParty(e){return null!=e&&null!=T[e]?T[e]:null}getUserParties(){return m}getParties(){return T}}l="GamePartyStore",(s="displayName")in(a=S)?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,t.Z=new S(d.Z,{CONNECTION_OPEN_SUPPLEMENTAL:function(e){let{guilds:t,presences:n}=e,i=!1;for(let{user:e,status:t,activities:a}of n)null!=e&&!1!==f(I.ME,e.id,a,t)&&(i=!0);for(let e of t)!1!==p({guild:e})&&(i=!0);return i},OVERLAY_INITIALIZE:function(e){let{parties:t,userParties:n}=e;T={},m={...n},Object.keys(t).forEach(e=>T[e]=new Set(t[e]))},GUILD_CREATE:p,PRESENCES_REPLACE:function(e){let{presences:t}=e,n=!1;for(let{user:e,activities:i}of t)null!=e&&!1!==f(I.ME,e.id,i)&&(n=!0);return n},PRESENCE_UPDATES:function(e){let{updates:t}=e;return t.map(e=>{let{guildId:t,user:n,status:i,activities:a}=e;return f(null!=t?t:I.ME,n.id,a,i)}).some(e=>e)},THREAD_MEMBER_LIST_UPDATE:function(e){let{guildId:t,members:n}=e;return C(t,n.map(e=>e.presence))},THREAD_MEMBERS_UPDATE:function(e){let{guildId:t,addedMembers:n}=e;return null!=n&&C(t,n.map(e=>e.presence))},RELATIONSHIP_ADD:function(e){let{relationship:t}=e;if(!_.Z.isBlocked(t.id))return!1;let n=m[t.id];if(null==n)return!1;for(let e of o().values(n)){let n=T[e];null!=n&&n.delete(t.id)}},RELATIONSHIP_REMOVE:function(e){let{relationship:t}=e,n=m[t.id];if(null==n)return!1;for(let e of o().values(n)){let n=T[e];null!=n&&n.add(t.id)}}})},571474:function(e,t,n){var i,a,s,l,r=n(442837),o=n(570140),c=n(70956),d=n(709054),u=n(314897),_=n(699516);let E=180*c.Z.Millis.DAY,I=!1;class m extends(l=r.ZP.Store){initialize(){this.waitFor(_.Z,u.default)}isEligible(){return I}}s="PremiumPromoStore",(a="displayName")in(i=m)?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,t.Z=new m(o.Z,{CONNECTION_OPEN:function(){return I!==(I=_.Z.getFriendIDs().length>=10&&d.default.extractTimestamp(u.default.getId())<Date.now()-E)}})},250758:function(e,t,n){n(653041),n(724458);var i,a,s,l,r=n(442837),o=n(570140),c=n(999650),d=n(279779),u=n(57132),_=n(483360),E=n(892880),I=n(405656),m=n(51144),T=n(271383),h=n(768119),N=n(246946),f=n(594174),p=n(981631);let C={},g={};function S(e){let{searchId:t,query:n,mode:i,tokens:a,cursorScope:s,autocompletes:l}=e,r=g[t];return null==r&&(r={results:[],context:d.Z.getSearchContext(A.bind(null,t))},g[t]=r),{query:null!=n?n:"",mode:null!=i?i:{type:p.Sap.EMPTY,filter:null,token:null},tokens:null!=a?a:[],cursorScope:null!=s?s:null,autocompletes:null!=l?l:[]}}function A(e,t){let{results:n}=t,i=g[e],a=C[e];if(null==i||null==a)return;let{type:s,filter:l}=a.mode;if(s===p.Sap.EMPTY||s===p.Sap.FILTER&&l!==p.dCx.FILTER_FROM&&l!==p.dCx.FILTER_MENTIONS)return;let r=3;a.mode.type===p.Sap.FILTER&&(r=10),i.results=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(e=e.reduce((e,t)=>{let n=f.default.getUser(t.id);return null==n?e:(e.push({id:n.id,text:m.ZP.getUserTag(n),user:n}),e)},[])).length>t&&(e.length=t),e}(n,r);let{query:o,mode:c,tokens:d,cursorScope:u}=a,{autocompletes:_}=a;_=O(e,c),C[e]=S({searchId:e,query:o,mode:c,tokens:d,cursorScope:u,autocompletes:_}),P.emitChange()}function R(e,t,n){let i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(null==e||""===e)return null;if(h.Z.getSearchType(n)===p.aib.GUILD&&(e===p.dCx.FILTER_FROM||e===p.dCx.FILTER_MENTIONS)){let e=g[n];null==e?i=null:((null==t||0===t.getFullMatch().trim().length)&&(e.results=_.ZP.getRecentlyTalked(n,10).map(e=>{let{record:t}=e;return{user:t,text:m.ZP.getUserTag(t)}})),i=e.results)}else{var s;let l=null===(s=c.ZP[e])||void 0===s?void 0:s.getAutocompletions,r=(null!=t?t.getFullMatch():"").trim();i=null!=l?l(r,n,null!=a?a:10):[]}return null==i||0===i.length?null:{group:e,results:i}}function x(e){let t=(null!=e?e.getFullMatch():"").trim(),n=function(){let e=(0,u.cn)()&&!1;return{[p.dCx.FILTER_FROM]:!N.Z.hidePersonalInformation,[p.dCx.FILTER_MENTIONS]:!N.Z.hidePersonalInformation,[p.dCx.FILTER_HAS]:!0,[p.dCx.FILTER_BEFORE]:!0,[p.dCx.FILTER_AFTER]:!0,[p.dCx.FILTER_ON]:!0,[p.dCx.FILTER_IN]:h.Z.getSearchType()===p.aib.GUILD,[p.dCx.FILTER_PINNED]:!e}}(),i=(0,c.nB)(t).filter(e=>n[e.token]);return{group:p.rtL.SEARCH_OPTIONS,results:i}}function O(e,t){let n=[];return t.type===p.Sap.FILTER?n.push(R(t.filter,t.token,e,10)):t.type===p.Sap.FILTER_ALL?n=function(e,t){let n=(null!=e?e.getFullMatch():"").trim(),i=[];return null!=n&&""!==n&&((function(e){let t=h.Z.getSearchType(e),n=[p.dCx.FILTER_HAS];return!N.Z.hidePersonalInformation&&(n.push(p.dCx.FILTER_FROM),n.push(p.dCx.FILTER_MENTIONS)),t===p.aib.GUILD&&n.push(p.dCx.FILTER_IN),n})(t).forEach(n=>{if(null==n)return;let a=R(n,e,t,3);null!=a&&i.push(a)}),i.push(function(e,t){let n=(null!=e?e.getFullMatch():"").trim();if(null!=n&&""!==n){var i,a,s;let e=null===(i=c.ZP[p.dCx.FILTER_BEFORE])||void 0===i?void 0:i.getAutocompletions(n,t,1)[0],l=null===(a=c.ZP[p.dCx.FILTER_ON])||void 0===a?void 0:a.getAutocompletions(n,t,1)[0],r=null===(s=c.ZP[p.dCx.FILTER_AFTER])||void 0===s?void 0:s.getAutocompletions(n,t,1)[0];return null==e?null:{group:p.rtL.DATES,results:[e,l,r]}}}(e,t))),5>(0,I.BU)(i)&&i.push(x(e)),i}(t.token,e):t.type===p.Sap.EMPTY&&(n.push(x(t.token)),(0,u.cn)(),n.push(function(e){if(N.Z.hidePersonalInformation)return null;let t=h.Z.getHistory(e);return null==t?null:{group:p.rtL.HISTORY,results:t.map(e=>({text:e}))}}(e))),n}function M(){(0,I.WU)()}function v(e){let t=C[e];if(null==t)return;let{query:n,mode:i,tokens:a,cursorScope:s,autocompletes:l}=t;C[e]=S({searchId:e,query:n,mode:i,tokens:a,cursorScope:s,autocompletes:l.map(e=>(null==e?void 0:e.group)===p.rtL.HISTORY?null:e)})}function L(){let e=h.Z.getCurrentSearchId();if(null==e||null==C[e])return;let{query:t,mode:n,tokens:i,cursorScope:a}=C[e];C[e]=S({searchId:e,query:t,mode:n,tokens:i,cursorScope:a,autocompletes:O(e,n)})}class Z extends(i=r.ZP.Store){initialize(){this.waitFor(T.ZP,N.Z)}getState(e){var t;return null!==(t=C[e])&&void 0!==t?t:S({searchId:e})}}l="SearchAutocompleteStore",(s="displayName")in(a=Z)?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l;let P=new Z(o.Z,{SEARCH_AUTOCOMPLETE_QUERY_UPDATE:function(e){var t;let n,{searchId:i,tokens:a,cursorScope:s}=e,l=(0,I.cl)(a),r=(0,I.qc)(s,a),o=null!==(t=C[i])&&void 0!==t?t:{},c=g[i],d=!0;if(l===o.query&&(null==o.mode||o.mode.filter===r.filter))n=o.autocompletes,d=!1;else if(r.type===p.Sap.EMPTY||r.type===p.Sap.FILTER&&r.filter!==p.dCx.FILTER_FROM&&r.filter!==p.dCx.FILTER_MENTIONS)null!=c&&(c.context.clearQuery(),c.results=[]),n=O(i,r);else if(null!=c){let{token:e}=r;null!=e&&e.getFullMatch().trim().length>0?(E.Z.requestMembers(i,e.getFullMatch().trim(),10),c.context.setQuery(e.getFullMatch().trim(),{guild:i}),n=o.autocompletes,d=!1):(c.context.clearQuery(),n=O(i,r))}return C[i]=S({searchId:i,query:l,mode:r,tokens:a,cursorScope:s,autocompletes:n}),d},SEARCH_EDITOR_STATE_CLEAR:function(e){let{searchId:t}=e,n=g[t];null!=n&&(n.context.destroy(),n.results=[],delete g[t]),delete C[t]},CHANNEL_CREATE:M,CHANNEL_DELETE:M,STREAMER_MODE_UPDATE:L,SEARCH_MODAL_OPEN:L,SEARCH_SCREEN_OPEN:L,SEARCH_CLEAR_HISTORY:function(e){let{searchId:t}=e;null!=t?v(t):Object.keys(C).forEach(v)},LOGOUT:function(){Object.keys(C).forEach(v)}});t.Z=P},215427:function(e,t,n){var i,a,s,l,r=n(442837),o=n(433517),c=n(570140),d=n(205355);let u="MaintenanceStore",_=null,E=null,I=null;class m extends(l=r.ZP.Store){initialize(){I=o.K.get(u)}getIncident(){return _}getScheduledMaintenance(){return null!=E&&E.id!==I?E:null}}s="MaintenanceStore",(a="displayName")in(i=m)?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,t.Z=new m(c.Z,{CONNECTION_OPEN:function(){_=null;d.Z.checkScheduledMaintenances()},STATUS_PAGE_INCIDENT:function(e){_=e.incident},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){E=e.maintenance},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(){if(null==E)return!1;I=E.id,o.K.set(u,I)}})},558724:function(e,t,n){n.d(t,{J:function(){return C}}),n(47120),n(913527);var i,a,s,l=n(149765),r=n(442837);n(433517);var o=n(570140),c=n(491428),d=n(650774),u=n(430824),_=n(496675),E=n(914010),I=n(594174),m=n(981631);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h={hiddenSurveys:{},surveyOverride:null,lastFetched:null,lastSeen:null},N=h,f={},p=null,C=864e5;(s=i||(i={})).IS_OWNER="is_owner",s.IS_ADMIN="is_admin",s.IS_COMMUNITY="is_community",s.GUILD_SIZE="guild_size",s.IS_HUB="is_hub",s.IS_VIEWING="is_viewing",s.GUILD_PERMISSIONS="guild_permissions",s.GUILD_SIZE_ALL="guild_size_all";let g=new Set(Object.values(i));function S(e){return function(e){return!0}(e)&&function(e){let{guild_requirements:t=[],guild_size:n=[null,null],guild_permissions:i=[]}=e;if(0===t.length)return!0;for(let e of t)if(!g.has(e))return!1;let a=t.includes("guild_size_all"),s=!0;for(let r of Object.values(u.Z.getGuilds())){if(a||t.includes("guild_size")){let e=d.Z.getMemberCount(r.id);if(null==e||null!=n[0]&&e<n[0]||null!=n[1]&&e>n[1]){s=!1;continue}}if(t.includes("is_community")&&!r.hasFeature(m.oNc.COMMUNITY)||t.includes("is_hub")&&!r.hasFeature(m.oNc.HUB))continue;if(t.includes("guild_permissions")){if(0===i.length)continue;let e=!1;for(let t of i)try{let n=l.vB(t);if(_.Z.can(n,r)){e=!0;break}}catch(e){}if(!e)continue}let o=I.default.getCurrentUser(),c=(null==o?void 0:o.id)===r.ownerId,u=_.Z.can(m.Plq.ADMINISTRATOR,r);if(t.includes("is_owner")&&!c||t.includes("is_admin")&&!u)continue;null==(f=null!=f?f:{})[e.key]&&(f[e.key]=e);let T=E.Z.getGuildId(),h=null!=T&&T===r.id;if(!t.includes("is_viewing")||!!h){if(!a)return!0}}return!!a&&!!s||!1}(e)}function A(e){let{survey:t}=e;if(N.lastFetched=Date.now(),null==N.hiddenSurveys&&(N.hiddenSurveys={}),null!=t&&null==N.hiddenSurveys[t.key]){if(!S(t))return;p=t}}function R(){if(null!=p&&(S(p)||(p=null,0)))return!1;!function(){let e=Object.values(f=null!=f?f:{})[0];if(null!=e&&S(e)){A({type:"SURVEY_FETCHED",survey:e});return}if(null==p)return;p=null}()}class x extends(a=r.ZP.PersistedStore){initialize(e){N=null!=e?e:h,this.syncWith([E.Z],R)}getState(){return N}getCurrentSurvey(){return p}getSurveyOverride(){return N.surveyOverride}getLastSeenTimestamp(){return N.lastSeen}}T(x,"displayName","SurveyStore"),T(x,"persistKey","SurveyStore"),T(x,"migrations",[e=>{let t={...e};return delete t.validSurveys,delete t.currentSurvey,delete t.iosIsPushNotificationClicked,delete t.iosIsInviteShown,delete t.iosFirstRunDate,t},e=>{var t;return{...e,lastSeen:null!==(t=e.lastSeen)&&void 0!==t?t:null}},e=>{var t;return{...e,hiddenSurveys:null!==(t=e.hiddenSurveys)&&void 0!==t?t:{}}}]),t.Z=new x(o.Z,{CONNECTION_OPEN:function(){var e;if(!(null!=N.lastFetched&&Date.now()-(null!==(e=N.lastFetched)&&void 0!==e?e:0)<C)||null!=N.surveyOverride)(0,c.wk)(N.surveyOverride,!0)},SURVEY_FETCHED:A,SURVEY_HIDE:function(e){let{key:t}=e;N.hiddenSurveys[t]=!0,p=null,f=null!=f?f:{},delete f[t]},SURVEY_OVERRIDE:function(e){let{id:t}=e;N.surveyOverride=t,null!=t&&delete N.hiddenSurveys[t],(0,c.wk)(N.surveyOverride,!0)},PUSH_NOTIFICATION_CLICK:function(){},DISPLAYED_INVITE_SHOW:function(){},LOGOUT:function(){N.hiddenSurveys={}},SURVEY_SEEN:function(){N.lastSeen=Date.now()}})},23434:function(e,t,n){var i,a,s,l,r=n(442837),o=n(570140);let c=null;class d extends(l=r.ZP.Store){hasAction(){return null!=c}getAction(){return c}}function u(e){c=e.requiredAction}s="UserRequiredActionStore",(a="displayName")in(i=d)?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,t.Z=new d(o.Z,{CONNECTION_OPEN:u,USER_REQUIRED_ACTION_UPDATE:u})},238:function(e,t,n){n.d(t,{N:function(){return i}}),n(47120);var i,a,s,l,r,o,c=n(442837),d=n(570140),u=n(55563),_=n(551428);let E=new Map,I=new Map;(s=i||(i={}))[s.NONE=0]="NONE",s[s.FETCHING=1]="FETCHING",s[s.FETCHED=2]="FETCHED",s[s.FAILED=3]="FAILED";let m={subscriptions:[],otps:[]};class T extends(a=c.ZP.Store){initialize(){this.waitFor(u.Z,_.Z)}hasStorefront(e){return E.has(e)}getStoreLayout(e){var t;return null!==(t=E.get(e))&&void 0!==t?t:m}getFetchStatus(e){var t;return E.has(e)?2:null!==(t=I.get(e))&&void 0!==t?t:0}}o="ApplicationStoreDirectoryStore",(r="displayName")in(l=T)?Object.defineProperty(l,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[r]=o,t.Z=new T(d.Z,{APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS:function(e){let{applicationId:t,listings:n}=e;E.set(t,n),I.delete(t)},APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_FAILED:function(e){let{applicationId:t}=e;I.set(t,3)},APPLICATION_STORE_DIRECTORY_LAYOUT_FETCHING:function(e){let{applicationId:t}=e;I.set(t,1)}})},558314:function(e,t,n){var i,a,s,l,r=n(442837),o=n(570140);let c={matureAgree:!1};class d extends(l=r.ZP.Store){get didMatureAgree(){return c.matureAgree}}s="ApplicationStoreSettingsStore",(a="displayName")in(i=d)?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,t.Z=new d(o.Z,{APPLICATION_STORE_MATURE_AGREE:function(){c.matureAgree=!0}})},922156:function(e,t,n){var i,a,s,l,r=n(442837),o=n(570140),c=n(186901);let d=null,u=[c.ff.REDISTRIBUTABLE_INSTALL_FAILED,c.ff.POST_INSTALL_FAILED,c.ff.POST_INSTALL_CANCELLED],_=[c.ff.APPLICATION_NOT_FOUND,c.ff.APPLICATION_LOAD_FAILED,c.ff.INTERRUPTED,c.ff.DESERIALIZATION_FAILED];class E extends(l=r.ZP.Store){getLastError(){return d}}s="DispatchApplicationErrorStore",(a="displayName")in(i=E)?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,t.Z=new E(o.Z,{DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(){null!=d&&null!=d.code&&u.includes(d.code)&&(d=null)},DISPATCH_APPLICATION_ERROR:function(e){let{error:t}=e;d=null!=t.code&&_.includes(t.code)?null:t}})},933429:function(e,t,n){n.d(t,{m:function(){return eD}}),n(47120);var i,a,s,l,r=n(913527),o=n.n(r),c=n(442837),d=n(743426),u=n(704215),_=n(433517),E=n(570140),I=n(579806),m=n(726542),T=n(812206),h=n(223892),N=n(674525),f=n(605236),p=n(524347),C=n(853197),g=n(353926),S=n(594190),A=n(38618),R=n(569545),x=n(615365),O=n(528011),M=n(487419),v=n(715903),L=n(223606),Z=n(150340),P=n(160404),b=n(41776),D=n(347649),j=n(332473),U=n(30684),y=n(616106),B=n(774276),k=n(518638),G=n(1844),F=n(621615),w=n(417626),V=n(569984),H=n(523255),Y=n(768419),W=n(590415),z=n(581883),K=n(199902),Q=n(314897),q=n(881998),X=n(463395),J=n(592125),$=n(553795),ee=n(427123),et=n(271383),en=n(430824),ei=n(131951),ea=n(292959),es=n(496675),el=n(571474),er=n(19780),eo=n(944486),ec=n(914010),ed=n(215427),eu=n(246946),e_=n(558724),eE=n(23434),eI=n(594174),em=n(979651),eT=n(351402),eh=n(853872),eN=n(78839),ef=n(295226),ep=n(580130),eC=n(695103),eg=n(358085),eS=n(74538),eA=n(922156),eR=n(436181),ex=n(941128),eO=n(981631),eM=n(188785),ev=n(702512),eL=n(474936),eZ=n(46140),eP=n(231338),eb=n(65154);let eD={[eO.kVF.LOCALIZED_PRICING]:u.z.NAGBAR_NOTICE_LOCALIZED_PRICING,[eO.kVF.DOWNLOAD_NAG]:u.z.NAGBAR_NOTICE_DOWNLOAD,[eO.kVF.CONNECT_SPOTIFY]:u.z.NAGBAR_NOTICE_CONNECT_SPOTIFY,[eO.kVF.CONNECT_PLAYSTATION]:u.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION,[eO.kVF.MFA_SMS_BACKUP]:u.z.NAGBAR_NOTICE_MFA_SMS_BACKUP,[eO.kVF.PREMIUM_TIER_2_TRIAL_ENDING]:u.z.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING,[eO.kVF.PREMIUM_REACTIVATE]:u.z.NAGBAR_NOTICE_PREMIUM_REACTIVATE,[eO.kVF.DROPS_GO_LIVE_BANNER]:u.z.QUEST_2_GO_LIVE_BANNER,[eO.kVF.DROPS_ENDED_INCOMPLETE]:u.z.QUEST_2_ENDED_INCOMPLETE,[eO.kVF.BOUNCED_EMAIL_DETECTED]:u.z.NAGBAR_BOUNCED_EMAIL_NOTICE,[eO.kVF.ACTIVATE_SERVER_SUBSCRIPTION]:u.z.NAGBAR_ACTIVATE_SERVER_SUBSCRIPTION,[eO.kVF.PREMIUM_TIER_0_TRIAL_ENDING]:u.z.NAGBAR_NOTICE_PREMIUM_TIER_0_TRIAL_ENDING,[eO.kVF.GUILD_ONBOARDING_UPSELL_NAGBAR]:u.z.GUILD_ONBOARDING_UPSELL_NAGBAR,[eO.kVF.POMELO_ELIGIBLE]:u.z.NAGBAR_NOTICE_POMELO,[eO.kVF.UU_MIGRATION]:u.z.UU_MIGRATION_NOTICE,[eO.kVF.CHECKOUT_RECOVERY_NAGBAR]:u.z.CHECKOUT_RECOVERY_NAGBAR},ej={[eO.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL]:"hideDetectedOffPlatformPremiumPerkUpsell",[eO.kVF.PREMIUM_UNCANCEL]:"hideUncancelReminder",[eO.kVF.PREMIUM_MISSING_PAYMENT]:"hideMissingPaymentReminder",[eO.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT]:"hidePastDueMissingPaymentReminder",[eO.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT]:"hidePastDueInvalidPaymentReminder",[eO.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT]:"hidePastDueOneTimePaymentReminder",[eO.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION]:"hideAutoModerationMentionRaidDetectionNotice",[eO.kVF.GUILD_RAID_NOTIFICATION]:"hideGuildRaidDetectionNotice",[eO.kVF.SERVER_USAGE_SURVEY]:"hideServerUsageSurvey",[eO.kVF.WIN32_DEPRECATED_MESSAGE]:"hideWin32DeprecationMessageNotice",[eO.kVF.WIN7_8_DEPRECATED_MESSAGE]:"hideWin78DeprecationMessageNotice",[eO.kVF.MACOS_17_18_DEPRECATED_MESSAGE]:"hideMacOS17_18DeprecationMessageNotice",[eO.kVF.PREMIUM_TIER_2_TRIAL_ENDING]:"hidePremiumTier2TrialOfferEndingNotice"},eU=new Set([eO.kVF.NO_INPUT_DETECTED,eO.kVF.STREAMER_MODE,eO.kVF.VIDEO_UNSUPPORTED_BROWSER,eO.kVF.SPOTIFY_AUTO_PAUSED,eO.kVF.DISPATCH_ERROR,eO.kVF.DISPATCH_ERROR,eO.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS,eO.kVF.BLOCKED_BY_PROXY]),ey={},eB=Object.freeze({id:null,message:null,buttonText:null,callback:void 0,metadata:null}),ek=null;function eG(e){return ej[e]+"-untilAtLeast"}function eF(e,t,n){var i,a,s;if(null==e)return;let l=ej[e];if(null!=l&&!t&&_.K.set(l,!0),eU.has(e)&&(ey[e]=!0),null!=n&&null!=l){;i=e,a=n,_.K.set(eG(i),a.format("YYYY-MM-DDTHH:mm:ss.SSSZ"))}else{;s=e,_.K.remove(eG(s))}}function ew(e){if(null==e)return!1;let t=function(e){let{enabled:t}=B.cI.getCurrentConfig({location:"NoticeStore_isNoticeDismissed"},{autoTrackExposure:!0,disable:e!==eO.kVF.PREMIUM_TIER_2_TRIAL_ENDING});return t?null:eD[e]}(e);if(null!=t)return(0,f.un)(t);let n=ej[e];if(null!=n){let t=function(e){let t=_.K.get(eG(e));return null!=t?o()(t):null}(e);if(null!=t)return null==t?void 0:t.isAfter(o()())}let i=ey[e];return!!i||(null!=n&&""!==n?_.K.get(n):!!eU.has(e)&&i)}let eV=[eO.kVF.QUARANTINED,eO.kVF.AUTOMOD_QUARANTINED_USER_PROFILE,eO.kVF.VIEWING_ROLES,eO.kVF.INVITED_TO_SPEAK,eO.kVF.LURKING_GUILD,eO.kVF.VOICE_DISABLED,eO.kVF.NO_INPUT_DETECTED,eO.kVF.HARDWARE_MUTE,eO.kVF.H264_DISABLED,eO.kVF.DISPATCH_ERROR,eO.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS,eO.kVF.SPOTIFY_AUTO_PAUSED,eO.kVF.DROPS_PROGRESS_INTERRUPTION,eO.kVF.WIN32_DEPRECATED_MESSAGE,eO.kVF.WIN7_8_DEPRECATED_MESSAGE,eO.kVF.MACOS_17_18_DEPRECATED_MESSAGE,eO.kVF.BLOCKED_BY_PROXY,eO.kVF.VOICE_CONNECTED_LAST_SESSION,eO.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION,eO.kVF.GUILD_RAID_NOTIFICATION,eO.kVF.QUESTS_PROGRESS_INTERRUPTION,eO.kVF.UNCLAIMED_ACCOUNT,eO.kVF.POMELO_ELIGIBLE,eO.kVF.PENDING_MEMBER,eO.kVF.OUTBOUND_PROMOTION,eO.kVF.CORRUPT_INSTALLATION,eO.kVF.VIDEO_UNSUPPORTED_BROWSER,eO.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK,eO.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL,eO.kVF.STREAMER_MODE,eO.kVF.SCHEDULED_MAINTENANCE,eO.kVF.BOUNCED_EMAIL_DETECTED,eO.kVF.UNVERIFIED_ACCOUNT,eO.kVF.PREMIUM_TIER_2_TRIAL_ENDING,eO.kVF.PREMIUM_TIER_0_TRIAL_ENDING,eO.kVF.PREMIUM_UNCANCEL,eO.kVF.PREMIUM_MISSING_PAYMENT,eO.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,eO.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,eO.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT,eO.kVF.PREMIUM_REACTIVATE,eO.kVF.ACTIVATE_SERVER_SUBSCRIPTION,eO.kVF.MFA_SMS_BACKUP,eO.kVF.APPLICATION_TEST_MODE,eO.kVF.LOCALIZED_PRICING,eO.kVF.DOWNLOAD_NAG,eO.kVF.CONNECT_SPOTIFY,eO.kVF.CONNECT_PLAYSTATION,eO.kVF.SURVEY,eO.kVF.SERVER_USAGE_SURVEY,eO.kVF.SAFETY_USER_SENTIMENT_NAGBAR,eO.kVF.DROPS_GO_LIVE_BANNER,eO.kVF.DROPS_ENDED_INCOMPLETE,eO.kVF.GUILD_ONBOARDING_UPSELL_NAGBAR,eO.kVF.UU_MIGRATION,eO.kVF.CHECKOUT_RECOVERY_NAGBAR],eH=[eO.kVF.QUARANTINED,eO.kVF.AUTOMOD_QUARANTINED_USER_PROFILE,eO.kVF.VIEWING_ROLES,eO.kVF.INVITED_TO_SPEAK,eO.kVF.LURKING_GUILD,eO.kVF.VOICE_DISABLED,eO.kVF.NO_INPUT_DETECTED,eO.kVF.HARDWARE_MUTE,eO.kVF.H264_DISABLED,eO.kVF.DISPATCH_ERROR,eO.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS,eO.kVF.SPOTIFY_AUTO_PAUSED,eO.kVF.BLOCKED_BY_PROXY,eO.kVF.VOICE_CONNECTED_LAST_SESSION,eO.kVF.PENDING_MEMBER,eO.kVF.STREAMER_MODE,eO.kVF.SCHEDULED_MAINTENANCE],eY={[eO.kVF.GUILD_RAID_NOTIFICATION]:{predicate:()=>(0,O.g)().show&&!ew(eO.kVF.GUILD_RAID_NOTIFICATION),metadata:()=>({dismissUntil:o()().add(3,"hours").toDate()})},[eO.kVF.AUTOMOD_QUARANTINED_USER_PROFILE]:{predicate:e=>{let{currentUser:t,selectedGuildId:n}=e;if(null==n)return!1;let i=et.ZP.getMember(n,t.id);return null!=i&&!i.isPending&&(0,v.EY)(i)}},[eO.kVF.QUARANTINED]:{predicate:e=>{let{currentUser:t}=e;return t.hasFlag(eO.xW$.QUARANTINED)}},[eO.kVF.VIEWING_ROLES]:{predicate:e=>{let{selectedGuildId:t}=e;return P.Z.isViewingRoles(t)}},[eO.kVF.INVITED_TO_SPEAK]:{predicate:e=>{let{voiceState:t}=e;return(0,W.gf)(t)===W.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK}},[eO.kVF.LURKING_GUILD]:{predicate:e=>{let{selectedGuildId:t}=e;return null!=t&&b.Z.isLurking(t)}},[eO.kVF.VOICE_DISABLED]:{predicate:()=>null!=er.Z.getRemoteDisconnectVoiceChannelId()},[eO.kVF.VOICE_CONNECTED_LAST_SESSION]:{predicate:()=>null!=er.Z.getLastSessionVoiceChannelId()},[eO.kVF.NO_INPUT_DETECTED]:{predicate:e=>{let{voiceChannelId:t,voiceState:n}=e,i=J.Z.getChannel(t),a=(null==i?void 0:i.isGuildStageVoice())&&(null==n?void 0:n.suppress);return!1===ei.Z.getInputDetected()&&!a}},[eO.kVF.H264_DISABLED]:{predicate:e=>{let{voiceChannelId:t}=e,n=J.Z.getChannel(t);return!ei.Z.getOpenH264()&&null!=t&&em.Z.hasVideo(t)&&null!=n&&n.isGuildStageVoice()}},[eO.kVF.HARDWARE_MUTE]:{predicate:()=>er.Z.isConnected()&&ei.Z.isHardwareMute(),metadata:()=>{let e=ei.Z.getInputDeviceId(),t=X.Z.getVendor(e),n=X.Z.getModel(e);if(null!=t&&null!=n)return{vendor:t,model:n}}},[eO.kVF.DISPATCH_ERROR]:{predicate:()=>null!=eA.Z.getLastError(),metadata:()=>({error:eA.Z.getLastError()})},[eO.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS]:{predicate:()=>null!=eR.Z.getLastProgress(),metadata:()=>eR.Z.getLastProgress()},[eO.kVF.SPOTIFY_AUTO_PAUSED]:{predicate:()=>Y.Z.wasAutoPaused()},[eO.kVF.BLOCKED_BY_PROXY]:{predicate:()=>!ew(eO.kVF.BLOCKED_BY_PROXY)&&w.Z.blockedByProxy&&F.Z.getCurrentConfig({location:"notice_store"}).eligibleForNotice},[eO.kVF.UNCLAIMED_ACCOUNT]:{predicate:e=>{let{currentUser:t}=e;return null!=t&&!t.isClaimed()}},[eO.kVF.PENDING_MEMBER]:{predicate:e=>{var t,n,i;let{selectedGuildId:a,currentUser:s}=e;return null!==(i=null!=a&&null!=s&&!(null===(t=en.Z.getGuild(a))||void 0===t?void 0:t.hasFeature(eO.oNc.GUILD_ONBOARDING))&&(null===(n=et.ZP.getMember(a,s.id))||void 0===n?void 0:n.isPending))&&void 0!==i&&i}},[eO.kVF.OUTBOUND_PROMOTION]:{predicate:()=>(0,k.tq)()},[eO.kVF.CORRUPT_INSTALLATION]:{predicate:()=>eg.isPlatformEmbedded&&(!d.Z.supported()||ex.Z.isCorruptInstallation())},[eO.kVF.VIDEO_UNSUPPORTED_BROWSER]:{predicate:e=>{let{voiceChannelId:t}=e;return null!=t&&em.Z.hasVideo(t)&&!ei.Z.supports(eb.AN.VIDEO)&&!ew(eO.kVF.VIDEO_UNSUPPORTED_BROWSER)}},[eO.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK]:{predicate:e=>{let{currentUser:t}=e;return eS.ZP.canRedeemPremiumPerks(t)&&ee.Z.getDetectedOffPlatformPremiumPerks().length>0},metadata:()=>ee.Z.getDetectedOffPlatformPremiumPerks()[0]},[eO.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL]:{predicate:()=>!ew(eO.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL)&&ee.Z.getDetectedOffPlatformPremiumPerks().length>0,metadata:()=>ee.Z.getDetectedOffPlatformPremiumPerks()[0]},[eO.kVF.STREAMER_MODE]:{predicate:()=>eu.Z.enabled},[eO.kVF.DOWNLOAD_NAG]:{predicate:()=>!eg.isPlatformEmbedded&&!ew(eO.kVF.DOWNLOAD_NAG)},[eO.kVF.SCHEDULED_MAINTENANCE]:{predicate:()=>null!=ed.Z.getScheduledMaintenance(),metadata:()=>{let e=ed.Z.getScheduledMaintenance();if(null!=e)return{id:e.id,start:new Date(e.scheduled_for),end:new Date(e.scheduled_until)}}},[eO.kVF.SURVEY]:{predicate:()=>null!=e_.Z.getCurrentSurvey(),metadata:()=>e_.Z.getCurrentSurvey()},[eO.kVF.SERVER_USAGE_SURVEY]:{predicate:e=>{let{selectedGuildId:t}=e;return null!=t&&x.Z.getCurrentConfig({location:"notice_store"}).showSurvey&&!ew(eO.kVF.SERVER_USAGE_SURVEY)},metadata:e=>{let{selectedGuildId:t,currentUser:n}=e;return{selectedGuildId:t,currentUser:n}}},[eO.kVF.UNVERIFIED_ACCOUNT]:{predicate:e=>{let{currentUser:t}=e;return(null==t?void 0:t.email)!=null&&!t.verified}},[eO.kVF.BOUNCED_EMAIL_DETECTED]:{predicate:e=>{let{currentUser:t}=e;return null==t?void 0:t.hasBouncedEmail}},[eO.kVF.CONNECT_SPOTIFY]:{predicate:()=>!Y.Z.hasConnectedAccount()&&S.ZP.isObservedAppRunning(m.Z.get(eO.ABu.SPOTIFY).name)&&!ew(eO.kVF.CONNECT_SPOTIFY)},[eO.kVF.WIN32_DEPRECATED_MESSAGE]:{predicate:()=>(null===I.Z||void 0===I.Z?void 0:I.Z.os.arch)==="ia32"&&(null===I.Z||void 0===I.Z?void 0:I.Z.process.platform)==="win32",metadata:()=>({dismissUntil:o()().add(5,"days").toDate()})},[eO.kVF.WIN7_8_DEPRECATED_MESSAGE]:{predicate:()=>{if((null===I.Z||void 0===I.Z?void 0:I.Z.process.platform)==="win32")try{return 10>parseInt(null===I.Z||void 0===I.Z?void 0:I.Z.os.release.split(".")[0])}catch(e){}return!1},metadata:()=>({dismissUntil:o()().add(5,"days").toDate()})},[eO.kVF.MACOS_17_18_DEPRECATED_MESSAGE]:{predicate:()=>{if((null===I.Z||void 0===I.Z?void 0:I.Z.process.platform)==="darwin")try{return 19>parseInt(null===I.Z||void 0===I.Z?void 0:I.Z.os.release.split(".")[0])}catch(e){}return!1},metadata:()=>({dismissUntil:o()().add(5,"days").toDate()})},[eO.kVF.CONNECT_PLAYSTATION]:{predicate:()=>$.Z.isSuggestedAccountType(eO.ABu.PLAYSTATION)&&null==$.Z.getAccount(null,eO.ABu.PLAYSTATION)&&!ew(eO.kVF.CONNECT_PLAYSTATION)},[eO.kVF.PREMIUM_TIER_2_TRIAL_ENDING]:{predicate:()=>ef.Z.getAlmostExpiringTrialOffers([eL.Si.TIER_2]).length>0&&!ew(eO.kVF.PREMIUM_TIER_2_TRIAL_ENDING)},[eO.kVF.PREMIUM_TIER_0_TRIAL_ENDING]:{predicate:()=>ef.Z.getAlmostExpiringTrialOffers([eL.Si.TIER_0]).length>0&&!ew(eO.kVF.PREMIUM_TIER_0_TRIAL_ENDING)},[eO.kVF.PREMIUM_UNCANCEL]:{predicate:e=>{let{premiumSubscription:t,currentUser:n}=e,i=null!=t?o()(t.currentPeriodEnd).diff(o()().startOf("day"),"days"):0,a=(null==t?void 0:t.canceledAt)!=null&&(null==t?void 0:t.status)===eO.O0b.CANCELED&&1>=o()().diff(o()(t.canceledAt),"days"),s=null!=t&&o()(t.currentPeriodEnd).isBefore(o()()),l=null!=t&&t.status===eO.O0b.CANCELED&&!s&&i<=7&&i>=0&&(0,eS.M5)(n,eL.p9.TIER_2)&&!a&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!ew(eO.kVF.PREMIUM_UNCANCEL)&&l},metadata:e=>{var t;let{premiumSubscription:n}=e,i=null!=n?o()(n.currentPeriodEnd).diff(o()().startOf("day"),"days"):0,a=null!=n?null===(t=(0,eS.Af)(n))||void 0===t?void 0:t.planId:null;return{daysLeft:i,premiumType:null!=a?eS.ZP.getPremiumType(a):null,premiumSubscription:n}}},[eO.kVF.PREMIUM_MISSING_PAYMENT]:{predicate:e=>{let{premiumSubscription:t,currentUser:n}=e,i=null!=t?o()(t.currentPeriodEnd).diff(o()().startOf("day"),"days"):0,a=null!=t?o()(t.currentPeriodEnd).diff(o()(t.currentPeriodStart).startOf("day"),"days"):0,s=null!=t&&o()(t.currentPeriodEnd).isBefore(o()()),l=ep.Z.applicationIdsFetched.has(eL.RQ),r=ep.Z.getForApplication(eL.RQ),c=null!=t?(0,eS.Af)(t):null,d=null!=c?eS.ZP.getSkuIdForPlan(c.planId):null,u=null!=r&&null!=c&&Array.from(r).filter(e=>{let{skuId:t,consumed:n}=e;return!n&&t===d}).length>0,_=null!=t&&i<=(a>14?7:2)&&i>=0&&t.status!==eO.O0b.PAST_DUE&&!s&&l&&!u&&null===t.paymentSourceId&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!ew(eO.kVF.PREMIUM_MISSING_PAYMENT)&&_},metadata:e=>{var t;let{premiumSubscription:n}=e,i=null!=n?o()(n.currentPeriodEnd).diff(o()().startOf("day"),"days"):0,a=null!=n?null===(t=(0,eS.Af)(n))||void 0===t?void 0:t.planId:null;return{daysLeft:i,premiumType:null!=a?eS.ZP.getPremiumType(a):null,premiumSubscription:n}}},[eO.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT]:{predicate:e=>{let{premiumSubscription:t,currentUser:n}=e,i=null!=t&&null!=t.paymentSourceId?eh.Z.getPaymentSource(t.paymentSourceId):null,a=null!=t&&o()(t.currentPeriodEnd).isBefore(o()()),s=null!=t&&t.status===eO.O0b.PAST_DUE&&!a&&null!=i&&i.invalid&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!ew(eO.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT)&&s},metadata:e=>{let{premiumSubscription:t}=e;return{premiumSubscription:t}}},[eO.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT]:{predicate:e=>{let{premiumSubscription:t,currentUser:n}=e,i=null!=t&&o()(t.currentPeriodEnd).isBefore(o()()),a=null!=t&&t.status===eO.O0b.PAST_DUE&&!i&&null===t.paymentSourceId&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!ew(eO.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT)&&a},metadata:e=>{let{premiumSubscription:t}=e;return{premiumSubscription:t}}},[eO.kVF.MFA_SMS_BACKUP]:{predicate:e=>{let{currentUser:t}=e;return null!=t&&t.mfaEnabled&&!t.hasFlag(eO.xW$.MFA_SMS)&&!t.hasFlag(eO.xW$.STAFF)&&!t.hasFlag(eO.xW$.PARTNER)&&!ew(eO.kVF.MFA_SMS_BACKUP)}},[eO.kVF.APPLICATION_TEST_MODE]:{predicate:()=>null!=eC.Z.testModeApplicationId,metadata:()=>{if(null==eC.Z.testModeApplicationId)return{};let e=eC.Z.testModeApplicationId,t=T.Z.getApplication(e);return{applicationName:null!=t?t.name:e,applicationId:e}}},[eO.kVF.PREMIUM_REACTIVATE]:{predicate:()=>!ew(eO.kVF.PREMIUM_REACTIVATE)&&y.Z.shouldShowReactivateNotice()},[eO.kVF.LOCALIZED_PRICING]:{predicate:e=>{let{isLocalizedPromoEnabled:t}=e;return!ew(eO.kVF.LOCALIZED_PRICING)&&t},metadata:e=>{let{premiumSubscription:t}=e;return{premiumSubscription:t}}},[eO.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT]:{predicate:e=>{let{premiumSubscription:t,currentUser:n}=e,i=null!=t&&o()(t.currentPeriodEnd).isBefore(o()()),a=null!=t&&null!=t.paymentSourceId?eh.Z.getPaymentSource(t.paymentSourceId):null,s=null!=a&&eP.Uk.has(a.type),l=null!=t&&t.status===eO.O0b.PAST_DUE&&!i&&s&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!ew(eO.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT)&&l},metadata:e=>{let{premiumSubscription:t}=e;if(null==t)return{daysPastDue:0,dismissUntil:o()().toDate()};{let e=t.status===eO.O0b.PAST_DUE?o()().diff(t.currentPeriodStart,"days"):0;return{daysPastDue:e,dismissUntil:(0,eS.lY)(t).expiresDate.toDate()}}}},[eO.kVF.DROPS_GO_LIVE_BANNER]:{predicate:()=>!ew(eO.kVF.DROPS_GO_LIVE_BANNER)&&(0,f.un)(u.z.QUEST_2_ENROLLMENT_TOOLTIP)&&!(0,f.un)(u.z.QUEST_2_COMPLETION_TOOLTIP)&&(0,C.Tn)(ev.X2.FORTNITE),metadata:()=>({partnerGame:ev.X2.FORTNITE})},[eO.kVF.DROPS_PROGRESS_INTERRUPTION]:{predicate:()=>p.Z.isCurrentQuestInterrupted&&null!=p.Z.currentDropQuestGameTitle,metadata:()=>({gameTitle:p.Z.currentDropQuestGameTitle,reloadCallback:()=>window.location.reload(!0)})},[eO.kVF.POMELO_ELIGIBLE]:{predicate:()=>(0,j.e)()&&!ew(eO.kVF.POMELO_ELIGIBLE)&&!(0,D.ov)()},[eO.kVF.DROPS_ENDED_INCOMPLETE]:{predicate:()=>!ew(eO.kVF.DROPS_ENDED_INCOMPLETE)&&(0,f.un)(u.z.QUEST_2_ENROLLMENT_TOOLTIP)&&!(0,f.un)(u.z.QUEST_2_COMPLETION_TOOLTIP)&&(0,C.FL)(ev.X2.FORTNITE),metadata:()=>({partnerGame:ev.X2.FORTNITE})},[eO.kVF.UU_MIGRATION]:{predicate:()=>(0,j.e)()&&!ew(eO.kVF.UU_MIGRATION)&&(0,D.ov)()},[eO.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION]:{predicate:e=>{let{selectedGuildId:t}=e,n=null!=t?en.Z.getGuild(t):null;return null!=t&&null!=L.Z.getMentionRaidDetected(t)&&(null==n?void 0:n.hasFeature(eO.oNc.COMMUNITY))&&!ew(eO.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION)||!1},metadata:e=>{let{selectedGuildId:t}=e,n={dismissUntil:o()().add(2,"hours").toDate()};if(null!=t){let e=L.Z.getMentionRaidDetected(t);null!=e&&(n.decisionId=e.decisionId)}return n}},[eO.kVF.ACTIVATE_SERVER_SUBSCRIPTION]:{predicate:()=>!ew(eO.kVF.ACTIVATE_SERVER_SUBSCRIPTION)&&0!==N.Z.getEligibleGuildsForNagActivate().length&&(0,h.Lm)()},[eO.kVF.GUILD_ONBOARDING_UPSELL_NAGBAR]:{predicate:e=>{let{selectedGuildId:t}=e;return!ew(eO.kVF.GUILD_ONBOARDING_UPSELL_NAGBAR)&&null!=t&&(0,Z.S)(t,u.z.GUILD_ONBOARDING_UPSELL_NAGBAR)}},[eO.kVF.SAFETY_USER_SENTIMENT_NAGBAR]:{predicate:e=>{let{currentUser:t}=e;return H.SI(t)}},[eO.kVF.QUESTS_PROGRESS_INTERRUPTION]:{predicate:()=>{let e=K.Z.getCurrentUserActiveStream();if(null==e)return!1;let t=(0,R.V9)(e),n=V.Z.getStreamHeartbeatFailure(t);return null!=n&&Date.now()-n.firstFailedAt>=eZ.Ot},metadata:()=>{let e=K.Z.getCurrentUserActiveStream();return{streamKey:null!=e?(0,R.V9)(e):null}}},[eO.kVF.CHECKOUT_RECOVERY_NAGBAR]:{predicate:()=>U.Z.isEligibleForNagbar()}};function eW(){if(!A.Z.isConnected())return!1;ek=null;let e=eI.default.getCurrentUser();if(null==e)return!1;let t=eN.ZP.getPremiumSubscription(),n=eT.Z.isLocalizedPromoEnabled,i=ec.Z.getGuildId(),a=eo.Z.getVoiceChannelId(),s=null!=a?em.Z.getVoiceStateForChannel(a):null;for(let o of eM.a?eH:eV){if(null!=eY[o]){if(eY[o].predicate({selectedGuildId:i,voiceChannelId:a,voiceState:s,currentUser:e,premiumSubscription:t,isLocalizedPromoEnabled:n})){var l,r;let n=null===(l=(r=eY[o]).metadata)||void 0===l?void 0:l.call(r,{currentUser:e,premiumSubscription:t,selectedGuildId:i});ek={...eB,type:o,metadata:n};break}}}null!=ek&&ew(ek.type)&&(ek=null)}function ez(){return!eu.Z.enabled&&delete ey[eO.kVF.STREAMER_MODE],eW()}class eK extends(i=c.ZP.Store){initialize(){this.syncWith([e_.Z,el.Z,ee.Z,ec.Z,G.Z,ef.Z,q.Z,$.Z,z.Z,M.Z,V.Z,K.Z],eW),this.waitFor(eI.default,ed.Z,en.Z,et.ZP,er.Z,ei.Z,eu.Z,g.Z,ec.Z,eE.Z,Y.Z,S.ZP,el.Z,eA.Z,eR.Z,eC.Z,ea.Z,eN.ZP,ex.Z,ee.Z,eh.Z,es.Z,G.Z,ep.Z,ef.Z,$.Z,b.Z,p.Z,N.Z,w.Z,V.Z,K.Z)}hasNotice(){return null!=ek&&null!=ek.type}getNotice(){return null==eE.Z.getAction()?ek:null}isNoticeDismissed(e){return ew(e)}}l="NoticeStore",(s="displayName")in(a=eK)?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,t.Z=new eK(E.Z,{CURRENT_USER_UPDATE:eW,MEDIA_ENGINE_SET_AUDIO_ENABLED:eW,CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID:eW,CLEAR_LAST_SESSION_VOICE_CHANNEL_ID:eW,STATUS_PAGE_SCHEDULED_MAINTENANCE:eW,STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:eW,GUILD_CREATE:eW,GUILD_DELETE:eW,AUDIO_INPUT_DETECTED:eW,AUDIO_SET_DISPLAY_SILENCE_WARNING:eW,CERTIFIED_DEVICES_SET:eW,AUDIO_SET_INPUT_DEVICE:eW,AUDIO_SET_OUTPUT_DEVICE:eW,MEDIA_ENGINE_DEVICES:eW,RTC_CONNECTION_STATE:eW,RPC_APP_AUTHENTICATED:eW,RPC_APP_DISCONNECTED:eW,USER_CONNECTIONS_UPDATE:eW,WINDOW_FOCUS:eW,INSTANT_INVITE_CREATE:eW,INSTANT_INVITE_REVOKE_SUCCESS:eW,SPOTIFY_PLAYER_PAUSE:eW,RUNNING_GAMES_CHANGE:eW,EXPERIMENTS_FETCH_SUCCESS:eW,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:eW,DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS:eW,DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL:eW,DEVELOPER_TEST_MODE_RESET:eW,BILLING_SUBSCRIPTION_FETCH_SUCCESS:eW,DISPATCH_APPLICATION_INSTALL:eW,IMPERSONATE_STOP:eW,IMPERSONATE_UPDATE:eW,GUILD_MEMBER_ADD:function(e){return e.user.id===Q.default.getId()&&eW()},GUILD_MEMBER_UPDATE:eW,SURVEY_FETCHED:eW,ENTITLEMENT_FETCH_APPLICATION_SUCCESS:eW,BILLING_PAYMENT_SOURCE_REMOVE_SUCCESS:eW,BILLING_SUBSCRIPTION_UPDATE_SUCCESS:eW,BILLING_MOST_RECENT_SUBSCRIPTION_FETCH_SUCCESS:eW,VOICE_STATE_UPDATES:function(e){let{voiceStates:t}=e;return t.some(e=>{let{userId:t}=e;return t!==Q.default.getId()})&&eW()},STREAMER_MODE_UPDATE:ez,RUNNING_STREAMER_TOOLS_CHANGE:ez,DISPATCH_APPLICATION_ERROR:function(){return delete ey[eO.kVF.DISPATCH_ERROR],eW()},DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(){return delete ey[eO.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS],eW()},DISPATCH_APPLICATION_INSTALL_SCRIPTS_PROGRESS_UPDATE:function(){return eW()},DISPATCH_APPLICATION_LAUNCH_SETUP_COMPLETE:function(){return eW()},NOTICE_SHOW:function(e){ek=e.notice},NOTICE_DISMISS:function(e){return null!=ek&&(null==e.id||e.id===ek.id)&&(eF(ek.type,e.isTemporary,e.untilAtLeast),eW())},NOTICE_DISABLE:function(e){let{noticeType:t}=e;return eF(t),eW()},LOGOUT:function(){ey={},ek=null},SUBSCRIPTION_PLANS_FETCH_SUCCESS:eW,AUTO_MODERATION_MENTION_RAID_DETECTION:eW,CREATOR_MONETIZATION_NAG_ACTIVATE_ELIGIBLITY_FETCH_SUCCESS:eW,PROXY_BLOCKED_REQUEST:eW})},243769:function(e,t,n){n(47120),n(653041);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(692547),o=n(481060),c=n(620662),d=n(994339),u=n(503438),_=n(484459),E=n(598077),I=n(63063),m=n(153066),T=n(51144),h=n(285952),N=n(936195),f=n(409216),p=n(981631),C=n(616922),g=n(689938),S=n(956630);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R extends a.PureComponent{render(){let{member:e,className:t,guildId:n}=this.props;return(0,i.jsx)(o.Popout,{renderPopout:this.renderUserPopout,position:"left",preload:()=>(0,_.W)(e.user.id,e.user.getAvatarURL(n,80),{guildId:n}),children:a=>{var s;return(0,i.jsx)(o.Tooltip,{text:e.unknownUser?null:null!==(s=e.nick)&&void 0!==s?s:T.ZP.getName(e.user),children:s=>(0,i.jsx)(o.Clickable,{className:e.unknownUser?S.partyMember:S.partyMemberKnown,...s,...a,children:(0,i.jsx)(o.Avatar,{src:e.user.getAvatarURL(n,24),size:o.AvatarSizes.SIZE_24,className:l()(S.partyAvatar,t),"aria-label":e.user.username})})})}})}constructor(...e){super(...e),A(this,"renderUserPopout",e=>{let{renderUserPopout:t,member:n}=this.props;return n.unknownUser?null:t(n.user,e)})}}class x extends a.PureComponent{isDeadInvite(){let{isPreview:e,message:t,activity:n,applicationId:i}=this.props;return!e&&!(null!=t&&(0,d.Z)(n,t,i))}getPartySize(){let{activity:e}=this.props;return null==e||null==e.party||null==e.party.size||e.party.size.length<2?[-1,-1]:e.party.size}getActionableMode(){return[p.mFx.LISTEN,p.mFx].includes(this.props.activityActionType)||this.props.isPreview||this.canJoin()?"Actionable":"NotActionable"}isInParty(){let{activity:e,myPartyId:t,isPreview:n}=this.props;return!n&&null!=e&&null!=e.party&&t===e.party.id}isPartyFull(){let[e,t]=this.getPartySize();return e>-1&&e>=t}hasPartySize(){let[e,t]=this.getPartySize();return e>-1&&t>-1}isActionType(e){return this.props.activityActionType===e}canJoin(){let{activity:e,isPreview:t,isGameLaunchable:n,isInBrowser:i}=this.props;return!!t||!(this.isDeadInvite()||!this.isActionType(p.mFx.JOIN)||!(0,c.Z)(e,p.xjy.JOIN)||!this.hasPartySize()||this.isPartyFull()||i||!n||this.isInParty())&&!0}canSendInvite(){let{activity:e,isPreview:t}=this.props;return!!t||!(this.isDeadInvite()||!this.isActionType(p.mFx.JOIN_REQUEST)||!(0,c.Z)(e,p.xjy.JOIN)||!this.hasPartySize()||this.isPartyFull())&&!0}canSync(){let{activity:e,isPreview:t,isSyncable:n,isInBrowser:i}=this.props;return!!t||!(!this.isActionType(p.mFx.LISTEN)&&!this.isActionType(p.mFx.WATCH)||this.isDeadInvite()||!(0,c.Z)(e,p.xjy.SYNC)||i||!n||this.isInParty())&&!0}getHelpdeskArticleURL(){let{partyId:e}=this.props;return null!=e&&(0,C.Ps)(e)?p.BhN.SPOTIFY_CONNECTION:p.BhN.RICH_PRESENCE_INTRODUCTION}renderHeaderText(){let{activityActionType:e,name:t}=this.props;switch(e){case p.mFx.LISTEN:return g.Z.Messages.INVITE_EMBED_INVITE_TO_LISTEN.format({name:t});case p.mFx.WATCH:return g.Z.Messages.INVITE_EMBED_INVITE_TO_WATCH.format({name:t});case p.mFx.JOIN:return g.Z.Messages.INVITE_EMBED_INVITE_TO_JOIN_GROUP;case p.mFx.JOIN_REQUEST:default:return g.Z.Messages.INVITE_EMBED_ASK_TO_JOIN}}renderPartyStatus(){let{activityActionType:e,isGameLaunchable:t,isSyncable:n,isPreview:a,isInBrowser:s,name:l,activity:r}=this.props,[c,d]=this.getPartySize();if(this.isDeadInvite())switch(e){case p.mFx.LISTEN:return g.Z.Messages.INVITE_EMBED_LISTEN_HAS_ENDED;case p.mFx.WATCH:return g.Z.Messages.INVITE_EMBED_WATCH_HAS_ENDED;case p.mFx.JOIN:case p.mFx.JOIN_REQUEST:default:return g.Z.Messages.INVITE_EMBED_GAME_HAS_ENDED}if(s&&!a&&e===p.mFx.JOIN)return g.Z.Messages.INVITE_EMBED_JOIN_VIA_DESKTOP_APP;if(this.isActionType(p.mFx.LISTEN)||this.isActionType(p.mFx.WATCH))return null!=r&&null!=r.details&&null!=r.state&&(0,u.Z)(r)?[(0,i.jsx)("div",{className:S.details,children:(0,i.jsx)(o.Anchor,{className:S.textLink,onClick:this.handleOpenSpotifyTrack,children:r.details})},"details"),(0,i.jsx)("div",{className:S.state,children:g.Z.Messages.USER_ACTIVITY_LISTENING_ARTISTS.format({artists:r.state,artistsHook:(e,t)=>null!=r.state?(0,i.jsx)(N.Z,{artists:r.state,linkClassName:S.textLink,canOpen:null!=r.sync_id,onOpenSpotifyArtist:this.handleOpenSpotifyArtist},t):null})},"state")]:this.isActionType(p.mFx.LISTEN)?g.Z.Messages.USER_ACTIVITY_LISTEN_ALONG:g.Z.Messages.USER_ACTIVITY_WATCH_ALONG;return this.isActionType(p.mFx.JOIN_REQUEST)?this.isPartyFull()?g.Z.Messages.INVITE_EMBED_FULL_GROUP:g.Z.Messages.INVITE_EMBED_NUM_OPEN_SLOTS.format({number:d-c}):this.isInParty()?g.Z.Messages.INVITE_EMBED_IN_GROUP:t||n||a?this.isPartyFull()?g.Z.Messages.INVITE_EMBED_FULL_GROUP:this.hasPartySize()?g.Z.Messages.INVITE_EMBED_NUM_OPEN_SLOTS.format({number:d-c}):g.Z.Messages.JOIN:g.Z.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:l})}renderActionButton(){let{isInBrowser:e,isPreview:t,isGameLaunchable:n,isSender:a,partyId:s,activity:l,message:r,renderSpotifyJoinButton:c,renderCustomButton:d}=this.props,u={className:S.actionButton,size:o.Button.Sizes.SMALL},_=null!=d?d(u):null;return null!=_?_:!this.isDeadInvite()&&this.isActionType(p.mFx.LISTEN)&&null!=s&&null!=r&&null!=l&&(0,C.Ps)(s)?c({...u,activity:l,user:r.author}):(0,i.jsx)(o.Button,{...u,...(()=>{if(!t&&e&&!this.isDeadInvite())return{children:g.Z.Messages.USER_ACTIVITY_ACTION_DOWNLOAD_APP,onClick:this.handleDownloadApp};if(this.canJoin())return{children:g.Z.Messages.JOIN,onClick:this.handleJoin};if(this.canSync())return{children:g.Z.Messages.JOIN,onClick:this.handleSync};if(this.canSendInvite())return{children:g.Z.Messages.INVITE_EMBED_INVITE_TO_JOIN,onClick:this.handleInvite,disabled:a};return{children:this.isActionType(p.mFx.JOIN_REQUEST)?g.Z.Messages.INVITE_EMBED_INVITE_TO_JOIN:g.Z.Messages.JOIN,disabled:!0}})(),color:(e||n)&&!this.isDeadInvite()?o.Button.Colors.GREEN:o.Button.Colors.PRIMARY,submitting:this.props.isLoading})}renderMoreUsers(e,t,n){return(0,i.jsx)("div",{className:S.moreUsers,children:e},n)}renderParty(){let{partyId:e,partyMembers:t,hideParty:n,guildId:a}=this.props,[s,l]=this.getPartySize(),r=this.hasPartySize()||this.isActionType(p.mFx.LISTEN)||this.isActionType(p.mFx.WATCH);if(null==e||this.isDeadInvite()||!r||n)return null;let o=[...t],c=Math.min(s,6);for(;o.length<c;)o.push({user:new E.Z({discriminator:"0005"}),unknownUser:!0});let d=Math.min(l,106);for(;o.length<d;)o.push(null);return(0,i.jsx)(f.Z,{guildId:a,className:S.partyMembers,users:o,max:l>0?Math.min(l,6):6,renderUser:this.renderUser,renderMoreUsers:this.renderMoreUsers})}render(){let{className:e,coverImage:t,name:n,activity:a}=this.props,s=this.isActionType(p.mFx.JOIN)||this.isActionType(p.mFx.JOIN_REQUEST),c=this.isDeadInvite(),d=null;null==t||null==a||s?!s&&c&&(d=(0,i.jsx)("div",{className:S.artworkSpotifySessionEnded})):d=(0,i.jsx)("img",{alt:"",src:t,className:(0,m.l)(S,"artwork",this.getActionableMode())});let _=null!=a&&null!=d&&null!=a.assets&&null!=a.assets.large_text&&""!==a.assets.large_text&&!c&&(0,u.Z)(a)?a.assets.large_text:null,E=null!=_?(0,i.jsx)(o.Tooltip,{text:_,children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,i.jsx)(o.Anchor,{onClick:this.handleOpenSpotifyAlbum,onMouseEnter:t,onMouseLeave:n,children:d})}}):d;return(0,i.jsxs)("div",{className:l()(S.invite,e),children:[(0,i.jsx)("div",{className:S.coverImageWrapper,children:(0,i.jsx)("div",{className:l()((0,m.l)(S,"coverImage",this.getActionableMode()),null!=d?S.blurred:null),style:{backgroundImage:null!=t?"url('".concat(t,"')"):void 0}})}),(0,i.jsxs)(h.Z,{className:S.fullHeight,children:[(0,i.jsxs)(h.Z,{direction:h.Z.Direction.VERTICAL,children:[(0,i.jsx)("div",{className:S.header,children:this.renderHeaderText()}),(0,i.jsx)(h.Z.Child,{className:S.partyStatus,children:this.renderPartyStatus()}),(0,i.jsxs)(h.Z,{align:h.Z.Align.END,children:[(0,i.jsxs)(h.Z,{align:h.Z.Align.CENTER,className:S.actionAndParty,basis:0,style:{marginRight:0},children:[this.renderActionButton(),this.renderParty()]}),null==d&&s?(0,i.jsx)("div",{className:S.name,children:n}):null]})]}),E]}),(0,i.jsx)(o.Anchor,{href:I.Z.getArticleURL(this.getHelpdeskArticleURL()),className:S.helpIcon,children:(0,i.jsx)(o.CircleQuestionIcon,{color:r.Z.unsafe_rawColors.PRIMARY_300.css,size:"xxs"})})]})}constructor(...e){super(...e),A(this,"handleJoin",()=>{let{onJoin:e}=this.props;null==e||e()}),A(this,"handleInvite",()=>{let{onInvite:e}=this.props;null==e||e()}),A(this,"handleSync",()=>{let{onSync:e}=this.props;null==e||e()}),A(this,"handleDownloadApp",()=>{let{onDownloadApp:e}=this.props;null==e||e()}),A(this,"handleOpenSpotifyTrack",()=>{let{activity:e,onOpenSpotifyTrack:t}=this.props;null!=e&&(null==t||t(e))}),A(this,"handleOpenSpotifyArtist",e=>{let{activity:t,onOpenSpotifyArtist:n,message:i}=this.props;null!=t&&null!=i&&(null==n||n(t,i.author.id,e))}),A(this,"handleOpenSpotifyAlbum",()=>{let{activity:e,onOpenSpotifyAlbum:t,message:n}=this.props;null!=e&&null!=n&&(null==t||t(e,n.author.id))}),A(this,"renderUser",(e,t,n)=>{let{renderUserPopout:a,guildId:s}=this.props;return null!=e?(0,i.jsx)(R,{member:e,renderUserPopout:a,className:t,guildId:s},n):(0,i.jsx)("div",{className:l()(S.partyMemberEmpty,t)},n)})}}t.Z=x},2093:function(e,t,n){var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(294572);t.Z=e=>{let{value:t=0,text:n,className:a,...r}=e;return null!=n?(0,i.jsx)("div",{className:s()(l.wrapper,a),...r,children:n}):t>0?(0,i.jsx)("div",{className:s()(l.wrapper,a),...r,children:t}):null}},55008:function(e,t,n){var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(689938),r=n(581160);t.Z=e=>{let{className:t}=e;return(0,i.jsx)("div",{className:s()(r.tag,t),children:(0,i.jsx)("span",{className:r.text,children:l.Z.Messages.APPLICATION_STORE_FIRST_ON_DISCORD})})}},552253:function(e,t,n){n(47120);var i,a=n(735250),s=n(470079),l=n(846519);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends(i=s.Component){static getDerivedStateFromProps(e){return e.disable?{hovered:!1}:null}componentDidMount(){let{pauseOnHover:e,disable:t}=this.props,n=this.state.hovered&&e;!t&&!n&&this.startTimer()}componentWillUnmount(){this.stopTimer()}componentDidUpdate(e,t){let n,i,a,s,{props:l}=this;let r=(n=l,i=this.state,!n.disable&&!(i.hovered&&n.pauseOnHover));let o=(a=e,s=t,!a.disable&&!(s.hovered&&a.pauseOnHover));r&&!o||e.interval!==l.interval?this.startTimer():!r&&o&&this.stopTimer()}startTimer(){let{interval:e,onInterval:t,disable:n}=this.props;if(!n)this.timer.start(e,()=>{t()})}stopTimer(){this.timer.stop()}render(){let{children:e,className:t,disable:n}=this.props,i=n?null:{onMouseEnter:this.handlePause,onFocus:this.handlePause,onMouseLeave:this.handleResume,onBlur:this.handleResume};return(0,a.jsx)("div",{...i,className:t,children:e})}constructor(...e){super(...e),r(this,"timer",new l.Xp),r(this,"state",{hovered:!1}),r(this,"handlePause",()=>{!this.state.hovered&&this.setState({hovered:!0})}),r(this,"handleResume",()=>{this.setState({hovered:!1})})}}r(o,"defaultProps",{disable:!1,pauseOnHover:!1}),t.Z=o},387204:function(e,t,n){var i,a,s,l,r=n(735250),o=n(470079),c=n(120356),d=n.n(c),u=n(481060),_=n(689938),E=n(405202);let I={BLOCK:E.block,INLINE:E.inline};class m extends(l=o.PureComponent){render(){let{children:e,className:t,textClassName:n,type:i=I.BLOCK,style:a}=this.props;return(0,r.jsxs)("div",{className:d()(t,i),style:a,children:[(0,r.jsxs)(u.Text,{variant:"text-sm/bold",tag:"div",color:"text-positive",className:E.pro,children:[_.Z.Messages.FORM_LABEL_ROLES_PRO_TIP,":"]}),(0,r.jsx)(u.Text,{className:d()(E.tip,n),variant:"text-sm/normal",children:e})]})}}i=m,a="Types",s=I,a in i?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,t.Z=m},592771:function(e,t,n){var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(689938),r=n(199434);t.Z=e=>{let{className:t}=e;return(0,i.jsx)("div",{className:s()(r.tag,t),children:(0,i.jsx)("span",{className:r.text,children:l.Z.Messages.APPLICATION_STORE_THE_GAME_AWARDS_WINNER})})}},305177:function(e,t,n){n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(748780),o=n(873546),c=n(846519),d=n(215569),u=n(481060),_=n(552253),E=n(810090),I=n(788773);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends a.Component{renderMedia(){let{src:e,className:t,title:n}=this.props,{imageLoading:a}=this.state;return(0,i.jsx)(r.Z.img,{className:l()({[I.imageLoading]:a},t),src:e,alt:n,style:this.getImageStyle(),onError:this.handleImageError,onLoad:this.handleImageLoaded})}render(){let{className:e,title:t,src:n}=this.props,{imageLoadError:a,imageLoading:s}=this.state;return null==n||a?(0,i.jsx)(r.Z.div,{className:l()(I.titleContainer,e),style:this.getImageStyle(),children:t}):(0,i.jsxs)(r.Z.div,{className:l()(s?I.loadingContainer:null,e),style:this.getImageStyle(),children:[s?(0,i.jsx)(u.Spinner,{className:I.spinner,itemClassName:I.spinnerItem,type:u.Spinner.Type.PULSING_ELLIPSIS,animated:!0}):null,this.renderMedia()]})}constructor(...e){super(...e),m(this,"_animatedValue",new r.Z.Value(1)),m(this,"state",{imageLoadError:!1,imageLoading:!0}),m(this,"componentWillEnter",e=>{this._animatedValue.setValue(0),r.Z.timing(this._animatedValue,{toValue:1,duration:400}).start(e)}),m(this,"componentWillLeave",e=>{r.Z.timing(this._animatedValue,{toValue:0,duration:400}).start(e)}),m(this,"getImageStyle",()=>({opacity:this._animatedValue})),m(this,"handleImageError",()=>{this.setState({imageLoadError:!0,imageLoading:!1})}),m(this,"handleImageLoaded",()=>{this.setState({imageLoading:!1})})}}class h extends a.Component{componentWillUnmount(){this.videoTimeout.stop()}componentDidUpdate(e){let{playing:t}=this.props,n=this._video.current;if(null!=n){if(t&&!e.playing){this.videoTimeout.stop(),isFinite(n.duration)&&isFinite(n.currentTime)&&(n.currentTime=0),n.volume=.3;let e=n.play();null!=e&&e.then(()=>{this.videoPlaying=!0})}else e.playing&&!t&&this.videoTimeout.start(400,()=>{this.videoPlaying&&(n.pause(),this.videoPlaying=!1)})}}renderTypeImage(){let{playing:e,slideImages:t,image:n,title:a,splashClassName:s}=this.props;return null==t?(0,i.jsx)(T,{className:l()(I.splash,s),src:n,title:a},"image"):(0,i.jsx)(_.Z,{onInterval:this.nextItem,interval:2e3,className:I.slideshowWrapper,disable:!e,children:(0,i.jsx)(d.W,{children:this.renderSlideItem(t)})})}render(){let{video:e,className:t,placeholder:n,renderMediaOverlay:a,playing:s}=this.props,{videoLoadError:r,videoLoaded:o}=this.state;return n?(0,i.jsx)("div",{className:t}):(0,i.jsxs)("figure",{className:l()(I.__invalid_tileMedia,t),children:[null==e||r?this.renderTypeImage():this.renderTypeVideo(),null!=a&&a(s&&o)]})}constructor(...e){super(...e),m(this,"state",{currentIndex:0,videoLoadError:!1,videoLoaded:!1}),m(this,"_video",a.createRef()),m(this,"videoTimeout",new c.V7),m(this,"videoPlaying",!1),m(this,"handleToggleMute",e=>{e.stopPropagation(),e.preventDefault();let{onToggleMute:t}=this.props;null==t||t(e)}),m(this,"handleVideoError",()=>{this.setState({videoLoadError:!0})}),m(this,"handleVideoLoaded",()=>{this.setState({videoLoaded:!0})}),m(this,"renderTypeVideo",()=>{let{videoLoaded:e}=this.state,{video:t,image:n,title:s,playing:r,muted:c,splashClassName:_,splashPlaceholderClassName:m,renderMediaOverlay:h}=this.props,N=c?u.VoiceXIcon:u.VoiceNormalIcon;return(0,i.jsxs)(a.Fragment,{children:[o.tq?null:(0,i.jsx)(E.Z,{className:l()(I.splash,_),muted:c,loop:!0,preload:"none",ref:this._video,onLoadedMetadata:this.handleVideoLoaded,onError:this.handleVideoError,children:(0,i.jsx)("source",{src:t,type:"video/mp4"})}),(0,i.jsx)(d.W,{children:r&&e?null:(0,i.jsx)(T,{className:l()(I.splashPlaceholder,m),src:n,title:s},0)}),(0,i.jsx)(u.Clickable,{className:l()(I.muteContainer,{[I.muteContainerPlaying]:r&&e,[I.muteContainerMediaOverlay]:null!=h}),onClick:this.handleToggleMute,children:r&&e?(0,i.jsx)(N,{className:I.mute}):null})]})}),m(this,"nextItem",()=>{let{slideImages:e}=this.props;null!=e&&this.setState({currentIndex:(this.state.currentIndex+1)%e.length})}),m(this,"renderSlideItem",e=>{let{image:t,title:n,playing:a,splashClassName:s}=this.props,{currentIndex:r}=this.state;return a?(0,i.jsx)(T,{className:l()(I.splash,s),src:e[r],title:n},r):(0,i.jsx)(T,{className:l()(I.splash,s),src:t,title:n},"image")})}}t.Z=h},889901:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(325767);function s(e){let{width:t=20,height:n=20,className:s,...l}=e;return(0,i.jsx)("svg",{width:t,height:n,className:s,...(0,a.Z)(l),viewBox:"0 0 20 20",children:(0,i.jsxs)("g",{clipPath:"url(#clip0_198_5469)",children:[(0,i.jsx)("path",{"aria-hidden":!0,d:"M19.15 17C19.41 17.11 19.6 17 19.51 16.73L18.89 15.15L18.28 13.56C18.23 13.4421 18.1442 13.3429 18.0348 13.2765C17.9253 13.2101 17.7977 13.1798 17.67 13.19L13.67 14.28C13.4 14.36 13.56 14.79 13.92 14.93L19.15 17Z",fill:"#FF73FA"}),(0,i.jsx)("path",{"aria-hidden":!0,d:"M9.80009 14L7.08009 8.67001L0.440092 18C0.351927 18.1221 0.299095 18.2662 0.287392 18.4163C0.275688 18.5665 0.305566 18.7169 0.373746 18.8512C0.441926 18.9855 0.545775 19.0985 0.673902 19.1776C0.802029 19.2568 0.949484 19.2991 1.10009 19.3H12.5201L9.80009 14Z",fill:"#8086FF"}),(0,i.jsx)("path",{"aria-hidden":!0,d:"M12.27 19C11.57 19 9.92997 17.31 8.52997 14.57C7.86795 13.3426 7.37674 12.0304 7.06997 10.67C6.83997 9.54999 6.99997 8.99999 7.19997 8.89999H7.32997C8.03997 8.89999 9.66997 10.59 11.07 13.32C12.68 16.46 12.93 18.76 12.4 19.03C12.3549 19.0306 12.3103 19.0203 12.27 19Z",fill:"#05124A"}),(0,i.jsx)("path",{"aria-hidden":!0,d:"M7.33009 9.14999C7.86009 9.14999 9.42009 10.67 10.8301 13.43C12.4501 16.57 12.5201 18.55 12.2701 18.77C11.7401 18.77 10.1801 17.25 8.77009 14.49C7.15009 11.35 7.08009 9.35999 7.32009 9.14999H7.33009ZM7.32009 8.60999C7.233 8.60831 7.14693 8.62897 7.07009 8.66999C6.23009 9.08999 6.78009 11.81 8.28009 14.74C9.65009 17.4 11.3401 19.31 12.2801 19.31C12.3672 19.3117 12.4532 19.291 12.5301 19.25C13.3701 18.82 12.8301 16.11 11.3201 13.18C9.96009 10.52 8.26009 8.60999 7.32009 8.60999Z",fill:"#373BE1"}),(0,i.jsx)("path",{"aria-hidden":!0,d:"M3.53991 17.22C3.16017 16.4754 2.85534 15.6949 2.62991 14.89L1.40991 16.6C1.5797 17.0776 1.77669 17.545 1.99991 18C2.21943 18.4301 2.46316 18.8475 2.72991 19.25H4.84991C4.34607 18.6191 3.90718 17.939 3.53991 17.22Z",fill:"#373BE1"}),(0,i.jsx)("path",{"aria-hidden":!0,d:"M6.83003 19.25H9.23003C8.09101 18.2623 7.1538 17.0636 6.47003 15.72C5.75671 14.3452 5.32173 12.8432 5.19003 11.3L3.78003 13.3C4.05054 14.4137 4.46044 15.4889 5.00003 16.5C5.49463 17.4884 6.10927 18.4121 6.83003 19.25Z",fill:"#373BE1"}),(0,i.jsx)("path",{"aria-hidden":!0,d:"M12.2699 18.77C11.7199 18.7 10.2699 17.3 8.7899 14.49C7.2499 11.49 7.1199 9.57 7.3199 9.19L6.9999 8.69C6.2199 9.19 6.7699 11.86 8.2499 14.74C9.5699 17.31 11.2499 19.19 12.1399 19.3C12.2557 19.3201 12.3748 19.3026 12.4799 19.25L12.2699 18.77Z",fill:"#373BE1"}),(0,i.jsx)("path",{"aria-hidden":!0,d:"M15.5901 9.23L14.6201 8C14.5734 7.94051 14.5118 7.89439 14.4416 7.8663C14.3713 7.8382 14.2949 7.82913 14.2201 7.84L10.8601 8.28C10.786 8.29082 10.7158 8.32037 10.6563 8.36587C10.5968 8.41137 10.5499 8.47131 10.5201 8.54L9.22008 11.68C9.18969 11.7486 9.1792 11.8243 9.18981 11.8986C9.20042 11.9729 9.2317 12.0427 9.28008 12.1L10.2801 13.37C10.3268 13.4295 10.3884 13.4756 10.4586 13.5037C10.5288 13.5318 10.6052 13.5409 10.6801 13.53L14.0001 13.05C14.0742 13.0392 14.1443 13.0096 14.2038 12.9641C14.2633 12.9186 14.3102 12.8587 14.3401 12.79L15.6401 9.65C15.6718 9.58232 15.684 9.50709 15.6751 9.43285C15.6663 9.35862 15.6368 9.28834 15.5901 9.23Z",fill:"#FFD836"}),(0,i.jsx)("path",{"aria-hidden":!0,d:"M12.6801 10.21L11.4101 9.74001C11.3617 9.72337 11.3182 9.69501 11.2834 9.65748C11.2487 9.61994 11.2238 9.57439 11.2109 9.52489C11.198 9.47539 11.1976 9.42347 11.2097 9.37376C11.2217 9.32405 11.2459 9.27811 11.2801 9.24001L14.7201 5.24001C14.7617 5.1903 14.8178 5.15488 14.8806 5.13873C14.9434 5.12259 15.0096 5.12653 15.0701 5.15001L16.3401 5.61001C16.3871 5.62978 16.4288 5.66018 16.4621 5.69881C16.4954 5.73745 16.5193 5.78327 16.5319 5.83268C16.5445 5.8821 16.5454 5.93376 16.5347 5.98361C16.524 6.03346 16.5019 6.08015 16.4701 6.12001L13.0301 10.12C12.9884 10.1697 12.9323 10.2051 12.8695 10.2213C12.8067 10.2374 12.7405 10.2335 12.6801 10.21Z",fill:"#AEC7FF"}),(0,i.jsx)("path",{"aria-hidden":!0,d:"M11.61 17.25L11.35 16.33C11.3396 16.2949 11.3383 16.2577 11.346 16.2219C11.3537 16.1861 11.3702 16.1527 11.394 16.1249C11.4179 16.0971 11.4483 16.0757 11.4825 16.0626C11.5167 16.0495 11.5536 16.0452 11.59 16.05L15.31 16.37C15.3545 16.373 15.397 16.3901 15.4311 16.4189C15.4653 16.4477 15.4894 16.4866 15.5 16.53L15.76 17.45C15.7697 17.4856 15.7707 17.523 15.763 17.5591C15.7552 17.5952 15.7388 17.6289 15.7153 17.6574C15.6918 17.6858 15.6617 17.7082 15.6277 17.7225C15.5937 17.7369 15.5568 17.7429 15.52 17.74L11.8 17.42C11.7546 17.4149 11.7119 17.3958 11.6778 17.3653C11.6438 17.3349 11.6201 17.2946 11.61 17.25Z",fill:"#AEC7FF"}),(0,i.jsx)("path",{"aria-hidden":!0,d:"M10.51 4.87L9.51004 4.8C9.47171 4.79882 9.43428 4.78808 9.40117 4.76875C9.36805 4.74942 9.34029 4.72212 9.32041 4.68932C9.30054 4.65653 9.28918 4.61928 9.28737 4.58098C9.28555 4.54268 9.29335 4.50453 9.31004 4.47L10.93 0.900003C10.9491 0.856352 10.9819 0.820078 11.0234 0.796634C11.0648 0.773191 11.1128 0.763846 11.16 0.770003L12.16 0.840003C12.1984 0.841182 12.2358 0.851926 12.2689 0.871256C12.302 0.890587 12.3298 0.917891 12.3497 0.950685C12.3695 0.98348 12.3809 1.02072 12.3827 1.05903C12.3845 1.09733 12.3767 1.13548 12.36 1.17L10.74 4.73C10.7213 4.77455 10.689 4.81205 10.6477 4.83718C10.6064 4.86231 10.5582 4.87379 10.51 4.87Z",fill:"#FF73FA"}),(0,i.jsx)("path",{"aria-hidden":!0,d:"M9.11995 3.16L9.38995 3.89C9.40593 3.92181 9.43011 3.94877 9.46 3.96811C9.48988 3.98744 9.52439 3.99846 9.55995 4H10.3699C10.5599 4 10.6099 4.26 10.4499 4.41L9.76995 5.07C9.71086 5.13269 9.67549 5.21403 9.66995 5.3V6.13C9.66965 6.17649 9.6589 6.22232 9.63849 6.2641C9.61808 6.30587 9.58854 6.34252 9.55204 6.37133C9.51555 6.40013 9.47305 6.42037 9.42768 6.43052C9.38231 6.44068 9.33524 6.4405 9.28995 6.43L8.59995 6.1C8.56441 6.08159 8.52497 6.07198 8.48495 6.07198C8.44492 6.07198 8.40549 6.08159 8.36995 6.1L7.57995 6.57C7.38995 6.69 7.20995 6.57 7.26995 6.35L7.51995 5.49C7.53745 5.45777 7.54662 5.42168 7.54662 5.385C7.54662 5.34833 7.53745 5.31223 7.51995 5.28L6.99995 4.81C6.86995 4.68 6.99995 4.42 7.18995 4.37L7.99995 4.17C8.04629 4.1582 8.08971 4.13702 8.12755 4.10779C8.16539 4.07855 8.19684 4.04187 8.21995 4L8.68995 3.2C8.79995 3 9.05995 3 9.11995 3.16Z",fill:"#A5F7DE"})]})})}},199480:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(325767);function s(e){let{color:t="currentColor",foreground:n,...s}=e;return(0,i.jsx)("svg",{...(0,a.Z)(s),viewBox:"0 0 136 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{className:n,fill:t,children:[(0,i.jsx)("path",{d:"M124.299 22.9512H107.187C106.75 22.9512 106.368 23.2787 106.313 23.7154L105.495 29.3918C105.413 29.9103 105.822 30.4015 106.368 30.4015H109.506C109.834 30.4015 110.025 30.729 109.916 31.0019C109.534 31.9025 109.234 32.9122 109.097 33.9766L107.514 44.9746C106.477 52.343 112.591 56 119.277 56C126.264 56 133.142 52.3157 134.179 44.9746L135.762 33.9766C136.744 26.7719 130.822 23.115 124.299 22.9512ZM127.574 34.0038L125.991 44.7563C125.636 47.2943 122.771 48.4678 120.123 48.4678C117.667 48.4678 115.265 47.2943 115.593 44.9746L117.176 33.9766C117.53 31.575 120.396 30.3469 123.043 30.3469C125.691 30.3469 127.956 31.575 127.574 34.0038Z",fill:t}),(0,i.jsx)("path",{d:"M29.3491 22.9512H22.9627C22.526 22.9512 22.1439 23.2787 22.0894 23.7154L20.1243 37.7154V37.7427L20.2062 43.1462C20.2062 43.2553 20.1243 43.3645 20.0151 43.3918L18.1866 36.8694V36.8421L12.4825 23.497C12.346 23.1696 12.0185 22.9512 11.6637 22.9512H5.19545C4.75878 22.9512 4.37668 23.2787 4.3221 23.7154L0.00992229 54.5536C-0.0719545 55.0994 0.364722 55.5633 0.883275 55.5633H7.32425C7.76092 55.5633 8.14302 55.2358 8.1976 54.7992L9.88972 42.5458V42.5185L9.80784 36.2417L9.99889 36.1871L11.9366 42.7095V42.7368L17.2586 55.0448C17.3951 55.3723 17.7226 55.5906 18.0774 55.5906H25.0642C25.5009 55.5906 25.883 55.2631 25.9376 54.8265L30.2497 23.9883C30.3316 23.4425 29.8949 22.9512 29.3491 22.9512Z",fill:t}),(0,i.jsx)("path",{d:"M43.322 22.9512H36.8814C36.4448 22.9512 36.0627 23.2787 36.0081 23.7154L31.6962 54.5263C31.6144 55.0721 32.051 55.536 32.5695 55.536H39.0101C39.4467 55.536 39.8288 55.2085 39.8834 54.7719L44.1953 23.961C44.2771 23.4424 43.8678 22.9512 43.322 22.9512Z",fill:t}),(0,i.jsx)("path",{d:"M73.5353 22.9512H49.4363C48.9996 22.9512 48.6175 23.2787 48.5629 23.7154L47.7168 29.4736C47.635 30.0194 48.0443 30.4834 48.5902 30.4834H55.3314C55.8772 30.4834 56.2866 30.9473 56.2047 31.4931L53.0388 54.5263C52.957 55.0721 53.3936 55.536 53.9122 55.536H60.435C60.8717 55.536 61.2538 55.2085 61.3084 54.7719L64.5562 31.2475C64.6107 30.8109 64.9928 30.4834 65.4295 30.4834H72.662C73.0986 30.4834 73.4807 30.1559 73.5353 29.7192L74.3814 23.961C74.5178 23.4424 74.0812 22.9512 73.5353 22.9512Z",fill:t}),(0,i.jsx)("path",{d:"M91.9575 22.9512H79.7033C79.2666 22.9512 78.8845 23.2787 78.8299 23.7154L74.5177 54.5263C74.4359 55.0721 74.8725 55.536 75.3911 55.536H81.9139C82.3506 55.536 82.7327 55.2085 82.7873 54.7719L84.0427 45.575C84.07 45.3567 84.2611 45.1929 84.4794 45.1929H85.3255C85.4892 45.1929 85.6257 45.2748 85.7076 45.4113L91.9302 55.1539C92.0939 55.3996 92.3669 55.5633 92.6944 55.5633H100.773C101.482 55.5633 101.919 54.7446 101.51 54.1715L94.9596 44.8109C94.7959 44.5925 94.8778 44.2651 95.1234 44.1559C99.2991 42.1091 101.728 40.035 102.52 34.1949C103.448 26.5536 98.6714 22.9512 91.9575 22.9512ZM94.1954 34.3313C93.9771 36.2144 92.5033 38.0974 89.9651 38.0974H86.1715C85.6257 38.0974 85.2163 37.6062 85.2982 37.0877L86.1169 31.4113C86.1715 30.9746 86.5536 30.6471 86.9903 30.6471H91.0568C93.4586 30.6471 94.4411 32.3664 94.1954 34.3313Z",fill:t}),(0,i.jsx)("path",{d:"M29.1035 3.43858H33.7428C34.8617 3.43858 35.8169 3.60233 36.581 3.9571C37.2906 4.2573 37.891 4.77581 38.3276 5.43079C38.7097 6.08576 38.928 6.8226 38.9007 7.55944C38.9007 8.32357 38.7097 9.06041 38.3003 9.71539C37.8637 10.3976 37.2087 10.9162 36.4719 11.2437C35.6532 11.6257 34.6161 11.8167 33.4153 11.8167H29.1035V3.43858V3.43858ZM33.3881 9.66081C34.1522 9.66081 34.7253 9.46977 35.1346 9.08771C35.544 8.67835 35.7623 8.13254 35.735 7.53215C35.7623 6.98634 35.5713 6.46782 35.1892 6.08576C34.8345 5.73098 34.2886 5.53995 33.5518 5.53995H32.1054V9.63351H33.3881V9.66081Z",fill:t}),(0,i.jsx)("path",{d:"M45.8881 11.7895C45.2877 11.6257 44.6873 11.3801 44.1415 11.0526V9.06043C44.6055 9.4152 45.1513 9.66082 45.6971 9.79727C46.3248 9.9883 46.9525 10.0702 47.6074 10.0975C47.8258 10.0975 48.0441 10.0702 48.2624 9.9883C48.3989 9.90643 48.4807 9.82456 48.4807 9.7154C48.4807 9.60624 48.4534 9.49707 48.3716 9.4152C48.2351 9.30604 48.0714 9.25146 47.9076 9.22417L46.4885 8.89668C45.6698 8.70565 45.0967 8.43275 44.7419 8.10526C44.3872 7.75049 44.1961 7.25926 44.2234 6.76803C44.2234 6.33138 44.3872 5.89473 44.6873 5.56725C45.0421 5.18518 45.4788 4.91228 45.97 4.77583C46.5977 4.58479 47.2527 4.47563 47.9349 4.50292C48.5626 4.50292 49.163 4.5575 49.7634 4.72124C50.2546 4.83041 50.7185 5.02144 51.1552 5.26705V7.1501C50.7458 6.90448 50.3092 6.74074 49.8725 6.63158C49.3813 6.49512 48.8628 6.44054 48.3716 6.44054C47.6347 6.44054 47.2527 6.577 47.2527 6.82261C47.2527 6.93177 47.3072 7.04093 47.4164 7.09551C47.6074 7.17739 47.8258 7.23197 48.0441 7.28655L49.2449 7.50487C50.009 7.64132 50.6094 7.88694 50.9914 8.21442C51.3735 8.54191 51.5645 9.06043 51.5645 9.7154C51.5645 10.4249 51.2098 11.0799 50.6094 11.4347C49.9817 11.8441 49.0811 12.0624 47.9076 12.0624C47.2254 12.0351 46.5431 11.9532 45.8881 11.7895Z",fill:t}),(0,i.jsx)("path",{d:"M54.3486 11.5438C53.7209 11.2436 53.1751 10.7797 52.7931 10.1793C52.4383 9.60622 52.2745 8.92396 52.2745 8.2417C52.2745 7.55944 52.4383 6.90447 52.8203 6.33137C53.2024 5.73098 53.7482 5.29433 54.4032 4.99413C55.1946 4.66665 56.0406 4.47562 56.8866 4.50291C58.0874 4.50291 59.0699 4.74852 59.8613 5.26704V7.45027C59.5611 7.25924 59.2336 7.0955 58.8788 6.98634C58.4968 6.87718 58.0874 6.7953 57.678 6.7953C56.9412 6.7953 56.3681 6.93176 55.9315 7.20466C55.3311 7.53215 55.14 8.26899 55.4675 8.86938C55.5767 9.06041 55.7404 9.22415 55.9315 9.33332C56.3408 9.60622 56.9139 9.74267 57.7053 9.74267C58.1147 9.74267 58.4968 9.68809 58.8788 9.57893C59.2336 9.46977 59.5611 9.33332 59.8613 9.14228V11.2436C58.9334 11.7895 57.8964 12.0624 56.832 12.0351C55.986 12.0624 55.1127 11.8986 54.3486 11.5438Z",fill:t}),(0,i.jsx)("path",{d:"M62.8365 11.5439C62.1816 11.2437 61.6358 10.7797 61.2537 10.1793C60.8989 9.60624 60.7079 8.92398 60.7079 8.24171C60.7079 7.55945 60.8716 6.90448 61.2537 6.33138C61.6358 5.75828 62.1816 5.29435 62.8365 5.02144C64.3921 4.39376 66.166 4.39376 67.7215 5.02144C68.3492 5.29435 68.895 5.75828 69.2771 6.33138C69.6319 6.90448 69.8229 7.58674 69.8229 8.24171C69.8229 8.92398 69.6319 9.60624 69.2771 10.1793C68.895 10.7797 68.3492 11.2437 67.7215 11.5439C66.1387 12.1988 64.3921 12.1988 62.8365 11.5439ZM66.4389 9.4152C66.7391 9.11501 66.9028 8.67836 66.8755 8.269C66.9028 7.83236 66.7391 7.423 66.4389 7.12281C66.1114 6.82261 65.6747 6.68616 65.2381 6.68616C64.8015 6.65887 64.3648 6.82261 64.0373 7.12281C63.7371 7.423 63.5734 7.83236 63.6007 8.269C63.5734 8.70565 63.7371 9.11501 64.0373 9.4152C64.3648 9.7154 64.8015 9.87914 65.2381 9.85185C65.702 9.87914 66.1387 9.7154 66.4389 9.4152Z",fill:t}),(0,i.jsx)("path",{d:"M76.9736 4.93955V7.53214C76.6188 7.31381 76.2095 7.20465 75.8001 7.23194C75.1724 7.23194 74.6812 7.42298 74.3264 7.80504C73.999 8.18711 73.8079 8.7875 73.8079 9.60621V11.7894H70.8878V4.80309H73.7533V7.01362C73.9171 6.19491 74.1627 5.59452 74.5175 5.21245C74.8723 4.83038 75.3635 4.61206 75.882 4.63935C76.2641 4.63935 76.6461 4.74851 76.9736 4.93955Z",fill:t}),(0,i.jsx)("path",{d:"M86.6895 3.19298V11.7895H83.7694V10.2339C83.5511 10.7797 83.1418 11.2709 82.6505 11.5711C82.0774 11.8986 81.4497 12.0624 80.7948 12.0351C80.1944 12.0624 79.594 11.8713 79.0755 11.5439C78.5842 11.2164 78.1749 10.7524 77.9293 10.2066C77.6564 9.60623 77.5199 8.95126 77.5199 8.29629C77.4926 7.61403 77.6564 6.93177 77.9293 6.33138C78.2022 5.75828 78.6388 5.29434 79.1573 4.96686C79.7032 4.63937 80.3308 4.47563 80.9585 4.47563C82.3503 4.47563 83.2782 5.07602 83.7694 6.2768V3.19298H86.6895ZM83.3328 9.36062C83.633 9.06042 83.7967 8.65107 83.7694 8.24171C83.7694 7.83235 83.6057 7.423 83.3328 7.15009C82.6505 6.57699 81.6681 6.57699 80.9585 7.15009C80.6583 7.45029 80.4946 7.83235 80.5219 8.24171C80.4946 8.65107 80.6583 9.06042 80.9585 9.36062C81.286 9.66081 81.6954 9.79727 82.132 9.79727C82.5959 9.82456 83.0053 9.66081 83.3328 9.36062Z",fill:t}),(0,i.jsx)("path",{d:"M18.3503 1.36452C16.9311 0.736842 15.4301 0.272904 13.8744 0C13.6561 0.382066 13.465 0.764132 13.3013 1.17349C11.6637 0.927875 9.9716 0.927875 8.33407 1.17349C8.17031 0.764132 7.97927 0.382066 7.76093 0C6.23256 0.272904 4.73149 0.736842 3.285 1.39181C0.473899 5.56725 -0.290284 9.63353 0.0918077 13.6725C1.75664 14.9006 3.61251 15.8285 5.57755 16.4288C6.01423 15.8285 6.42361 15.2008 6.75112 14.5458C6.1234 14.3002 5.49567 14 4.89524 13.6725C5.059 13.5633 5.19546 13.4542 5.35921 13.345C8.82533 14.9825 12.8373 14.9825 16.3307 13.345C16.4672 13.4542 16.6309 13.5906 16.7947 13.6725C16.1942 14.0273 15.5938 14.3275 14.9388 14.5458C15.2663 15.2008 15.6757 15.8285 16.1124 16.4288C18.0774 15.8285 19.9333 14.9006 21.5981 13.6725C22.0348 9.00585 20.8066 4.96686 18.3503 1.36452ZM7.21509 11.1891C6.15069 11.1891 5.25004 10.2066 5.25004 9.03314C5.25004 7.85965 6.0961 6.8499 7.18779 6.8499C8.27948 6.8499 9.15284 7.83236 9.15284 9.03314C9.15284 10.2339 8.30678 11.1891 7.21509 11.1891ZM14.4202 11.1891C13.3558 11.1891 12.4825 10.2066 12.4825 9.03314C12.4825 7.85965 13.3285 6.8499 14.4202 6.8499C15.5119 6.8499 16.3853 7.83236 16.358 9.03314C16.358 10.2339 15.5119 11.1891 14.4202 11.1891Z",fill:t}),(0,i.jsx)("path",{d:"M41.3849 5.56724C42.1837 5.56724 42.8313 4.98076 42.8313 4.2573C42.8313 3.53384 42.1837 2.94736 41.3849 2.94736C40.5861 2.94736 39.9385 3.53384 39.9385 4.2573C39.9385 4.98076 40.5861 5.56724 41.3849 5.56724Z",fill:t}),(0,i.jsx)("path",{d:"M39.9385 6.46785C40.8664 6.84992 41.9307 6.84992 42.8586 6.46785V11.8441H39.9385V6.46785Z",fill:t})]})})}},910111:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(325767);function s(e){let{width:t=24,height:n=24,color:s="currentColor",foreground:l,...r}=e;return(0,i.jsx)("svg",{...(0,a.Z)(r),width:t,height:n,viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{className:l,fill:s,d:"M14.62 8.35c-.42.28-1.75 1.04-1.95 1.19-.39.31-.75.29-1.14-.01-.2-.16-1.53-.92-1.95-1.19-.48-.31-.45-.7.08-.92 1.64-.69 3.28-.64 4.91.03.49.21.51.6.05.9m7.22 7.28c-.93-2.09-2.2-3.99-3.84-5.66a4.31 4.31 0 0 1-1.06-1.88c-.1-.33-.17-.67-.24-1.01-.2-.88-.29-1.78-.7-2.61-.73-1.58-2-2.4-3.84-2.47-1.81.05-3.16.81-3.95 2.4-.21.43-.36.88-.46 1.34-.17.76-.32 1.55-.5 2.32-.15.65-.45 1.21-.96 1.71-1.61 1.57-2.9 3.37-3.88 5.35-.14.29-.28.58-.37.88-.19.66.29 1.12.99.96.44-.09.88-.18 1.3-.31.41-.15.57-.05.67.35.65 2.15 2.07 3.66 4.24 4.5 4.12 1.56 8.93-.66 9.97-4.58.07-.27.17-.37.47-.27.46.14.93.24 1.4.35.49.09.85-.16.92-.64.03-.26-.06-.49-.16-.73"}),(0,i.jsx)("rect",{width:"24",height:"24"})]})})}},732559:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(325767);function s(e){let{width:t=24,height:n=24,color:s="currentColor",foreground:l,...r}=e;return(0,i.jsx)("svg",{...(0,a.Z)(r),width:t,height:n,viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{className:l,fill:s,d:"M18.64 19.499c-.82 1.24-1.687 2.45-3.008 2.47-1.322.03-1.746-.79-3.245-.79-1.508 0-1.972.77-3.224.82-1.292.05-2.268-1.32-3.097-2.53-1.686-2.47-2.978-7.02-1.242-10.08.858-1.52 2.396-2.48 4.063-2.51 1.262-.02 2.465.87 3.244.87.77 0 2.229-1.07 3.757-.91.64.03 2.436.26 3.59 1.98-.09.06-2.14 1.28-2.12 3.81.029 3.02 2.612 4.03 2.642 4.04-.03.07-.414 1.44-1.36 2.83zm-5.631-16c.72-.829 1.913-1.459 2.899-1.499.128 1.17-.336 2.35-1.026 3.19-.68.85-1.804 1.51-2.909 1.42-.148-1.15.404-2.35 1.036-3.11z"}),(0,i.jsx)("rect",{width:"24",height:"24"})]})})}},723851:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(325767);function s(e){let{width:t=24,height:n=24,color:s="currentColor",foreground:l,...r}=e;return(0,i.jsx)("svg",{...(0,a.Z)(r),width:t,height:n,viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{className:l,fill:s,d:"M4 11.526V6.553l5.684-1.25v6.138L4 11.526zM20.105 3v8.29l-9.473.142V5.094L20.105 3zM4 12.474l5.684.085v6.452L4 17.92v-5.447zm16.105.237V21l-9.473-1.81v-6.622l9.473.143z"}),(0,i.jsx)("rect",{width:"24",height:"24"})]})})}},846587:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(325767);function s(e){let{width:t=40,height:n=40,color:s="currentColor",...l}=e;return(0,i.jsxs)("svg",{...(0,a.Z)(l),width:t,height:n,style:{minWidth:t,minHeight:n},viewBox:"0 0 40 40",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 4C15.5817 4 12 7.58172 12 12V20C12 24.4183 15.5817 28 20 28H28C32.4183 28 36 24.4183 36 20V12C36 7.58172 32.4183 4 28 4H20ZM19.5962 21.6084C19.5599 21.8126 19.717 22 19.9244 22H20.5806C20.7422 22 20.8806 21.8841 20.9088 21.7249L21.3333 19.3333H25.3333L24.9295 21.6084C24.8932 21.8126 25.0503 22 25.2577 22H25.9139C26.0756 22 26.2139 21.8841 26.2421 21.7249L26.6667 19.3333H29.0533C29.2152 19.3333 29.3537 19.217 29.3816 19.0575L29.4983 18.3908C29.534 18.1868 29.377 18 29.1699 18H26.9L27.6067 14H29.9933C30.1552 14 30.2937 13.8836 30.3216 13.7241L30.4383 13.0575C30.474 12.8535 30.317 12.6667 30.1099 12.6667H27.84L28.2438 10.3916C28.2801 10.1874 28.123 10 27.9156 10H27.2594C27.0977 10 26.9594 10.1159 26.9312 10.2751L26.5067 12.6667H22.5067L22.9105 10.3916C22.9467 10.1874 22.7897 10 22.5823 10H21.926C21.7644 10 21.6261 10.1159 21.5978 10.2751L21.1733 12.6667H18.7867C18.6248 12.6667 18.4863 12.783 18.4584 12.9425L18.3417 13.6092C18.306 13.8132 18.463 14 18.6701 14H20.94L20.2333 18H17.8467C17.6848 18 17.5463 18.1164 17.5184 18.2759L17.4017 18.9425C17.366 19.1465 17.523 19.3333 17.7301 19.3333H20L19.5962 21.6084ZM21.5669 18L22.2736 14H26.2736L25.5669 18H21.5669Z",fill:s}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.33335 14.0208C6.11738 16.1734 4 19.8395 4 24C4 30.6274 9.37258 36 16 36C20.1604 36 23.8262 33.8829 25.979 30.6672H24.3268C22.372 33.1055 19.3683 34.6667 16 34.6667C10.109 34.6667 5.33333 29.8911 5.33333 24C5.33333 20.6315 6.89477 17.6277 9.33335 15.6729V14.0208Z",fill:s})]})}},463618:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var a=n(325767);function s(e){let{width:t=24,height:n=24,color:s="currentColor",...l}=e;return(0,i.jsxs)("svg",{...(0,a.Z)(l),width:t,height:n,viewBox:"0 0 24 24",children:[(0,i.jsx)("path",{fill:s,d:"M12 14C7.289 14 4 16.467 4 20V22H20V20C20 16.467 16.711 14 12 14ZM11 19C10.447 19 10 18.553 10 18C10 17.447 10.447 17 11 17C11.553 17 12 17.447 12 18C12 18.553 11.553 19 11 19ZM14 19C13.447 19 13 18.553 13 18C13 17.447 13.447 17 14 17C14.553 17 15 17.447 15 18C15 18.553 14.553 19 14 19Z"}),(0,i.jsx)("path",{fill:s,d:"M18 6H17.91C17.432 3.167 14.967 1 12 1C9.033 1 6.568 3.167 6.09 6H6C4.896 6 4 6.896 4 8V9C4 10.104 4.896 11 6 11C6 12.102 6.897 13 8 13H16C17.104 13 18 12.102 18 11C19.104 11 20 10.104 20 9V8C20 6.896 19.104 6 18 6ZM16 10H8V6H16V10Z"})]})}},869782:function(e,t,n){n.d(t,{Z:function(){return C}}),n(47120);var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(904245),o=n(541716),c=n(419922),d=n(665906),u=n(271383),_=n(496675),E=n(594174),I=n(626135),m=n(709054),T=n(838440),h=n(981631),N=n(975113);function f(e){let{assets:t,currentUser:n,message:i}=e,a=(m.default.extractTimestamp(n.id)+m.default.extractTimestamp(i.id))%t.length;return t[a]}function p(e){let{currentUser:t,channel:n,message:s,buttonLabels:d,stickers:u,event:_,eventProperties:E}=e,[m,h]=a.useState(!1),p=a.useMemo(()=>f({assets:u,currentUser:t,message:s}),[u,t,s]),C=a.useMemo(()=>f({assets:d,currentUser:t,message:s}),[d,t,s]),g=a.useCallback(async()=>{let{valid:e}=await (0,T.v)({type:o.I.FORM,content:"",channel:n});e&&(!function(e){let{channel:t,message:n,sticker:i}=e;r.Z.sendGreetMessage(t.id,i.id,r.Z.getSendMessageOptionsForReply({channel:t,message:n,shouldMention:!0,showMentionToggle:!0}))}({channel:n,message:s,sticker:p}),!function(e){let{sticker:t,event:n,eventProperties:i}=e;null!=n&&I.default.track(n,{...i,sticker_id:t.id})}({sticker:p,event:_,eventProperties:E}))},[n,s,p,_,E]);return(0,i.jsxs)(l.Button,{className:N.CTAMessageButtonOuter,innerClassName:N.CTAMessageButton,color:l.ButtonColors.PRIMARY,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onClick:g,children:[(0,i.jsx)(c.ZP,{className:N.CTAMessageSticker,isInteracting:m,sticker:p,size:28}),C]})}function C(e){let{channel:t,message:n,buttonLabels:a,stickers:l,event:r,eventProperties:o}=e,c=E.default.getCurrentUser(),I=function(e){let{channel:t,message:n,currentUser:i}=e;return(0,s.e7)([_.Z,u.ZP],()=>{var e;let a=t.guild_id;if(null==i||null==a)return!1;let s=(0,d.xl)(t),l=_.Z.can(h.Plq.SEND_MESSAGES,t),r=null===(e=u.ZP.getMember(a,i.id))||void 0===e?void 0:e.isPending,o=n.author.bot;return l&&!s&&!r&&!o})}({channel:t,message:n,currentUser:c});return null!=c&&I?(0,i.jsx)("div",{className:N.CTAMessage,children:(0,i.jsx)(p,{currentUser:c,channel:t,message:n,buttonLabels:a,stickers:l,event:r,eventProperties:o})}):null}},622116:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(475179),r=n(287734),o=n(933557),c=n(124072),d=n(703656),u=n(131704),_=n(592125),E=n(430824),I=n(699516),m=n(594174),T=n(934415),h=n(900849),N=n(981631);function f(e){let{channel:t,onClick:n,beforeTransition:f,className:p,openChatWithoutConnecting:C}=e,g=(0,a.e7)([m.default,I.Z],()=>null==t?"":(0,o.F6)(t,m.default,I.Z),[t]);return(0,i.jsx)(s.Tooltip,{text:g,position:"top",children:e=>{let{onMouseEnter:a,onMouseLeave:o}=e;return(0,i.jsx)(c.Z,{role:"link",className:p,onClick:e=>{e.stopPropagation(),null!=n?n():(null!=f&&f(),(0,s.closeAllModals)(),!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||null==t)return;let i=E.Z.getGuild(e);if((null==i?void 0:i.joinedAt)==null){h.Ub(e,{},{channelId:t});return}let a=_.Z.getChannel(t);if(null!=a&&(0,u.bw)(a.type)){if(n){l.Z.updateChatOpen(a.id,!0),(0,d.uL)(N.Z5c.CHANNEL(e,t));return}r.default.selectVoiceChannel(a.id);return}(0,d.uL)(N.Z5c.CHANNEL(e,t))}(null==t?void 0:t.guild_id,null==t?void 0:t.id,C))},onMouseEnter:a,onMouseLeave:o,iconType:(0,T.wl)(t),children:g})}})}},289565:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(739566),r=n(998951),o=n(113039),c=n(778947),d=n(541451);function u(e){let{message:t,channel:n,content:a,className:u,compact:_,popoutProps:E,hideTimestamp:I=!1,withFooter:m=!1,...T}=e,h=(0,l.ZP)(t);return(0,i.jsx)("div",{className:s()({[d.withFooter]:m},d.embedCard,{[d.compact]:_},u),children:(0,i.jsx)(r.Z,{...T,className:s()(d.messageContainer,{[d.compact]:_}),childrenMessageContent:(0,i.jsx)(o.ZP,{className:s()(d.__invalid_messageContent,{[d.compact]:_}),message:t,content:a}),childrenHeader:(0,i.jsx)(c.ZP,{message:t,channel:n,author:h,guildId:null==n?void 0:n.guild_id,compact:_,hideTimestamp:I,className:s()(d.header,{[d.compact]:_}),...null!=E?E:{}}),compact:_})})}},727779:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),s=n(824203),l=n(981631),r=n(689938),o=n(166804);function c(e){var t;let n,{message:c,onDeleteMessage:d,children:u}=e,_=null===(t=c.interactionMetadata)||void 0===t?void 0:t.ephemerality_reason,E=()=>d(c,!0);if(null!=_){let e=(0,s.in)(_);n=(0,i.jsx)("div",{className:o.userAppsBetaContent,children:r.Z.Messages.APPLICATION_COMMAND_USER_INSTALL_EPHEMERAL_WITH_REASON.format({handleDelete:E,reason:e})})}else n=c.type===l.uaV.STAGE_RAISE_HAND?r.Z.Messages.STAGE_SYSTEM_MESSAGE_MODERATOR_VISIBILITY_MESSAGE.format({handleDelete:E}):r.Z.Messages.ONLY_YOU_CAN_SEE_AND_DELETE_THESE.format({count:1,countMessages:1,handleDelete:E});return(0,i.jsxs)("div",{className:o.ephemeralMessage,onClick:e=>e.stopPropagation(),children:[(0,i.jsx)(a.EyeIcon,{size:"xs",color:"currentColor",className:o.icon}),n,u]})}},783709:function(e,t,n){n.d(t,{Z:function(){return M}});var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(512722),o=n.n(r),c=n(913527),d=n.n(c),u=n(481060),_=n(867176),E=n(566620),I=n(403404),m=n(100527),T=n(906732),h=n(739566),N=n(223021),f=n(103575),p=n(768581),C=n(55935),g=n(671219),S=n(750858),A=n(981631),R=n(689938),x=n(250050);function O(e){let{width:t=6,height:n=10,color:a="currentColor",className:s,foreground:l}=e;return(0,i.jsx)("svg",{className:s,width:t,height:n,viewBox:"0 0 6 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M4.61241 0L6 0.845294L1.38759 10L0 9.15471L4.61241 0Z",className:l,fill:a})})}function M(e){var t;let n;let{message:s,channel:r}=e,{analyticsLocations:c}=(0,T.ZP)(m.Z.EXECUTED_COMMAND),M=a.useMemo(()=>(e,t,n)=>(o()(null!=r&&null!=t,"ExecuteCommand: user and channel cannot be undefined"),(0,i.jsx)(f.Z,{...e,location:"ExecutedCommand",channelId:r.id,messageId:s.id,guildId:r.guild_id,userId:t.id,newAnalyticsLocations:n})),[r,s.id]),v=a.useMemo(()=>e=>(o()(null!=r,"ExecutedCommand: channel cannot be null"),(0,i.jsx)(g.Z,{...e,channel:r,messageId:s.id,interactionData:s.interactionData})),[r,s.id,s.interactionData]),L=(0,h.Sw)(null===(t=s.interaction)||void 0===t?void 0:t.user,r),Z=a.useMemo(()=>e.compact?(0,N.Z)((0,C.vc)(d()(),"LT")):null,[e.compact]),P=(0,_.NX)(r.id,!0,"ExecutedCommand"),b=s.interaction;if(null==b||null==L)return null;let D=()=>{let t=function(e,t){let n,{message:a,compact:s,channel:r,isInteractionUserBlocked:o,showAvatarPopout:c,onClickAvatar:d,onUserContextMenu:_,onPopoutRequestClose:E}=e;if(s&&null==a.activityInstance||o)return(0,i.jsx)("div",{className:x.replyBadge,children:(0,i.jsx)(O,{className:x.commandIcon})});if(null!=a.interaction){var I,m,T;let e=(0,h.ij)(a.interaction.user,r);n=null!==(T=p.ZP.getGuildMemberAvatarURL({avatar:null!==(I=e.guildMemberAvatar)&&void 0!==I?I:void 0,userId:a.interaction.user.id,guildId:null!==(m=null==r?void 0:r.guild_id)&&void 0!==m?m:""}))&&void 0!==T?T:void 0}let N=()=>null!=a.interaction&&function(e){let{user:t,guildId:n,guildAvatar:a,onClick:s,onContextMenu:r,onMouseDown:o}=e;return(0,i.jsx)("img",{alt:"",src:null!=a?a:t.getAvatarURL(n,16),onClick:s,onContextMenu:r,onMouseDown:o,className:l()({[x.executedCommandAvatar]:!0,[x.clickable]:null!=s})})}({user:a.interaction.user,guildId:r.guild_id,guildAvatar:n,onClick:d,onContextMenu:_});return null!=t&&null!=c?(0,i.jsx)(u.Popout,{renderPopout:t,shouldShow:c,position:"right",onRequestClose:E,children:N}):N()}(e,e=>M(e,b.user,[m.Z.AVATAR])),n=function(e,t,n){var a;let{message:s,channel:l,showUsernamePopout:r,onClickUsername:o,onUserContextMenu:c,onPopoutRequestClose:d}=e;return(0,i.jsx)(S.Z,{compact:!0,author:t,message:s,channel:l,userOverride:null===(a=s.interaction)||void 0===a?void 0:a.user,showPopout:r,renderPopout:n,onClick:o,onContextMenu:c,onPopoutRequestClose:d})}(e,L,e=>M(e,b.user));return(0,i.jsxs)(a.Fragment,{children:[t,n]},"user")};if((null==s?void 0:s.activityInstance)!==null){let e=()=>{(0,I.Z)({channel:r,guildId:r.guild_id,locationObject:{page:r.isPrivate()?A.ZY5.DM_CHANNEL:A.ZY5.GUILD_CHANNEL,section:A.jXE.CHANNEL_TEXT_AREA,object:A.qAy.APP_COMMAND,objectType:A.Qqv.ACTIVITY},openInPopout:!1,enableSelectedTextChannelInvite:!0,analyticsLocations:c}),(0,E.w1)({guildId:r.guild_id})};n=P?R.Z.Messages.APPLICATION_COMMAND_PRIMARY_ENTRY_POINT_USED.format({userHook:D,activityHook:()=>(0,i.jsx)(u.Clickable,{tag:"span",onClick:e,children:(0,i.jsx)("div",{className:l()(x.commandName,x.clickable),children:R.Z.Messages.EMBEDDED_ACTIVITIES_ACTIVITY})})}):R.Z.Messages.APPLICATION_COMMAND_PRIMARY_ENTRY_POINT_USED_CANNOT_LAUNCH.format({userHook:D})}else n=R.Z.Messages.APPLICATION_COMMAND_USED_SHORT.format({userHook:D,commandHook:()=>{let t=function(e,t){let{showDataPopout:n,message:a,onClickCommand:s,onPopoutRequestClose:r}=e,o=a.interaction.displayName;return(0,i.jsx)(u.Popout,{renderPopout:t,shouldShow:n,position:"top",align:"center",onRequestClose:r,animation:u.Popout.Animation.FADE,positionKey:null!=a.interactionData?"ready":"loading",children:e=>{let{onClick:t,...n}=e;return a.type===A.uaV.CHAT_INPUT_COMMAND||a.type===A.uaV.INTERACTION_PREMIUM_UPSELL?(0,i.jsx)(u.Clickable,{...n,tag:"span",onClick:s,children:(0,i.jsxs)("div",{className:l()(x.appLauncherOnboardingCommandName,x.clickable),children:[(0,i.jsx)(u.AppsIcon,{size:"custom",color:"currentColor",height:10,width:10,className:x.appsIcon}),o]})}):(0,i.jsx)("div",{className:x.commandName,children:o})}})}(e,v);return(0,i.jsx)(a.Fragment,{children:t},"command")}});return(0,i.jsx)(T.Gt,{value:c,children:(0,i.jsx)("div",{className:l()(x.repliedMessage,x.executedCommand,Z),"aria-hidden":!e.compact,children:n})})}},671219:function(e,t,n){n(47120);var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(442837),o=n(481060),c=n(911969),d=n(906732),u=n(778087),_=n(603721),E=n(124072),I=n(739566),m=n(171368),T=n(592125),h=n(430824),N=n(594174),f=n(981631),p=n(665692),C=n(689938),g=n(768634);let S={tag:"span",variant:"text-md/normal",color:"header-secondary"},A={className:l()("mention",g.mention)};function R(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.Text,{...S,color:"header-primary",children:e})})}t.Z=a.memo(function(e){var t,n,s,l,x,O;let M,{channel:v,messageId:L,interactionData:Z}=e,{analyticsLocations:P}=(0,d.ZP)(),{onCopy:b,copyRef:D}=(0,u.Z)(v,null==Z?void 0:null===(t=Z.application_command)||void 0===t?void 0:t.id),j=(0,r.e7)([h.Z],()=>h.Z.getGuild(v.guild_id),[v.guild_id]);if(a.useEffect(()=>{(null==Z||Z.type===c.yU.CHAT&&void 0===Z.application_command)&&_.OG(v.id,L)},[v.id,L,Z]),null==Z)M=(0,i.jsx)(o.Spinner,{type:o.Spinner.Type.SPINNING_CIRCLE,className:g.spinner});else{let e=[],t=Object.fromEntries((null!==(l=null===(n=Z.application_command)||void 0===n?void 0:n.options)&&void 0!==l?l:[]).map(e=>[e.name,e]));for(let n of null!==(x=Z.options)&&void 0!==x?x:[])e=e.concat(function e(t){var n,s,l,r,d,u,_;let g,{option:x,channel:O,guild:M,messageId:v,parentOptionKey:L,commandOptionSpec:Z,sourceAnalyticsLocations:P}=t,b=null!=L?L+" "+x.name:x.name;if(x.type===c.jw.SUB_COMMAND||x.type===c.jw.SUB_COMMAND_GROUP){let t=[(0,i.jsxs)(a.Fragment,{children:[" ",(0,i.jsx)(o.Text,{...S,children:null!==(s=null==Z?void 0:Z.name_localized)&&void 0!==s?s:x.name})]},b)],c=Object.fromEntries(null===(n=null!==(l=null==Z?void 0:Z.options)&&void 0!==l?l:[])||void 0===n?void 0:n.map(e=>[e.name,e]));for(let n of null!==(r=x.options)&&void 0!==r?r:[])t=t.concat(e({option:n,channel:O,guild:M,messageId:v,parentOptionKey:b,commandOptionSpec:c[n.name],sourceAnalyticsLocations:P}));return t}let D=x.value;if(null!=x.value)switch(x.type){case c.jw.USER:{let e=x.value.toString(),t=N.default.getUser(e);if(null!=t){let e=(0,I.ij)(t,O);g=(0,i.jsxs)(E.Z,{...A,onClick:()=>(0,m.openUserProfileModal)({userId:t.id,guildId:O.guild_id,channelId:O.id,messageId:v,sourceAnalyticsLocations:P,analyticsLocation:{section:f.jXE.CHANNEL_TEXT_AREA_AUTOCOMPLETE}}),children:[p.ME,e.nick]})}break}case c.jw.CHANNEL:{let e=x.value.toString(),t=T.Z.getChannel(e);null!=t&&(g=(0,i.jsxs)(E.Z,{...A,children:[p.zy,t.name]}));break}case c.jw.ROLE:{let e=x.value.toString(),t=null!=M?h.Z.getRole(M.id,e):void 0;null!=t&&(g=(0,i.jsxs)(E.Z,{...A,children:[p.ME,t.name]}));break}case c.jw.MENTIONABLE:{let e=x.value.toString(),t=null!=M?h.Z.getRole(M.id,e):void 0;if(null!=t)g=(0,i.jsxs)(E.Z,{children:[p.ME,t.name]});else{let t=N.default.getUser(e);if(null!=t){let e=(0,I.ij)(t,O);g=(0,i.jsxs)(E.Z,{...A,onClick:()=>(0,m.openUserProfileModal)({userId:t.id,guildId:O.guild_id,analyticsLocation:{section:f.jXE.CHANNEL_TEXT_AREA_AUTOCOMPLETE}}),children:[p.ME,e.nick]})}}break}case c.jw.ATTACHMENT:g=R(C.Z.Messages.EXECUTED_COMMAND_POPOUT_ATTACHMENT_OPTION_VALUE);break;default:{let e=null==Z?void 0:null===(d=Z.choices)||void 0===d?void 0:d.find(e=>e.value===x.value);null!=e&&(D=null!==(u=e.name_localized)&&void 0!==u?u:e.name)}}return null==g&&(g=R(null==D?void 0:D.toString())),[(0,i.jsxs)(a.Fragment,{children:[(0,i.jsxs)(o.Text,{...S,children:[" ",null!==(_=null==Z?void 0:Z.name_localized)&&void 0!==_?_:x.name,": "]}),g]},b)]}({option:n,channel:v,guild:j,messageId:L,parentOptionKey:null,commandOptionSpec:t[n.name],sourceAnalyticsLocations:P}));M=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.Text,{...S,children:["/",null!==(O=null===(s=Z.application_command)||void 0===s?void 0:s.name_localized)&&void 0!==O?O:Z.name]}),e]})}return(0,i.jsxs)("div",{className:g.container,onCopy:e=>{var t,n,i;let a=null!==(i=null===(n=window)||void 0===n?void 0:null===(t=n.getSelection())||void 0===t?void 0:t.toString())&&void 0!==i?i:"";a.startsWith("/")&&a.endsWith("\n")&&b(e,Z)},children:[(0,i.jsx)("div",{className:g.tooltip,ref:D,children:M}),(0,i.jsx)("div",{className:g.tooltipPointer})]})})},702346:function(e,t,n){var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(481060),r=n(534761),o=n(841144);function c(e){let{icon:t,iconNode:n,timestamp:a,className:l,children:c,contentClassName:d,iconClassName:u,iconContainerClassName:_,compact:E=!1}=e;return(0,i.jsxs)("div",{className:s()(l,{[o.container]:!0,[o.compact]:E,[o.cozy]:!E}),children:[null!=n&&(0,i.jsx)("div",{className:s()(o.iconContainer,_),children:n}),null!=t&&(0,i.jsx)("div",{className:o.iconContainer,children:(0,i.jsx)("div",{"data-accessibility":"desaturate",className:s()(o.icon,o.iconSize,u),style:{backgroundImage:"url('".concat(t,"')")}})}),(0,i.jsxs)("div",{className:s()(d,o.content),children:[c,null!=a&&(0,i.jsx)(r.Z,{timestamp:a})]})]})}c.Action=e=>{let{onClick:t,children:n}=e;return(0,i.jsxs)("span",{className:o.action,children:["—",(0,i.jsx)(l.Anchor,{onClick:t,className:o.actionAnchor,children:n})]})},t.Z=c},223:function(e,t,n){n.d(t,{Z:function(){return Q}});var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(913527),o=n.n(r),c=n(91192),d=n(722770),u=n(442837),_=n(481060),E=n(607070),I=n(313889),m=n(825829),T=n(226192),h=n(36459),N=n(336197),f=n(937889),p=n(739566),C=n(507418),g=n(348238),S=n(38267),A=n(103575),R=n(496675),x=n(594174),O=n(467679),M=n(622116),v=n(289565),L=n(778947),Z=n(702346),P=n(5192),b=n(51144),D=n(787374),j=n(981631),U=n(674563),y=n(590433),B=n(959517),k=n(689938),G=n(121802);function F(e,t){let{popouts:n,selected:i,setPopout:s}=(0,S.Z)(e.id,B.d$),{usernameProfile:l,avatarProfile:r}=n,o=(0,g.wq)(e.author.id,t.id),c=(0,g.RN)(e.author.id,t.id,e.id),d=(0,g.XO)(e,t,l,s),u=(0,g.R9)(r,s);return{selected:i,onContextMenu:o,onContextMenuModerateUser:c,onClickUsername:d,onClickAvatar:u,onPopoutRequestClose:a.useCallback(()=>s({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1}),[s]),renderPopout:C.Z,showAvatarPopout:r,showUsernamePopout:l}}function w(e,t){return a.useMemo(()=>{if(null!=t)return n=>(0,i.jsx)(A.Z,{...n,location:"AutomodFlagToChannel",userId:t.id,user:t,channelId:e.id,guildId:e.guild_id})},[e,t])}function V(e){let{children:t,className:n,compact:a}=e;return(0,i.jsx)("div",{className:l()(G.footerContainer,n,{[G.compact]:a}),children:t})}function H(e){let{children:t,className:n}=e;return(0,i.jsx)("div",{className:l()(G.annotationRow,n),children:t})}function Y(e,t){switch(e){case I.d.DELETE_USER_MESSAGE:return(0,i.jsx)(_.TrashIcon,{size:"xs",color:"currentColor",className:G.alertActionIcon,...t});case I.d.SET_COMPLETED:return(0,i.jsx)(_.CheckmarkLargeIcon,{size:"xs",color:"currentColor",className:l()(G.alertActionIcon,G.alertActionSetCompletedIcon),...t});case I.d.SUBMIT_FEEDBACK:return(0,i.jsx)(_.FlagIcon,{size:"xs",color:"currentColor",className:l()(G.alertActionIcon),...t});default:return null}}function W(e){let{alertAction:t,guildId:n}=e,a=(0,u.e7)([x.default],()=>x.default.getUser(t.actor),[t.actor]);try{let e=parseInt(t.actionType);if(null==a)return Y(e,{});let s=function(e,t,n){var i;let a=null!==(i=P.ZP.getNickname(n,null,t))&&void 0!==i?i:b.ZP.getUserTag(t),s=o()(e.ts),l="".concat(a," ").concat(s.fromNow());try{switch(parseInt(e.actionType)){case I.d.DELETE_USER_MESSAGE:return k.Z.Messages.GUILD_AUTOMOD_ALERT_ACTION_ICON_TOOLTIP_DELETE_MESSAGE.format({userName:a,timestamp:s.fromNow()});case I.d.SET_COMPLETED:return k.Z.Messages.GUILD_AUTOMOD_ALERT_ACTION_ICON_TOOLTIP_SET_COMPLETED.format({userName:a,timestamp:s.fromNow()});case I.d.SUBMIT_FEEDBACK:return k.Z.Messages.GUILD_AUTOMOD_ALERT_ACTION_ICON_TOOLTIP_SUBMIT_FEEDBACK.format({userName:a,timestamp:s.fromNow()});default:return l}}catch(e){return l}}(t,a,n);return(0,i.jsx)(_.Tooltip,{text:s,children:t=>Y(e,t)})}catch(e){return null}}function z(e){let{alertActionsExecution:t,guildId:n}=e,a=Object.values(t.actions).sort((e,t)=>e.actionType<t.actionType?1:-1);return(0,i.jsx)("div",{className:G.alertActionsIconContainer,children:a.map(e=>(0,i.jsx)(W,{alertAction:e,guildId:n},e.actionType))})}let K=a.memo(function(e){let t,{message:n,channel:a,embedChannel:s,compact:l,interactionUserId:r}=e,o=F(n,a),c=w(a,n.author),d=(0,p.ZP)(n),u=(0,L.CF)({message:n,channel:a,author:d,guildId:null==a?void 0:a.guild_id,compact:l,...o},c),E=x.default.getUser(r),I=F(n,a),T=w(a,E);if(null!=E){let e=(0,p.ij)(E,a),i=(0,L.CF)({message:n,channel:a,author:e,guildId:null==a?void 0:a.guild_id,compact:l,...I},T);t=()=>i}return(0,i.jsx)(_.Text,{variant:"text-md/normal",color:"header-primary",tag:"span",className:G.spanCorrection,children:(0,m.Mq)(n,s,()=>(0,i.jsx)("div",{className:G.channelNameContainer,children:(0,i.jsx)(M.Z,{channel:s,className:G.channelName,openChatWithoutConnecting:!0})}),()=>u,t)})});function Q(e){let{id:t,compact:n,message:s,channel:r}=e,{avatarSrc:o,eventHandlers:{onMouseEnter:p,onMouseLeave:C}}=(0,D.m)(!0),{onFocus:S,...A}=(0,c.JA)(null!=t?t:""),{isFocused:x,handleFocus:M,handleBlur:P}=(0,g.bb)(S),b=(0,u.e7)([E.Z],()=>E.Z.keyboardModeEnabled),B=(0,u.e7)([R.Z],()=>R.Z.can(j.Plq.MANAGE_MESSAGES,r),[r]),{ruleName:w,embedChannel:Y,decisionId:W,keywordMatchedContent:Q,keyword:q,content:X,flaggedMessageId:J,timeoutDuration:$,decisionReason:ee,alertActionsExecution:et,quarantineType:en,interactionUserId:ei}=(0,m.ZP)(s),ea=a.useMemo(()=>(0,f.k$)(X,Q,r.id),[X,Q,r]),{selected:es,...el}=F(s,r),er=a.useCallback(()=>{(0,T._s)(s.id,X,W,r)},[s.id,X,W,r]),eo=a.useCallback(e=>{if(null!=J&&null!=Y)e.stopPropagation(),e.preventDefault(),(0,N.Z)(j.Z5c.CHANNEL(null==Y?void 0:Y.guild_id,null==Y?void 0:Y.id,J))},[Y,J]),ec=a.useCallback(()=>{(0,h.Xx)(s.id,r,I.d.DELETE_USER_MESSAGE)},[r,s.id]),ed=(0,y.L9)(Number($)),eu=null!=ee,e_=B&&null!=J&&(null==et||!et.actions.hasOwnProperty(I.d.DELETE_USER_MESSAGE));return(0,i.jsx)("div",{onMouseEnter:p,onMouseLeave:C,children:(0,i.jsx)(Z.Z,{className:l()(G.mainContainer,{[G.compact]:n}),iconNode:n?null:(0,i.jsx)(D.S,{src:o}),iconContainerClassName:G.iconContainer,compact:n,children:(0,i.jsxs)("div",{className:l()(G.content,{[G.compact]:n}),children:[(0,i.jsx)(L.nD,{message:s,messageClassname:G.spanCorrection,className:l()(G.usernameContainer,G.spanCorrection,{[G.compact]:n}),username:(0,i.jsxs)("div",{className:G.spanCorrection,children:[(0,i.jsx)(_.Text,{variant:"text-md/normal",color:"text-brand",tag:"span",className:G.username,children:k.Z.Messages.GUILD_AUTOMOD_USERNAME}),(0,i.jsx)(O.Z,{type:U.Hb.SYSTEM_DM,className:G.systemTag}),(0,i.jsx)(K,{message:s,channel:r,embedChannel:Y,compact:n,interactionUserId:ei})]}),compact:n,showTimestamp:!0}),(0,i.jsx)("div",{className:l()(G.messageContent,{[G.compact]:n}),children:(0,i.jsx)(v.Z,{...A,message:s,channel:Y,content:ea,compact:n,withFooter:!0,hideTimestamp:!0,className:l()(G.embedCard,{[G.compact]:n,[G.selected]:es||b&&x,[G.isClickable]:null!=J&&null!=Y}),childrenAccessories:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:G.centeredRowContainer,children:[null!=q&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(_.Text,{variant:"text-xs/medium",color:"text-muted",tag:"span",children:k.Z.Messages.GUILD_AUTOMOD_POST_TO_CHANNEL_KEYWORD.format({keyword:q})}),(0,i.jsx)("div",{className:l()(G.dot,G.dotMargin)})]}),null!=w&&(0,i.jsx)(_.Text,{variant:"text-xs/medium",color:"text-muted",tag:"span",children:k.Z.Messages.GUILD_AUTOMOD_POST_TO_CHANNEL_RULE_NAME.format({ruleName:w})}),null!=ed&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:l()(G.dot,G.dotMargin)}),(0,i.jsx)(_.Text,{variant:"text-xs/medium",color:"text-muted",tag:"span",className:G.__invalid_footerText,children:k.Z.Messages.GUILD_AUTOMOD_POST_TO_CHANNEL_TIMEOUT_DURATION.format({duration:ed})})]}),null!=en&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:l()(G.dot,G.dotMargin)}),(0,i.jsx)(_.Text,{variant:"text-xs/medium",color:"text-muted",tag:"span",className:G.titleCase,children:k.Z.Messages.GUILD_AUTOMOD_POST_TO_CHANNEL_REASON.format({reason:(0,m.hU)(en)})})]})]}),eu?(0,i.jsx)(H,{children:(0,i.jsx)(_.Text,{variant:"text-xs/medium",color:"text-normal",tag:"span",children:ee})}):null]}),popoutProps:el,zalgo:!0,onFocus:M,onBlur:P,onClick:eo})}),(0,i.jsx)(V,{compact:n,children:(0,i.jsxs)("div",{className:l()(G.centeredRowContainer,G.buttonContainer,{[G.compact]:n}),children:[(0,i.jsx)(_.Button,{onClick:e=>{var t;null===(t=el.onContextMenuModerateUser)||void 0===t||t.call(el,e)},color:_.Button.Colors.LINK,look:_.Button.Looks.LINK,size:_.Button.Sizes.SMALL,className:G.buttonStyle,children:(0,i.jsxs)("div",{className:G.footerAction,children:[(0,i.jsx)(_.ShieldIcon,{size:"xs",color:d.Z.BLUE_345,className:G.footerIcon}),(0,i.jsx)(_.Text,{variant:"text-xs/normal",color:"text-link",children:k.Z.Messages.ACTIONS})]})}),(0,i.jsx)("div",{className:G.dot}),(0,i.jsx)(_.Button,{onClick:er,color:_.Button.Colors.LINK,look:_.Button.Looks.LINK,size:_.Button.Sizes.SMALL,className:G.buttonStyle,children:(0,i.jsx)("div",{className:G.footerAction,children:(0,i.jsx)(_.Text,{variant:"text-xs/normal",color:"text-link",children:k.Z.Messages.GUILD_AUTOMOD_REPORT_ISSUES})})}),e_?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:G.dot}),(0,i.jsx)(_.Button,{onClick:ec,color:_.Button.Colors.LINK,look:_.Button.Looks.LINK,size:_.Button.Sizes.SMALL,className:G.buttonStyle,children:(0,i.jsx)("div",{className:G.footerAction,children:(0,i.jsx)(_.Text,{variant:"text-xs/normal",color:"text-link",children:k.Z.Messages.GUILD_AUTOMOD_ALERT_DELETE_MEMBERS_MESSAGE})})})]}):null,null!=et?(0,i.jsx)(z,{alertActionsExecution:et,guildId:r.guild_id}):null]})})]})})})}},755090:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(825829),s=n(223),l=n(102250);function r(e){let{message:t,...n}=e;return(0,a.OP)(t)?(0,i.jsx)(l.Z,{message:t,...n}):(0,i.jsx)(s.Z,{message:t,...n})}},787374:function(e,t,n){n.d(t,{S:function(){return I},m:function(){return E}}),n(47120);var i=n(735250),a=n(470079),s=n(442837),l=n(481060),r=n(607070),o=n(426563),c=n(998502),d=n(689938),u=n(121802);let _=c.ZP.getEnableHardwareAcceleration()?l.AnimatedAvatar:l.Avatar;function E(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,n]=a.useState(!1),i=(0,s.e7)([r.Z],()=>r.Z.useReducedMotion),l=a.useMemo(()=>{let n=t||!i&&!e;return(0,o.j)(n)},[t,i,e]),c=a.useCallback(()=>n(!0),[]);return{avatarSrc:l,eventHandlers:{onMouseEnter:c,onMouseLeave:a.useCallback(()=>n(!1),[])}}}function I(e){let{src:t}=e;return(0,i.jsx)("div",{className:u.avatarContainer,children:(0,i.jsx)(_,{src:t,size:l.AvatarSizes.SIZE_40,"aria-label":d.Z.Messages.GUILD_AUTOMOD_USERNAME})})}},102250:function(e,t,n){n.d(t,{Z:function(){return Y}});var i=n(735250),a=n(470079),s=n(120356),l=n.n(s),r=n(913527),o=n.n(r),c=n(722770),d=n(320285),u=n(688813),_=n(442837),E=n(692547),I=n(481060),m=n(256638),T=n(528011),h=n(666657),N=n(533244),f=n(825829),p=n(226192),C=n(36459),g=n(434404),S=n(348238),A=n(103575),R=n(204197),x=n(592125),O=n(271383),M=n(594174),v=n(467679),L=n(778947),Z=n(702346),P=n(787374),b=n(981631),D=n(674563),j=n(689938),U=n(923255);function y(){return(0,i.jsx)("div",{className:U.dot})}function B(e){let{message:t,compact:n}=e,{notificationType:a}=(0,f.FL)(t);switch(a){case f.nj:case d.p.RAID:return(0,i.jsx)(w,{message:t,compact:n});case d.p.MENTION_RAID:return(0,i.jsx)(V,{message:t,compact:n});case d.p.ACTIVITY_ALERTS_ENABLED:return(0,i.jsx)(F,{message:t,compact:n});case d.p.INTERACTION_BLOCKED:return(0,i.jsx)(G,{compact:n});default:return(0,i.jsx)(k,{compact:n})}}function k(e){let{compact:t}=e;return(0,i.jsx)(H,{compact:t,header:(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(I.CircleExclamationPointIcon,{size:"xs",color:E.Z.colors.HEADER_SECONDARY.css}),(0,i.jsx)(I.Text,{variant:"text-md/semibold",color:"header-secondary",children:j.Z.Messages.GUILD_AUTOMOD_NOTFICATION_UNSUPPORTED_TITLE})]}),content:(0,i.jsx)(I.Text,{variant:"text-md/normal",color:"text-muted",children:j.Z.Messages.GUILD_AUTOMOD_NOTFICATION_UNSUPPORTED_DESCRIPTION})})}function G(e){let{compact:t}=e;return(0,i.jsx)(H,{compact:t,header:(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(I.CircleExclamationPointIcon,{size:"xs",color:E.Z.colors.HEADER_SECONDARY.css}),(0,i.jsx)(I.Text,{variant:"text-md/semibold",color:"header-secondary",children:j.Z.Messages.GUILD_AUTOMOD_NOTFICATION_APP_INTERACTION_BLOCKED_TITLE})]}),content:(0,i.jsx)(I.Text,{variant:"text-md/normal",color:"text-muted",children:j.Z.Messages.GUILD_AUTOMOD_NOTFICATION_APP_INTERACTION_BLOCKED_DESCRIPTION})})}function F(e){var t;let{message:n,compact:s}=e,l=M.default.getUser((0,f.Sw)(n)),r=null===(t=x.Z.getBasicChannel(n.channel_id))||void 0===t?void 0:t.guild_id,c=null!=r&&null!=l?O.ZP.getMember(r,l.id):null,{avatarSrc:d,avatarDecorationSrc:u,eventHandlers:_}=(0,R.Z)({user:l,guildId:r,size:12});return(0,i.jsx)(H,{compact:s,header:(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(I.SettingsInfoIcon,{size:"xs",color:E.Z.colors.TEXT_POSITIVE.css}),(0,i.jsx)(I.Text,{variant:"text-md/semibold",color:"text-positive",children:j.Z.Messages.GUILD_AUTOMOD_NOTIFICATION_ACTIVITY_ALERTS_ENABLED_TITLE})]}),subheader:(0,i.jsxs)("div",{className:U.dotSeparatedRow,children:[(0,i.jsx)("div",{className:U.alertsEnabledSubHeader,children:null!=c&&null!=l&&(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(I.Text,{variant:"text-xs/medium",color:"text-normal",children:j.Z.Messages.GUILD_AUTOMOD_NOTIFICATION_ACTIVITY_ALERTS_ENABLED_BY_PREFIX}),(0,i.jsx)(I.Popout,{renderPopout:function(e){return null==l?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(A.Z,{...e,location:"AutomodNotification",userId:l.id,user:l,guildId:r,channelId:n.channel_id,messageId:n.id})},children:e=>(0,i.jsxs)(I.Clickable,{className:U.alertsEnabledSubHeaderAvatarUsername,...e,children:[(0,i.jsx)("div",{..._,children:(0,i.jsx)(I.Avatar,{src:d,avatarDecoration:u,size:I.AvatarSizes.SIZE_16,"aria-label":"TODO"})}),(0,i.jsxs)(I.Text,{variant:"text-xs/medium",style:{color:null!=c.colorString?c.colorString:E.Z.colors.TEXT_NORMAL.css},children:[" ","@",l.username]})]})})]})}),(0,i.jsx)(y,{}),(0,i.jsx)(I.Text,{variant:"text-xs/medium",color:"text-normal",children:o()(n.timestamp).fromNow()})]}),content:(0,i.jsx)(I.Text,{variant:"text-md/normal",color:"text-muted",children:j.Z.Messages.GUILD_AUTOMOD_NOTIFICATION_ACTIVITY_ALERTS_ENABLED_DESCRIPTION})})}function w(e){var t;let{message:s,compact:l}=e,{joinAttempts:r,raidDatetime:d,dmsSent:m,raidType:C,resolvedReason:g}=(0,f.FL)(s),A=(0,_.e7)([x.Z],()=>x.Z.getChannel(s.channel_id),[s.channel_id]),R=null!==(t=null==A?void 0:A.guild_id)&&void 0!==t?t:null,{incidentData:O,shouldShowIncidentActions:M}=(0,T.mI)(R),v=(0,S.sR)(s.author.id,s.channel_id),L=a.useCallback(()=>{let e=null==A?void 0:A.guild_id;null!=e&&(0,p.kW)(s.id,e)},[s.id,A]),Z=C===u.$.DM_RAID,P=Z?I.CircleExclamationPointIcon:I.ChatAlertIcon;return(0,i.jsx)(H,{compact:l,header:(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(P,{size:"xs",color:E.Z.colors.TEXT_DANGER.css}),(0,i.jsx)(I.Text,{variant:"text-md/semibold",color:"text-danger",children:Z?j.Z.Messages.GUILD_AUTOMOD_NOTIFICATION_DM_RAID_TITLE:j.Z.Messages.GUILD_AUTOMOD_NOTIFICATION_RAID_TITLE})]}),subheader:(0,i.jsxs)("div",{className:U.dotSeparatedRow,children:[null!=r&&(0,i.jsx)(I.Text,{variant:"text-xs/medium",color:"text-normal",children:j.Z.Messages.GUILD_AUTOMOD_NOTIFICATION_RAID_JOINS.format({joinCount:r})}),null!=m&&(0,i.jsx)(I.Text,{variant:"text-xs/medium",color:"text-normal",children:j.Z.Messages.GUILD_AUTOMOD_NOTIFICATION_RAID_DMS.format({dmsSent:m})}),null!=d&&(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(y,{}),(0,i.jsx)(I.Text,{variant:"text-xs/medium",color:"text-normal",children:o()(d).fromNow()})]})]}),content:null!=d?(0,i.jsx)(I.Text,{variant:"text-md/normal",color:"text-muted",children:j.Z.Messages.GUILD_AUTOMOD_NOTIFICATION_RAID_ACTION_DESCRIPTION.format({dateTime:d.toLocaleString(j.Z.getLocale(),N.pQ)})}):null,footerButtons:(0,i.jsxs)("div",{className:U.dotSeparatedRow,children:[(0,i.jsx)(I.Button,{onClick:e=>{if(null!=R&&M){let e={source:h.Zu.MESSAGE,messageId:s.id,alertType:(0,N.T1)(O)};(0,I.openModalLazy)(async()=>{let{default:t}=await n.e("58175").then(n.bind(n,664452));return n=>(0,i.jsx)(t,{...n,guildId:R,analyticsData:e})})}else v(e)},color:I.Button.Colors.LINK,look:I.Button.Looks.LINK,size:I.Button.Sizes.SMALL,className:U.buttonStyle,children:(0,i.jsx)("div",{className:U.footerAction,children:M?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I.LockIcon,{size:"xs",color:c.Z.BLUE_345,className:U.footerIcon}),(0,i.jsx)(I.Text,{variant:"text-xs/medium",color:"text-link",children:j.Z.Messages.GUILD_ANTIRAID_NAGBAR_ACTION})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I.ShieldIcon,{size:"xs",color:c.Z.BLUE_345,className:U.footerIcon}),(0,i.jsx)(I.Text,{variant:"text-xs/medium",color:"text-link",children:j.Z.Messages.ACTIONS})]})})}),(0,i.jsx)(y,{}),(0,i.jsx)(I.Button,{onClick:L,color:I.Button.Colors.LINK,look:I.Button.Looks.LINK,size:I.Button.Sizes.SMALL,className:U.buttonStyle,children:(0,i.jsx)("div",{className:U.footerAction,children:(0,i.jsx)(I.Text,{variant:"text-xs/medium",color:"text-link",children:(0,f.ge)(g)})})})]})})}function V(e){var t;let{message:n,compact:s}=e,l=null===(t=x.Z.getBasicChannel(n.channel_id))||void 0===t?void 0:t.guild_id,{raidDatetime:r,decisionId:c,suspiciousMentionActivityUntil:d}=(0,f.FL)(n);return(0,i.jsx)(H,{compact:s,header:(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(I.CircleExclamationPointIcon,{size:"xs",color:E.Z.colors.TEXT_DANGER.css}),(0,i.jsx)(I.Text,{variant:"text-md/semibold",color:"text-danger",children:j.Z.Messages.GUILD_AUTOMOD_NOTIFICATION_MENTION_RAID_TITLE})]}),subheader:(0,i.jsx)("div",{className:U.dotSeparatedRow,children:null!=r&&(0,i.jsx)(I.Text,{variant:"text-xs/medium",color:"text-normal",children:o()(r).fromNow()})}),content:(0,i.jsx)(I.Text,{variant:"text-md/normal",color:"text-muted",children:j.Z.Messages.GUILD_AUTOMOD_NOTIFICATION_MENTION_RAID_DESCRIPTION}),footerButtons:(0,i.jsxs)("div",{className:U.dotSeparatedRow,children:[(0,i.jsx)(I.Button,{onClick:function(){null!=l&&null!=c&&(0,C.UE)(l,c,()=>{(0,m.c)(d),(0,C.T9)(l)})},color:I.Button.Colors.LINK,look:I.Button.Looks.LINK,size:I.Button.Sizes.SMALL,className:U.buttonStyle,children:(0,i.jsx)("div",{className:U.footerAction,children:(0,i.jsx)(I.Text,{variant:"text-xs/medium",color:"text-link",children:j.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_REMOVE_RESTRICTION})})}),(0,i.jsx)(y,{}),(0,i.jsx)(I.Button,{onClick:function(){null!=l&&g.Z.open(l,b.pNK.GUILD_AUTOMOD,void 0,b.KsC.AUTOMOD_MENTION_SPAM)},color:I.Button.Colors.LINK,look:I.Button.Looks.LINK,size:I.Button.Sizes.SMALL,className:U.buttonStyle,children:(0,i.jsx)("div",{className:U.footerAction,children:(0,i.jsx)(I.Text,{variant:"text-xs/medium",color:"text-link",children:j.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_CONFIGURE_SETTINGS})})})]})})}function H(e){let{compact:t,header:n,subheader:a,content:s,footerButtons:r}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:l()(U.embedCard,{[U.compact]:t}),children:[(0,i.jsxs)("div",{className:U.cardContent,children:[(0,i.jsxs)("div",{className:U.cardHeaderContianer,children:[(0,i.jsx)("div",{className:U.cardHeader,children:n}),null!=a&&(0,i.jsx)("div",{className:U.subheader,children:a})]}),s]}),null!=r&&(0,i.jsx)("div",{className:l()(U.centeredRowContainer,U.cardFooter,{[U.compact]:t}),children:r})]})})}function Y(e){let{id:t,compact:n,message:a,channel:s}=e,{avatarSrc:r,eventHandlers:{onMouseEnter:o,onMouseLeave:c}}=(0,P.m)(!0),{notificationType:u}=(0,f.FL)(a),_=null==u||u===d.p.RAID;return(0,i.jsx)("div",{onMouseEnter:o,onMouseLeave:c,children:(0,i.jsx)(Z.Z,{className:l()(U.mainContainer,{[U.compact]:n}),iconNode:n?null:(0,i.jsx)(P.S,{src:r}),iconContainerClassName:U.iconContainer,compact:n,children:(0,i.jsxs)("div",{className:l()(U.content,{[U.compact]:n}),children:[(0,i.jsx)(L.nD,{message:a,messageClassname:U.spanCorrection,className:l()(U.usernameContainer,U.spanCorrection,{[U.compact]:n}),username:(0,i.jsxs)("div",{className:U.spanCorrection,children:[(0,i.jsx)(I.Text,{variant:"text-md/normal",color:"text-brand",tag:"span",className:U.username,children:j.Z.Messages.GUILD_AUTOMOD_USERNAME}),(0,i.jsx)(v.Z,{type:D.Hb.SYSTEM_DM,className:U.systemTag}),_&&(0,i.jsx)(I.Text,{variant:"text-md/normal",color:"header-primary",tag:"span",className:U.spanCorrection,children:j.Z.Messages.GUILD_AUTOMOD_NOTFICATION_ALERT_TITLE})]}),compact:n,showTimestamp:!0}),(0,i.jsx)("div",{className:U.flexLineBreak}),(0,i.jsx)(B,{message:a,compact:n})]})})})}},136036:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(739566),s=n(702346),l=n(689938);function r(e){let{message:t,compact:r,missed:o,joinable:c,usernameHook:d,onClickJoinCall:u}=e,_=(0,a.ZP)(t),E=_.nick,I=d(_),m=function(e){let t=null!=e.call?e.call.duration:null;return null!=t?t.humanize():null}(t);return o?(0,i.jsx)(s.Z,{icon:n(154239),timestamp:t.timestamp,compact:r,children:null!=m?l.Z.Messages.SYSTEM_MESSAGE_CALL_MISSED_WITH_DURATION_HOOK.format({username:E,usernameHook:I,callDuration:m}):l.Z.Messages.SYSTEM_MESSAGE_CALL_MISSED_HOOK.format({username:E,usernameHook:I})}):(0,i.jsxs)(s.Z,{icon:n(344163),timestamp:t.timestamp,compact:r,children:[null!=m?l.Z.Messages.SYSTEM_MESSAGE_CALL_STARTED_WITH_DURATION_HOOK.format({username:E,usernameHook:I,callDuration:m}):l.Z.Messages.SYSTEM_MESSAGE_CALL_STARTED_HOOK.format({username:E,usernameHook:I}),c?(0,i.jsx)(s.Z.Action,{onClick:u,children:l.Z.Messages.SYSTEM_MESSAGE_JOIN_CALL}):null]})}},676751:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(481060),s=n(857395),l=n(739566),r=n(702346),o=n(689938);function c(e){let{children:t,messageReference:n}=e;if(null==n)return(0,i.jsx)(a.Anchor,{children:t});let{guild_id:l,channel_id:r,message_id:o}=n;return null==l?(0,i.jsx)(a.Anchor,{children:t}):(0,i.jsx)(s.Z,{guildId:l,channelId:r,messageId:o,children:e=>{let{"aria-controls":n,"aria-expanded":s,...l}=e;return(0,i.jsx)(a.Anchor,{...l,children:t})}})}function d(e){let{usernameHook:t,message:a,compact:s}=e,{content:d,timestamp:u,messageReference:_}=a,E=(0,l.ZP)(a),I=t(E),m=o.Z.Messages.SYSTEM_MESSAGE_CHANNEL_FOLLOW_ADD_HOOK.format({username:E.nick,usernameHook:I,webhookName:d,webhookNameHook:(e,t)=>(0,i.jsx)(c,{messageReference:_,children:e},t)});return(0,i.jsx)(r.Z,{icon:n(570111),timestamp:u,compact:s,children:m})}},662147:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(739566),s=n(702346),l=n(689938);function r(e){let{message:t,usernameHook:r,compact:o}=e,c=(0,a.ZP)(t),d=r(c);return(0,i.jsx)(s.Z,{icon:n(819373),timestamp:t.timestamp,compact:o,children:l.Z.Messages.SYSTEM_MESSAGE_CHANNEL_ICON_CHANGE_HOOK.format({username:c.nick,usernameHook:d})})}},900316:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(739566),s=n(702346),l=n(689938),r=n(636803);function o(e){let{message:t,usernameHook:o,compact:c,isForumPost:d}=e,u=(0,a.ZP)(t),_=o(u);return(0,i.jsx)(s.Z,{compact:c,className:r.channelNameChange,icon:n(819373),timestamp:t.timestamp,children:(d?l.Z.Messages.SYSTEM_MESSAGE_FORUM_POST_TITLE_CHANGE2:l.Z.Messages.SYSTEM_MESSAGE_CHANNEL_NAME_CHANGE2).format({username:u.nick,usernameHook:_,channelName:t.content})})}},493829:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),s=n(904245),l=n(739566),r=n(702346),o=n(689938);function c(e){let{message:t,usernameHook:c,onClickPins:d,compact:u}=e,_=(0,l.ZP)(t),E=_.nick,I=c(_),m=()=>{if(null==t.messageReference)return;let{channel_id:e,message_id:n}=t.messageReference;s.Z.jumpToMessage({channelId:e,messageId:n,flash:!0})},T=(0,a.useRedesignIconContext)().enabled?{iconNode:(0,i.jsx)(a.PinIcon,{size:"sm",color:"currentColor"})}:{icon:n(879066)};return(0,i.jsx)(r.Z,{...T,timestamp:t.timestamp,compact:u,children:null!=t.messageReference?null==d?o.Z.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA_FORMATTED_WITH_MESSAGE_HOOK.format({usernameHook:I,username:E,messageOnClick:m}):o.Z.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_WITH_MESSAGE.format({usernameHook:I,username:E,pinsActionOnClick:d,messageOnClick:m}):null==d?o.Z.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA_FORMATTED_HOOK.format({usernameHook:I,username:E}):o.Z.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE.format({usernameHook:I,username:E,pinsActionOnClick:d})})}},65667:function(e,t,n){n.d(t,{Z:function(){return T}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(481060),r=n(739566),o=n(467679),c=n(778947),d=n(702346),u=n(787374),_=n(981631),E=n(674563),I=n(689938),m=n(923255);function T(e){let{message:t,compact:n,usernameHook:a}=e,T=(0,r.ZP)(t),h=a(T),{avatarSrc:N,eventHandlers:{onMouseEnter:f,onMouseLeave:p}}=(0,u.m)(!0),C=""!==t.content?new Date(t.content).toLocaleString(I.Z.getLocale(),{hour:"numeric",minute:"2-digit",month:"2-digit",day:"2-digit",year:"numeric"}):"";return(0,i.jsx)("div",{onMouseEnter:f,onMouseLeave:p,children:(0,i.jsx)(d.Z,{className:s()(m.mainContainer,{[m.compact]:n}),iconNode:n?null:(0,i.jsx)(u.S,{src:N}),iconContainerClassName:m.iconContainer,compact:n,children:(0,i.jsxs)("div",{className:s()(m.content,{[m.compact]:n}),children:[(0,i.jsx)(c.nD,{message:t,messageClassname:m.spanCorrection,className:s()(m.usernameContainer,m.spanCorrection,{[m.compact]:n}),username:(0,i.jsxs)("div",{className:m.spanCorrection,children:[(0,i.jsx)(l.Text,{variant:"text-md/normal",color:"text-brand",tag:"span",className:m.username,children:I.Z.Messages.GUILD_AUTOMOD_USERNAME}),(0,i.jsx)(o.Z,{type:E.Hb.SYSTEM_DM,className:m.systemTag})]}),compact:n,showTimestamp:!0}),(0,i.jsx)("div",{className:s()(m.__invalid_messageContent,{[m.compact]:n}),children:t.type===_.uaV.GUILD_INCIDENT_ALERT_MODE_ENABLED?I.Z.Messages.GUILD_SERVER_LOCKDOWN_ENABLED_SYSTEM_MESSAGE_SHORT.format({username:T.nick,usernameHook:h,time:C}):I.Z.Messages.GUILD_SERVER_LOCKDOWN_DISABLED_SYSTEM_MESSAGE.format({username:T.nick,usernameHook:h})})]})})})}},36664:function(e,t,n){n.d(t,{Ci:function(){return c},IF:function(){return o},k$:function(){return u},s0:function(){return d}});var i=n(735250);n(470079);var a=n(481060),s=n(702346),l=n(689938),r=n(277633);function o(e){let{message:t,compact:a,onClick:o}=e;return(0,i.jsx)(s.Z,{icon:n(508933),timestamp:t.timestamp,compact:a,contentClassName:r.messageContent,children:l.Z.Messages.SYSTEM_MESSAGE_GUILD_DISCOVERY_DISQUALIFIED.format({onClick:o})})}function c(e){let{message:t,compact:a}=e;return(0,i.jsx)(s.Z,{icon:n(324606),timestamp:t.timestamp,compact:a,contentClassName:r.messageContent,children:l.Z.Messages.SYSTEM_MESSAGE_GUILD_DISCOVERY_REQUALIFIED})}function d(e){let{message:t,compact:n}=e;return(0,i.jsx)(s.Z,{iconNode:(0,i.jsx)(a.CircleExclamationPointIcon,{size:"custom",width:20,height:20,color:"currentColor",className:r.alertIcon}),timestamp:t.timestamp,compact:n,contentClassName:r.messageContent,children:l.Z.Messages.SYSTEM_MESSAGE_GUILD_DISCOVERY_GRACE_PERIOD_INITIAL_WARNING})}function u(e){let{message:t,compact:n}=e;return(0,i.jsx)(s.Z,{iconNode:(0,i.jsx)(a.CircleExclamationPointIcon,{size:"custom",width:20,height:20,color:"currentColor",className:r.alertIcon}),timestamp:t.timestamp,compact:n,contentClassName:r.messageContent,children:l.Z.Messages.SYSTEM_MESSAGE_GUILD_DISCOVERY_GRACE_PERIOD_FINAL_WARNING})}},645092:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(481060),r=n(739566),o=n(467679),c=n(778947),d=n(702346),u=n(787374),_=n(674563),E=n(689938),I=n(923255);function m(e){let{message:t,compact:n,usernameHook:a}=e,m=(0,r.ZP)(t),T=a(m),{avatarSrc:h,eventHandlers:{onMouseEnter:N,onMouseLeave:f}}=(0,u.m)(!0);return(0,i.jsx)("div",{onMouseEnter:N,onMouseLeave:f,children:(0,i.jsx)(d.Z,{className:s()(I.mainContainer,{[I.compact]:n}),iconNode:n?null:(0,i.jsx)(u.S,{src:h}),iconContainerClassName:I.iconContainer,compact:n,children:(0,i.jsxs)("div",{className:s()(I.content,{[I.compact]:n}),children:[(0,i.jsx)(c.nD,{message:t,messageClassname:I.spanCorrection,className:s()(I.usernameContainer,I.spanCorrection,{[I.compact]:n}),username:(0,i.jsxs)("div",{className:I.spanCorrection,children:[(0,i.jsx)(l.Text,{variant:"text-md/normal",color:"text-brand",tag:"span",className:I.username,children:E.Z.Messages.GUILD_AUTOMOD_USERNAME}),(0,i.jsx)(o.Z,{type:_.Hb.SYSTEM_DM,className:I.systemTag})]}),compact:n,showTimestamp:!0}),(0,i.jsx)("div",{className:s()(I.__invalid_messageContent,{[I.compact]:n}),children:E.Z.Messages.GUILD_REPORT_FALSE_ALARM_SYSTEM_MESSAGE_SHORT.format({username:m.nick,usernameHook:T})})]})})})}},464139:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var a=n(120356),s=n.n(a),l=n(442837),r=n(481060),o=n(739566),c=n(430824),d=n(467679),u=n(778947),_=n(702346),E=n(787374),I=n(674563),m=n(689938),T=n(923255);function h(e){var t;let{message:n,compact:a,usernameHook:h,channel:N}=e,f=(0,l.e7)([c.Z],()=>c.Z.getGuild(N.guild_id)),p=(0,o.ZP)(n),C=h(p),{avatarSrc:g,eventHandlers:{onMouseEnter:S,onMouseLeave:A}}=(0,E.m)(!0);return(0,i.jsx)("div",{onMouseEnter:S,onMouseLeave:A,children:(0,i.jsx)(_.Z,{className:s()(T.mainContainer,{[T.compact]:a}),iconNode:a?null:(0,i.jsx)(E.S,{src:g}),iconContainerClassName:T.iconContainer,compact:a,children:(0,i.jsxs)("div",{className:s()(T.content,{[T.compact]:a}),children:[(0,i.jsx)(u.nD,{message:n,messageClassname:T.spanCorrection,className:s()(T.usernameContainer,T.spanCorrection,{[T.compact]:a}),username:(0,i.jsxs)("div",{className:T.spanCorrection,children:[(0,i.jsx)(r.Text,{variant:"text-md/normal",color:"text-brand",tag:"span",className:T.username,children:m.Z.Messages.GUILD_AUTOMOD_USERNAME}),(0,i.jsx)(d.Z,{type:I.Hb.SYSTEM_DM,className:T.systemTag})]}),compact:a,showTimestamp:!0}),(0,i.jsx)("div",{className:s()(T.__invalid_messageContent,{[T.compact]:a}),children:m.Z.Messages.GUILD_RAID_REPORT_SYSTEM_MESSAGE.format({username:p.nick,usernameHook:C,guildName:null!==(t=null==f?void 0:f.name)&&void 0!==t?t:""})})]})})})}},497481:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),s=n(739566),l=n(702346),r=n(368666),o=n(689938);function c(e){var t;let{message:n,channel:c,playingActivity:d,onJoinStream:u,usernameHook:_,compact:E}=e,I=(0,s.ZP)(n),m=null===(t=n.call)||void 0===t?void 0:t.duration,T=_(I),h=o.Z.Messages.SYSTEM_MESSAGE_GUILD_STREAM_ACTIVE.format({username:I.nick,activityName:null!=d?d.name:"unknown",onJoinStream:u,usernameHook:T});return null!=m&&(h=o.Z.Messages.SYSTEM_MESSAGE_GUILD_STREAM_ENDED.format({username:I.nick,duration:m.humanize(),channelName:c.name,usernameHook:T})),(0,i.jsx)(l.Z,{iconNode:null!=m?(0,i.jsx)(a.ScreenXIcon,{size:"custom",color:"currentColor",width:20,height:20}):(0,i.jsx)(r.ZP,{size:r.ZP.Sizes.SMALL}),timestamp:n.timestamp,compact:E,children:h})}},705116:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(481060),s=n(646504),l=n(430824),r=n(702346),o=n(981631),c=n(689938),d=n(154654);function u(e){let t,{compact:u,isOwner:_,channel:E}=e,I=()=>{let e=l.Z.getGuild(E.getGuildId());null!=e&&((0,a.openModalLazy)(async()=>{let{default:t}=await Promise.all([n.e("7654"),n.e("1187"),n.e("92875")]).then(n.bind(n,560114));return n=>(0,i.jsx)(t,{...n,guild:e,channel:E,source:o.t4x.INVITE_SYSTEM_MESSAGE})}),(0,s.w)())},m=(e,t)=>(0,i.jsx)(a.Anchor,{className:d.inviteLink,onClick:I,children:e},t);return t=u?(0,i.jsx)("div",{className:d.inviteContent,children:_?c.Z.Messages.SYSTEM_MESSAGE_INVITE_USERS_OWNER_COMPACT.format({inviteHook:m}):c.Z.Messages.SYSTEM_MESSAGE_INVITE_USERS_COMPACT.format({inviteHook:m})}):(0,i.jsxs)("div",{className:d.content,children:[(0,i.jsx)("div",{className:d.inviteHeader,children:_?c.Z.Messages.SYSTEM_MESSAGE_INVITE_USERS_OWNER:c.Z.Messages.SYSTEM_MESSAGE_INVITE_USERS}),(0,i.jsx)("div",{className:d.inviteContent,children:_?c.Z.Messages.SYSTEM_MESSAGE_INVITE_USERS_DESCRIPTION_OWNER:c.Z.Messages.SYSTEM_MESSAGE_INVITE_USERS_DESCRIPTION}),(0,i.jsx)(a.Button,{onClick:I,size:a.Button.Sizes.SMALL,className:d.inviteButton,children:c.Z.Messages.SYSTEM_MESSAGE_INVITE_USERS_BUTTON})]}),(0,i.jsx)(r.Z,{className:u?d.compact:d.inviteContent,iconNode:u?null:(0,i.jsx)("img",{alt:"",src:n(826926),width:40,height:40}),iconContainerClassName:d.iconContainer,compact:u,children:t})}},808641:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(739566),s=n(702346),l=n(689938);function r(e){let{message:t,otherUsername:r,usernameHook:o,otherUsernameHook:c,compact:d}=e,{nick:u}=(0,a.ZP)(t),_=o(),E=c(),I=l.Z.Messages.SYSTEM_MESSAGE_RECIPIENT_ADD_HOOK.format({username:u,usernameHook:_,otherUsername:r,otherUsernameHook:E});return(0,i.jsx)(s.Z,{icon:n(570111),timestamp:t.timestamp,compact:d,children:I})}},318175:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(739566),s=n(702346),l=n(689938);function r(e){let t,{message:r,usernameHook:o,otherUser:c,otherUsernameHook:d,compact:u,channel:_}=e,E=(0,a.ZP)(r),I=E.nick,m=o(E),T=(0,a.Sw)(c,_);if(null!=T&&null!=d){let e=d(T);t=l.Z.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_HOOK.format({username:I,usernameHook:m,otherUsername:T.nick,otherUsernameHook:e})}else t=l.Z.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_SELF_HOOK.format({username:I,usernameHook:m});return(0,i.jsx)(s.Z,{icon:n(474019),timestamp:r.timestamp,compact:u,children:t})}},75601:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),s=n(739566),l=n(702346),r=n(689938),o=n(518171);function c(e){let{message:t,compact:n,usernameHook:c}=e,d=(0,s.ZP)(t),u=c(d),_=r.Z.Messages.SYSTEM_MESSAGE_STAGE_END_HOOK.format({username:d.nick,usernameHook:u,topic:t.content});return(0,i.jsx)(l.Z,{className:o.stageSystemMessage,iconNode:(0,i.jsx)(a.StageIcon,{size:"md",color:"currentColor"}),iconContainerClassName:o.iconContainer,timestamp:t.timestamp,compact:n,children:_})}},595162:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),s=n(739566),l=n(702346),r=n(689938),o=n(518171);function c(e){let{message:t,compact:n,usernameHook:c}=e,d=(0,s.ZP)(t),u=c(d),_=r.Z.Messages.SYSTEM_MESSAGE_STAGE_RAISE_HAND_HOOK.format({username:d.nick,usernameHook:u});return(0,i.jsx)(l.Z,{className:o.stageSystemMessage,iconNode:(0,i.jsx)(a.HandRequestSpeakIcon,{size:"md",color:"currentColor"}),iconContainerClassName:o.iconContainer,timestamp:t.timestamp,compact:n,children:_})}},407818:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),s=n(739566),l=n(702346),r=n(689938),o=n(518171);function c(e){let{message:t,compact:n,usernameHook:c}=e,d=(0,s.ZP)(t),u=c(d),_=r.Z.Messages.SYSTEM_MESSAGE_STAGE_SPEAKER_HOOK.format({username:d.nick,usernameHook:u});return(0,i.jsx)(l.Z,{className:o.stageSystemMessage,iconNode:(0,i.jsx)(a.MicrophoneArrowRightIcon,{size:"md",color:"currentColor"}),iconContainerClassName:o.iconContainer,timestamp:t.timestamp,compact:n,children:_})}},24971:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var a=n(692547),s=n(481060),l=n(739566),r=n(702346),o=n(689938),c=n(518171);function d(e){let{message:t,compact:n,usernameHook:d}=e,u=(0,l.ZP)(t),_=d(u),E=o.Z.Messages.SYSTEM_MESSAGE_STAGE_START_HOOK.format({username:u.nick,usernameHook:_,topic:t.content});return(0,i.jsx)(r.Z,{className:c.stageSystemMessage,iconNode:(0,i.jsx)(s.StageIcon,{size:"md",color:a.Z.unsafe_rawColors.GREEN_360.css}),iconContainerClassName:c.iconContainer,timestamp:t.timestamp,compact:n,children:E})}},314061:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var a=n(481060),s=n(739566),l=n(702346),r=n(689938),o=n(518171);function c(e){let{message:t,compact:n,usernameHook:c}=e,d=(0,s.ZP)(t),u=c(d),_=r.Z.Messages.SYSTEM_MESSAGE_STAGE_TOPIC_HOOK.format({username:d.nick,usernameHook:u,topic:t.content});return(0,i.jsx)(l.Z,{className:o.stageSystemMessage,iconNode:(0,i.jsx)(a.StageIcon,{size:"md",color:"currentColor"}),iconContainerClassName:o.iconContainer,timestamp:t.timestamp,compact:n,children:_})}},501217:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var a=n(442837),s=n(481060),l=n(739566),r=n(592125),o=n(702346),c=n(689938),d=n(54441);function u(e){var t;let{message:n,compact:u,usernameHook:_,onClickThread:E,onClickViewThreads:I,onContextMenuThread:m}=e,T=(0,l.ZP)(n),h=_(T),N=(0,a.e7)([r.Z],()=>{var e;return r.Z.getChannel(null===(e=n.messageReference)||void 0===e?void 0:e.channel_id)}),f=c.Z.Messages.SYSTEM_MESSAGE_THREAD_CREATED.format({actorName:T.nick,actorHook:h,threadName:null!==(t=null==N?void 0:N.name)&&void 0!==t?t:n.content,threadOnClick:{onClick:E,onContextMenu:m},viewThreadsOnClick:I});return(0,i.jsx)(o.Z,{iconNode:(0,i.jsx)(s.ThreadIcon,{size:"md",color:"currentColor",className:d.icon}),timestamp:n.timestamp,compact:u,children:f})}},908648:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(739566),s=n(702346),l=n(689938);function r(e){let{message:t,channel:r,targetUser:o,actorUsernameHook:c,targetUsernameHook:d,compact:u}=e,_=(0,a.ZP)(t),E=(0,a.Sw)(o,r),I=c(_),m=d(null!=E?E:void 0),T=l.Z.Messages.SYSTEM_MESSAGE_THREAD_MEMBER_ADD.format({actorName:_.nick,actorHook:I,targetName:null==E?void 0:E.nick,targetHook:m});return(0,i.jsx)(s.Z,{icon:n(570111),timestamp:t.timestamp,compact:u,children:T})}},774200:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(739566),s=n(702346),l=n(689938);function r(e){let{message:t,channel:r,targetUser:o,actorUsernameHook:c,targetUsernameHook:d,compact:u}=e,_=(0,a.ZP)(t),E=(0,a.Sw)(o,r),I=c(_),m=d(null!=E?E:void 0),T=l.Z.Messages.SYSTEM_MESSAGE_THREAD_MEMBER_REMOVE.format({actorName:_.nick,actorHook:I,targetName:null==E?void 0:E.nick,targetHook:m});return(0,i.jsx)(s.Z,{icon:n(474019),timestamp:t.timestamp,compact:u,children:T})}},690249:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var a=n(481060),s=n(702346),l=n(689938),r=n(101701);function o(e){let{message:t,compact:n}=e;return(0,i.jsx)(s.Z,{iconNode:(0,i.jsx)(a.ThreadIcon,{size:"md",color:"currentColor",className:r.icon}),timestamp:t.timestamp,compact:n,children:l.Z.Messages.THREAD_STARTER_MESSAGE_NOT_LOADED})}},658975:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var a=n(739566),s=n(702346),l=n(352736);function r(e){let{message:t,usernameHook:r,compact:o,guildId:c}=e,d=(0,a.ZP)(t),u=r(d),_=l.Z.getWelcomeMessageKind(c),E=l.Z.getSystemMessageUserJoin(t.id,_).format({username:d.nick,usernameHook:u});return(0,i.jsx)(s.Z,{icon:n(570111),timestamp:t.timestamp,compact:o,children:E})}},147507:function(e,t,n){n.d(t,{ZP:function(){return G}}),n(47120);var i,a,s,l,r=n(735250),o=n(470079),c=n(120356),d=n.n(c),u=n(887024),_=n(772848),E=n(468194),I=n(477690),m=n(481060),T=n(230711),h=n(745510),N=n(739566),f=n(64078),p=n(29270),C=n(709586),g=n(482207),S=n(702346),A=n(267642),R=n(981631),x=n(689938),O=n(343774);(s=i||(i={})).ENTER="enter",s.CONFETTI="confetti",s.LEAF_PEEL="leaf_peel",s.LEAF_FALL="leaf_fall",s.EXIT="exit";let M={enter:{BEG:0,END:22},confetti:{BEG:23,END:119},leaf_peel:{BEG:120,END:160},leaf_fall:{BEG:161,END:163},exit:{BEG:164,END:200}};(l=a||(a={})).TOP_LEFT="TOP_LEFT",l.TOP_RIGHT="TOP_RIGHT",l.BOTTOM_LEFT="BOTTOM_LEFT",l.BOTTOM_RIGHT="BOTTOM_RIGHT";let v=["TOP_LEFT","TOP_RIGHT"],L=(0,E.Mg)(I.Z.USER_PREMIUM_GUILD_SUBSCRIPTION_EASTER_EGG_SIZE),Z={leafPosition:{x:85,y:125},leafRotationDirection:1},P=Object.freeze({TOP_LEFT:{getConfettiPosition:e=>({x:e-11,y:e-125}),confettiVelocityDirection:{x:1,y:1},leafPosition:{x:100,y:144},leafRotationDirection:1},TOP_RIGHT:{getConfettiPosition:e=>({x:11,y:e-125}),confettiVelocityDirection:{x:-1,y:1},leafPosition:{x:90,y:144},leafRotationDirection:-1},BOTTOM_LEFT:{...Z,getConfettiPosition:e=>({x:e-11,y:125}),confettiVelocityDirection:{x:1,y:-1}},BOTTOM_RIGHT:{...Z,getConfettiPosition:e=>({x:11,y:125}),confettiVelocityDirection:{x:-1,y:-1}}}),b="falling-leaf",D=["#61D5B2"],j=n(303893),U=n(808392),y=[j,U];function B(){return n.e("60005").then(n.t.bind(n,931152,19)).then(e=>{let{default:t}=e;return t})}function k(e){let{onAnimationComplete:t,onClick:n,position:i,size:s}=e,l=o.useRef(null),[c,E]=o.useState(null),[I]=o.useState(null!=i?i:function(){switch(Math.floor(Math.random()*Object.keys(a).length)){case 0:return"TOP_LEFT";case 2:return"TOP_RIGHT";case 3:return"BOTTOM_LEFT";default:return"BOTTOM_RIGHT"}}()),{createMultipleConfettiAt:T,confettiCanvas:N}=o.useContext(h.h),[f,p]=o.useState(null),C=(0,u.uR)(N,f),g=function(e,t){if(null==e)return"enter";switch(e){case"enter":return"confetti";case"confetti":if(v.includes(t))return"leaf_peel";return"exit";case"leaf_peel":return"leaf_fall";case"leaf_fall":return"exit";case"exit":return"enter"}}(c,I),S=v.includes(I),A=S&&"exit"===c,R=o.useCallback(e=>{E(e)},[]),x=o.useCallback(()=>{"exit"===c&&(null==t||t())},[t,c]),Z=o.useCallback(e=>{l.current=e},[]);return o.useEffect(()=>{if("confetti"===c){let{confettiVelocityDirection:e}=P[I],t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L,i=null==e?void 0:e.getBoundingClientRect();if(null==i)return{x:0,y:0};let a=P[t].getConfettiPosition(n);return{x:i.left+a.x,y:i.top+a.y}}(l.current,I,s);T(t.x,t.y,{velocity:{type:"static-random",minValue:{x:10*e.x,y:80*e.y},maxValue:{x:80*e.x,y:180*e.y}}})}},[T,I,c,s]),o.useEffect(()=>{if(S&&"leaf_fall"===c){let e=P[I].leafRotationDirection;C.createConfetti({id:"".concat(b,"-").concat((0,_.Z)()),position:{type:"static",value:function(e,t){let n=null==e?void 0:e.getBoundingClientRect();if(null==n)return{x:0,y:0};let i=P[t];return{x:n.left+i.leafPosition.x,y:n.top+i.leafPosition.y}}(l.current,I)},size:{type:"static",value:45},rotation:{type:"linear-random",minValue:{x:0,y:0,z:0},maxValue:{x:0,y:0,z:0},minAddValue:{x:0,y:0,z:8*e},maxAddValue:{x:0,y:0,z:12*e}}},{sprite:"TOP_LEFT"===I?j:U})}},[S,C,I,c]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Ji,{ref:p,sprites:y,colors:D,spriteWidth:45,spriteHeight:45}),(0,r.jsx)(m.Clickable,{onClick:n,className:d()(O.easterEggAnimationClickTarget,{[O.easterEggAnimationClickTargetTopLeft]:"TOP_LEFT"===I,[O.easterEggAnimationClickTargetTopRight]:"TOP_RIGHT"===I,[O.easterEggAnimationClickTargetBottomLeft]:"BOTTOM_LEFT"===I,[O.easterEggAnimationClickTargetBottomRight]:"BOTTOM_RIGHT"===I}),children:(0,r.jsx)(m.SequencedLottieAnimation,{animationRef:Z,className:d()(O.easterEggAnimation,{[O.easterEggAnimationHideLeaf]:A}),nextScene:g,sceneSegments:M,onScenePlay:R,onSceneComplete:x,importData:B,pauseWhileUnfocused:!1})})]})}function G(e){let t,{message:n,compact:i,guild:a,usernameHook:s,onClickMessage:l}=e,c=function(e){switch(e.type){case R.uaV.GUILD_BOOST_TIER_1:return R.Eu4.TIER_1;case R.uaV.GUILD_BOOST_TIER_2:return R.Eu4.TIER_2;case R.uaV.GUILD_BOOST_TIER_3:return R.Eu4.TIER_3}return null}(n),d=(0,p.Z)(n),{createMultipleConfettiAt:u,addClickListener:_}=o.useContext(h.h),[E,I]=o.useState(!1),M=o.useRef(null),{reducedMotion:v}=o.useContext(m.AccessibilityPreferencesContext),L=(0,N.ZH)(n),Z=L.nick,P=s(L);t=null==c||null==a?d>1?x.Z.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_SUBSCRIBED_MANY_HOOK.format({username:Z,usernameHook:P,numSubscriptions:d}):x.Z.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_SUBSCRIBED_HOOK.format({username:Z,usernameHook:P}):d>1?x.Z.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_SUBSCRIBED_MANY_ACHIEVED_TIER_HOOK.format({username:Z,usernameHook:P,numSubscriptions:d,guildName:a.name,newTierName:(0,A.nW)(c)}):x.Z.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_SUBSCRIBED_ACHIEVED_TIER_HOOK.format({username:Z,usernameHook:P,guildName:a.name,newTierName:(0,A.nW)(c)});let D=o.useCallback(()=>{if(!v.enabled)if(E||0!==Math.floor(50*Math.random())){var e;let t=null===(e=M.current)||void 0===e?void 0:e.getBoundingClientRect();if(null==t)return;u(t.left+t.width/2,t.top+t.height/2)}else I(!0)},[u,v,E]),j=o.useCallback(()=>{I(!1)},[]),U=o.useCallback(()=>{(0,f.AI)({settingsVisible:!0}),T.Z.open(R.oAB.POGGERMODE),I(!1)},[]),y=o.useCallback((e,t)=>{(null==t?void 0:t.id.startsWith(b))&&U()},[U]);o.useEffect(()=>_(y));let B=(0,r.jsx)(m.Clickable,{className:O.iconWrapper,innerRef:M,onClick:l,children:(0,r.jsx)(C.Z,{className:O.icon,onMouseEnter:D})});return(0,r.jsxs)(S.Z,{iconNode:B,timestamp:n.timestamp,compact:i,children:[(0,r.jsx)("div",{onClick:l,className:O.message,children:t}),E?(0,r.jsx)(g.ZP,{children:(0,r.jsx)("div",{className:O.cannonWrapper,children:(0,r.jsx)(k,{onAnimationComplete:j,onClick:U})})}):null]})}},70613:function(e,t,n){n.d(t,{Z:function(){return d}}),n(47120);var i=n(735250),a=n(470079),s=n(887024);let l=[n(992134)],r=["#FFFFFF"],o=1e3/60,c={velocity:{type:"static-random",minValue:{x:0,y:1},maxValue:{x:3,y:3}},rotation:{type:"linear-random",minValue:{x:0,y:0,z:0},maxValue:{x:0,y:0,z:360},minAddValue:{x:0,y:0,z:-5},maxAddValue:{x:0,y:0,z:5}},size:{type:"static-random",minValue:2,maxValue:6},dragCoefficient:{type:"static",value:{x:.05,y:.05}},opacity:{type:"static",value:.3}};function d(e){let{className:t,firing:n=!0,wind:d=2}=e,[u,_]=a.useState(null),[E,I]=a.useState(null),m=(0,s.uR)(E,u),T=a.useMemo(()=>new s.qA({wind:d}),[d]),h=a.useCallback(()=>{let e=null==E?void 0:E.getCanvas();if(null==e)return;let t=e.getBoundingClientRect();m.createConfetti({...c,position:{type:"static-random",minValue:{x:-t.width/2,y:-6},maxValue:{x:t.width,y:-6}}})},[m,E]);return a.useEffect(()=>{let e=n?setInterval(h,o):null;return()=>clearInterval(e)},[n,h]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.O_,{ref:I,className:t,environment:T}),(0,i.jsx)(s.Ji,{ref:_,colors:r,sprites:l,spriteWidth:6,spriteHeight:6})]})}},368666:function(e,t,n){n.d(t,{eE:function(){return E},jZ:function(){return a}});var i,a,s=n(735250);n(470079);var l=n(120356),r=n.n(l),o=n(692547),c=n(481060),d=n(689938),u=n(733564);(i=a||(a={})).RED="RED",i.GRAY="GRAY";let _={LARGE:u.liveLarge,SMALL:u.liveSmall},E={[c.BadgeShapes.ROUND]:u.liveShapeRound,[c.BadgeShapes.ROUND_LEFT]:u.liveShapeRoundLeft,[c.BadgeShapes.ROUND_RIGHT]:u.liveShapeRoundRight,[c.BadgeShapes.SQUARE]:""};function I(e){let{className:t,style:n,shape:i=c.BadgeShapes.ROUND,look:a="RED",size:l=_.LARGE}=e;return"RED"===a?(0,s.jsx)(c.TextBadge,{text:d.Z.Messages.LIVE,className:r()(t,u.live,l),color:o.Z.unsafe_rawColors.RED_400.css,shape:E[i],style:n}):(0,s.jsx)(c.TextBadge,{text:d.Z.Messages.LIVE,className:r()(t,u.live,l,u.grey),disableColor:!0,shape:E[i],style:n})}I.Looks=a,I.Sizes=_,t.ZP=I},782605:function(e,t,n){n.d(t,{O:function(){return c},l:function(){return o}});var i=n(594174),a=n(63063),s=n(74538),l=n(981631),r=n(689938);function o(e){switch(e){case l.evJ.TOO_MANY_USER_GUILDS:let t=i.default.getCurrentUser(),n=s.ZP.canUseIncreasedGuildCap(t)||(null==t?void 0:t.isStaff())?l.tHP:l.DZw;return{title:r.Z.Messages.TOO_MANY_USER_GUILDS_TITLE_2.format({quantity:n}),description:r.Z.Messages.TOO_MANY_USER_GUILDS_DESCRIPTION};case l.evJ.GUILD_AT_CAPACITY:return{title:r.Z.Messages.SERVER_IS_CURRENTLY_FULL,description:r.Z.Messages.PLEASE_TRY_AGAIN_LATER};case l.evJ.GUILD_JOIN_INVITE_LIMITED_ACCESS:return{title:r.Z.Messages.GUILD_LIMITED_ACCESS_INFO_MODAL_HEADING,description:r.Z.Messages.PLEASE_TRY_AGAIN_LATER};default:return null}}function c(e){switch(e){case l.evJ.TOO_MANY_USER_GUILDS:return r.Z.Messages.TOO_MANY_USER_GUILDS_DESCRIPTION;case l.evJ.GUILD_AT_CAPACITY:return r.Z.Messages.MAX_GUILD_MEMBERS_REACHED_ERROR;case l.evJ.INVALID_COUNTRY_CODE:return r.Z.Messages.INVALID_COUNTRY_CODE;case l.evJ.INVALID_CANNOT_FRIEND_SELF:return r.Z.Messages.INVALID_CANNOT_FRIEND_SELF;case l.evJ.INVITES_DISABLED:return r.Z.Messages.INVITES_DISABLED_MODAL_DESCRIPTION.format({articleLink:a.Z.getArticleURL(l.BhN.INVITE_DISABLED)});default:return r.Z.Messages.INVITE_MODAL_ERROR_DEFAULT}}},814225:function(e,t,n){n.d(t,{P3:function(){return _},ZK:function(){return u},en:function(){return I}}),n(757143),n(47120);var i=n(913527),a=n.n(i);if(12633==n.j)var s=n(266067);n(358085),n(73346);var l=n(981631),r=n(689938);let o={},c={},d=Object.freeze({ALL:-1,...l.EKQ});function u(e){let t=(0,s.LX)(e,{path:l.Z5c.APPLICATION_STORE_LISTING_SKU(":skuId",":slug")});return null!=t?t.params.skuId:null}function _(e){switch(e){case l.EKQ.ACTION:return r.Z.Messages.APPLICATION_STORE_GENRE_ACTION;case l.EKQ.ACTION_RPG:return r.Z.Messages.APPLICATION_STORE_GENRE_ACTION_RPG;case l.EKQ.BRAWLER:return r.Z.Messages.APPLICATION_STORE_GENRE_BRAWLER;case l.EKQ.HACK_AND_SLASH:return r.Z.Messages.APPLICATION_STORE_GENRE_HACK_AND_SLASH;case l.EKQ.PLATFORMER:return r.Z.Messages.APPLICATION_STORE_GENRE_PLATFORMER;case l.EKQ.STEALTH:return r.Z.Messages.APPLICATION_STORE_GENRE_STEALTH;case l.EKQ.SURVIVAL:return r.Z.Messages.APPLICATION_STORE_GENRE_SURVIVAL;case l.EKQ.ADVENTURE:return r.Z.Messages.APPLICATION_STORE_GENRE_ADVENTURE;case l.EKQ.ACTION_ADVENTURE:return r.Z.Messages.APPLICATION_STORE_GENRE_ACTION_ADVENTURE;case l.EKQ.METROIDVANIA:return r.Z.Messages.APPLICATION_STORE_GENRE_METROIDVANIA;case l.EKQ.OPEN_WORLD:return r.Z.Messages.APPLICATION_STORE_GENRE_OPEN_WORLD;case l.EKQ.PSYCHOLOGICAL_HORROR:return r.Z.Messages.APPLICATION_STORE_GENRE_PSYCHOLOGICAL_HORROR;case l.EKQ.SANDBOX:return r.Z.Messages.APPLICATION_STORE_GENRE_SANDBOX;case l.EKQ.SURVIVAL_HORROR:return r.Z.Messages.APPLICATION_STORE_GENRE_SURVIVAL_HORROR;case l.EKQ.VISUAL_NOVEL:return r.Z.Messages.APPLICATION_STORE_GENRE_VISUAL_NOVEL;case l.EKQ.DRIVING_RACING:return r.Z.Messages.APPLICATION_STORE_GENRE_DRIVING_RACING;case l.EKQ.VEHICULAR_COMBAT:return r.Z.Messages.APPLICATION_STORE_GENRE_VEHICULAR_COMBAT;case l.EKQ.MASSIVELY_MULTIPLAYER:return r.Z.Messages.APPLICATION_STORE_GENRE_MASSIVELY_MULTIPLAYER;case l.EKQ.MMORPG:return r.Z.Messages.APPLICATION_STORE_GENRE_MMORPG;case l.EKQ.ROLE_PLAYING:return r.Z.Messages.APPLICATION_STORE_GENRE_ROLE_PLAYING;case l.EKQ.DUNGEON_CRAWLER:return r.Z.Messages.APPLICATION_STORE_GENRE_DUNGEON_CRAWLER;case l.EKQ.ROGUELIKE:return r.Z.Messages.APPLICATION_STORE_GENRE_ROGUELIKE;case l.EKQ.SHOOTER:return r.Z.Messages.APPLICATION_STORE_GENRE_SHOOTER;case l.EKQ.LIGHT_GUN:return r.Z.Messages.APPLICATION_STORE_GENRE_LIGHT_GUN;case l.EKQ.SHOOT_EM_UP:return r.Z.Messages.APPLICATION_STORE_GENRE_SHOOT_EM_UP;case l.EKQ.FPS:return r.Z.Messages.APPLICATION_STORE_GENRE_FPS;case l.EKQ.DUAL_JOYSTICK_SHOOTER:return r.Z.Messages.APPLICATION_STORE_GENRE_DUAL_JOYSTICK_SHOOTER;case l.EKQ.SIMULATION:return r.Z.Messages.APPLICATION_STORE_GENRE_SIMULATION;case l.EKQ.FLIGHT_SIMULATOR:return r.Z.Messages.APPLICATION_STORE_GENRE_FLIGHT_SIMULATOR;case l.EKQ.TRAIN_SIMULATOR:return r.Z.Messages.APPLICATION_STORE_GENRE_TRAIN_SIMULATOR;case l.EKQ.LIFE_SIMULATOR:return r.Z.Messages.APPLICATION_STORE_GENRE_LIFE_SIMULATOR;case l.EKQ.FISHING:return r.Z.Messages.APPLICATION_STORE_GENRE_FISHING;case l.EKQ.SPORTS:return r.Z.Messages.APPLICATION_STORE_GENRE_SPORTS;case l.EKQ.BASEBALL:return r.Z.Messages.APPLICATION_STORE_GENRE_BASEBALL;case l.EKQ.BASKETBALL:return r.Z.Messages.APPLICATION_STORE_GENRE_BASKETBALL;case l.EKQ.BILLIARDS:return r.Z.Messages.APPLICATION_STORE_GENRE_BILLIARDS;case l.EKQ.BOWLING:return r.Z.Messages.APPLICATION_STORE_GENRE_BOWLING;case l.EKQ.BOXING:return r.Z.Messages.APPLICATION_STORE_GENRE_BOXING;case l.EKQ.FOOTBALL:return r.Z.Messages.APPLICATION_STORE_GENRE_FOOTBALL;case l.EKQ.GOLF:return r.Z.Messages.APPLICATION_STORE_GENRE_GOLF;case l.EKQ.HOCKEY:return r.Z.Messages.APPLICATION_STORE_GENRE_HOCKEY;case l.EKQ.SKATEBOARDING_SKATING:return r.Z.Messages.APPLICATION_STORE_GENRE_SKATEBOARDING_SKATING;case l.EKQ.SNOWBOARDING_SKIING:return r.Z.Messages.APPLICATION_STORE_GENRE_SNOWBOARDING_SKIING;case l.EKQ.SOCCER:return r.Z.Messages.APPLICATION_STORE_GENRE_SOCCER;case l.EKQ.TRACK_FIELD:return r.Z.Messages.APPLICATION_STORE_GENRE_TRACK_FIELD;case l.EKQ.SURFING_WAKEBOARDING:return r.Z.Messages.APPLICATION_STORE_GENRE_SURFING_WAKEBOARDING;case l.EKQ.WRESTLING:return r.Z.Messages.APPLICATION_STORE_GENRE_WRESTLING;case l.EKQ.STRATEGY:return r.Z.Messages.APPLICATION_STORE_GENRE_STRATEGY;case l.EKQ.FOUR_X:return r.Z.Messages.APPLICATION_STORE_GENRE_FOUR_X;case l.EKQ.ARTILLERY:return r.Z.Messages.APPLICATION_STORE_GENRE_ARTILLERY;case l.EKQ.RTS:return r.Z.Messages.APPLICATION_STORE_GENRE_RTS;case l.EKQ.TOWER_DEFENSE:return r.Z.Messages.APPLICATION_STORE_GENRE_TOWER_DEFENSE;case l.EKQ.TURN_BASED_STRATEGY:return r.Z.Messages.APPLICATION_STORE_GENRE_TURN_BASED_STRATEGY;case l.EKQ.WARGAME:return r.Z.Messages.APPLICATION_STORE_GENRE_WARGAME;case l.EKQ.MOBA:return r.Z.Messages.APPLICATION_STORE_GENRE_MOBA;case l.EKQ.FIGHTING:return r.Z.Messages.APPLICATION_STORE_GENRE_FIGHTING;case l.EKQ.PUZZLE:return r.Z.Messages.APPLICATION_STORE_GENRE_PUZZLE;case l.EKQ.CARD_GAME:return r.Z.Messages.APPLICATION_STORE_GENRE_CARD_GAME;case l.EKQ.EDUCATION:return r.Z.Messages.APPLICATION_STORE_GENRE_EDUCATION;case l.EKQ.FITNESS:return r.Z.Messages.APPLICATION_STORE_GENRE_FITNESS;case l.EKQ.GAMBLING:return r.Z.Messages.APPLICATION_STORE_GENRE_GAMBLING;case l.EKQ.MUSIC_RHYTHM:return r.Z.Messages.APPLICATION_STORE_GENRE_MUSIC_RHYTHM;case l.EKQ.PARTY_MINI_GAME:return r.Z.Messages.APPLICATION_STORE_GENRE_PARTY_MINI_GAME;case l.EKQ.PINBALL:return r.Z.Messages.APPLICATION_STORE_GENRE_PINBALL;case l.EKQ.TRIVIA_BOARD_GAME:return r.Z.Messages.APPLICATION_STORE_GENRE_TRIVIA_BOARD_GAME;case l.EKQ.TACTICAL:return r.Z.Messages.APPLICATION_STORE_GENRE_TACTICAL;case l.EKQ.INDIE:return r.Z.Messages.APPLICATION_STORE_GENRE_INDIE;case l.EKQ.ARCADE:return r.Z.Messages.APPLICATION_STORE_GENRE_ARCADE;case l.EKQ.POINT_AND_CLICK:return r.Z.Messages.APPLICATION_STORE_GENRE_POINT_AND_CLICK;default:return r.Z.Messages.APPLICATION_STORE_GENRE_MISCELLANEOUS}}Object.keys(d).forEach(e=>{let t=e.toLowerCase().replace(/_/g,"-"),n=d[e];o[t]=n,c[n]=t});let E=[["YYYY-MM-DD","MMMM DD, Y"],["YYYY-MM","MMMM Y"],["MM-DD","MMMM DD"],["MM","MMMM"],["YYYY","Y"]];function I(e){let{preorderReleaseAt:t,preorderApproximateReleaseDate:n}=e;if(null!=t)return t.format("MMMM DD");if(null==n)return null;for(let e=0;e<E.length;e++){let[t,i]=E[e],s=a()(n,t,!0);if(s.isValid())return s.format(i)}return n}},35818:function(e,t,n){n.d(t,{Q:function(){return a}});let i=new(n(107965)).Z;function a(){i.quitAndInstall()}},181389:function(e,t,n){n.d(t,{Jl:function(){return r},g9:function(){return o}}),n(653041);var i=n(395041);n(349033);var a=n(999650);n(72006);var s=n(405656);n(981631);let l={[a.Qe.FILTER]:i.w,[a.Qe.ANSWER]:i.O};function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return Object.keys(e).forEach(n=>{let i=e[n];t.push({strategy:(e,t,i)=>(function(e,t,n,i){t.findEntityRanges(t=>{let n=t.getEntity();return null!==n&&e.getEntity(n).getType()===i},n)})(i,e,t,n),component:l[i.componentType]})}),t}function o(e,t){let{focusOffset:n,anchorOffset:i}=t.getSelection();return(0,s.g9)(e,n,i)}},320285:function(e,t,n){var i,a;n.d(t,{p:function(){return i}}),(a=i||(i={})).RAID="raid",a.MENTION_RAID="mention_raid",a.ACTIVITY_ALERTS_ENABLED="activity_alerts_enabled",a.INTERACTION_BLOCKED="interaction_blocked"},688813:function(e,t,n){var i,a;n.d(t,{$:function(){return i}}),(a=i||(i={})).JOIN_RAID="JOIN_RAID",a.DM_RAID="DM_RAID",a.MENTION_RAID="MENTION_RAID"},596791:function(e,t,n){e.exports={premiumIcon:"premiumIcon_d572b7",platformIcon:"platformIcon_d572b7",iconWindows:"iconWindows_d572b7 icon_d572b7",iconApple:"iconApple_d572b7 icon_d572b7",iconAndroid:"iconAndroid_d572b7 icon_d572b7",textLinkSmall:"textLinkSmall_d572b7 textLink_d572b7",testModeSKUSelector:"testModeSKUSelector_d572b7",premiumLogo:"premiumLogo_d572b7",premiumText:"premiumText_d572b7",premiumAction:"premiumAction_d572b7",ellipsis:"ellipsis_d572b7",quarantineNotice:"quarantineNotice_d572b7",quarantineLearnMoreLink:"quarantineLearnMoreLink_d572b7"}},555194:function(e,t,n){e.exports={messagesPopoutWrap:"messagesPopoutWrap_ac90a2",header:"header_ac90a2",footer:"footer_ac90a2",loadingMore:"loadingMore_ac90a2",hasMore:"hasMore_ac90a2",messagesPopout:"messagesPopout_ac90a2",messageGroupWrapper:"messageGroupWrapper_ac90a2",messageGroupCozy:"messageGroupCozy_ac90a2",scrollingFooterWrap:"scrollingFooterWrap_ac90a2",emptyPlaceholder:"emptyPlaceholder_ac90a2",image:"image_ac90a2",loadingPlaceholder:"loadingPlaceholder_ac90a2",body:"body_ac90a2",actionButtons:"actionButtons_ac90a2",jumpButton:"jumpButton_ac90a2",loading:"loading_ac90a2",visible:"visible_ac90a2",closeIcon:"closeIcon_ac90a2"}},634936:function(e,t,n){e.exports={container:"container_eedf95",queryContainer:"queryContainer_eedf95",queryShortcut:"queryShortcut_eedf95",queryText:"queryText_eedf95",keyCombo:"keyCombo_eedf95",focused:"focused_eedf95"}},748848:function(e,t,n){e.exports={searchAnswer:"searchAnswer_b0fa94",searchFilter:"searchFilter_b0fa94"}},199623:function(e,t,n){e.exports={playButton:"playButton_db7222",playButtonContents:"playButtonContents_db7222",disabledButtonWrapper:"disabledButtonWrapper_db7222",disabledButtonOverlay:"disabledButtonOverlay_db7222",disabledButtonColor:"disabledButtonColor_db7222",buttonText:"buttonText_db7222",dropdownArrowHitbox:"dropdownArrowHitbox_db7222",arrowSeparator:"arrowSeparator_db7222",dropdownArrow:"dropdownArrow_db7222"}},226689:function(e,t,n){e.exports={dropdownArrow:"dropdownArrow_bbec91",arrowSeparator:"arrowSeparator_bbec91",dropdownSmall:"dropdownSmall_bbec91 dropdownArrowHitbox_bbec91",dropdownMedium:"dropdownMedium_bbec91 dropdownArrowHitbox_bbec91",dropdownLarge:"dropdownLarge_bbec91 dropdownArrowHitbox_bbec91"}},329279:function(e,t,n){e.exports={progress:"progress_e5f4c6",disabledButtonWrapper:"disabledButtonWrapper_e5f4c6",disabledButtonOverlay:"disabledButtonOverlay_e5f4c6",disabledButtonColor:"disabledButtonColor_e5f4c6"}},162176:function(e,t,n){e.exports={row:"row_b8c2de",icon:"icon_b8c2de",salePercentage:"salePercentage_b8c2de",originalAmount:"originalAmount_b8c2de",directoryTilePrice:"directoryTilePrice_b8c2de",directoryHeroPrice:"directoryHeroPrice_b8c2de",directoryHeroPricePremium:"directoryHeroPricePremium_b8c2de",directorySearchPrice:"directorySearchPrice_b8c2de",listingPrice:"listingPrice_b8c2de",embedPrice:"embedPrice_b8c2de"}},624179:function(e,t,n){e.exports={splashContainer:"splashContainer_ac2875",splashContainerHorizontal:"splashContainerHorizontal_ac2875",priceOs:"priceOs_ac2875",platform:"platform_ac2875",exclusiveRegular:"exclusiveRegular_ac2875",exclusivePlaying:"exclusivePlaying_ac2875",splashVideo:"splashVideo_ac2875",splashPlaceholder:"splashPlaceholder_ac2875",tilePrice:"tilePrice_ac2875",tilePriceWithVisibleBuyButton:"tilePriceWithVisibleBuyButton_ac2875 tilePrice_ac2875"}},285207:function(e,t,n){e.exports={embedHorizontal:"embedHorizontal_dd276f",embedVertical:"embedVertical_dd276f",loadingDescription:"loadingDescription_dd276f",loadingBackgroundWrapper:"loadingBackgroundWrapper_dd276f",loadingBackgroundWrapperHorizontal:"loadingBackgroundWrapperHorizontal_dd276f",loadingImage:"loadingImage_dd276f",loadingImageHorizontal:"loadingImageHorizontal_dd276f",loadingBackground:"loadingBackground_dd276f"}},672188:function(e,t,n){e.exports={tile:"tile_ab47a1",tileHorizontal:"tileHorizontal_ab47a1",title:"title_ab47a1",tagline:"tagline_ab47a1",actions:"actions_ab47a1",media:"media_ab47a1",mediaHorizontal:"mediaHorizontal_ab47a1",description:"description_ab47a1"}},353715:function(e,t,n){e.exports={closeButton:"closeButton_e3c9f3",description:"description_e3c9f3",conflictButton:"conflictButton_e3c9f3",linkButtonSize:"linkButtonSize_e3c9f3",linkButton:"linkButton_e3c9f3",retryButton:"retryButton_e3c9f3",conflictButtonInner:"conflictButtonInner_e3c9f3",buttonBody:"buttonBody_e3c9f3",timestamp:"timestamp_e3c9f3",choiceWrapper:"choiceWrapper_e3c9f3",choiceLine:"choiceLine_e3c9f3",choiceTitle:"choiceTitle_e3c9f3 title_e3c9f3",conflictTitle:"conflictTitle_e3c9f3 title_e3c9f3",conflictUploadArt:"conflictUploadArt_e3c9f3 conflictArt_e3c9f3 art_e3c9f3",conflictDownloadArt:"conflictDownloadArt_e3c9f3 conflictArt_e3c9f3 art_e3c9f3",errorArt:"errorArt_e3c9f3 art_e3c9f3",modal:"modal_e3c9f3"}},366838:function(e,t,n){e.exports={metadata:"metadata_ff31dd",libraryLink:"libraryLink_ff31dd",libraryIcon:"libraryIcon_ff31dd",invalidPoop:"invalidPoop_ff31dd",invalidPoopHorizontal:"invalidPoopHorizontal_ff31dd",legacySeasonalGiftEmbedWrapper:"legacySeasonalGiftEmbedWrapper_ff31dd",customGiftEmbedWrapper:"customGiftEmbedWrapper_ff31dd",giftEmbedWrapperHorizontal:"giftEmbedWrapperHorizontal_ff31dd",snow:"snow_ff31dd",legacySeasonalGiftEmbedBox:"legacySeasonalGiftEmbedBox_ff31dd",legacySeasonalGiftEmbedBoxHorizontal:"legacySeasonalGiftEmbedBoxHorizontal_ff31dd",customGiftEmbedBox:"customGiftEmbedBox_ff31dd",customGiftEmbedBoxHorizontal:"customGiftEmbedBoxHorizontal_ff31dd",headerIcon:"headerIcon_ff31dd",collectiblesEmbedWrapper:"collectiblesEmbedWrapper_ff31dd",collectiblesAcceptButton:"collectiblesAcceptButton_ff31dd"}},968406:function(e,t,n){e.exports={OSSection:"OSSection_ba3425",purchaseUnitOperatingSystem:"purchaseUnitOperatingSystem_ba3425"}},14994:function(e,t,n){e.exports={tileActions:"tileActions_a3d2f2",actionButton:"actionButton_a3d2f2"}},337533:function(e,t,n){e.exports={container:"container_ef615b",imgContainer:"imgContainer_ef615b",img:"img_ef615b",content:"content_ef615b",heading:"heading_ef615b",description:"description_ef615b",learnMore:"learnMore_ef615b",cta:"cta_ef615b",avatars:"avatars_ef615b",maxParticipants:"maxParticipants_ef615b",peopleIcon:"peopleIcon_ef615b",buttonWrapper:"buttonWrapper_ef615b",button:"button_ef615b"}},938979:function(e,t,n){e.exports={applicationInfoContainer:"applicationInfoContainer_d009e1",applicationIcon:"applicationIcon_d009e1",guildCountContainer:"guildCountContainer_d009e1",guildCountIcon:"guildCountIcon_d009e1",invalidBody:"invalidBody_d009e1"}},947654:function(e,t,n){e.exports={wrapper:"wrapper_b9aba8",header:"header_b9aba8",headerTitle:"headerTitle_b9aba8",content:"content_b9aba8",contentTextWrapper:"contentTextWrapper_b9aba8",contentText:"contentText_b9aba8",appIcon:"appIcon_b9aba8",description:"description_b9aba8",openStoreButton:"openStoreButton_b9aba8",skuPurchaseButtons:"skuPurchaseButtons_b9aba8",viewDetailsButton:"viewDetailsButton_b9aba8"}},435601:function(e,t,n){e.exports={modal:"modal_c5ad85",modalHeader:"modalHeader_c5ad85",modalTitle:"modalTitle_c5ad85",modalHeaderLinks:"modalHeaderLinks_c5ad85",containerScrollGradient:"containerScrollGradient_c5ad85",modalCloseBtn:"modalCloseBtn_c5ad85"}},290074:function(e,t,n){e.exports={modal:"modal_c48629",footer:"footer_c48629",footerButtons:"footerButtons_c48629",linkButton:"linkButton_c48629",appIcon:"appIcon_c48629"}},605978:function(e,t,n){e.exports={btnContent:"btnContent_cdaed4"}},709101:function(e,t,n){e.exports={flex:"flex_e690b8",header:"header_e690b8",embed:"embed_e690b8",listeners:"listeners_e690b8",live:"live_e690b8",speakers:"speakers_e690b8",members:"members_e690b8",speaker:"speaker_e690b8",joinButton:"joinButton_e690b8",background:"background_e690b8",icon:"icon_e690b8",guild:"guild_e690b8",guildInfo:"guildInfo_e690b8",dot:"dot_e690b8",alignStart:"alignStart_e690b8",avatar:"avatar_e690b8",username:"username_e690b8"}},969297:function(e,t,n){e.exports={container:"container_ca33de",bumpBox:"bumpBox_ca33de",icon:"icon_ca33de",tagline:"tagline_ca33de",publish:"publish_ca33de",hidePermanently:"hidePermanently_ca33de",closeIcon:"closeIcon_ca33de"}},362136:function(e,t,n){e.exports={mainContainer:"mainContainer_b21ba6",compact:"compact_b21ba6",actions:"actions_b21ba6",embed:"embed_b21ba6"}},666603:function(e,t,n){e.exports={mainContainer:"mainContainer_dc8d93",compact:"compact_dc8d93",actions:"actions_dc8d93"}},907339:function(e,t,n){e.exports={reminderTooltip:"reminderTooltip_df8ef6",tooltipContent:"tooltipContent_df8ef6",buttonContainer:"buttonContainer_df8ef6"}},204006:function(e,t,n){e.exports={thumbnailStack:"thumbnailStack_a71e15","height-1":"height-1_a71e15","height-2":"height-2_a71e15","height-3":"height-3_a71e15","height-max":"height-max_a71e15",thumbnail:"thumbnail_a71e15"}},919455:function(e,t,n){e.exports={guildShopEmbed:"guildShopEmbed_a70c73",spinnerContainer:"spinnerContainer_a70c73",serverShopLabel:"serverShopLabel_a70c73",serverShopLabelText:"serverShopLabelText_a70c73",guildShopEmbedFooter:"guildShopEmbedFooter_a70c73",guildShopSummary:"guildShopSummary_a70c73",guildShopEmbedCta:"guildShopEmbedCta_a70c73",guildShopEmbedCtaContent:"guildShopEmbedCtaContent_a70c73"}},828406:function(e,t,n){e.exports={container:"container_e1e1a4",coverImageContainer:"coverImageContainer_e1e1a4",infoContainer:"infoContainer_e1e1a4",coverImage:"coverImage_e1e1a4",showMoreButton:"showMoreButton_e1e1a4",showMoreArrow:"showMoreArrow_e1e1a4"}},668878:function(e,t,n){e.exports={lineClamp:"lineClamp_c79643"}},237475:function(e,t,n){e.exports={lineClamp2Plus:"lineClamp2Plus_b8b773",lineClamp1:"lineClamp1_b8b773"}},652431:function(e,t,n){e.exports={draftBadge:"draftBadge_d9792d"}},101934:function(e,t,n){e.exports={downloadApps:"downloadApps_f82819",contentWrapper:"contentWrapper_f82819",inner:"inner_f82819",header:"header_f82819",footer:"footer_f82819",platformsWrap:"platformsWrap_f82819",platforms:"platforms_f82819",platform:"platform_f82819",active:"active_f82819",icon:"icon_f82819",downloadButton:"downloadButton_f82819",platformName:"platformName_f82819",iconWrap:"iconWrap_f82819",apple:"apple_f82819",android:"android_f82819",windows:"windows_f82819",linux:"linux_f82819",ios:"ios_f82819",downloadButtons:"downloadButtons_f82819",list:"list_f82819",modalCloseButton:"modalCloseButton_f82819"}},703422:function(e,t,n){e.exports={colorGuildBlue:"colorGuildBlue_f5f079"}},983209:function(e,t,n){e.exports={colorGuildBlue:"colorGuildBlue_a92125"}},382862:function(e,t,n){e.exports={accessory:"accessory_d62500",accessoryText:"accessoryText_d62500"}},344898:function(e,t,n){e.exports={header:"header_d794f7",subheader:"subheader_d794f7",closeButton:"closeButton_d794f7",button:"button_d794f7",image:"image_d794f7",video:"video_d794f7",media:"media_d794f7",mediaContainer:"mediaContainer_d794f7"}},789447:function(e,t,n){e.exports={container:"container_e31053",text:"text_e31053"}},414700:function(e,t,n){e.exports={container:"container_f66b8e",quote:"quote_f66b8e",content:"content_f66b8e",headerContainer:"headerContainer_f66b8e",headerIcon:"headerIcon_f66b8e",headerText:"headerText_f66b8e",footerContainer:"footerContainer_f66b8e",footerText:"footerText_f66b8e",originIcon:"originIcon_f66b8e"}},928112:function(e,t,n){e.exports={notice:"notice_b5000b",guildIcon:"guildIcon_b5000b",actionButton:"actionButton_b5000b",actionButtonInner:"actionButtonInner_b5000b"}},415706:function(e,t,n){e.exports={notice:"notice_a50047",error:"error_a50047",button:"button_a50047",header:"header_a50047"}},509365:function(e,t,n){e.exports={productCard:"productCard_eb6c38",solidBackground:"solidBackground_eb6c38",opaqueBackground:"opaqueBackground_eb6c38",productThumbnailContainer:"productThumbnailContainer_eb6c38",productThumbnail:"productThumbnail_eb6c38",purchaseToUnlockBadge:"purchaseToUnlockBadge_eb6c38",draftBadge:"draftBadge_eb6c38",lockIcon:"lockIcon_eb6c38",productName:"productName_eb6c38",productDetails:"productDetails_eb6c38",productDetailContent:"productDetailContent_eb6c38",purchaseDetails:"purchaseDetails_eb6c38",productActionButton:"productActionButton_eb6c38",showMoreButton:"showMoreButton_eb6c38",arrowIcon:"arrowIcon_eb6c38",hasAction:"hasAction_eb6c38",cardClickableContainer:"cardClickableContainer_eb6c38"}},7438:function(e,t,n){e.exports={textWithIcon:"textWithIcon_d68a6c"}},394318:function(e,t,n){e.exports={roleTagContainer:"roleTagContainer_b463ca",roleTag:"roleTag_b463ca",roleColor:"roleColor_b463ca"}},741751:function(e,t,n){e.exports={thankYouCard:"thankYouCard_ad8fa4",thankYouText:"thankYouText_ad8fa4",userAvatar:"userAvatar_ad8fa4"}},464788:function(e,t,n){e.exports={guildPopout:"guildPopout_cf5d0a",iconMask:"iconMask_cf5d0a",unavailableIcon:"unavailableIcon_cf5d0a",iconWithSplash:"iconWithSplash_cf5d0a",avatar:"avatar_cf5d0a",splashImage:"splashImage_cf5d0a",body:"body_cf5d0a",hasSplash:"hasSplash_cf5d0a",guildNameWrapper:"guildNameWrapper_cf5d0a",guildName:"guildName_cf5d0a",badge:"badge_cf5d0a",description:"description_cf5d0a",memberInfo:"memberInfo_cf5d0a",memberCount:"memberCount_cf5d0a",dotOnline:"dotOnline_cf5d0a dot_cf5d0a",dotOffline:"dotOffline_cf5d0a dot_cf5d0a",memberText:"memberText_cf5d0a",footer:"footer_cf5d0a",emojiHeader:"emojiHeader_cf5d0a",emojiContainer:"emojiContainer_cf5d0a",withCounter:"withCounter_cf5d0a",emoji:"emoji_cf5d0a",emojiCounter:"emojiCounter_cf5d0a",splashPlaceholder:"splashPlaceholder_cf5d0a placeholderSkeleton_cf5d0a",iconPlaceholder:"iconPlaceholder_cf5d0a placeholderSkeleton_cf5d0a",namePlaceholder:"namePlaceholder_cf5d0a placeholderSkeleton_cf5d0a",memberInfoPlaceholder:"memberInfoPlaceholder_cf5d0a placeholderSkeleton_cf5d0a",viewButtonPlaceholder:"viewButtonPlaceholder_cf5d0a",unavailableHeader:"unavailableHeader_cf5d0a"}},658216:function(e,t,n){e.exports={backButtonInner:"backButtonInner_e316bc",backButton:"backButton_e316bc",backNotice:"backNotice_e316bc"}},240233:function(e,t,n){e.exports={container:"container_a934b7",emojiContainer:"emojiContainer_a934b7",name:"name_a934b7",linkedName:"linkedName_a934b7",infoContainer:"infoContainer_a934b7"}},359158:function(e,t,n){e.exports={container:"container_ecba8f",cardContainerWithoutTopIndicator:"cardContainerWithoutTopIndicator_ecba8f",tierTrialIndicator:"tierTrialIndicator_ecba8f",tierTrialIndicatorIcon:"tierTrialIndicatorIcon_ecba8f",tierTopIndicator:"tierTopIndicator_ecba8f",tierInfoContainer:"tierInfoContainer_ecba8f",tierDescriptionTruncate:"tierDescriptionTruncate_ecba8f",toggleTruncationButton:"toggleTruncationButton_ecba8f",toggleTruncationButtonInner:"toggleTruncationButtonInner_ecba8f",toggleTruncationButtonIcon:"toggleTruncationButtonIcon_ecba8f",subscriptionPerks:"subscriptionPerks_ecba8f",roleMessagePreview:"roleMessagePreview_ecba8f",sectionHeader:"sectionHeader_ecba8f",benefitsSection:"benefitsSection_ecba8f",benefitsList:"benefitsList_ecba8f",emojiList:"emojiList_ecba8f",emojiListEmoji:"emojiListEmoji_ecba8f",divider:"divider_ecba8f"}},364375:function(e,t,n){e.exports={draftBadgeContainer:"draftBadgeContainer_ef006b",tierName:"tierName_ef006b",tierImage:"tierImage_ef006b",tierPrice:"tierPrice_ef006b",tierPeriod:"tierPeriod_ef006b"}},635816:function(e,t,n){e.exports={container:"container_de6558",tierTextInfoContainer:"tierTextInfoContainer_de6558",tierPriceContainer:"tierPriceContainer_de6558",tierPrice:"tierPrice_de6558",toggleButton:"toggleButton_de6558"}},750231:function(e,t,n){e.exports={confirmationContainer:"confirmationContainer_dbfdb0",confirmationHeader:"confirmationHeader_dbfdb0",confirmationSubtitle:"confirmationSubtitle_dbfdb0",openDiscordButton:"openDiscordButton_dbfdb0",doneButton:"doneButton_dbfdb0"}},538568:function(e,t,n){e.exports={headerContainer:"headerContainer_ea0167",headerEmpty:"headerEmpty_ea0167",closeContainer:"closeContainer_ea0167",headerImage:"headerImage_ea0167",headerImageEmpty:"headerImageEmpty_ea0167",closeIcon:"closeIcon_ea0167",tierImageContainer:"tierImageContainer_ea0167",tierImage:"tierImage_ea0167",confirmationContainer:"confirmationContainer_ea0167",confirmationHeader:"confirmationHeader_ea0167",confirmationSubtitle:"confirmationSubtitle_ea0167",confirmationSectionLabel:"confirmationSectionLabel_ea0167",confirmationBenefits:"confirmationBenefits_ea0167",confirmationButton:"confirmationButton_ea0167",emojiBenefitsRow:"emojiBenefitsRow_ea0167",emojiImage:"emojiImage_ea0167",emojiName:"emojiName_ea0167"}},121834:function(e,t,n){e.exports={container:"container_ca7129",emojiContainer:"emojiContainer_ca7129",name:"name_ca7129",infoContainer:"infoContainer_ca7129",caret:"caret_ca7129"}},918624:function(e,t,n){e.exports={welcomeCard:"welcomeCard_be6cec",welcomeCardText:"welcomeCardText_be6cec",welcomeCardBadge:"welcomeCardBadge_be6cec"}},854e3:function(e,t,n){e.exports={userAvatar:"userAvatar_be6c9d",svg:"svg_be6c9d"}},942463:function(e,t,n){e.exports={descriptionText:"descriptionText_f4ba67",truncate:"truncate_f4ba67"}},966820:function(e,t,n){e.exports={container:"container_f87f77"}},858625:function(e,t,n){e.exports={container:"container_a4ec62",eventName:"eventName_a4ec62",description:"description_a4ec62",descriptionWithThumbnail:"descriptionWithThumbnail_a4ec62",spacer:"spacer_a4ec62",rsvpCount:"rsvpCount_a4ec62",rsvpIcon:"rsvpIcon_a4ec62",creator:"creator_a4ec62",eventInfoStatusContainer:"eventInfoStatusContainer_a4ec62",statusContainer:"statusContainer_a4ec62",withThumbnail:"withThumbnail_a4ec62",thumbnailContainer:"thumbnailContainer_a4ec62",thumbnail:"thumbnail_a4ec62"}},642790:function(e,t,n){e.exports={eventStatusContainer:"eventStatusContainer_d6a475",isRecurring:"isRecurring_d6a475",eventStatusLabel:"eventStatusLabel_d6a475",liveEventEndTime:"liveEventEndTime_d6a475",newBadge:"newBadge_d6a475",newBadgeText:"newBadgeText_d6a475"}},300451:function(e,t,n){e.exports={inviteDetailsContainer:"inviteDetailsContainer_a75489",clickable:"clickable_a75489",guildChannelInfoContainer:"guildChannelInfoContainer_a75489",verticalContainer:"verticalContainer_a75489",footerContainer:"footerContainer_a75489",button:"button_a75489",innerButton:"innerButton_a75489",buttonIcon:"buttonIcon_a75489",eventDescription:"eventDescription_a75489",channelDescription:"channelDescription_a75489",guildBadge:"guildBadge_a75489",guildName:"guildName_a75489",guildNameClickable:"guildNameClickable_a75489",guildNameLinkable:"guildNameLinkable_a75489 guildName_a75489",channelIcon:"channelIcon_a75489",channelInfoContainer:"channelInfoContainer_a75489",channelLocationLink:"channelLocationLink_a75489",banner:"banner_a75489"}},344748:function(e,t,n){e.exports={responseOptions:"responseOptions_ff8b0a"}},227210:function(e,t,n){e.exports={icon:"icon_bfdb87"}},531878:function(e,t,n){e.exports={card:"card_e903e6",participants:"participants_e903e6",disabled:"disabled_e903e6",actions:"actions_e903e6",button:"button_e903e6",buttonInner:"buttonInner_e903e6"}},656847:function(e,t,n){e.exports={updateIconForeground:"updateIconForeground_ff5f90",search:"search_ff5f90",downloadArrow:"downloadArrow_ff5f90",cloud:"cloud_ff5f90",forumOrHome:"forumOrHome_ff5f90"}},643200:function(e,t,n){e.exports={container:"container_e426aa",containerUikit:"containerUikit_e426aa"}},919269:function(e,t,n){e.exports={content:"content_acadc1",loading:"loading_acadc1",textEmoji:"textEmoji_acadc1",premium:"premium_acadc1",shopIcon:"shopIcon_acadc1",launchIcon:"launchIcon_acadc1",hidden:"hidden_acadc1",label:"label_acadc1"}},474992:function(e,t,n){e.exports={username:"username_d090f5",discriminator:"discriminator_d090f5",tag:"tag_d090f5",bot:"bot_d090f5",label:"label_d090f5",labelText:"labelText_d090f5",roleCountContainer:"roleCountContainer_d090f5",roleCountIcon:"roleCountIcon_d090f5",roleCountText:"roleCountText_d090f5"}},505038:function(e,t,n){e.exports={container:"container_dc6e19",select:"select_dc6e19",loading:"loading_dc6e19",iconContainer:"iconContainer_dc6e19",badges:"badges_dc6e19",soloInput:"soloInput_dc6e19",inlineInput:"inlineInput_dc6e19",singleSelect:"singleSelect_dc6e19",hidden:"hidden_dc6e19"}},609601:function(e,t,n){e.exports={container:"container_f49825",select:"select_f49825",selectOption:"selectOption_f49825",disabled:"disabled_f49825",emoji:"emoji_f49825",smallEmoji:"smallEmoji_f49825",offset:"offset_f49825",optionTag:"optionTag_f49825",labelContainer:"labelContainer_f49825",label:"label_f49825",description:"description_f49825",tag:"tag_f49825",singleValueLabel:"singleValueLabel_f49825",option:"option_f49825",value:"value_f49825",singleValue:"singleValue_f49825",error:"error_f49825"}},740872:function(e,t,n){e.exports={formItem:"formItem_f3e5f0"}},670711:function(e,t,n){e.exports={divider:"divider_d0ecce",spacingLarge:"spacingLarge_d0ecce"}},283370:function(e,t,n){e.exports={markdownContainer:"markdownContainer_b6273d"}},316866:function(e,t,n){e.exports={container:"container_f08cd0",children:"children_f08cd0",error:"error_f08cd0"}},595708:function(e,t,n){e.exports={notice:"notice_dd5a33",button:"button_dd5a33",back:"back_dd5a33",iconButton:"iconButton_dd5a33",arrow:"arrow_dd5a33",header:"header_dd5a33"}},84427:function(e,t,n){e.exports={postPreviewContainer:"postPreviewContainer_ce3c31",thumbnailContainer:"thumbnailContainer_ce3c31",thumbnail:"thumbnail_ce3c31",thumbnailImage:"thumbnailImage_ce3c31",thumbnailOverlay:"thumbnailOverlay_ce3c31",thumbnailOverlayCta:"thumbnailOverlayCta_ce3c31",descriptionContainer:"descriptionContainer_ce3c31",descriptionHeader:"descriptionHeader_ce3c31",descriptionHeaderText:"descriptionHeaderText_ce3c31",descriptionSubtitle:"descriptionSubtitle_ce3c31",descriptionFooter:"descriptionFooter_ce3c31",descriptionFooterContainer:"descriptionFooterContainer_ce3c31",descriptionFooterChannelName:"descriptionFooterChannelName_ce3c31",descriptionFooterAuthorContainer:"descriptionFooterAuthorContainer_ce3c31",authorName:"authorName_ce3c31",mediaChannelIcon:"mediaChannelIcon_ce3c31",channelName:"channelName_ce3c31",subscribeButton:"subscribeButton_ce3c31",spoiler:"spoiler_ce3c31"}},429759:function(e,t,n){e.exports={expanded:"expanded_c09d0f",blockedSystemMessage:"blockedSystemMessage_c09d0f",blockedIcon:"blockedIcon_c09d0f",blockedMessageText:"blockedMessageText_c09d0f",blockedAction:"blockedAction_c09d0f"}},656366:function(e,t,n){e.exports={container:"container_a3d172",contentContainer:"contentContainer_a3d172",headerContainer:"headerContainer_a3d172",footerContainer:"footerContainer_a3d172"}},559266:function(e,t,n){e.exports={clipPill:"clipPill_d8447f"}},846615:function(e,t,n){e.exports={container:"container_e96122"}},463329:function(e,t,n){e.exports={button:"button_aeb6dd"}},255265:function(e,t,n){e.exports={container:"container_bbc161",buttonContainer:"buttonContainer_bbc161",messageContentContainer:"messageContentContainer_bbc161",iconContainer:"iconContainer_bbc161",icon:"icon_bbc161",nitroBadge:"nitroBadge_bbc161",nitroBadgeIcon:"nitroBadgeIcon_bbc161",nitroBadgeText:"nitroBadgeText_bbc161",premiumIcon:"premiumIcon_bbc161"}},746142:function(e,t,n){e.exports={container:"container_c48f1e",content:"content_c48f1e",large:"large_c48f1e",stacked:"stacked_c48f1e",imgContainer:"imgContainer_c48f1e",img:"img_c48f1e",brokenImg:"brokenImg_c48f1e img_c48f1e",info:"info_c48f1e",heading:"heading_c48f1e",channel:"channel_c48f1e",ended:"ended_c48f1e",channelIcon:"channelIcon_c48f1e",currentState:"currentState_c48f1e",split:"split_c48f1e",cta:"cta_c48f1e",endedNote:"endedNote_c48f1e",avatars:"avatars_c48f1e",tooltipButtonWrapper:"tooltipButtonWrapper_c48f1e",actionButton:"actionButton_c48f1e",statusCounts:"statusCounts_c48f1e",statusWrapper:"statusWrapper_c48f1e",statusOnline:"statusOnline_c48f1e status_c48f1e",statusOffline:"statusOffline_c48f1e status_c48f1e",count:"count_c48f1e"}},637091:function(e,t,n){e.exports={separator:"separator_bf4cdc",infoTitle:"infoTitle_bf4cdc",infoBadge:"infoBadge_bf4cdc",headerLine:"headerLine_bf4cdc",tooltipContainer:"tooltipContainer_bf4cdc",infoIcon:"infoIcon_bf4cdc"}},92857:function(e,t,n){e.exports={container:"container_b95f0d",image:"image_b95f0d",title:"title_b95f0d",body:"body_b95f0d"}},261985:function(e,t,n){e.exports={mask:"mask_f9bbb4",image:"image_f9bbb4",container:"container_f9bbb4",maskBackground:"maskBackground_f9bbb4",maskIcon:"maskIcon_f9bbb4"}},749967:function(e,t,n){e.exports={row:"row_fd8ff1",rowContent:"rowContent_fd8ff1",body:"body_fd8ff1",messagePreviewContainer:"messagePreviewContainer_fd8ff1",messagePreviewText:"messagePreviewText_fd8ff1",calloutContainer:"calloutContainer_fd8ff1",unread:"unread_fd8ff1",friendRequestContainer:"friendRequestContainer_fd8ff1",ignoreButton:"ignoreButton_fd8ff1 button_fd8ff1",acceptButton:"acceptButton_fd8ff1 button_fd8ff1",lifecycleContainer:"lifecycleContainer_fd8ff1",lifecycleText:"lifecycleText_fd8ff1",checkbox:"checkbox_fd8ff1"}},374986:function(e,t,n){e.exports={container:"container_fe1358",spinner:"spinner_fe1358",loadingPlaceholder:"loadingPlaceholder_fe1358"}},147522:function(e,t,n){e.exports={wrapper:"wrapper_b448f2",partyMembers:"partyMembers_b448f2",partyMember:"partyMember_b448f2",partyMemberKnown:"partyMemberKnown_b448f2 partyMember_b448f2",partyMemberEmpty:"partyMemberEmpty_b448f2 partyMember_b448f2",partyMemberUnknown:"partyMemberUnknown_b448f2 partyMember_b448f2",partyMemberUnknownIcon:"partyMemberUnknownIcon_b448f2",partyMemberOverflow:"partyMemberOverflow_b448f2"}},148163:function(e,t,n){e.exports={normalStylesDefault:"normalStylesDefault_b5cb3c",normalStylesImageOnlyAnswers:"normalStylesImageOnlyAnswers_b5cb3c",victorStyles:"victorStyles_b5cb3c",votedStyles:"votedStyles_b5cb3c"}},872806:function(e,t,n){e.exports={embed:"embed_e365d2",container:"container_e365d2",imageContainer:"imageContainer_e365d2",description:"description_e365d2",victorAnswer:"victorAnswer_e365d2",victorAnswerText:"victorAnswerText_e365d2",victorIcon:"victorIcon_e365d2",button:"button_e365d2"}},353452:function(e,t,n){e.exports={enabled:"enabled_b97e9a",attachmentImage:"attachmentImage_b97e9a",radioBackground:"radioBackground_b97e9a",radioForeground:"radioForeground_b97e9a",checkbox:"checkbox_b97e9a",checkboxSelected:"checkboxSelected_b97e9a"}},849160:function(e,t,n){e.exports={answersContainer:"answersContainer_aee2d8",answer:"answer_aee2d8",currentlyVoting:"currentlyVoting_aee2d8",attachment:"attachment_aee2d8",attachmentWithResults:"attachmentWithResults_aee2d8",emoji:"emoji_aee2d8",mediaMissing:"mediaMissing_aee2d8",selectedIcon:"selectedIcon_aee2d8",pollAnswerIcon:"pollAnswerIcon_aee2d8",votesData:"votesData_aee2d8"}},355957:function(e,t,n){e.exports={container:"container_a1531c",header:"header_a1531c",question:"question_a1531c",prompt:"prompt_a1531c",detailsText:"detailsText_a1531c",detailsTextButton:"detailsTextButton_a1531c",interactive:"interactive_a1531c",bottomBar:"bottomBar_a1531c",secondaryAction:"secondaryAction_a1531c",tertiaryAction:"tertiaryAction_a1531c",buttonPresentation:"buttonPresentation_a1531c",secondaryButtonPresentation:"secondaryButtonPresentation_a1531c"}},567909:function(e,t,n){e.exports={answersContainer:"answersContainer_cf2c85",answer:"answer_cf2c85",answerInner:"answerInner_cf2c85",currentlyVoting:"currentlyVoting_cf2c85",selected:"selected_cf2c85",emoji:"emoji_cf2c85",label:"label_cf2c85",votePercentageBar:"votePercentageBar_cf2c85",votesData:"votesData_cf2c85",voteCount:"voteCount_cf2c85",voteCountButton:"voteCountButton_cf2c85",answerSelectionIcon:"answerSelectionIcon_cf2c85"}},713533:function(e,t,n){e.exports={invalidWrapper:"invalidWrapper_b5b752",invalid:"invalid_b5b752",buttonContainer:"buttonContainer_b5b752",metadata:"metadata_b5b752",container:"container_b5b752",tile:"tile_b5b752",title:"title_b5b752",tagline:"tagline_b5b752",actions:"actions_b5b752",media:"media_b5b752",birthdayReferral:"birthdayReferral_b5b752",referral:"referral_b5b752",description:"description_b5b752"}},921186:function(e,t,n){e.exports={text:"text_e0bc33",premiumIcon:"premiumIcon_e0bc33"}},842333:function(e,t,n){e.exports={tooltipTextContainer:"tooltipTextContainer_a0ae43",nitroWheel:"nitroWheel_a0ae43",tooltipText:"tooltipText_a0ae43"}},221207:function(e,t,n){e.exports={ticketIcon:"ticketIcon_e78d05"}},11519:function(e,t,n){e.exports={premiumFeatureBorder:"premiumFeatureBorder_c6d722 featureBorder_c6d722",limitedFeatureBorder:"limitedFeatureBorder_c6d722 featureBorder_c6d722",background:"background_c6d722",premiumBackground:"premiumBackground_c6d722 background_c6d722",limitedBackground:"limitedBackground_c6d722 background_c6d722"}},404154:function(e,t,n){e.exports={popout:"popout_b705bc",staffBadge:"staffBadge_b705bc",nameWrapper:"nameWrapper_b705bc",header:"header_b705bc",description:"description_b705bc",avatar:"avatar_b705bc"}},131250:function(e,t,n){e.exports={partnerBranding:"partnerBranding_fc6f68",partnerBrandingGameTile:"partnerBrandingGameTile_fc6f68",partnerBrandingLogotype:"partnerBrandingLogotype_fc6f68"}},567345:function(e,t,n){e.exports={wrapper:"wrapper_d572e7",percentCompleteWrapper:"percentCompleteWrapper_d572e7",percentCompleteLabel:"percentCompleteLabel_d572e7",progressBar:"progressBar_d572e7",progressBarFill:"progressBarFill_d572e7",percentCompleteLabelOffset:"percentCompleteLabelOffset_d572e7"}},256129:function(e,t,n){e.exports={promotedTag:"promotedTag_a4a2b0",promotedTagBackground:"promotedTagBackground_a4a2b0"}},441468:function(e,t,n){e.exports={questsCard:"questsCard_c366aa"}},504321:function(e,t,n){e.exports={outerContainer:"outerContainer_d7df05",outerContainerNoProgress:"outerContainerNoProgress_d7df05",outerContainerSm:"outerContainerSm_d7df05",outerContainerXs:"outerContainerXs_d7df05",gridImg:"gridImg_d7df05",gridText:"gridText_d7df05",gridCtaButtons:"gridCtaButtons_d7df05",gridProgressBar:"gridProgressBar_d7df05",questRewardGiftInventory:"questRewardGiftInventory_d7df05",questRewardEmbed:"questRewardEmbed_d7df05",questRewardEmbedSm:"questRewardEmbedSm_d7df05",questRewardEmbedXs:"questRewardEmbedXs_d7df05",taskDetails:"taskDetails_d7df05",taskInstructions:"taskInstructions_d7df05",ctaButtonContainer:"ctaButtonContainer_d7df05",ctaButtonWrapper:"ctaButtonWrapper_d7df05",ctaButtonInner:"ctaButtonInner_d7df05",learnMoreLink:"learnMoreLink_d7df05",ctaTooltipText:"ctaTooltipText_d7df05",ctaTooltipErrorText:"ctaTooltipErrorText_d7df05",ctaTooltipErrorHint:"ctaTooltipErrorHint_d7df05",rewardTileWrapper:"rewardTileWrapper_d7df05",rewardTileExpired:"rewardTileExpired_d7df05",rewardTileExpirationTooltip:"rewardTileExpirationTooltip_d7df05",inHouseButton:"inHouseButton_d7df05",inHouseIcon:"inHouseIcon_d7df05",refreshIcon:"refreshIcon_d7df05"}},491829:function(e,t,n){e.exports={outerContainer:"outerContainer_af8856",outerContainerGiftInventory:"outerContainerGiftInventory_af8856",outerContainerEmbed:"outerContainerEmbed_af8856",questSplash:"questSplash_af8856",header:"header_af8856",outerContainerXs:"outerContainerXs_af8856",headerContent:"headerContent_af8856",headerContentEmbed:"headerContentEmbed_af8856",headerExpandedContent:"headerExpandedContent_af8856",headerExpandedWrapper:"headerExpandedWrapper_af8856",headerCollapsedContent:"headerCollapsedContent_af8856",headerCollapsedClickableContainer:"headerCollapsedClickableContainer_af8856",headerCollapsedContentRewardWrapper:"headerCollapsedContentRewardWrapper_af8856",headerCollapsedRewardTile:"headerCollapsedRewardTile_af8856",headerCollapsedContentCopyWrapper:"headerCollapsedContentCopyWrapper_af8856",headerCollapsedContentCopyLogos:"headerCollapsedContentCopyLogos_af8856",iconLogotypeContainer:"iconLogotypeContainer_af8856",partnerBranding:"partnerBranding_af8856",questInfo:"questInfo_af8856",heading:"heading_af8856",iconsContainer:"iconsContainer_af8856",iconWrapper:"iconWrapper_af8856",shareButton:"shareButton_af8856"}},227258:function(e,t,n){e.exports={questsCollectibleReward:"questsCollectibleReward_c76d5b"}},703201:function(e,t,n){e.exports={wrapper:"wrapper_b9619e",wrapperAccepted:"wrapperAccepted_b9619e",rewardTileWrapper:"rewardTileWrapper_b9619e",rewardTile:"rewardTile_b9619e",heading:"heading_b9619e",promotedTag:"promotedTag_b9619e",content:"content_b9619e",headingWithSubmenu:"headingWithSubmenu_b9619e",questTitle:"questTitle_b9619e",gameTile:"gameTile_b9619e",ctas:"ctas_b9619e",cta:"cta_b9619e",submenuWrapper:"submenuWrapper_b9619e",submenuIcon:"submenuIcon_b9619e"}},342101:function(e,t,n){e.exports={container:"container_e97a06",wide:"wide_e97a06",tall:"tall_e97a06",contentContainer:"contentContainer_e97a06",buttonContainer:"buttonContainer_e97a06",button:"button_e97a06",imgContainer:"imgContainer_e97a06",missingQuestImage:"missingQuestImage_e97a06"}},59685:function(e,t,n){e.exports={spinner:"spinner_e00d71"}},307995:function(e,t,n){e.exports={desktopTooltip:"desktopTooltip_c8d5bd",infoIcon:"infoIcon_c8d5bd"}},118393:function(e,t,n){e.exports={wrapper:"wrapper_c34599",instructions:"instructions_c34599",rewardTile:"rewardTile_c34599"}},135172:function(e,t,n){e.exports={button:"button_c00a12",buttonInner:"buttonInner_c00a12"}},297783:function(e,t,n){e.exports={container:"container_f8a938 "+n("174766").recentMentionsPopout}},566832:function(e,t,n){e.exports={friendRequestsButton:"friendRequestsButton_c0c071"}},554050:function(e,t,n){n.r(e.exports={jumpButton:"jumpButton_ac3dc2",text:"text_ac3dc2"})},111212:function(e,t,n){e.exports={container:"container_d3ce98 "+n("174766").recentMentionsPopout,headerText:"headerText_d3ce98",messageHeader:"messageHeader_d3ce98",messageInfo:"messageInfo_d3ce98",reminderActions:"reminderActions_d3ce98",clock:"clock_d3ce98",guildIcon:"guildIcon_d3ce98",actions:"actions_d3ce98",loadButton:"loadButton_d3ce98",notes:"notes_d3ce98",disabledMessage:"disabledMessage_d3ce98",unloadedMessage:"unloadedMessage_d3ce98"}},495295:function(e,t,n){e.exports={badge:"badge_e63ad6"}},174766:function(e,t,n){n.r(e.exports={recentMentionsPopout:"recentMentionsPopout_ddb5b4",scroller:"scroller_ddb5b4",container:"container_ddb5b4",closeButton:"closeButton_ddb5b4",messageContainer:"messageContainer_ddb5b4",jumpMessageButton:"jumpMessageButton_ddb5b4 "+n("554050").jumpButton,message:"message_ddb5b4",checkbox:"checkbox_ddb5b4"})},673908:function(e,t,n){e.exports={recentsIcon:"recentsIcon_ea0547",todoBadge:"todoBadge_ea0547"}},51562:function(e,t,n){e.exports={channelHeader:"channelHeader_f3978e",dmIcon:"dmIcon_f3978e",guildIcon:"guildIcon_f3978e",channelNameSection:"channelNameSection_f3978e",badge:"badge_f3978e",channelName:"channelName_f3978e",subtext:"subtext_f3978e",guildName:"guildName_f3978e",channelNameSpan:"channelNameSpan_f3978e",forumIcon:"forumIcon_f3978e",channelNameHeader:"channelNameHeader_f3978e",subtextContainer:"subtextContainer_f3978e",activityStatus:"activityStatus_f3978e",activityEmoji:"activityEmoji_f3978e"}},930960:function(e,t,n){e.exports={container:"container_b0914a",iconContainer:"iconContainer_b0914a",icon:"icon_b0914a",stars:"stars_b0914a",header:"header_b0914a",protip:"protip_b0914a"}},775132:function(e,t,n){e.exports={header:"header_f0cd33",expanded:"expanded_f0cd33",tab:"tab_f0cd33",expandedInboxHeader:"expandedInboxHeader_f0cd33",expandedTabSection:"expandedTabSection_f0cd33",tabBar:"tabBar_f0cd33",active:"active_f0cd33",inboxIcon:"inboxIcon_f0cd33",inboxTitle:"inboxTitle_f0cd33",controls:"controls_f0cd33",iconBadge:"iconBadge_f0cd33"}},385190:function(e,t,n){e.exports={channel:"channel_d09ffd",collapseButton:"collapseButton_d09ffd",markReadButton:"markReadButton_d09ffd",collapsed:"collapsed_d09ffd"}},437667:function(e,t,n){e.exports={forumPost:"forumPost_c53f2f",container:"container_c53f2f"}},131132:function(e,t,n){e.exports={messages:"messages_c06487",messageContainer:"messageContainer_c06487",jumpButton:"jumpButton_c06487",message:"message_c06487",divider:"divider_c06487"}},521173:function(e,t,n){e.exports={divider:"divider_f12b26",dividerContent:"dividerContent_f12b26"}},608777:function(e,t,n){e.exports={container:"container_f1c3d9 "+n("174766").recentMentionsPopout,spinner:"spinner_f1c3d9",tutorial:"tutorial_f1c3d9",tutorialIcon:"tutorialIcon_f1c3d9",tutorialButton:"tutorialButton_f1c3d9",scroller:"scroller_f1c3d9"}},960626:function(e,t,n){e.exports={container:"container_aa89d8",primaryRow:"primaryRow_aa89d8",title:"title_aa89d8",subtitle:"subtitle_aa89d8",metaContainer:"metaContainer_aa89d8",divider:"divider_aa89d8",inviteImage:"inviteImage_aa89d8",secondaryRow:"secondaryRow_aa89d8",buttonContainer:"buttonContainer_aa89d8",primaryButton:"primaryButton_aa89d8",deleteButton:"deleteButton_aa89d8",launchToJoinContainer:"launchToJoinContainer_aa89d8",launchToJoinText:"launchToJoinText_aa89d8"}},277539:function(e,t,n){e.exports={container:"container_da5d3b "+n("174766").recentMentionsPopout,invitesContainer:"invitesContainer_da5d3b",headerContainer:"headerContainer_da5d3b",headerTitle:"headerTitle_da5d3b",headerDivider:"headerDivider_da5d3b"}},573688:function(e,t,n){e.exports={tooltip:"tooltip_b5d807",tooltipContent:"tooltipContent_b5d807",iconContainer:"iconContainer_b5d807",inviteImage:"inviteImage_b5d807",offsetAvatarContainer:"offsetAvatarContainer_b5d807",inviterImage:"inviterImage_b5d807",titleContainer:"titleContainer_b5d807"}},530271:function(e,t,n){e.exports={safetyPolicyNoticeContainer:"safetyPolicyNoticeContainer_add64b",noticeContent:"noticeContent_add64b",headerRow:"headerRow_add64b",warningIcon:"warningIcon_add64b",incidentTiming:"incidentTiming_add64b",noticeBody:"noticeBody_add64b",detailsButton:"detailsButton_add64b",footerContainer:"footerContainer_add64b"}},748737:function(e,t,n){e.exports={safetyPolicyNoticeContainer:"safetyPolicyNoticeContainer_f585f8",noticeContent:"noticeContent_f585f8",headerRow:"headerRow_f585f8",icon:"icon_f585f8",incidentTiming:"incidentTiming_f585f8",noticeBody:"noticeBody_f585f8",detailsButton:"detailsButton_f585f8",defaultFooterContainer:"defaultFooterContainer_f585f8",dangerFooterContainer:"dangerFooterContainer_f585f8"}},514646:function(e,t,n){e.exports={search:"search_a46bef",searchBar:"searchBar_a46bef",icon:"icon_a46bef",open:"open_a46bef",focused:"focused_a46bef"}},644058:function(e,t,n){e.exports={resultsGroup:"resultsGroup_b0286e",header:"header_b0286e",searchLearnMore:"searchLearnMore_b0286e",searchClearHistory:"searchClearHistory_b0286e",option:"option_b0286e",plusIcon:"plusIcon_b0286e",nonText:"nonText_b0286e",filter:"filter_b0286e",answer:"answer_b0286e",user:"user_b0286e",displayAvatar:"displayAvatar_b0286e",displayedNick:"displayedNick_b0286e",displayUsername:"displayUsername_b0286e",searchOption:"searchOption_b0286e",datePicker:"datePicker_b0286e",datePickerHint:"datePickerHint_b0286e",hint:"hint_b0286e",hintValue:"hintValue_b0286e",searchResultChannelIcon:"searchResultChannelIcon_b0286e",searchResultChannelCategory:"searchResultChannelCategory_b0286e",resultChannel:"resultChannel_b0286e"}},176002:function(e,t,n){e.exports={toast:"toast_d657bf"}},695983:function(e,t,n){e.exports={upsellOuter:"upsellOuter_d6af8e",upsellInner:"upsellInner_d6af8e",upsellTitle:"upsellTitle_d6af8e",nitroWheel:"nitroWheel_d6af8e",close:"close_d6af8e",closeIcon:"closeIcon_d6af8e"}},905185:function(e,t,n){e.exports={container:"container_dc92e9",acceptButton:"acceptButton_dc92e9",acceptText:"acceptText_dc92e9",declineButton:"declineButton_dc92e9",declineText:"declineText_dc92e9",blocked:"blocked_dc92e9",blockedIcon:"blockedIcon_dc92e9",blockedText:"blockedText_dc92e9"}},120001:function(e,t,n){e.exports={clickableSticker:"clickableSticker_a1debe",stickerName:"stickerName_a1debe",stickerIcon:"stickerIcon_a1debe"}},235222:function(e,t,n){e.exports={popoutContent:"popoutContent_a17822",stickersList:"stickersList_a17822",packActions:"packActions_a17822",popoutLoader:"popoutLoader_a17822",nonInteractingSticker:"nonInteractingSticker_a17822"}},541595:function(e,t,n){e.exports={spine:"spine_c15230",systemMessageSpine:"systemMessageSpine_c15230",cozy:"cozy_c15230",container:"container_c15230",systemMessageContainer:"systemMessageContainer_c15230",topLine:"topLine_c15230",name:"name_c15230",cta:"cta_c15230",bottomLine:"bottomLine_c15230",timestamp:"timestamp_c15230"}},18716:function(e,t,n){e.exports={welcomeCTA:"welcomeCTA_f6dde0",welcomeCTAButtonOuter:"welcomeCTAButtonOuter_f6dde0",welcomeCTAButton:"welcomeCTAButton_f6dde0",welcomeCTASticker:"welcomeCTASticker_f6dde0"}},956630:function(e,t,n){n.r(e.exports={inFront:"inFront_cdcad9",invite:"invite_cdcad9",fullHeight:"fullHeight_cdcad9",coverImageWrapper:"coverImageWrapper_cdcad9",coverImage:"coverImage_cdcad9",coverImageActionable:"coverImageActionable_cdcad9 coverImage_cdcad9",blurred:"blurred_cdcad9",coverImageNotActionable:"coverImageNotActionable_cdcad9 coverImage_cdcad9",artwork:"artwork_cdcad9",artworkActionable:"artworkActionable_cdcad9 artwork_cdcad9",artworkNotActionable:"artworkNotActionable_cdcad9 artwork_cdcad9",artworkSpotifySessionEnded:"artworkSpotifySessionEnded_cdcad9 artwork_cdcad9",header:"header_cdcad9 inFront_cdcad9",partyStatus:"partyStatus_cdcad9 inFront_cdcad9",actionAndParty:"actionAndParty_cdcad9",actionButton:"actionButton_cdcad9 inFront_cdcad9",name:"name_cdcad9 inFront_cdcad9",partyMembers:"partyMembers_cdcad9",partyMember:"partyMember_cdcad9 inFront_cdcad9",partyMemberKnown:"partyMemberKnown_cdcad9 partyMember_cdcad9 inFront_cdcad9",partyAvatar:"partyAvatar_cdcad9",partyMemberEmpty:"partyMemberEmpty_cdcad9 partyMember_cdcad9 inFront_cdcad9 partyAvatar_cdcad9",moreUsers:"moreUsers_cdcad9 inFront_cdcad9",helpIcon:"helpIcon_cdcad9",state:"state_cdcad9",details:"details_cdcad9",textLink:"textLink_cdcad9"})},294572:function(e,t,n){e.exports={wrapper:"wrapper_dc0b29"}},581160:function(e,t,n){e.exports={tag:"tag_ec7b19",text:"text_ec7b19"}},386907:function(e,t,n){n.r(e.exports={wrapper:"wrapper_b9fe76",header:"header_b9fe76",content:"content_b9fe76",guildIcon:"guildIcon_b9fe76",applicationIcon:"applicationIcon_b9fe76",guildIconJoined:"guildIconJoined_b9fe76 guildIcon_b9fe76",guildIconImage:"guildIconImage_b9fe76 guildIcon_b9fe76",guildIconImageJoined:"guildIconImageJoined_b9fe76 guildIconImage_b9fe76 guildIcon_b9fe76",inviteDestination:"inviteDestination_b9fe76",inviteDestinationJoined:"inviteDestinationJoined_b9fe76 inviteDestination_b9fe76",channel:"channel_b9fe76",channelName:"channelName_b9fe76",channelIcon:"channelIcon_b9fe76",status:"status_b9fe76",statusWrapper:"statusWrapper_b9fe76",statusOnline:"statusOnline_b9fe76 status_b9fe76",statusOffline:"statusOffline_b9fe76 status_b9fe76",count:"count_b9fe76",guildNameWrapper:"guildNameWrapper_b9fe76",guildName:"guildName_b9fe76",guildBadge:"guildBadge_b9fe76",guildInfo:"guildInfo_b9fe76",guildDetail:"guildDetail_b9fe76",statusCounts:"statusCounts_b9fe76",inviteSplash:"inviteSplash_b9fe76",inviteSplashImage:"inviteSplashImage_b9fe76",inviteSplashBadge:"inviteSplashBadge_b9fe76",inviteSplashImageLoaded:"inviteSplashImageLoaded_b9fe76",button:"button_b9fe76",buttonSize:"buttonSize_b9fe76",guildIconExpired:"guildIconExpired_b9fe76 guildIcon_b9fe76",inviteDestinationExpired:"inviteDestinationExpired_b9fe76",buttonForNonMember:"buttonForNonMember_b9fe76","invite-button-resolving":"invite-button-resolving_b9fe76",resolvingWrapper:"resolvingWrapper_b9fe76",resolving:"resolving_b9fe76",resolvingBackground:"resolvingBackground_b9fe76",resolvingFakeButton:"resolvingFakeButton_b9fe76"})},405202:function(e,t,n){e.exports={pro:"pro_dcc874",tip:"tip_dcc874",block:"block_dcc874",inline:"inline_dcc874"}},199434:function(e,t,n){e.exports={tag:"tag_cae8e9",text:"text_cae8e9"}},788773:function(e,t,n){e.exports={titleContainer:"titleContainer_e3ed14 centeringContainer_e3ed14",loadingContainer:"loadingContainer_e3ed14 centeringContainer_e3ed14",slideshowWrapper:"slideshowWrapper_e3ed14",spinner:"spinner_e3ed14",imageLoading:"imageLoading_e3ed14",splash:"splash_e3ed14",splashPlaceholder:"splashPlaceholder_e3ed14",muteContainer:"muteContainer_e3ed14",muteContainerPlaying:"muteContainerPlaying_e3ed14",muteContainerMediaOverlay:"muteContainerMediaOverlay_e3ed14",mute:"mute_e3ed14",spinnerItem:"spinnerItem_e3ed14"}},975113:function(e,t,n){e.exports={CTAMessage:"CTAMessage_f25974",CTAMessageButtonOuter:"CTAMessageButtonOuter_f25974",CTAMessageButton:"CTAMessageButton_f25974",CTAMessageSticker:"CTAMessageSticker_f25974"}},541451:function(e,t,n){e.exports={embedCard:"embedCard_c6cefd",compact:"compact_c6cefd",header:"header_c6cefd",withFooter:"withFooter_c6cefd",messageContainer:"messageContainer_c6cefd"}},166804:function(e,t,n){e.exports={ephemeralMessage:"ephemeralMessage_cabade",userAppsBetaContent:"userAppsBetaContent_cabade",icon:"icon_cabade"}},768634:function(e,t,n){e.exports={container:"container_f4c8b7",tooltip:"tooltip_f4c8b7",tooltipPointer:"tooltipPointer_f4c8b7",mention:"mention_f4c8b7",spinner:"spinner_f4c8b7"}},849019:function(e,t,n){e.exports={oneByOneGrid:"oneByOneGrid_df7417",oneByOneGridSingle:"oneByOneGridSingle_df7417",oneByOneGridMosaic:"oneByOneGridMosaic_df7417",oneByTwoGrid:"oneByTwoGrid_df7417",oneByTwoLayoutThreeGrid:"oneByTwoLayoutThreeGrid_df7417",oneByTwoGridItem:"oneByTwoGridItem_df7417",itemContentContainer:"itemContentContainer_df7417",lazyImg:"lazyImg_df7417",oneByTwoSoloItem:"oneByTwoSoloItem_df7417",oneByTwoDuoItem:"oneByTwoDuoItem_df7417",twoByOneGrid:"twoByOneGrid_df7417",twoByOneGridItem:"twoByOneGridItem_df7417",threeByThreeGrid:"threeByThreeGrid_df7417",lazyImgContainer:"lazyImgContainer_df7417",twoByTwoGrid:"twoByTwoGrid_df7417",visualMediaItemContainer:"visualMediaItemContainer_df7417",nonVisualMediaItemContainer:"nonVisualMediaItemContainer_df7417",nonVisualMediaItem:"nonVisualMediaItem_df7417",hasFooter:"hasFooter_df7417",mosaicContainer:"mosaicContainer_df7417"}},574870:function(e,t,n){e.exports={inline:"inline_ab8b23",hiddenMosaicItem:"hiddenMosaicItem_ab8b23",obscured:"obscured_ab8b23",hiddenSpoiler:"hiddenSpoiler_ab8b23",hiddenExplicit:"hiddenExplicit_ab8b23",obscureVideoSpacing:"obscureVideoSpacing_ab8b23",mosaicItemContent:"mosaicItemContent_ab8b23",removeMosaicItemButton:"removeMosaicItemButton_ab8b23",spoilerRemoveMosaicItemButton:"spoilerRemoveMosaicItemButton_ab8b23 removeMosaicItemButton_ab8b23",mosaicItem:"mosaicItem_ab8b23",mosaicItemNoJustify:"mosaicItemNoJustify_ab8b23",mosaicItemFullWidth:"mosaicItemFullWidth_ab8b23",mosaicItemMediaMosaic:"mosaicItemMediaMosaic_ab8b23",hasFooter:"hasFooter_ab8b23",mosaicItemWithFooter:"mosaicItemWithFooter_ab8b23",hideOverflow:"hideOverflow_ab8b23",hoverButtonGroup:"hoverButtonGroup_ab8b23",nonMediaMosaicItem:"nonMediaMosaicItem_ab8b23",hoverButton:"hoverButton_ab8b23",removeMosaicItemHoverButton:"removeMosaicItemHoverButton_ab8b23",downloadHoverButtonIcon:"downloadHoverButtonIcon_ab8b23"}},841144:function(e,t,n){e.exports={container:"container_e62b38",compact:"compact_e62b38",content:"content_e62b38",actionAnchor:"actionAnchor_e62b38",iconContainer:"iconContainer_e62b38",cozy:"cozy_e62b38",icon:"icon_e62b38",iconSize:"iconSize_e62b38",action:"action_e62b38"}},121802:function(e,t,n){e.exports={mainContainer:"mainContainer_bf4197",compact:"compact_bf4197",content:"content_bf4197",embedCard:"embedCard_bf4197",selected:"selected_bf4197",isClickable:"isClickable_bf4197",messageContent:"messageContent_bf4197",channelNameContainer:"channelNameContainer_bf4197",channelName:"channelName_bf4197",iconContainer:"iconContainer_bf4197",avatarContainer:"avatarContainer_bf4197",usernameContainer:"usernameContainer_bf4197",username:"username_bf4197",systemTag:"systemTag_bf4197",centeredRowContainer:"centeredRowContainer_bf4197",dotMargin:"dotMargin_bf4197",buttonContainer:"buttonContainer_bf4197",footerAction:"footerAction_bf4197",footerIcon:"footerIcon_bf4197",buttonStyle:"buttonStyle_bf4197",dot:"dot_bf4197",spanCorrection:"spanCorrection_bf4197",footerContainer:"footerContainer_bf4197",annotationRow:"annotationRow_bf4197",alertActionIcon:"alertActionIcon_bf4197",alertActionSetCompletedIcon:"alertActionSetCompletedIcon_bf4197",alertActionsIconContainer:"alertActionsIconContainer_bf4197",titleCase:"titleCase_bf4197"}},923255:function(e,t,n){e.exports={mainContainer:"mainContainer_c4cbf4",compact:"compact_c4cbf4",content:"content_c4cbf4",flexLineBreak:"flexLineBreak_c4cbf4",embedCard:"embedCard_c4cbf4",cardContent:"cardContent_c4cbf4",cardHeader:"cardHeader_c4cbf4",cardHeaderContianer:"cardHeaderContianer_c4cbf4",subheader:"subheader_c4cbf4",cardFooter:"cardFooter_c4cbf4",iconContainer:"iconContainer_c4cbf4",usernameContainer:"usernameContainer_c4cbf4",username:"username_c4cbf4",systemTag:"systemTag_c4cbf4",centeredRowContainer:"centeredRowContainer_c4cbf4",footerAction:"footerAction_c4cbf4",footerIcon:"footerIcon_c4cbf4",buttonStyle:"buttonStyle_c4cbf4",dot:"dot_c4cbf4",spanCorrection:"spanCorrection_c4cbf4",alertsEnabledSubHeader:"alertsEnabledSubHeader_c4cbf4",alertsEnabledSubHeaderAvatarUsername:"alertsEnabledSubHeaderAvatarUsername_c4cbf4",dotSeparatedRow:"dotSeparatedRow_c4cbf4"}},636803:function(e,t,n){e.exports={channelNameChange:"channelNameChange_bfe4f5"}},277633:function(e,t,n){e.exports={messageContent:"messageContent_ad717f",alertIcon:"alertIcon_ad717f"}},154654:function(e,t,n){e.exports={iconContainer:"iconContainer_aab820",inviteHeader:"inviteHeader_aab820",inviteContent:"inviteContent_aab820",content:"content_aab820",inviteButton:"inviteButton_aab820",compact:"compact_aab820",inviteLink:"inviteLink_aab820"}},518171:function(e,t,n){e.exports={stageSystemMessage:"stageSystemMessage_abd713",iconContainer:"iconContainer_abd713",inviteToSpeakButtonWrapper:"inviteToSpeakButtonWrapper_abd713",inviteToSpeakButtonInner:"inviteToSpeakButtonInner_abd713"}},54441:function(e,t,n){e.exports={icon:"icon_f054bd"}},101701:function(e,t,n){e.exports={icon:"icon_f41615"}},343774:function(e,t,n){e.exports={iconWrapper:"iconWrapper_a8ba7b",icon:"icon_a8ba7b",message:"message_a8ba7b",cannonWrapper:"cannonWrapper_a8ba7b",easterEggAnimationClickTarget:"easterEggAnimationClickTarget_a8ba7b",easterEggAnimationClickTargetTopLeft:"easterEggAnimationClickTargetTopLeft_a8ba7b",easterEggAnimationClickTargetTopRight:"easterEggAnimationClickTargetTopRight_a8ba7b",easterEggAnimationClickTargetBottomLeft:"easterEggAnimationClickTargetBottomLeft_a8ba7b",easterEggAnimationClickTargetBottomRight:"easterEggAnimationClickTargetBottomRight_a8ba7b",easterEggAnimation:"easterEggAnimation_a8ba7b",easterEggAnimationHideLeaf:"easterEggAnimationHideLeaf_a8ba7b"}},733564:function(e,t,n){n.r(e.exports={"heading-sm/normal":"heading-sm/normal_e17fae",fontScaling:"fontScaling_e17fae","heading-sm/medium":"heading-sm/medium_e17fae","heading-sm/semibold":"heading-sm/semibold_e17fae","heading-sm/bold":"heading-sm/bold_e17fae","heading-sm/extrabold":"heading-sm/extrabold_e17fae","heading-md/normal":"heading-md/normal_e17fae","heading-md/medium":"heading-md/medium_e17fae","heading-md/semibold":"heading-md/semibold_e17fae","heading-md/bold":"heading-md/bold_e17fae","heading-md/extrabold":"heading-md/extrabold_e17fae","heading-lg/normal":"heading-lg/normal_e17fae","heading-lg/medium":"heading-lg/medium_e17fae","heading-lg/semibold":"heading-lg/semibold_e17fae","heading-lg/bold":"heading-lg/bold_e17fae","heading-lg/extrabold":"heading-lg/extrabold_e17fae","heading-xl/normal":"heading-xl/normal_e17fae","heading-xl/medium":"heading-xl/medium_e17fae","heading-xl/semibold":"heading-xl/semibold_e17fae","heading-xl/bold":"heading-xl/bold_e17fae","heading-xl/extrabold":"heading-xl/extrabold_e17fae","heading-xxl/normal":"heading-xxl/normal_e17fae","heading-xxl/medium":"heading-xxl/medium_e17fae","heading-xxl/semibold":"heading-xxl/semibold_e17fae","heading-xxl/bold":"heading-xxl/bold_e17fae","heading-xxl/extrabold":"heading-xxl/extrabold_e17fae",eyebrow:"eyebrow_e17fae","heading-deprecated-12/normal":"heading-deprecated-12/normal_e17fae","heading-deprecated-12/medium":"heading-deprecated-12/medium_e17fae","heading-deprecated-12/semibold":"heading-deprecated-12/semibold_e17fae","heading-deprecated-12/bold":"heading-deprecated-12/bold_e17fae","heading-deprecated-12/extrabold":"heading-deprecated-12/extrabold_e17fae","redesign/heading-18/bold":"redesign/heading-18/bold_e17fae","text-xxs/normal":"text-xxs/normal_e17fae","text-xxs/medium":"text-xxs/medium_e17fae","text-xxs/semibold":"text-xxs/semibold_e17fae","text-xxs/bold":"text-xxs/bold_e17fae","text-xs/normal":"text-xs/normal_e17fae","text-xs/medium":"text-xs/medium_e17fae","text-xs/semibold":"text-xs/semibold_e17fae","text-xs/bold":"text-xs/bold_e17fae","text-sm/normal":"text-sm/normal_e17fae","text-sm/medium":"text-sm/medium_e17fae","text-sm/semibold":"text-sm/semibold_e17fae","text-sm/bold":"text-sm/bold_e17fae","text-md/normal":"text-md/normal_e17fae","text-md/medium":"text-md/medium_e17fae","text-md/semibold":"text-md/semibold_e17fae","text-md/bold":"text-md/bold_e17fae","text-lg/normal":"text-lg/normal_e17fae","text-lg/medium":"text-lg/medium_e17fae","text-lg/semibold":"text-lg/semibold_e17fae","text-lg/bold":"text-lg/bold_e17fae","redesign/message-preview/normal":"redesign/message-preview/normal_e17fae","redesign/message-preview/medium":"redesign/message-preview/medium_e17fae","redesign/message-preview/semibold":"redesign/message-preview/semibold_e17fae","redesign/message-preview/bold":"redesign/message-preview/bold_e17fae","redesign/channel-title/normal":"redesign/channel-title/normal_e17fae","redesign/channel-title/medium":"redesign/channel-title/medium_e17fae","redesign/channel-title/semibold":"redesign/channel-title/semibold_e17fae","redesign/channel-title/bold":"redesign/channel-title/bold_e17fae","display-sm":"display-sm_e17fae","display-md":"display-md_e17fae","display-lg":"display-lg_e17fae",code:"code_e17fae",live:"live_e17fae",liveShapeRound:"liveShapeRound_e17fae",liveShapeRoundLeft:"liveShapeRoundLeft_e17fae",liveShapeRoundRight:"liveShapeRoundRight_e17fae",grey:"grey_e17fae",liveLarge:"liveLarge_e17fae",liveSmall:"liveSmall_e17fae eyebrow_e17fae"})},220646:function(e,t,n){e.exports={containerScrollGradient:"containerScrollGradient_c2f634"}},578257:function(e,t,n){e.exports={container:"container_e8df26",header:"header_e8df26",headerBackground:"headerBackground_e8df26",headerTop:"headerTop_e8df26",headerImage:"headerImage_e8df26",scroll:"scroll_e8df26",scrollContent:"scrollContent_e8df26",details:"details_e8df26",benefits:"benefits_e8df26",description:"description_e8df26"}},948469:function(e,t,n){e.exports={container:"container_f91bb7",image:"image_f91bb7",description:"description_f91bb7",card:"card_f91bb7",body:"body_f91bb7",purchaseBtn:"purchaseBtn_f91bb7",benefits:"benefits_f91bb7",benefitsContainer:"benefitsContainer_f91bb7",benefitsList:"benefitsList_f91bb7",cardBenefit:"cardBenefit_f91bb7",cardBenefitIcon:"cardBenefitIcon_f91bb7",benefitsSummary:"benefitsSummary_f91bb7"}},965991:function(e,t,n){e.exports={container:"container_c99f26"}},216297:function(e,t,n){e.exports={hoverCard:"hoverCard_d991d3"}}}]);
//# sourceMappingURL=4844889cf4991946fe7e.js.map