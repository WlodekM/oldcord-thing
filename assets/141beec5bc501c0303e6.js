"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["33219"],{102469:function(e,t,n){e.exports=n.p+"3ba8905cc9359ce4d333.svg"},312438:function(e,t,n){e.exports=n.p+"578125bf83669e246bc7.svg"},56512:function(e,t,n){e.exports=n.p+"b15beaba519726a338c8.svg"},38983:function(e,t,n){e.exports=n.p+"574392471ddb7ab036d8.svg"},517474:function(e,t,n){e.exports=n.p+"50b6a7b6c641d4d1bcaa.svg"},720617:function(e,t,n){e.exports=n.p+"ebf84e1aa6fb44b7efdd.png"},272162:function(e,t,n){e.exports=n.p+"88d945109097ad5c745b.png"},632989:function(e,t,n){e.exports=n.p+"62c59076382ded022337.png"},376252:function(e,t,n){e.exports=n.p+"93ab732d58f70a3ed0a2.png"},273226:function(e,t,n){e.exports=n.p+"4c21fb0c99a526b7823c.png"},922026:function(e,t,n){e.exports=n.p+"6e87c747818acee222e7.png"},873180:function(e,t,n){e.exports=n.p+"71efce5219eba43e8ceb.png"},827926:function(e,t,n){e.exports=n.p+"5af35b4ab800d5c7fb54.png"},450559:function(e,t,n){e.exports=n.p+"8e5014ac73e2da4a4bce.svg"},454823:function(e,t,n){e.exports=n.p+"8c9f4abf65e46b1bedea.svg"},951099:function(e,t,n){e.exports=n.p+"274e8ecd28144b14119b.svg"},136347:function(e,t,n){e.exports=n.p+"8ee23ef7e30a6475ce01.svg"},977706:function(e,t,n){e.exports=n.p+"0344122956b006ea4bf8.svg"},403756:function(e,t,n){e.exports=n.p+"fab2f7d5a60c0521d9d8.svg"},536404:function(e,t,n){e.exports=n.p+"ba999695be8a1ce8aa72.svg"},569347:function(e,t,n){e.exports=n.p+"95cebf41f09c3958f1d3.svg"},915600:function(e,t,n){e.exports=n.p+"579173bc7be36cccaefd.svg"},670289:function(e,t,n){e.exports=n.p+"8af67a8c4f4f507be08b.svg"},988298:function(e,t,n){n.d(t,{GG:function(){return a},R2:function(){return s},h7:function(){return l},rh:function(){return r}});var i=n(570140);function l(e,t){return new Promise(n=>{setTimeout(()=>{i.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_OPEN",activity:e,isPrivate:t,resolve:n})},0)})}function r(e){i.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_QUERY",query:e})}function a(e){i.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_SEND",channelId:e})}function s(e){i.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_SEND",userId:e})}},212093:function(e,t,n){n.d(t,{$z:function(){return N},AQ:function(){return S},G7:function(){return I},K5:function(){return E},Ue:function(){return C},bR:function(){return function e(t,n){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],{categoryId:l=_.Hk,preferredLocale:r,offset:d,length:f,tag:g}=n,C=u.ZP.getSearchIndex();if(null==C)return;i&&!function(e){let{query:t,preferredLocale:n,offset:i,limit:l,categoryId:r,tag:s}=e,o=(0,c.s1)(),u=a.stringify({query:t,offset:i,limit:l,preferredLocale:n,categoryId:r,tag:s}),d=o.location.search;(!(null!=d&&d.length>0&&d.startsWith("?"))||d.startsWith("?")&&d.split("?")[1]!==u)&&(0,c.uL)(p.Z5c.GUILD_DISCOVERY,{search:u})}({query:t,preferredLocale:r,offset:d,limit:f,categoryId:l,tag:g}),o.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_FETCH_START",section:p.Lcj.SEARCH,query:t,categoryId:l});let I=Object.assign({},m,n.filters),E=Object.keys(I).map(e=>"".concat(e).concat(I[e]));l!==_.Hk&&E.push("(primary_category_id=".concat(l," OR categories.id=").concat(l,")"));let N=E.join(" AND ");try{let a=C.search(t,{filters:N,optionalFilters:["preferred_locale: ".concat(r)],length:f,offset:d,restrictSearchableAttributes:["name","description","keywords","categories.name","categories.name_localizations.".concat(r),"primary_category.name","primary_category.name_localizations.".concat(r),"vanity_url_code"]}),c=s.tn.get({url:p.ANM.GUILD_DISCOVERY_VALID_TERM,query:{term:t},oldFormErrors:!0});Promise.all([a,c]).then(e=>{let[{hits:n,nbHits:i},{body:{valid:r}}]=e;o.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_FETCH_SUCCESS",section:p.Lcj.SEARCH,query:t,categoryId:l,guilds:r?[...n.map(e=>({...e,id:e.objectID}))]:[],offset:d,limit:f,total:r?Math.min(i,_.lA):0})}).catch(r=>{r.body.retry_after>0&&C===u.ZP.getSearchIndex()?setTimeout(()=>{e(t,n,i)},r.body.retry_after*h.Z.Millis.SECOND):o.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_FETCH_FAILURE",section:p.Lcj.SEARCH,categoryId:l,query:t})})}catch(e){o.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_FETCH_FAILURE",section:p.Lcj.SEARCH,categoryId:l,query:t})}}},gk:function(){return x},uY:function(){return Z}}),n(653041),n(47120);var i=n(807034),l=n(837281),r=n.n(l),a=n(664751),s=n(544891),o=n(570140),c=n(703656),u=n(683301),d=n(230307),h=n(70956),p=n(981631),_=n(731455);let f=window.GLOBAL_ENV.ALGOLIA_KEY,g="production"===window.GLOBAL_ENV.PROJECT_ENV?"prod_discoverable_guilds":"staging"===window.GLOBAL_ENV.PROJECT_ENV?"stg_discoverable_guilds":"dev_discoverable_guilds",m={"auto_removed:":!1,approximate_presence_count:"> 0",approximate_member_count:"> 0"};function C(){if(null==f)return;let e=r()("NKTZZ4AIZU",f,{responsesCache:(0,i.A)()}).initIndex(g);o.Z.wait(()=>o.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_INIT",index:e}))}function I(e,t){let n=u.ZP.getSearchIndex();if(null==n)return;let i=Object.assign({},m,t),l=Object.keys(i).map(e=>"".concat(e).concat(i[e]));try{let t=n.search(e,{filters:l.join(" AND "),facets:["categories.id"]}),i=s.tn.get({url:p.ANM.GUILD_DISCOVERY_VALID_TERM,query:{term:e},oldFormErrors:!0});Promise.all([t,i]).then(t=>{let[{nbHits:n,facets:i},{body:{valid:l}}]=t;o.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_UPDATE_COUNTS",query:e,nbHits:l?n:0,facets:l?i:void 0})})}catch(t){o.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_COUNTS_FAIL",query:e})}}async function E(e){o.Z.dispatch({type:"GUILD_DISCOVERY_POPULAR_FETCH_START",categoryId:e});try{let{guilds:t}=(await s.tn.get({url:p.ANM.GUILD_DISCOVERY,query:a.stringify({categories:[e]}),oldFormErrors:!0})).body;o.Z.dispatch({type:"GUILD_DISCOVERY_POPULAR_FETCH_SUCCESS",categoryId:e,guilds:t})}catch(t){o.Z.dispatch({type:"GUILD_DISCOVERY_POPULAR_FETCH_FAILURE",categoryId:e})}}async function N(e,t){o.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_START",section:p.Lcj.FEATURED});try{let n=await s.tn.get({url:p.ANM.GUILD_DISCOVERY,query:a.stringify({offset:e,limit:t}),oldFormErrors:!0});v(n.body,p.Lcj.FEATURED)}catch(e){o.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_FAILURE",section:p.Lcj.FEATURED})}}async function x(){let e=Object.keys(d.Z.applicationStatistics);o.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_START",section:p.Lcj.GAMES_YOU_PLAY});try{let t=await s.tn.get({url:p.ANM.GUILD_DISCOVERY,query:a.stringify({application_ids:e}),oldFormErrors:!0});v(t.body,p.Lcj.GAMES_YOU_PLAY)}catch(e){o.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_FAILURE",section:p.Lcj.GAMES_YOU_PLAY})}}function S(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];e&&(0,c.uL)(p.Z5c.GUILD_DISCOVERY),o.Z.dispatch({type:"GUILD_DISCOVERY_CLEAR_SEARCH"})}function Z(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.Z.dispatch({type:"GUILD_DISCOVERY_SELECT_CATEGORY",categoryId:e,isHomepage:t})}function v(e,t){let{offset:n,limit:i,guilds:l,total:r}=e;o.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_SUCCESS",section:t,guilds:l,offset:n,limit:i,total:r})}},341382:function(e,t,n){n.d(t,{M:function(){return l}});var i=n(570140);function l(e){i.Z.dispatch({type:"PREMIUM_REQUIRED_MODAL_CLOSE",shouldContinue:e})}n(78839),n(355467)},515753:function(e,t,n){n.d(t,{PZ:function(){return K},Qj:function(){return Q}}),n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(512722),o=n.n(s),c=n(613828),u=n(91192),d=n(873546),h=n(442837),p=n(481060),_=n(493683),f=n(239091),g=n(420660),m=n(702321),C=n(201895),I=n(43267),E=n(933557),N=n(979264),x=n(853856),S=n(93687),Z=n(785232),v=n(280234),T=n(509275),L=n(878857),A=n(204197),b=n(199902),M=n(158776),R=n(306680),y=n(111583),O=n(9156),P=n(594174),j=n(467679),D=n(514342),U=n(28718),G=n(733880),w=n(709054),k=n(998502),B=n(788307),V=n(960670),H=n(981631),F=n(689938),W=n(608418);let Y=k.ZP.getEnableHardwareAcceleration()?p.AnimatedAvatar:p.Avatar,z={offset:{top:2,bottom:2,right:4}},K=e=>(0,i.jsx)(p.Clickable,{className:W.closeButton,...e,focusProps:{offset:{top:-2,bottom:-2,left:-2,right:6}},children:(0,i.jsx)(p.CloseSmallIcon,{size:"md",color:"currentColor",className:W.closeIcon})}),q=()=>(0,i.jsx)(p.StarIcon,{size:"xs",color:"currentColor",className:W.favoriteIcon});class Q extends l.Component{render(){let{route:e,selected:t,icon:n,iconClassName:l,interactiveClassName:r,text:s,children:o,locationState:u,onClick:h,className:_,role:f,"aria-posinset":g,"aria-setsize":m,...C}=this.props;return(0,i.jsx)(G.Z,{className:a()(W.channel,{[W.fullWidth]:d.tq},_),onClick:h,role:f,focusProps:{within:!0,...z},"aria-posinset":g,"aria-setsize":m,children:(0,i.jsx)(p.Interactive,{as:"div",selected:t,className:a()(r,W.interactive,W.linkButton,{[W.interactiveSelected]:t}),children:(0,i.jsxs)(c.rU,{to:{pathname:e,state:u},className:W.link,...C,children:[(0,i.jsx)(U.Z,{selected:t,muted:!1,avatar:(0,i.jsx)(n,{className:a()(W.linkButtonIcon,l),color:"currentColor"}),name:s,innerClassName:W.avatarWithText}),o]})})})}}function J(e){let{channel:t,isGDMFacepileEnabled:r,selected:s=!1,user:d,activities:S,applicationStream:b,isTyping:M,status:y,isMobile:P,lastOnlineTimestamp:w,"aria-posinset":k,"aria-setsize":Q}=e,[J,X]=l.useState(!1),$=l.useRef(null),ee=l.useRef(null),{avatarSrc:et,avatarDecorationSrc:en,eventHandlers:ei}=(0,A.Z)({user:d,size:p.AvatarSizes.SIZE_32,animateOnHover:!(s||J)}),el=(0,h.e7)([O.ZP],()=>O.ZP.isChannelMuted(t.getGuildId(),t.id)),er=(0,h.e7)([R.ZP],()=>R.ZP.getMentionCount(t.id)>0),ea=(0,E.ZP)(t),es=(0,h.e7)([x.Z],()=>x.Z.isFavorite(t.id)),eo=null!=S&&S.length>0,{isRecentlyOnlineShowable:ec,isRecentlyOnlineTrackable:eu}=(0,v.$)(w),ed=!eo&&y===H.Skl.OFFLINE&&null!=w;l.useEffect(()=>{eu&&ed&&v.Z.trackExposure({location:"private_channel"})},[eu,ed]);let eh=()=>{X(!0)},ep=()=>{X(!1)},e_=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null!=e&&(e.preventDefault(),e.stopPropagation()),_.Z.closePrivateChannel(t.id,s,n)},ef=()=>{_.Z.preload(H.ME,t.id)},eg=e=>{e.stopPropagation()},em=e=>{if(e.target===e.currentTarget){var t;null===(t=$.current)||void 0===t||t.click()}},eC=e=>{t.isMultiUserDM()?(0,f.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("25421")]).then(n.bind(n,354741));return n=>(0,i.jsx)(e,{...n,channel:t,selected:s})},{noBlurEvent:!0}):(0,f.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("56826"),n.e("4562")]).then(n.bind(n,131404));return n=>(0,i.jsx)(e,{...n,user:d,channel:t,channelSelected:s})})},eI=e=>{e.preventDefault(),e.stopPropagation();let n=F.Z.Messages.LEAVE_GROUP_DM_TITLE.format({name}),l=F.Z.Messages.LEAVE_GROUP_DM_BODY.format({name});t.isManaged()&&(n=F.Z.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name}),l=F.Z.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name})),(0,p.openModal)(e=>(0,i.jsx)(V.Z,{header:n,body:l,onSubmit:e_,...e}))},eE=()=>{let e={className:W.activity,textClassName:W.activityText,emojiClassName:W.activityEmoji};if(t.isSystemDM())return(0,i.jsx)("div",{className:W.subtext,children:(0,m.Z)(t.id)?F.Z.Messages.SYSTEM_DM_CHANGELOG_STATUS:F.Z.Messages.SYSTEM_DM_ACTIVITY_TEXT});if(t.isMultiUserDM())return(0,i.jsx)("div",{className:W.subtext,children:F.Z.Messages.MEMBERS_HEADER.format({members:t.recipients.length+1})});if(eo)return(0,i.jsx)(B.Z,{...e,activities:S,applicationStream:b,animate:J,hideTooltip:!0,user:d});if(ed&&ec){let e=(0,T.H)(w);return(0,i.jsx)("div",{className:W.subtext,children:e})}return null},eN=()=>{let e=p.AvatarSizes.SIZE_32;if(t.isMultiUserDM())return t.recipients.length>=2&&r&&null==t.icon?(0,i.jsx)(Z.Z,{"aria-hidden":!0,recipients:t.recipients,size:e,isTyping:M,status:y}):(0,i.jsx)(Y,{...ei,src:(0,I.x)(t),"aria-hidden":!0,size:e,status:M?H.Skl.ONLINE:y,isTyping:M});o()(null!=d,"PrivateChannel.renderAvatar: Invalid prop configuration - no user or channel");let n=null;return!d.isSystemUser()&&(n=(0,g.Z)(S)?H.Skl.STREAMING:y),(0,i.jsx)(Y,{...ei,size:p.AvatarSizes.SIZE_32,src:et,avatarDecoration:en,status:n,isMobile:P,isTyping:M,"aria-label":d.username,statusTooltip:!0})},ex=t.isMultiUserDM(),eS=t.isSystemDM(),eZ=(0,L.Q)(),ev=ex||eS||t.type!==H.d4z.DM||(null==d?void 0:d.clan)==null?ea:(0,i.jsxs)(i.Fragment,{children:[ea,(0,i.jsx)(N.ZP,{clan:null==d?void 0:d.clan,userId:null==d?void 0:d.id,inline:!0,disableGuildProfile:!0,className:W.clanTag})]});return(0,i.jsx)(u.mh,{id:t.id,children:e=>{let{role:n,...l}=e;return(0,i.jsx)(G.Z,{className:W.channel,role:n,focusProps:{...z,focusTarget:$,ringTarget:ee},ref:ee,onMouseEnter:eh,onMouseLeave:ep,onMouseDown:ef,onContextMenu:eC,"aria-setsize":Q,"aria-posinset":k,children:(0,i.jsxs)(p.Interactive,{className:a()(W.interactive,{[W.interactiveSystemDM]:eZ&&eS,[W.interactiveSelected]:s}),as:"div",onClick:em,muted:el,selected:s,children:[(0,i.jsx)(c.rU,{innerRef:$,to:H.Z5c.CHANNEL(H.ME,t.id),className:W.link,"aria-label":(0,C.ZP)({channel:t,unread:er}),...l,children:(0,i.jsx)(U.Z,{avatar:eN(),selected:s,highlighted:er,muted:null!=el&&el,subText:eE(),name:(0,i.jsx)(D.Z,{tooltipClassName:W.overflowTooltip,children:ev}),decorators:t.isSystemDM()?(0,i.jsx)(j.Z,{className:W.decorator,type:j.Z.Types.SYSTEM_DM,verified:!0}):null})}),es?(0,i.jsx)(q,{}):null,(0,i.jsx)(K,{"aria-label":ex?F.Z.Messages.LEAVE_GROUP_DM:F.Z.Messages.CLOSE_DM,onClick:ex?eI:e_,onMouseDown:eg})]})})}})}t.ZP=e=>{let{channel:t,selected:n,...l}=e,r=(0,h.e7)([P.default],()=>P.default.getUser(t.getRecipientId())),{isStatusIndicatorEnabled:a,isTypingIndicatorEnabled:s,isFacepileEnabled:o}=S.Z.useExperiment({location:"private_channel"},{autoTrackExposure:!0}),{isRecentlyOnlineEnabled:c}=v.Z.useExperiment({location:"private_channel"},{autoTrackExposure:!1}),u=null==r?void 0:r.id,d=(0,h.cj)([M.Z,b.Z],()=>{let e,n;if(t.isMultiUserDM()){if(a){let n=M.Z.getState().statuses;t.recipients.some(e=>n[e]===H.Skl.ONLINE)&&(e=H.Skl.ONLINE)}}else null!=u&&(e=M.Z.getStatus(u),n=M.Z.getLastOnlineTimestamp(u));return{status:e,lastOnlineTimestamp:n,activities:null!=u?M.Z.getActivities(u):null,applicationStream:null!=u?b.Z.getAnyStreamForUser(u):null,isMobile:null!=u&&M.Z.isMobileOnline(u),isRecentlyOnlineEnabled:c}},[t,u,a,c]),p=(0,h.e7)([P.default,y.Z],()=>{if(t.isMultiUserDM())return!!s&&w.default.keys(y.Z.getTypingUsers(t.id)).some(e=>{var t;return e!==(null===(t=P.default.getCurrentUser())||void 0===t?void 0:t.id)});if(null!=r)return y.Z.isTyping(t.id,t.getRecipientId());return!1},[t,r,s]);return t.isMultiUserDM()?(0,i.jsx)(J,{channel:t,selected:n,isTyping:p,status:d.status===H.Skl.ONLINE?H.Skl.ONLINE:void 0,isGDMFacepileEnabled:o,...l}):(0,i.jsx)(J,{channel:t,selected:n,user:r,isTyping:p,...l,...d})}},960670:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120);var i=n(735250),l=n(470079),r=n(481060),a=n(689938),s=n(995794);function o(e){let{header:t,body:n,onSubmit:o,...c}=e,[u,d]=l.useState(!1);return(0,i.jsxs)(r.ConfirmModal,{header:t,confirmText:a.Z.Messages.LEAVE_GROUP_DM,cancelText:a.Z.Messages.CANCEL,onConfirm:()=>{o(null,u)},...c,children:[(0,i.jsx)(r.Text,{variant:"text-md/normal",children:n}),(0,i.jsx)(r.Checkbox,{type:r.Checkbox.Types.INVERTED,value:u,onChange:()=>d(e=>!e),className:s.checkbox,children:(0,i.jsx)(r.Text,{variant:"text-md/normal",children:a.Z.Messages.LEAVE_GROUP_DM_SILENTLY})})]})}},831218:function(e,t,n){n(47120);var i,l,r,a=n(735250),s=n(470079),o=n(299608),c=n.n(o),u=n(91192),d=n(924826),h=n(442837),p=n(902704),_=n(481060),f=n(925549),g=n(607070),m=n(367907),C=n(453542),I=n(762914),E=n(702321),N=n(518311),x=n(355298),S=n(869404),Z=n(333984),v=n(210887),T=n(592125),L=n(158776),A=n(55589),b=n(153124),M=n(151827),R=n(515753),y=n(981631),O=n(689938),P=n(367358);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(r=i||(i={}))[r.PAGES=0]="PAGES",r[r.DMS=1]="DMS";let D=s.memo(function(){return(0,a.jsxs)("svg",{width:"184",height:"428",viewBox:"0 0 184 428",className:P.empty,children:[(0,a.jsx)("rect",{x:40,y:6,width:144,height:20,rx:10}),(0,a.jsx)("circle",{cx:16,cy:16,r:16}),(0,a.jsx)("rect",{x:40,y:50,width:144,height:20,rx:10,opacity:.9}),(0,a.jsx)("circle",{cx:16,cy:60,r:16,opacity:.9}),(0,a.jsx)("rect",{x:40,y:94,width:144,height:20,rx:10,opacity:.8}),(0,a.jsx)("circle",{cx:16,cy:104,r:16,opacity:.8}),(0,a.jsx)("rect",{x:40,y:138,width:144,height:20,rx:10,opacity:.7}),(0,a.jsx)("circle",{cx:16,cy:148,r:16,opacity:.7}),(0,a.jsx)("rect",{x:40,y:182,width:144,height:20,rx:10,opacity:.6}),(0,a.jsx)("circle",{cx:16,cy:192,r:16,opacity:.6}),(0,a.jsx)("rect",{x:40,y:226,width:144,height:20,rx:10,opacity:.5}),(0,a.jsx)("circle",{cx:16,cy:236,r:16,opacity:.5}),(0,a.jsx)("rect",{x:40,y:270,width:144,height:20,rx:10,opacity:.4}),(0,a.jsx)("circle",{cx:16,cy:280,r:16,opacity:.4}),(0,a.jsx)("rect",{x:40,y:314,width:144,height:20,rx:10,opacity:.3}),(0,a.jsx)("circle",{cx:16,cy:324,r:16,opacity:.3}),(0,a.jsx)("rect",{x:40,y:358,width:144,height:20,rx:10,opacity:.2}),(0,a.jsx)("circle",{cx:16,cy:368,r:16,opacity:.2}),(0,a.jsx)("rect",{x:40,y:402,width:144,height:20,rx:10,opacity:.1}),(0,a.jsx)("circle",{cx:16,cy:412,r:16,opacity:.1})]})});class U extends(l=s.Component){static getDerivedStateFromProps(e){let{children:t,privateChannelIds:n}=e;if(null==t)return{preRenderedChildren:0,nonNullChildren:[],totalRowCount:n.length};{let e=t.filter(e=>null!=e),i=e.length;return{preRenderedChildren:i,nonNullChildren:e,totalRowCount:i+n.length}}}componentDidMount(){let{selectedChannelId:e,homeLink:t}=this.props;null!=e&&null!=t&&t.indexOf(e)>=0&&this.scrollToChannel(e),this.reportAnalytics()}shouldComponentUpdate(e){return!(0,p.Z)(this.props,e,["children"])}componentDidUpdate(e){let{selectedChannelId:t,homeLink:n}=this.props;null!=t&&t!==e.selectedChannelId?this.scrollToChannel(t):null==t&&n!==e.homeLink&&this.scrollToChannel(null),this.reportAnalytics()}scrollToChannel(e){if(null==this._list)return;let{padding:t}=this.props,{preRenderedChildren:n}=this.state,i=null!=e?this.props.privateChannelIds.indexOf(e):-1,l=0;i<0||null==e?this._list.scrollTo({to:l}):(l+=44*(i+n)+t,this._list.scrollIntoViewRect({start:Math.max(l-8,0),end:l+44+8}))}render(){let{privateChannelIds:e,padding:t}=this.props,{preRenderedChildren:n}=this.state;return(0,a.jsx)(u.SJ,{children:i=>{let{ref:l,role:r,...s}=i;return(0,a.jsx)(_.FocusJumpSection,{children:i=>(0,a.jsx)(_.List,{fade:!0,innerRole:r,innerAriaLabel:O.Z.Messages.DIRECT_MESSAGES,innerTag:"ul",ref:e=>{var t;this._list=e,this.props.listRef.current=e,l.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},onScroll:this.handleScroll,className:P.scroller,sectionHeight:this.getSectionHeight,paddingTop:t,paddingBottom:8,rowHeight:this.getRowHeight,renderSection:this.renderSection,renderRow:this.renderRow,sections:[n,Math.max(e.length,1)],...s,...i})})}})}constructor(...e){super(...e),j(this,"state",{initialized:!1,preRenderedChildren:0,totalRowCount:0,nonNullChildren:[]}),j(this,"_list",null),j(this,"hasReportedAnalytics",!1),j(this,"reportAnalytics",()=>{var e;if(this.hasReportedAnalytics)return;let t=null===(e=this._list)||void 0===e?void 0:e.getScrollerState();if(null==t)return;let{privateChannelIds:n,channels:i}=this.props;if(0===n.length)return;let l=s.Children.count(this.props.children);if(null==t)return;let r=Math.round((t.offsetHeight-44*l)/44),a=r>n.length?n.slice(0,r+1):n,o=a.map(e=>null!=i[e]?i[e].getRecipientId():null),c=n.some(e=>(0,E.Z)(e)),u={num_users_visible:a.length,num_users_visible_with_mobile_indicator:o.filter(e=>null!=e&&L.Z.isMobileOnline(e)).length};this.hasReportedAnalytics=!0,m.ZP.trackWithMetadata(y.rMx.DM_LIST_VIEWED,{...u,...(0,C.X)(),changelog_dm_visible:c})}),j(this,"getSectionHeight",e=>{let{showDMHeader:t}=this.props;return 0===e?0:t?40:0}),j(this,"handleScroll",c()(()=>{if(null!=this._list){let e=this._list.getScrollerNode();null!=e&&f.Z.updateChannelListScroll(y.ME,e.scrollTop)}},100)),j(this,"renderDM",(e,t)=>{let{privateChannelIds:n,channels:i,selectedChannelId:l}=this.props,{totalRowCount:r,preRenderedChildren:s}=this.state,o=i[n[t]];return null==o?null:(0,a.jsx)(R.ZP,{channel:o,selected:o.id===l,"aria-posinset":s+t+1,"aria-setsize":r},o.id)}),j(this,"renderChild",e=>{let{nonNullChildren:t,totalRowCount:n}=this.state,i=t[e];return s.isValidElement(i)?s.cloneElement(i,{"aria-setsize":n,"aria-posinset":e+1}):i}),j(this,"renderRow",e=>{let{section:t,row:n}=e,{privateChannelIds:i}=this.props;return 0===t?this.renderChild(n):0===n&&0===i.length?(0,a.jsx)(D,{},"no-private-channels"):this.renderDM(t,n)}),j(this,"renderSection",e=>{let{section:t}=e,{showDMHeader:n}=this.props;return 0!==t&&n?(0,a.jsxs)(M.Z,{className:P.privateChannelsHeaderContainer,children:[(0,a.jsx)("span",{className:P.headerText,children:O.Z.Messages.DIRECT_MESSAGES}),(0,a.jsx)(N.Z,{tooltip:O.Z.Messages.CREATE_DM,tooltipPosition:"top",popoutAlign:"left",iconClassName:P.privateChannelRecipientsInviteButtonIcon,icon:_.PlusSmallIcon,subscribeToGlobalHotkey:!0})]},t):null}),j(this,"getRowHeight",(e,t)=>{let{privateChannelIds:n}=this.props;return 1===e&&0===t&&0===n.length?428:44})}}j(U,"defaultProps",{padding:8});t.Z=e=>{let{version:t,theme:n,children:i,showDMHeader:l}=e,r=s.Children.count(i),o=T.Z.getMutablePrivateChannels(),c=(0,S.k1)(o),p=(0,h.Wu)([A.Z,x.Z,Z.Z],()=>{let e=A.Z.getPrivateChannelIds(),t=(0,S.tU)(e,[x.Z,Z.Z]);return(0,I.Ce)(t)},[]),_=(0,h.cj)([g.Z,v.Z,T.Z],()=>({theme:v.Z.darkSidebar?y.BRd.DARK:n,keyboardModeEnabled:g.Z.keyboardModeEnabled,version:null!=t?"".concat(t,":").concat(T.Z.getPrivateChannelsVersion()):T.Z.getPrivateChannelsVersion()})),f=s.useRef(null),m=s.useCallback(e=>{let t=f.current,n=document.querySelector(e);null!=t&&null!=n&&t.scrollIntoViewNode({node:n,callback:()=>{requestAnimationFrame(()=>{var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})})}})},[]),C=s.useCallback(()=>new Promise(e=>{let t=f.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[]),E=s.useCallback(()=>new Promise(e=>{let t=f.current;if(null==t)return e();t.scrollToBottom({callback(){requestAnimationFrame(()=>setTimeout(e,100))}})}),[]),N=(0,b.Dt)(),L=(0,d.ZP)({id:"private-channels-".concat(N),isEnabled:_.keyboardModeEnabled,scrollToStart:C,scrollToEnd:E,defaultFocused:(r+(l?1:0)).toString(),setFocus:m});return(0,a.jsx)(u.bG,{navigator:L,children:(0,a.jsx)(U,{channels:c,privateChannelIds:p,listRef:f,theme:n,version:t,...e,children:i,..._})})}},353042:function(e,t,n){n(653041),n(47120);var i,l=n(470079),r=n(846519);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends(i=l.Component){componentDidMount(){this.update(),this._interval.start(this.props.updateInterval,this.update)}componentWillUnmount(){this._interval.stop()}calculateInitialDeltaBytes(e){let{numUpdatesToShow:t,updateInterval:n,pointsToSmooth:i}=this.props,l=Date.now(),r=0,a=0,s=[],o=null!=e[0]?e[0].bytes:0;for(;r<t+i;r++){let t;let i=l-(r+1)*n;for(;a<e.length;)if((t=e[a]).timestamp>i)a++;else break;if(a===e.length)break;null!=t&&(s.push(o-t.bytes),o=t.bytes)}for(;r<t+i;r++)s.push(0);return s.reverse(),s}smoothDeltaBytes(e){let{pointsToSmooth:t}=this.props,n=[];for(let i=0;i<e.length-t;i++){let l=0;for(let n=0;n<t;n++)l+=e[i+n];n.push(l/t)}return n}render(){let{numUpdatesToShow:e,updateInterval:t,children:n}=this.props;return n(this.state.smoothedDeltaBytes,t,e)}constructor(e){super(e),a(this,"_interval",new r.Xp),a(this,"update",()=>{let{onUpdate:e,numUpdatesToShow:t,pointsToSmooth:n,updateInterval:i}=this.props,l=this.props.getHistoricalTotalBytes(),r=null!=l[0]?l[0].bytes:0,a=[...this.state.deltaBytes.slice(1,t+n),r-this.state.lastTotalBytes];this.setState({deltaBytes:a,smoothedDeltaBytes:this.smoothDeltaBytes(a),lastTotalBytes:r},()=>null!=e&&e(i))});let t=this.props.getHistoricalTotalBytes(),n=this.calculateInitialDeltaBytes(t);this.state={deltaBytes:n,smoothedDeltaBytes:this.smoothDeltaBytes(n),lastTotalBytes:null!=t[0]?t[0].bytes:0}}}a(s,"defaultProps",{numUpdatesToShow:30,updateInterval:500,pointsToSmooth:10}),t.Z=s},339149:function(e,t,n){n.d(t,{E:function(){return L}}),n(47120),n(724458),n(653041);var i,l=n(735250),r=n(470079),a=n(120356),s=n.n(a),o=n(748780),c=n(442837),u=n(692547),d=n(215569),h=n(481060),p=n(812206),_=n(703656),f=n(417363),g=n(941128),m=n(366966),C=n(780570),I=n(353042),E=n(981631),N=n(689938),x=n(182216);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Z={[E.vxO.INSTALLING]:{[m.J6.NONE]:(e,t)=>N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e}),[m.J6.SECONDS]:(e,t)=>N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t}),[m.J6.MINUTES]:(e,t)=>N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t}),[m.J6.HOURS]:(e,t)=>N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})},[E.vxO.UPDATING]:{[m.J6.NONE]:(e,t)=>N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING.format({name:e}),[m.J6.SECONDS]:(e,t)=>N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_SECONDS.format({name:e,timeRemaining:t}),[m.J6.MINUTES]:(e,t)=>N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_MINUTES.format({name:e,timeRemaining:t}),[m.J6.HOURS]:(e,t)=>N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_HOURS.format({name:e,timeRemaining:t})},[E.vxO.REPAIRING]:{[m.J6.NONE]:(e,t)=>N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e}),[m.J6.SECONDS]:(e,t)=>N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t}),[m.J6.MINUTES]:(e,t)=>N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t}),[m.J6.HOURS]:(e,t)=>N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})}};class v extends r.PureComponent{renderText(){let{state:e,isPaused:t}=this.props;if(e.type===E.vxO.UPDATING||e.type===E.vxO.REPAIRING||e.type===E.vxO.INSTALLING){if(t)return N.Z.Messages.APPLICATION_PROGRESS_INDICATOR_PAUSED;if(e.stage===E.f07.PATCHING||e.stage===E.f07.REPAIRING)return(0,l.jsx)(I.Z,{getHistoricalTotalBytes:f.Z.getHistoricalTotalBytesWritten,updateInterval:5e3,children:this.renderProgressBody})}return null}render(){let e=this.renderText();return null!=e?e:N.Z.Messages.LIBRARY}constructor(...e){super(...e),S(this,"renderProgressBody",(e,t)=>{let{state:n,application:i}=this.props,{stage:l,progress:r,total:a,type:s}=n;if(null==r||null==a||null==l)return null;let o=e[e.length-1]/t*1e3,c=0!==o?Math.max(1,(a-r)/o):null,u=Z[s],d=null!=u?Object.keys(u):[],{unit:h,time:p}=(0,m.CI)(null!=c?c/60:null,d);if(null!=u&&null!=h){let e=u[h];return null!=e?e(i.name,p):null}return null})}}class T extends(i=r.PureComponent){componentWillAppear(e){this.state.animationScale.setValue(1),e()}componentWillEnter(e){o.Z.spring(this.state.animationScale,{toValue:1,duration:200}).start(e)}componentWillLeave(e){o.Z.spring(this.state.animationScale,{toValue:0,duration:200}).start(e)}getTooltipText(){let{firstApplication:e,firstState:t,isPaused:n}=this.props;return null==e||null==t?N.Z.Messages.LIBRARY:(0,l.jsx)(v,{application:e,state:t,isPaused:n})}render(){let{percent:e,isPaused:t,className:n}=this.props;return(0,l.jsx)(o.Z.div,{style:{transform:[{scale:this.state.animationScale}]},className:s()(n,x.progressContainer),onClick:this.handleOnClick,children:(0,l.jsx)(h.Tooltip,{text:this.getTooltipText(),position:"right","aria-label":!1,children:n=>(0,l.jsx)("div",{...n,children:(0,l.jsx)(h.ProgressCircle,{percent:e,colorOverride:t?u.Z.unsafe_rawColors.PRIMARY_500.css:null,children:(0,l.jsx)(h.DownloadIcon,{size:"md",color:"currentColor",className:x.downloadIcon})})})})})}constructor(...e){super(...e),S(this,"state",{animationScale:new o.Z.Value(0)}),S(this,"handleOnClick",e=>{let{onClick:t}=this.props;e.preventDefault(),e.stopPropagation(),null!=t&&t(e),(0,_.uL)(E.Z5c.APPLICATION_LIBRARY)})}}S(T,"defaultProps",{strokeSize:h.ProgressCircle.StrokeSizes.MEDIUM});function L(e,t){return e.reduce((e,n)=>{let{applicationId:i,branchId:l}=n,r=t.getState(i,l);return null!=r&&e.push(r),e},[])}t.Z=c.ZP.connectStores([g.Z,f.Z,p.Z],()=>{let e=g.Z.activeItems,t=L(e,f.Z),{total:n,progress:i}=C.lK(t);return{percent:C.xI(i,n),isPaused:g.Z.paused,firstApplication:e.length>0?p.Z.getApplication(e[0].applicationId):null,firstState:t.length>0?t[0]:null}})(e=>{let{determineOwnVisibility:t=!0,...n}=e;return t?(0,l.jsx)(d.W,{component:r.Fragment,children:n.percent>0&&n.percent<100?(0,l.jsx)(T,{...n}):null}):(0,l.jsx)(T,{...n})})},170509:function(e,t,n){n.r(t),n.d(t,{default:function(){return o}});var i=n(735250);n(470079);var l=n(481060),r=n(933557),a=n(689938),s=n(101212);function o(e){let{channel:t,category:n,...o}=e,c=(0,r.ZP)(t,!0),u=(0,r.ZP)(n);return(0,i.jsx)(l.ConfirmModal,{header:a.Z.Messages.CONFIRM_CHANNEL_DRAG_TITLE,confirmText:a.Z.Messages.SYNC_PERMISSIONS,cancelText:a.Z.Messages.KEEP_PERMISSIONS,confirmButtonColor:l.Button.Colors.BRAND,...o,children:(0,i.jsx)(l.Text,{variant:"text-md/normal",className:s.message,selectable:!1,children:a.Z.Messages.SYNC_PERMISSIONS_EXPLANATION.format({channelName:c,categoryName:u})})})}},146773:function(e,t,n){n.d(t,{B:function(){return v}});var i=n(735250);n(470079);var l=n(582966),r=n(895162),a=n(433517),s=n(481060),o=n(749210),c=n(170509),u=n(740504),d=n(117984),h=n(398758),p=n(680089),_=n(592125),f=n(324067),g=n(984933),m=n(430824),C=n(496675),I=n(914010),E=n(281029),N=n(700785),x=n(981631);let S="DRAGGABLE_GUILD_CHANNEL";function Z(e,t){var n,i;if(null==e||null==t)return null;if(e!==x.I_8)return _.Z.getChannel(t);let l=g.ZP.getChannels(e),r=null!==(i=null!==(n=l[g.sH].find(e=>e.channel.id===t))&&void 0!==n?n:l[g.Zb].find(e=>e.channel.id===t))&&void 0!==i?i:l[x.d4z.GUILD_CATEGORY].find(e=>e.channel.id===t);return null==r?void 0:r.channel}function v(e){return(0,l.G)(S,{drop(e,t){let n;let l=I.Z.getGuildId(),r=t.getItem(),a=(0,E.if)(Z(l,r.id),r.position,e.channel,e.position,r.channelList);if(null==a)return;let u=Z(l,r.id);if(null==u)return;let h=f.Z.getCategories(l),p=m.Z.getGuild(l);if(null==p)return;let g=(0,E.Dn)(u,Z(l,a.referenceId),a.parentId,h);if(0!==g.length){if(l===x.I_8){(0,d.s3)(g);return}if(g=g.filter(e=>{let{id:t}=e,n=_.Z.getChannel(t);if(null==n)return!1;let i=_.Z.getChannel(n.parent_id);return n.type===x.d4z.GUILD_CATEGORY||null==i?C.Z.can(x.Plq.MANAGE_CHANNELS,p):C.Z.can(x.Plq.MANAGE_CHANNELS,i)}),u.parent_id!==a.parentId&&g.find(e=>{if(e.id!==u.id)return!1;let t=_.Z.getChannel(e.parent_id);if(!(null!=t&&C.Z.can(x.Plq.MANAGE_ROLES,u)&&C.Z.can(x.Plq.MANAGE_ROLES,t)))return!0;let i=N.o4(u,t),l=N.o4(u,_.Z.getChannel(u.parent_id));return(null==u.parent_id&&!i||l&&!i)&&(n=e),!0}),null!=n){let e=_.Z.getChannel(n.parent_id);null!=e&&(0,s.openModal)(t=>(0,i.jsx)(c.default,{...t,channel:u,category:e,onConfirm:()=>{null!=n&&(n.lock_permissions=!0,o.Z.batchChannelUpdate(l,g))},onCancel:()=>{null!=n&&o.Z.batchChannelUpdate(l,g)}}))}else o.Z.batchChannelUpdate(l,g)}},canDrop(e,t){let n=t.getItem(),i=_.Z.getChannel(n.id);if(null==i)return!1;let l=(0,E.if)(_.Z.getChannel(n.id),n.position,e.channel,e.position,n.channelList);if(null==l)return!1;if(I.Z.getGuildId()===x.I_8)return!0;let r=m.Z.getGuild(n.guildId);if(null==r)return!1;let a=_.Z.getChannel(l.parentId),s=_.Z.getChannel(i.parent_id),o=C.Z.can(x.Plq.MANAGE_CHANNELS,r),c=null!=s?C.Z.can(x.Plq.MANAGE_CHANNELS,s):o,u=null!=a?C.Z.can(x.Plq.MANAGE_CHANNELS,a):o;return c&&u}},(e,t)=>{let n=t.getItem();return null==n||null==n.isChannelDrag?{connectChannelDropTarget:e.dropTarget(),sorting:!1,sortingType:null,sortingPosition:null,sortingParent:null}:{connectChannelDropTarget:e.dropTarget(),sorting:!0,sortingType:n.type,sortingPosition:t.isOver()&&t.canDrop()?n.position:null,sortingParent:t.isOver()&&t.canDrop()?n.parentId:null}})((0,r.E)(S,{canDrag(e){let{channel:t}=e;if(I.Z.getGuildId()===x.I_8)return!0;let l=m.Z.getGuild(t.getGuildId());if(null==l)return!1;if((0,h.r1)(l.id)&&C.Z.can(x.Plq.MANAGE_CHANNELS,l))return"true"!==a.K.get("doNotShowReorderModal")&&(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("82560").then(n.bind(n,391312));return t=>(0,i.jsx)(e,{...t})}),!1;if(t.type===x.d4z.GUILD_CATEGORY)return C.Z.can(x.Plq.MANAGE_CHANNELS,l)&&!(0,h.r1)(l.id);let r=_.Z.getChannel(t.parent_id);return null!=r&&C.Z.can(x.Plq.MANAGE_CHANNELS,r)||null==r&&C.Z.can(x.Plq.MANAGE_CHANNELS,l)},beginDrag(e){let{channel:{id:t,parent_id:n,guild_id:i,type:l},position:r}=e,a=I.Z.getGuildId(),s=f.Z.getCategories(a);return{isChannelDrag:!0,id:t,position:r,parentId:n,type:l,channelList:(0,u.Z)(s._categories,s,e=>{let{channel:t}=e;if(t.type===x.d4z.GUILD_CATEGORY&&null!=s[t.id]&&0===s[t.id].length)return a===x.I_8||C.Z.can(x.Plq.MANAGE_CHANNELS,t)&&C.Z.can(x.Plq.VIEW_CHANNEL,t);return!p.Z.isCollapsed(t.parent_id)}),guildId:i}}},e=>({connectChannelDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}))(e))}},93582:function(e,t,n){n.d(t,{q:function(){return function e(t){return"string"==typeof t||"number"==typeof t?t:t instanceof Array?t.map(e).join(""):i.isValidElement(t)?e(t.props.children):void 0}}});var i=n(470079)},589440:function(e,t,n){n.d(t,{q:function(){return i.q}});var i=n(93582)},167042:function(e,t,n){n.d(t,{$:function(){return l}});var i=n(51596);let l={binds:["mod+k","mod+t"],comboKeysBindGlobal:!0,action:()=>((0,i.$Z)("KEYBIND",""),!1)}},951483:function(e,t,n){n.d(t,{Sr:function(){return S},Xq:function(){return Z},Zg:function(){return v}}),n(411104);var i=n(186070),l=n(185514),r=n(360038),a=n(175724),s=n(705371),o=n(138976),c=n(167042),u=n(239748),d=n(337482),h=n(679080),p=n(510761),_=n(189509),f=n(673553),g=n(280492),m=n(746887),C=n(721383),I=n(743810),E=n(981631),N=n(689938);function x(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(e=>{let t=S[e];if(null==t)throw Error("getBindsFor(...): No bind for ".concat(t));return t.binds[0]})}let S={[E.EkH.SERVER_NEXT]:p.nq,[E.EkH.SERVER_PREV]:p.X3,[E.EkH.CHANNEL_NEXT]:l.tQ,[E.EkH.CHANNEL_PREV]:l.x5,[E.EkH.NAVIGATE_BACK]:l.Nx,[E.EkH.NAVIGATE_FORWARD]:l.On,[E.EkH.UNREAD_NEXT]:I.pd,[E.EkH.UNREAD_PREV]:I.wk,[E.EkH.MENTION_CHANNEL_NEXT]:I.Nv,[E.EkH.MENTION_CHANNEL_PREV]:I.uX,[E.EkH.TOGGLE_PREVIOUS_GUILD]:l.$c,[E.EkH.JUMP_TO_GUILD]:r.u,[E.EkH.SUBMIT]:_.z,[E.EkH.TEXTAREA_FOCUS]:f.U,[E.EkH.MARK_CHANNEL_READ]:a.f,[E.EkH.MARK_SERVER_READ]:s.l,[E.EkH.TOGGLE_MUTE]:g.iN,[E.EkH.TOGGLE_DEAFEN]:g.oV,[E.EkH.TOGGLE_CATEGORY_COLLAPSED]:m.u,[E.EkH.SCROLL_UP]:d.B2,[E.EkH.SCROLL_DOWN]:d.gN,[E.EkH.SEARCH_EMOJIS]:h.S,[E.EkH.TOGGLE_HOTKEYS]:C._,[E.EkH.JUMP_TO_FIRST_UNREAD]:o.O,[E.EkH.RETURN_TO_AUDIO_CHANNEL]:u.F,[E.EkH.CALL_ACCEPT]:i.IL,[E.EkH.CALL_START]:i.FI,[E.EkH.QUICKSWITCHER_SHOW]:c.$},Z={[E.EkH.QUICKSWITCHER_SHOW]:c.$};function v(){return[{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:x(E.EkH.SERVER_PREV,E.EkH.SERVER_NEXT)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:x(E.EkH.CHANNEL_PREV,E.EkH.CHANNEL_NEXT)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_BACK_FORWARD,binds:x(E.EkH.NAVIGATE_BACK,E.EkH.NAVIGATE_FORWARD)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:x(E.EkH.UNREAD_PREV,E.EkH.UNREAD_NEXT)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:x(E.EkH.MENTION_CHANNEL_PREV,E.EkH.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:x(E.EkH.TOGGLE_PREVIOUS_GUILD)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:x(E.EkH.MARK_SERVER_READ)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:x(E.EkH.MARK_CHANNEL_READ)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:x(E.EkH.SEARCH_EMOJIS),groupEnd:!0},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,binds:x(E.EkH.TOGGLE_MUTE)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:x(E.EkH.TOGGLE_DEAFEN)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:x(E.EkH.CALL_ACCEPT)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:x(E.EkH.MARK_CHANNEL_READ)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:x(E.EkH.CALL_START),groupEnd:!0},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:x(E.EkH.SCROLL_UP,E.EkH.SCROLL_DOWN)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:x(E.EkH.JUMP_TO_FIRST_UNREAD)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:x(E.EkH.TEXTAREA_FOCUS)},{description:N.Z.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:x(E.EkH.QUICKSWITCHER_SHOW)}]}},134616:function(e,t,n){n.d(t,{u:function(){return u}});var i=n(374470),l=n(481060),r=n(40851),a=n(574254),s=n(585483),o=n(547420),c=n(981631);let u={POP_LAYER:{binds:["esc"],comboKeysBindGlobal:!0,action(e){if((0,l.isInDndMode)())return!1;if(s.S.hasSubscribers(c.CkL.CALL_DECLINE))return s.S.dispatch(c.CkL.CALL_DECLINE),!1;if(a.Z.close())return!1;if((0,i.k)(e.target)){let t=(0,r.J5)(e.target);if(null==t?void 0:t.hasSubscribers(c.CkL.POPOUT_CLOSE))return t.dispatch(c.CkL.POPOUT_CLOSE),!1}if(s.S.hasSubscribers(c.CkL.MODAL_CLOSE))return s.S.dispatch(c.CkL.MODAL_CLOSE),!1;s.S.dispatch(c.CkL.LAYER_POP_ESCAPE_KEY)}},...o.ZP}},472365:function(e,t,n){n.d(t,{Z:function(){return U}}),n(411104);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(399606),o=n(481060),c=n(588705),u=n(100527),d=n(906732),h=n(388905),p=n(792766),_=n(451603),f=n(885714),g=n(973616),m=n(594174),C=n(285952),I=n(672752),E=n(153124),N=n(855981),x=n(55543),S=n(626135),Z=n(768581),v=n(358085),T=n(998502),L=n(379164),A=n(590965),b=n(981631),M=n(474936),R=n(689938),y=n(71044),O=n(331651);function P(){let{analyticsLocations:e,sourceAnalyticsLocations:t}=(0,d.ZP)(u.Z.PREMIUM_UPSELL_TOOLTIP);return l.useEffect(()=>{S.default.track(b.rMx.PREMIUM_UPSELL_VIEWED,{type:M.cd.GUILD_CAP_INLINE_INVITE_MODAL,location:{page:b.ZY5.NATIVE_INVITE_MODAL},location_stack:t})},[t]),(0,i.jsxs)(o.Clickable,{onClick:()=>(0,f.Z)({analyticsSource:{page:b.Sbl.EXTERNAL_INVITE_LINK_MODAL},analyticsLocation:{page:b.Sbl.EXTERNAL_INVITE_LINK_MODAL,section:b.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:e}),className:y.experimentUpsellError,children:[(0,i.jsx)(o.NitroWheelIcon,{size:"md",className:y.experimentUpsellIcon,color:I.JX.PREMIUM_TIER_2}),(0,i.jsx)("span",{className:y.experimentUpsellText,children:R.Z.Messages.GUILD_CAP_UPSELL_TOOLTIP}),(0,i.jsx)("span",{className:y.experimentGetNitro,children:R.Z.Messages.GUILD_CAP_UPSELL_GET_NITRO})]})}function j(e){let{className:t}=e;return(0,i.jsxs)("div",{"aria-hidden":"true",className:a()(y.iconContainer,t),children:[(0,i.jsx)(N.Z,{className:y.iconSparklePlus}),(0,i.jsx)(o.LinkIcon,{size:"custom",color:"currentColor",className:y.iconLink,width:40,height:40}),(0,i.jsx)(x.Z,{className:y.iconSparkleStar})]})}function D(e){let{transitionState:t}=e,n=(0,E.Dt)(),{analyticsLocations:l}=(0,d.ZP)(u.Z.INVITE_MODAL);return(0,i.jsx)(d.Gt,{value:l,children:(0,i.jsx)(o.ModalRoot,{size:o.ModalSize.DYNAMIC,"aria-labelledby":n,transitionState:t,children:(0,i.jsxs)(o.ModalContent,{className:y.errorContent,children:[(0,i.jsx)(j,{className:y.errorImage}),(0,i.jsx)(o.Heading,{id:n,variant:"heading-xl/semibold",color:"header-primary",children:R.Z.Messages.INVITE_MODAL_ERROR_INVALID_TITLE}),(0,i.jsx)("div",{className:y.errorBody,children:R.Z.Messages.INVITE_MODAL_ERROR_INVALID_BODY}),(0,i.jsx)(h.zx,{size:h.zx.Sizes.LARGE,onClick:()=>L.Z.close(),color:h.zx.Colors.BRAND,children:R.Z.Messages.INVITE_MODAL_ERROR_BUTTON_TEXT})]})})})}function U(e){let t,n,{transitionState:r}=e;(0,s.e7)([m.default],()=>{var e;return null===(e=m.default.getCurrentUser())||void 0===e?void 0:e.premiumType});let{invite:f,error:I,submitting:N}=(0,s.cj)([A.Z],()=>A.Z.getProps());l.useEffect(()=>{!__OVERLAY__&&v.isPlatformEmbedded&&((0,v.isWindows)()?T.ZP.minimize():T.ZP.restore(),T.ZP.focus())},[]);let x=(0,E.Dt)(),{analyticsLocations:S}=(0,d.ZP)(u.Z.INVITE_MODAL);if(null==f)return null;if(f.state===b.r2o.EXPIRED||f.state===b.r2o.BANNED||f.state===b.r2o.ERROR)return(0,i.jsx)(D,{transitionState:r});if(null==f.channel)return null;function M(){null!=f&&L.Z.acceptInvite(f)}let{guild:j,channel:U,inviter:G,target_application:w}=f,k=null!=j,B=null!=f.stage_instance,V=null==f.guild&&null==f.channel&&null!=f.inviter;if(null!=w)t=null==j?void 0:j.name,n=g.Z.createFromServer(w).getCoverImageURL(1024);else if(null!=j)t=j.name,n=Z.ZP.getGuildSplashURL({id:j.id,splash:j.splash});else if((null==(t=U.name)||""===t)&&null!=G&&(t=G.username),null==t)throw Error("no name for group DM invite");let H=(0,_.yU)(),F=B?R.Z.Messages.INSTANT_INVITE_ACCEPT_STAGE:R.Z.Messages.INVITE_MODAL_BUTTON.format({guildName:t});return V&&(F=R.Z.Messages.ACCEPT_INVITE_MODAL_BUTTON),(0,i.jsx)(d.Gt,{value:S,children:(0,i.jsxs)(o.ModalRoot,{size:o.ModalSize.DYNAMIC,"aria-labelledby":x,transitionState:r,className:y.container,children:[(0,i.jsx)("div",{className:y.contentWrapper,children:(0,i.jsx)(o.Scroller,{className:y.scroller,children:(0,i.jsxs)(C.Z,{className:y.inviteContent,direction:C.Z.Direction.VERTICAL,justify:C.Z.Justify.BETWEEN,children:[(0,i.jsx)("div",{id:x,className:O.marginBottom20,children:(0,i.jsx)(c.Z,{invite:f,disableUser:k,error:I})}),B&&null!=j?(0,i.jsx)("div",{className:a()(O.marginBottom20,y.stage),children:(0,i.jsx)(p.Z,{isCard:!0,stageInstance:f.stage_instance,guild:j})}):null,(0,i.jsxs)("div",{children:[H?(0,i.jsx)(P,{}):null,null==w?(0,i.jsx)(o.Tooltip,{text:H?R.Z.Messages.TOO_MANY_USER_GUILDS_DESCRIPTION:null,position:"bottom",children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,i.jsx)(h.zx,{size:h.zx.Sizes.LARGE,onClick:M,submitting:N,disabled:H,color:B?h.zx.Colors.GREEN:h.zx.Colors.BRAND,onMouseEnter:t,onMouseLeave:n,children:H?R.Z.Messages.GUILD_CAP_INVITE_MODAL_BUTTON:F})}}):(0,i.jsxs)("div",{className:y.buttonGroup,children:[(0,i.jsx)(h.zx,{size:h.zx.Sizes.LARGE,onClick:M,submitting:N,children:R.Z.Messages.PLAY}),(0,i.jsx)(h.zx,{color:h.zx.Colors.PRIMARY,size:h.zx.Sizes.LARGE,onClick:M,submitting:N,children:R.Z.Messages.SPECTATE})]}),(0,i.jsx)(C.Z,{justify:C.Z.Justify.CENTER,className:O.marginTop8,children:(0,i.jsx)(h.zx,{look:h.zx.Looks.LINK,className:y.noThanksButton,onClick:function(){L.Z.close()},color:h.zx.Colors.TRANSPARENT,children:R.Z.Messages.INIVTE_MODAL_NO_THANKS})})]})]})})}),null!=n&&(0,i.jsx)("div",{className:y.inviteSplash,style:{backgroundImage:"url(".concat(n,")")}})]})})}},379164:function(e,t,n){var i=n(570140),l=n(447543),r=n(782605);t.Z={acceptInvite(e){let t=l.Z.getInviteContext("Desktop Invite Modal",e);l.Z.acceptInvite({inviteKey:e.code,context:t,callback:e=>{null!=e&&null!=e.guild&&null!=e.channel&&!__OVERLAY__&&l.Z.transitionToInvite(e)}}).then(()=>this.close(),e=>{i.Z.dispatch({type:"INVITE_MODAL_ERROR",message:(0,r.O)(e.code)})})},close(){i.Z.dispatch({type:"INVITE_MODAL_CLOSE"})}}},185666:function(e,t,n){var i=n(735250);n(470079);var l=n(481060),r=n(570140),a=n(317770),s=n(472365),o=n(590965);let c="INVITE_MODAL_KEY";class u extends a.Z{_initialize(){r.Z.subscribe("INVITE_MODAL_OPEN",this.handleOpenModal),r.Z.subscribe("INVITE_MODAL_CLOSE",this.handleCloseModal)}_terminate(){(0,l.closeModal)(c),r.Z.unsubscribe("INVITE_MODAL_OPEN",this.handleOpenModal),r.Z.unsubscribe("INVITE_MODAL_CLOSE",this.handleCloseModal)}handleOpenModal(){o.Z.isOpen()&&!(0,l.hasModalOpen)(c)&&(0,l.openModal)(e=>(0,i.jsx)(s.Z,{...e}),{modalKey:c,onCloseRequest:()=>r.Z.dispatch({type:"INVITE_MODAL_CLOSE"})})}handleCloseModal(){(0,l.closeModal)(c)}}t.Z=new u},590965:function(e,t,n){let i;n(47120),n(653041);var l,r,a,s,o=n(442837),c=n(570140),u=n(413605),d=n(703656),h=n(131704),p=n(601964),_=n(592125),f=n(430824),g=n(701190),m=n(496675),C=n(594174),I=n(998502),E=n(981631),N=n(176505);let x=E.IlC.APP,S=!1,Z=!1,v=[];function T(){S=!0}class L extends(l=o.ZP.Store){initialize(){this.waitFor(f.Z,g.Z,C.default)}isOpen(){let e=__OVERLAY__?E.IlC.OVERLAY:E.IlC.APP;return!!(S&&v.length>0&&x===e)}getProps(){return{invite:v.length>0?v[0][0]:null,error:null!=i&&""!==i?i:null,submitting:Z}}}s="InviteModalStore",(a="displayName")in(r=L)?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,t.Z=new L(c.Z,{OVERLAY_INITIALIZE:T,CONNECTION_OPEN:T,CONNECTION_CLOSED:function(){S=!1},INVITE_MODAL_OPEN:function(e){let t=e.invite;if(null==t)return!1;if(!(t.state===E.r2o.EXPIRED||t.state===E.r2o.BANNED||t.state===E.r2o.ERROR)){let{channel:e,guild:n}=t;if(null==e)return!1;if((0,h.bc)(e.type)){if(null!=_.Z.getChannel(e.id))return(0,d.XU)(E.ME,e.id),I.ZP.focus(),!1}else{if(null==n)return!1;if(null!=f.Z.getGuild(n.id)&&!(0,u.TY)(t)){let e=function(e){if((0,u.W6)(e))return N.oC.ROLE_SUBSCRIPTIONS;let{channel:t}=e;if(null!=t){let e=_.Z.getChannel(t.id);if(m.Z.can(E.Plq.VIEW_CHANNEL,e))return t.id}return null}(t);return(0,d.XU)(n.id,e),I.ZP.focus(),!1}}}if(v.some(e=>{let[n]=e;return n.code===t.code}))return!1;x=e.context,Z=!1;let n=function(e){let{approximate_member_count:t,approximate_presence_count:n,code:i,state:l,target_type:r,target_user:a,target_application:s,stage_instance:o,type:c,channel:u,guild:d}=e,h={code:i,state:l,approximate_member_count:t,approximate_presence_count:n,target_type:r,target_user:a,target_application:s,stage_instance:o,type:c};return null!=u&&(h.channel={...u}),null!=d&&(h.guild=new p.ZP(d)),null!=e.inviter&&(h.inviter={...e.inviter}),h}(t);v.push([n,e.resolve])},INVITE_MODAL_CLOSE:function(){if(i=null,Z=!1,v.length>0){let[,e]=v.shift();null!=e&&e()}},INVITE_ACCEPT:function(){Z=!0},INVITE_MODAL_ERROR:function(e){let{message:t}=e;i=t,Z=!1}})},503737:function(e,t,n){var i=n(735250);n(470079);var l=n(481060),r=n(570140),a=n(468026),s=n(317770),o=n(689938);let c="ActivityInviteManager",u=()=>{r.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_CLOSE"})};class d extends s.Z{_initialize(){r.Z.subscribe("ACTIVITY_INVITE_MODAL_OPEN",this.handleModalOpen),r.Z.subscribe("ACTIVITY_INVITE_MODAL_CLOSE",this.handleModalClose)}_terminate(){r.Z.unsubscribe("ACTIVITY_INVITE_MODAL_OPEN",this.handleModalOpen),r.Z.unsubscribe("ACTIVITY_INVITE_MODAL_CLOSE",this.handleModalClose)}handleModalOpen(e){let{activity:t,isPrivate:r}=e;r?(0,l.openModal)(e=>(0,i.jsx)(a.default,{title:o.Z.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({name:t.name}),body:o.Z.Messages.ACTIVITY_INVITE_PRIVATE,confirmText:o.Z.Messages.OKAY,...e}),{onCloseCallback:u,modalKey:c}):(0,l.openModalLazy)(async()=>{let{default:e}=await n.e("79921").then(n.bind(n,699099));return t=>(0,i.jsx)(e,{...t})},{onCloseCallback:u,modalKey:c})}handleModalClose(e){(0,l.closeModal)(c)}}t.Z=new d},453542:function(e,t,n){n.d(t,{X:function(){return a}}),n(724458),n(442837);var i=n(868854),l=n(801077),r=n(674563);function a(){let e=(0,i.a)();return function(e,t){let n=e.reduce((e,t)=>{var n;let i=null!==(n=t.party.currentActivities.filter(e=>null!=e.game.name&&e.game.type===r.wW.GAME).map(e=>e.game.name))&&void 0!==n?n:[];return e.concat(i)},[]);return{now_playing_visible:t,now_playing_num_cards:e.length,now_playing_games_detected:n}}(l.Z.nowPlayingCards,e)}},864682:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(735250);n(470079);var l=n(442837),r=n(481060),a=n(594174),s=n(74538),o=n(327943),c=n(997945),u=n(630117),d=n(441319);function h(){let[e,t,n]=(0,l.Wu)([a.default,o.Z],()=>[o.Z.getCurrentDesktopIcon(),o.Z.isEditorOpen,s.ZP.isPremium(a.default.getCurrentUser())]),h=d.QA[e],p=e!==c.aH.DEFAULT&&(n||t),_=(0,r.useRedesignIconContext)().enabled,f=(0,i.jsx)(r.ClydeIcon,{size:"custom",color:"currentColor",width:30,height:_?30:22});return null!=h&&p?(0,i.jsx)(u.Z,{id:e,width:48}):f}},835865:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(470079),l=n(442837),r=n(67212),a=n(292584);function s(){let e=(0,l.e7)([a.Z],()=>a.Z.getBroadcastsToValidateChannels());(0,i.useEffect)(()=>{e.length>0&&(0,r.MV)()},[e])}},456541:function(e,t,n){n.d(t,{P:function(){return h}}),n(47120);var i=n(470079),l=n(392711),r=n.n(l),a=n(367907),s=n(770471),o=n(158631),c=n(143614),u=n(981631);let d=(e,t)=>[...t].filter(t=>!e.has(t)),h=()=>{let e=(0,c.Z)(),t=(0,o.ZP)(),{canViewBroadcasts:n}=s.Z.useExperiment({location:"Home Button"},{autoTrackExposure:!1}),l=i.useRef(t),h=i.useRef(new Set);i.useEffect(()=>{let i=new Set(e.map(e=>e.channelId)),s=!r().isEqual(h.current,i);if(n&&s){let n=d(h.current,i);a.ZP.trackWithMetadata(u.rMx.NEW_BROADCAST_DETECTED,{active_broadcast_highlight:e.length>0,num_active_broadcasts:e.length,is_broadcasting:t,prev_is_broadcasting:l.current,prev_num_active_broadcasts:h.current.size,new_broadcast_channel_ids:n,broadcast_channel_ids:[...i]}),h.current=i,l.current=t}},[e,t,n])}},143614:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(442837),l=n(885110),r=n(292584);function a(){let e=(0,i.e7)([l.Z],()=>l.Z.getBroadcast()),t=(0,i.e7)([r.Z],()=>r.Z.getBroadcasts());return null!=e?[e].concat(t):t}},544803:function(e,t,n){n.d(t,{Z:function(){return S}});var i=n(735250),l=n(470079),r=n(442837),a=n(692547),s=n(481060),o=n(758059),c=n(367907),u=n(835473),d=n(703656),h=n(594174),p=n(366695),_=n(436088),f=n(51144),g=n(158631),m=n(143614),C=n(787740),I=n(981631),E=n(689938),N=n(34771);function x(e){var t;let{userId:n,applicationId:l}=e,a=(0,r.e7)([h.default],()=>h.default.getUser(n)),o=null!==(t=f.ZP.getGlobalName(a))&&void 0!==t?t:f.ZP.getUserTag(a),c=(0,u.q)(l);return null==a?null:(0,i.jsxs)("div",{className:N.broadcast,children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:N.inline,children:[(0,i.jsx)(s.Avatar,{size:s.AvatarSizes.SIZE_16,src:a.getAvatarURL(null,16),"aria-label":o}),(0,i.jsx)(s.Text,{variant:"text-sm/semibold",children:o})]}),(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:"header-secondary",children:(null==c?void 0:c.name)!=null?E.Z.Messages.STREAMING.format({name:c.name}):E.Z.Messages.STREAMING_A_GAME})]}),(0,i.jsx)(p.Z,{game:c})]})}function S(e){let{closePopout:t}=e,n=(0,m.Z)(),r=n.slice(0,3),u=(0,g.ZP)(),h=n.length-r.length;return l.useEffect(()=>{c.ZP.trackWithMetadata(I.rMx.BROADCAST_POPOUT_VIEWED,{num_broadcasts_shown:r.length,num_active_broadcasts:n.length,is_broadcasting:u})},[n.length,r.length,u]),(0,i.jsxs)("div",{className:N.container,children:[(0,i.jsxs)("div",{className:N.header,children:[(0,i.jsxs)("div",{className:N.inline,children:[(0,i.jsx)(_.Z,{color:a.Z.colors.HEADER_PRIMARY.css,height:16,width:16}),(0,i.jsx)(s.Heading,{variant:"heading-md/semibold",color:"header-primary",children:E.Z.Messages.LIVE_BROADCASTS})]}),(0,i.jsx)(C.Z,{})]}),r.map((e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x,{...e},e.userId),t!==r.length-1&&(0,i.jsx)("hr",{className:N.separator})]})),h>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{className:N.separator}),(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:"header-secondary",children:E.Z.Messages.MORE_OPEN_BROADCASTS.format({count:h})})]}),(0,i.jsx)(s.Button,{onClick:()=>{(0,d.uL)(I.Z5c.ME),o.Z.setSection(I.pJs.ONLINE),c.ZP.trackWithMetadata(I.rMx.BROADCAST_LIST_VISITED,{num_active_broadcasts:n.length,friends_tab_clicked:!1,is_broadcasting:u}),t()},className:N.button,children:E.Z.Messages.VIEW_OPEN_BROADCASTS})]})}},286328:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var l=n(970731),r=n(689938),a=n(272003),s=n(56512);function o(e){let{markAsDismissed:t}=e;return(0,i.jsx)(l.ZP,{header:r.Z.Messages.BROADCASTING_BROADCASTER_TOOLTIP_HEADER,content:r.Z.Messages.BROADCASTING_BROADCASTER_TOOLTIP_BODY,buttonCTA:r.Z.Messages.GOT_IT,onClick:()=>{},markAsDismissed:t,caretPosition:l.ZP.CaretPosition.BOTTOM_CENTER,asset:(0,i.jsx)("img",{src:s,alt:"",className:a.image}),className:a.content})}},718589:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(981631),l=n(689938);function r(e){let{channel:t,embeddedApps:n}=e;if(t.type===i.d4z.GUILD_VOICE){if(null==n||!(n.length>0))return;{let e=n.map(e=>e.application.name);return l.Z.Messages.GUILD_SIDEBAR_VOICE_CHANNEL_DESCRIBED_BY_LABEL_ACTIVITIES.format({activeActivities:e.join(", ")})}}}},873696:function(e,t,n){n.d(t,{D:function(){return l}});var i=n(689938);function l(e){if(null==e)return null;switch(e.type){case"embedded-activities":case"event":return{subtitle:e.name};case"go-live":return{subtitle:i.Z.Messages.GO_LIVE_SUBTITLE}}return null}},566840:function(e,t,n){n.d(t,{Eg:function(){return s},XL:function(){return c}});var i=n(470079),l=n(652874),r=n(143927);let a=(0,l.Z)(e=>({upsellsByGuildId:{}}));function s(e){return a(t=>{var n;let i={};return null==e?i:null!==(n=t.upsellsByGuildId[e])&&void 0!==n?n:i},r.Z)}function o(e){if(null==e)return!1;try{return window.getComputedStyle(e).overflow.includes("scroll")}catch(e){return!1}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=i.useRef(null);return i.useLayoutEffect(()=>{let i=l.current,r=()=>{requestAnimationFrame(()=>{var i,r,s;let o=null!==(r=null===(i=l.current)||void 0===i?void 0:i.getBoundingClientRect())&&void 0!==r?r:null;s={name:t,guildId:e,disabled:n,boundingRect:null!=o?o:null},a.setState(e=>{var t,n;return{upsellsByGuildId:{...null!==(t=e.upsellsByGuildId)&&void 0!==t?t:{},[s.guildId]:{...null!==(n=e.upsellsByGuildId[s.guildId])&&void 0!==n?n:{},[s.name]:s}}}})})};if(null==i)return r(),()=>{};let s=function(e){let t=e.parentNode;for(;null!=t&&t!==document.body&&!o(t);)t=t.parentNode;return o(t)?t:null}(i);return r(),null==s||s.addEventListener("scroll",r,{passive:!0}),()=>{null==s||s.removeEventListener("scroll",r)}},[e,t,n]),l}},428695:function(e,t,n){var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(392711),o=n(481060),c=n(367907),u=n(626135),d=n(981631),h=n(689938),p=n(846756);let _=(0,s.debounce)(c.ZP.trackWithMetadata,500);t.Z=function(e){let{guild:t,title:n,message:r,image:s,type:f,imageStyles:g,imageMarginX:m,imageMarginTop:C,trackingSource:I,undismissable:E,onDismissed:N,onClick:x,cta:S,ctaColor:Z,centerText:v,className:T}=e;l.useEffect(()=>{_(d.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:f,guild_id:t.id})},[t.id,f]);let L=null;"function"==typeof S?L=S():null!=S&&(L=(0,i.jsx)(o.Button,{className:p.button,size:o.Button.Sizes.SMALL,onClick:()=>{null!=f&&u.default.track(d.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:I,guild_id:t.id,notice_type:f}),null==x||x()},fullWidth:!0,color:Z,children:S}));let A=null;"function"==typeof n?A=n():null!=n&&(A=(0,i.jsx)(o.Text,{variant:"text-md/medium",color:"header-primary",className:a()(p.title,{[p.noImageTitle]:null==s},{[p.center]:v}),children:n}));let b=null;"function"==typeof r?b=r():null!=r&&(b=(0,i.jsx)(o.Text,{className:a()({[p.center]:v}),variant:"text-sm/normal",color:"text-muted",children:r}));let M=null!=m?"".concat(m,"px"):"16px";return(0,i.jsxs)("div",{className:a()(p.container,T),children:[!0===E?null:(0,i.jsx)(o.Clickable,{onClick:()=>{c.ZP.trackWithMetadata(d.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:f}),null==N||N()},className:p.close,"aria-label":h.Z.Messages.DISMISS,children:(0,i.jsx)(o.CloseSmallIcon,{size:"md",color:"currentColor",className:p.closeIcon})}),null!=s&&(0,i.jsx)("div",{className:p.imageContainer,style:{marginTop:"".concat(C,"px"),marginLeft:M,marginRight:M},children:(0,i.jsx)("img",{className:p.image,style:g,src:s,alt:""})}),(0,i.jsxs)("div",{className:p.message,children:[A,b,L]})]})}},824991:function(e,t,n){n.d(t,{To:function(){return m},Xu:function(){return C},YV:function(){return f},ZP:function(){return I},aF:function(){return g}});var i=n(735250),l=n(470079),r=n(481060),a=n(100527),s=n(428695),o=n(703656),c=n(970606),u=n(308083),d=n(981631),h=n(921944),p=n(689938),_=n(228741);function f(){return(0,i.jsxs)("div",{className:_.inviteContainer,children:[(0,i.jsx)(r.EnvelopeIcon,{size:"xxs",color:"currentColor",className:_.envelope}),(0,i.jsx)(r.Text,{variant:"text-xs/bold",className:_.invite,children:p.Z.Messages.CLAN_UPSELL_INVITE})]})}function g(e){let{title:t}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.Heading,{variant:"heading-md/semibold",color:"header-primary",className:_.title,children:t})})}function m(e){let{message:t}=e;return(0,i.jsx)(r.Text,{variant:"text-xs/normal",color:"text-muted",className:_.message,children:t})}function C(e){let{onClick:t}=e;return(0,i.jsx)(r.Button,{fullWidth:!0,look:r.ButtonLooks.FILLED,size:r.ButtonSizes.SMALL,color:r.ButtonColors.BRAND,className:_.button,onClick:t,children:(0,i.jsx)(r.Text,{variant:"text-sm/semibold",color:"always-white",children:p.Z.Messages.CHECK_IT_OUT})})}function I(e){let{guild:t,markAsDismissed:n,defaultGameId:r}=e;l.useEffect(()=>{(0,c.TE)({guildId:t.id,location:a.Z.GUILD_CHANNEL_LIST})},[t.id]);let f=r===u.xn?p.Z.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_GENSHIN_TITLE:r===u.nJ?p.Z.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_VALORANT_TITLE:p.Z.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_TITLE,I=l.useCallback(()=>(0,i.jsx)(m,{message:p.Z.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_MESSAGE}),[]),E=l.useCallback(()=>(0,i.jsx)(g,{title:f}),[f]),N=l.useCallback(()=>{(0,c._9)({guildId:t.id,location:a.Z.GUILD_CHANNEL_LIST}),(0,o.uL)(d.Z5c.GUILD_DISCOVERY)},[t.id]),x=l.useCallback(()=>(0,i.jsx)(C,{onClick:N}),[N]);return(0,i.jsx)(s.Z,{className:_.notice,guild:t,onDismissed:()=>n(h.L.DISMISS),title:E,message:I,cta:x,trackingSource:d.PsQ.CLAN_ADMIN_UPSELL,type:d.vID.CLAN_ADMIN_UPSELL})}},311352:function(e,t,n){var i=n(735250);n(470079);var l=n(399606),r=n(704215),a=n(481060),s=n(239091),o=n(765585),c=n(819640),u=n(556296),d=n(976401),h=n(13140),p=n(924557),_=n(435064),f=n(39604),g=n(981631),m=n(689938),C=n(387764);function I(e){(0,s.jW)(e,async()=>{let{default:e}=await n.e("21960").then(n.bind(n,999466));return t=>(0,i.jsx)(e,{...t})})}function E(){(0,f.C1)()}let N=e=>{let{keybindString:t,children:n}=e,l=(e,t)=>{e.stopPropagation(),e.preventDefault(),null==t||t()};return(0,i.jsx)(a.Popout,{shouldShow:!1,position:"top",align:"center",renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(o.Z,{dismissibleContent:r.z.CLIPS_ONBOARDING_CLIP_BUTTON_COACHMARK,shouldUseHorizontalButtons:!0,inlineArt:!0,artClassName:C.clipsEducationArt,position:"top",header:(0,i.jsx)("div",{className:C.header,children:m.Z.Messages.CLIPS_ONBOARDING_CLIP_BUTTON_ACTIVITY_PANEL_COACHMARK_TITLE.format({keybind:t,keybindHook:()=>(0,i.jsx)("span",{className:C.keybindHintKeys,children:(0,i.jsx)(a.KeyCombo,{className:C.keybindShortcut,shortcut:t})})})}),headerClassName:C.clipsEducationHeader,body:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Text,{variant:"text-sm/normal",color:"always-white",className:C.bodyText,children:m.Z.Messages.CLIPS_ONBOARDING_CLIP_BUTTON_ACTIVITY_PANEL_COACHMARK_BODY.format({keybindHook:()=>(0,i.jsx)("div",{className:C.keyCombo,children:t}),keybind:t})})}),onClose:e=>{l(e,n)}})},children:()=>n})};t.Z=()=>{let e=(0,l.e7)([c.Z],()=>c.Z.hasLayers()),t=(0,p.Go)(),{clipsEnabled:n,isAtMaxSavingClipsOperations:r}=(0,l.cj)([_.Z],()=>({clipsEnabled:_.Z.getSettings().clipsEnabled,isAtMaxSavingClipsOperations:_.Z.getIsAtMaxSaveClipOperations()})),s=(0,l.e7)([u.Z],()=>u.Z.getKeybindForAction(g.kg4.SAVE_CLIP));if(!(t&&n)||null==s||e)return null;let o=h.BB(s.shortcut,!0);return(0,i.jsx)(N,{keybindString:o,children:(0,i.jsx)(d.Z,{disabled:r,tooltipText:null!=s?m.Z.Messages.CLIPS_SAVE_CLIP_TOOLTIP.format({hotkey:h.BB(null==s?void 0:s.shortcut,!0)}):m.Z.Messages.CLIPS_EDIT_SAVE_CLIP,onClick:E,onContextMenu:I,icon:a.ClipsIcon})})}},14429:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2021-02_staff_qc_debugging",label:"Display QS scores in results. Not a real experiment",defaultConfig:{showScores:!1},treatments:[{id:1,label:"Show scores in QS results",config:{showScores:!0}}]});t.Z=i},616360:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);function l(){return(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_1378_82282)",children:[(0,i.jsx)("path",{d:"M8.00009 15.4171C12.0001 15.4171 14.8572 14 14.8572 10.8457C14.8572 7.41711 12.9286 5.21429 9.5 3.5L11.0629 1.67997C11.1315 1.56599 11.1686 1.43593 11.1707 1.30296C11.1727 1.16999 11.1396 1.03885 11.0746 0.922821C11.0096 0.806793 10.9151 0.710005 10.8007 0.642268C10.6862 0.57453 10.5559 0.538252 10.4229 0.537109H5.57723C5.44425 0.538252 5.31394 0.57453 5.1995 0.642268C5.08506 0.710005 4.99057 0.806793 4.92559 0.922821C4.86062 1.03885 4.82747 1.16999 4.82951 1.30296C4.83156 1.43593 4.86872 1.56599 4.93723 1.67997L6.5 3.5C3.07143 5.22571 1.14294 7.43997 1.14294 10.8685C1.14294 14 4.00009 15.4171 8.00009 15.4171Z",fill:"#B9BBBE",stroke:"#B9BBBE",strokeWidth:"1.14286",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsxs)("g",{clipPath:"url(#clip1_1378_82282)",children:[(0,i.jsx)("mask",{id:"path-2-inside-1_1378_82282",fill:"white",children:(0,i.jsx)("path",{d:"M11.9667 7.3558L9.45706 7.13802L8.47706 4.83062C8.30077 4.41063 7.69929 4.41063 7.52299 4.83062L6.543 7.1432L4.03857 7.3558C3.58227 7.39209 3.39561 7.96246 3.74301 8.2632L5.64597 9.91208L5.0756 12.3595C4.9719 12.8054 5.45412 13.158 5.84819 12.9195L8.00003 11.6232L10.1519 12.9247C10.5459 13.1632 11.0282 12.8106 10.9245 12.3647L10.3541 9.91208L12.257 8.2632C12.6045 7.96246 12.423 7.39209 11.9667 7.3558ZM8.00003 10.6536L6.05041 11.8306L6.56892 9.61134L4.84745 8.11801L7.11855 7.92098L8.00003 5.83136L8.88669 7.92616L11.1578 8.1232L9.43632 9.61653L9.95483 11.8358L8.00003 10.6536Z"})}),(0,i.jsx)("path",{d:"M11.9667 7.3558L9.45706 7.13802L8.47706 4.83062C8.30077 4.41063 7.69929 4.41063 7.52299 4.83062L6.543 7.1432L4.03857 7.3558C3.58227 7.39209 3.39561 7.96246 3.74301 8.2632L5.64597 9.91208L5.0756 12.3595C4.9719 12.8054 5.45412 13.158 5.84819 12.9195L8.00003 11.6232L10.1519 12.9247C10.5459 13.1632 11.0282 12.8106 10.9245 12.3647L10.3541 9.91208L12.257 8.2632C12.6045 7.96246 12.423 7.39209 11.9667 7.3558ZM8.00003 10.6536L6.05041 11.8306L6.56892 9.61134L4.84745 8.11801L7.11855 7.92098L8.00003 5.83136L8.88669 7.92616L11.1578 8.1232L9.43632 9.61653L9.95483 11.8358L8.00003 10.6536Z",fill:"#292B2F"}),(0,i.jsx)("path",{d:"M9.45706 7.13802L7.61621 7.91986L8.08626 9.02658L9.28416 9.13053L9.45706 7.13802ZM8.47706 4.83062L6.63292 5.60471L6.63622 5.61247L8.47706 4.83062ZM7.52299 4.83062L9.36448 5.61099L9.36712 5.6047L7.52299 4.83062ZM6.543 7.1432L6.71216 9.13604L7.9139 9.03403L8.38448 7.92356L6.543 7.1432ZM4.03857 7.3558L4.19716 9.34953L4.20773 9.34863L4.03857 7.3558ZM3.74301 8.2632L5.05272 6.75168L5.05201 6.75108L3.74301 8.2632ZM5.64597 9.91208L7.59377 10.366L7.86766 9.19079L6.95567 8.40057L5.64597 9.91208ZM5.0756 12.3595L3.1278 11.9055L3.12758 11.9064L5.0756 12.3595ZM5.84819 12.9195L4.81616 11.2063L4.81258 11.2085L5.84819 12.9195ZM8.00003 11.6232L9.03508 9.91185L8.00209 9.28708L6.968 9.91002L8.00003 11.6232ZM10.1519 12.9247L11.1875 11.2137L11.1869 11.2133L10.1519 12.9247ZM10.9245 12.3647L8.97644 12.8177H8.97644L10.9245 12.3647ZM10.3541 9.91208L9.04439 8.40057L8.13288 9.19037L8.40608 10.3651L10.3541 9.91208ZM12.257 8.2632L10.948 6.75108L10.9473 6.75169L12.257 8.2632ZM8.00003 10.6536L9.03502 8.94219L8.00093 8.31679L6.96635 8.94139L8.00003 10.6536ZM6.05041 11.8306L4.10286 11.3756L3.02377 15.9941L7.08408 13.5428L6.05041 11.8306ZM6.56892 9.61134L8.51647 10.0664L8.79102 8.8913L7.87948 8.10056L6.56892 9.61134ZM4.84745 8.11801L4.67459 6.1255L-0.0310004 6.53375L3.5369 9.62879L4.84745 8.11801ZM7.11855 7.92098L7.29142 9.91349L8.49266 9.80928L8.96131 8.69832L7.11855 7.92098ZM8.00003 5.83136L9.84184 5.05178L7.99691 0.693003L6.15728 5.05402L8.00003 5.83136ZM8.88669 7.92616L7.04488 8.70574L7.51423 9.8146L8.71382 9.91868L8.88669 7.92616ZM11.1578 8.1232L12.4683 9.63398L16.0362 6.53893L11.3307 6.13068L11.1578 8.1232ZM9.43632 9.61653L8.12576 8.10575L7.21422 8.89648L7.48877 10.0716L9.43632 9.61653ZM9.95483 11.8358L8.91984 13.5471L12.9826 16.0042L11.9024 11.3807L9.95483 11.8358ZM12.1396 5.36328L9.62996 5.14551L9.28416 9.13053L11.7938 9.34831L12.1396 5.36328ZM11.2979 6.35618L10.3179 4.04878L6.63622 5.61247L7.61621 7.91986L11.2979 6.35618ZM10.3212 4.05655C9.45878 2.00198 6.54128 2.00198 5.67887 4.05655L9.36712 5.6047C8.8573 6.81927 7.14275 6.81927 6.63294 5.6047L10.3212 4.05655ZM5.68152 4.05027L4.70152 6.36285L8.38448 7.92356L9.36447 5.61098L5.68152 4.05027ZM6.37384 5.15037L3.8694 5.36296L4.20773 9.34863L6.71216 9.13604L6.37384 5.15037ZM3.87998 5.36209C1.64333 5.54001 0.753531 8.32058 2.43401 9.77532L5.05201 6.75108C6.03768 7.60434 5.52122 9.24418 4.19716 9.3495L3.87998 5.36209ZM2.43331 9.77471L4.33626 11.4236L6.95567 8.40057L5.05272 6.75168L2.43331 9.77471ZM3.69816 9.45814L3.1278 11.9055L7.0234 12.8134L7.59377 10.366L3.69816 9.45814ZM3.12758 11.9064C2.62503 14.0674 4.9682 15.7899 6.88379 14.6305L4.81258 11.2085C5.94003 10.5261 7.31876 11.5434 7.02362 12.8125L3.12758 11.9064ZM6.88021 14.6326L9.03205 13.3363L6.968 9.91002L4.81616 11.2063L6.88021 14.6326ZM6.96498 13.3345L9.11682 14.636L11.1869 11.2133L9.03508 9.91185L6.96498 13.3345ZM9.11626 14.6357C11.0319 15.7951 13.375 14.0726 12.8725 11.9116L8.97644 12.8177C8.6813 11.5486 10.06 10.5313 11.1875 11.2137L9.11626 14.6357ZM12.8725 11.9116L12.3021 9.45905L8.40608 10.3651L8.97644 12.8177L12.8725 11.9116ZM11.6638 11.4236L13.5667 9.77471L10.9473 6.75169L9.04439 8.40057L11.6638 11.4236ZM13.566 9.77532C15.2133 8.34936 14.4056 5.54348 12.1253 5.36209L11.8081 9.3495C10.4404 9.2407 9.99563 7.57556 10.948 6.75108L13.566 9.77532ZM6.96635 8.94139L5.01673 10.1184L7.08408 13.5428L9.0337 12.3657L6.96635 8.94139ZM7.99796 12.2856L8.51647 10.0664L4.62138 9.15631L4.10286 11.3756L7.99796 12.2856ZM7.87948 8.10056L6.15801 6.60724L3.5369 9.62879L5.25837 11.1221L7.87948 8.10056ZM5.02032 10.1105L7.29142 9.91349L6.94569 5.92846L4.67459 6.1255L5.02032 10.1105ZM8.96131 8.69832L9.84278 6.6087L6.15728 5.05402L5.2758 7.14364L8.96131 8.69832ZM6.15822 6.61094L7.04488 8.70574L10.7285 7.14659L9.84184 5.05178L6.15822 6.61094ZM8.71382 9.91868L10.9849 10.1157L11.3307 6.13068L9.05956 5.93365L8.71382 9.91868ZM9.84724 6.61242L8.12576 8.10575L10.7469 11.1273L12.4683 9.63398L9.84724 6.61242ZM7.48877 10.0716L8.00729 12.2908L11.9024 11.3807L11.3839 9.16149L7.48877 10.0716ZM10.9898 10.1244L9.03502 8.94219L6.96504 12.3649L8.91984 13.5471L10.9898 10.1244Z",fill:"#292B2F",mask:"url(#path-2-inside-1_1378_82282)"}),(0,i.jsx)("mask",{id:"path-4-inside-2_1378_82282",fill:"white",children:(0,i.jsx)("path",{d:"M10.6811 7.81008L8.98505 7.6629L8.32275 6.10351C8.2036 5.81966 7.79711 5.81966 7.67796 6.10351L7.01566 7.66641L5.3231 7.81008C4.62661 7.81008 4.49996 8 5.12336 8.42333L6.40942 9.53768L6.02395 11.1917C6.00007 12 5.86977 12.1684 6.54609 11.5701L8.00036 10.6941L9.45462 11.5737C9.72094 11.7348 10.5001 12.5 9.97675 11.1952L9.59129 9.53768L10.8773 8.42333C11.5001 8.19204 11.7365 7.81008 10.6811 7.81008ZM8.00036 10.0388L6.68275 10.8343L7.03318 9.33443L5.86977 8.32521L7.40463 8.19204L8.00036 6.77983L8.59958 8.19555L10.1344 8.32871L8.97103 9.33794L9.32146 10.8378L8.00036 10.0388Z"})}),(0,i.jsx)("path",{d:"M10.6811 7.81008L8.98505 7.6629L8.32275 6.10351C8.2036 5.81966 7.79711 5.81966 7.67796 6.10351L7.01566 7.66641L5.3231 7.81008C4.62661 7.81008 4.49996 8 5.12336 8.42333L6.40942 9.53768L6.02395 11.1917C6.00007 12 5.86977 12.1684 6.54609 11.5701L8.00036 10.6941L9.45462 11.5737C9.72094 11.7348 10.5001 12.5 9.97675 11.1952L9.59129 9.53768L10.8773 8.42333C11.5001 8.19204 11.7365 7.81008 10.6811 7.81008ZM8.00036 10.0388L6.68275 10.8343L7.03318 9.33443L5.86977 8.32521L7.40463 8.19204L8.00036 6.77983L8.59958 8.19555L10.1344 8.32871L8.97103 9.33794L9.32146 10.8378L8.00036 10.0388Z",fill:"#292B2F"}),(0,i.jsx)("path",{d:"M10.6811 7.81008L10.5643 9.15667L10.6226 9.16173H10.6811V7.81008ZM8.98505 7.6629L7.74096 8.19129L8.05863 8.93924L8.8682 9.00949L8.98505 7.6629ZM8.32275 6.10351L7.07643 6.62665L7.07866 6.6319L8.32275 6.10351ZM7.67796 6.10351L8.92249 6.6309L8.92427 6.62665L7.67796 6.10351ZM7.01566 7.66641L7.12998 9.01321L7.94215 8.94427L8.26017 8.19379L7.01566 7.66641ZM5.3231 7.81008V9.16173H5.38037L5.43743 9.15689L5.3231 7.81008ZM5.12336 8.42333L6.00849 7.40181L5.94843 7.34977L5.88269 7.30512L5.12336 8.42333ZM6.40942 9.53768L7.7258 9.84446L7.9109 9.05021L7.29455 8.51616L6.40942 9.53768ZM6.02395 11.1917L4.70758 10.8849L4.67689 11.0166L4.6729 11.1518L6.02395 11.1917ZM6.54609 11.5701L5.84862 10.4124L5.74296 10.476L5.65056 10.5577L6.54609 11.5701ZM8.00036 10.6941L8.69987 9.53752L8.00175 9.11529L7.30289 9.53629L8.00036 10.6941ZM9.45462 11.5737L10.1545 10.4173L10.1541 10.4171L9.45462 11.5737ZM9.97675 11.1952L8.66024 11.5014L8.68369 11.6022L8.72224 11.6983L9.97675 11.1952ZM9.59129 9.53768L8.70616 8.51616L8.09014 9.04993L8.27477 9.84385L9.59129 9.53768ZM10.8773 8.42333L10.4067 7.15625L10.1772 7.24149L9.99222 7.40181L10.8773 8.42333ZM8.00036 10.0388L8.69983 8.8822L8.00096 8.45955L7.30177 8.88166L8.00036 10.0388ZM6.68275 10.8343L5.36655 10.5267L4.63728 13.648L7.38134 11.9914L6.68275 10.8343ZM7.03318 9.33443L8.34938 9.64196L8.53493 8.84781L7.91888 8.31341L7.03318 9.33443ZM5.86977 8.32521L5.75294 6.97862L2.57279 7.25452L4.98406 9.34623L5.86977 8.32521ZM7.40463 8.19204L7.52146 9.53863L8.33329 9.4682L8.65001 8.71739L7.40463 8.19204ZM8.00036 6.77983L9.24509 6.25297L7.99825 3.3072L6.75498 6.25448L8.00036 6.77983ZM8.59958 8.19555L7.35484 8.72241L7.67204 9.4718L8.48276 9.54214L8.59958 8.19555ZM10.1344 8.32871L11.0201 9.34973L13.4314 7.25802L10.2513 6.98212L10.1344 8.32871ZM8.97103 9.33794L8.08533 8.31692L7.46929 8.85132L7.65483 9.64546L8.97103 9.33794ZM9.32146 10.8378L8.62198 11.9943L11.3677 13.6549L10.6377 10.5302L9.32146 10.8378ZM10.798 6.46349L9.1019 6.31631L8.8682 9.00949L10.5643 9.15667L10.798 6.46349ZM10.2291 7.13451L9.56684 5.57512L7.07866 6.6319L7.74096 8.19129L10.2291 7.13451ZM9.56905 5.58037C8.98622 4.19185 7.01449 4.19185 6.43166 5.58037L8.92427 6.62665C8.57972 7.44748 7.42099 7.44748 7.07644 6.62665L9.56905 5.58037ZM6.43345 5.57612L5.77114 7.13902L8.26017 8.19379L8.92248 6.63089L6.43345 5.57612ZM6.90133 6.3196L5.20878 6.46328L5.43743 9.15689L7.12998 9.01321L6.90133 6.3196ZM5.3231 6.45843C5.10802 6.45843 4.84452 6.47114 4.58999 6.53325C4.44279 6.56917 3.76471 6.73882 3.47608 7.44908C3.15174 8.24719 3.63364 8.86933 3.75832 9.01788C3.9431 9.23802 4.17343 9.4121 4.36403 9.54153L5.88269 7.30512C5.76159 7.22289 5.77398 7.21448 5.82894 7.27996C5.85758 7.31408 5.94673 7.4254 6.00911 7.60946C6.07876 7.81499 6.1177 8.12916 5.98047 8.46683C5.84997 8.78797 5.62675 8.9651 5.49284 9.04671C5.36321 9.12571 5.25893 9.15263 5.23081 9.15949C5.17642 9.17276 5.18995 9.16173 5.3231 9.16173V6.45843ZM4.23823 9.44484L5.52429 10.5592L7.29455 8.51616L6.00849 7.40181L4.23823 9.44484ZM5.09305 9.2309L4.70758 10.8849L7.34033 11.4985L7.7258 9.84446L5.09305 9.2309ZM4.6729 11.1518C4.66635 11.3734 4.65876 11.4066 4.64988 11.6197C4.64705 11.6874 4.64296 11.806 4.65294 11.9315C4.65839 12 4.68026 12.3558 4.92373 12.6956C5.07395 12.9053 5.30495 13.104 5.61868 13.2083C5.91447 13.3067 6.17762 13.2858 6.3497 13.2504C6.64872 13.1889 6.86511 13.0426 6.93214 12.9973C7.10307 12.8819 7.29288 12.7141 7.44162 12.5826L5.65056 10.5577C5.46114 10.7253 5.41361 10.7608 5.41951 10.7568C5.42905 10.7504 5.462 10.7285 5.51307 10.7028C5.55951 10.6794 5.66173 10.632 5.80505 10.6025C5.95216 10.5722 6.19396 10.5508 6.47159 10.6431C6.76716 10.7414 6.98318 10.9285 7.12116 11.1211C7.24527 11.2943 7.29575 11.4554 7.31684 11.5372C7.33927 11.6243 7.34562 11.6907 7.34773 11.7172C7.35154 11.7651 7.34865 11.7846 7.35083 11.7323C7.35196 11.7051 7.36962 11.4141 7.37501 11.2316L4.6729 11.1518ZM7.24356 12.7279L8.69782 11.8519L7.30289 9.53629L5.84862 10.4124L7.24356 12.7279ZM7.30084 11.8506L8.75511 12.7302L10.1541 10.4171L8.69987 9.53752L7.30084 11.8506ZM8.75473 12.73C8.72817 12.7139 8.72345 12.7086 8.77203 12.7445C8.79887 12.7643 8.87336 12.8202 8.92995 12.8612C9.00019 12.912 9.28841 13.1293 9.62677 13.2298C9.78218 13.276 10.3131 13.4107 10.8463 13.0654C11.4232 12.692 11.4968 12.0983 11.5043 11.8721C11.5127 11.6184 11.4612 11.3899 11.4195 11.2371C11.3729 11.066 11.3079 10.8831 11.2313 10.692L8.72224 11.6983C8.77644 11.8335 8.80159 11.9121 8.81145 11.9483C8.82631 12.0027 8.79771 11.9273 8.80249 11.7828C8.80635 11.6658 8.84988 11.1376 9.37713 10.7962C9.86087 10.483 10.3227 10.6165 10.3968 10.6385C10.466 10.6591 10.514 10.6811 10.5353 10.6914C10.5586 10.7027 10.5715 10.7105 10.5719 10.7107C10.573 10.7114 10.5685 10.7087 10.5574 10.7012C10.5465 10.6938 10.5325 10.684 10.5144 10.6709C10.4686 10.6378 10.4426 10.6177 10.3779 10.5699C10.335 10.5382 10.2476 10.4737 10.1545 10.4173L8.75473 12.73ZM11.2933 10.889L10.9078 9.23151L8.27477 9.84385L8.66024 11.5014L11.2933 10.889ZM10.4764 10.5592L11.7625 9.44484L9.99222 7.40181L8.70616 8.51616L10.4764 10.5592ZM11.3479 9.69041C11.5779 9.60499 11.8316 9.48518 12.0568 9.32017C12.1687 9.23817 12.3127 9.11663 12.4415 8.94784C12.5647 8.78658 12.7427 8.4909 12.7591 8.08449C12.8006 7.05456 11.9118 6.67221 11.6778 6.59303C11.3522 6.48286 10.9945 6.45843 10.6811 6.45843V9.16173C10.8955 9.16173 10.904 9.18505 10.8114 9.15373C10.7647 9.13794 10.5948 9.07633 10.4206 8.90404C10.2138 8.69948 10.0419 8.37256 10.058 7.97545C10.0719 7.63125 10.2211 7.40138 10.2928 7.30747C10.3703 7.20603 10.4402 7.15336 10.4588 7.1397C10.4975 7.11136 10.4881 7.12602 10.4067 7.15625L11.3479 9.69041ZM7.30177 8.88166L5.98417 9.67713L7.38134 11.9914L8.69894 11.1959L7.30177 8.88166ZM7.99895 11.1418L8.34938 9.64196L5.71698 9.02691L5.36655 10.5267L7.99895 11.1418ZM7.91888 8.31341L6.75547 7.30419L4.98406 9.34623L6.14748 10.3555L7.91888 8.31341ZM5.98659 9.6718L7.52146 9.53863L7.2878 6.84546L5.75294 6.97862L5.98659 9.6718ZM8.65001 8.71739L9.24573 7.30518L6.75498 6.25448L6.15925 7.6667L8.65001 8.71739ZM6.75562 7.30669L7.35484 8.72241L9.84432 7.66869L9.24509 6.25297L6.75562 7.30669ZM8.48276 9.54214L10.0176 9.6753L10.2513 6.98212L8.71641 6.84896L8.48276 9.54214ZM9.24874 7.30769L8.08533 8.31692L9.85674 10.359L11.0201 9.34973L9.24874 7.30769ZM7.65483 9.64546L8.00526 11.1453L10.6377 10.5302L10.2872 9.03041L7.65483 9.64546ZM10.0209 9.68117L8.69983 8.8822L7.30088 11.1954L8.62198 11.9943L10.0209 9.68117Z",fill:"#292B2F",mask:"url(#path-4-inside-2_1378_82282)"})]})]}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("clipPath",{id:"clip0_1378_82282",children:(0,i.jsx)("rect",{width:"16",height:"16",fill:"white"})}),(0,i.jsx)("clipPath",{id:"clip1_1378_82282",children:(0,i.jsx)("rect",{width:"12.4444",height:"12.4444",fill:"white",transform:"translate(1.77783 2.66602)"})})]})]})}n(470079)},858064:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250);n(470079);var l=n(442837),r=n(481060),a=n(230711),s=n(314897),o=n(626135),c=n(730417),u=n(524347),d=n(702512),h=n(981631),p=n(689938),_=n(201032);let f=(e,t,n)=>{let i=t.assets.tooltipSrc;switch(e){case d._e.STREAM_CTA:return{header:p.Z.Messages.DROP_ENROLLMENT_CTA_TOOLTIP_HEADER.format({gameName:t.title}),body:t.messages.enrollmentTooltip(n),imgSrc:i,imgStyle:_.dropImgPreStreamNotice};case d._e.TRACK_PROGRESS:return{header:p.Z.Messages.DROP_ENROLLMENT_CTA_TOOLTIP_HEADER.format({gameName:t.title}),body:"",imgSrc:i,imgStyle:_.dropImgProgressTracker};case d._e.QUEST_COMPLETION:return{header:p.Z.Messages.DROPS_QUEST_COMPLETION_TOOLTIP_HEADER,body:t.messages.completionTooltip(n),imgSrc:i,imgStyle:_.dropImgQuestCompletion};case d._e.LOADING_INITIAL_PROGRESS:return{header:"",body:"",imgSrc:i,imgStyle:_.dropImgPreStreamNotice}}};function g(e){let{streamLengthRequirement:t,viewerCountRequirement:n}=e,a=(0,l.e7)([u.Z],()=>u.Z.currentDropQuestStreamProgress),s=Math.floor(a/100*t).toString();return(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Text,{variant:"text-sm/bold",className:_.progressBarCount,children:p.Z.Messages.DROPS_STREAM_PROGRESS_INDICATOR.format({minutesStreamed:s,streamLengthRequirement:t})}),(0,i.jsx)("div",{className:_.progressBarContainer,children:(0,i.jsx)("div",{className:_.progressBarOuter,children:(0,i.jsx)("div",{className:_.progressBarInner,style:{width:"".concat(a,"%")}})})}),(0,i.jsxs)(r.Text,{variant:"text-xs/medium",className:_.viewerCount,children:["*",p.Z.Messages.DROPS_REQUIRE_NUM_VIEWERS.format({numViewers:n}),"*"]})]})}function m(e){let{onClose:t,tooltipAction:n,partnerGame:u}=e,m=(0,c.au)(u);(0,c.op)(u);let C=(0,l.e7)([s.default],()=>s.default.getId());if(null==m)return null;let{streamLengthRequirement:I,viewerCountRequirement:E}=m.config,N=m.drop,{header:x,body:S,imgSrc:Z,imgStyle:v}=f(n,N,I),T=()=>{o.default.track(h.rMx.DROPS_ACTIVITY_PANEL_POPOVER_CTA_CLICK,{user_id:C,drops_quest_id:N.dropsQuestId,game_id:N.dropsGameId,game_name:N.title.toLowerCase(),tooltip_action:n})},L=()=>{t()};return(0,i.jsxs)("div",{className:_.container,children:[(0,i.jsx)("img",{src:Z,alt:"",className:v}),(0,i.jsx)(r.Clickable,{className:_.__invalid_buttonClose,"aria-label":p.Z.Messages.CLOSE,onClick:L,children:(0,i.jsx)(r.CloseSmallIcon,{size:"xs",color:"currentColor",className:_.closeIcon})}),n===d._e.LOADING_INITIAL_PROGRESS?(0,i.jsx)(r.Spinner,{className:_.spinner}):(0,i.jsx)(r.Heading,{className:_.title,variant:"heading-md/extrabold",children:x}),n===d._e.TRACK_PROGRESS?(0,i.jsx)(g,{streamLengthRequirement:I,viewerCountRequirement:E}):(0,i.jsx)(r.Text,{variant:"text-sm/medium",className:_.subTitle,children:S}),n===d._e.QUEST_COMPLETION?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Button,{color:r.Button.Colors.BRAND_INVERTED,fullWidth:!0,onClick:()=>{t(),a.Z.open(h.oAB.INVENTORY),T()},children:p.Z.Messages.REDEEM}),(0,i.jsx)(r.Button,{className:_.linkButtonContainer,innerClassName:_.linkButton,onClick:L,look:r.Button.Looks.LINK,fullWidth:!0,color:r.Button.Colors.WHITE,children:p.Z.Messages.NOT_NOW})]}):(0,i.jsx)(r.Button,{color:r.Button.Colors.BRAND_INVERTED,fullWidth:!0,onClick:()=>{t(),a.Z.open(h.oAB.INVENTORY),T()},children:p.Z.Messages.LEARN_MORE}),(0,i.jsx)("div",{className:_.pointer})]})}},919755:function(e,t,n){n.d(t,{Z:function(){return u}}),n(47120),n(724458);var i=n(442837),l=n(592125),r=n(496675),a=n(306680),s=n(9156),o=n(709054),c=n(231338);function u(e){return(0,i.cj)([l.Z,a.ZP,s.ZP,r.Z],()=>{let t=o.default.keys(e);return t.reduce((e,t)=>{let n=l.Z.getChannel(t),i=null==n?void 0:n.isGuildVocal();return e.badge=e.badge+a.ZP.getMentionCount(t),e.unread=e.unread||!i&&r.Z.can(c.Pl.VIEW_CHANNEL,n)&&a.ZP.hasUnread(t)&&!s.ZP.isChannelMuted(null==n?void 0:n.getGuildId(),t),e},{badge:0,unread:!1})})}},492162:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(442837),l=n(592125),r=n(938475),a=n(853856),s=n(981631);function o(e){return(0,i.cj)([r.ZP,l.Z,a.Z],()=>{if(e!==s.I_8)return r.ZP.getVoiceStates(e);let t=a.Z.getFavoriteChannels(),n={};for(let e in t){let t=l.Z.getChannel(e);null!=t&&(n[e]=r.ZP.getVoiceStatesForChannel(t))}return n},[e])}},110977:function(e,t,n){n.d(t,{S:function(){return f}});var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(481060),o=n(593214),c=n(981631),u=n(689938),d=n(279619),h=n(907934),p=n(721690);function _(){return(0,i.jsx)("div",{className:a()(h.row,h.rowGuildName),children:(0,i.jsx)("span",{className:a()(h.guildNameText,h.guildNameTextLimitedSize,d.tooltipText),children:u.Z.Messages.FAVORITE_ADDED})})}let f=l.memo(function(e){let{"aria-label":t=!1,children:n}=e,r=function(){let{favoriteAdded:e,clearFavoriteAdded:t}=(0,o.up)();return l.useEffect(()=>{if(e){let e=setTimeout(()=>{t()},1500);return()=>{t(),clearTimeout(e)}}},[e,t]),e}();return(0,i.jsx)(s.Tooltip,{forceOpen:r,color:s.TooltipColors.GREEN,hideOnClick:!0,spacing:20,position:"right",align:"center",text:(0,i.jsx)(_,{}),"aria-label":t,tooltipClassName:p.listItemTooltip,children:e=>(0,i.jsx)("div",{...e,onMouseEnter:c.dG4,onMouseLeave:c.dG4,children:n})})})},940777:function(e,t,n){n.d(t,{Z:function(){return y}}),n(47120),n(724458),n(653041);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(91192),o=n(442837),c=n(481060),u=n(493683),d=n(239091),h=n(317381),p=n(682662),_=n(674552),f=n(593364),g=n(905423),m=n(199902),C=n(592125),I=n(944486),E=n(979651),N=n(880080),x=n(709054),S=n(853856),Z=n(593214),v=n(919755),T=n(110977),L=n(603274),A=n(981631),b=n(689938),M=n(744486);let R={analyticsSource:{page:A.ZY5.GUILD_CHANNEL,section:A.jXE.CHANNEL_LIST,object:A.qAy.CHANNEL}};function y(){let e=(0,s.Ie)("favorites"),{favoriteAdded:t,clearFavoriteAdded:r}=(0,Z.up)(),[y,O]=l.useState(!1),{favoriteServerMuted:P,favoriteChannels:j}=(0,o.cj)([S.Z],()=>({favoriteChannels:S.Z.getFavoriteChannels(),favoriteServerMuted:S.Z.favoriteServerMuted})),D=(0,o.e7)([I.Z],()=>I.Z.getChannelId(A.I_8)),U=(0,o.e7)([C.Z],()=>C.Z.getChannel(D)),G=(0,g.Z)(e=>e.guildId)===A.I_8,{badge:w,unread:k}=(0,v.Z)(j),B=function(e){let t=(0,o.e7)([I.Z],()=>I.Z.getVoiceChannelId()),n=null!=t&&null!=e[t],i=(0,o.e7)([m.Z],()=>{if(!n)return!1;let t=m.Z.getCurrentUserActiveStream();return null!=t&&null!=e[t.channelId]}),l=(0,o.e7)([m.Z],()=>m.Z.getAllApplicationStreams().some(t=>null!=e[t.channelId])),r=(0,o.e7)([E.Z],()=>n&&null!=t&&E.Z.hasVideo(t),[n,t]),a=(0,o.Wu)([h.ZP],()=>x.default.keys(e).reduce((e,t)=>(e.push(...h.ZP.getEmbeddedActivitiesForChannel(t)),e),[])),s=(0,o.e7)([h.ZP],()=>Array.from(h.ZP.getSelfEmbeddedActivities().values()).some(t=>{let{channelId:n}=t;return null!=e[n]})),c=a.length>0,u=!1,d=!1,p=!1,f=!1;return n?(u=!r,d=r,p=i,f=s):(p=l,f=c),(0,_.Or)({audio:u,video:d,screenshare:p,liveStage:!1,isCurrentUserConnected:n,activity:f})}(j),V=w>0?(0,f.N)(w):null,H=l.useCallback(()=>{r()},[r]);return(0,i.jsxs)(p.H,{children:[(0,i.jsx)(N.Z,{selected:G,hovered:y,unread:k&&!P,className:M.pill}),(0,i.jsx)(L.Z,{onShow:H,children:(0,i.jsx)(T.S,{children:(0,i.jsx)(c.BlobMask,{selected:G||y,upperBadge:B,lowerBadge:V,children:(0,i.jsx)(c.NavItem,{...e,ariaLabel:b.Z.Messages.GUILD_TOOLTIP_A11Y_LABEL.format({guildName:b.Z.Messages.FAVORITES_GUILD_NAME,mentions:w}),to:{pathname:A.Z5c.CHANNEL(A.I_8,D),state:R},selected:G||y,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),onMouseDown:function(){if(null!=U)u.Z.preload(U.guild_id,U.id)},onContextMenu:function(e){(0,d.jW)(e,async()=>{let{default:e}=await n.e("3190").then(n.bind(n,631981));return t=>(0,i.jsx)(e,{...t})})},children:(0,i.jsx)("div",{className:a()(M.ring,{[M.ringActive]:t}),children:(0,i.jsx)(c.StarIcon,{size:"custom",color:"currentColor",className:M.favoriteIcon,width:20,height:20})})})})})})]})}},603274:function(e,t,n){n.d(t,{Z:function(){return A}}),n(47120),n(390547),n(653041);var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(392711),s=n.n(a),o=n(442837),c=n(481060),u=n(317381),d=n(565799),h=n(501655),p=n(199902),_=n(592125),f=n(594174),g=n(938475),m=n(602623),C=n(823379),I=n(709054),E=n(853856),N=n(981631),x=n(689938),S=n(907934),Z=n(721690);function v(e,t){return 0===t.length?null:(0,i.jsxs)("div",{className:S.row,children:[(0,i.jsx)(e,{className:S.activityIcon,color:"currentColor"}),(0,i.jsx)(m.Z,{guildId:void 0,users:t,max:6})]})}function T(){var e,t;let n=(0,o.Wu)([E.Z,_.Z],()=>I.default.keys(E.Z.getFavoriteChannels()).map(e=>_.Z.getChannel(e)).filter(C.lm)),l=n.map(e=>e.id),r=n.filter(e=>e.type===N.d4z.GUILD_VOICE),a=n.filter(e=>e.type===N.d4z.GUILD_STAGE_VOICE).map(e=>e.id),x=(0,o.Wu)([g.ZP],()=>s().flatMap(r,e=>g.ZP.getVoiceStatesForChannel(e).map(e=>{let{user:t}=e;return t})),[r]),Z=(0,o.Wu)([d.Z],()=>s().flatMap(a,e=>d.Z.getMutableParticipants(e,h.pV.SPEAKER).filter(e=>e.type===h.Ui.VOICE).map(e=>{let{user:t}=e;return t}))),T=(0,o.e7)([d.Z],()=>{let e=0;for(let t of a)e+=d.Z.getParticipantCount(t,h.pV.AUDIENCE);return e}),L=(0,o.Wu)([p.Z],()=>p.Z.getAllApplicationStreams().filter(e=>l.includes(e.channelId)).map(e=>e.ownerId),[l]),A=(0,o.Wu)([u.ZP],()=>{let e=u.ZP.getEmbeddedActivitiesByChannel(),t=[];for(let r of l){var n,i;t.push(...null!==(i=null===(n=e.get(r))||void 0===n?void 0:n.flatMap(e=>Array.from(e.userIds)))&&void 0!==i?i:[])}return t},[l]),b=(0,o.Wu)([f.default],()=>A.map(e=>f.default.getUser(e)),[A]),M=(0,o.Wu)([f.default],()=>L.map(e=>f.default.getUser(e)),[L]),R=v(c.VoiceNormalIcon,x.filter(e=>!L.includes(e.id)&&!A.includes(e.id)));let y=(e=Z,t=T,0===e.length?null:(0,i.jsxs)("div",{className:S.row,children:[(0,i.jsx)(c.StageIcon,{size:"lg",color:"currentColor",className:S.activityIcon}),(0,i.jsx)(m.Z,{guildId:void 0,users:e,max:3}),(0,i.jsxs)("div",{className:S.stageListenerPill,children:[(0,i.jsx)(c.HeadphonesIcon,{size:"xs",color:"currentColor"}),(0,i.jsx)(c.Text,{className:S.stageListenerCount,color:"text-normal",variant:"text-xs/medium",children:t})]})]})),O=v(c.ScreenArrowIcon,M.filter(e=>null!=e&&!A.includes(e.id))),P=v(c.ActivitiesIcon,b);return(0,i.jsxs)(i.Fragment,{children:[y,R,O,P]})}function L(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:r()(S.row,S.rowGuildName),children:(0,i.jsx)("span",{className:r()(S.guildNameText,S.guildNameTextLimitedSize),children:x.Z.Messages.FAVORITES_GUILD_NAME})}),(0,i.jsx)(T,{})]})}function A(e){let{"aria-label":t=!1,onShow:n,children:l}=e;return(0,i.jsx)(c.Tooltip,{hideOnClick:!0,spacing:20,position:"right",text:(0,i.jsx)(L,{}),"aria-label":t,tooltipClassName:Z.listItemTooltip,onTooltipShow:n,children:e=>(0,i.jsx)("div",{...e,children:l})})}},765585:function(e,t,n){n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(481060),o=n(393238),c=n(605236),u=n(311715),d=n(921944),h=n(689938),p=n(840626);t.Z=l.forwardRef(function(e,t){let{body:n,header:r,artClassName:_,headerClassName:f,contentClassName:g,tryItText:m,dismissText:C,onTryFeature:I,onClose:E,className:N,inlineArt:x=!1,isPremiumFeature:S=!1,shouldUseHorizontalButtons:Z=!1,showGIFTag:v=!1,dismissibleContent:T,position:L="top",align:A="center",art:b,isPremiumEarlyAccess:M=!1,maxWidth:R=280}=e,y=Z?s.Button.Sizes.LARGE:s.Button.Sizes.MAX,[O,P]=l.useState(!1),{ref:j,width:D}=(0,o.Z)();function U(e){(0,c.EW)(T,{dismissAction:e})}return l.useEffect(()=>{var e,t;let n=(null!==(t=null===(e=j.current)||void 0===e?void 0:e.scrollWidth)&&void 0!==t?t:0)+64;!O&&n>R&&P(!0)},[O,D,j,R]),l.useEffect(()=>{(0,c.kk)(T)},[T]),(0,i.jsx)("div",{className:N,ref:t,children:(0,i.jsxs)("div",{className:a()(p.content,g,{[p.contentNoArt]:null==_||x,[p.contentPremium]:S||M}),children:[(0,i.jsxs)("div",{className:a()(_,x?p.artInline:p.artAbsolute),children:[v&&(0,i.jsx)(u.Z,{className:p.gifTag}),b]}),(0,i.jsxs)("div",{className:p.body,children:[(0,i.jsxs)(s.Heading,{className:a()(S?p.headerWithPremiumIcon:p.header,f),variant:"heading-md/bold",color:"always-white",children:[S&&!M?(0,i.jsx)(s.NitroWheelIcon,{size:"md",color:"currentColor",className:p.premiumIcon}):null,M?(0,i.jsxs)(s.Text,{color:"always-white",variant:"eyebrow",className:p.earlyAccessBadgeContainer,children:[(0,i.jsx)(s.NitroWheelIcon,{size:"md",color:"currentColor",className:p.earlyAccessIcon}),(0,i.jsx)("span",{className:p.earlyAccessText,children:h.Z.Messages.REMIXING_TOOLTIP_NITRO_EARLY_ACCESS})]}):null,r]}),null==n?null:"string"==typeof n?(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"always-white",children:n}):n]}),(0,i.jsx)("div",{ref:j,className:O||!Z?p.buttonContainerVertical:p.buttonContainerHorizontal,children:null!=I?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Button,{className:p.button,size:y,onClick:e=>{null==E||E(e),I(e),U(d.L.PRIMARY)},color:S||M?s.Button.Colors.BRAND_INVERTED:s.Button.Colors.WHITE,children:null!=m?m:h.Z.Messages.EDUCATION_NEW_FEATURE_TRY_IT}),(0,i.jsx)(s.Button,{className:p.button,size:y,onClick:e=>{null==E||E(e),U(d.L.DISMISS)},color:S||M?s.Button.Colors.WHITE:s.Button.Colors.BRAND,look:S||M?s.Button.Looks.LINK:s.Button.Looks.FILLED,children:null!=C?C:h.Z.Messages.EDUCATION_NEW_FEATURE_DISMISS})]}):(0,i.jsx)(s.Button,{className:p.button,size:s.Button.Sizes.MAX,onClick:e=>{null==E||E(e),U(d.L.PRIMARY)},color:s.Button.Colors.WHITE,children:h.Z.Messages.EDUCATION_NEW_FEATURE_CONFIRM})}),(0,i.jsx)("div",{className:a()(p.pointer,{[p.bottomPointer]:"top"===L,[p.centerLeftPointer]:"right"===L&&"center"===A,[p.topLeftPointer]:"right"===L&&"top"===A})})]})})})},914923:function(e,t,n){n.d(t,{Z:function(){return r}}),n(757143);var i=n(689938);let l=/[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]/g;function r(e){let t=i.Z.Messages.ACTIVITY_PANEL_GO_LIVE;return null!=e&&null!=e.sourceName&&e.sourceName.length>0&&(t=e.sourceName),{sanitizedTitle:t.replace(l,""),title:t}}},165393:function(e,t,n){n.d(t,{Z:function(){return p}}),n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(866442),o=n(481060),c=n(806519),u=n(617253);let d=[1752220,3066993,3447003,10181046,15277667,15844367];function h(e){return(0,s.Rf)(d[function(e){let t=5381,n=0;for(;n<e.length;)t=33*t^e.charCodeAt(n++);return t>>>0}(e)%d.length])}function p(e){var t;let{title:n,className:r}=e,[s,d]=l.useState(h(n));return l.useEffect(()=>{d(h(n))},[n]),(0,i.jsxs)("div",{className:a()(u.wrapper,r),children:[(0,i.jsx)(c.ZP,{mask:c.ZP.Masks.STATUS_SCREENSHARE,width:32,height:32,children:(0,i.jsx)("div",{className:u.icon,style:{backgroundColor:s},children:null!==(t=n[0])&&void 0!==t?t:"?"})}),(0,i.jsx)(o.VideoIcon,{size:"md",color:"currentColor",className:u.badge})]})}},667815:function(e,t,n){n.d(t,{v:function(){return l}});var i=n(570140);let l=(e,t)=>{i.Z.wait(()=>{i.Z.dispatch({type:"APPLIED_GUILD_BOOST_COUNT_UPDATE",guildId:e,premiumCount:t})})}},531572:function(e,t,n){var i,l=n(442837),r=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s={};class o extends(i=l.ZP.PersistedStore){initialize(e){null!=e&&(s=e)}getState(){return s}getCountForGuild(e){return s[e]}}a(o,"displayName","GuildBoostingProgressBarPersistedStore"),a(o,"persistKey","PremiumGuildProgressBarPersistedStore"),t.Z=new o(r.Z,{APPLIED_GUILD_BOOST_COUNT_UPDATE:e=>{let{guildId:t,premiumCount:n}=e;s={...s,[t]:n}}})},583962:function(e,t,n){n.d(t,{PD:function(){return R},aR:function(){return y}}),n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(920906),o=n(91192),c=n(442837),u=n(477690),d=n(481060),h=n(239091),p=n(607070),_=n(100527),f=n(367907),g=n(906732),m=n(434404),C=n(496675),I=n(259580),E=n(267642),N=n(624138),x=n(667815),S=n(531572),Z=n(26323),v=n(30513),T=n(981631),L=n(689938),A=n(960600);let b=(0,N.Mg)(u.Z.GUILD_BOOSTING_SIDEBAR_DISPLAY_CONDITIONAL_BOTTOM_MARGIN),M=e=>{let{guild:t,onSelect:n}=e,[r,a]=l.useState(t.premiumProgressBarEnabled),[s,o]=l.useState(!1),u=(0,c.e7)([C.Z],()=>C.Z.can(T.Plq.MANAGE_GUILD,t)),p=async()=>{if(!!u)o(!0),await m.Z.saveGuild(t.id,{premiumProgressBarEnabled:!r}),a(!r),o(!1)};return(0,i.jsx)(d.Menu,{navId:"progress-bar-context",onClose:h.Zy,"aria-label":L.Z.Messages.PROGRESS_BAR_ACTIONS_MENU_LABEL,onSelect:n,children:(0,i.jsx)(d.MenuCheckboxItem,{id:"progress-bar-enabled",label:L.Z.Messages.GUILD_ENABLE_PROGRESS_BAR,checked:r,disabled:s,action:p})})},R=57,y=57+b,O={tension:180,friction:80};t.ZP=e=>{let{guild:t,withMargin:n}=e,{analyticsLocations:r}=(0,g.ZP)(_.Z.GUILD_BOOSTING_SIDEBAR_DISPLAY),{premiumSubscriberCount:u,id:m}=t,N=(0,E.rF)(u,m),b=(0,E.FZ)(N,t.id),R=null==b,y=null!=b?b:N,P=(0,c.e7)([S.Z],()=>{var e;return null!==(e=S.Z.getCountForGuild(m))&&void 0!==e?e:0}),j=(0,c.e7)([p.Z],()=>p.Z.useReducedMotion),D=(0,c.e7)([C.Z],()=>C.Z.can(T.Plq.MANAGE_GUILD,t));l.useEffect(()=>{P!==u&&(0,x.v)(m,u)},[m,P,u]);let U="".concat(Math.min(100,u/(0,E.vn)(t.id)[y]*100),"%"),{current:G}=l.useRef(U),w={from:{width:P===u?G:"0%"},to:{width:U},config:O,immediate:j},[k,B]=(0,s.useSpring)(()=>w),V=()=>{(0,f.yw)(T.rMx.PREMIUM_GUILD_PROMOTION_OPENED,{location:{section:T.jXE.PREMIUM_GUILD_PROGRESS_BAR},guild_id:m,location_stack:r}),(0,Z.Z)({analyticsLocations:r,analyticsSourceLocation:{page:T.ZY5.GUILD_CHANNEL,section:T.jXE.PREMIUM_GUILD_PROGRESS_BAR,object:T.qAy.TOOLTIP},guild:t,perks:(0,v.VF)(),perkIntro:L.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_MODAL_PROGRESS_BAR_HEADER})},H=L.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_GOAL.format({levelName:(0,E.e9)(y)}),F=L.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_PROGRESS_BAR_BLURB.format({numBoosts:u,numTotal:(0,E.vn)(t.id)[y]});R&&(H=(0,E.e9)(y),F=L.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_PROGRESS_BAR_COMPLETED_BLURB.format({numBoosts:u}));let W=(0,o.JA)("boosts-".concat(t.id));return(0,i.jsx)("li",{children:(0,i.jsx)(d.Tooltip,{text:R?L.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_NUDGE_TOOLTIP_COMPLETE:L.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_NUDGE_TOOLTIP.format({levelName:(0,E.nW)(y)}),color:d.Tooltip.Colors.BLACK,position:"top",delay:200,hideOnClick:!0,children:e=>(0,i.jsxs)(d.Clickable,{...W,...e,"aria-label":void 0,role:"button",focusProps:{offset:{left:10,right:4}},onClick:V,onMouseEnter:()=>{var t;null===(t=e.onMouseEnter)||void 0===t||t.call(e),B(w)},className:a()(A.container,{[A.containerWithMargin]:n}),onContextMenu:e=>{D&&(0,h.vq)(e,e=>(0,i.jsx)(M,{...e,guild:t}))},children:[(0,i.jsx)(d.HiddenVisually,{children:e["aria-label"]}),(0,i.jsxs)("div",{className:A.textArea,children:[(0,i.jsx)("div",{className:A.goalTextContainer,children:(0,i.jsx)(d.Text,{className:A.goalText,color:"interactive-active",variant:"text-xs/bold",children:H})}),(0,i.jsxs)("div",{className:A.progressFraction,children:[(0,i.jsx)(d.Text,{color:"interactive-normal",variant:"text-xs/normal",children:F}),(0,i.jsx)(I.Z,{className:A.count,height:16,width:16,direction:I.Z.Directions.RIGHT})]})]}),(0,i.jsxs)("div",{className:a()(A.progressBarContainer,{[A.progressBarContainerComplete]:R}),children:[(0,i.jsx)(s.animated.div,{className:A.progressBar,style:k}),R?(0,i.jsx)("span",{"aria-label":L.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_PROGRESS_BAR_TADA_ICON_ALT_TEXT,role:"img",className:A.tadaIcon,children:"\uD83C\uDF89"}):null]})]})})})}},98493:function(e,t,n){n.d(t,{m:function(){return d},p:function(){return u}}),n(47120);var i=n(470079),l=n(913527),r=n.n(l),a=n(881052),s=n(709054),o=n(693546),c=n(246364);let u=c.tB*c.hW;function d(e){let{guildId:t,guildJoinRequests:n}=e,l=i.useRef(!1),[d,h]=i.useState(null),p=i.useRef(null),_=i.useRef(!1);return{fetchNextPage:i.useCallback(async(e,i)=>{if(l.current)return;let f="".concat(e,"-").concat(i),g=!1;if(f!==p.current&&(p.current=f,_.current=!1,g=!0),_.current)return;null!=d&&h(null);let m=function(e,t,n,i){let l=n===c.wB.SUBMITTED;if(t===c.Nw.TIMESTAMP_DESC){if(i)return{before:s.default.fromTimestamp(new Date().getTime())};{let t=e[e.length-1];return{before:l?t.joinRequestId:t.actionedAt}}}if(i)return{after:s.default.fromTimestamp(r()().subtract(180,"days").valueOf())};{let t=e[e.length-1];return{after:l?t.joinRequestId:t.actionedAt}}}(n,e,i,g);try{l.current=!0;let e=await o.Z.fetchGuildJoinRequests({guildId:t,status:i,limit:u,force:!0,...m});if(null!=e){let{guild_join_requests:t}=e.body;t.length<u&&(_.current=!0)}}catch(e){h(new a.Hx(e).getAnyErrorMessage())}finally{l.current=!1}},[d,t,n]),error:d}}},915885:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250),l=n(470079),r=n(704215),a=n(481060),s=n(566840),o=n(434479),c=n(527379),u=n(689938);function d(e){let{guild:t,selected:n}=e,d=l.useCallback(()=>{(0,c._X)(t.id)},[t.id]),h=(0,s.XL)(t.id,r.z.MEMBERS_LAUNCH_UPSELL);return(0,i.jsx)("div",{ref:h,children:(0,i.jsx)(o.m,{id:"members-".concat(t.id),renderIcon:e=>(0,i.jsx)(a.GroupIcon,{size:"md",color:"currentColor",className:e}),text:u.Z.Messages.MEMBER_SAFETY_CHANNEL_TITLE,selected:n,onClick:d})})}},396828:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(735250);n(470079);var l=n(377171),r=n(325767);function a(e){let{width:t=24,height:n=24,...a}=e;return(0,i.jsxs)("svg",{...(0,r.Z)(a),width:t,height:n,viewBox:"0 0 24 24",children:[(0,i.jsx)("path",{d:"M17.225 6.06504C17.3227 6.00866 17.4362 5.98608 17.548 6.00084C17.6598 6.0156 17.7637 6.06686 17.8434 6.14665C17.9232 6.22645 17.9744 6.33037 17.9892 6.44225C18.0039 6.55413 17.9813 6.66772 17.925 6.76548L15.65 10.2551L21.9875 11.581C21.9875 11.7185 21.9875 11.8562 21.9875 11.9937C21.9875 12.1313 21.9875 12.2689 21.9875 12.4065L15.65 13.7323L17.925 17.222C17.9939 17.3117 18.0313 17.4216 18.0313 17.5347C18.0313 17.6478 17.9939 17.7577 17.925 17.8474C17.8281 17.9424 17.6982 17.9962 17.5625 17.9975C17.466 17.996 17.3714 17.9702 17.2875 17.9224L13.8125 15.646L12.4125 22H11.5875L10.2625 15.6585L6.77501 17.935C6.69176 17.9843 6.59672 18.0102 6.49997 18.01C6.43455 18.0098 6.3699 17.9963 6.30977 17.9705C6.24964 17.9447 6.1953 17.9072 6.15001 17.8599C6.06977 17.7789 6.01879 17.6734 6.0052 17.5601C5.99162 17.4468 6.01621 17.3323 6.07501 17.2345L8.36253 13.7449L2 12.4065C2 12.2689 2 12.1313 2 11.9937C2 11.8562 2 11.7185 2 11.581L8.35002 10.2551L6.0625 6.76548C6.0037 6.66774 5.97918 6.55315 5.99277 6.43988C6.00635 6.32661 6.05726 6.22113 6.1375 6.14009C6.21731 6.05781 6.32295 6.00542 6.43672 5.99176C6.5505 5.97809 6.6655 6.00399 6.7625 6.06504L10.25 8.34148L11.575 2H12.4L13.7375 8.34148L17.225 6.06504Z",fill:"white"}),(0,i.jsx)("path",{d:"M22 12.4065C21.8956 14.9141 20.8533 17.2908 19.0798 19.0654C17.3062 20.8401 14.931 21.883 12.425 21.9875L13.7625 15.646L17.2375 17.9224C17.3214 17.9702 17.416 17.996 17.5125 17.9975C17.6481 17.9962 17.7781 17.9424 17.875 17.8474C17.9439 17.7577 17.9813 17.6478 17.9813 17.5347C17.9813 17.4216 17.9439 17.3117 17.875 17.222L15.6 13.7323L22 12.4065ZM13.7625 8.34148L17.2375 6.06504C17.3352 6.00866 17.4487 5.98608 17.5605 6.00084C17.6723 6.0156 17.7762 6.06686 17.8559 6.14665C17.9357 6.22645 17.9869 6.33037 18.0017 6.44225C18.0164 6.55413 17.9938 6.66772 17.9375 6.76548L15.6625 10.2551L22 11.581C21.8956 9.07342 20.8533 6.69669 19.0798 4.92206C17.3062 3.14742 14.931 2.10449 12.425 2L13.7625 8.34148ZM10.275 8.34148L11.6 2C9.09402 2.10449 6.71878 3.14742 4.94525 4.92206C3.17172 6.69669 2.12945 9.07342 2.02502 11.581L8.37497 10.2551L6.08752 6.76548C6.02873 6.66774 6.00413 6.55315 6.01772 6.43988C6.0313 6.32661 6.08228 6.22113 6.16252 6.14009C6.24233 6.05781 6.34797 6.00542 6.46175 5.99176C6.57552 5.97809 6.69052 6.00399 6.78752 6.06504L10.275 8.34148ZM6.16252 17.8474C6.08228 17.7663 6.0313 17.6609 6.01772 17.5476C6.00413 17.4343 6.02873 17.3197 6.08752 17.222L8.37497 13.7323L2 12.4065C2.10442 14.9141 3.1467 17.2908 4.92023 19.0654C6.69376 20.8401 9.06899 21.883 11.575 21.9875L10.25 15.646L6.7625 17.9224C6.67925 17.9718 6.58428 17.9977 6.48753 17.9975C6.35971 17.9937 6.23848 17.9398 6.15001 17.8474H6.16252Z",fill:"url(#paint0_linear_3793:27920)"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_3793:27920",x1:"2",y1:"21.9875",x2:"21.9875",y2:"1.98749",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:l.Z.CREATOR_REVENUE_ICON_GRADIENT_START}),(0,i.jsx)("stop",{offset:"1",stopColor:l.Z.CREATOR_REVENUE_ICON_GRADIENT_END})]})})]})}},921711:function(e,t,n){n.d(t,{O:function(){return u},Z:function(){return d}});var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(377171),s=n(549631),o=n(460267),c=n(47705);function u(e){return e}function d(e){let{locked:t}=e;return(0,i.jsx)("div",{className:r()(c.iconItem,o.premiumChannelIcon),children:(0,i.jsx)(s.Z,{className:c.actionIcon,color:t?a.Z.CREATOR_REVENUE_LOCKED_CHANNEL_ICON:void 0})})}},518756:function(e,t,n){n(47120);var i=n(470079),l=n(442837),r=n(889161),a=n(984933),s=n(430824),o=n(496675),c=n(981631);t.Z=(e,t)=>{let n=(0,l.e7)([s.Z],()=>s.Z.getGuild(e),[e]),{canCreateGuildEvent:u}=(0,r.XJ)(n),d=(0,l.e7)([a.ZP],()=>a.ZP.getChannels(e)[a.Zb],[e]),h=i.useMemo(()=>null!=t?d.filter(e=>{let{channel:n}=e;return n.type===t}):d,[d,t]);return(0,l.e7)([o.Z],()=>{if(o.Z.can(c.Plq.ADMINISTRATOR,n)||u)return!0;for(let{channel:e}of h){let{canCreateGuildEvent:t}=(0,r.Gw)(e);if(t)return!0}return!1},[h,n,u])}},265418:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(724912),l=n(518756),r=n(554747);function a(e){let t=(0,l.Z)(e),n=(0,r.ZP)(e);return!(0,i.Z)(e)&&(t||n.length>0)}},968847:function(e,t,n){n.d(t,{x:function(){return i}}),n(47120);var i,l,r,a,s,o,c=n(392711),u=n.n(c),d=n(442837),h=n(570140),p=n(220444),_=n(565799),f=n(501655),g=n(569471),m=n(592125),C=n(430824),I=n(306680),E=n(914010),N=n(9156),x=n(938475),S=n(823379),Z=n(734307),v=n(981631);(r=i||(i={})).HIDDEN="hidden",r.UNREAD="unread",r.MENTIONS="mentions",r.VOICE_CHANNELS="voice-channels";let T={mode:"hidden",mentionCount:0,targetChannelId:null},L={topBar:T,bottomBar:T},A={},b={};function M(e){let t=m.Z.getChannel(e);return!(null==t||null==t.getGuildId()||t.isGuildVocal())&&!(t.isThread()?g.Z.isMuted(t.id):N.ZP.isChannelMuted(t.getGuildId(),t.id))&&(0,p.d)(t)}function R(e){let t=m.Z.getChannel(e);if(null==t)return!1;let n=t.getGuildId();if(null==n)return!1;let i=N.ZP.isGuildCollapsed(n),l=N.ZP.isChannelMuted(n,t.id);return(!i||!l)&&I.ZP.getMentionCount(e)>0}function y(e){return!N.ZP.isChannelMuted(e.guild_id,e.id)&&(e.isGuildStageVoice()?_.Z.getMutableParticipants(e.id,f.pV.SPEAKER).length>0:x.ZP.getVoiceStatesForChannel(e).length>0)}function O(e){var t,n,i;let{guildChannels:l}=Z.Z.getGuildWithoutChangingCommunityRows(e),r=l.getChannels(null!==(t=b[e])&&void 0!==t?t:[]);if(null==r||0===r.length)return!1;let a=null,s=null,o=null,c=null,d=!0,h=!0,p=!1,_=l.getCategoryFromSection(l.voiceChannelsSectionNumber),f=null!==(n=null==_?void 0:_.getShownChannelIds())&&void 0!==n?n:[],[g,m,C]=l.getSlicedChannels(r);for(let e=0;e<m.length;e++){let t=m[e];if((M(t.id)||u().some(t.threadIds,M))&&(h=!1),(R(t.id)||u().some(t.threadIds,R))&&(d=!1),f.includes(t.id)&&(p=!0),!h&&!d&&p)break}let E=0,N=!1,x=0,S=!1;if(h||d)for(let e=g.length-1;e>=0;e--){let t=g[e];(M(t.id)||u().some(t.threadIds,M))&&(null==s&&(s=t.id),N=!0),(R(t.id)||u().some(t.threadIds,R))&&(null==a&&(a=t.id),E+=I.ZP.getMentionCount(t.id)+u().sumBy(t.threadIds,I.ZP.getMentionCount))}if(h||d)for(let e=0;e<C.length;e++){let t=C[e];if(!h&&!d)break;(M(t.id)||u().some(t.threadIds,M))&&(null==c&&(c=t.id),S=!0),(R(t.id)||u().some(t.threadIds,R))&&(null==o&&(o=t.id),x+=I.ZP.getMentionCount(t.id)+u().sumBy(t.threadIds,I.ZP.getMentionCount))}let v=null,L=null,O=null!==(i=null==_?void 0:_.getChannelRecords())&&void 0!==i?i:[];d&&x>0?v={mode:"mentions",mentionCount:x,targetChannelId:o}:!p&&u().some(O,y)?v={mode:"voice-channels",mentionCount:0,targetChannelId:null}:h&&S&&(v={mode:"unread",mentionCount:0,targetChannelId:c}),d&&E>0?L={mode:"mentions",mentionCount:E,targetChannelId:a}:h&&N&&(L={mode:"unread",mentionCount:0,targetChannelId:s});let P=null!=L&&(null==v||"mentions"!==v.mode&&"mentions"===L.mode),j=null!=v&&("mentions"===v.mode||!P);return A[e]={topBar:P&&null!=L?L:T,bottomBar:j&&null!=v?v:T},!0}let P=u().throttle(O,200);function j(e){let{guildId:t}=e,n=C.Z.getGuild(t);return!!(null!=n&&n.hasFeature(v.oNc.COMMUNITY))&&P(t)}function D(e){let{id:t}=e,n=m.Z.getChannel(t);if(null==n)return!1;let i=C.Z.getGuild(n.guild_id);return!!(null!=i&&i.hasFeature(v.oNc.COMMUNITY))&&P(n.guild_id)}function U(e){let{channel:t}=e,n=m.Z.getChannel(t.id);if(null==n)return!1;let i=C.Z.getGuild(t.guild_id);return!!(null!=i&&i.hasFeature(v.oNc.COMMUNITY))&&P(n.guild_id)}function G(e){let{channelId:t}=e,n=m.Z.getChannel(t);if(null==n)return!1;let i=C.Z.getGuild(n.guild_id);return!!(null!=i&&i.hasFeature(v.oNc.COMMUNITY))&&E.Z.getGuildId()===n.guild_id&&P(n.guild_id)}function w(e){let{guildId:t}=e;return null!=t&&P(t)}class k extends(l=d.ZP.Store){initialize(){this.waitFor(Z.Z,I.ZP,N.ZP,g.Z,x.ZP,E.Z,C.Z)}getUnreadStateForGuildId(e){var t;return null!==(t=A[e])&&void 0!==t?t:L}}o="ChannelListUnreadsStore",(s="displayName")in(a=k)?Object.defineProperty(a,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[s]=o,t.Z=new k(h.Z,{UPDATE_CHANNEL_LIST_DIMENSIONS:function(e){let{guildId:t,channelIds:n}=e,i=C.Z.getGuild(t);return!!(null!=i&&i.hasFeature(v.oNc.COMMUNITY))&&null!=n&&!u().isEqual(b[t],n)&&(b[t]=n,O(t))},BULK_ACK:function(e){let{channels:t}=e,n=!1;return u()(t).map(e=>{var t;let{channelId:n}=e;return null===(t=m.Z.getChannel(n))||void 0===t?void 0:t.guild_id}).filter(S.lm).uniq().forEach(e=>{let t=C.Z.getGuild(e);null!=t&&t.hasFeature(v.oNc.COMMUNITY)&&P(e)&&(n=!0)}),n},CHANNEL_ACK:G,CHANNEL_DELETE:U,CHANNEL_LOCAL_ACK:G,MESSAGE_ACK:G,MESSAGE_CREATE:G,MESSAGE_DELETE_BULK:G,MESSAGE_DELETE:G,PASSIVE_UPDATE_V2:function(e){let t=C.Z.getGuild(e.guildId);return!!(e.channels.length>0&&null!=t&&t.hasFeature(v.oNc.COMMUNITY))&&P(e.guildId)},RESORT_THREADS:G,THREAD_CREATE:U,THREAD_DELETE:U,THREAD_LIST_SYNC:j,THREAD_MEMBER_UPDATE:D,THREAD_MEMBERS_UPDATE:D,THREAD_UPDATE:U,BULK_CLEAR_RECENTS:j,CATEGORY_COLLAPSE_ALL:j,CATEGORY_EXPAND_ALL:j,VOICE_STATE_UPDATES:function(e){let{voiceStates:t}=e,n=E.Z.getGuildId();if(null==n||!new Set(t.map(e=>e.guildId)).has(n))return!1;let i=A[n];return null!=i&&"voice-channels"===i.bottomBar.mode&&P(n)},USER_GUILD_SETTINGS_CHANNEL_UPDATE:w,USER_GUILD_SETTINGS_CHANNEL_UPDATE_BULK:w,USER_GUILD_SETTINGS_FULL_UPDATE:function(e){let{userGuildSettings:t}=e;for(let e of t)null!=e.guild_id&&P(e.guild_id)},USER_GUILD_SETTINGS_GUILD_UPDATE:w,USER_GUILD_SETTINGS_GUILD_AND_CHANNELS_UPDATE:w})},700026:function(e,t,n){n.d(t,{V5:function(){return c},ie:function(){return o}});var i=n(680089),l=n(496675),r=n(540126),a=n(443063),s=n(981631);function o(e,t,n){var i,l,s,o,c;return{hasDivider:(i=e,l=t,!function(e,t){if(t===r.zm){let t=e.getCommunitySection().getRows();return 1===t.length&&t[0]===a.f.GUILD_PREMIUM_PROGRESS_BAR||e.getCommunitySection().isEmpty()}return 0===e.getSections()[t]}(i,s=n)&&(s===r.zm||!!l&&(s===r.p2||s!==r.wd&&(s===i.recentsSectionNumber||(i.voiceChannelsSectionNumber,!1))))),canHaveVoiceSummary:(o=e,!((c=n)===r.zm||c===r.p2||c===r.wd||c===o.recentsSectionNumber||c===o.voiceChannelsSectionNumber))}}function c(e){let{category:t,voiceStates:n,selectedChannelId:r,selectedVoiceChannelId:a}=e;return function(e){let{category:t,voiceStates:n,selectedChannelId:r,selectedVoiceChannelId:a}=e;return!0!==i.Z.isCollapsed(t.record.id)?[]:t.getChannelRecords().filter(e=>{var t;if(!l.Z.can(s.Plq.VIEW_CHANNEL,e))return!1;let i=null!==(t=n[e.id])&&void 0!==t?t:[];return e.id!==a&&e.id!==r&&i.length>0})}({category:t,selectedChannelId:r,selectedVoiceChannelId:a,voiceStates:n}).length>0}},438144:function(e,t,n){n.d(t,{M:function(){return r},s:function(){return l}});var i=n(570140);function l(e){i.Z.dispatch({type:"VOICE_CATEGORY_EXPAND",guildId:e,expand:!0})}function r(e){i.Z.dispatch({type:"VOICE_CATEGORY_COLLAPSE",guildId:e,expand:!1})}},790901:function(e,t,n){n.d(t,{u:function(){return i}});function i(e){return e.length>0}},714794:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e){return null!=e&&e>0}},688265:function(e,t,n){n.d(t,{Z:function(){return s}}),n(653041);var i=n(467138),l=n(496675),r=n(443063),a=n(981631);function s(e){let t=(0,i.e)(e.id),n=null!=e&&t&&l.Z.can(a.Plq.KICK_MEMBERS,e);if(!e.hasFeature(a.oNc.CLAN))return[];let s=[];return n&&s.push(r.f.GUILD_MEMBER_APPLICATIONS),s}},896053:function(e,t,n){n.d(t,{Z:function(){return _}}),n(653041);var i=n(399606),l=n(897345),r=n(697379),a=n(241559),s=n(563534),o=n(931261),c=n(460347),u=n(994592),d=n(265418),h=n(443063),p=n(981631);function _(e){let t=(0,d.Z)(e.id),n=(0,r.W)(e.id),_=(0,u.j0)(e.id),f=(0,l.u)(e),g=(0,o.g)(e.id),m=(0,i.e7)([s.Z],()=>s.Z.getNewMemberActions(e.id),[e.id]),C=(0,c.Z)(e.id),I=(0,a.n2)(e.id),E=[],N=e.hasFeature(p.oNc.HUB),x=e.hasFeature(p.oNc.COMMUNITY),S=e.hasFeature(p.oNc.ENABLED_MODERATION_EXPERIENCE_FOR_NON_COMMUNITY);return N&&E.push(h.f.GUILD_HUB_HEADER_OPTIONS),g&&C&&null!=m&&m.length>0?E.push(h.f.GUILD_NEW_MEMBER_ACTIONS_PROGRESS_BAR):e.premiumProgressBarEnabled&&E.push(h.f.GUILD_PREMIUM_PROGRESS_BAR),!N&&g&&E.push(h.f.GUILD_HOME),t&&E.push(h.f.GUILD_SCHEDULED_EVENTS),!N&&x&&E.push(h.f.CHANNELS_AND_ROLES),_&&E.push(h.f.GUILD_ROLE_SUBSCRIPTIONS),f&&E.push(h.f.GUILD_SHOP),n&&E.push(h.f.GUILD_MEMBER_APPLICATIONS),I&&(x||S)&&E.push(h.f.GUILD_MOD_DASH_MEMBER_SAFETY),E}},355363:function(e,t,n){n.d(t,{ZP:function(){return r}});var i=n(829750),l=n(981631);function r(e){let{channel:t,locked:n,video:r,selected:a}=e;return function(e){let{channel:t,video:n,considerMaxStageVoiceUserLimit:r=!0}=e,{limit:a}=(0,i.Z)(t),s=-1;return(t.userLimit>0&&(s=t.userLimit),n&&a>0&&(s=s>0?Math.min(s,a):a),r&&s===l.xGv)?0:s}({channel:t,video:r})>0&&!n&&!a}},109446:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120);var i=n(735250),l=n(470079),r=n(392711),a=n.n(r),s=n(442837),o=n(481060),c=n(99690),u=n(359110),d=n(601070),h=n(91159),p=n(488131),_=n(496675),f=n(306680),g=n(594174),m=n(768581),C=n(709054),I=n(981631),E=n(124368),N=n(689938),x=n(542326);function S(e){let{channel:t}=e,r=(0,s.Wu)([d.Z,f.ZP,_.Z],()=>{let e=d.Z.getActiveJoinedRelevantThreadsForParent(t.guild_id,t.id);return a()(d.Z.getActiveJoinedThreadsForParent(t.guild_id,t.id)).values().map(e=>e.channel).concat(a().values(d.Z.getActiveUnjoinedThreadsForParent(t.guild_id,t.id))).filter(t=>!(t.id in e)&&_.Z.can(I.Plq.VIEW_CHANNEL,t)).sort((e,t)=>{let n=f.ZP.lastMessageId(e.id),i=f.ZP.lastMessageId(t.id);return C.default.compare(n,i)}).reverse().value()}),c=t.isForumLikeChannel()?5:3;return l.useEffect(()=>{(0,h.q)()},[]),(0,i.jsxs)("div",{className:x.popout,children:[(0,i.jsx)(o.Text,{className:x.title,variant:"text-xs/bold",color:"header-secondary",children:t.isForumLikeChannel()?N.Z.Messages.ACTIVE_THREADS_POPOUT_HEADER_FORUM:N.Z.Messages.ACTIVE_THREADS_POPOUT_HEADER}),r.slice(0,t.isForumLikeChannel()?r.length:c).map(e=>(0,i.jsx)(Z,{thread:e},e.id)).filter(e=>l.isValidElement(e)).slice(0,c),(0,i.jsx)(o.Clickable,{className:x.more,onClick:()=>{t.isForumLikeChannel()?(0,u.Kh)(t.id):(0,o.openModalLazy)(async()=>{let{default:e}=await n.e("36970").then(n.bind(n,223901));return n=>(0,i.jsx)(e,{channel:t,...n})})},children:(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"none",children:N.Z.Messages.ACTIVE_THREADS_POPOUT_LINK})})]})}function Z(e){let{thread:t}=e,n=(0,s.e7)([g.default],()=>g.default.getUser(t.ownerId)),l=(0,h.Ok)(t);return(0,i.jsxs)(o.Clickable,{className:x.row,onClick:e=>{(0,p.ok)(t,t.isForumPost()?e.shiftKey:!e.shiftKey,E.on.POPOUT)},children:[null==n?(0,i.jsx)("img",{className:x.avatar,src:m.ZP.getDefaultAvatarURL(void 0,void 0),alt:""}):(0,i.jsx)(c.Z,{className:x.avatar,user:n,size:o.AvatarSizes.SIZE_16}),(0,i.jsx)(o.Text,{className:x.name,variant:"text-sm/normal",color:"none",children:t.name}),(0,i.jsxs)(o.Text,{className:x.timestamp,variant:"text-sm/normal",color:"none",children:[(0,i.jsx)("span",{className:x.bullet,children:"•"}),(0,h.Ye)(l)]})]})}},434479:function(e,t,n){n.d(t,{m:function(){return h}});var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(91192),s=n(589440),o=n(481060),c=n(595954),u=n(47705),d=n(359123);function h(e){var t;let{id:n,className:l,innerClassName:h,renderIcon:p,text:_,selected:f,trailing:g,showUnread:m=!1,...C}=e,I=(0,a.JA)(n),E=null!==(t=(0,s.q)(_))&&void 0!==t?t:"";return(0,i.jsx)("li",{children:(0,i.jsxs)(o.ClickableContainer,{...C,buttonProps:{...I,id:n,role:"button"},tag:"div","aria-label":E,focusProps:{offset:{top:1,bottom:1,right:4}},onContextMenu:null!=C.onContextMenu?C.onContextMenu:e=>{e.stopPropagation()},className:r()(u.containerDefault,d.wrapper,{[d.modeSelected]:f},l),children:[m?(0,i.jsx)("div",{className:r()(d.unread,d.unreadImportant)}):null,(0,i.jsx)("div",{className:r()([d.link,d.basicChannelRowLink,h]),children:(0,i.jsxs)("div",{className:c.content,children:[(0,i.jsx)("div",{className:d.iconContainer,children:p(d.icon)}),(0,i.jsx)("div",{className:d.name,"aria-hidden":!0,children:_}),g]})})]})})}},301342:function(e,t,n){n.d(t,{P:function(){return T},Qo:function(){return L},kw:function(){return b},rj:function(){return A}});var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(91192),o=n(442837),c=n(481060),u=n(211739),d=n(239091),h=n(146773),p=n(680089),_=n(430824),f=n(496675),g=n(9156),m=n(514342),C=n(151827),I=n(203818),E=n(438144),N=n(981631),x=n(689938),S=n(949601);function Z(e){e.stopPropagation()}let v=l.memo(function(e){let t,{channel:r,connectChannelDragSource:h,connectChannelDropTarget:I,disableManageChannels:E,position:v,sortingPosition:T,hideIcon:L,children:A}=e,b=(0,o.e7)([g.ZP],()=>g.ZP.isChannelMuted(r.getGuildId(),r.id)),M=(0,o.e7)([p.Z],()=>p.Z.isCollapsed(r.id)),R=(0,o.e7)([f.Z],()=>f.Z.can(N.Plq.MANAGE_CHANNELS,r));t=null!=T?v>T?S.containerDragAfter:S.containerDragBefore:S.containerDefault;let y=l.useCallback(()=>{M?(0,u.mJ)(r.id):(0,u.c4)(r.id)},[r.id,M]),O=l.useCallback(e=>{if("null"!==r.id){let t=_.Z.getGuild(r.getGuildId());null!=t&&(0,d.jW)(e,async()=>{let{default:e}=await n.e("8965").then(n.bind(n,139035));return n=>(0,i.jsx)(e,{...n,channel:r,guild:t})})}},[r]),P=l.useCallback(()=>{let e=r.type===N.d4z.GUILD_CATEGORY?null:r.type,t=r.getGuildId();null!=t&&(0,c.openModalLazy)(async()=>{let{default:l}=await Promise.all([n.e("45094"),n.e("9458")]).then(n.bind(n,218613));return n=>(0,i.jsx)(l,{...n,channelType:e,guildId:t,categoryId:"null"!==r.id?r.id:null})})},[r]),{role:j,tabIndex:D,...U}=(0,s.JA)(r.id),G=l.useRef(null),w=l.useRef(null),k=(0,i.jsxs)("li",{className:t,"data-dnd-name":r.name,children:[(0,i.jsx)(c.FocusRing,{focusTarget:G,ringTarget:w,offset:{left:4,right:4},children:(0,i.jsxs)("div",{ref:w,className:a()(S.iconVisibility,S.wrapper,{[S.collapsed]:M,[S.muted]:b,[S.clickable]:!0}),onContextMenu:O,children:[(0,i.jsxs)(c.Clickable,{innerRef:G,className:S.mainContent,tabIndex:D,...U,onClick:y,"aria-label":x.Z.Messages.CATEGORY_A11Y_LABEL.format({categoryName:r.name}),"aria-expanded":!M,focusProps:{enabled:!1},children:[L?null:(0,i.jsx)(c.ChevronSmallDownIcon,{size:"md",color:"currentColor",className:S.icon}),(0,i.jsx)(C.Z,{className:S.name,children:(0,i.jsx)(m.Z,{children:r.name})})]}),(0,i.jsx)("div",{onClick:Z,className:S.children,children:R&&!E?(0,i.jsx)(c.Tooltip,{text:x.Z.Messages.CREATE_CHANNEL,children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,i.jsx)(c.Button,{"aria-label":x.Z.Messages.CREATE_CHANNEL,look:c.Button.Looks.BLANK,size:c.Button.Sizes.NONE,className:a()(S.addButton,S.forceVisible),onClick:P,onMouseEnter:t,onMouseLeave:n,tabIndex:D,focusProps:{offset:{top:-3,right:-4,bottom:-3,left:-4}},children:(0,i.jsx)(c.PlusSmallIcon,{size:"sm",color:"currentColor",className:S.addButtonIcon})})}}):null})]})}),A]});return null!=I&&null!=h?I(h(k)):k});t.ZP=(0,h.B)(v);let T=l.memo(function(e){let{name:t,onDismiss:n,className:l}=e;return(0,i.jsx)("li",{className:a()(l,S.containerDefault),children:(0,i.jsxs)("div",{className:a()(S.iconVisibility,S.wrapperStatic),children:[(0,i.jsx)("div",{className:S.mainContent,children:(0,i.jsx)(C.Z,{className:S.name,children:(0,i.jsx)(m.Z,{children:t})})}),null!=n?(0,i.jsx)(c.TooltipContainer,{text:x.Z.Messages.CLEAR_RECENT_CHANNELS,className:S.dismissWrapper,children:(0,i.jsx)(c.Clickable,{className:S.dismissButton,onClick:n,children:(0,i.jsx)(c.CircleXIcon,{size:"md",color:"currentColor",className:S.dismiss})})}):null]})})}),L=l.memo(function(e){let{category:t}=e,n=(0,o.e7)([I.Z],()=>I.Z.isVoiceCategoryCollapsed(t.guild.id)),r=l.useCallback(()=>{n?(0,E.s)(t.guild.id):(0,E.M)(t.guild.id)},[t.guild.id,n]);return n?(0,i.jsxs)(c.Clickable,{className:S.voiceChannelsButton,onClick:r,children:[(0,i.jsx)(c.VoiceNormalIcon,{size:"xs",color:"currentColor",className:S.voiceChannelsToggleIcon}),(0,i.jsx)(c.Text,{variant:"text-sm/medium",children:x.Z.Messages.VOICE_CHANNELS_CATEGORY_BUTTON_EXPAND})]}):(0,i.jsxs)(c.Clickable,{className:S.voiceChannelsButton,onClick:r,children:[(0,i.jsx)(c.VoiceNormalIcon,{size:"xs",color:"currentColor",className:S.voiceChannelsToggleIcon}),(0,i.jsx)(c.Text,{variant:"text-sm/medium",children:x.Z.Messages.VOICE_CHANNELS_CATEGORY_BUTTON_COLLAPSE})]})}),A=l.memo(function(e){let{category:t,channel:n}=e,l=(0,o.e7)([I.Z],()=>I.Z.isVoiceCategoryCollapsed(t.guild.id));return l||null==n||n.record.type===N.d4z.GUILD_CATEGORY?l?(0,i.jsx)("li",{className:a()(S.containerDefault),children:(0,i.jsx)("div",{className:a()(S.iconVisibility,S.wrapperStatic),children:(0,i.jsx)(C.Z,{className:S.name,children:(0,i.jsx)(m.Z,{children:x.Z.Messages.VOICE_CHANNELS_CATEGORY_HEADER})})})}):null:(0,i.jsx)("div",{style:{height:16}})}),b=l.memo(function(e){let{channel:t}=e;return(0,i.jsx)("li",{className:a()(S.containerDefault),children:(0,i.jsx)("div",{className:a()(S.iconVisibility,S.wrapperStatic),children:(0,i.jsx)(C.Z,{className:S.name,children:(0,i.jsx)(m.Z,{children:t.name})})})})})},754231:function(e,t,n){n.d(t,{Z:function(){return T}}),n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),c=n(503438),u=n(594174),d=n(672938),h=n(936195),p=n(727218),_=n(602623),f=n(81063),g=n(768581),m=n(823379),C=n(51144),I=n(328979);let E=_.u.SIZE_24;function N(e){var t,n;let{activity:r,user:a,embeddedApp:s,onOpenSpotifyAlbum:u}=e,d=null==r?void 0:r.assets,h=null==r?void 0:r.application_id;if(null==r||null==d||null==d.large_image&&null==d.small_image)return null!=s?function(e){let t=g.ZP.getApplicationIconURL({id:e.application.id,icon:e.application.icon}),n=e.application.name;return(0,i.jsx)(o.Tooltip,{text:n,position:"top",children:()=>(0,i.jsx)("img",{alt:n,src:t,className:I.applicationLargeImage})})}(s):null;let p=null!==(t=d.large_image)&&void 0!==t?t:d.small_image,_=(0,c.Z)(r),m=_?I.spotifyLargeImage:I.applicationLargeImage,C=null!=p?(0,i.jsx)("img",{alt:null!==(n=d.large_text)&&void 0!==n?n:"",src:(0,f.getAssetImage)(h,p,[128,128]),className:m}):null;return _&&null!=u?(C=(0,i.jsx)(o.Clickable,{className:I.clickable,onClick:()=>{u(r,a.id)},children:C}),(0,i.jsx)(o.Tooltip,{text:null!=d.large_text?d.large_text:null,position:"top",children:e=>{let{onClick:t,...n}=e;return null!=C?l.cloneElement(C,n):null}})):C}function x(e){let{activity:t,embeddedApp:n,onOpenSpotifyTrack:l}=e,r=null==t?void 0:t.details,a=null==t?void 0:t.name,s=a;if(null!=n)s=n.application.name;else{if(!(null!=t&&(0,c.Z)(t))||null==t.sync_id||null==r||null==l)return null;a=r,s=(0,i.jsx)(o.Clickable,{className:I.headerLink,onClick:()=>{l(t)},children:r})}return(0,i.jsx)(p.Z,{title:a,className:I.header,children:s})}function S(e){let{activity:t,user:n,onOpenSpotifyArtist:l}=e,r=null==t?void 0:t.details,s=null==t?void 0:t.state,o=r;return(null!=t&&(0,c.Z)(t)&&null!=s&&(o=[(0,i.jsx)(h.Z,{artists:s,linkClassName:I.bodyLink,canOpen:null!=t.sync_id,onOpenSpotifyArtist:e=>{null==l||l(t,n.id,e)}},s)]),null==o||""===o)?null:(0,i.jsx)("div",{className:a()(I.ellipsisRow,I.colorHeaderSecondary,I.bodyTextSize),children:o})}function Z(e){let{activity:t}=e,n=null==t?void 0:t.state;return null==n||""===n||(0,c.Z)(t)?null:(0,i.jsx)("div",{className:a()(I.ellipsisRow,I.colorHeaderSecondary,I.bodyTextSize,I.__invalid_activity),children:n})}function v(e){let{activity:t}=e;if(null==t||!(0,c.Z)(t))return null;let{timestamps:n}=t;if((null==n?void 0:n.start)==null||(null==n?void 0:n.end)==null)return null;let{start:l,end:r}=n;return(0,i.jsx)(d.Z,{start:l,end:r,className:I.timeBar,themed:!0,singleLine:!0})}function T(e){let{activity:t,embeddedApp:n,user:r,channel:a,sortedVoiceStates:d,onOpenSpotifyTrack:h,onOpenSpotifyArtist:p,onOpenSpotifyAlbum:f}=e,g=[];null!=n?g=Array.from(n.embeddedActivity.userIds):(0,c.Z)(t)&&null!=d&&(g=d.map(e=>e.user.id));let T=(0,s.Wu)([u.default],()=>g.map(e=>u.default.getUser(e)).filter(m.lm)),L=null!=n||(0,c.Z)(t),A=l.useMemo(()=>{let e=new Map;return L&&null!=d&&d.forEach(t=>{let n=t.member;null!=n&&e.set(t.user.id,n)}),e},[d,L]);return L?(0,i.jsxs)("div",{className:I.flexColumn,children:[(0,i.jsxs)("div",{className:I.flexRow,children:[(0,i.jsx)(N,{activity:t,user:r,embeddedApp:n,onOpenSpotifyAlbum:f}),(0,i.jsxs)("div",{className:I.detailsAndAvatarsContainer,children:[(0,i.jsx)(x,{activity:t,embeddedApp:n,onOpenSpotifyTrack:h}),(0,i.jsx)(S,{activity:t,user:r,onOpenSpotifyArtist:p}),(0,i.jsx)(Z,{activity:t}),g.length>0&&(0,i.jsx)(_.Z,{className:I.usersSummary,guildId:a.guild_id,users:T,size:E,max:7,renderUser:e=>{var t;if(null==e)return null;let n=A.get(e.id),l=null!==(t=null==n?void 0:n.nick)&&void 0!==t?t:C.ZP.getName(e);return(0,i.jsx)(o.TooltipContainer,{text:l,position:"bottom",children:(0,i.jsx)("img",{src:e.getAvatarURL(a.guild_id,E),alt:l,className:I.avatar},e.id)},e.id)}})]})]}),(0,i.jsx)(v,{activity:t})]}):null}},737592:function(e,t,n){var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(442837),s=n(481060),o=n(717881),c=n(503438),u=n(850827),d=n(952164),h=n(131704),p=n(314897),_=n(594174),f=n(409216),g=n(768581),m=n(51144),C=n(754231),I=n(421097);function E(e){let{guildId:t,member:n,className:l}=e,a=null!=n.member?(0,g.CA)(n.member):null;return(0,i.jsx)(s.Tooltip,{text:n.nick,position:"bottom",children:e=>{var o;return(0,i.jsx)(s.Avatar,{src:null!=a?a:n.user.getAvatarURL(t,16),size:s.AvatarSizes.SIZE_16,className:r()(l,I.partyAvatar),"aria-label":null!==(o=n.nick)&&void 0!==o?o:m.ZP.getName(n.user),...e})}})}function N(e){let{members:t,guildId:n}=e;return(0,i.jsx)(f.Z,{className:I.partyMembers,guildId:n,users:t,max:6,renderUser:(e,t,l)=>(0,i.jsx)(E,{guildId:n,member:e,className:t},l),renderMoreUsers:(e,t,n)=>(0,i.jsx)("div",{className:r()(I.morePartyMembers,t),children:e},n)})}t.Z=e=>{let{channel:t,presenceActivity:n,members:l,embeddedApp:r,onAction:s}=e,f=null!=r,g=f?Array.from(r.embeddedActivity.userIds):[],m=(0,a.e7)([_.default,p.default],()=>{if(f)return _.default.getUser(g[0]);if(null!=l){var e,t;return l.length<=0?null:null!==(t=null===(e=l.find(e=>e.user.id!==p.default.getId()))||void 0===e?void 0:e.user)&&void 0!==t?t:l[0].user}});if(null==m)return null;let E=f||(0,c.Z)(n),x=(0,h.vd)(t.type);return(0,i.jsxs)("div",{className:I.activity,children:[(0,i.jsx)("div",{className:I.channelActivityContainer,children:E?(0,i.jsx)(C.Z,{activity:n,embeddedApp:r,user:m,channel:t,sortedVoiceStates:l,onOpenSpotifyTrack:x?d.aG:void 0,onOpenSpotifyArtist:x?d.d$:void 0,onOpenSpotifyAlbum:x?d.Z5:void 0}):(0,i.jsx)(o.Z,{type:o.P.VOICE_CHANNEL,activity:n,user:m,guildId:t.getGuildId(),channelId:t.id,renderHeaderAccessory:null!=l?()=>(0,i.jsx)(N,{guildId:t.guild_id,members:l}):void 0,isEmbedded:f})}),(0,i.jsx)("div",{className:I.activityActionsContainer,children:(0,i.jsx)(u.Z,{type:o.P.VOICE_CHANNEL,activity:n,embeddedActivity:null==r?void 0:r.embeddedActivity,user:m,guildId:t.getGuildId(),channelId:t.id,color:I.button,onAction:s,isEmbedded:f})})]})}},98597:function(e,t,n){n.d(t,{CN:function(){return A},ZP:function(){return P},eP:function(){return R},hR:function(){return M},jo:function(){return b}});var i,l,r,a,s=n(735250),o=n(470079),c=n(120356),u=n.n(c),d=n(442837),h=n(481060),p=n(787014),_=n(924301),f=n(159300),g=n(152376),m=n(427679),C=n(155409),I=n(131704),E=n(199902),N=n(430824),x=n(496675),S=n(914010),Z=n(281029),v=n(981631),T=n(689938),L=n(47705);function A(e,t,n){return null!=t&&!!t&&!(0,Z.ig)(n,e.type)}function b(e,t){return null==t?L.containerDefault:e>t?L.containerDragAfter:L.containerDragBefore}function M(e){let{channel:t,disableManageChannels:n,tabIndex:i,forceShowButtons:l,hasChannelInfo:r=!1}=e;if((0,d.e7)([x.Z,S.Z],()=>n||S.Z.getGuildId()===v.I_8||!x.Z.can(v.Plq.MANAGE_CHANNELS,t)&&!x.Z.can(v.Plq.MANAGE_ROLES,t)&&!x.Z.can(v.Plq.MANAGE_WEBHOOKS,t)||(0,I.r8)(t.type)&&!x.Z.can(v.Plq.VIEW_CHANNEL,t)||t.isGuildVocal()&&!x.Z.can(v.Plq.CONNECT,t)||!I.dF.has(t.type)))return null;function a(){p.ZP.open(t.id)}return(0,s.jsx)(h.Tooltip,{text:T.Z.Messages.EDIT_CHANNEL,children:e=>{let{onMouseEnter:t,onMouseLeave:n,onFocus:o,onBlur:c}=e;return(0,s.jsx)(h.Clickable,{className:u()(L.iconItem,l?L.alwaysShown:void 0,r?L.iconWithChannelInfo:L.iconNoChannelInfo),onClick:a,tabIndex:i,"aria-label":T.Z.Messages.EDIT_CHANNEL,onMouseEnter:t,onMouseLeave:n,onFocus:o,onBlur:c,children:(0,s.jsx)(h.SettingsIcon,{size:"xs",color:"currentColor",className:L.actionIcon})})}})}function R(e){let{channel:t,isDefaultChannel:i=!1,locked:l,tabIndex:r,forceShowButtons:a,hasChannelInfo:o=!1}=e,c=(0,d.e7)([N.Z],()=>N.Z.getGuild(t.getGuildId())),p=(0,d.e7)([m.Z],()=>m.Z.getStageInstanceByChannel(t.id),[t.id]),g=(0,d.e7)([_.ZP],()=>_.ZP.getActiveEventByChannel(t.id),[t.id]),I=(0,d.e7)([x.Z],()=>(0,f.b)(x.Z,c,t,p)),S=(0,d.e7)([x.Z],()=>x.Z.can(v.Plq.CREATE_INSTANT_INVITE,t)?T.Z.Messages.CREATE_INSTANT_INVITE:T.Z.Messages.INVITE_TO_SERVER);if(l||!I)return null;function Z(){if(null!=c){let e=E.Z.getAllActiveStreams().filter(e=>e.state!==v.jm8.ENDED&&e.channelId===t.id);(0,h.openModalLazy)(async()=>{let{default:i}=await Promise.all([n.e("7654"),n.e("17520")]).then(n.bind(n,560114));return n=>(0,s.jsx)(i,{...n,guild:c,channel:t,streamUserId:1===e.length?e[0].ownerId:null,source:v.t4x.GUILD_CHANNELS,guildScheduledEvent:g})})}}let A=(0,s.jsx)(h.GroupPlusIcon,{size:"xs",className:L.actionIcon,"aria-hidden":!0});return i&&(A=(0,s.jsx)(C.Z,{tutorialId:"instant-invite",position:"left",children:(0,s.jsx)("div",{children:A})})),(0,s.jsx)(h.Tooltip,{text:S,children:e=>(0,s.jsx)(h.Clickable,{className:u()(L.iconItem,a?L.alwaysShown:void 0,o?L.iconWithChannelInfo:L.iconNoChannelInfo),...e,onClick:Z,tabIndex:r,"aria-label":S,children:A})})}function y(e){let{channel:t}=e,n=()=>{(0,g._U)(t.guild_id,t.id)};return(0,s.jsx)(h.Tooltip,{text:T.Z.Messages.REMOVE_FAVORITE_SUGGESTION,children:e=>(0,s.jsx)(h.Clickable,{className:L.iconItem,...e,onClick:n,"aria-label":T.Z.Messages.REMOVE_FAVORITE_SUGGESTION,children:(0,s.jsx)(h.CloseSmallIcon,{size:"xs",color:"currentColor",className:L.actionIcon})})})}function O(e){let{channel:t}=e,n=()=>{(0,g.dM)(t.guild_id,t.id,!0,{section:v.jXE.CHANNEL_LIST})};return(0,s.jsx)(h.Tooltip,{text:T.Z.Messages.ADD_FAVORITE,children:e=>(0,s.jsx)(h.Clickable,{className:L.iconItem,...e,onClick:n,"aria-label":T.Z.Messages.ADD_FAVORITE,children:(0,s.jsx)(h.CheckmarkLargeIcon,{size:"xs",color:"currentColor",className:L.actionIcon})})})}class P extends(a=o.PureComponent){renderEditButton(){return(0,s.jsx)(M,{...this.props})}renderInviteButton(){return(0,s.jsx)(R,{...this.props})}renderRemoveSuggestionButton(){return(0,s.jsx)(y,{...this.props})}renderAcceptSuggestionButton(){return(0,s.jsx)(O,{...this.props})}getClassName(){let{position:e,sortingPosition:t}=this.props;return b(e,t)}isDisabled(){let{channel:e,sorting:t,sortingType:n}=this.props;return A(e,t,n)}}r={isDefaultChannel:!1},(l="defaultProps")in(i=P)?Object.defineProperty(i,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[l]=r},648501:function(e,t,n){n.d(t,{Z:function(){return L}});var i=n(735250);n(470079);var l=n(442837),r=n(692547),a=n(481060),s=n(619915),o=n(456269),c=n(921711),u=n(71275),d=n(601070),h=n(430824),p=n(496675),_=n(306680),f=n(979651),g=n(968358),m=n(790901),C=n(714794),I=n(355363),E=n(687352),N=n(135724),x=n(25601),S=n(981631),Z=n(490897),v=n(689938),T=n(219644);function L(e){var t;let{channel:n,isChannelSelected:L,isChannelCollapsed:A,voiceStates:b,enableConnectedUserLimit:M,enableActivities:R,isSubscriptionGated:y,needSubscriptionToAccess:O,isNewChannel:P,muted:j,resolvedUnreadSetting:D}=e,U=(0,l.e7)([_.ZP],()=>_.ZP.getMentionCount(n.id)),G=(0,s.ZP)(n),w=(0,l.e7)([p.Z],()=>!p.Z.can(S.Plq.CONNECT,n)),k=(0,l.e7)([f.Z],()=>f.Z.hasVideo(n.id)),B=(0,u.PK)(n.id)&&n.isGuildStageVoice(),V=(0,I.ZP)({channel:n,locked:w,video:k||B,selected:L}),H=(0,l.e7)([d.Z],()=>d.Z.getNewThreadCount(n.guild_id,n.id)),F=(0,o.n2)(n.guild_id,n.id),W=(0,l.e7)([h.Z],()=>{var e,t;return null!==(t=null===(e=h.Z.getGuild(n.guild_id))||void 0===e?void 0:e.hasFeature(S.oNc.COMMUNITY))&&void 0!==t&&t});if((0,C.Z)(U))return(0,i.jsx)(x.Z,{mentionsCount:U});if((0,c.O)(y))return(0,i.jsx)(c.Z,{locked:O});if(P)return(0,i.jsx)(a.TextBadge,{text:v.Z.Messages.NEW,color:r.Z.unsafe_rawColors.BRAND_260.css,className:T.newChannel});if(!j&&D===Z.i.ALL_MESSAGES&&n.isForumLikeChannel()&&null!=H&&H>0)return(0,i.jsx)(a.Text,{variant:"text-xs/semibold",color:"text-brand",children:v.Z.Messages.CHANNEL_NEW_POSTS_LABEL.format({count:(0,a.getBadgeCountString)(H)})});if(!j&&n.isForumLikeChannel()&&null!=F&&F>0)return(0,i.jsx)(a.Text,{variant:"text-xs/semibold",color:"text-muted",children:(0,a.getBadgeCountString)(F)});let Y=null!==(t=null==b?void 0:b.length)&&void 0!==t?t:0;return null!=M&&M&&V?(0,i.jsx)(N.Z,{userCount:Y,video:k||B,channel:n}):A&&(0,g.a)(b)&&W?(0,i.jsx)(a.TextBadge,{text:v.Z.Messages.LIVE,color:r.Z.unsafe_rawColors.RED_400.css}):null!=R&&R&&(0,m.u)(G)?(0,i.jsx)(E.Z,{embeddedApps:G,muted:j}):null}},687352:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(481060),s=n(366695),o=n(606561);function c(e){let{className:t,embeddedApps:n,muted:l}=e;if(n.length<=0)return null;if(1===n.length)return(0,i.jsx)("div",{className:r()(o.container,t,l&&o.modeMuted),children:(0,i.jsx)(s.Z,{game:n[0].application,className:o.icon20px})});{let e=n.length-1;return(0,i.jsxs)("div",{className:r()(o.container,t,l&&o.modeMuted),children:[(0,i.jsx)(s.Z,{game:n[0].application,className:o.icon20px}),2===n.length?(0,i.jsx)(s.Z,{game:n[1].application,className:o.icon20px}):(0,i.jsx)(a.Text,{className:o.overflow,variant:"text-xs/bold",color:"interactive-active",children:"+".concat(e)})]})}}},373274:function(e,t,n){n.d(t,{E:function(){return eh},j:function(){return ed}}),n(47120),n(653041);var i,l=n(735250),r=n(470079),a=n(392711),s=n.n(a),o=n(91192),c=n(924826),u=n(442837),d=n(481060),h=n(925549),p=n(260300),_=n(410575),f=n(607070),g=n(100527),m=n(906732),C=n(362658),I=n(583962),E=n(915885),N=n(258871),x=n(216306),S=n(398758),Z=n(220444),v=n(31022),T=n(10401),L=n(131704),A=n(592125),b=n(796974),M=n(984933),R=n(914010),y=n(153124),O=n(540126),P=n(734307),j=n(854444),D=n(688265),U=n(896053),G=n(301342),w=n(906817),k=n(429122),B=n(285573),V=n(519358),H=n(910595),F=n(466935),W=n(120818),Y=n(61642),z=n(848442),K=n(53425),q=n(424785),Q=n(770202),J=n(79556),X=n(428127),$=n(950969),ee=n(233657),et=n(831700),en=n(443063),ei=n(327530),el=n(981631),er=n(176505),ea=n(689938),es=n(857100);function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ec extends(i=r.PureComponent){componentDidMount(){this.setState({initialized:!0})}componentWillUnmount(){this.updateChannelListScroll.cancel()}componentDidUpdate(e,t){let{scrollToChannel:n,guildId:i,selectedChannelId:l}=this.props,{initialized:r}=this.state,{scrollTop:a}=b.Z.getGuildDimensions(i);null!=n?(this.scrollToChannel(n),h.Z.clearChannelListScrollTo(i)):i!==e.guildId?null!=a&&this.scrollTo(a):l!==e.selectedChannelId?this.scrollToChannel(l):!t.initialized&&r&&(null==a&&null!=l?this.scrollToChannel(l,!1,ei.yE,this.handleListScroll):this.scrollTo(null!=a?a:0,this.handleListScroll)),this.testShouldSkipTutorial()}getSectionRowsFromChannel(e){return this.props.guildChannels.getSectionRowsFromChannel(e)}scrollTo(e,t){var n;null===(n=this._list)||void 0===n||n.scrollTo({to:e,animate:!1,callback:t})}scrollToChannel(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ei.yE,i=arguments.length>3?arguments[3]:void 0,l=this._list,r=this.getSectionRowsFromChannel(e)[0];if(null!=r&&null!=l){if(null!=r.threadOffset){let[e]=l.getScrollPosition(r.section,r.row),a=r.threadOffset*ei.Vf;l.scrollIntoViewRect({start:e+a,end:e+a+ei.Vf,padding:n,animate:t,callback:i})}else l.scrollToIndex({section:r.section,row:r.row,animate:t,padding:n,callback:i})}else null==i||i()}isUnreadVisible(){let{guildChannels:e}=this.props,t=this._list;return null!=t&&t.getItems().some(n=>{if("row"!==n.type)return!1;let{section:i,row:l}=n;if(i<O.wd||e.isPlaceholderRow(i,l))return!1;let r=e.getChannelFromSectionRow(i,l);if(null==r)return!1;let{channel:a,category:s}=r;return!!(0,L.vc)(a.record.type)&&(!s.isCollapsed||!s.isMuted)&&!a.isMuted&&!!t.isItemVisible(i,l,!0)&&(0,Z.d)(a.record)})}renderTopUnread(){let{topMention:e,bottomUnread:t,bottomMention:n,isUnreadVisible:i}=this.state,{guildId:r,guildChannels:a,guildChannelsVersion:s}=this.props;return(0,l.jsx)("div",{className:es.positionedContainer,children:(0,l.jsx)($.Z,{ref:this.unreadTopRef,textUnread:ea.Z.Messages.NEW_UNREADS,textMention:ea.Z.Messages.NEW_MENTIONS,hide:null==e&&(i||null!=t||null!=n),className:es.unreadTop,barClassName:es.unreadBar,guildId:r,guildChannels:a,guildChannelsVersion:s,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannelWithMentionsAndUnreads,onCalculate:this.handleUnreadCalculate})})}renderBottomUnread(){let{guildId:e,guildChannels:t,guildChannelsVersion:n}=this.props,{bottomMention:i,isUnreadVisible:r}=this.state;return(0,l.jsx)($.Z,{reverse:!0,ref:this.unreadBottomRef,textUnread:ea.Z.Messages.NEW_UNREADS,textMention:ea.Z.Messages.NEW_MENTIONS,hide:null==i&&r,className:es.unreadBottom,barClassName:es.unreadBar,guildId:e,guildChannels:t,guildChannelsVersion:n,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannelWithMentionsAndUnreads,onCalculate:this.handleUnreadCalculate})}renderList(){let{guildChannels:e,guild:t,guildBanner:n,hasGuildSubheader:i}=this.props,{ref:r,...a}=this.context,s=0;return null!=n?s=ei.Q0:t.hasCommunityInfoSubheader()&&!i&&(s=ei.JD),(0,l.jsx)(d.FocusJumpSection,{children:t=>(0,l.jsx)(d.List,{ref:this.setListRef,className:es.scroller,fade:!0,customTheme:!0,sectionHeight:this.getSectionHeight,footerHeight:this.getSectionFooterHeight,rowHeight:this.getRowHeight,paddingTop:s,paddingBottom:ei.$k,renderSection:this.renderSection,renderFooter:this.renderSectionFooter,renderRow:this.renderRow,onScroll:this.handleListScroll,onResize:this.handleResize,onContentResize:this.handleResize,sections:e.getSections(),innerAriaLabel:ea.Z.Messages.CHANNELS,innerTag:"ul",getAnchorId:this.getAnchorId,...a,...t},"guild-channels")})}render(){let{guildChannels:e,guildChannelsVersion:t,showNewUnreadsBar:n}=this.props;return(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(y.FG,{children:i=>(0,l.jsx)(d.HeadingLevel,{component:(0,l.jsx)(d.HiddenVisually,{children:(0,l.jsx)(d.H,{id:i,children:ea.Z.Messages.CHANNELS})}),children:n?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("div",{className:es.positionedContainer,children:(0,l.jsx)(X.Z,{position:"top",guildChannels:e,guildChannelsVersion:t,jumpToVoiceChannels:this.jumpToVoiceChannels,jumpToChannel:this.jumpToChannel})}),this.renderList(),(0,l.jsx)(X.Z,{position:"bottom",guildChannels:e,guildChannelsVersion:t,jumpToVoiceChannels:this.jumpToVoiceChannels,jumpToChannel:this.jumpToChannel})]}):(0,l.jsxs)(r.Fragment,{children:[this.renderTopUnread(),this.renderList(),this.renderBottomUnread()]})})})})}constructor(...e){super(...e),eo(this,"_list",null),eo(this,"unreadTopRef",r.createRef()),eo(this,"unreadBottomRef",r.createRef()),eo(this,"state",{initialized:!1,isUnreadVisible:!0,topUnread:null,topMention:null,bottomUnread:null,bottomMention:null}),eo(this,"setListRef",e=>{var t;let{ref:n}=this.context;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null,this._list=e}),eo(this,"jumpToVoiceChannels",()=>{var e,t,n,i;let{guildChannels:l,voiceStates:r}=this.props,a=0,s=null!==(n=null===(e=l.getCategoryFromSection(l.voiceChannelsSectionNumber))||void 0===e?void 0:e.getShownChannelIds())&&void 0!==n?n:[];for(let e=0;e<s.length-1;e++)if((null!==(i=r[s[e]])&&void 0!==i?i:[]).length>0){a=e+1;break}null===(t=this._list)||void 0===t||t.scrollToIndex({section:l.voiceChannelsSectionNumber,row:a,animate:!0,padding:ei.yE})}),eo(this,"jumpToChannel",e=>this.scrollToChannel(e,!0,ei.Q1)),eo(this,"jumpToChannelWithMentionsAndUnreads",(e,t)=>{let[n,i]=t;return this.scrollToChannel(e,!0,null!=n&&null!=i?ei.Q1:ei.yE)}),eo(this,"isChannelVisible",(e,t)=>{let n=this.getSectionRowsFromChannel(e),i=this._list;if(null==i)return!1;for(let{row:e,section:l}of n){let[n,r]=i.getScrollPosition(l,e),a=i.getScrollerState();if(t&&n+r<a.scrollTop+a.offsetHeight)return!0;if(!t&&n>a.scrollTop)return!0}return!1}),eo(this,"getVisibleChannels",()=>{let e=this._list;if(null==e)return[];let t=e.getItems(),n=e.getScrollerState(),i=[];for(var l=0;l<t.length;l++){let r=t[l];if((0,d.isListItemRow)(r)&&r.section>=this.props.guildChannels.favoritesSectionNumber){let t=this.props.guildChannels.getChannelFromSectionRow(r.section,r.row),[l,a]=e.getScrollPosition(r.section,r.row);null!=t&&l+a<n.scrollTop+n.offsetHeight&&l>n.scrollTop&&i.push(t.channel.id)}}return i}),eo(this,"handleResize",()=>{var e,t;let{showNewUnreadsBar:n}=this.props,i=null!==(t=null===(e=this._list)||void 0===e?void 0:e.getScrollerState())&&void 0!==t?t:null;if(this.setState({isUnreadVisible:this.isUnreadVisible()}),n&&null!=i){let{scrollTop:e}=i;this.updateChannelListScroll(e)}}),eo(this,"handleListScroll",()=>{var e,t;let{onScroll:n}=this.props,i=null!==(t=null===(e=this._list)||void 0===e?void 0:e.getScrollerState())&&void 0!==t?t:null;if(null!=i){let{scrollTop:e}=i;null!=n&&n(i),this.updateChannelListScroll(e)}null!=this.unreadTopRef.current&&this.unreadTopRef.current.calculateState(),null!=this.unreadBottomRef.current&&this.unreadBottomRef.current.calculateState()}),eo(this,"handleUnreadCalculate",(e,t,n)=>{let i=this.isUnreadVisible();n?this.setState({isUnreadVisible:i,bottomUnread:t,bottomMention:e}):this.setState({isUnreadVisible:i,topUnread:t,topMention:e})}),eo(this,"updateChannelListScroll",s().throttle(e=>{h.Z.updateChannelListScroll(this.props.guildId,e,this.getVisibleChannels())},100)),eo(this,"getSectionHeight",e=>{let{guild:t,guildChannels:n}=this.props;return(0,w.EM)(e,t,n)}),eo(this,"getSectionFooterHeight",e=>{let{guildChannels:t,voiceStates:n,selectedVoiceChannelId:i,selectedChannelId:l,optInEnabled:r,guildChannelsVersion:a}=this.props;return(0,k.dt)({sectionIndex:e,guildChannels:t,guildChannelsVersion:a,voiceStates:n,selectedChannelId:l,selectedVoiceChannelId:i,optInEnabled:r})}),eo(this,"getRowHeight",(e,t)=>{let{guildChannels:n,voiceStates:i,stageChannelSpeakerVoiceStates:l,selectedVoiceChannelId:r,selectedGuildId:a}=this.props,s=ei.Vf;if(e===O.zm){let e=n.getCommunitySection();return e.isEmpty()?0:e.getRow(t)===en.f.GUILD_PREMIUM_PROGRESS_BAR?e.getRows().length>1?I.aR:I.PD:s}if(n.isPlaceholderRow(e,t))return 0;let o=n.getChannelFromSectionRow(e,t);if(null==o)return 0;let{channel:c,category:u}=o;if(c.record.type===el.d4z.GUILD_CATEGORY)return 40;let{isFavoritesPerk:d}=C.Z.getCurrentConfig({location:"channel_list"},{autoTrackExposure:!0});for(let e of(d&&a===el.I_8&&!c.record.isDM()&&!c.record.isGroupDM()&&!c.record.isGuildStageVoice()&&(s=ei.GQ),c.threadIds)){s+=ei.Vf;let t=i[c.id];null!=t&&t.length>0&&(s+=(r===e?t.length*ei.Hb:ei.Hb)+ei.cx)}if(c.record.isGuildVoice()){let e=i[c.id];if(null!=e&&e.length>0){let t=e.length*ei.Hb;(c.isCollapsed||u.isCollapsed)&&(t=ei.Hb),s+=t+ei.cx}c.id===this.props.rtcConnectedChannelId&&(s+=this.props.rtcDesyncedVoiceStatesCount*ei.Hb)}if(null!=c.subtitle&&(s+=ei.NY),c.record.isGuildStageVoice()){var h,p;let e=null!==(h=i[c.id])&&void 0!==h?h:[],t=null!==(p=l[c.id])&&void 0!==p?p:[];if(null!=e&&e.length>0){let e=t.length*ei.Hb;c.isCollapsed||u.isCollapsed?e=Math.ceil(e/ei.VE):e+=ei.Hb,s+=e+ei.cx}}return s}),eo(this,"dismissRecents",()=>{let{guild:e,guildChannels:t,selectedChannelId:n}=this.props,i=t.getCategoryFromSection(t.recentsSectionNumber);if(null==i)return;let l=null,r=i.getShownChannelAndThreadIds();null!=n&&r.includes(n)&&(l=(0,x.KY)(t)),(0,x.Uo)(e.id,r,l)}),eo(this,"renderSection",e=>{let{section:t}=e,{guildChannels:n,guildChannelsVersion:i,guild:r,selectedChannelId:a,disableManageChannels:s}=this.props;return(0,l.jsx)(w.ZP,{sectionIndex:t,guild:r,guildChannels:n,guildChannelsVersion:i,selectedChannelId:a,disableManageChannels:s},(0,w.WW)(t,n))}),eo(this,"renderRow",e=>{let{section:t,row:n}=e,{guild:i,selectedChannel:a,selectedChannelId:s,selectedVoiceChannel:o,selectedVoiceChannelId:c,guildChannels:u,voiceStates:d,disableManageChannels:h,stageChannelSpeakerVoiceStates:p,optInEnabled:_,withGuildIcon:f}=this.props;if(t===O.zm){let e=u.getCommunitySection(),t=e.getRow(n);if(null==t)return null;switch(t){case en.f.GUILD_HUB_HEADER_OPTIONS:return(0,l.jsx)(N.Z,{guild:i,channel:M.ZP.getDefaultChannel(i.id)},en.f.GUILD_HUB_HEADER_OPTIONS);case en.f.GUILD_PREMIUM_PROGRESS_BAR:let r=e.getRows();return(0,l.jsx)(I.ZP,{guild:i,withMargin:r.length>1},en.f.GUILD_PREMIUM_PROGRESS_BAR);case en.f.GUILD_HOME:return(0,l.jsx)(H.Z,{guild:i,selected:s===er.oC.GUILD_HOME},en.f.GUILD_HOME);case en.f.GUILD_SCHEDULED_EVENTS:return(0,l.jsx)(ee.Z,{guild:i,selected:s===en.f.GUILD_SCHEDULED_EVENTS},en.f.GUILD_SCHEDULED_EVENTS);case en.f.GUILD_ROLE_SUBSCRIPTIONS:return(0,l.jsx)(Y.Z,{guild:i,selected:s===er.oC.ROLE_SUBSCRIPTIONS},en.f.GUILD_ROLE_SUBSCRIPTIONS);case en.f.GUILD_SHOP:return(0,l.jsx)(z.Z,{guild:i,selected:s===er.oC.GUILD_SHOP},en.f.GUILD_SHOP);case en.f.GUILD_MEMBER_APPLICATIONS:return(0,l.jsx)(F.Z,{guild:i,selected:s===er.oC.MEMBER_APPLICATIONS},en.f.GUILD_MEMBER_APPLICATIONS);case en.f.GUILD_NEW_MEMBER_ACTIONS_PROGRESS_BAR:return(0,l.jsx)(W.T,{guild:i});case en.f.CHANNELS_AND_ROLES:return(0,l.jsx)(V.m,{guild:i,selected:s===er.oC.CHANNEL_BROWSER||s===er.oC.CUSTOMIZE_COMMUNITY},en.f.CHANNELS_AND_ROLES);case en.f.GUILD_DIRECTORY:return(0,l.jsx)(B.Z,{guild:i,selectedChannelId:s,disableManageChannels:h},en.f.GUILD_DIRECTORY);case en.f.GUILD_MOD_DASH_MEMBER_SAFETY:return(0,l.jsx)(E.Z,{guild:i,selected:s===er.oC.MEMBER_SAFETY},en.f.GUILD_MOD_DASH_MEMBER_SAFETY);default:return null}}if(u.isPlaceholderRow(t,n))return null;let g=u.getChannelFromSectionRow(t,n);if(null==g)return null;let{category:m,channel:C}=g,x=m instanceof O.VR,S=C.record,Z="".concat(t).concat(C.id);switch(S.type){case el.d4z.GUILD_ANNOUNCEMENT:case el.d4z.GUILD_TEXT:case el.d4z.GUILD_FORUM:case el.d4z.GUILD_MEDIA:case el.d4z.DM:case el.d4z.GROUP_DM:return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(J.Z,{channel:S,guild:i,position:C.position,selected:s===C.id,muted:C.isMuted,subtitle:C.subtitle,disableManageChannels:h,canBeNewChannel:_&&t===u.recentsSectionNumber,isFavoriteCategory:x,withGuildIcon:f}),C.threadCount>0?(0,l.jsx)(K.Z,{withGuildIcon:f,channel:S,sortedThreadIds:C.threadIds,selectedChannel:null!=a&&(a.id===C.id||a.parent_id===S.id)?a:null,selectedVoiceChannelId:(null==o?void 0:o.parent_id)===S.id?c:null}):null]},Z);case el.d4z.GUILD_STAGE_VOICE:var v,T;return(0,l.jsx)(q.Z,{channel:S,guild:i,position:C.position,selected:s===C.id,connected:c===C.id,collapsed:C.isCollapsed||m.isCollapsed,voiceStates:null!==(v=d[C.id])&&void 0!==v?v:[],speakerVoiceStates:null!==(T=p[C.id])&&void 0!==T?T:[],disableManageChannels:h,isFavoriteCategory:x},Z);case el.d4z.GUILD_VOICE:return(0,l.jsx)(et.Z,{channel:S,guild:i,position:C.position,selected:s===C.id,connected:c===C.id,collapsed:C.isCollapsed||m.isCollapsed,voiceStates:d[C.id],subtitle:C.subtitle,disableManageChannels:h,showTutorial:C.isFirstVoiceChannel,isFavoriteCategory:x,withGuildIcon:f},Z);case el.d4z.GUILD_STORE:return(0,l.jsx)(Q.Z,{channel:S,guild:i,position:C.position,selected:s===C.id},Z);case el.d4z.GUILD_CATEGORY:if(t!==u.voiceChannelsSectionNumber)return null;return(0,l.jsx)(G.kw,{channel:S},"readonly-".concat(S.id));case el.d4z.PUBLIC_THREAD:case el.d4z.PRIVATE_THREAD:return(0,l.jsx)(J.Z,{channel:S,guild:i,position:C.position,selected:s===C.id,muted:C.isMuted,subtitle:C.subtitle,disableManageChannels:h,canBeNewChannel:!1,isFavoriteCategory:!1,forceTopLevelThread:!0},Z);default:return null}}),eo(this,"renderSectionFooter",e=>{let{section:t}=e,{guildChannels:n,guildChannelsVersion:i,voiceStates:r,selectedChannelId:a,selectedVoiceChannelId:s,optInEnabled:o,guildId:c}=this.props;return(0,l.jsx)(k.ZP,{guildId:c,guildChannels:n,guildChannelsVersion:i,sectionIndex:t,voiceStates:r,selectedChannelId:a,selectedVoiceChannelId:s,optInEnabled:o},(0,k.eo)(t,n,o))}),eo(this,"getAnchorId",(e,t)=>{var n,i,l;let{guildChannels:r}=this.props;if(e!==O.zm){if(null==t)return e===O.p2?"favorites-header":e===r.recentsSectionNumber?"recents-header":e===r.voiceChannelsSectionNumber?"voice-channels":e===O.wd?"uncategorized-header":null===(l=r.getNamedCategoryFromSection(e))||void 0===l?void 0:l.id;if(!r.isPlaceholderRow(e,t))return null===(i=r.getChannelFromSectionRow(e,t))||void 0===i?void 0:null===(n=i.channel)||void 0===n?void 0:n.id}}),eo(this,"testShouldSkipTutorial",()=>{if(!T.Z.shouldShow("voice-conversations"))return;let{guildChannels:e}=this.props,t=e.getFirstVoiceChannel();if(null==t){p.Z.dismiss("voice-conversations");return}let n=this._list;if(null!=n)for(let{section:e,row:i}of this.getSectionRowsFromChannel(t.id))!n.isItemVisible(e,i)&&p.Z.dismiss("voice-conversations")})}}eo(ec,"contextType",o.qB);let eu=e=>{let{guildId:t,selectedChannelId:n,selectedVoiceChannelId:i}=e,a=(0,u.e7)([f.Z],()=>f.Z.keyboardModeEnabled),{analyticsLocations:s}=(0,m.ZP)(g.Z.GUILD_CHANNEL_LIST),d=(0,u.e7)([A.Z],()=>A.Z.getChannel(n)),h=(0,u.e7)([A.Z],()=>A.Z.getChannel(i)),p=(0,u.e7)([R.Z],()=>R.Z.getGuildId()),C=(0,S.DM)(t),I=r.useRef(null),E=r.useCallback((e,t)=>{let n=I.current;if(null!=n){if(el.Xyh.test(t)||(0,er.AB)(t))n.scrollToChannel(t,!1,2*ei.yE,()=>{requestAnimationFrame(()=>{var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus()})});else{var i;null===(i=document.querySelector(e))||void 0===i||i.focus()}}},[]),N=r.useCallback(()=>new Promise(e=>{let t=I.current;if(null==t)return e();t.scrollTo(0,()=>requestAnimationFrame(()=>e()))}),[]),x=r.useCallback(()=>new Promise(e=>{let t=I.current;if(null==t)return e();t.scrollTo(Number.MAX_SAFE_INTEGER,()=>requestAnimationFrame(()=>e()))}),[]),Z=(0,c.ZP)({id:"channels",defaultFocused:null!=n?n:void 0,isEnabled:a,setFocus:E,scrollToStart:N,scrollToEnd:x}),T=Z.setFocus;r.useEffect(()=>{null!=n&&T(n)},[n,T]);let L=(0,v.Z)(t);return(0,l.jsx)(m.Gt,{value:s,children:(0,l.jsx)(_.Z,{section:el.jXE.GUILD_CHANNEL_LIST,children:(0,l.jsx)(o.bG,{navigator:Z,children:(0,l.jsx)(ec,{...e,listNavigator:Z,ref:I,selectedChannel:d,selectedVoiceChannel:h,stageChannelSpeakerVoiceStates:L,selectedGuildId:p,optInEnabled:C})})})})};function ed(e){let t=(0,j.o)(),{isFavoritesPerk:n}=(0,C.z)("favorites-channel-list");return(0,l.jsx)(eu,{...e,guildChannels:t,guildChannelsVersion:0,withGuildIcon:n})}function eh(e){let t=(0,U.Z)(e.guild),n=(0,D.Z)(e.guild),i=s().uniq(n.concat(t)),r=(0,u.cj)([P.Z],()=>P.Z.getGuild(e.guildId,i));return(0,l.jsx)(eu,{...e,...r})}},327530:function(e,t,n){n.d(t,{$k:function(){return s},GQ:function(){return c},Hb:function(){return d},JD:function(){return _},MF:function(){return g},NY:function(){return u},Pw:function(){return r},Q0:function(){return p},Q1:function(){return l},QP:function(){return a},VE:function(){return f},Vf:function(){return o},cx:function(){return h},yE:function(){return i}});let i=8,l=32,r=40,a=12,s=12,o=34,c=41.5,u=16,d=32,h=8,p=84,_=16,f=5,g={origin:{x:-36,y:7},targetWidth:232,targetHeight:40,offset:{x:0,y:0}}},906817:function(e,t,n){n.d(t,{EM:function(){return f},WW:function(){return g}});var i=n(735250),l=n(470079),r=n(362658),a=n(216306),s=n(155409),o=n(486458),c=n(540126),u=n(301342),d=n(327530),h=n(981631),p=n(689938),_=n(857100);function f(e,t,n){if(e===c.zm)return d.$k;if(e===c.wd)return t.hasFeature(h.oNc.HUB)?0:d.$k;if(e===n.voiceChannelsSectionNumber){var i;let t=n.getCategoryFromSection(e);if(null==t||t.isEmpty())return 0;if(t.isCollapsed)return d.Pw+d.QP;let l=null===(i=n.getChannelFromSectionRow(e,0))||void 0===i?void 0:i.channel;return null==l||l.record.type===h.d4z.GUILD_CATEGORY?d.QP:16+d.QP}return d.Pw}function g(e,t){switch(e){case c.zm:return"hoisted-spacer";case c.wd:return"uncategorized-spacer";case c.p2:return"favorites";case t.recentsSectionNumber:return"recents-header";case t.voiceChannelsSectionNumber:return"voice-channels-header";default:{let n=t.getNamedCategoryFromSection(e);if(null!=n)return"category-".concat(n.id);return"section-".concat(e)}}}t.ZP=l.memo(function(e){let{sectionIndex:t,guild:n,guildChannels:f,guildChannelsVersion:g,selectedChannelId:m,disableManageChannels:C}=e,{isFavoritesPerk:I}=(0,r.z)("ChannelListSection"),E=l.useCallback(()=>{let e=f.getCategoryFromSection(f.recentsSectionNumber);if(null==e)return;let t=null,i=e.getShownChannelAndThreadIds();null!=m&&i.includes(m)&&(t=(0,a.KY)(f)),(0,a.Uo)(n.id,i,t)},[n.id,m,f,g]);switch(t){case c.zm:return(0,i.jsx)("div",{style:{height:d.$k}});case c.wd:if(n.hasFeature(h.oNc.HUB))return null;return(0,i.jsx)("div",{style:{height:d.$k}});case c.p2:return(0,i.jsx)(u.P,{name:I?p.Z.Messages.PINNED_CHANNELS:p.Z.Messages.FAVORITES});case f.recentsSectionNumber:return(0,i.jsx)(u.P,{name:p.Z.Messages.RECENTS_CATEGORY_HEADER,onDismiss:E});case f.voiceChannelsSectionNumber:{var N;let e=f.getCategoryFromSection(f.voiceChannelsSectionNumber);if(null==e||e.isEmpty())return null;let n=null===(N=f.getChannelFromSectionRow(t,0))||void 0===N?void 0:N.channel;return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)("div",{className:_.sectionDivider}),(0,i.jsx)(u.rj,{category:e,channel:n})]})}case c.wF:{let e=f.getNamedCategoryFromSection(t);if(null==e)return null;return(0,i.jsx)(u.ZP,{channel:e.record,position:e.position,disableManageChannels:C,children:(0,i.jsx)(s.Z,{inlineSpecs:d.MF,arrowAlignment:o.cy.TOP,tutorialId:"organize-by-topic",position:"right"})})}default:{let e=f.getNamedCategoryFromSection(t);if(null==e)return null;return(0,i.jsx)(u.ZP,{channel:e.record,position:e.position,disableManageChannels:C})}}})},429122:function(e,t,n){n.d(t,{dt:function(){return p},eo:function(){return _}});var i=n(735250),l=n(470079),r=n(602623),a=n(934415),s=n(540126),o=n(700026),c=n(301342),u=n(327530),d=n(857100);let h=l.memo(function(e){let{guildChannels:t,guildChannelsVersion:n}=e,r=l.useMemo(()=>t.getCategoryFromSection(t.voiceChannelsSectionNumber),[t,n]);return null==r?null:(0,i.jsx)(c.Qo,{category:r})});function p(e){let{sectionIndex:t,guildChannels:n,voiceStates:i,selectedChannelId:l,selectedVoiceChannelId:r,optInEnabled:a}=e;if(t===n.voiceChannelsSectionNumber)return 44;let{hasDivider:c,canHaveVoiceSummary:d}=(0,o.ie)(n,a,t),h=c?u.QP:0;if(!d||t===s.zm)return h;let p=n.getNamedCategoryFromSection(t);return null==p?h:(0,o.V5)({category:p,selectedChannelId:l,selectedVoiceChannelId:r,voiceStates:i})?u.Vf+h:h}function _(e,t,n){if(e===t.voiceChannelsSectionNumber)return"voice-channels-button";let{hasDivider:i,canHaveVoiceSummary:l}=(0,o.ie)(t,n,e);return"section-footer-".concat(e).concat(i?"-divider":"").concat(l?"-voice-summary":"")}t.ZP=l.memo(function(e){let{sectionIndex:t,guildChannels:n,guildChannelsVersion:c,voiceStates:u,guildId:p,selectedChannelId:_,selectedVoiceChannelId:f,optInEnabled:g}=e,{hasDivider:m,canHaveVoiceSummary:C}=l.useMemo(()=>(0,o.ie)(n,g,t),[n,g,t,c]),I=l.useMemo(()=>t===s.zm?null:n.getCategoryFromSection(t),[n,t,c]),E=l.useMemo(()=>null!=I&&I.isCollapsed?(0,a.c4)({channels:I.getChannelRecords(),selectedChannelId:_,selectedVoiceChannelId:f,voiceStates:u}):[],[I,_,f,u]);if(t===n.voiceChannelsSectionNumber)return(0,i.jsx)(h,{guildChannels:n,guildChannelsVersion:c});let N=m?(0,i.jsx)("div",{className:d.sectionDivider}):null;return C&&0!==E.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:d.voiceUserSummary,children:(0,i.jsx)(r.Z,{renderIcon:!0,users:E,max:8,showUserPopout:!0,guildId:p})}),N]}):N})},561788:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var l=n(442837),r=n(481060),a=n(471445),s=n(430824),o=n(777443);function c(e){let{channel:t}=e,n=(0,l.e7)([s.Z],()=>s.Z.getGuild(t.guild_id)),c=(0,a.KS)(t,n);return null==c?null:(0,i.jsxs)("div",{className:o.popoutHeader,children:[(0,i.jsx)(c,{className:o.channelIcon}),(0,i.jsx)(r.Text,{variant:"text-md/semibold",color:"interactive-normal",className:o.channelName,children:t.name})]})}},135724:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(735250);n(470079);var l=n(829750),r=n(280102);function a(e){let{channel:t,video:n,userCount:a}=e,{limit:s}=(0,l.Z)(t),o=-1,c=!1;return t.userLimit>0&&(o=t.userLimit),n&&s>0&&(c=o<0||s<o,o=o>0?Math.min(o,s):s),(0,i.jsx)(r.Z,{users:a,total:o,videoLimit:c})}},285573:function(e,t,n){var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(442837),o=n(239091),c=n(146773),u=n(592125),d=n(984933),h=n(496675),p=n(98597),_=n(473403),f=n(981631),g=n(490897),m=n(47705);let C=(0,c.B)(function(e){let{guild:t,selectedChannelId:r,position:c,disableManageChannels:C,sorting:I,sortingType:E,sortingPosition:N,connectChannelDragSource:x,connectChannelDropTarget:S,tabIndex:Z}=e,v=(0,s.e7)([u.Z,d.ZP],()=>{let e=d.ZP.getDirectoryChannelIds(t.id);return 0===e.length?null:u.Z.getChannel(e[0])}),T=(0,s.e7)([u.Z],()=>u.Z.getChannel(null==v?void 0:v.parent_id)),L=r===(null==v?void 0:v.id),A=(0,s.e7)([h.Z],()=>null!=T?h.Z.can(f.Plq.MANAGE_CHANNELS,T):null!=t&&h.Z.can(f.Plq.MANAGE_CHANNELS,t)),b=l.useCallback(e=>{null!=v&&(0,o.jW)(e,async()=>{let{default:e}=await n.e("70623").then(n.bind(n,99334));return t=>(0,i.jsx)(e,{...t,channel:v})})},[v]);if(null==v)return null;let M=(0,p.jo)(c,N),R=(0,p.CN)(v,I,E),y=(0,i.jsx)("div",{className:a()(M,{[m.disabled]:R,[m.selected]:L}),"data-dnd-name":v.name,children:(0,i.jsxs)(_.Z,{className:m.iconVisibility,channel:v,guild:t,selected:L,onContextMenu:b,forceInteractable:!0,resolvedUnreadSetting:g.i.ONLY_MENTIONS,children:[(0,i.jsx)(p.eP,{channel:v,tabIndex:Z}),(0,i.jsx)(p.hR,{channel:v,disableManageChannels:C,tabIndex:Z})]})});return A&&(y=S(x(y))),y});t.Z=C},519358:function(e,t,n){n.d(t,{m:function(){return Z}});var i=n(735250),l=n(470079),r=n(399606),a=n(704215),s=n(692547),o=n(481060),c=n(239091),u=n(605236),d=n(45966),h=n(31445),p=n(22082),_=n(703656),f=n(306680),g=n(709054),m=n(540126),C=n(434479),I=n(981631),E=n(176505),N=n(490897),x=n(689938),S=n(219644);function Z(e){let{guild:t,selected:Z}=e,v=(0,h.Z)(t),T=(0,u.wE)(a.z.CHANNEL_BROWSER_NEW_BADGE_NUX),L=(0,r.Wu)([p.Z],()=>Array.from(p.Z.getNewChannelIds(t.id)).filter(e=>p.Z.shouldIndicateNewChannel(t.id,e))),A=(0,r.e7)([f.ZP],()=>f.ZP.hasUnread(t.id,N.W.GUILD_ONBOARDING_QUESTION)),b=L.length>m.Cb,M=(0,r.e7)([d.Z,f.ZP],()=>{let e=d.Z.lastFetchedAt(t.id),n=f.ZP.lastMessageId(t.id,N.W.GUILD_ONBOARDING_QUESTION);if(null==n)return!1;let i=g.default.extractTimestamp(n);return null!=e&&e>i}),R=l.useCallback(()=>{(0,_.uL)(I.Z5c.CHANNEL(t.id,v?E.oC.CUSTOMIZE_COMMUNITY:E.oC.CHANNEL_BROWSER))},[t.id,v]),y=l.useCallback(e=>{(0,c.jW)(e,async()=>{let{default:e}=await n.e("8926").then(n.bind(n,156673));return n=>(0,i.jsx)(e,{...n,guild:t})})},[t]),O=null;return(!T||A||b)&&!Z&&!M&&(O=(0,i.jsx)(o.TextBadge,{color:s.Z.unsafe_rawColors.BRAND_260.css,text:x.Z.Messages.NEW,className:S.newChannel})),(0,i.jsx)(C.m,{id:"channels-".concat(t.id),renderIcon:e=>(0,i.jsx)(o.ChannelListMagnifyingGlassIcon,{size:"md",color:"currentColor",className:e}),text:v?x.Z.Messages.CHANNELS_AND_ROLES:x.Z.Messages.CHANNEL_BROWSER_TITLE,selected:Z,onClick:R,onContextMenu:y,trailing:O})}},315174:function(e,t,n){n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(920906),o=n(873546),c=n(481060),u=n(666188),d=n(695346),h=n(768581),p=n(358555),_=n(981631),f=n(647086),g=n(689938),m=n(92617);function C(e){var t;let{guild:n,controller:l,guildBanner:r,animate:c}=e,{value:u}=l.springs,p=d.QK.getSetting();return(0,i.jsx)(s.animated.div,{className:m.animatedContainer,style:{opacity:u,transform:u.to(e=>"translateY(-".concat((1-e)*90,"px)"))},children:(0,i.jsx)(s.animated.div,{className:a()(m.bannerImage,{[m.bannerImgFullWidth]:o.tq}),style:{transform:u.to(e=>p?"translateY(".concat((1-e)*60,"px) scale(").concat(1+(1-e)*.2,")"):"translateY(".concat((1-e)*90,"px)"))},children:(0,i.jsx)("img",{className:a()(m.bannerImg,{[m.bannerImgFullWidth]:o.tq}),src:null!==(t=h.ZP.getGuildBannerURL({id:n.id,banner:r},c))&&void 0!==t?t:"",alt:"",height:135,width:240,"aria-hidden":!0})})})}function I(e){let{guild:t,controller:n,hasBanner:l,hasSubheader:r}=e,{value:o}=n.springs,u=t.hasFeature(_.oNc.DISCOVERABLE),d=(0,i.jsx)("div",{className:m.communityInfo,children:u&&(0,i.jsx)(c.Tooltip,{text:g.Z.Messages.DISCOVERABLE_GUILD_HEADER_PUBLIC_INFO,position:"right",children:e=>(0,i.jsxs)("div",{className:m.communityInfoPill,...e,children:[(0,i.jsx)(c.GlobeEarthIcon,{size:"custom",color:"currentColor",width:12,height:12,className:m.communityIcon}),(0,i.jsx)(c.Text,{variant:"text-xs/normal",color:"none",children:g.Z.Messages.DISCOVERABLE_GUILD_HEADER_PUBLIC})]})})});return r?(0,i.jsx)("div",{className:a()(m.communityInfoContainer,m.hasSubheader),children:d}):(0,i.jsx)(s.animated.div,{className:m.communityInfoContainer,style:l?{opacity:o}:{height:o.to(e=>"".concat(20*e,"px"))},children:d})}function E(){return(0,i.jsx)(c.StarIcon,{size:"custom",color:"currentColor",className:m.favoritesIcon,height:20,width:20})}t.ZP=l.memo(function(e){var t;let{bannerVisible:n,controller:r,className:s,onClick:N,onContextMenu:x,onMouseDown:S,disableBannerAnimation:Z,"aria-expanded":v,"aria-controls":T,guild:L,guildBanner:A,animationOverlayHeight:b,children:M,headerClassName:R,communityInfoVisible:y,hasSubheader:O}=e,P=L.hasFeature(_.oNc.ANIMATED_BANNER),j=(0,u.Z)(L),D=!j&&L.hasCommunityInfoSubheader(),U=(0,h.xR)(A)&&P&&!Z,[G,w]=l.useState(!1),k=l.useRef(),B=l.useRef(null),V=l.useRef(),H=d.QK.getSetting();l.useEffect(()=>{if(U&&n&&!k.current&&H)return w(!0),V.current=setTimeout(()=>{w(!1)},5e3),()=>{clearTimeout(V.current)}},[U,n,H]),l.useEffect(()=>{k.current=n},[n]);let F=()=>{let{renderBanner:t,guildBanner:n}=e;return null!=n&&!t};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{ref:B,className:a()(s,{[m.container]:!0,[m.clickable]:null!=N,[m.selected]:null!=N&&v,[m.hasBanner]:F(),[m.bannerVisible]:n,[m.communityInfoVisible]:!j&&y||O&&D}),onMouseDown:S,onContextMenu:x,onClick:N,children:[(0,i.jsxs)("header",{className:a()(m.header,R,{[m.themedHeaderMobile]:o.tq}),children:[(0,i.jsxs)("div",{className:a()(m.headerContent,m.primaryInfo),children:[(0,i.jsx)(p.Z,{guild:L,isBannerVisible:n}),L.id===f._&&(0,i.jsx)(E,{}),(0,i.jsx)(c.Heading,{variant:"text-md/semibold",lineClamp:1,className:m.name,children:L.toString()}),null!=N&&(0,i.jsx)(c.Clickable,{className:m.headerButton,"aria-controls":T,"aria-expanded":v,focusProps:{ringTarget:B,offset:4},onClick:N,onContextMenu:x,"aria-label":g.Z.Messages.GUILD_SIDEBAR_ACTIONS_BUTTON.format({guildName:null!==(t=null==L?void 0:L.toString())&&void 0!==t?t:""})}),(0,i.jsx)("div",{className:m.headerChildren,children:M})]}),D&&(0,i.jsx)(I,{guild:L,controller:r,hasBanner:null!=A,hasSubheader:null!=O&&O})]}),null!=A?(0,i.jsx)(C,{guild:L,controller:r,guildBanner:A,animate:G}):null]}),U&&F()?(0,i.jsx)("div",{className:m.animatedBannerHoverLayer,onMouseEnter:()=>{w(!0),clearTimeout(V.current)},onMouseLeave:()=>w(!1),style:{height:b}}):null]})})},910595:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var l=n(481060),r=n(703656),a=n(434479),s=n(981631),o=n(176505),c=n(689938);function u(e){let{guild:t,selected:n}=e;return(0,i.jsx)(a.m,{id:"home-tab-".concat(t.id),renderIcon:e=>(0,i.jsx)(l.SignPostIcon,{size:"md",color:"currentColor",className:e}),text:c.Z.Messages.SERVER_GUIDE,selected:n,onClick:function(){(0,r.uL)(s.Z5c.CHANNEL(t.id,o.oC.GUILD_HOME))}})}},466935:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(735250),l=n(470079),r=n(442837),a=n(481060),s=n(970606),o=n(693546),c=n(826581),u=n(246364),d=n(98493),h=n(703656),p=n(669405),_=n(434479),f=n(981631),g=n(176505),m=n(689938);function C(e){let{guild:t,selected:n}=e,C=(0,r.e7)([c.Z],()=>c.Z.getSubmittedGuildJoinRequestTotal(t.id)),I=null!=C?C:0;return l.useEffect(()=>{o.Z.fetchGuildJoinRequests({guildId:t.id,status:u.wB.SUBMITTED,limit:d.p})},[t.id]),(0,i.jsx)(_.m,{id:"application-review-".concat(t.id),renderIcon:e=>(0,i.jsx)(p.Z,{className:e,width:24,height:24}),text:m.Z.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS,selected:n,onClick:()=>{(0,s.Q2)({guildId:t.id,source:f.jXE.CHANNEL_LIST,tab:g.oC.MEMBER_APPLICATIONS}),(0,h.uL)(f.Z5c.CHANNEL(t.id,g.oC.MEMBER_APPLICATIONS))},trailing:I>0?(0,i.jsx)(a.NumberBadge,{count:I}):null})}},120818:function(e,t,n){n.d(t,{T:function(){return C}});var i=n(735250),l=n(470079),r=n(91192),a=n(442837),s=n(481060),o=n(44315),c=n(563534),u=n(846121),d=n(703656),h=n(259580),p=n(981631),_=n(176505),f=n(689938),g=n(909398);function m(e,t){return(0,i.jsx)(s.Text,{variant:"text-xs/bold",color:"text-normal",children:e},t)}let C=l.memo(function(e){let{guild:t}=e,n=(0,a.e7)([c.Z],()=>c.Z.getNewMemberActions(t.id),[t.id]),C=(0,a.e7)([u.Z],()=>u.Z.getCompletedActions(t.id)),I=l.useMemo(()=>{if(null==n||null==C)return 0;let e=0;return n.forEach(t=>{null!=C[t.channelId]&&e++}),e},[C,n]),E=null==n?0:n.length,N=(0,r.JA)("progress-bar-".concat(t.id));return(0,i.jsxs)("li",{children:[(0,i.jsxs)(s.Clickable,{...N,role:"button",focusProps:{offset:{right:4}},className:g.progressBarContainer,onClick:function(){(0,d.uL)(p.Z5c.CHANNEL(t.id,_.oC.GUILD_HOME))},children:[(0,i.jsxs)("div",{className:g.progressBarText,children:[(0,i.jsx)(s.Heading,{variant:"heading-sm/bold",children:f.Z.Messages.GUILD_ONBOARDING_NEW_MEMBER_PROGRESS_BAR_GET_STARTED}),(0,i.jsxs)("div",{className:g.rightContainer,children:[(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:"text-muted",className:g.rightText,children:f.Z.Messages.GUILD_ONBOARDING_NEW_MEMBER_PROGRESS_BAR_COUNTER.format({numberHook:m,total:E.toString(),completed:I.toString()})}),(0,i.jsx)(h.Z,{className:g.arrow,width:16,height:16,direction:h.Z.Directions.RIGHT})]})]}),(0,i.jsx)(s.Progress,{className:g.progressBar,foregroundGradientColor:[(0,o.Lq)(p.Ilk.GREEN_300),(0,o.Lq)(p.Ilk.GREEN_230)],percent:I/E*100+3,animate:!0})]}),(0,i.jsx)("div",{role:"separator",className:g.divider})]})})},61642:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var l=n(239091),r=n(396828),a=n(703656),s=n(434479),o=n(981631),c=n(176505),u=n(689938);function d(e){let{guild:t,selected:d}=e;return(0,i.jsx)(s.m,{id:"subscriptions-".concat(t.id),renderIcon:e=>(0,i.jsx)(r.Z,{className:e}),text:u.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_TITLE,selected:d,onClick:()=>{(0,a.uL)(o.Z5c.CHANNEL(t.id,c.oC.ROLE_SUBSCRIPTIONS))},onContextMenu:e=>{null!=t&&(0,l.jW)(e,async()=>{let{default:e}=await n.e("28249").then(n.bind(n,613329));return n=>(0,i.jsx)(e,{...n,guild:t})})}})}},848442:function(e,t,n){n.d(t,{Z:function(){return b}});var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(399606),s=n(704215),o=n(433517),c=n(481060),u=n(239091),d=n(607070),h=n(367907),p=n(357352),_=n(652515),f=n(550951),g=n(886176),m=n(605236),C=n(703656),I=n(984933),E=n(430824),N=n(626135),x=n(434479),S=n(981631),Z=n(176505),v=n(629481),T=n(689938),L=n(274732);function A(e){let{guildId:t,selected:n,handleClick:l}=e,u=(0,_.RF)(t,"guild_shop_channel_row"),f=(0,a.e7)([E.Z],()=>E.Z.getGuild(t)),Z=(null==f?void 0:f.hasFeature(S.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE))===!0,A="false"===o.K.get(v.tM,"false"),b=(0,a.e7)([d.Z],()=>d.Z.useReducedMotion);return(0,i.jsx)(x.m,{id:"shop-".concat(t),className:r()(L.previewChannelRow,{[L.selected]:n,[L.phantomPreview]:A}),innerClassName:L.previewChannelRowContent,renderIcon:e=>(0,i.jsx)(g.Z,{width:20,height:20,className:r()([e,L.shopIcon])}),text:T.Z.Messages.GUILD_SHOP_CHANNEL_LABEL,selected:n,onClick:l,trailing:(0,i.jsxs)("div",{className:L.gifSection,children:[b?(0,i.jsx)(c.TextBadge,{color:c.tokens.unsafe_rawColors.BRAND_260.css,text:T.Z.Messages.NEW,className:L.newBadge}):(0,i.jsx)("img",{src:(0,p.b)("server_products/storefront/money.gif"),className:L.money,alt:""}),n&&(0,i.jsx)(c.Clickable,{className:L.closeButton,onClick:e=>{if(e.stopPropagation(),(0,m.EW)(s.z.SERVER_SHOP_PHANTOM_PREVIEW),N.default.track(S.rMx.GUILD_SHOP_PREVIEW_CLICK,{...(0,h.hH)(t),action_taken:v.mz.DISMISS_CHANNEL_ROW}),!u||!Z){var n;(0,C.dL)(S.Z5c.CHANNEL(t,null===(n=I.ZP.getDefaultChannel(t))||void 0===n?void 0:n.id))}},"aria-label":T.Z.Messages.CLOSE,children:(0,i.jsx)(c.CircleXIcon,{size:"xs",color:"currentColor"})})]})})}function b(e){let{guild:t,selected:l}=e,r=(0,f.g)(t,"guild_shop_channel_row"),a=()=>{o.K.set(v.tM,"true"),(0,C.uL)(S.Z5c.CHANNEL(t.id,Z.oC.GUILD_SHOP))};return r?(0,i.jsx)(A,{guildId:t.id,selected:l,handleClick:a}):(0,i.jsx)(x.m,{id:"shop-".concat(t.id),renderIcon:e=>(0,i.jsx)(g.Z,{width:20,height:20,className:e}),text:T.Z.Messages.GUILD_SHOP_CHANNEL_LABEL,selected:l,onClick:a,onContextMenu:e=>{null!=t&&(0,u.jW)(e,async()=>{let{default:e}=await n.e("66050").then(n.bind(n,376573));return n=>(0,i.jsx)(e,{...n,guild:t})})}})}},53425:function(e,t,n){var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(442837),o=n(592125),c=n(938475),u=n(823379),d=n(734190),h=n(689938),p=n(205546);t.Z=l.memo(function(e){let{channel:t,selectedChannel:n,selectedVoiceChannelId:l,sortedThreadIds:r,withGuildIcon:_}=e,f=(0,s.Wu)([o.Z],()=>r.map(e=>o.Z.getChannel(e)).filter(u.lm),[r]),g=(0,s.e7)([c.ZP],()=>{let e=f[f.length-1];if(null==e)return 0;let t=c.ZP.getVoiceStates(e.guild_id)[e.id];return null==t||0===t.length?0:l!==e.id?40:32*t.length+8});return(0,i.jsx)("li",{className:p.container,children:(0,i.jsxs)("ul",{role:"group","aria-label":h.Z.Messages.THREAD_GROUP_A11Y_LABEL.format({channelName:t.name}),children:[(0,i.jsx)("div",{className:a()(p.spineBorder,{[p.spineBorderWithGuildIcon]:_}),style:{bottom:24+g}}),f.map((e,t)=>(0,i.jsx)(d.Z,{thread:e,isSelectedChannel:(null==n?void 0:n.id)===e.id,isSelectedVoice:l===e.id,isLast:t===f.length-1,withGuildIcon:_},e.id))]})})})},734190:function(e,t,n){var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(91192),o=n(442837),c=n(481060),u=n(493683),d=n(239091),h=n(569471),p=n(488131),_=n(592125),f=n(306680),g=n(979651),m=n(938475),C=n(514342),I=n(714794),E=n(135724),N=n(25601),x=n(207055),S=n(981631),Z=n(124368),v=n(689938),T=n(47705),L=n(359123),A=n(205546);function b(e){let{style:t,withGuildIcon:n}=e;return(0,i.jsx)("svg",{className:a()(A.spine,{[A.spineWithGuildIcon]:n}),width:"12",height:"11",viewBox:"0 0 12 11",fill:"none","aria-hidden":!0,style:t,children:(0,i.jsx)("path",{d:"M11 9H4C2.89543 9 2 8.10457 2 7V1C2 0.447715 1.55228 0 1 0C0.447715 0 0 0.447715 0 1V7C0 9.20914 1.79086 11 4 11H11C11.5523 11 12 10.5523 12 10C12 9.44771 11.5523 9 11 9Z",fill:"currentColor"})})}t.Z=l.memo(function(e){let{thread:t,isSelectedChannel:r,isSelectedVoice:A,isLast:M,withGuildIcon:R}=e,y=(0,o.e7)([m.ZP],()=>m.ZP.getVoiceStatesForChannel(t),[t]),O=(0,o.e7)([g.Z],()=>g.Z.hasVideo(t.id)),{unread:P,mentionCount:j}=(0,o.cj)([f.ZP],()=>({unread:f.ZP.hasUnread(t.id),mentionCount:f.ZP.getMentionCount(t.id)})),D=(0,o.e7)([h.Z],()=>h.Z.isMuted(t.id)),U=l.useCallback(e=>{(0,p.ok)(t,!e.shiftKey,Z.on.CHANNEL_LIST)},[t]),G=l.useCallback(()=>{u.Z.preload(t.guild_id,t.id)},[t.guild_id,t.id]),w=l.useCallback(e=>{let l=_.Z.getChannel(t.id);null!=l&&(0,d.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return t=>(0,i.jsx)(e,{...t,channel:l})})},[t.id]),k=null==y?0:y.length,{role:B,...V}=(0,s.JA)(t.id),H=l.useRef(null),F=j>0?v.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_MENTIONS.format({channelName:t.name,mentionCount:j}):P?v.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_UNREADS.format({channelName:t.name}):v.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL.format({channelName:t.name});return(0,i.jsxs)("li",{role:B,className:a()(T.containerDefault,{[T.selected]:r}),children:[(0,i.jsx)(b,{withGuildIcon:R}),M?null:(0,i.jsx)(b,{withGuildIcon:R,style:{transform:"rotateX(180deg) translateY(-9px)"}}),(0,i.jsx)(c.FocusRing,{focusTarget:H,ringTarget:H,offset:{top:2,bottom:2,right:4},children:(0,i.jsxs)("div",{className:a()(T.iconVisibility,L.wrapper,L.typeThread,{[L.modeSelected]:r,[L.modeMuted]:!r&&D,[L.modeUnreadImportant]:!D&&!r&&P,[L.withGuildIcon]:R}),onMouseDown:G,onContextMenu:w,children:[!P||D||r?null:(0,i.jsx)("div",{className:a()(L.unread,L.unreadImportant)}),(0,i.jsx)(c.Clickable,{...V,innerRef:H,className:L.link,onClick:U,"aria-label":F,focusProps:{enabled:!1},children:(0,i.jsxs)("div",{className:a()(L.linkTop,L.__invalid_threadMainContent),children:[(0,i.jsx)(C.Z,{className:L.name,"aria-hidden":!0,children:t.name}),(0,i.jsxs)("div",{className:L.children,children:[k>0&&t.userLimit>0?(0,i.jsx)(E.Z,{userCount:k,video:O,channel:t}):null,(0,I.Z)(j)?(0,i.jsx)(N.Z,{mentionsCount:j}):null]})]})})]})}),(0,i.jsx)(x.Z,{channel:t,collapsed:!A,collapsedMax:6,voiceStates:y,location:S.Sbl.GUILD_CHANNEL_LIST})]})})},25601:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var l=n(831209),r=n(481060),a=n(667863);function s(e){let{mentionsCount:t}=e;return(0,i.jsx)("div",{className:a.mentionsBadge,"aria-hidden":!0,children:(0,i.jsx)(r.NumberBadge,{count:t,color:l.Z.STATUS_DANGER})})}},424785:function(e,t,n){n.d(t,{Z:function(){return Y}}),n(47120),n(411104);var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(442837),s=n(481060),o=n(475179),c=n(239091),u=n(146773),d=n(888651),h=n(201895),p=n(305325),_=n(281956),f=n(66999),g=n(506936),m=n(359110),C=n(922482),I=n(431328),E=n(501655),N=n(427679),x=n(71275),S=n(201469),Z=n(680089),v=n(592125),T=n(430824),L=n(607744),A=n(496675),b=n(306680),M=n(9156),R=n(979651),y=n(514342),O=n(934415),P=n(98597),j=n(648501),D=n(473403),U=n(207055),G=n(981631),w=n(647086),k=n(689938),B=n(47705),V=n(954427);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class F extends P.ZP{getVoiceStatesCount(){var e;let{voiceStates:t}=this.props;return null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0}isFull(){let{channel:e}=this.props;return(0,O.rY)(e,R.Z,T.Z)}getModeClass(){let{position:e,sortingPosition:t,isUserOver:n}=this.props;if(n)return B.containerUserOver;if(null!=t)return e>t?B.containerDragAfter:B.containerDragBefore;return B.containerDefault}renderVoiceUsers(){let{channel:e,collapsed:t,tabIndex:n,speakerVoiceStates:l,numAudience:r}=this.props;return(0,i.jsx)(U.Z,{channel:e,voiceStates:l,collapsed:t,tabIndex:n,location:G.Sbl.GUILD_CHANNEL_LIST,numAudience:r})}renderChannelInfo(){return this.props.channelInfo}render(){let{channel:e,selected:t,connected:n,locked:l,connectChannelDropTarget:a,connectChannelDragSource:o,connectUserDropTarget:c,connectDragPreview:u,canReorderChannel:d,canMoveMembers:p,stageInstance:_,isSubscriptionGated:f,needSubscriptionToAccess:g,unread:m,resolvedUnreadSetting:C,mentionCount:I,isFavoriteSuggestion:E}=this.props,{shouldShowGuildVerificationPopout:N}=this.state,x=this.getVoiceStatesCount(),S=(0,i.jsxs)("li",{className:r()(this.getModeClass(),{[B.disabled]:this.isDisabled()}),"data-dnd-name":e.name,children:[(0,i.jsx)(s.Popout,{position:"right",renderPopout:this.renderPopout,spacing:0,onRequestClose:this.closeGuildVerificationPopout,shouldShow:N,children:()=>(0,i.jsx)(s.Tooltip,{text:this.getTooltipText(),children:a=>{let{onClick:s,onContextMenu:o,...c}=a;return(0,i.jsxs)(D.Z,{className:B.iconVisibility,iconClassName:r()({[V.iconLive]:null!=_}),channel:e,selected:!E&&t,connected:n,unread:n?m:void 0,resolvedUnreadSetting:C,mentionCount:I,locked:l,onClick:()=>{this.handleClick(),null==s||s()},onContextMenu:e=>{this.handleContextMenu(e),null==o||o()},connectDragPreview:u,subtitle:this.renderSubtitle(),isFavoriteSuggestion:E,"aria-label":(0,h.ZP)({channel:e,unread:m,mentionCount:I,userCount:x,isSubscriptionGated:f,needSubscriptionToAccess:g}),...c,children:[E&&this.renderAcceptSuggestionButton(),E&&this.renderRemoveSuggestionButton(),!E&&this.renderOpenChatButton(),!E&&this.renderInviteButton(),!E&&this.renderEditButton(),!E&&this.renderChannelInfo()]})}})}),this.renderVoiceUsers()]});return p&&(S=c(S)),d&&(S=a(o(S))),S}constructor(...e){super(...e),H(this,"state",{shouldShowGuildVerificationPopout:!1}),H(this,"closeGuildVerificationPopout",()=>{this.setState({shouldShowGuildVerificationPopout:!1})}),H(this,"handleClick",()=>{let{channel:e,locked:t,connected:n,unverifiedAccount:i}=this.props,l=e.getGuildId();null!=l&&(0,_.n)(l)&&(0,p.hk)(l),i&&this.setState({shouldShowGuildVerificationPopout:!0}),!t&&!n&&!e.isRoleSubscriptionTemplatePreviewChannel()&&(0,C.Cq)(e),!__OVERLAY__&&(0,m.Kh)(e.id)}),H(this,"handleClickChat",()=>{let{channel:e,locked:t}=this.props;!__OVERLAY__&&!t&&(0,m.Kh)(e.id)}),H(this,"handleContextMenu",e=>{let{channel:t}=this.props,l=T.Z.getGuild(t.getGuildId());if(null!=l)(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("18320"),n.e("83331")]).then(n.bind(n,213202));return n=>(0,i.jsx)(e,{...n,channel:t,guild:l})})}),H(this,"renderPopout",()=>{let{channel:e}=this.props,{shouldShowGuildVerificationPopout:t}=this.state;if(t)return(0,i.jsx)(g.Z,{type:g.R.VOICE,guildId:e.guild_id,closePopout:this.closeGuildVerificationPopout});throw Error("VoiceChannel.renderPopout: There must always be something to render")}),H(this,"renderOpenChatButton",()=>{let{channel:e,locked:t,forceShowButtons:n}=this.props;if(!t)return(0,i.jsx)(s.Tooltip,{text:k.Z.Messages.OPEN_CHAT,children:t=>{let{onMouseEnter:l,onMouseLeave:a,onFocus:c,onBlur:u}=t;return(0,i.jsx)(s.Clickable,{className:r()(B.iconItem,n?B.alwaysShown:null),onClick:()=>{o.Z.updateChatOpen(e.id,!0),this.handleClickChat()},"aria-label":k.Z.Messages.OPEN_CHAT,onMouseEnter:l,onMouseLeave:a,onFocus:c,onBlur:u,children:(0,i.jsx)(s.ChatIcon,{size:"xs",color:"currentColor",className:B.actionIcon})})}})}),H(this,"getTooltipText",()=>{let{connected:e}=this.props;return this.isFull()&&!e?k.Z.Messages.UNABLE_TO_JOIN_CHANNEL_FULL:null}),H(this,"renderSubtitle",()=>{var e;let t=null===(e=this.props.stageInstance)||void 0===e?void 0:e.topic;return null==t?null:(0,i.jsx)(y.Z,{children:t})})}}let W=(0,u.B)((0,d.Q)(F));function Y(e){let{guild:t,channel:n,disableSorting:l,isFavoriteCategory:r,collapsed:s,voiceStates:o}=e,c=(0,a.cj)([b.ZP],()=>({unread:b.ZP.hasUnread(n.id),mentionCount:b.ZP.getMentionCount(n.id)})),u=(0,a.e7)([M.ZP],()=>M.ZP.resolveUnreadSetting(n)),d=(0,a.cj)([v.Z,L.Z,A.Z],()=>{let e=v.Z.getChannel(n.parent_id),i=L.Z.getCheck(n.guild_id);return{canManageChannel:null!=t&&A.Z.can(G.Plq.MANAGE_CHANNELS,n),canReorderChannel:!0!==l&&(t.id===w._||(null!=e?A.Z.can(G.Plq.MANAGE_CHANNELS,e):A.Z.can(G.Plq.MANAGE_CHANNELS,t))),canMoveMembers:A.Z.can(G.Plq.MOVE_MEMBERS,n),locked:!A.Z.can(G.Plq.CONNECT,n),bypassLimit:A.Z.can(G.Plq.MOVE_MEMBERS,n),unverifiedAccount:!i.canChat}}),h=(0,a.e7)([Z.Z],()=>Z.Z.isCollapsed(n.parent_id)),p=(0,S.ZP)(n.id),_=(0,a.e7)([N.Z],()=>N.Z.getStageInstanceByChannel(n.id),[n.id]),g=(0,I.Rk)(n.id,E.pV.AUDIENCE),{isSubscriptionGated:m,needSubscriptionToAccess:C}=(0,f.Z)(n.id),T=(0,a.e7)([M.ZP],()=>M.ZP.isFavorite(t.id,n.id)),R=(0,x.xJ)(n.id),y=(0,j.Z)({channel:n,isChannelSelected:!1,isChannelCollapsed:s,voiceStates:o,isSubscriptionGated:m,needSubscriptionToAccess:C,enableConnectedUserLimit:R||n.userLimit>0&&n.userLimit<G.xGv}),O=e.connected&&null==y;return(0,i.jsx)(W,{categoryCollapsed:h,connectAction:p,numAudience:g,stageInstance:_,isSubscriptionGated:m,needSubscriptionToAccess:C,...c,...d,...e,isFavoriteSuggestion:r&&!T,forceShowButtons:O,channelInfo:y,resolvedUnreadSetting:u})}},770202:function(e,t,n){n(411104),n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(442837),o=n(493683),c=n(239091),u=n(146773),d=n(201895),h=n(703656),p=n(592125),_=n(430824),f=n(496675),g=n(98597),m=n(473403),C=n(981631),I=n(490897),E=n(47705);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){let n=t.getGuildId();if(null==n)throw Error("TextChannel, preloadChannel: Channel does not have a guildId");o.Z.preload(n,t.id)}class S extends g.ZP{render(){let{channel:e,selected:t,connectChannelDropTarget:n,connectChannelDragSource:l,connectDragPreview:r,canReorderChannel:s}=this.props,o=(0,i.jsx)("li",{className:a()(this.getClassName(),{[E.disabled]:this.isDisabled()}),"data-dnd-name":e.name,children:(0,i.jsxs)(m.Z,{className:E.iconVisibility,channel:e,selected:t,onClick:this.handleClick,onMouseDown:x,onContextMenu:this.handleContextMenu,connectDragPreview:s?r:null,"aria-label":(0,d.ZP)({channel:e}),resolvedUnreadSetting:I.i.ONLY_MENTIONS,children:[this.renderInviteButton(),this.renderEditButton()]})});return s?n(l(o)):o}constructor(...e){super(...e),N(this,"handleContextMenu",e=>{let{channel:t}=this.props,l=_.Z.getGuild(t.getGuildId());null!=l&&(0,c.jW)(e,async()=>{let{default:e}=await n.e("99905").then(n.bind(n,649400));return n=>(0,i.jsx)(e,{...n,channel:t,guild:l})})}),N(this,"handleClick",e=>{!function(e){let t=e.getGuildId();if(null==t)throw Error("TextChannel, transitionTo: Channel does not have a guildId");(0,h.uL)(C.Z5c.CHANNEL(t,e.id),{state:{analyticsSource:{page:C.ZY5.GUILD_CHANNEL,section:C.jXE.CHANNEL_LIST,object:C.qAy.CHANNEL}}})}(e)})}}let Z=(0,u.B)(S);t.Z=l.memo(function(e){let{channel:t,guild:n,disableSorting:l}=e,r=(0,s.cj)([p.Z,f.Z],()=>{let e=p.Z.getChannel(t.parent_id);return{canManageChannel:f.Z.can(C.Plq.MANAGE_CHANNELS,t),canReorderChannel:!0!==l&&null!=e?f.Z.can(C.Plq.MANAGE_CHANNELS,e):f.Z.can(C.Plq.MANAGE_CHANNELS,n)}});return(0,i.jsx)(Z,{...r,...e})})},79556:function(e,t,n){n.d(t,{Z:function(){return j}}),n(47120);var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(442837),s=n(481060),o=n(493683),c=n(239091),u=n(146773),d=n(867176),h=n(619915),p=n(201895),_=n(873696),f=n(66999),g=n(22082),m=n(665906),C=n(592125),I=n(430824),E=n(496675),N=n(306680),x=n(9156),S=n(594174),Z=n(109446),v=n(98597),T=n(648501),L=n(473403),A=n(304471),b=n(981631),M=n(647086),R=n(47705);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends v.ZP{componentWillUnmount(){this.resetTextChannelPopoutTimers()}resetTextChannelPopoutTimers(){clearTimeout(this.enterTimer),clearTimeout(this.exitTimer)}renderChannelInfo(){let{channelInfo:e}=this.props;return null==e?null:(0,i.jsx)("div",{className:R.channelInfo,children:e})}render(){let{channel:e,guild:t,selected:n,muted:l,unread:a,hasActiveThreads:o,hasMoreActiveThreads:c,mentionCount:u,connectChannelDropTarget:d,connectChannelDragSource:h,connectDragPreview:f,canReorderChannel:g,isSubscriptionGated:m,isFavoriteSuggestion:C,subtitle:I,forceTopLevelThread:E,embeddedApps:N,resolvedUnreadSetting:x,withGuildIcon:S,enableActivities:Z}=this.props,v=Z&&null!=N&&N.length>0,T=(0,_.D)(I),A=(0,i.jsx)("li",{className:r()(this.getClassName(),{[R.disabled]:this.isDisabled(),[R.selected]:n}),"data-dnd-name":e.name,onMouseEnter:c||v?this.handleMouseEnter:void 0,onMouseLeave:c||v?this.handleMouseLeave:void 0,children:(0,i.jsx)(s.Popout,{position:"right",renderPopout:this.renderPopout,spacing:0,onRequestClose:this.handleClosePopout,shouldShow:c&&this.state.shouldShowThreadsPopout||v&&this.state.shouldShowActivities,children:()=>(0,i.jsxs)(L.Z,{className:R.iconVisibility,channel:e,guild:t,selected:!C&&n,muted:l,unread:a,mentionCount:u,hasActiveThreads:o,subtitle:null==T?void 0:T.subtitle,subtitleColor:null==T?void 0:T.color,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,connectDragPreview:g?f:null,isFavoriteSuggestion:C,channelTypeOverride:E?b.d4z.GUILD_TEXT:void 0,resolvedUnreadSetting:x,withGuildIcon:S,"aria-label":(0,p.ZP)({channel:e,unread:a,mentionCount:u,isSubscriptionGated:m}),children:[C&&this.renderAcceptSuggestionButton(),C&&this.renderRemoveSuggestionButton(),!C&&this.renderInviteButton(),!C&&this.renderEditButton(),!C&&this.renderChannelInfo()]})})});return g?d(h(A)):A}constructor(...e){super(...e),y(this,"state",{shouldShowThreadsPopout:!1,shouldShowActivities:!1}),y(this,"enterTimer",0),y(this,"exitTimer",0),y(this,"handleMouseEnter",()=>{if(!!this.props.canShowThreadPreviewForUser||null!=this.props.embeddedApps)this.resetTextChannelPopoutTimers(),this.enterTimer=setTimeout(()=>{null!=this.props.embeddedApps&&this.props.embeddedApps.length>0?this.setState({shouldShowActivities:!0}):this.props.canShowThreadPreviewForUser&&this.setState({shouldShowThreadsPopout:!0})},200)}),y(this,"handleMouseLeave",()=>{this.resetTextChannelPopoutTimers(),this.exitTimer=setTimeout(()=>{this.state.shouldShowActivities&&this.setState({shouldShowActivities:!1}),this.state.shouldShowThreadsPopout&&this.setState({shouldShowThreadsPopout:!1})},250)}),y(this,"handleThreadsPopoutClose",()=>{this.resetTextChannelPopoutTimers(),this.setState({shouldShowThreadsPopout:!1})}),y(this,"handleActivitiesPopoutClose",()=>{this.resetTextChannelPopoutTimers(),this.setState({shouldShowActivities:!1})}),y(this,"handleClosePopout",()=>{this.state.shouldShowActivities&&this.handleActivitiesPopoutClose(),this.state.shouldShowThreadsPopout&&this.handleThreadsPopoutClose()}),y(this,"handleMouseDown",()=>{this.handleActivitiesPopoutClose(),this.handleThreadsPopoutClose();let{channel:e}=this.props,t=e.getGuildId();o.Z.preload(null!=t?t:b.ME,e.id)}),y(this,"renderPopout",e=>{let{channel:t,sorting:n,embeddedApps:l}=this.props,{shouldShowActivities:r}=this.state;return null!=l&&l.length>0&&r&&!n?(0,i.jsx)(A.Z,{onAction:this.handleActivitiesPopoutClose,channel:t}):(0,i.jsx)(Z.Z,{...e,channel:this.props.channel})}),y(this,"handleContextMenu",e=>{let{channel:t}=this.props;if(t.type===b.d4z.GROUP_DM){(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("25421")]).then(n.bind(n,354741));return n=>(0,i.jsx)(e,{...n,channel:t,selected:!0})});return}if(t.type===b.d4z.DM){let l=S.default.getUser(t.getRecipientId());null!=l&&(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("56826"),n.e("4562")]).then(n.bind(n,131404));return n=>(0,i.jsx)(e,{...n,user:l,channel:t,showModalItems:!1})});return}let l=I.Z.getGuild(t.getGuildId());null!=l&&(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("18320"),n.e("54310")]).then(n.bind(n,373651));return n=>(0,i.jsx)(e,{...n,channel:t,guild:l})})})}}let P=(0,u.B)(O);function j(e){let{channel:t,guild:n,disableSorting:l,isFavoriteCategory:r,muted:s,selected:o}=e,{hasActiveThreads:c,hasMoreActiveThreads:u}=(0,m.JQ)(t),p=(0,a.cj)([N.ZP],()=>({unread:N.ZP.hasUnread(t.id),ackMessageId:N.ZP.ackMessageId(t.id),mentionCount:N.ZP.getMentionCount(t.id)})),_=(0,a.e7)([x.ZP],()=>x.ZP.resolveUnreadSetting(t)),I=(0,a.cj)([C.Z,E.Z],()=>{let e=C.Z.getChannel(t.parent_id);return{canManageChannel:E.Z.can(b.Plq.MANAGE_CHANNELS,t),canReorderChannel:!0!==l&&(n.id===M._||(null!=e?E.Z.can(b.Plq.MANAGE_CHANNELS,e):E.Z.can(b.Plq.MANAGE_CHANNELS,n)))}}),Z=(0,a.e7)([g.Z],()=>g.Z.shouldIndicateNewChannel(n.id,t.id)),{needSubscriptionToAccess:v,isSubscriptionGated:L}=(0,f.Z)(t.id),A=(0,a.e7)([x.ZP],()=>x.ZP.isFavorite(n.id,t.id)),R=(0,a.e7)([S.default],()=>{let e=S.default.getCurrentUser();return null!=e&&(!t.isNSFW()||e.nsfwAllowed)},[t]),y=(0,d.NX)(t.id,!1,"webGuildTextChannel"),O=(0,T.Z)({channel:t,isChannelCollapsed:!1,isChannelSelected:o,isSubscriptionGated:L,needSubscriptionToAccess:v,isNewChannel:Z,muted:s,enableActivities:y,resolvedUnreadSetting:_}),j=(0,h.ZP)(t);return(0,i.jsx)(P,{...p,...I,...e,hasActiveThreads:c,hasMoreActiveThreads:u,isSubscriptionGated:L,needSubscriptionToAccess:v,isNewChannel:Z&&e.canBeNewChannel,isFavoriteSuggestion:r&&!A,canShowThreadPreviewForUser:R,channelInfo:O,embeddedApps:j,resolvedUnreadSetting:_,hasChannelInfo:null!=O,enableActivities:y})}},304471:function(e,t,n){n.d(t,{Z:function(){return c}}),n(47120);var i=n(735250);n(470079);var l=n(481060),r=n(619915),a=n(737592),s=n(561788),o=n(854018);function c(e){let{channel:t,onAction:n}=e,c=(0,r.ZP)(t),u=Array.from((0,r.uF)(c).values());return 0===u.length?null:(0,i.jsxs)(l.Scroller,{className:o.container,children:[(0,i.jsx)("div",{className:o.popoutHeaderContainer,children:(0,i.jsx)(s.Z,{channel:t})}),(0,i.jsx)("div",{className:o.headerDivider}),u.map((e,l)=>{var r;return(0,i.jsx)(a.Z,{embeddedApp:e,presenceActivity:null!==(r=e.presenceActivity)&&void 0!==r?r:void 0,channel:t,onAction:n},l)})]})}},428127:function(e,t,n){n.d(t,{Z:function(){return N}});var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(920906),o=n(442837),c=n(692547),u=n(481060),d=n(607070),h=n(492162),p=n(451478),_=n(409216),f=n(934415),g=n(968847),m=n(689938),C=n(953248);let I={friction:30,tension:300};function E(e){var t;let{guildChannels:n,jumpToVoiceChannels:r}=e,s=n.getCategoryFromSection(n.voiceChannelsSectionNumber),o=(0,h.Z)(n.id),d=l.useCallback(e=>{e.preventDefault(),e.stopPropagation(),r()},[r]),p=null!==(t=null==s?void 0:s.getChannelRecords())&&void 0!==t?t:[],g=(0,f.c4)({channels:p,selectedChannelId:null,selectedVoiceChannelId:null,voiceStates:o});return(0,i.jsxs)(u.Clickable,{className:a()(C.bar),onClick:d,children:[(0,i.jsx)(u.VoiceNormalIcon,{size:"custom",className:C.voiceChannelsIcon,width:14,height:14,color:c.Z.unsafe_rawColors.GREEN_330.css}),(0,i.jsx)(u.Text,{variant:"text-xs/semibold",color:"text-positive",className:C.barText,children:m.Z.Messages.VOICE_CHANNEL_BAR_ACTIVE.format({count:g.length})}),(0,i.jsx)(_.Z,{guildId:n.id,className:C.voiceChannelsUsers,users:g.slice(0,4),renderMoreUsers:()=>null,max:4,size:u.AvatarSizes.SIZE_16})]})}function N(e){let{position:t,guildChannels:n,guildChannelsVersion:r,jumpToVoiceChannels:c,jumpToChannel:h}=e,{bottomBar:_,topBar:f}=(0,o.cj)([g.Z],()=>g.Z.getUnreadStateForGuildId(n.id)),N=(0,o.e7)([d.Z],()=>d.Z.useReducedMotion),x=(0,o.e7)([p.Z],()=>p.Z.isFocused()),{mode:S,mentionCount:Z,targetChannelId:v}="bottom"===t?_:f,T=S===g.x.HIDDEN,L=(0,s.useSpring)({to:{transform:T?"bottom"===t?"translateY(180%)":"translateY(-180%)":"translateY(0%)"},config:I,immediate:N||!x}),A=l.useCallback(e=>{e.preventDefault(),e.stopPropagation(),null!=v&&h(v)},[h,v]);return(0,i.jsx)("div",{className:a()(C.container,{[C.top]:"top"===t,[C.bottom]:"bottom"===t}),children:(0,i.jsx)(s.animated.div,{className:C.containerPadding,style:L,"aria-hidden":T,children:S===g.x.HIDDEN?(0,i.jsx)("div",{className:a()(C.bar,C.emptyBar)}):S===g.x.UNREAD?(0,i.jsxs)(u.Clickable,{className:C.bar,onClick:A,children:["bottom"===t?(0,i.jsx)(u.ChevronSmallDownIcon,{size:"custom",color:"currentColor",className:C.unreadIcon,height:14,width:14}):(0,i.jsx)(u.ChevronSmallUpIcon,{size:"custom",color:"currentColor",className:C.unreadIcon,height:14,width:14}),(0,i.jsx)(u.Text,{variant:"text-xs/semibold",color:"interactive-normal",className:C.barText,children:m.Z.Messages.NEW_UNREADS})]}):S===g.x.MENTIONS?(0,i.jsx)(u.Clickable,{className:a()(C.bar,C.mentionsBar),onClick:A,children:(0,i.jsx)(u.Text,{variant:"text-xs/semibold",color:"status-danger-text",className:C.barText,children:m.Z.Messages.NEW_MENTIONS_COUNT.format({count:Z})})}):S===g.x.VOICE_CHANNELS?(0,i.jsx)(E,{jumpToVoiceChannels:c,guildChannels:n,guildChannelsVersion:r}):void 0})})}},950969:function(e,t,n){var i=n(735250),l=n(470079),r=n(442837),a=n(718528),s=n(220444),o=n(569471),c=n(592125),u=n(306680),d=n(9156),h=n(451478),p=n(816779);function _(e){let t=c.Z.getChannel(e);return null!=t&&null!=t.getGuildId()&&!(t.isThread()?o.Z.isMuted(t.id):d.ZP.isChannelMuted(t.getGuildId(),t.id))&&(0,s.d)(t)}function f(e){let t=c.Z.getChannel(e);if(null==t)return!1;let n=t.getGuildId();if(null==n)return!1;let i=d.ZP.isGuildCollapsed(n),l=d.ZP.isChannelMuted(n,t.id);return(!i||!l)&&u.ZP.getMentionCount(e)>0}t.Z=l.forwardRef(function(e,t){let{guildId:n,guildChannels:l,guildChannelsVersion:s,...o}=e,c=(0,a.T)(n,l,s,!1,{ignoreRecents:!0}),u=(0,r.e7)([h.Z],()=>h.Z.isFocused());return(0,i.jsx)(p.Z,{ref:t,...o,isUnread:_,isMentioned:f,items:c,animate:u})})},233657:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(735250);n(470079);var l=n(442837),r=n(704215),a=n(481060),s=n(239091),o=n(605236),c=n(554747),u=n(306680),d=n(9156),h=n(434479),p=n(490897),_=n(689938),f=n(359123);function g(e){let{guild:t,selected:g}=e,{hasUnread:m,mentionCount:C}=(0,l.cj)([u.ZP],()=>({hasUnread:u.ZP.hasUnread(t.id,p.W.GUILD_EVENT),mentionCount:u.ZP.getMentionCount(t.id,p.W.GUILD_EVENT)}),[t.id]),I=(0,l.e7)([d.ZP],()=>d.ZP.isMuteScheduledEventsEnabled(t.id));async function E(){await (0,a.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("22347"),n.e("56236"),n.e("56289")]).then(n.bind(n,17671));return n=>(0,i.jsx)(e,{...n,guildId:t.id})}),(0,o.EW)(r.z.GUILD_HEADER_EVENT_UPSELL)}let N=(0,c.ZP)(t.id),x=N.length>0?_.Z.Messages.GUILD_EVENTS_PLURAL.format({number:N.length}):_.Z.Messages.GUILD_EVENTS;return(0,i.jsx)(h.m,{id:"upcoming-events-".concat(t.id),renderIcon:e=>(0,i.jsx)(a.CalendarIcon,{size:"md",color:"currentColor",className:e}),text:x,selected:g,onClick:E,onContextMenu:e=>{(0,s.jW)(e,async()=>{let{default:e}=await n.e("95307").then(n.bind(n,867757));return n=>(0,i.jsx)(e,{...n,guildId:t.id})})},showUnread:m&&!I,trailing:!I&&C>0?(0,i.jsx)(a.NumberBadge,{className:f.numberBadge,disableColor:!0,count:C}):null})}},831700:function(e,t,n){n.d(t,{Z:function(){return J}}),n(47120),n(411104);var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(442837),s=n(846519),o=n(481060),c=n(475179),u=n(239091),d=n(146773),h=n(888651),p=n(619915),_=n(339340),f=n(201895),g=n(718589),m=n(933557),C=n(557135),I=n(873696),E=n(446226),N=n(305325),x=n(281956),S=n(66999),Z=n(554747),v=n(506936),T=n(574176),L=n(359110),A=n(155409),b=n(695346),M=n(592125),R=n(430824),y=n(607744),O=n(496675),P=n(306680),j=n(9156),D=n(979651),U=n(934415),G=n(98597),w=n(648501),k=n(473403),B=n(830993),V=n(653577),H=n(207055),F=n(981631),W=n(647086),Y=n(689938),z=n(47705);function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class q extends G.ZP{componentWillUnmount(){this.activitiesHideTimeout.stop()}getVoiceStatesCount(){var e;let{voiceStates:t}=this.props;return null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0}isFull(){let{channel:e}=this.props;return(0,U.rY)(e,D.Z,R.Z)}getModeClass(){let{position:e,sortingPosition:t,isUserOver:n}=this.props;if(n)return z.containerUserOver;if(null!=t)return e>t?z.containerDragAfter:z.containerDragBefore;return z.containerDefault}renderSubtitle(){var e;let{channel:t,connected:n,enableHangStatus:l,allowChannelTopic:r}=this.props,a=null===(e=(0,I.D)(this.props.subtitle))||void 0===e?void 0:e.subtitle,{hovered:s}=this.state;return(0,i.jsx)(V.Z,{onClick:this.handleVoiceStatusClick,channel:t,connected:n,subtitle:a,hovered:s,enableHangStatus:l,allowChannelTopic:r})}renderVoiceUsers(){let{channel:e,voiceStates:t,collapsed:n,withGuildIcon:l,tabIndex:r}=this.props;return(0,i.jsx)(H.Z,{channel:e,collapsed:n,collapsedMax:6,voiceStates:t,withGuildIcon:l,tabIndex:r,location:F.Sbl.GUILD_CHANNEL_LIST})}renderChannelInfo(){let{channelInfo:e}=this.props;return null==e?null:(0,i.jsx)("div",{className:z.channelInfo,children:e})}render(){let{channel:e,selected:t,connected:n,unread:l,resolvedUnreadSetting:a,mentionCount:s,locked:c,sorting:u,isUserOver:d,connectChannelDropTarget:h,connectChannelDragSource:p,connectUserDropTarget:_,connectDragPreview:m,canReorderChannel:C,canMoveMembers:I,showTutorial:E,hasActiveEvent:N,embeddedApps:x,isSubscriptionGated:S,isFavoriteSuggestion:Z,withGuildIcon:v}=this.props,{shouldShowActivities:T,shouldShowGuildVerificationPopout:L}=this.state,b=this.getVoiceStatesCount(),M=(0,i.jsxs)("li",{className:r()(this.getModeClass(),{[z.disabled]:this.isDisabled()}),"data-dnd-name":e.name,children:[(0,i.jsx)("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:(0,i.jsx)(o.Popout,{position:"right",renderPopout:this.renderPopout,spacing:0,onRequestClose:this.closeGuildVerificationPopout,shouldShow:T&&!u&&!d&&!L||L,children:()=>(0,i.jsx)(o.Tooltip,{text:this.getTooltipText(),children:o=>{let{onClick:u,onContextMenu:d,...h}=o;return(0,i.jsxs)(k.Z,{className:z.iconVisibility,iconClassName:r()({[z.iconLive]:N}),channel:e,selected:!Z&&t,connected:n,unread:n?l:void 0,resolvedUnreadSetting:a,mentionCount:s,locked:c,subtitle:this.renderSubtitle(),onClick:()=>{this.handleClick(),null==u||u()},onContextMenu:e=>{this.handleContextMenu(e),null==d||d()},connectDragPreview:m,isFavoriteSuggestion:Z,"aria-label":(0,f.ZP)({channel:e,unread:l,mentionCount:s,userCount:b,embeddedActivitiesCount:x.length,isSubscriptionGated:S}),"aria-describedby":(0,g.Z)({channel:e,embeddedApps:x}),withGuildIcon:v,...h,children:[Z&&this.renderAcceptSuggestionButton(),Z&&this.renderRemoveSuggestionButton(),!Z&&this.renderOpenChatButton(),!Z&&this.renderInviteButton(),!Z&&this.renderEditButton(),!Z&&this.renderChannelInfo()]})}})})}),this.renderVoiceUsers()]});return I&&(M=_(M)),C&&(M=h(p(M))),E&&(M=(0,i.jsx)(A.Z,{tutorialId:"voice-conversations",position:"right",offsetX:-20,children:M})),M}constructor(...e){super(...e),K(this,"state",{shouldShowActivities:!1,shouldShowGuildVerificationPopout:!1,hovered:!1}),K(this,"activitiesHideTimeout",new s.V7),K(this,"closeGuildVerificationPopout",()=>{this.setState({shouldShowGuildVerificationPopout:!1})}),K(this,"handleVoiceConnect",()=>{let{locked:e,connected:t,channel:n,unverifiedAccount:i,needSubscriptionToAccess:l}=this.props;i&&this.setState({shouldShowGuildVerificationPopout:!0}),C.Z.handleVoiceConnect({channel:n,connected:t,needSubscriptionToAccess:l,locked:e})}),K(this,"handleContextMenu",e=>{let{channel:t}=this.props,l=R.Z.getGuild(t.getGuildId());null!=l&&(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("18320"),n.e("83331")]).then(n.bind(n,213202));return n=>(0,i.jsx)(e,{...n,channel:t,guild:l})})}),K(this,"handleMouseEnter",()=>{this.activitiesHideTimeout.stop(),this.setState({shouldShowActivities:!0,hovered:!0})}),K(this,"handleMouseLeave",()=>{this.activitiesHideTimeout.start(100,()=>this.setState({shouldShowActivities:!1,hovered:!1}))}),K(this,"closePopout",()=>{this.activitiesHideTimeout.stop(),this.setState({shouldShowActivities:!1})}),K(this,"handleClick",()=>{let{channel:e}=this.props,t=e.getGuildId();null!=t&&(0,x.n)(t)&&(0,N.hk)(t),this.handleVoiceConnect()}),K(this,"handleVoiceStatusClick",e=>{let{connected:t,channel:l}=this.props;t&&(e.stopPropagation(),(0,o.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,339340));return t=>(0,i.jsx)(e,{channel:l,...t})},{modalKey:_.VOICE_CHANNEL_STATUS_MODAL_KEY}))}),K(this,"renderPopout",()=>{let{channel:e,voiceStates:t,sorting:n,isUserOver:l,selected:r,guild:a}=this.props,{shouldShowActivities:s,shouldShowGuildVerificationPopout:o}=this.state;if(s&&!n&&!l&&!o){let n=b.SE.getSetting().includes(a.id);return(0,i.jsx)(B.Z,{onAction:this.closePopout,guild:a,channel:e,voiceStates:t,isChannelSelected:r,shouldShowSettingNudge:n})}if(o)return(0,i.jsx)(v.Z,{type:v.R.VOICE,guildId:e.guild_id,closePopout:this.closeGuildVerificationPopout});throw Error("VoiceChannel.renderPopout: There must always be something to render")}),K(this,"renderOpenChatButton",()=>{let{channel:e,locked:t,forceShowButtons:n}=this.props;if(!t)return(0,i.jsx)(o.Tooltip,{text:Y.Z.Messages.OPEN_CHAT,children:t=>{let{onMouseEnter:l,onMouseLeave:a,onFocus:s,onBlur:u}=t;return(0,i.jsx)(o.Clickable,{className:r()(z.iconItem,n?z.alwaysShown:null),onClick:()=>{c.Z.updateChatOpen(e.id,!0),(0,L.Kh)(e.id)},"aria-label":Y.Z.Messages.OPEN_CHAT,onMouseEnter:l,onMouseLeave:a,onFocus:s,onBlur:u,children:(0,i.jsx)(o.ChatIcon,{size:"xs",color:"currentColor",className:z.actionIcon})})}})}),K(this,"getTooltipText",()=>{let{connected:e}=this.props;return this.isFull()&&!e?Y.Z.Messages.UNABLE_TO_JOIN_CHANNEL_FULL:null})}}let Q=(0,d.B)((0,h.Q)(q));function J(e){let{guild:t,channel:n,disableSorting:l,isFavoriteCategory:r,selected:s,collapsed:o,voiceStates:c}=e,u=(0,a.cj)([P.ZP],()=>({unread:P.ZP.hasUnread(n.id),mentionCount:P.ZP.getMentionCount(n.id)})),d=(0,a.e7)([j.ZP],()=>j.ZP.resolveUnreadSetting(n)),h=(0,a.cj)([M.Z,y.Z,O.Z],()=>{let e=M.Z.getChannel(n.parent_id),i=y.Z.getCheck(n.guild_id);return{canManageChannel:O.Z.can(F.Plq.MANAGE_CHANNELS,n),canReorderChannel:!0!==l&&(t.id===W._||(null!=e?O.Z.can(F.Plq.MANAGE_CHANNELS,e):O.Z.can(F.Plq.MANAGE_CHANNELS,t))),canMoveMembers:O.Z.can(F.Plq.MOVE_MEMBERS,n),locked:!O.Z.can(F.Plq.CONNECT,n),bypassLimit:O.Z.can(F.Plq.MOVE_MEMBERS,n),unverifiedAccount:!i.canChat}}),_=(0,a.e7)([D.Z],()=>D.Z.hasVideo(n.id)),f=(0,p.ZP)(n),g=(0,m.ZP)(n),C=(0,Z.qY)(n.id),{isSubscriptionGated:I,needSubscriptionToAccess:N}=(0,S.Z)(n.id),x=(0,E.Z)(),v=(0,a.e7)([j.ZP],()=>j.ZP.isFavorite(t.id,n.id)),L=e.connected||(null==x?void 0:x.channelId)===n.id,{enableHangStatus:A,allowChannelTopic:b}=T.n.useExperiment({guildId:n.guild_id,location:"VoiceChannel"},{autoTrackExposure:!1}),R=(0,w.Z)({channel:n,isChannelSelected:s,isChannelCollapsed:o,voiceStates:c,isSubscriptionGated:I,needSubscriptionToAccess:N,enableConnectedUserLimit:!0,enableActivities:!0}),U=L&&null==R;return(0,i.jsx)(Q,{channelName:g,embeddedApps:f,embeddedActivityType:F.IIU.PLAYING,video:_,hasActiveEvent:null!=C,isSubscriptionGated:I,needSubscriptionToAccess:N,...u,...h,...e,connected:L,isFavoriteSuggestion:r&&!v,forceShowButtons:U,channelInfo:R,enableHangStatus:A,allowChannelTopic:b,resolvedUnreadSetting:d})}},830993:function(e,t,n){n.d(t,{Z:function(){return v}}),n(47120),n(653041);var i=n(735250),l=n(470079),r=n(442837),a=n(481060),s=n(58540),o=n(619915),c=n(620662),u=n(841784),d=n(471445),h=n(430824),p=n(496675),_=n(158776),f=n(979651),g=n(823379),m=n(355363),C=n(737592),I=n(561788),E=n(135724),N=n(543432),x=n(981631),S=n(689938),Z=n(854018);function v(e){var t,d;let{channel:h,guild:p,onAction:f,voiceStates:m,isChannelSelected:I,shouldShowSettingNudge:E}=e;!function(e,t){let n=l.useMemo(()=>{var n;return null==t||t.length>50?{}:{[e.getGuildId()]:null!==(n=t.map(e=>{let{user:t}=e;return t.id}))&&void 0!==n?n:[]}},[e,t]);(0,s.$)(n)}(h,m);let N=(0,o.ZP)(h),v=Array.from((0,o.uF)(N).values()),L=null!==(t=null==m?void 0:m.filter(g.lm))&&void 0!==t?t:[],A=e=>t=>[x.IIU.PLAYING,x.IIU.WATCHING].includes(t.type)&&(null!=t.assets||null!=t.state||null!=t.details||null!=t.party)&&(null==t.session_id||t.session_id===e.voiceState.sessionId)||t.type===x.IIU.LISTENING,b=(0,r.e7)([_.Z],()=>{let e={};return L.forEach(t=>{let n=_.Z.findActivity(t.user.id,A(t));if(null!=n&&!(0,u.Z)(n)){var i,l,r,a;let s="".concat(null!==(l=n.application_id)&&void 0!==l?l:"",":").concat(null!==(r=null===(i=n.party)||void 0===i?void 0:i.id)&&void 0!==r?r:t.user.id),o=null!==(a=e[s])&&void 0!==a?a:{members:[],activity:n};o.members.push(t),!(0,c.Z)(o.activity,x.xjy.JOIN)&&(o.activity=n),e[s]=o}}),Object.values(e)},[L],r.pF);return b.length+v.length===0?null:(0,i.jsxs)(a.Scroller,{className:Z.container,children:[(0,i.jsx)(T,{channel:h,isChannelSelected:I,voiceStatesCount:null!==(d=null==m?void 0:m.length)&&void 0!==d?d:0}),(0,i.jsx)("div",{className:Z.headerDivider}),v.map((e,t)=>{var n;return(0,i.jsx)(C.Z,{embeddedApp:e,presenceActivity:null!==(n=e.presenceActivity)&&void 0!==n?n:void 0,channel:h,onAction:f},t)}),b.map((e,t)=>{let{members:n,activity:l}=e;return(0,i.jsx)(C.Z,{presenceActivity:l,channel:h,members:n,onAction:f},t)}),E&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:Z.headerDivider}),(0,i.jsx)("div",{className:Z.settingNudgeText,children:(0,i.jsx)(a.Text,{variant:"text-xs/normal",tag:"span",children:S.Z.Messages.VOICE_CHANNEL_ACTIVITY_STATUS_REDIRECT.format({onClick:()=>{(0,a.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("96427"),n.e("77298"),n.e("23357"),n.e("19503"),n.e("15972"),n.e("12013"),n.e("6416"),n.e("39612"),n.e("32776"),n.e("95900"),n.e("33053"),n.e("8016"),n.e("68136"),n.e("50654"),n.e("76540"),n.e("22646"),n.e("87624"),n.e("5528"),n.e("3746"),n.e("43331"),n.e("30419"),n.e("18824"),n.e("80229"),n.e("41662"),n.e("49508"),n.e("54535"),n.e("65371"),n.e("130"),n.e("67534")]).then(n.bind(n,241420));return t=>(0,i.jsx)(e,{...t,guild:p})})}})})})]})]})}function T(e){let{channel:t,isChannelSelected:n,voiceStatesCount:l}=e,a=(0,r.e7)([p.Z],()=>!p.Z.can(x.Plq.CONNECT,t)),s=(0,r.e7)([f.Z],()=>f.Z.hasVideo(t.id)),o=(0,m.ZP)({channel:t,locked:a,video:s,selected:n}),c=(0,r.e7)([h.Z],()=>h.Z.getGuild(t.guild_id));return null==(0,d.KS)(t,c)?null:(0,i.jsxs)("div",{className:Z.popoutHeaderContainer,children:[(0,i.jsx)(I.Z,{channel:t}),o?(0,i.jsx)(E.Z,{userCount:l,video:s,channel:t}):(0,i.jsx)(N.Z,{userCount:l})]})}},653577:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),c=n(362721),u=n(12498),d=n(454585),h=n(514342),p=n(626135),_=n(981631),f=n(689938),g=n(387592),m=n(622322);function C(e){let{channel:t,connected:n,hovered:r,subtitle:C,onClick:I,enableHangStatus:E,allowChannelTopic:N}=e,x=(0,s.e7)([u.Z],()=>u.Z.getChannelStatus(t)),S=null!=x&&x.length>0,Z=(0,c.Z)(t,!0),v=(!E||!!N)&&Z,T=null!=C&&C.length>0;l.useEffect(()=>{S&&p.default.track(_.rMx.VOICE_CHANNEL_TOPIC_VIEWED,{guild_id:t.guild_id,channel_id:t.id})},[t.id,S,t.guild_id]);let L=(0,o.useRedesignIconContext)().enabled?12:14;if(null==t.guild_id)return null;let A=a()(g.statusDiv,n&&v?g.hoverable:null);if(S)return(0,i.jsx)(o.Clickable,{className:A,onClick:v?I:void 0,children:(0,i.jsx)(o.Text,{variant:"text-xs/medium",className:a()(g.statusText,m.markup),children:(0,i.jsx)(h.Z,{children:d.Z.parseVoiceChannelStatus(x,!0,{channelId:t.id})})})});if(n&&v&&(!T||r))return(0,i.jsxs)(o.Clickable,{className:A,onClick:I,children:[(0,i.jsx)(o.Text,{variant:"text-xs/medium",className:g.statusText,children:f.Z.Messages.VOICE_CHANNEL_SET_STATUS}),(0,i.jsx)(o.PencilIcon,{size:"custom",color:"currentColor",className:g.pencilIcon,width:L,height:L})]});if(T)return(0,i.jsx)(h.Z,{children:C});return null}},280102:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(481060),s=n(583393);function o(e){let{total:t,users:n,videoLimit:l}=e;return(0,i.jsxs)("div",{className:s.wrapper,children:[(0,i.jsxs)("span",{className:r()(s.users,{[s.video]:l,[s.extraLong]:n>=100}),children:[l?(0,i.jsx)(a.VideoIcon,{size:"md",color:"currentColor",className:s.videoIcon}):null,n.toString().padStart(2,"0")]}),(0,i.jsx)("span",{className:r()(s.total,{[s.extraLong]:t>=100}),children:t.toString().padStart(2,"0")})]})}},543432:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(735250);n(470079);var l=n(481060),r=n(785144);function a(e){let{userCount:t}=e;return(0,i.jsxs)("div",{className:r.container,children:[(0,i.jsx)(l.GroupIcon,{size:"xxs",color:"currentColor",className:r.peopleIcon}),(0,i.jsx)(l.Text,{variant:"text-sm/normal",color:"header-secondary",className:r.userCountText,children:t})]})}},506936:function(e,t,n){n.d(t,{R:function(){return l}});var i,l,r=n(735250);n(470079);var a=n(442837),s=n(481060),o=n(893776),c=n(391650),u=n(144114),d=n(607744),h=n(594174),p=n(153124),_=n(981631),f=n(815660),g=n(689938),m=n(319081);(i=l||(l={}))[i.VOICE=0]="VOICE";t.Z=e=>{let{type:t,guildId:i,closePopout:l}=e,C=(0,p.Dt)(),{notClaimed:I,notEmailVerified:E,notPhoneVerified:N,newAccount:x,newMember:S}=(0,a.e7)([d.Z],()=>d.Z.getCheck(i),[i]),Z=0===t?g.Z.Messages.GUILD_VERIFICATION_VOICE_HEADER:null,v=null,T=null;return(0===t&&(I?(v=g.Z.Messages.GUILD_VERIFICATION_VOICE_NOT_CLAIMED,T=g.Z.Messages.CLAIM_ACCOUNT):N?(v=g.Z.Messages.GUILD_VERIFICATION_VOICE_NOT_PHONE_VERIFIED,T=g.Z.Messages.VERIFY_PHONE):E?(v=g.Z.Messages.GUILD_VERIFICATION_VOICE_NOT_VERIFIED,T=g.Z.Messages.RESEND_VERIFICATION_EMAIL):S?(v=g.Z.Messages.GUILD_VERIFICATION_VOICE_MEMBER_AGE.format({min:_.YeM.MEMBER_AGE}),T=g.Z.Messages.OKAY):x&&(v=g.Z.Messages.GUILD_VERIFICATION_VOICE_ACCOUNT_AGE.format({min:_.YeM.ACCOUNT_AGE}),T=g.Z.Messages.OKAY)),null==Z||null==v)?null:(0,r.jsxs)(s.Dialog,{className:m.container,"aria-labelledby":C,children:[(0,r.jsx)("img",{alt:"",className:m.image,src:n(64395)}),(0,r.jsxs)("div",{className:m.content,children:[(0,r.jsx)(s.Heading,{variant:"heading-md/semibold",id:C,children:Z}),(0,r.jsx)(s.Text,{color:"header-secondary",variant:"text-sm/normal",children:v}),(0,r.jsxs)("div",{className:m.buttonContainer,children:[null!=T?(0,r.jsx)(s.Button,{onClick:()=>{I?c.j():N?(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("76540"),n.e("21518")]).then(n.bind(n,607018));return t=>(0,r.jsx)(e,{reason:u.L.GUILD_PHONE_REQUIRED,...t})},{modalKey:f.M}):E&&(o.Z.verifyResend(),(0,s.openModal)(e=>{var t;return(0,r.jsx)(s.ConfirmModal,{header:g.Z.Messages.VERIFICATION_EMAIL_TITLE,confirmText:g.Z.Messages.OKAY,confirmButtonColor:s.Button.Colors.BRAND,...e,children:(0,r.jsx)(s.Text,{variant:"text-md/normal",children:g.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:null===(t=h.default.getCurrentUser())||void 0===t?void 0:t.email})})})})),l()},className:m.primaryButton,children:T}):null,I||N||E?(0,r.jsx)(s.Button,{onClick:l,look:s.Button.Looks.BLANK,className:m.cancel,children:g.Z.Messages.NEVERMIND}):null]})]})]})}},289090:function(e,t,n){var i,l;n.d(t,{S:function(){return i}}),(l=i||(i={}))[l.PENDING_JOIN_REQUESTS_FOLDER=1]="PENDING_JOIN_REQUESTS_FOLDER"},901621:function(e,t,n){n.d(t,{Z:function(){return p}}),n(47120);var i=n(106351),l=n(442837),r=n(835473),a=n(592125),s=n(430824),o=n(496675),c=n(158776),u=n(979651),d=n(823379),h=n(981631);function p(e){let t=(0,l.e7)([s.Z],()=>s.Z.getGuild(e)),n=null==t?void 0:t.afkChannelId,p=(0,l.Wu)([u.Z,c.Z,a.Z,o.Z],()=>{let t=new Set,l=u.Z.getVoiceStates(e);for(let r in l){let s=a.Z.getBasicChannel(l[r].channelId);if(null!=s&&s.type!==i.d.GUILD_STAGE_VOICE&&n!==s.id&&!!o.Z.canBasicChannel(h.S7T.VIEW_CHANNEL,s))c.Z.getActivities(r,e).forEach(e=>{let n=e.application_id;if(e.type!==h.IIU.PLAYING||null==n)return[];t.add(n)})}return[...t]},[n,e]);return(0,r.Z)([...p]).filter(d.lm).length>0}},605951:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(470079),l=n(914010);function r(e){i.useLayoutEffect(()=>{let t=null;function n(){let n=l.Z.getGuildId();if(n!==t)t=null!=n?n:null,e(null!=n?n:null,!1)}return l.Z.addChangeListener(n),n(),()=>{l.Z.removeChangeListener(n)}},[e])}},278464:function(e,t,n){n.d(t,{n:function(){return a}});var i=n(266067),l=n(905423),r=n(981631);function a(){let e=(0,l.Z)(e=>e.guildId),{pathname:t}=(0,i.TH)(),n=t.startsWith(r.Z5c.GUILD_DISCOVERY),a=t.startsWith(r.Z5c.GUILD_MEMBER_VERIFICATION("")),s=t.startsWith(r.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(""));return null==e&&!(n||a||s)}},61634:function(e,t,n){n.d(t,{Z:function(){return R}}),n(47120);var i=n(470079),l=n(392711),r=n.n(l),a=n(106351),s=n(442837),o=n(846519),c=n(941028),u=n(867176),d=n(317381),h=n(554747),p=n(146085),_=n(427679),f=n(131704),g=n(199902),m=n(314897),C=n(592125),I=n(650774),E=n(430824),N=n(496675),x=n(944486),S=n(9156),Z=n(979651),v=n(709054),T=n(510601),L=n(901621),A=n(981631);let b=[];function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N.Z;return null!=e&&e.type!==a.d.GUILD_STAGE_VOICE&&t!==e.id&&n.canBasicChannel(A.S7T.VIEW_CHANNEL,e)}function R(e){var t;let n=(0,s.e7)([S.ZP],()=>S.ZP.isMuted(e)),l=(0,h.k5)(e);!function(e,t){let n=i.useRef(new Set),l=i.useRef(new o.V7),{shouldSubscribeToGuildMemberUpdates:a}=T.ZP.useExperiment({location:"useGuildMediaState"},{autoTrackExposure:!1}),u=(0,s.e7)([I.Z],()=>{let t=I.Z.getMemberCount(e);return null==t||t>1e3}),d=(0,s.cj)([Z.Z],()=>{if(!a||t||u)return b;let n=Object.keys(Z.Z.getVoiceStates(e));return 0===n.length?b:n.slice(0,50)},[e,t,u,a]);i.useEffect(()=>{!function(e,t,n,i,l){let a=r().random(1e3,1e4);i.start(a,()=>{let i=new Set(t),r=t.filter(e=>!n.has(e)),a=Array.from(n).filter(e=>!i.has(e));(0,c.w5)(e,a),(0,c.ym)(e,r),l()})}(e,d,n.current,l.current,()=>{n.current=new Set(d)})},[e,d]),i.useEffect(()=>()=>{l.current.stop(),(0,c.w5)(e,Array.from(n.current))},[e])}(e,n);let a=(0,L.Z)(e),A=(0,s.e7)([d.ZP],()=>d.ZP.getEmbeddedActivitiesForGuild(e)),R=(0,u.NX)(null===(t=A[0])||void 0===t?void 0:t.channelId,!1,"GuildMediaState"),{guildHasVoice:y,guildHasVideo:O,selectedVoiceChannelHasVideo:P}=(0,s.cj)([Z.Z,C.Z,N.Z,E.Z,x.Z],()=>{var t;let i=x.Z.getVoiceChannelId(),l=null===(t=E.Z.getGuild(e))||void 0===t?void 0:t.afkChannelId,r=Z.Z.getUsersWithVideo(e),a=Z.Z.getVoiceStates(e),s=(()=>{if(n)return!1;for(let e in a)if(M(C.Z.getBasicChannel(a[e].channelId),null!=l?l:void 0,N.Z))return!0;return!1})();return{guildHasVoice:s,guildHasVideo:(()=>{if(n)return!1;for(let e of r)if(M(C.Z.getBasicChannel(a[e].channelId),null!=l?l:void 0,N.Z))return!0;return!1})(),selectedVoiceChannelHasVideo:null!=i&&Z.Z.hasVideo(i)}},[e,n]),j=m.default.getId();return(0,s.cj)([x.Z,g.Z,_.Z,C.Z,N.Z,d.ZP],()=>{var t,i,r;let s=x.Z.getVoiceChannelId(),o=(null===(t=C.Z.getChannel(s))||void 0===t?void 0:t.guild_id)===e,c=!1,u=!1,h=!1,m=!1,I=!1,E=!1;if(!o&&n)return{audio:c,video:m,screenshare:I,liveStage:h,activeEvent:u,activity:E,gaming:a,isCurrentUserConnected:!1};let S=v.default.keys(_.Z.getStageInstancesByGuild(e)).some(e=>{let t=C.Z.getChannel(e);return null!=t&&N.Z.can(p.gl,t)}),Z=o&&null!==(r=null===(i=C.Z.getChannel(s))||void 0===i?void 0:i.isGuildStageVoice())&&void 0!==r&&r,T=!!o&&null!=g.Z.getActiveStreamForUser(j,e),L=g.Z.getAllApplicationStreams().some(t=>t.guildId===e),b=o&&P,M=(()=>{if(R)return A.length>0;for(let e of A){let t=C.Z.getChannel(e.channelId);if(null!=t&&(0,f.vd)(t.type))return!0}return!1})(),D=d.ZP.getEmbeddedActivitiesForGuild(e).length>0;return o?(c=!0,u=(null==l?void 0:l.channel_id)===s,h=Z,m=b,I=T,E=D):(c=y,u=null!=l,h=S,m=O,I=L,E=M),{audio:c,video:m,screenshare:I,liveStage:h,activeEvent:u,activity:E,gaming:a,isCurrentUserConnected:o||Z}},[j,A,a,l,e,R,n,O,y,P])}},234383:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(442837),l=n(937111),r=n(430824);function a(){return(0,i.Wu)([l.Z,r.Z],()=>{let e=l.Z.computeGuildIds(),t=r.Z.getGuilds();return e.filter(e=>null==t[e])})}},919436:function(e,t,n){n(411104),n(47120);var i,l=n(735250),r=n(470079),a=n(920906),s=n(91192),o=n(442837),c=n(481060),u=n(239091),d=n(358221),h=n(43267),p=n(933557),_=n(93687),f=n(266076),g=n(199902),m=n(19780),C=n(306680),I=n(944486),E=n(594174),N=n(451478),x=n(880080),S=n(682662),Z=n(662146),v=n(674552),T=n(981631),L=n(129061);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b={friction:28,tension:600};function M(e){switch(e){case"height":case"opacity":return{duration:150,...b};case"scale":return{...b};default:throw Error("DirectMessage: getSpringConfigs() - Invalid spring ".concat(String(e)))}}class R extends(i=r.PureComponent){componentWillEnter(e){let{controller:t}=this.state;e(),t.update({immediate:!N.Z.isFocused(),height:1,opacity:1,scale:1,config:M}).start().then(()=>this.setState({animating:!1}))}componentWillAppear(e){let{controller:t}=this.state;t.update({immediate:!0,scale:1,opacity:1,height:1,config:M}).start().then(e)}componentWillLeave(e){let{controller:t}=this.state;this.setState({animating:!0},()=>t.update({immediate:!N.Z.isFocused(),height:0,opacity:0,scale:0,config:M}).start().then(e))}componentWillUnmount(){this.state.controller.dispose()}getAnimatedStyle(){let{controller:e}=this.state,{opacity:t,height:n,scale:i}=e.springs;return{opacity:t,height:n.to([0,1],[0,56]),transform:i.to([0,1],[.5,1]).to(e=>"scale(".concat(e,")"))}}getChannelIcon(){let{channel:e}=this.props,t=e.type===T.d4z.DM?E.default.getUser(e.getRecipientId()):null;return null!=t?t.getAvatarURL(void 0,48,!1):(0,h.x)(e)}render(){let{channel:e,channelName:t,selected:n,badge:i,audio:r,video:o,stream:u,isCurrentUserInThisDMCall:d,unread:h,isGDMFacepileEnabled:p}=this.props,{hovered:_,animating:g}=this.state,m=e.isMultiUserDM()&&null==e.icon&&p;return(0,l.jsx)(a.animated.div,{style:this.getAnimatedStyle(),children:(0,l.jsxs)(S.H,{children:[(0,l.jsx)(x.Z,{hovered:!g&&_,selected:!g&&n,unread:!g&&h,className:L.pill}),(0,l.jsx)(Z.Z,{text:null!=t?t:"",selected:n,children:(0,l.jsx)(c.BlobMask,{selected:n||_,lowerBadge:i>0?(0,v.Ne)(i):null,upperBadge:(0,v.Or)({audio:r,video:o,screenshare:u,isCurrentUserConnected:d}),lowerBadgeSize:{width:(0,c.getBadgeWidthForValue)(i)},children:(0,l.jsx)(s.mh,{id:e.id,children:i=>(0,l.jsx)(c.NavItem,{to:T.Z5c.CHANNEL(T.ME,e.id),onMouseEnter:()=>this.setState({hovered:!0}),onMouseLeave:()=>this.setState({hovered:!1}),selected:n||_,ariaLabel:null!=t?t:"",onContextMenu:this.handleContextMenu,icon:m?void 0:this.getChannelIcon(),backgroundStyle:m?"on-hover":"always",children:m?(0,l.jsx)(f.Z,{channel:e,size:c.AvatarSizes.SIZE_48,facepileSizeOverride:c.AvatarSizes.SIZE_32,experimentLocation:"unread_gdm","aria-hidden":!0}):void 0,...i})})})})]})})}constructor(...e){super(...e),A(this,"state",{hovered:!1,animating:!0,controller:new a.Controller({scale:0,height:0,opacity:0,config:M})}),A(this,"handleContextMenu",e=>{let{channel:t}=this.props,i=t.type===T.d4z.DM?E.default.getUser(t.getRecipientId()):null;null!=i?(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("56826"),n.e("4562")]).then(n.bind(n,131404));return n=>(0,l.jsx)(e,{...n,channel:t,user:i})}):(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("25421")]).then(n.bind(n,354741));return n=>(0,l.jsx)(e,{...n,channel:t,selected:!1})})})}}A(R,"defaultProps",{badge:0,audio:!1,video:!1,isCurrentUserInThisDMCall:!1}),t.Z=r.forwardRef(function(e,t){let n=e.channel.id,i=(0,p.ZP)(e.channel),r=(0,o.e7)([m.Z],()=>m.Z.getChannelId(),[]),a=(0,o.e7)([d.Z],()=>null!=r?d.Z.getMode(r):T.WtW.VOICE,[r]),s=(0,o.e7)([g.Z],()=>g.Z.getAllApplicationStreamsForChannel(n).length>0),c=(0,o.e7)([I.Z],()=>I.Z.getChannelId(),[]),u=(0,o.e7)([C.ZP],()=>C.ZP.getMentionCount(n),[n]),{isFacepileEnabled:h}=_.Z.useExperiment({location:"unread_direct_message"},{autoTrackExposure:!1}),f=r===n,E=!1,N=!1;return f&&(E=a===T.WtW.VOICE,N=a===T.WtW.VIDEO),(0,l.jsx)(R,{...e,ref:t,channelName:i,unread:u>0,selected:c===n,badge:u,audio:E,video:N,stream:s,isCurrentUserInThisDMCall:f,isGDMFacepileEnabled:h})})},199540:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(920906),o=n(866442),c=n(442837),u=n(477690),d=n(481060),h=n(430824),p=n(346656),_=n(624138),f=n(674552),g=n(981631),m=n(689938),C=n(248699);let I=(0,_.Mg)(u.Z.FOLDER_ITEM_ANIMATION_DURATION),E=(0,_.Mg)(u.Z.FOLDER_ITEM_GUILD_ICON_SIZE);function N(e){let{guildId:t,animate:n}=e,l=(0,c.e7)([h.Z],()=>h.Z.getGuild(t),[t]);return null==l?(0,i.jsx)("div",{className:C.guildIconUnavailable,children:"!"}):(0,i.jsx)(p.Z,{guild:l,animate:n,size:p.Z.Sizes.SMOL,className:C.guildIcon,tabIndex:-1})}function x(e){let t,n,{folderNode:r,hovered:a,expanded:c}=e,{color:u,children:h}=r,p=null!=u?u:g.Wyy,_=h.map(e=>e.id),[f,m]=l.useState(!1),[x,S]=l.useState(c),Z=c?0:-E,v=(0,s.useSpring)({transform:"translate3d(0, ".concat(Z,"px, 0)"),config:{duration:I},onStart(){m(!0),S(c)},onRest(){m(!1),S(c)}}),T=f?v:void 0;return(f||x)&&(t=(0,i.jsx)(s.animated.div,{style:T,className:C.expandedFolderIconWrapper,children:(0,i.jsx)(d.FolderIcon,{size:"md",color:"currentColor",style:{color:(0,o.Rf)(p)}})})),(f||!x)&&(n=(0,i.jsx)(s.animated.div,{style:T,className:C.closedFolderIconWrapper,children:_.slice(0,4).map(e=>(0,i.jsx)(N,{guildId:e,animate:a},e))})),(0,i.jsxs)("div",{"aria-hidden":!0,style:c?void 0:{backgroundColor:(0,o.br)(p,.4)},className:C.folderIconWrapper,children:[t,n]})}function S(e){let{folderNode:t,forceCircular:n,expanded:r,sorting:s,mediaState:o,mentionCount:c=0,tooltipName:u,folderGroupId:h,folderIconContent:p,onClick:_,onContextMenu:g,onHoverChange:I,onKeyDown:E,treeItemProps:{onFocus:N,...S}}=e,[Z,v]=l.useState(!1),T=l.useCallback(()=>{s||v(!0),null==I||I(!0)},[s,I]),L=l.useCallback(()=>{s||v(!1),null==I||I(!1)},[s,I]),A=r||null==o?null:(0,f.Or)(o),b=!r&&c>0?(0,f.Ne)(c):null;return(0,i.jsx)(d.BlobMask,{selected:!n,upperBadge:A,lowerBadge:b,lowerBadgeSize:{width:(0,d.getBadgeWidthForValue)(c)},children:(0,i.jsx)(d.Clickable,{className:a()(C.folder,{[C.hover]:Z}),onClick:_,onContextMenu:g,onMouseEnter:T,onMouseLeave:L,onKeyDown:E,onFocus:N,"aria-label":m.Z.Messages.GUILD_FOLDER_TOOLTIP_A11Y_LABEL.format({folderName:u,mentions:c}),"aria-expanded":r,"aria-owns":h,focusProps:{enabled:!1},...S,role:"treeitem",children:null!=p?(0,i.jsx)("div",{className:C.expandedFolderIconWrapper,children:p}):(0,i.jsx)(x,{folderNode:t,hovered:Z,expanded:r})})})}},249792:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(920906),s=n(692547),o=n(481060),c=n(346656),u=n(252686),d=n(248699);function h(e){let{guild:t,show:n,active:l,onAnimationStart:h,onAnimationRest:p}=e,_={},f={};_.transform="translate3d(10px, 10px, 0) scale3d(3, 3, 1)",f.transform="translate3d(0, 0, 0) scale3d(1, 1, 1)";let g=(0,o.useToken)(s.Z.unsafe_rawColors.BRAND_500).hex(),m=(0,o.useToken)(s.Z.unsafe_rawColors.PRIMARY_630).hex();l&&null==t.icon&&(_.backgroundColor=g,f.backgroundColor=m);let C=(0,a.useTransition)(n,{from:_,enter:f,leave:_,config:{duration:100},onStart:h,onRest:p});return(0,i.jsx)(i.Fragment,{children:C((e,n,l)=>n&&(0,i.jsx)("div",{className:r()(d.folder,d.hover),children:(0,i.jsx)("div",{className:d.folderIconWrapper,children:(0,i.jsxs)("div",{className:d.closedFolderIconWrapper,children:[(0,i.jsx)(a.animated.div,{className:d.folderIconPreview,style:e,children:(0,i.jsx)(c.Z,{guild:t,size:c.Z.Sizes.SMOL,className:d.guildIcon})}),(0,i.jsx)(u.Z,{className:d.miniPlaceholder})]})})},l.key))})}},40153:function(e,t,n){n.d(t,{OG:function(){return x},Zu:function(){return N}}),n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(512722),o=n.n(s),c=n(290843),u=n(749210),d=n(626135),h=n(727258),p=n(662146),_=n(981631),f=n(689938),g=n(798314);function m(e){let t=l.useRef(null),n=e.map(e=>e[0]);return l.useLayoutEffect(()=>{let n=requestAnimationFrame(()=>{let n=t.current;if(null!=n)for(let[t,i]of e)t?n.classList.add(i):n.classList.remove(i)});return()=>cancelAnimationFrame(n)},n),t}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o()(t.type!==h.eD.ROOT,"[GuildDropTarget] Tried using a root node as a drop target."),{accept:e,canDrop:e=>e.nodeId!==t.id&&(!i||e.type!==h.eD.FOLDER||t.type!==h.eD.FOLDER)&&(e.type!==h.eD.FOLDER||null==t.parentId)&&!0,drop(e){let{nodeId:l}=e;i&&t.type!==h.eD.FOLDER&&d.default.track(_.rMx.GUILD_FOLDER_CREATED),u.Z.moveById(l,t.id,n,i)},collect:e=>({canDrop:e.canDrop(),isOver:e.isOver()})}}function I(e){let{name:t,targetNode:n,combine:r,below:s}=e,o=l.useMemo(()=>C([h.eD.GUILD,h.eD.FOLDER],n,s,r),[n,s,r]),[{canDrop:u,isOver:d},p]=(0,c.L)(o),_=m([[u,g.autoPointerEvents],[d,g.dragOver]]);return(0,i.jsx)("div",{ref:e=>{_.current=e,p(e)},"data-dnd-name":f.Z.Messages.DND_DROP_ABOVE.format({itemName:t}),className:a()(g.target)})}function E(e){let{name:t,targetNode:n,onDragOverChanged:r}=e,[{canDrop:s,isOver:o},u]=(0,c.L)(()=>C([h.eD.GUILD],n,!0,!0));l.useEffect(()=>{null==r||r(o)},[r,o]);let d=m([[s,g.autoPointerEvents],[o,g.dragOver]]);return(0,i.jsx)(p.Z,{text:t,shouldShow:o,forceOpen:o,disableWrapper:!0,tooltipClass:g.centerTargetTooltip,children:(0,i.jsx)("div",{ref:e=>{d.current=e,u(e)},"data-dnd-name":f.Z.Messages.DND_DROP_COMBINE.format({itemName:t}),className:a()(g.centerTarget,{})})})}function N(e){let{name:t,targetNode:n}=e,[{canDrop:l,isOver:r},s]=(0,c.L)(()=>C([h.eD.GUILD],n,!0,!0)),o=m([[r,g.wrapperOver]]),u=m([[r,g.dragOver],[l,g.autoPointerEvents]]);return(0,i.jsx)("div",{ref:o,className:a()(g.folderEndWrapper),"aria-hidden":!0,children:(0,i.jsx)("div",{className:g.folderTarget,children:(0,i.jsx)("div",{ref:e=>{u.current=e,s(e)},"aria-label":"At end of ".concat(t),className:a()(g.target)})})})}function x(e){let{children:t}=e,[,n]=(0,c.L)({accept:[]});return(0,i.jsx)("div",{ref:n,children:t})}t.ZP=l.memo(function(e){let{name:t,targetNode:n,noCombine:l=!1,below:r=!1,onDragOverChanged:a}=e,s=!l&&null==n.parentId;return(0,i.jsxs)("div",{className:g.wrapper,"aria-hidden":!0,children:[(0,i.jsx)(I,{name:t,targetNode:n,below:r}),s?(0,i.jsx)(E,{name:t,targetNode:n,onDragOverChanged:a}):null]})})},416568:function(e,t,n){n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(392711),o=n.n(s),c=n(699581),u=n(266067),d=n(91192),h=n(374470),p=n(442837),_=n(902704),f=n(846519),g=n(481060),m=n(925549),C=n(209613),I=n(100527),E=n(906732),N=n(358221),x=n(963202),S=n(353093),Z=n(706590),v=n(940777),T=n(41776),L=n(905423),A=n(802718),b=n(796974),M=n(271383),R=n(430824),y=n(771845),O=n(358085),P=n(709054),j=n(792125),D=n(727258),U=n(605951),G=n(474109),w=n(741616),k=n(187835),B=n(162050),V=n(118122),H=n(193154),F=n(602147),W=n(773182),Y=n(222059),z=n(751277),K=n(65721),q=n(843343),Q=n(654142),J=n(695301),X=n(836697),$=n(921230),ee=n(981631),et=n(689938),en=n(764945);function ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let el=56,er=(0,O.isWindows)()?4:(0,O.isMac)()?0:12,ea=el-16,es=er+10;class eo{setGuildsTree(e){this.guildsTree=e}constructor(e,t,n,i,r){ei(this,"guildsTree",void 0),ei(this,"setScrolling",void 0),ei(this,"onScroll",void 0),ei(this,"onScrollStateChanged",void 0),ei(this,"scrollToDiscovery",void 0),ei(this,"scrollerRef",void 0),ei(this,"guildDiscoveryRef",void 0),ei(this,"nodeRefs",void 0),ei(this,"timeout",void 0),ei(this,"isScrolling",void 0),ei(this,"isNearBottom",void 0),ei(this,"scrollToGuild",void 0),ei(this,"handleJumpToGuild",void 0),ei(this,"scrollTo",void 0),ei(this,"isItemVisible",void 0),ei(this,"handleScroll",void 0),ei(this,"_handleScrollDebounced",void 0),ei(this,"_handleScrollThrottled",void 0),ei(this,"setNodeRef",void 0),this.guildsTree=e,this.setScrolling=t,this.onScroll=n,this.onScrollStateChanged=i,this.scrollToDiscovery=r,this.scrollerRef=l.createRef(),this.guildDiscoveryRef=l.createRef(),this.nodeRefs={},this.timeout=new f.V7,this.isScrolling=!1,this.isNearBottom=!1,this.scrollToGuild=(e,t)=>{let n=this.scrollerRef.current;if(null==n)return;if(null==e&&window.location.pathname.startsWith(ee.Z5c.GUILD_DISCOVERY)||e===ee.x8Z.SERVER_DISCOVERY_BADGE||e===ee.x8Z.E3_SERVER_DISCOVERY_BADGE){if(this.scrollToDiscovery){let e=(0,c.findDOMNode)(this.guildDiscoveryRef.current);(0,h.k)(e,HTMLElement)?n.scrollIntoViewNode({node:e,animate:t,padding:8}):n.scrollTo({to:0,animate:t})}return}if(null==e){n.scrollTo({to:0,animate:t});return}let i=this.nodeRefs[e];for(;null==i;){let t=this.guildsTree.getNode(e);if((null==t?void 0:t.parentId)==null)break;i=this.nodeRefs[t.parentId]}null!=i&&(0,h.k)(i)?n.scrollIntoViewNode({node:i,animate:t,padding:8}):n.scrollTo({to:0,animate:t})},this.handleJumpToGuild=e=>{this.scrollToGuild(e,!0)},this.scrollTo=e=>{var t;null===(t=this.scrollerRef.current)||void 0===t||t.scrollTo(e)},this.isItemVisible=(e,t,n)=>{let i=this.scrollerRef.current;if(null==i)return!1;let l=n.findIndex(t=>"string"==typeof t||null==t?t===e:t.includes(e));if(l<0)return!1;let r=el*l+es;!t&&(r+=ea);let a=i.getScrollerState();return!t&&!!(r>=a.scrollTop)||!!t&&!!(r+el<=a.scrollTop+a.offsetHeight)||!1},this.handleScroll=()=>{!this.isScrolling&&this.setScrolling(!0),this.timeout.start(200,()=>this.setScrolling(!1)),this._handleScrollDebounced(),this._handleScrollThrottled()},this._handleScrollDebounced=o().debounce(()=>{let e=this.scrollerRef.current;if(null==e)return;let{scrollTop:t}=e.getScrollerState();m.Z.updateGuildListScrollTo(t),this.onScroll()},200),this._handleScrollThrottled=o().throttle(()=>{let e=this.scrollerRef.current;if(null==e)return;let{scrollTop:t,scrollHeight:n,offsetHeight:i}=e.getScrollerState(),l=t+i>=n-24;l!==this.isNearBottom&&(this.isNearBottom=l,this.onScrollStateChanged({isNearBottom:l}))},100),this.setNodeRef=(e,t)=>{this.nodeRefs[e]=t}}}function ec(e){let{disableAppDownload:t=O.isPlatformEmbedded,isOverlay:n=!1,className:r,themeOverride:s}=e,[o]=(0,p.Wu)([y.ZP],()=>{let e=y.ZP.getGuildsTree();return[e,e.version]}),c=(0,p.e7)([T.Z],()=>T.Z.lurkingGuildIds()),h=l.useMemo(()=>n?[]:c,[c,n]),_=(0,p.Wu)([R.Z,M.ZP],()=>P.default.keys(R.Z.getGuilds()).filter(e=>M.ZP.isCurrentUserGuest(e))),m=h.concat(_),C=(0,p.e7)([N.Z],()=>N.Z.isFullscreenInContext()),ei=(0,p.e7)([R.Z],()=>R.Z.getGeoRestrictedGuilds()),[el,er]=l.useState(!1),ea=l.useCallback(()=>er(!0),[]),es=l.useCallback(()=>er(!1),[]),ec=l.useRef(!1),[eu]=l.useState(()=>new f.V7),ed=l.useRef(null),eh=l.useRef(null),[ep,e_]=l.useState(!1),{guilds:ef,defaultGameId:eg}=(0,x.C3)({location:"guilds_bar",includeConverted:!0}),em=ef.length>0,eC=l.useMemo(()=>ef.filter(e=>!(0,S.EJ)(e)),[ef]).length>0,{clanDiscoveryEnabled:eI,defaultGameId:eE}=(0,x.nk)("guilds_bar"),eN=l.useMemo(()=>eC?W.OO:eI?W.KF:void 0,[eI,eC]),ex=l.useMemo(()=>eC?eg:eI?eE:void 0,[eg,eI,eC,eE]),eS=null!=eN,eZ=!eS,{ref:ev,...eT}=(0,d.OP)(),eL=(0,g.useFocusJumpSection)(),[eA,eb]=l.useState(!1),eM=l.useMemo(()=>new eo(o,eb,()=>{var e,t;null===(e=ed.current)||void 0===e||e.calculateState(),null===(t=eh.current)||void 0===t||t.calculateState()},e=>{let{isNearBottom:t}=e;e_(t)},eZ),[o,eZ]),{analyticsLocations:eR}=(0,E.ZP)(I.Z.GUILDS_LIST),{pathname:ey}=(0,u.TH)(),eO=ey.startsWith(ee.Z5c.GUILD_DISCOVERY),eP=ey.startsWith(ee.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(""));l.useLayoutEffect(()=>{if(!ec.current){if(0!==o.size){if(eO)eM.scrollToGuild(null,!1);else{let{scrollTop:e}=b.Z.getGuildListDimensions();eM.scrollTo({to:e,animate:!1})}return ec.current=!0,()=>eu.stop()}}},[]),l.useEffect(()=>{if(eM.setGuildsTree(o),ec.current||0===o.size)return;let e=L.Z.getState().guildId;eM.scrollToGuild(e,!1);let t=null;return L.Z.subscribe(e=>{let{guildId:n}=e;n!==t&&(t=n,eM.scrollToGuild(t,!1))})},[o,eM]);let ej=l.useCallback(()=>{eM.scrollTo({to:0,animate:!1})},[eM]);(0,U.Z)(eM.scrollToGuild);let eD=o.getRoots(),eU=(0,Z.Z)(),eG=(0,A.U)(),ew=ei.map(e=>(0,i.jsx)(H.Z,{id:e.id,name:e.name,icon:e.icon},e.id));return(0,i.jsx)(E.Gt,{value:eR,children:(0,i.jsx)("nav",{className:a()(en.wrapper,r,(0,j.Q)(s),{[en.hidden]:C}),"aria-label":et.Z.Messages.GUILDS_BAR_A11Y_LABEL,children:(0,i.jsxs)("ul",{ref:ev,...eT,...eL,role:"tree",className:en.tree,children:[(0,i.jsx)(G.Z,{ref:ed,isVisible:eM.isItemVisible,onJumpTo:eM.handleJumpToGuild,className:en.unreadMentionsIndicatorTop,barClassName:en.unreadMentionsBar}),(0,i.jsxs)(g.AdvancedScrollerNone,{className:a()({[en.scroller]:!0,[en.scrolling]:eA}),ref:eM.scrollerRef,onScroll:eM.handleScroll,children:[(0,i.jsx)(Y.u,{}),eU?(0,i.jsx)(v.Z,{}):null,(0,i.jsx)(B.Z,{}),(0,i.jsx)(z.Z,{isOnHubVerificationRoute:eP}),(0,i.jsx)(w.Z,{}),eG,m.map(e=>(0,i.jsx)($.Z,{guildId:e},e)),(0,i.jsx)(X.Z,{onActivate:ej}),(0,i.jsx)(K.Z,{}),(0,i.jsx)("div",{"aria-label":et.Z.Messages.SERVERS,children:eD.map(function e(t){switch(t.type){case D.eD.FOLDER:return(0,i.jsx)(Q.Z,{folderNode:t,setNodeRef:eM.setNodeRef,draggable:!0,sorting:el,onDragStart:ea,onDragEnd:es,renderChildNode:e},t.id);case D.eD.GUILD:return(0,i.jsx)(J.Z,{guildNode:t,setRef:eM.setNodeRef,draggable:!0,sorting:el,onDragStart:ea,onDragEnd:es},t.id);default:return null}})}),ew,n?null:(0,i.jsx)(V.Z,{disableTooltip:h.length>0,lastTargetNode:eD[eD.length-1]}),n||em||eI?null:(0,i.jsx)(F.Z,{ref:eM.guildDiscoveryRef,selected:eO}),(0,i.jsx)(q.Z,{}),t?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(K.Z,{}),(0,i.jsx)(k.Z,{})]})]}),n||null==eN||null==ex?!n&&em?(0,i.jsx)(W.LW,{hideGradient:ep,children:(0,i.jsx)(F.Z,{ref:eM.guildDiscoveryRef,selected:eO,className:en.fixedDiscoveryIcon})}):null:(0,i.jsx)(W.LW,{hideGradient:ep,children:(0,i.jsx)(eN,{defaultGameId:ex,children:e=>{let{onClick:t}=e;return(0,i.jsx)(F.Z,{ref:eM.guildDiscoveryRef,selected:eO,className:en.fixedDiscoveryIcon,onClick:t})}})}),(0,i.jsx)(G.Z,{reverse:!0,ref:eh,isVisible:eM.isItemVisible,onJumpTo:eM.handleJumpToGuild,className:a()(en.unreadMentionsIndicatorBottom,{[en.unreadMentionsFixedFooter]:!n&&eS}),barClassName:en.unreadMentionsBar})]})})})}t.Z=l.memo(function(e){let t=(0,C.Z)("guildsnav");return(0,i.jsx)(d.bG,{navigator:t,children:(0,i.jsx)(ec,{...e})})},(e,t)=>!1===t.isVisible||(0,_.Z)(e,t))},252686:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(806519),s=n(310865);function o(e){let{className:t}=e;return(0,i.jsx)(a.ZP,{mask:a.ZP.Masks.SQUIRCLE,className:r()(t,s.placeholderMask),width:48,height:48,style:{display:"block"},children:(0,i.jsx)("div",{className:s.dragInner})})}},474109:function(e,t,n){n(47120);var i=n(735250),l=n(470079),r=n(442837),a=n(664915),s=n(888369),o=n(358652),c=n(771845),u=n(613060),d=n(451478),h=n(816779),p=n(251625),_=n(981631),f=n(689938);let g="app-download-item",m="add-server-item";function C(){return!1}function I(e){var t;let n=s.default.getMutableGuildStates();return e===_.x8Z.SERVER_DISCOVERY_BADGE&&!u.Z.hasViewed(_.x8Z.SERVER_DISCOVERY_BADGE)||e!==g&&e!==m&&(null===(t=n[null!=e?e:"null"])||void 0===t?void 0:t.mentionCount)>0}let E=(0,p.oH)((e,t,n)=>["null",...t,...e,m,_.x8Z.E3_SERVER_DISCOVERY_BADGE,g]);t.Z=l.forwardRef(function(e,t){let n=(0,r.Wu)([c.ZP,o.Z,s.default],()=>E(c.ZP.getGuildFolders(),o.Z.getUnreadPrivateChannelIds(),s.default.getStoreChangeSentinel())),l=(0,r.e7)([d.Z],()=>d.Z.isFocused()),u=(0,r.e7)([a.Z],()=>a.Z.getExpandedFolders());return(0,i.jsx)(h.Z,{...e,ref:t,items:n,isUnread:C,textUnread:f.Z.Messages.NEW,textMention:f.Z.Messages.NEW,isMentioned:I,animate:l,expandedFolders:u})})},741616:function(e,t,n){n.d(t,{Z:function(){return h}}),n(733860);var i=n(735250),l=n(470079),r=n(442837),a=n(215569),s=n(762914),o=n(592125),c=n(358652),u=n(19780),d=n(919436);function h(){(0,r.e7)([o.Z],()=>o.Z.getPrivateChannelsVersion());let e=o.Z.getMutablePrivateChannels(),t=(0,r.Wu)([c.Z],()=>c.Z.getUnreadPrivateChannelIds()),{selectedVoiceGuildId:n,selectedVoiceChannelId:h}=(0,r.cj)([u.Z],()=>({selectedVoiceGuildId:u.Z.getGuildId(),selectedVoiceChannelId:u.Z.getChannelId()})),p=t.map(t=>{let n=e[t];return null==n||n.id===h||n.isBroadcastChannel()?null:(0,i.jsx)(d.Z,{channel:n},n.id)}),_=null==n&&null!=h?e[h]:null,f=(0,s.Dd)(null==_?void 0:_.id);return null!=_&&!f&&p.unshift((0,i.jsx)(d.Z,{channel:_},_.id)),(0,i.jsx)(a.W,{component:l.Fragment,children:p})}},187835:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var l=n(481060),r=n(603592),a=n(689938);let s="DOWNLOAD_APPS";function o(){let e=(0,l.useModalsStore)(e=>(0,l.hasModalOpenSelector)(e,s));return(0,i.jsx)(r.Z,{id:"app-download-button",onClick:()=>{(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,431583));return t=>(0,i.jsx)(e,{source:"Guilds",...t})},{modalKey:s})},selected:e,tooltip:a.Z.Messages.DOWNLOAD_APPS,icon:l.DownloadIcon})}},162050:function(e,t,n){n.d(t,{Z:function(){return C}}),n(47120);var i=n(735250);n(470079);var l=n(442837),r=n(481060),a=n(287734),s=n(770471),o=n(592125),c=n(306680),u=n(944486),d=n(594174),h=n(153124),p=n(436088),_=n(51144),f=n(603592),g=n(674552),m=n(689938);function C(){var e;let t=(0,h.Dt)(),[n,C]=(0,l.Wu)([u.Z,o.Z],()=>[o.Z.getChannel(u.Z.getVoiceChannelId()),u.Z.getCurrentlySelectedChannelId(null)]),I=(0,l.e7)([c.ZP],()=>null!=n?c.ZP.getMentionCount(n.id):0),E=(0,l.e7)([d.default],()=>d.default.getUser(null==n?void 0:n.ownerId)),N=null!==(e=_.ZP.getGlobalName(E))&&void 0!==e?e:_.ZP.getUserTag(E),{canViewBroadcasts:x}=s.Z.useExperiment({location:"broadcast_button_guilds_bar_no_track"},{autoTrackExposure:!1}),S=null==n?void 0:n.isBroadcastChannel(),Z=S&&C===(null==n?void 0:n.id);return S&&x?(0,i.jsx)(f.Z,{id:t,onClick:()=>{S&&null!=n&&a.default.selectPrivateChannel(n.id)},icon:p.Z,tooltip:null!=N?m.Z.Messages.BROADCASTING_CHANNEL_NAME.format({name:N}):void 0,selected:Z,upperBadge:(0,i.jsx)(r.Avatar,{size:r.AvatarSizes.SIZE_16,src:null==E?void 0:E.getAvatarURL(null,16),"aria-label":N}),lowerBadge:I>0?(0,g.Ne)(I):null}):null}},603592:function(e,t,n){n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(91192),o=n(481060),c=n(880080),u=n(682662),d=n(662146),h=n(516856);let p=l.forwardRef(function(e,t){let{id:n,onClick:r,onContextMenu:p,icon:_,selected:f,tooltip:g,upperBadge:m,lowerBadge:C,lowerBadgeSize:I,showPill:E=!0,className:N,"aria-label":x,children:S,onMouseEnter:Z,onMouseLeave:v,onMouseDown:T}=e,L=(0,s.Ie)(n),[A,b]=l.useState(!1),M="string"==typeof g&&null==x?g:x;return(0,i.jsxs)(u.H,{children:[E?(0,i.jsx)("div",{className:h.pill,children:(0,i.jsx)(c.Z,{hovered:A,selected:f})}):null,(0,i.jsx)(d.Z,{text:g,selected:f,children:(0,i.jsx)(o.BlobMask,{className:h.__invalid_circleButtonMask,selected:f||A,upperBadge:m,lowerBadge:C,lowerBadgeSize:I,children:(0,i.jsx)(o.Clickable,{innerRef:t,onMouseEnter:()=>{null==Z||Z(),b(!0)},onMouseLeave:()=>{null==v||v(),b(!1)},onMouseDown:T,className:a()(h.circleIconButton,N,{[h.selected]:f||A}),onClick:r,"aria-label":M,onContextMenu:p,focusProps:{enabled:!1},...L,children:null!=_&&(0,i.jsx)(_,{className:h.circleIcon,color:"currentColor"})})})}),S]})});t.Z=p},118122:function(e,t,n){n.d(t,{Z:function(){return S}});var i=n(735250),l=n(470079),r=n(442837),a=n(481060),s=n(239091),o=n(906732),c=n(560067),u=n(451603),d=n(885714),h=n(155409),p=n(430824),_=n(594174),f=n(40153),g=n(603592),m=n(981631),C=n(675999),I=n(689938),E=n(810817);let N={origin:{x:-16,y:0},targetWidth:48,targetHeight:48,offset:{x:0,y:0}};function x(e){(0,s.jW)(e,async()=>{let{default:e}=await n.e("9606").then(n.bind(n,987578));return t=>(0,i.jsx)(e,{...t})})}function S(e){let{disableTooltip:t,lastTargetNode:n}=e,s=(0,r.e7)([p.Z],()=>p.Z.getGuilds()),S=l.useMemo(()=>Object.values(s),[s]),Z=(0,r.e7)([_.default],()=>_.default.getCurrentUser()),v=l.useMemo(()=>S.some(e=>e.isOwner(Z)),[S,Z]),T=(0,a.useModalsStore)(e=>(0,a.hasModalOpenSelector)(e,C.PU)),{analyticsLocations:L}=(0,o.ZP)(),A=(0,a.useRedesignIconContext)().enabled,b=(0,i.jsx)(g.Z,{showPill:!1,id:"create-join-button",onClick:()=>{(0,u.yU)()?(0,d.Z)({analyticsSource:{page:m.Sbl.CREATE_JOIN_GUILD_MODAL},analyticsLocation:{page:m.Sbl.CREATE_JOIN_GUILD_MODAL,section:m.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:L}):c.Z.openCreateGuildModal({location:"Guild List"})},selected:T,onContextMenu:x,tooltip:I.Z.Messages.ADD_A_SERVER,icon:A?a.PlusMediumIcon:a.PlusSmallIcon});return t?b:(0,i.jsx)("div",{className:E.tutorialContainer,children:(0,i.jsxs)(h.Z,{tutorialId:v?"create-more-servers":"create-first-server",inlineSpecs:N,position:"right",children:[b,null!=n&&(0,i.jsx)(f.ZP,{name:I.Z.Messages.DND_END_OF_LIST,targetNode:n,below:!0,noCombine:!0})]})})}},179809:function(e,t,n){n.d(t,{Z:function(){return L}}),n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(225857),o=n(920906),c=n(91192),u=n(477690),d=n(153867),h=n(771845),p=n(880080),_=n(624138),f=n(727258),g=n(199540),m=n(40153),C=n(252686),I=n(682662),E=n(662146),N=n(689938),x=n(248699),S=n(784490);let Z=(0,_.Mg)(u.Z.FOLDER_ITEM_ANIMATION_DURATION),v=(0,_.Mg)(u.Z.FOLDER_ITEM_GUILD_ICON_SIZE),T=(0,_.Mg)(u.Z.FOLDER_ITEM_GUILD_ICON_MARGIN);function L(e){let{folderNode:t,setNodeRef:n,selected:r,expanded:u,mediaState:_,mentionCount:L=0,unread:A=!1,defaultFolderName:b,useCircleMask:M=!1,draggable:R=!1,sorting:y=!1,onDragStart:O,onDragEnd:P,onExpandCollapse:j,onContextMenu:D,renderChildNode:U,folderIconContent:G}=e,{id:w,name:k,children:B}=t,[V,H]=l.useState(!1),[F,W]=l.useState(!1),Y=V||F;l.useEffect(()=>{y&&H(!1)},[y]);let[{dragging:z},K]=(0,s.c)({type:f.eD.FOLDER,item:()=>(null==O||O(),{type:f.eD.FOLDER,nodeId:t.id}),end(){null==P||P(),(0,d.V1)(h.ZP.getCompatibleGuildFolders())},collect:e=>({dragging:e.isDragging()})}),q=l.useCallback(e=>{W(e)},[]),Q=l.useCallback(e=>{("ArrowRight"===e.key&&!u||"ArrowLeft"===e.key&&u)&&j()},[j,u]),J=null!=k&&""!==k?k:null!=b&&""!==b?b:N.Z.Messages.SERVER_FOLDER_PLACEHOLDER,X=(0,c.Ie)("".concat(w)),$="folder-items-".concat(w),ee=B.length*(v+T),et=(0,o.useTransition)(!z&&u,{from:{height:0},enter:{height:1},leave:{height:0},config:{duration:Z}}),en=l.useCallback(e=>null==n?void 0:n(w,e),[n,w]),ei=(0,i.jsxs)(I.H,{children:[(0,i.jsx)(p.Z,{disabled:z||u,hovered:V,selected:r,unread:A,className:S.pill}),(0,i.jsx)(E.Z,{text:J,disabled:y,selected:r,disableWrapper:!0,children:(0,i.jsx)("div",{ref:R?K:void 0,className:a()({[S.wobble]:!z&&F&&!u}),"data-dnd-name":J,children:z?(0,i.jsx)(C.Z,{}):(0,i.jsx)(g.Z,{folderNode:t,expanded:u,forceCircular:M,sorting:y,mediaState:_,mentionCount:L,tooltipName:J,folderGroupId:$,onClick:j,onContextMenu:D,onHoverChange:H,onKeyDown:Q,treeItemProps:X,folderIconContent:G})})}),R?(0,i.jsx)(m.ZP,{name:J,targetNode:t,onDragOverChanged:q}):null]});return(0,i.jsxs)("div",{ref:en,className:x.wrapper,children:[!z&&(0,i.jsx)("span",{className:a()(x.expandedFolderBackground,{[x.collapsed]:!u,[x.hover]:Y})}),ei,et((e,t,n)=>{let{key:l}=n;return t&&(0,i.jsx)(o.animated.ul,{id:$,style:{height:e.height.to(e=>e*ee)},className:x.__invalid_expandedGuilds,role:"group",children:B.map(U)},l)}),R&&u?(0,i.jsx)(m.Zu,{name:J,targetNode:t}):null]})}},193154:function(e,t,n){n.d(t,{Z:function(){return d}}),n(47120);var i=n(735250),l=n(470079),r=n(481060),a=n(460562),s=n(768581),o=n(682662),c=n(662146),u=n(459458);function d(e){let[t,d]=l.useState(!1);return(0,i.jsx)(o.H,{children:(0,i.jsx)(c.Z,{text:e.name,children:(0,i.jsx)(r.BlobMask,{className:u.circleIconButton,selected:t,lowerBadge:(0,i.jsx)(r.IconBadge,{icon:(0,r.makeIconCompat)(a.Z),disableColor:!0,className:u.geoRestrictedBadge}),children:(0,i.jsx)(r.NavItem,{name:e.name,onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},onClick:()=>{(0,r.openModalLazy)(async()=>{let{default:t}=await n.e("42358").then(n.bind(n,210995));return n=>(0,i.jsx)(t,{name:e.name,guildId:e.id,...n})})},icon:null!=e.icon?s.ZP.getGuildIconURL({id:e.id,icon:e.icon,canAnimate:!1,size:42}):null})})})})}},602147:function(e,t,n){n.d(t,{o:function(){return m}});var i=n(735250),l=n(470079),r=n(704215),a=n(481060),s=n(212093),o=n(963202),c=n(605236),u=n(703656),d=n(683301),h=n(603592),p=n(981631),_=n(731455),f=n(689938),g=n(356131);function m(){let e=window.location.pathname.startsWith(p.Z5c.GUILD_DISCOVERY),t=d.ZP.getCurrentCategoryId()===_.Gj.Clans;e&&!t&&((0,s.AQ)(),(0,s.uY)(_.Hk,!0));let n=(0,u.s1)().location.search;(0,u.uL)(p.Z5c.GUILD_DISCOVERY,{search:n})}let C=l.forwardRef(function(e,t){let{selected:n,tooltip:l,className:s,onClick:u}=e,{clanDiscoveryEnabled:d}=(0,o.nk)("guild_discovery"),p=(0,c.wE)(r.z.NEW_GAMING_DISCOVERY_NOTIF),_={lowerBadgeSize:{width:12,height:12}};return d&&!p&&(_.lowerBadge=(0,i.jsx)("div",{className:g.guildNotif})),(0,i.jsx)(h.Z,{id:"guild-discover-button",ref:t,className:s,onClick:null!=u?u:m,selected:n,tooltip:null!=l?l:f.Z.Messages.GUILD_DISCOVERY_TOOLTIP,icon:a.CompassIcon,..._})});t.Z=C},773182:function(e,t,n){n.d(t,{KF:function(){return L},LW:function(){return M},OO:function(){return A},TH:function(){return b}}),n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(266067),o=n(442837),c=n(704215),u=n(481060),d=n(350810),h=n(110924),p=n(100527),_=n(970606),f=n(963202),g=n(824991),m=n(243778),C=n(863249),I=n(937111),E=n(602147),N=n(981631),x=n(308083),S=n(921944),Z=n(689938),v=n(210606);function T(e){let{title:t,message:n,dismissibleContent:r,defaultGameId:a,onPopoutVisible:o,onClick:c,children:h,isEligibleForUpsell:p=!0,withInviteIcon:_=!0}=e,f=(0,s.TH)(),[C,I]=(0,m.U)([r],S.R.SIDEBAR),Z=C!==r,T=(0,d.Z)(),L=p&&!T&&!Z&&f.pathname!==N.Z5c.GUILD_DISCOVERY;l.useEffect(()=>{L&&o()},[L,o]);let A=l.useMemo(()=>{switch(a){case x.nJ:return v.valorantBackgroundImage;case x.xn:return v.genshinBackgroundImage;default:return}},[a]),b=l.useCallback(()=>{I(S.L.TAKE_ACTION),c(),(0,E.o)()},[I,c]),M=l.useCallback(e=>{e(),I(S.L.USER_DISMISS)},[I]);return(0,i.jsxs)("div",{className:v.container,children:[(0,i.jsx)(u.Popout,{shouldShow:L,renderPopout:e=>{let{closePopout:l}=e;return(0,i.jsxs)("div",{className:v.popoutContainer,children:[(0,i.jsx)("div",{className:A}),(0,i.jsx)(u.Clickable,{onClick:()=>M(l),className:v.close,children:(0,i.jsx)(u.CloseSmallIcon,{size:"xs",color:u.tokens.colors.WHITE})}),(0,i.jsxs)("div",{className:v.popoutContent,children:[_&&(0,i.jsx)(g.YV,{}),(0,i.jsx)(g.aF,{title:t}),(0,i.jsx)(g.To,{message:n}),(0,i.jsx)(g.Xu,{onClick:b})]}),(0,i.jsx)("div",{className:v.popoutCaret})]})},position:"top",animationPosition:"top",align:"left",spacing:16,children:e=>(0,i.jsx)("div",{...e,className:v.popoutAnchor})}),h({onClick:b})]})}function L(e){let{defaultGameId:t,children:n}=e,r=l.useCallback(()=>{(0,_.tv)({location:p.Z.GUILDS_LIST})},[]),a=l.useCallback(()=>{(0,_.GS)({location:p.Z.GUILDS_LIST})},[]),[s,o]=l.useMemo(()=>{switch(t){case x.xn:return[Z.Z.Messages.CLAN_GUILD_LIST_USER_UPSELL_GENSHIN_TITLE,Z.Z.Messages.CLAN_GUILD_LIST_USER_UPSELL_GENSHIN_MESSAGE];case x.nJ:return[Z.Z.Messages.CLAN_GUILD_LIST_USER_UPSELL_VALORANT_TITLE,Z.Z.Messages.CLAN_GUILD_LIST_USER_UPSELL_VALORANT_MESSAGE];default:return[void 0,void 0]}},[t]);return(0,i.jsx)(T,{title:s,message:o,dismissibleContent:c.z.GUILD_LIST_CLAN_USER_UPSELL,defaultGameId:t,onClick:a,onPopoutVisible:r,withInviteIcon:!1,children:n})}function A(e){let{defaultGameId:t,children:n}=e,{guilds:r}=(0,f.C3)({location:"GuildsBarClanAdminUpsellPopout",includeConverted:!1}),a=r.length>0,s=l.useCallback(()=>{(0,_.TE)({location:p.Z.GUILDS_LIST})},[]),o=l.useCallback(()=>{(0,_._9)({location:p.Z.GUILDS_LIST})},[]),[u,d]=l.useMemo(()=>{switch(t){case x.xn:return[Z.Z.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_GENSHIN_TITLE,Z.Z.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_MESSAGE];case x.nJ:return[Z.Z.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_VALORANT_TITLE,Z.Z.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_MESSAGE];default:return[void 0,void 0]}},[t]);return(0,i.jsx)(T,{title:u,message:d,dismissibleContent:c.z.GUILD_LIST_CLAN_ADMIN_UPSELL,defaultGameId:t,onClick:o,isEligibleForUpsell:a,onPopoutVisible:s,children:n})}function b(e){let{onActivate:t,children:n}=e,r=(0,o.e7)([I.Z],()=>I.Z.hasJoinRequestCoackmark()),a=l.useCallback(()=>{C.Z.clearCoachmark()},[]),s=(0,h.Z)(r),c=l.useRef(null);return l.useEffect(()=>{if(r&&r!==s){var e,n,i,l,a;t(),null===(a=c.current)||void 0===a||null===(l=a.ref)||void 0===l||null===(i=l.current)||void 0===i||null===(n=i.layerRef)||void 0===n||null===(e=n.current)||void 0===e||e.updatePosition()}},[c,r,s,t]),(0,i.jsxs)("div",{className:v.container,children:[(0,i.jsx)(u.Popout,{ref:c,shouldShow:r,renderPopout:()=>(0,i.jsxs)("div",{className:v.popoutContainer,children:[(0,i.jsxs)("div",{className:v.popoutContent,children:[(0,i.jsxs)("div",{className:v.coachmarkTextContainer,children:[(0,i.jsx)(u.Heading,{variant:"heading-md/medium",children:Z.Z.Messages.CLAN_USER_APPLICATION_COACHMARK_TITLE}),(0,i.jsx)(u.Text,{variant:"text-xs/normal",color:"text-muted",children:Z.Z.Messages.CLAN_USER_APPLICATION_COACHMARK_BODY})]}),(0,i.jsx)(u.Button,{fullWidth:!0,size:u.ButtonSizes.SMALL,color:u.ButtonColors.BRAND,onClick:a,children:Z.Z.Messages.CLAN_USER_APPLICATION_COACHMARK_CTA})]}),(0,i.jsx)("div",{className:v.popoutCaretLeft})]}),position:"right",animationPosition:"right",align:"top",spacing:16,children:e=>(0,i.jsx)("div",{...e,className:v.popoutAnchor})}),n]})}function M(e){let{hideGradient:t,children:n}=e;return(0,i.jsxs)("div",{className:v.footer,children:[(0,i.jsx)("div",{className:a()(v.gradient,{[v.gradientHidden]:t})}),n]})}},325257:function(e,t,n){n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(225857),o=n(91192),c=n(399606),u=n(846519),d=n(481060),h=n(493683),p=n(239091),_=n(153867),f=n(35225),g=n(703656),m=n(769654),C=n(271383),I=n(771845),E=n(880080),N=n(727258),x=n(249792),S=n(40153),Z=n(593618),v=n(252686),T=n(682662),L=n(674552),A=n(981631),b=n(689938),M=n(784490);let R={analyticsSource:{page:A.ZY5.GUILD_CHANNEL,section:A.jXE.CHANNEL_LIST,object:A.qAy.CHANNEL}};function y(e,t){(0,p.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("96427"),n.e("33053"),n.e("50654"),n.e("7654"),n.e("41662"),n.e("44156"),n.e("33009"),n.e("85552"),n.e("58227"),n.e("75291"),n.e("24420"),n.e("33213"),n.e("96479")]).then(n.bind(n,545135));return n=>(0,i.jsx)(e,{...n,guild:t})})}t.Z=l.memo(function(e){var t,n,r,p,O;let{guildNode:P,setRef:j,onDragStart:D,onDragEnd:U,route:G,guild:w,animatable:k,selected:B=!1,unread:V=!1,mediaState:H,unavailable:F=!1,badge:W=0,contextMenu:Y=y,draggable:z=!1,sorting:K=!1,preloadOnClick:q=!0,guildJoinRequestStatus:Q}=e,{id:J,parentId:X}=P,$=null!==(t=e.upperBadge)&&void 0!==t?t:F?(0,L.Ny)():null!=H?(0,L.Or)(H):void 0,ee=null!==(n=e.lowerBadge)&&void 0!==n?n:void 0;null==ee&&W>0?ee=null!==(r=(0,L.Ne)(W))&&void 0!==r?r:void 0:null==ee&&null!=Q&&(ee=null!==(p=(0,L.jt)({guildJoinRequestStatus:Q}))&&void 0!==p?p:void 0);let et=null!==(O=e.lowerBadgeSize)&&void 0!==O?O:{width:(0,d.getBadgeWidthForValue)(W)},[{dragging:en},ei]=(0,s.c)({type:N.eD.GUILD,item:()=>(requestAnimationFrame(()=>{null==D||D()}),{type:P.type,nodeId:P.id}),end(){null==U||U(),(0,_.V1)(I.ZP.getCompatibleGuildFolders())},collect:e=>({dragging:e.isDragging()})}),el=(0,o.Ie)(null!=J?J:A.lds),[er,ea]=l.useState(!1),es=!K&&er,[eo,ec]=l.useState(!1),[eu,ed]=l.useState(!1),[eh]=l.useState(()=>new u.sW(70,()=>ed(!0)));l.useEffect(()=>()=>eh.cancel(),[eh]);let ep=l.useCallback(()=>{if(null!=G){(0,g.uL)(G,{state:R});return}(0,m.X)(J,{state:R})},[J,G]),e_=l.useCallback(()=>{if(null!=G||null==w||F||!q)return;let e=(0,f.V)(w.id);if(null!=e)h.Z.preload(w.id,e)},[G,w,F,q]),ef=(0,c.e7)([C.ZP],()=>C.ZP.isCurrentUserGuest(J)),eg=l.useCallback(e=>{null!=w&&!ef&&Y(e,w)},[w,Y,ef]),em=l.useCallback(e=>{if("ArrowLeft"===e.key&&null!=X){var t;null===(t=document.querySelector("[aria-owns=folder-items-".concat(X,"]")))||void 0===t||t.focus()}},[X]),eC=l.useCallback(e=>{if(e){eh.delay();return}eh.cancel(),ed(!1)},[eh]),eI=l.useCallback(e=>{null==j||j(J,e)},[J,j]);if(null==w)return null;let eE=eu||eo?(0,i.jsx)(x.Z,{guild:w,show:eu,active:B,onAnimationStart:function(){ec(eu)},onAnimationRest:function(){eu||ec(!1)}}):(0,i.jsx)(d.NavItem,{ariaLabel:b.Z.Messages.GUILD_TOOLTIP_A11Y_LABEL.format({guildName:w.toString(),mentions:W}),name:w.toString(),onClick:ep,onMouseEnter:function(){K||ea(!0)},onMouseLeave:function(){K||ea(!1)},onMouseDown:e_,onContextMenu:eg,onKeyDown:em,icon:w.getIconURL(96,es&&k),selected:B||es,...el,role:"treeitem"}),eN=en?(0,i.jsx)(S.OG,{children:(0,i.jsx)(v.Z,{})}):(0,i.jsx)("div",{ref:z?ei:void 0,"data-dnd-name":w.toString(),className:a()(M.blobContainer,{[M.sorting]:K,[M.wobble]:eu,[M.selected]:eu||B}),children:(0,i.jsx)(d.BlobMask,{selected:eu||B||es,upperBadge:$,lowerBadge:ee,lowerBadgeSize:et,children:eE})});return(0,i.jsxs)(T.H,{ref:eI,children:[(0,i.jsx)(E.Z,{hovered:!en&&es,selected:!en&&B,unread:!en&&V,className:M.pill}),(0,i.jsx)(Z.Z,{guild:w,disabled:K,isDragging:en,children:eN}),z?(0,i.jsx)(S.ZP,{name:w.name,targetNode:P,onDragOverChanged:eC}):null]})})},222059:function(e,t,n){n.d(t,{u:function(){return H}}),n(47120);var i=n(735250),l=n(470079),r=n(91192),a=n(442837),s=n(433517),o=n(481060),c=n(339149),u=n(327943),d=n(864682),h=n(67212),p=n(770471),_=n(292584),f=n(835865),g=n(456541),m=n(143614),C=n(544803),I=n(899740),E=n(155409),N=n(699516),x=n(944486),S=n(594174),Z=n(295226),v=n(774343),T=n(417363),L=n(941128),A=n(436088),b=n(880080),M=n(780570),R=n(557177),y=n(278464),O=n(682662),P=n(662146),j=n(674552),D=n(981631),U=n(474936),G=n(871465),w=n(689938),k=n(496540);let B={origin:{x:-16,y:0},targetWidth:48,targetHeight:48,offset:{x:0,y:0}};function V(e){let{selected:t,user:n,badge:h,link:_,showProgressBadge:f}=e,I=(0,a.e7)([u.Z],()=>u.Z.isEditorOpen),[N,x]=l.useState(!1),[S,Z]=l.useState(!1),[v,T]=l.useState(null),[L,M]=l.useState(0),[y,U]=l.useState(!1),{canViewBroadcasts:V}=p.Z.useExperiment({location:"home_button_no_track"},{autoTrackExposure:!1}),H=(0,m.Z)(),F=H.length>0&&V;(0,g.P)();let W=(0,r.Ie)("home"),Y=()=>{T(null),M(0),clearTimeout(v)};if(null==n)return null;let z=w.Z.Messages.DIRECT_MESSAGES;S&&(z=s.K.get(D.wli)?w.Z.Messages.DISCODO_ENABLED:w.Z.Messages.DISCODO_DISABLED),H.length>0&&p.Z.trackExposure({location:"home_button"});let K=null;!t&&f?K=(0,i.jsx)(c.Z,{className:k.downloadProgress,determineOwnVisibility:!1}):F&&(K=(0,i.jsx)(A.Z,{className:k.broadcastBadge}));let q=t||N||I,Q=(0,i.jsx)(o.BlobMask,{highlight:F,selected:q,lowerBadge:h>0?(0,j.Ne)(h):null,upperBadge:K,lowerBadgeSize:{width:(0,o.getBadgeWidthForValue)(h)},children:(0,i.jsx)(o.NavItem,{onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onClick:()=>{if(!__OVERLAY__&&(null!=v&&clearTimeout(v),T(setTimeout(Y,500)),M(L+1),15===L)){Y();let e=!s.K.get(D.wli);s.K.set(D.wli,e),e&&s.K.set(G.O5,!0),e?(0,R.GN)("discodo"):(0,R.GN)("user_leave"),Z(!0),setTimeout(()=>{Z(!1)},1e3)}},selected:q,ariaLabel:w.Z.Messages.DIRECT_MESSAGES,...W,to:{pathname:_,state:{analyticsSource:{page:D.ZY5.GUILD_CHANNEL,section:D.jXE.NAVIGATION,object:D.qAy.BUTTON_HOME}}},children:(0,i.jsx)(d.Z,{})})}),J=F?(0,i.jsx)(o.Popout,{position:"right",renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(C.Z,{closePopout:t})},onRequestClose:()=>{U(!1)},spacing:8,shouldShow:y,children:()=>Q}):null;return(0,i.jsx)("div",{className:k.tutorialContainer,onMouseEnter:()=>{U(!0)},onMouseLeave:()=>{setTimeout(()=>{U(!1)},250)},children:(0,i.jsx)(E.Z,{inlineSpecs:B,tutorialId:"friends-list",position:"right",children:(0,i.jsxs)(O.H,{children:[(0,i.jsx)(b.Z,{selected:t,hovered:N,className:k.pill}),null!=J?J:(0,i.jsx)(P.Z,{color:o.Tooltip.Colors.PRIMARY,hideOnClick:!0,text:z,selected:t,children:Q})]})})})}function H(){let e=(0,y.n)(),t=(0,a.e7)([L.Z,T.Z],()=>{let e=(0,c.E)(L.Z.activeItems,T.Z),{total:t,progress:n}=M.lK(e),i=M.xI(n,t);return i>0&&i<100}),n=(0,a.e7)([_.Z],()=>_.Z.getUserIdsToValidate()),r=(0,a.e7)([N.Z],()=>N.Z.getPendingCount()),s=Object.keys(U.nG),{unviewedTrialCount:o,unviewedDiscountCount:u}=(0,a.cj)([Z.Z],()=>({unviewedTrialCount:Z.Z.getUnacknowledgedOffers(s).length,unviewedDiscountCount:Z.Z.getUnacknowledgedDiscountOffers().length})),d=o+u,p=(0,a.e7)([S.default],()=>S.default.getCurrentUser()),g=(0,I.T)(),m=r+d+g,C=m===d&&d>0&&r+g===0;l.useEffect(()=>{n.length>0&&(0,h.E7)()},[n]),(0,f.Z)();let E=v.Z.getHomeLink();return C&&(E=D.Z5c.APPLICATION_STORE),(0,i.jsx)(V,{selected:e,user:p,selectedChannelId:x.Z.getChannelId(D.ME),badge:m,link:E,showProgressBadge:t})}},751277:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(735250);n(470079);var l=n(266067),r=n(442837),a=n(481060),s=n(601964),o=n(701190),c=n(836040),u=n(603592),d=n(981631),h=n(689938);function p(e){var t;let{isOnHubVerificationRoute:n}=e,p=(0,l.LX)(null!==(t=window.location.pathname)&&void 0!==t?t:"",{path:d.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode")}),_=(0,r.e7)([o.Z],()=>{if(null==p)return null;let{inviteCode:e}=p.params;return null!=e?o.Z.getInvite(e):null}),f=(null==_?void 0:_.guild)!=null?new s.ZP(null==_?void 0:_.guild):null;return n?null!=f&&null!=_?(0,i.jsx)(c.Z,{guild:f,invite:_}):(0,i.jsx)(u.Z,{tooltip:h.Z.Messages.HUB_DISCORD_HUBS,id:"guild-hub-button",icon:a.HubIcon}):null}},682662:function(e,t,n){n.d(t,{H:function(){return a}});var i=n(735250),l=n(470079),r=n(810817);let a=l.forwardRef((e,t)=>{let{children:n}=e;return(0,i.jsx)("div",{className:r.listItem,ref:t,children:n})});a.displayName="ListItem"},662146:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(481060),o=n(170552);function c(e){let{children:t,text:n,color:r,disableWrapper:c=!1,disabled:u=!1,hideOnClick:d=!0,shouldShow:h,forceOpen:p,selected:_=!1,tooltipClass:f,tooltipContentClass:g}=e;return(0,i.jsx)(s.Tooltip,{shouldShow:h,forceOpen:p,spacing:20,hideOnClick:d,text:u?null:n,position:"right",color:r,"aria-label":!1,tooltipClassName:a()(o.listItemTooltip,f),tooltipContentClassName:g,children:e=>c?l.cloneElement(l.Children.only(t),{...e}):(0,i.jsx)("div",{className:a()(o.listItemWrapper,{[o.selected]:_}),...e,children:t})})}},65721:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(735250);n(470079);var l=n(682662),r=n(47061);function a(){return(0,i.jsx)(l.H,{children:(0,i.jsx)("div",{className:r.guildSeparator})})}},843343:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var l=n(442837),r=n(481060),a=n(299379),s=n(486472),o=n(430824),c=n(682662),u=n(662146),d=n(981631),h=n(689938),p=n(72766);function _(){let e=(0,l.e7)([s.Z,o.Z],()=>s.Z.unavailableGuilds.filter(e=>null==o.Z.getGuild(e)).length);return e<=0?null:(0,i.jsx)(c.H,{children:(0,i.jsx)(u.Z,{text:h.Z.Messages.PARTIAL_OUTAGE.format({count:e}),color:r.Tooltip.Colors.RED,children:(0,i.jsx)(r.Anchor,{href:(0,a.Z)(d.RK.TWITTER),target:"_blank",className:p.guildsError,"aria-label":h.Z.Messages.PARTIAL_OUTAGE_A11Y.format({count:e}),children:(0,i.jsx)("span",{"aria-hidden":!0,className:p.errorInner,children:"!"})})})})}},674552:function(e,t,n){n.d(t,{Ne:function(){return p},Ny:function(){return _},Or:function(){return f},jt:function(){return g}}),n(47120);var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(481060),s=n(44315),o=n(246364),c=n(460562),u=n(510601),d=n(981631),h=n(810817);function p(e,t){return(0,i.jsx)(a.NumberBadge,{count:e,color:t})}function _(){return(0,i.jsx)(a.IconBadge,{icon:(0,a.makeIconCompat)(c.Z),disableColor:!0,className:h.unavailableBadge})}function f(e){let t,{audio:n,video:i,screenshare:l,isCurrentUserConnected:r,liveStage:s,activeEvent:o,activity:c,gaming:d}=e,h=(0,u.vg)("Guild Icon",!1);if(!o&&!s&&!c&&!l&&!i&&d&&u.ZP.trackExposure({location:"Guild Icon"}),o)t=a.CalendarIcon;else if(s)t=a.StageIcon;else if(c)t=a.ActivitiesIcon;else if(l)t=a.ScreenIcon;else if(i)t=a.VideoIcon;else if(d&&h)t=a.GameControllerIcon;else{if(!n)return null;t=a.VoiceNormalIcon}return m({icon:t,isCurrentUserConnected:r})}function g(e){let{guildJoinRequestStatus:t}=e,[n,i]=function(e){switch(e){case o.wB.SUBMITTED:return[void 0,a.ClockIcon];case o.wB.REJECTED:return[d.Ilk.RED_400,a.CloseSmallIcon];case o.wB.APPROVED:return[d.Ilk.GREEN_360,a.CheckmarkLargeIcon];default:return[void 0,a.PencilIcon]}}(t);return m({icon:i,color:n})}function m(e){let{icon:t,color:n,isCurrentUserConnected:l}=e,o=null==n?{disableColor:!0}:{color:(0,s.Lq)(n)};return(0,i.jsx)(a.IconBadge,{icon:t,className:r()(h.iconBadge,{[h.isCurrentUserConnected]:l}),...o})}},654142:function(e,t,n){n(653041),n(47120),n(724458);var i=n(735250),l=n(470079),r=n(442837),a=n(239091),s=n(749210),o=n(905423),c=n(664915),u=n(888369),d=n(430824),h=n(823379),p=n(179809),_=n(652376),f=n(981631);t.Z=l.memo(function(e){let{folderNode:t,...g}=e,{id:m,name:C,color:I,children:E}=t,N=E.map(e=>e.id),x=(0,o.Z)(e=>e.guildId),S=(0,r.e7)([c.Z],()=>c.Z.isFolderExpanded(m)),Z=function(e){let t=e.children.map(e=>{let t=e.id,n=d.Z.getGuild(t);return null!=n?n.name:null}).filter(h.lm),n=2*f.dYL,i=[];for(let e of t)(e.length<n||0===i.length)&&(i.push(e),n-=e.length);return"".concat(i.join(", ")).concat(i.length<t.length?", ...":"")}(t),v=(0,_.Z)(t),{mentionCount:T,unread:L}=(0,r.cj)([u.default],()=>({mentionCount:N.map(e=>u.default.getMentionCount(e)).reduce((e,t)=>e+t,0),unread:N.some(e=>u.default.hasUnread(e))})),A=l.useCallback(()=>{s.Z.toggleGuildFolderExpand(m)},[m]),b=l.useCallback(e=>{(0,a.jW)(e,async()=>{let{default:e}=await n.e("52590").then(n.bind(n,205784));return t=>(0,i.jsx)(e,{...t,folderId:m,folderName:C,folderColor:I,unread:L||T>0})})},[m,C,I,L,T]);return(0,i.jsx)(p.Z,{...g,folderNode:t,expanded:S,selected:null!=x&&N.includes(x),mentionCount:T,unread:L,mediaState:v,defaultFolderName:Z,onExpandCollapse:A,onContextMenu:b})})},695301:function(e,t,n){var i=n(735250),l=n(470079),r=n(442837),a=n(481060),s=n(746916),o=n(965638),c=n(905423),u=n(486472),d=n(888369),h=n(430824),p=n(451478),_=n(61634),f=n(325257),g=n(849249);t.Z=l.memo(function(e){let{guildNode:t,lowerBadge:n}=e,m=t.id,C=(0,r.e7)([h.Z],()=>h.Z.getGuild(m)),I=(0,s.E)(m),E=(0,r.e7)([p.Z],()=>p.Z.isFocused()),N=(0,r.e7)([u.Z],()=>u.Z.isUnavailable(m)),x=(0,c.Z)(e=>e.guildId),S=(0,_.Z)(m),{badge:Z,unread:v}=(0,r.cj)([d.default],()=>({badge:d.default.getMentionCount(m),unread:d.default.hasUnread(m)})),T=(0,o.Ij)(C)&&0===Z,L=l.useMemo(()=>null!=n?n:T?(0,i.jsx)("div",{className:g.pauseBackground,children:(0,i.jsx)(a.PauseIcon,{size:"custom",color:"currentColor",className:g.pause,width:10,height:10})}):null,[n,T]);return(0,i.jsx)(f.Z,{...e,guild:C,unavailable:N,animatable:E,selected:x===m,badge:Z,lowerBadge:L,unread:v,mediaState:S,guildJoinRequestStatus:I})})},836040:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250),l=n(470079),r=n(442837),a=n(451478),s=n(727258),o=n(325257),c=n(981631);function u(e){let{guild:t,invite:n}=e,u=l.useMemo(()=>(0,s.Mg)(t.id),[t.id]),d=(0,r.e7)([a.Z],()=>a.Z.isFocused());return null==t?null:(0,i.jsx)(o.Z,{guildNode:u,guild:t,animatable:d,draggable:!1,contextMenu:()=>{},selected:!0,route:c.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(t.id,n.code)})}},588275:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var l=n(442837),r=n(239091),a=n(246364),s=n(937111),o=n(914010),c=n(451478),u=n(325257),d=n(674552),h=n(981631);function p(e,t){(0,r.jW)(e,async()=>{let{default:e}=await n.e("6368").then(n.bind(n,987999));return n=>(0,i.jsx)(e,{...n,guild:t})})}function _(e){let{guildNode:t}=e,n=t.id,r=(0,l.e7)([s.Z],()=>s.Z.getRequest(n)),_=(0,l.e7)([s.Z],()=>s.Z.getJoinRequestGuild(n),[n]),f=(0,l.e7)([c.Z],()=>c.Z.isFocused()),g=(0,l.e7)([o.Z],()=>o.Z.getGuildId());return null==_?null:(0,i.jsx)(u.Z,{guildNode:t,guild:_,animatable:f,draggable:!1,selected:n===g,preloadOnClick:!1,contextMenu:p,lowerBadge:(null==r?void 0:r.applicationStatus)===a.wB.REJECTED?(0,d.jt)({guildJoinRequestStatus:r.applicationStatus}):void 0,route:h.Z5c.GUILD_MEMBER_VERIFICATION(n)})}},836697:function(e,t,n){n.d(t,{Z:function(){return E}}),n(47120),n(653041);var i=n(735250),l=n(470079),r=n(442837),a=n(481060),s=n(110924),o=n(693546),c=n(863249),u=n(937111),d=n(914010),h=n(289090),p=n(727258),_=n(234383),f=n(179809),g=n(773182),m=n(588275),C=n(689938),I=n(388555);function E(e){let{onActivate:t}=e,[n,E]=l.useState(!1),N=(0,r.e7)([d.Z],()=>d.Z.getGuildId()),x=(0,r.e7)([u.Z],()=>u.Z.hasFetchedRequestToJoinGuilds),S=(0,_.Z)(),Z=(0,s.Z)(N),v=l.useMemo(()=>{let e=(0,p.qQ)({folderId:h.S.PENDING_JOIN_REQUESTS_FOLDER,folderName:C.Z.Messages.MEMBER_VERIFICATION_FOLDER_NAME,expanded:n,guildIds:[]});for(let t of S)e.children.push((0,p.Mg)(t,e.id));return e},[S,n]);l.useEffect(()=>{n&&!x&&o.Z.fetchRequestToJoinGuilds()},[n,x]);let T=null!=N&&S.includes(N);return(l.useEffect(()=>{!n&&T&&Z!==N&&E(!0)},[n,T,Z,N]),0===S.length)?null:(0,i.jsx)(g.TH,{onActivate:t,children:(0,i.jsx)(f.Z,{folderNode:v,expanded:n,useCircleMask:!n&&!T,selected:T,draggable:!1,sorting:!1,onExpandCollapse:()=>{E(!n),c.Z.clearCoachmark()},folderIconContent:(0,i.jsx)(a.HourglassIcon,{size:"custom",color:"currentColor",width:24,height:24,className:I.pendingIcon}),renderChildNode:function(e){return e.type!==p.eD.GUILD?null:(0,i.jsx)(m.Z,{guildNode:e},e.id)}})})}},921230:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250),l=n(470079),r=n(442837),a=n(905423),s=n(430824),o=n(451478),c=n(727258),u=n(61634),d=n(325257);function h(e){let{guildId:t}=e,n=l.useMemo(()=>(0,c.Mg)(t),[t]),h=(0,r.e7)([s.Z],()=>s.Z.getGuild(t)),p=(0,r.e7)([o.Z],()=>o.Z.isFocused()),_=t===(0,a.Z)(e=>{let{guildId:t}=e;return t}),f=(0,u.Z)(t);return null==h?null:(0,i.jsx)(d.Z,{guildNode:n,guild:h,animatable:p,selected:_,draggable:!1,mediaState:f})}},652376:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(470079),l=n(442837),r=n(623633),a=n(199902),s=n(19780),o=n(979651);function c(e){var t;let n=(0,l.e7)([s.Z],()=>s.Z.getGuildId()),c=e.children.map(e=>e.id),u=null!=n&&c.includes(n),d=!1,h=!1,p=!1,_=(0,l.e7)([s.Z],()=>s.Z.getChannelId()),f=null===(t=(0,r.Z)())||void 0===t?void 0:t.guild_id,g=null!=f&&c.includes(f),m=(0,l.e7)([o.Z],()=>null!=_&&o.Z.hasVideo(_),[_]),C=(0,l.e7)([a.Z],()=>a.Z.getCurrentUserActiveStream());return u&&(d=!m,h=m,p=null!=C&&null!=C.guildId&&c.includes(C.guildId)),i.useMemo(()=>({audio:d,video:h,screenshare:p,liveStage:g,isCurrentUserConnected:u}),[d,h,p,g,u])}},593364:function(e,t,n){n.d(t,{N:function(){return r}});var i=n(735250);n(470079);var l=n(481060);function r(e){return(0,i.jsx)(l.NumberBadge,{count:e})}n(460562),n(721690)},688438:function(e,t,n){n.d(t,{t:function(){return o}});var i=n(442837),l=n(273387),r=n(975984),a=n(306680),s=n(709054);function o(e){return(0,i.e7)([l.Z,a.ZP],()=>{var t;if(null==e)return 0;let n=a.ZP.ackMessageId(e.id);if(null==n)return 0;let i=Object.values(null!==(t=l.Z.getDirectoryEntries(e.id))&&void 0!==t?t:{}).filter(e=>{let t=s.default.fromTimestamp(new Date(e.createdAt).getTime());return(0,r.gX)(e)&&t>n});return Math.min(r._N,i.length)},[e])}},724912:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(442837),l=n(430824),r=n(981631);function a(e){return(0,i.e7)([l.Z],()=>{var t;if(null==e)return!1;let n=l.Z.getGuild(e);return null!==(t=null==n?void 0:n.hasFeature(r.oNc.HUB))&&void 0!==t&&t},[e])}},258871:function(e,t,n){var i=n(735250),l=n(470079),r=n(442837),a=n(481060),s=n(554747),o=n(434479),c=n(593364),u=n(703656),d=n(944486),h=n(147754),p=n(688438),_=n(981631),f=n(689938);let g=[{key:"EVENTS",renderIcon:e=>(0,i.jsx)(a.CalendarIcon,{size:"md",color:"currentColor",className:e}),getName:e=>{let{numEvents:t}=e;return t>0?f.Z.Messages.GUILD_EVENTS_PLURAL.format({number:t}):f.Z.Messages.GUILD_EVENTS},handler:e=>(0,a.openModalLazy)(async()=>{let{default:t}=await Promise.all([n.e("22347"),n.e("56236"),n.e("56289")]).then(n.bind(n,17671));return n=>(0,i.jsx)(t,{...n,guildId:e.id})})},{key:"JOIN_SERVERS",renderIcon:e=>(0,i.jsx)(a.CompassIcon,{size:"md",color:"currentColor",className:e}),getName:()=>f.Z.Messages.HUB_SIDEBAR_JOIN_SERVERS,handler:(e,t)=>(0,u.XU)(e.id,t.id)},{key:"ADD_SERVERS",renderIcon:e=>(0,i.jsx)(a.PlusSmallIcon,{size:"md",color:"currentColor",className:e}),getName:()=>f.Z.Messages.HUB_SIDEBAR_ADD_SERVERS,handler:(e,t)=>(0,a.openModalLazy)(async()=>{let{default:l}=await n.e("79764").then(n.bind(n,533202));return n=>(0,i.jsx)(l,{...n,directoryGuildName:e.name,directoryGuildId:e.id,directoryChannelId:t.id})})},{key:"INVITE_MEMBERS",renderIcon:e=>(0,i.jsx)(a.GroupPlusIcon,{className:e}),getName:()=>f.Z.Messages.HUB_SIDEBAR_INVITE_MEMBERS,handler:(e,t)=>(0,a.openModalLazy)(async()=>{let{default:l}=await Promise.all([n.e("7654"),n.e("17520")]).then(n.bind(n,560114));return n=>(0,i.jsx)(l,{...n,guild:e,channel:t,source:_.t4x.HUB_SIDEBAR})})}];t.Z=e=>{let{guild:t,channel:n}=e,a=(0,s.ZP)(t.id);l.useEffect(()=>{h.Z.trackExposure({guildId:t.id,location:"543af8_1"})},[t.id]);let{showHubEventsList:u}=h.Z.useExperiment({guildId:t.id,location:"543af8_2"},{autoTrackExposure:!1}),_=(0,r.e7)([d.Z],()=>null!=n&&d.Z.getChannelId()===n.id),f=l.useMemo(()=>({numEvents:a.length}),[a.length]),m=(0,p.t)(n);return(0,i.jsx)(i.Fragment,{children:g.map(e=>{let{key:l,getName:r,handler:a,renderIcon:s}=e;if(!u&&"EVENTS"===l)return null;let d="".concat(l,"-").concat(t.id);return(0,i.jsx)(o.m,{id:d,renderIcon:s,text:r(f),selected:_&&"JOIN_SERVERS"===l,onClick:null!=n?()=>a(t,n):void 0,trailing:"JOIN_SERVERS"===l&&m>0?(0,c.N)(m):null},d)})})}},175281:function(e,t,n){n.d(t,{Z:function(){return j}}),n(47120),n(653041);var i,l,r=n(735250),a=n(470079),s=n(120356),o=n.n(s),c=n(512722),u=n.n(c),d=n(392711),h=n.n(d),p=n(748780),_=n(442837),f=n(215569),g=n(481060),m=n(612226),C=n(951483),I=n(714338),E=n(607070),N=n(585483),x=n(557177),S=n(264549),Z=n(981631),v=n(689938),T=n(661948);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(l=i||(i={})).UP="UP",l.DOWN="DOWN",l.LEFT="LEFT",l.RIGHT="RIGHT";let A={UP:h().throttle(()=>(0,x.GN)("ddr-up"),100),DOWN:h().throttle(()=>(0,x.GN)("ddr-down"),100),LEFT:h().throttle(()=>(0,x.GN)("ddr-left"),100),RIGHT:h().throttle(()=>(0,x.GN)("ddr-right"),100)};function b(e){switch(e.keyCode){case Z.yXg.ARROW_UP:return"UP";case Z.yXg.ARROW_DOWN:return"DOWN";case Z.yXg.ARROW_LEFT:return"LEFT";case Z.yXg.ARROW_RIGHT:return"RIGHT";default:return null}}let M=1e3/60,R=[m.Q2.MESSAGE,m.Q2.NAVIGATION,m.Q2.VOICE_AND_VIDEO,m.Q2.CHAT,m.Q2.MISCELLANEOUS];function y(){let e=a.useMemo(()=>h()((0,m.Rv)()).groupBy(e=>e.group).value(),[]);return(0,r.jsx)("div",{className:T.keyboardShortcutList,children:R.map(t=>{let n=e[t],i=(0,m.UD)(t),l=(0,m.U6)(t);return(0,r.jsxs)("div",{className:T.keyboardShortcutSection,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(g.Heading,{variant:"heading-lg/semibold",children:i}),null!=l&&(0,r.jsx)(g.Text,{className:T.keybindGroupDescription,variant:"text-sm/normal",children:l})]}),(0,r.jsx)("div",{className:T.keyboardShortcutListGroup,children:n.map((e,t)=>{var n;return(null===(n=e.predicate)||void 0===n?void 0:n.call(e))===!1?null:(0,r.jsxs)("div",{className:o()(T.keybindGroup),children:[(0,r.jsx)(g.Text,{variant:"text-sm/normal",children:e.description}),(0,r.jsx)("div",{className:"keybind-shortcuts",children:e.binds.map(e=>(0,r.jsx)(g.KeyCombo,{className:T.keybindKey,shortcut:e},e))})]},t)})},t)]},t)})})}class O extends a.PureComponent{componentDidMount(){this.lastInputedKeys=[],N.S.subscribe(Z.CkL.SCROLL_PAGE_UP,this.scrollPageUp),N.S.subscribe(Z.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown),window.addEventListener("keydown",this.handleKeyDown,{capture:!0}),window.addEventListener("keyup",this.handleKeyUp,{capture:!0})}componentWillUnmount(){N.S.unsubscribe(Z.CkL.SCROLL_PAGE_UP,this.scrollPageUp),N.S.unsubscribe(Z.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown),window.removeEventListener("keydown",this.handleKeyDown,{capture:!0}),window.removeEventListener("keyup",this.handleKeyUp,{capture:!0})}render(){let{UP:e,DOWN:t,LEFT:n,RIGHT:i}=this.state;return(0,r.jsxs)(p.Z.div,{className:T.keyboardShortcutsModal,style:this.getStyles(),children:[(0,r.jsxs)(g.H,{className:T.modalTitle,children:[(0,r.jsx)("div",{className:T.content,children:v.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TITLE}),(0,r.jsx)(g.KeyCombo,{shortcut:"mod+/"})]}),(0,r.jsx)("div",{className:T.modalSubtitle,children:v.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SUBTITLE}),(0,r.jsxs)("div",{className:T.ddrArrows,children:[(0,r.jsx)(P,{arrow:"LEFT",isActive:n,className:T.left,children:"left"}),(0,r.jsx)(P,{arrow:"DOWN",isActive:t,className:T.down,children:"down"}),(0,r.jsx)(P,{arrow:"UP",isActive:e,className:T.up,children:"up"}),(0,r.jsx)(P,{arrow:"RIGHT",isActive:i,className:T.right,children:"right"})]}),(0,r.jsx)(g.AdvancedScrollerAuto,{ref:this.scrollerRef,fade:!0,children:(0,r.jsx)(g.HeadingLevel,{children:(0,r.jsx)(y,{})})})]})}constructor(...e){super(...e),L(this,"state",{UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,opacity:new p.Z.Value(1),scaleX:new p.Z.Value(1),scaleY:new p.Z.Value(0),animating:!1}),L(this,"scrollerRef",a.createRef()),L(this,"lastInputedKeys",[]),L(this,"scrollPageUp",()=>{let e=this.scrollerRef.current;u()(null!=e,"Scroller is pagedUp when not mounted"),e.scrollPageUp({animate:!0})}),L(this,"scrollPageDown",()=>{let e=this.scrollerRef.current;u()(null!=e,"Scroller is pagedDown when not mounted"),e.scrollPageDown({animate:!0})}),L(this,"arrowUp",e=>{let{direction:t}=e;this.setState({[t]:!1})}),L(this,"arrowDown",e=>{let{direction:t}=e;A[t](),this.setState({[t]:!0})}),L(this,"componentWillLeave",e=>{this.setState({animating:!0}),this.state.opacity.setValue(1),this.state.scaleX.setValue(.5),this.state.scaleY.setValue(1),p.Z.sequence([p.Z.timing(this.state.opacity,{toValue:.7,duration:2*M}),p.Z.timing(this.state.opacity,{toValue:1,duration:2*M}),p.Z.timing(this.state.opacity,{toValue:.7,duration:2*M}),p.Z.timing(this.state.opacity,{toValue:1,duration:2*M}),p.Z.timing(this.state.opacity,{delay:300,toValue:.7,duration:2*M}),p.Z.timing(this.state.opacity,{toValue:1,duration:2*M}),p.Z.timing(this.state.opacity,{toValue:.7,duration:2*M}),p.Z.timing(this.state.opacity,{toValue:1,duration:2*M}),p.Z.timing(this.state.opacity,{toValue:.7,duration:2*M}),p.Z.timing(this.state.opacity,{toValue:1,duration:2*M}),p.Z.timing(this.state.opacity,{toValue:.7,duration:2*M}),p.Z.timing(this.state.opacity,{toValue:1,duration:2*M}),p.Z.timing(this.state.scaleY,{delay:100,toValue:.005,duration:8*M,easing:p.Z.Easing.in(p.Z.Easing.ease)}),p.Z.parallel([p.Z.timing(this.state.scaleX,{toValue:1,duration:10*M,easing:p.Z.Easing.out(p.Z.Easing.ease)}),p.Z.timing(this.state.opacity,{toValue:0,duration:12*M})])]).start(e)}),L(this,"toggleOpacity",()=>{1===this.state.opacity._value?this.state.opacity.setValue(0):this.state.opacity.setValue(1)}),L(this,"getStyles",()=>({opacity:this.state.opacity.interpolate({inputRange:[0,1],outputRange:[0,1]}),transform:[{scaleX:this.state.scaleX.interpolate({inputRange:[0,1],outputRange:[0,2]})},{scaleY:this.state.scaleY.interpolate({inputRange:[0,1],outputRange:[0,1]})}]})),L(this,"handleKeyDown",e=>{if(this.lastInputedKeys.push(e.keyCode),this.lastInputedKeys=this.lastInputedKeys.slice(-5),this.lastInputedKeys[0]===Z.yXg.H&&this.lastInputedKeys[1]===Z.yXg.H&&this.lastInputedKeys[2]===Z.yXg.ARROW_RIGHT&&this.lastInputedKeys[3]===Z.yXg.N&&this.lastInputedKeys[4]===Z.yXg.K&&this.props.activateRagingDemon(),this.props.keyboardModeEnabled)return;let t=b(e);null!==t&&(e.stopPropagation(),e.preventDefault(),this.arrowDown({direction:t}))}),L(this,"handleKeyUp",e=>{if(this.props.keyboardModeEnabled)return;let t=b(e);null!==t&&(e.stopPropagation(),e.preventDefault(),this.arrowUp({direction:t}))}),L(this,"onArrowClick",e=>{this.arrowDown({direction:e})})}}function P(e){let{isActive:t,arrow:n,className:i,children:l}=e,[s,c]=a.useState(t),u=a.useCallback(()=>{A[n](),c(!0)},[n]);return a.useEffect(()=>{if(s){let e=setTimeout(()=>c(!1),500);return()=>clearTimeout(e)}},[s]),(0,r.jsx)(g.Clickable,{onClick:u,className:o()(T.arrow,i,{[T.active]:t||s}),children:l})}function j(e){let{transitionState:t,onClose:n}=e,[i,l]=a.useState(!1),s=a.useMemo(()=>__OVERLAY__?(0,C.Zg)():(0,m.Rv)(),[]),c=(0,_.e7)([E.Z],()=>E.Z.keyboardModeEnabled);return(0,r.jsx)(g.ModalRoot,{className:o()(T.noBackground,{[T.noShadow]:i}),size:g.ModalSize.DYNAMIC,"aria-label":v.Z.Messages.KEYBINDS,transitionState:t,children:(0,r.jsx)(f.W,{component:"div",children:i?(0,r.jsx)(S.Z,{onClose:n},"raging-demo"):(0,r.jsx)(O,{content:s,keyboardModeEnabled:c,activateRagingDemon:function(){I.Z.disable(),l(!0)}},"modal")})})}},377400:function(e,t,n){var i=n(735250);n(470079);var l=n(481060),r=n(570140),a=n(317770),s=n(175281),o=n(285371);class c extends a.Z{_initialize(){r.Z.subscribe("SHOW_KEYBOARD_SHORTCUTS",this.showKeyboardShortcuts),r.Z.subscribe("HIDE_KEYBOARD_SHORTCUTS",this.hideKeyboardShortcuts)}_terminate(){r.Z.unsubscribe("SHOW_KEYBOARD_SHORTCUTS",this.showKeyboardShortcuts),r.Z.unsubscribe("HIDE_KEYBOARD_SHORTCUTS",this.hideKeyboardShortcuts)}showKeyboardShortcuts(){(0,l.openModal)(e=>(0,i.jsx)(s.Z,{...e}),{modalKey:o.J})}hideKeyboardShortcuts(){(0,l.closeModal)(o.J)}}t.Z=new c},264549:function(e,t,n){n(653041),n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(392711),o=n.n(s),c=n(714338),u=n(585483),d=n(981631),h=n(971933);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _={PRIMARY:()=>!0,SECONDARY:()=>!0},f=()=>(0,i.jsxs)("div",{className:h.symbol,children:[(0,i.jsx)("div",{className:h.symbolBackground}),(0,i.jsx)("img",{alt:"",src:n(977706)})]},"symbol");class g extends l.PureComponent{componentDidMount(){this.setState({animating:!0}),this._renderSecondaryTimeout=setTimeout(()=>{this.setState({renderSecondary:!0})},120),this._doneTimeout=setTimeout(this.done,1e3),_.PRIMARY()}componentDidUpdate(e,t){this.state.renderSecondary&&!t.renderSecondary&&_.SECONDARY()}componentWillUnmount(){clearTimeout(this._renderSecondaryTimeout),clearTimeout(this._doneTimeout)}renderPrimary(){return(0,i.jsxs)("div",{className:h.primaryExplosion,children:[(0,i.jsx)("img",{alt:"",className:h.circleInner,src:n(273226),width:70,height:69}),(0,i.jsx)("img",{alt:"",className:h.circleOuter,src:n(922026),width:96,height:95}),(0,i.jsx)("img",{alt:"",className:h.linesSecondary,src:n(827926),width:183,height:104}),(0,i.jsx)("img",{alt:"",className:h.linesMain,src:n(873180),width:69,height:180})]},"primary-explosion")}renderSecondary(e,t){return(0,i.jsxs)("div",{className:h.secondaryExplosion,style:{top:t,left:e},children:[(0,i.jsx)("img",{alt:"",className:h.circleInner,src:n(272162),width:61,height:58},"circle-inner"),(0,i.jsx)("img",{alt:"",className:h.circleOuter,src:n(632989),width:85,height:85},"circle-outer"),(0,i.jsx)("img",{alt:"",className:h.linesSecondary,src:n(376252),width:162,height:173},"lines-secondary"),(0,i.jsx)("img",{alt:"",className:h.linesMain,src:n(720617),width:156,height:306},"lines-main")]},"secondary-explosion")}render(){let{renderSecondary:e,offsetX:t,offsetY:n,animating:l,scale:r}=this.state,s=[this.renderPrimary()];return e&&s.push(this.renderSecondary(t,n)),(0,i.jsx)("div",{className:a()(h.container,{[h.animate]:l}),style:{top:this.props.top,left:this.props.left,transform:"scale(".concat(r,")")},children:s})}constructor(...e){super(...e),p(this,"_renderSecondaryTimeout",null),p(this,"_doneTimeout",null),p(this,"state",{animating:!1,renderSecondary:!1,scale:o().random(.6,1,!0),offsetX:o().random(0,140,!1)-70,offsetY:o().random(0,140,!1)-70}),p(this,"done",()=>{this.props.onAnimationComplete(this.props.componentId)})}}let m=240;class C extends l.PureComponent{componentDidMount(){this.setTimeout(()=>{this.setState({visible:!0}),u.S.dispatch(d.CkL.SHAKE_APP,{duration:2400})},1800),this.setTimeout(this.createExplosion,1800)}componentWillUnmount(){for(let e of(c.Z.enable(),this.children.length=0,this._timeouts))clearTimeout(e)}render(){return(0,i.jsx)("div",{className:a()(h.ragingDemon,{[h.visible]:this.state.visible}),children:this.children})}constructor(...e){super(...e),p(this,"_timeouts",[]),p(this,"children",[]),p(this,"state",{explosions:0,visible:!1}),p(this,"setTimeout",(e,t)=>{let n=setTimeout(e,t);return this._timeouts.push(n),n}),p(this,"removeExplosion",e=>{let t=this.children,n=t.findIndex(t=>{if(t.type!==g)return!1;let n=t.props;return null!=n.componentId&&n.componentId===e});n>=0&&t.splice(n,1),this.forceUpdate()}),p(this,"createExplosion",()=>{let e=this.children,t=window.innerWidth/2>>0,n=window.innerHeight/2>>0;if(this.state.explosions<8){let l="expl-".concat(this.state.explosions);e.push((0,i.jsx)(g,{componentId:l,top:o().random(n-100,n+100,!1),left:o().random(t-200,t+200,!1),onAnimationComplete:this.removeExplosion},l)),this.setTimeout(this.createExplosion,m),this.setState({explosions:this.state.explosions+1})}else this.setTimeout(this.addSymbol,750)}),p(this,"addSymbol",()=>{this.children=[(0,i.jsx)(f,{},"symbol")],this.forceUpdate(),this.setTimeout(this.delayedClose,3e3)}),p(this,"delayedClose",()=>{this.props.onClose()})}}t.Z=C},879041:function(e,t,n){n.d(t,{e:function(){return l}});let i=(0,n(818083).B)({kind:"user",id:"2022-12_message_request_home_count",label:"Safety Experience Message Request Home Count",defaultConfig:{enabled:!1},treatments:[{id:1,label:"The Message Request home count uses new data stores",config:{enabled:!0}}]});function l(e){let{location:t}=e;return i.useExperiment({location:t},{autoTrackExposure:!0}).enabled}},900255:function(e,t,n){n.d(t,{x:function(){return l}});var i=n(709054);function l(e){return e.sort((e,t)=>i.default.compare(e.lastMessageId,t.lastMessageId)).reverse()}},899740:function(e,t,n){n.d(t,{T:function(){return d},q:function(){return u}});var i=n(442837),l=n(306680),r=n(709054),a=n(879041),s=n(355298),o=n(177033),c=n(490897);function u(){return(0,i.e7)([s.Z],()=>s.Z.getMessageRequestsCount())}function d(){let e=(0,a.e)({location:"use-message-requests-count"}),t=(0,i.e7)([l.ZP],()=>l.ZP.getNonChannelAckId(c.W.MESSAGE_REQUESTS)),n=(0,o.Z)();return e?n.filter(e=>r.default.compare(e.channel.id,t)>0).length:n.length}},177033:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(470079),l=n(442837),r=n(592125),a=n(594174),s=n(355298),o=n(900255);function c(){let e=(0,l.e7)([r.Z],()=>r.Z.getPrivateChannelsVersion()),t=(0,l.Wu)([r.Z,s.Z],()=>{let e=r.Z.getMutablePrivateChannels(),t=Array.from(s.Z.getMessageRequestChannelIds()).map(t=>e[t]).filter(e=>null!=e);return(0,o.x)(t)},[e]),n=(0,l.cj)([a.default],()=>{let e={};return t.forEach(t=>{let n=a.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}),e},[t]);return i.useMemo(()=>t.map(e=>({channel:e,user:n[e.id]})),[t,n])}},817915:function(e,t,n){n.d(t,{Z:function(){return i},t:function(){return l}});let i=64,l=1200},656063:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(503438),l=n(802856),r=n(420660),a=n(789407),s=n(630186),o=n(250889);function c(e){return(0,l.Z)(e)?o.H+e.name:(0,i.Z)(e)&&null!=e.party&&null!=e.party.id?a.r9.id:(0,r.Z)(e)&&null!=e.url?s._+e.url:null!=e.application_id?e.application_id:null}},761282:function(e,t,n){n.d(t,{JE:function(){return u},ct:function(){return c},dc:function(){return o}});var i=n(735250);n(470079);var l=n(261600),r=n(157925),a=n(301661);let s={[r.gD]:new l.U};function o(e){var t;let n=e.application_id;if(null==n)return;let i=s[n];if(null!=i&&(null===(t=i.shouldShow)||void 0===t?void 0:t.call(i,e))!==!1)return i.createHeader(e)}function c(e){var t;let n=e.application_id;if(null==n)return;let l=s[n];if((null==l?void 0:l.body)!=null&&(null===(t=l.shouldShow)||void 0===t?void 0:t.call(l,e))!==!1){let t=l.body;return(0,i.jsx)("section",{className:a.section,children:(0,i.jsx)(t,{activity:e})},"delegate-".concat(n))}}function u(e){var t;let n=e.application_id;if(null==n)return!0;let i=s[n];return null==i||(null===(t=i.shouldShow)||void 0===t?void 0:t.call(i,e))!==!1}},868854:function(e,t,n){n.d(t,{L:function(){return o},a:function(){return c}});var i=n(442837),l=n(480294),r=n(451478),a=n(817915),s=n(981631);function o(){let e=(0,i.e7)([r.Z],()=>r.Z.windowSize().width);return function(e,t){return e>a.t&&t}(e,(0,i.e7)([l.Z],()=>l.Z.hasConsented(s.pjP.PERSONALIZATION)))}function c(){let e=r.Z.windowSize().width;return function(e,t){return e>a.t&&t}(e,l.Z.hasConsented(s.pjP.PERSONALIZATION))}function u(e,t){return e>a.t&&t}},840780:function(e,t,n){n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(512722),o=n.n(s),c=n(442837),u=n(704215),d=n(692547),h=n(481060),p=n(988298),_=n(475179),f=n(925549),g=n(872810),m=n(438139),C=n(730749),I=n(607070),E=n(566620),N=n(317381),x=n(620662),S=n(835473),Z=n(67212),v=n(757454),T=n(552740),L=n(933557),A=n(311352),b=n(730417),M=n(524347),R=n(853197),y=n(616360),O=n(858064),P=n(594190),j=n(569545),D=n(382182),U=n(74299),G=n(914923),w=n(165393),k=n(989941),B=n(803647),V=n(231664),H=n(759198),F=n(131704),W=n(199902),Y=n(314897),z=n(592125),K=n(984933),q=n(430824),Q=n(131951),J=n(496675),X=n(158776),$=n(699516),ee=n(944486),et=n(885110),en=n(594174),ei=n(449224),el=n(366695),er=n(672752),ea=n(499150),es=n(976401),eo=n(333454),ec=n(864441),eu=n(368666),ed=n(626135),eh=n(358085),ep=n(793224),e_=n(978769),ef=n(981631),eg=n(918559),em=n(702512),eC=n(689938),eI=n(488320);function eE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let eN=(0,m.Z)(function(e){let{message:t}=e;return(0,i.jsx)(eo.Z,{children:t})});class ex extends l.PureComponent{componentDidUpdate(e){!e.dropsActivityPanelExperienceBlocked&&this.props.dropsActivityPanelExperienceBlocked&&this.setState({isDropsActivityPanelTooltipOpen:!1})}isJoinableActivity(){let{application:e,activity:t,embeddedActivity:n}=this.props;return null!=e&&(null!=n?n.applicationId===e.id:null!=t&&t.application_id===e.id&&t.type===ef.IIU.PLAYING&&(0,x.Z)(t,ef.xjy.JOIN))}renderGoLiveButton(){let e,t,n,l;let{canGoLive:r,guildId:a,isStreaming:s,channel:o,canStream:c,runningGame:u,embeddedActivity:d}=this.props;return(null!=u||null==d)&&(s||r&&null!=u)?(s?(e=!1,t=this.handleClickStopStreamingButton,n=h.ScreenXIcon,l=eC.Z.Messages.STOP_STREAMING):c?(e=!1,t=this.handleClickGoLiveButton,n=h.ScreenArrowIcon,l=null!=u?eC.Z.Messages.ACTIVITY_PANEL_GO_LIVE_STREAM_GAME.format({game:u.name}):eC.Z.Messages.ACTIVITY_PANEL_GO_LIVE):(e=!0,t=null,n=h.ScreenArrowIcon,l=null!=o&&(0,F.vd)(o.type)?eC.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE:null!=a?eC.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_GUILD:eC.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NOT_IN_GUILD),(0,i.jsx)("div",{className:eI.panelButtonContainer,children:(0,i.jsx)(es.Z,{tooltipText:l,disabled:e,onClick:t,icon:n})})):null}renderInviteButton(){let{embeddedActivity:e}=this.props;return this.isJoinableActivity()&&null==e?(0,i.jsx)(es.Z,{tooltipText:eC.Z.Messages.INVITE_EMBED_INVITE_TO_JOIN,onClick:this.handleClickInviteButton,icon:h.GroupPlusIcon,iconForeground:eI.__invalid_actionIcon}):null}renderDropsButton(){let{dropsTooltipAction:e,dropsPartnerGame:t}=this.props;if(null==t)return null;let n=this.state.isDropsActivityPanelTooltipOpen,l=()=>this.setState({isDropsActivityPanelTooltipOpen:!1});return(0,i.jsx)(h.Popout,{shouldShow:n,position:"top",align:"center",onRequestClose:l,renderPopout:()=>(0,i.jsx)(O.Z,{partnerGame:t,tooltipAction:e,onClose:l}),children:()=>(0,i.jsxs)(i.Fragment,{children:[this.state.showDropsSparkles&&this.renderSparkles(),(0,i.jsx)(es.Z,{"aria-label":eC.Z.Messages.DROPS_ENABLED,tooltipText:n?null:eC.Z.Messages.DROPS_ENABLED,onClick:this.handleClickDropsButton,icon:y.Z})]})})}renderLeaveEmbeddedActivityButton(){let{embeddedActivity:e,channel:t}=this.props;return null==e||null==t?null:(0,i.jsx)(es.Z,{tooltipText:eC.Z.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY,onClick:this.handleClickLeaveEmbeddedActivityButton(e.applicationId,t),icon:h.DoorExitIcon,iconForeground:eI.__invalid_actionIcon})}renderBroadcastButton(){let{channel:e}=this.props;return null!=e&&(0,F.vd)(e.type)?null:(0,i.jsx)(ep.Z,{})}renderBroadcastSettingsButton(){let{broadcast:e}=this.props;return null==e?null:(0,i.jsx)(e_.Z,{})}renderSparkles(){let{useReducedMotion:e}=this.props;async function t(){let{default:e}=await n.e("5217").then(n.t.bind(n,801048,19));return e}return(0,i.jsx)("div",{className:eI.sparkleContainer,children:(0,i.jsx)(h.LottieAnimation,{importData:t,shouldAnimate:!e,className:eI.sparkles})})}renderActions(){let e=this.renderGoLiveButton(),t=this.renderDropsButton(),n=this.renderInviteButton(),l=this.renderLeaveEmbeddedActivityButton(),r=this.renderClipsButton(),a=this.renderBroadcastButton(),s=this.renderBroadcastSettingsButton();return null==e&&null==n&&null==l?null:(0,i.jsxs)("div",{className:eI.actions,children:[a,e,s,n,null==e?l:r,t]})}getGameName(){let{runningGame:e,application:t}=this.props;return null!=t?t.name:null!=e?e.name:eC.Z.Messages.STATUS_UNKNOWN}renderGame(){let{isStreaming:e,dropsPartnerGame:t,application:n,runningGame:l}=this.props,r=this.getGameName();return(0,i.jsxs)("div",{className:a()(eI.gameWrapper,{[eI.clickableGameWrapper]:null!=n}),children:[(0,i.jsxs)("div",{className:eI.gameIconWrapper,children:[(0,i.jsx)(el.Z,{className:eI.gameIcon,game:n,pid:null==l?void 0:l.pid}),e?(0,i.jsx)(h.VideoIcon,{size:"md",color:"currentColor",className:eI.liveBadge}):null]}),(0,i.jsx)("div",{className:a()(eI.info,{[eI.infoWithDrops]:null!=t}),children:null!=r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ec.Z,{children:r}),null!=t&&(0,i.jsx)("div",{className:eI.dropsBadgeWrapper,children:(0,i.jsx)(h.TextBadge,{text:eC.Z.Messages.DROPS_AVAILABLE,color:d.Z.unsafe_rawColors.BRAND_500.css,className:eI.dropsBadge})})]}):null})]})}renderScreenshare(){let{isStreaming:e,dropsPartnerGame:t,streamMetadata:n,streamQualityIndicator:l}=this.props,{title:r,sanitizedTitle:s}=(0,G.Z)(n);return(0,i.jsxs)("div",{className:eI.gameWrapper,children:[e?(0,i.jsx)(w.Z,{title:s}):(0,i.jsx)(eu.ZP,{look:eu.ZP.Looks.GRAY,size:eu.ZP.Sizes.SMALL,className:eI.liveIndicator}),(0,i.jsxs)("div",{className:a()(eI.info,{[eI.infoWithDrops]:null!=t}),children:[(0,i.jsx)(ec.Z,{children:r}),null!=l&&(0,i.jsxs)("div",{className:eI.perksDemoContainer,children:[(0,i.jsx)(h.NitroWheelIcon,{size:"xxs",color:er.JX.PREMIUM_TIER_2}),(0,i.jsx)(H.Z,{className:eI.perksDemoText,variant:"text-xxs/semibold",children:l})]}),null!=t&&(0,i.jsx)("div",{className:eI.dropsBadgeWrapper,children:(0,i.jsx)(h.TextBadge,{text:eC.Z.Messages.DROPS_AVAILABLE,color:d.Z.unsafe_rawColors.BRAND_500.css,className:eI.dropsBadge})})]})]})}renderEmbeddedActivity(){let e;let{application:t,embeddedActivity:n,channel:l,channelName:r,guildForConnectedChannel:a}=this.props;if(null==n||null==l||null==t)return null;let s={start:n.connectedSince},o=r;null!=a?(e=ef.Z5c.CHANNEL(a.id,l.id),o="".concat(o," / ").concat(a.name)):e=ef.Z5c.CHANNEL(ef.ME,l.id);let c=(0,i.jsx)(ea.Z,{href:e,onClick:this.handleApplicationLinkClick,children:(0,i.jsx)(eo.Z,{className:eI.channel,children:o})});return(0,i.jsxs)("div",{className:eI.gameWrapper,children:[(0,i.jsx)(el.Z,{className:eI.gameIcon,game:t,size:el.Z.Sizes.SMALL}),(0,i.jsxs)("div",{className:eI.info,children:[(0,i.jsx)(ea.Z,{href:e,onClick:this.handleApplicationLinkClick,children:(0,i.jsx)(ec.Z,{className:eI.activityName,children:t.name})}),(0,F.Qm)(l.type)?c:(0,i.jsx)(eN,{timestamps:s})]})]})}render(){let{canGoLive:e,embeddedActivity:t,runningGame:n,isStreaming:l,streamMetadata:r,className:s}=this.props;return l||(this.isJoinableActivity()||e)&&(null!=n||null!=t)?(0,i.jsx)("div",{className:a()(eI.panel,s),children:(0,i.jsxs)("div",{className:eI.body,children:[(()=>null==n||l&&(null==r?void 0:r.pid)==null?null!=t?this.renderEmbeddedActivity():this.renderScreenshare():this.renderGame())(),this.renderActions()]})}):null}constructor(...e){super(...e),eE(this,"modalKey",void 0),eE(this,"state",{isDropsActivityPanelTooltipOpen:!1,showDropsSparkles:this.props.showDropsSparkles}),eE(this,"startBroadcast",()=>{let{stream:e,channel:t,runningGame:n}=this.props,i=null!=t&&(0,F.vd)(t.type)?t:null;null!=i&&null!=n&&(null==e?(0,g.tE)({channelId:i.id,pid:n.pid}):(0,Z.v$)((0,j.V9)(e),n.pid))}),eE(this,"handleClickGoLiveButton",()=>{let{guildId:e,channel:t,canStartBroadcast:l}=this.props,r=null!=t&&(0,F.vd)(t.type)?t:null,a=null!=r?r.getGuildId():e;if((null==r?void 0:r.isBroadcastChannel())&&l){(0,T.D)(this.startBroadcast);return}(0,h.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("79477"),n.e("39021")]).then(n.bind(n,60594));return t=>(0,i.jsx)(e,{...t,selectSource:!1,guildId:a,analyticsLocation:ef.Sbl.ACTIVITY_PANEL})}).then(e=>{null!=e&&(this.modalKey=e)})}),eE(this,"handleClickStopStreamingButton",()=>{let{stream:e,channel:t,userId:n}=this.props,i=null!=t&&(0,F.vd)(t.type)?t:null;if((null==i?void 0:i.isBroadcastChannel())&&(null==i?void 0:i.isOwner(n))){(0,T.Z)(()=>(0,B.Z)(e));return}(0,B.Z)(e)}),eE(this,"handleClickInviteButton",()=>{let{activity:e,analyticsContext:t}=this.props;o()(null!=e,"Received null activity"),ed.default.track(ef.rMx.OPEN_MODAL,{type:"Send Join Invite",application_id:e.application_id,location:t.location}),(0,p.h7)(e,!1)}),eE(this,"handleClickDropsButton",()=>{let{dropsPartnerGame:e,dropsTooltipAction:t,userId:n}=this.props;if(null==e)return;let i=(0,R.BS)(e);null!=i&&(ed.default.track(ef.rMx.DROPS_ACTIVITY_PANEL_BUTTON_CLICK,{user_id:n,drops_quest_id:i.dropsQuestId,game_id:i.dropsGameId,game_name:i.title.toLowerCase(),show_sparkles:this.state.showDropsSparkles,tooltip_action:t}),this.setState({isDropsActivityPanelTooltipOpen:!this.state.isDropsActivityPanelTooltipOpen,showDropsSparkles:!1}))}),eE(this,"handleClickLeaveEmbeddedActivityButton",(e,t)=>()=>{(0,E.mW)({channelId:t.id,applicationId:e})}),eE(this,"renderClipsButton",()=>{let{stream:e}=this.props;return null==e?null:(0,i.jsx)(A.Z,{})}),eE(this,"handleApplicationLinkClick",()=>{var e;let{channel:t,embeddedActivity:n}=this.props;o()(null!=t,"Channel is null during navigation click"),o()(null!=n,"Activity null during navigation click"),(0,F.vd)(t.type)&&_.Z.selectParticipant(t.id,n.applicationId),f.Z.channelListScrollTo(null!==(e=t.guild_id)&&void 0!==e?e:ef.ME,t.id),(0,F.Qm)(t.type)&&(0,E.tg)(eg.Ez.PANEL)})}}t.Z=(0,C.Z)(function(e){var t;let{guildId:n,...l}=e,r=(0,c.e7)([Y.default],()=>Y.default.getId()),a=(0,c.e7)([P.ZP,ei.Z],()=>(0,k.Z)(P.ZP,ei.Z)),s=(0,c.e7)([ee.Z,z.Z],()=>z.Z.getChannel(ee.Z.getVoiceChannelId())),o=(0,c.e7)([N.ZP],()=>N.ZP.getConnectedActivityChannelId()),d=(0,c.e7)([z.Z],()=>z.Z.getChannel(o)),h=(0,c.e7)([q.Z],()=>q.Z.getGuild(null==d?void 0:d.guild_id)),[p,_]=(0,c.Wu)([W.Z],()=>[W.Z.getCurrentUserActiveStream(),W.Z.getStreamerActiveStreamMetadata()]),f=(0,c.e7)([I.Z],()=>I.Z.useReducedMotion),g=(0,c.e7)([M.Z],()=>M.Z.getActivityPanelTooltipAction()),{partnerGame:m,dropsActivityPanelExperienceBlocked:C,showDropsSparkles:E}=(0,b.c)(em.X2.FORTNITE,a,u.z.QUEST_2_ENROLLMENT_TOOLTIP,u.z.QUEST_2_COMPLETION_TOOLTIP),x=(0,c.e7)([N.ZP],()=>null!=d?N.ZP.getSelfEmbeddedActivityForChannel(d.id):null),Z=(0,c.e7)([q.Z,J.Z,K.ZP],()=>null!=s?D.JL(s,q.Z,J.Z,!1):null!=n&&D.h_(K.ZP.getChannels(n),q.Z,J.Z).length>0),[T]=(0,S.Z)([null!==(t=function(){if(null!=_&&null!=_.id)return _.id;if(null!=a&&null!=a.id)return a.id;if(null!=x)return x.applicationId}())&&void 0!==t?t:""]),A=(0,c.e7)([Q.Z],()=>(0,U.Z)(Q.Z)&&(0,eh.isWindows)()),R=(0,c.e7)([X.Z],()=>null!=r?X.Z.findActivity(r,e=>e.type===ef.IIU.PLAYING):null),y=null!=p&&p.ownerId===r&&p.state!==ef.jm8.ENDED,O=(0,c.e7)([et.Z],()=>et.Z.getBroadcast()),j=(0,v.Z)()&&null!=a,G=(0,c.e7)([en.default,$.Z],()=>null!=d?(0,L.F6)(d,en.default,$.Z):void 0),w=(0,V.Z)(null==s?void 0:s.id,r);return(0,i.jsx)(ex,{...l,guildId:n,canGoLive:A,activity:R,embeddedActivity:x,showDropsSparkles:E,dropsPartnerGame:m,dropsActivityPanelExperienceBlocked:C,userId:r,runningGame:a,application:T,useReducedMotion:f,isStreaming:y,channel:d,canStream:Z,dropsTooltipAction:g,stream:p,streamMetadata:_,broadcast:O,canStartBroadcast:j,channelName:G,guildForConnectedChannel:h,streamQualityIndicator:w})})},793224:function(e,t,n){n.d(t,{Z:function(){return b}}),n(653041);var i=n(735250);n(470079);var l=n(442837),r=n(704215),a=n(481060),s=n(872810),o=n(367907),c=n(67212),u=n(770471),d=n(757454),h=n(286328),p=n(493355),_=n(134598),f=n(243778),g=n(594190),m=n(569545),C=n(989941),I=n(199902),E=n(314897),N=n(944486),x=n(885110),S=n(449224),Z=n(436088),v=n(976401),T=n(981631),L=n(921944),A=n(689938);function b(){let e=(0,l.e7)([N.Z],()=>N.Z.getVoiceChannelId()),t=(0,l.e7)([E.default],()=>E.default.getId()),n=(0,l.e7)([g.ZP,S.Z],()=>(0,C.Z)(g.ZP,S.Z)),{canBroadcast:b}=u.Z.useExperiment({location:"broadcast_button_rtc_panel_no_track"},{autoTrackExposure:!1}),M=(0,d.Z)()&&null!=n,R=(0,l.e7)([x.Z],()=>null!=x.Z.getBroadcast()),y=(0,l.Wu)([I.Z],()=>I.Z.getAllActiveStreams());if(!M&&!R)return null;if(u.Z.trackExposure({location:"broadcast_button_rtc_panel"}),!b)return null;let O=[];M&&O.push(r.z.BROADCASTING_BROADCASTER_TOOLTIP);let P=()=>{o.ZP.trackWithMetadata(T.rMx.BROADCAST_START_BUTTON_HOVERED,{game_id:null==n?void 0:n.id})},j=()=>{if(M){let i=y.find(e=>e.ownerId===t);null==i?(0,_.X)(A.Z.Messages.START_BROADCASTING,A.Z.Messages.START_BROADCASTING_CTA,()=>{(0,s.tE)({pid:null==n?void 0:n.pid,channelId:e})}):(0,c.v$)((0,m.V9)(i),null==n?void 0:n.pid)}else(0,c.b_)()},D=e=>(0,i.jsx)(v.Z,{tooltipText:M?A.Z.Messages.START_BROADCASTING:A.Z.Messages.STOP_BROADCASTING,onClick:()=>{j(),null==e||e(L.L.UNKNOWN)},onMouseEnter:P,icon:M?(0,a.makeIconCompat)(Z.Z):()=>(0,i.jsx)(p.Z,{width:20,height:20})}),U=e=>(0,i.jsx)(h.Z,{markAsDismissed:e});return(0,i.jsx)(f.Z,{contentTypes:O,bypassAutoDismiss:!0,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;return t===r.z.BROADCASTING_BROADCASTER_TOOLTIP?(0,i.jsx)(a.Popout,{position:"top",align:"center",renderPopout:()=>U(n),shouldShow:!0,children:()=>D(n)}):D()}})}},978769:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var l=n(442837),r=n(481060),a=n(709369),s=n(885110),o=n(976401),c=n(689938);function u(){return null==(0,l.e7)([s.Z],()=>s.Z.getBroadcast())?null:(0,i.jsx)(r.Popout,{position:"top",renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(a.Z,{onClose:t})},animation:r.Popout.Animation.FADE,children:e=>(0,i.jsx)(o.Z,{...e,tooltipText:c.Z.Messages.BROADCAST_SETTINGS,icon:r.SettingsIcon})})}},970645:function(e,t,n){n.d(t,{o:function(){return c}});var i=n(544891),l=n(570140),r=n(355467),a=n(853872),s=n(995598),o=n(981631);async function c(){try{let{body:e}=await i.tn.get({url:o.ANM.CHECKOUT_RECOVERY}),t=(null==e?void 0:e.is_eligible)===!0,n=!1;t&&(n=(0,s.Y)()),t&&n&&!a.Z.hasFetchedPaymentSources&&await (0,r.tZ)();let c=t&&n;l.Z.dispatch({type:"CHECKOUT_RECOVERY_STATUS_FETCH",isEligibleForNagbar:c})}catch(e){l.Z.dispatch({type:"CHECKOUT_RECOVERY_STATUS_FETCH",isEligibleForNagbar:!1})}}},231664:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(848246),l=n(442837),r=n(358221),a=n(557457),s=n(386542);function o(e,t){let n=(0,l.e7)([r.Z],()=>null!=e?r.Z.getStreamParticipants(e).find(e=>e.user.id===t):void 0,[e,t]),{activated:o,available:c,hqStreamingState:{hqStreamingIsEnabled:u}}=(0,s.k)(i.q.STREAM_HIGH_QUALITY);if(!o||!c||!u)return;let d=null!=n?(0,a.Wc)(n):void 0;return null!=d?"".concat((0,a.ml)(d.maxResolution)," ").concat((0,a.bp)(d.maxFrameRate)):void 0}},841174:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var l=n(481060);function r(e){(0,l.openModalLazy)(async()=>{let{default:t}=await n.e("16554").then(n.bind(n,917314));return n=>(0,i.jsx)(t,{guildId:e,...n})})}},995598:function(e,t,n){n.d(t,{Y:function(){return l}});let i=(0,n(818083).B)({kind:"user",id:"2024-06_checkout_recovery_nagbar_test",label:"Testing",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Users will not see the nagbar",config:{enabled:!1}},{id:1,label:"Users will see the nagbar",config:{enabled:!0}}]}),l=()=>{let{enabled:e}=i.getCurrentConfig({location:"checkout_recovery_nagbar_test"});return e}},367207:function(e,t,n){n(411104),n(47120);var i=n(735250);n(470079);var l=n(392711),r=n(848246),a=n(481060),s=n(570140),o=n(904245),c=n(317770),u=n(100527),d=n(358221),h=n(963249),p=n(592125),_=n(430824),f=n(594174),g=n(295226),m=n(626135),C=n(74538),I=n(557457),E=n(970645),N=n(736871),x=n(6242),S=n(757692),Z=n(114064),v=n(937579),T=n(485731),L=n(1163),A=n(841174),b=n(11352),M=n(474936),R=n(981631),y=n(354459),O=n(37113),P=n(689938);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class D extends c.Z{_initialize(){__OVERLAY__?s.Z.subscribe("PREMIUM_PAYMENT_MODAL_OPEN",this._handlePremiumPaymentModalOpen):(s.Z.subscribe("PREMIUM_PAYMENT_MODAL_CLOSE",this._handlePremiumPaymentModalClose),s.Z.subscribe("MESSAGE_LENGTH_UPSELL",this.handleMessageLengthUpsell),s.Z.subscribe("POST_CONNECTION_OPEN",this._maybeFetchPremiumOffer),s.Z.subscribe("POST_CONNECTION_OPEN",this._maybeFetchCheckoutRecovery),s.Z.subscribe("POST_CONNECTION_OPEN",this._trackCustomNotificationSoundsExposure),s.Z.subscribe("RTC_CONNECTION_STATE",this.maybeShowHDStreamingPerksDemoPostUpsellModal),s.Z.subscribe("MEDIA_ENGINE_VIDEO_SOURCE_QUALITY_CHANGED",this.maybeShowHDStreamingViewerUpsellMessage),s.Z.subscribe("VOICE_CHANNEL_SELECT",this.cleanupShowHDStreamingViewerUpsellMessage))}_terminate(){__OVERLAY__?s.Z.unsubscribe("PREMIUM_PAYMENT_MODAL_OPEN",this._handlePremiumPaymentModalOpen):(s.Z.unsubscribe("PREMIUM_PAYMENT_MODAL_CLOSE",this._handlePremiumPaymentModalClose),s.Z.unsubscribe("MESSAGE_LENGTH_UPSELL",this.handleMessageLengthUpsell),s.Z.unsubscribe("POST_CONNECTION_OPEN",this._maybeFetchPremiumOffer),s.Z.unsubscribe("POST_CONNECTION_OPEN",this._maybeFetchCheckoutRecovery),s.Z.unsubscribe("POST_CONNECTION_OPEN",this._trackCustomNotificationSoundsExposure),s.Z.unsubscribe("RTC_CONNECTION_STATE",this.maybeShowHDStreamingPerksDemoPostUpsellModal),s.Z.unsubscribe("MEDIA_ENGINE_VIDEO_SOURCE_QUALITY_CHANGED",this.maybeShowHDStreamingViewerUpsellMessage),s.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.cleanupShowHDStreamingViewerUpsellMessage))}handleMessageLengthUpsell(e){let{channel:t,content:l}=e;(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("33184").then(n.bind(n,465836));return n=>(0,i.jsx)(e,{channel:t,content:l,...n})})}openPremiumPaymentModalInApp(e){if(__OVERLAY__)throw Error("Should not use this function from the overlay, use ModalAPI.openModal instead");return new Promise((t,n)=>{(0,h.Z)({...e,onClose:e=>{e?t():n()}})})}openPremiumPaymentModalInOverlay(e){if(__OVERLAY__)throw Error("Should not use this function from the overlay, use ModalAPI.openModal instead");let{initialPlanId:t,subscriptionTier:n,followupSKUInfo:i,analyticsObject:l}=null!=e?e:{};return new Promise((e,r)=>{this._premiumPaymentModalCloseResolve=e,this._premiumPaymentModalCloseReject=r,s.Z.dispatch({type:"PREMIUM_PAYMENT_MODAL_OPEN",initialPlanId:t,subscriptionTier:n,followupSKUInfo:i,analyticsObject:l})})}maybeShowHDStreamingPerksDemoPostUpsellModal(e){var t;let{inPerksDemosExperiment:n}=N.Z.getCurrentConfig({location:"PremiumManager"},{autoTrackExposure:!1}),{enabled:i}=L.Z.getCurrentConfig({location:"PremiumManager"},{autoTrackExposure:!1});if(!n||!i||e.state!==R.hes.DISCONNECTED||e.willReconnect)return;let l=p.Z.getChannel(e.channelId);if(null==l||!(null===(t=Z.Z.getPerksDemos())||void 0===t?void 0:t[r.q.STREAM_HIGH_QUALITY]))return;let a=Z.Z.getActivated()[r.q.STREAM_HIGH_QUALITY];if(a&&s.Z.dispatch({type:"PREMIUM_PERKS_DEMO_COMPLETE",perkType:r.q.STREAM_HIGH_QUALITY}),!!a&&!!T.j$.getState().hqStreamingDidEnable)(0,A.Z)(l.guild_id)}constructor(...e){super(...e),j(this,"_premiumPaymentModalCloseResolve",null),j(this,"_premiumPaymentModalCloseReject",null),j(this,"_lastStreamingChannelId",null),j(this,"_maybeFetchPremiumOffer",async()=>{let e=f.default.getCurrentUser();if(null!=e&&e.verified){let t=!(0,C.I5)(e)&&g.Z.shouldFetchOffer();await (0,v.Tf)(t)}s.Z.dispatch({type:"PREMIUM_MARKETING_DATA_READY"})}),j(this,"_maybeFetchCheckoutRecovery",async()=>{let e=f.default.getCurrentUser();null!=e&&e.verified&&!(0,C.I5)(e)&&await (0,E.o)()}),j(this,"_trackCustomNotificationSoundsExposure",()=>{b.Y.trackExposure({location:"PremiumManager"})}),j(this,"_handlePremiumPaymentModalOpen",e=>{(0,h.Z)({...e,analyticsLocations:[u.Z.OVERLAY],onClose:e=>{s.Z.dispatch({type:"PREMIUM_PAYMENT_MODAL_CLOSE",didSucceed:e})}})}),j(this,"_handlePremiumPaymentModalClose",e=>{let{didSucceed:t}=e;t&&null!=this._premiumPaymentModalCloseResolve?this._premiumPaymentModalCloseResolve():null!=this._premiumPaymentModalCloseReject&&this._premiumPaymentModalCloseReject(),this._premiumPaymentModalCloseResolve=null,this._premiumPaymentModalCloseReject=null}),j(this,"maybeShowHDStreamingViewerUpsellMessage",e=>{let t=f.default.getCurrentUser();(null==t?void 0:t.id)!==e.senderUserId&&this._maybeSendViewerUpsellMessage(e.channelId,e.guildId,t)}),j(this,"_maybeSendViewerUpsellMessage",(0,l.debounce)((e,t,n)=>{var i,l;let r=d.Z.getSelectedParticipant(e),a=(0,S.o)(r,n),{sendNitroMessage:s}=(0,x.TD)(a),c=null!==(l=null===(i=_.Z.getGuild(t))||void 0===i?void 0:i.premiumTier)&&void 0!==l?l:R.Eu4.NONE;if(!!s&&!(c>=R.Eu4.TIER_2)&&(null==r?void 0:r.type)===y.fO.STREAM&&(null==r?void 0:r.id)!==(null==n?void 0:n.id)&&null!=r.maxResolution&&null!=r.maxFrameRate){if(e!==this._lastStreamingChannelId){this._lastStreamingChannelId=e;let n=P.Z.Messages.STREAM_PREMIUM_VIEWER_UPSELL_MESSAGE.format({nickname:r.userNick,resolution:(0,O.o6)(r.maxResolution.height),fps:(0,I.bp)(r.maxFrameRate)});o.Z.sendNitroSystemMessage(e,n),m.default.track(R.rMx.PREMIUM_UPSELL_MESSAGE_SENT,{type:M.cd.HD_STREAMING_VIEWER_UPSELL,location_section:null!=t?R.jXE.TEXT_IN_VOICE:R.jXE.CHANNEL_TEXT_AREA,location_object:R.qAy.MESSAGE,guild_id:t})}}},200)),j(this,"cleanupShowHDStreamingViewerUpsellMessage",e=>{null==e.channelId&&(this._lastStreamingChannelId=null)})}}t.Z=new D},900085:function(e,t,n){n.d(t,{Z:function(){return F}}),n(411104),n(47120);var i,l=n(735250),r=n(470079),a=n(120356),s=n.n(a),o=n(873546),c=n(442837),u=n(481060),d=n(239091),h=n(134616),p=n(714338),_=n(212819),f=n(14429),g=n(592125),m=n(888369),C=n(430824),I=n(306680),E=n(944486),N=n(938475),x=n(387204),S=n(107828),Z=n(153124),v=n(585483),T=n(63063),L=n(51596),A=n(823385),b=n(670512),M=n(981631),R=n(689938),y=n(163282);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let P=10,j=()=>(0,l.jsxs)("div",{className:y.emptyState,children:[(0,l.jsx)("div",{className:y.emptyStateNote,children:R.Z.Messages.QUICKSWITCHER_EMPTY_TEXT}),(0,l.jsx)("div",{className:y.emptyStateCTA,children:(0,l.jsx)(u.Anchor,{href:T.Z.getArticleURL(M.BhN.QUICK_SWITCHER_TUTORIAL),children:R.Z.Messages.QUICKSWITCHER_EMPTY_CTA})})]});class D extends(i=r.Component){render(){let e=C.Z.getGuild(this.props.channel.guild_id);return(0,l.jsx)(S.$W,{...this.props,children:(0,l.jsx)("div",{className:y.miscContainer,children:null!=e?e.name:null})})}}O(D,"defaultProps",{unread:!1});let U=c.ZP.connectStores([I.ZP,g.Z],e=>{let{channel:t}=e;return{unread:I.ZP.hasUnread(t.id),mentions:I.ZP.getMentionCount(t.id),category:g.Z.getChannel(t.parent_id)}})(D),G=c.ZP.connectStores([N.ZP],e=>{let{channel:t}=e;if(null==t.guild_id)throw Error("ConnectedVoiceChannel - somehow we got a voice channel with no guild_id...");return{voiceStates:N.ZP.getVoiceStates(t.guild_id)[t.id]}})(D),w=c.ZP.connectStores([m.default],e=>{let{guild:t}=e;return{unread:m.default.hasUnread(t.id)}})(S.ic),k=c.ZP.connectStores([I.ZP],e=>{let{channel:t}=e;return{mentions:I.ZP.getMentionCount(t.id)}})(S.PZ),B=c.ZP.connectStores([g.Z,I.ZP],e=>{let{user:t}=e,n=g.Z.getDMFromUserId(t.id);return{mentions:null!=n?I.ZP.getMentionCount(n):0}})(S.n5);function V(e,t,n){return(0,l.jsx)(u.Tooltip,{text:n,children:e=>(0,l.jsx)("span",{...e,className:y.autocompleteQuerySymbol,children:t})},e)}class H extends r.PureComponent{componentDidMount(){p.Z.disable(),p.Z.enableTemp(h.u)}componentWillUnmount(){p.Z.disableTemp(),p.Z.enable()}componentDidUpdate(e,t){let{mouseFocusDisabled:n,query:i}=this.state,{selectedIndex:l}=this.props,{current:r}=this.scrollerRef;if(null!=r)i!==t.query?r.scrollTo({to:0}):n&&l>=0&&r.scrollToIndex({section:0,row:l,padding:10})}close(){(0,L.Cp)()}search(e){this.setState({query:e}),(0,L.yC)(e)}renderInput(){let{selectedIndex:e,results:t}=this.props,{query:n}=this.state,i=t.length>0&&""!==n;return(0,l.jsx)(u.FocusRing,{children:(0,l.jsx)("input",{className:y.input,"aria-label":R.Z.Messages.QUICK_SWITCHER,ref:this.inputRef,type:"text",role:"combobox","aria-controls":this._listId,"aria-expanded":i,"aria-activedescendant":i?this.getRowId(e):void 0,"aria-autocomplete":"list",placeholder:R.Z.Messages.QUICKSWITCHER_PLACEHOLDER,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,value:this.state.query,spellCheck:!1,autoFocus:!0})})}renderSection(){return null}renderResults(){let{query:e}=this.state,{results:t}=this.props;return 0===t.length&&e.length>0?(0,l.jsx)(j,{}):0===t.length?null:(0,l.jsx)(u.ListAuto,{innerId:this._listId,innerRole:"listbox","aria-label":R.Z.Messages.QUICK_SWITCHER_RESULTS_LABEL,ref:this.scrollerRef,sectionHeight:0,rowHeight:34,paddingBottom:P,sections:[t.length],className:y.scroller,renderRow:this.renderRow,renderSection:this.renderSection})}focusNode(e){v.S.dispatch(M.CkL.QUICKSWITCHER_RESULT_FOCUS,{node:e})}getRowId(e){return"quick-switcher-".concat(this._listId,"-item-").concat(e)}renderProtip(){return(0,l.jsx)(x.Z,{className:s()(y.protip,{[y.hasContent]:this.state.query.length>0}),type:x.Z.Types.INLINE,children:R.Z.Messages.QUICKSWITCHER_PROTIP.format({userSymbolHook:(e,t)=>V(t,_.xQ.USER,R.Z.Messages.QUICKSWITCHER_PROTIP_USERNAMES),textChannelSymbolHook:(e,t)=>V(t,_.xQ.TEXT_CHANNEL,R.Z.Messages.QUICKSWITCHER_PROTIP_TEXT_CHANNELS),voiceChannelSymbolHook:(e,t)=>V(t,_.xQ.VOICE_CHANNEL,R.Z.Messages.QUICKSWITCHER_PROTIP_VOICE_CHANNELS),guildSymbolHook:(e,t)=>V(t,_.xQ.GUILD,R.Z.Messages.QUICKSWITCHER_PROTIP_GUILDS),helpdeskArticle:T.Z.getArticleURL(M.BhN.QUICK_SWITCHER_TUTORIAL)})})}renderTutorial(){let{query:e}=this.state,{seenTutorial:t,results:n}=this.props;return t?null:(0,l.jsx)(b.Z,{hasQuery:e.length>0&&n.length>0})}render(){return(0,l.jsx)(u.ModalRoot,{"aria-label":R.Z.Messages.QUICK_SWITCHER,size:u.ModalSize.DYNAMIC,transitionState:this.props.transitionState,className:s()(y.container,o.tq&&y.mobileContainer),fullscreenOnMobile:!1,children:(0,l.jsxs)("div",{className:s()(y.quickswitcher,o.tq&&y.mobileQuickswitcher),onMouseMove:this.handleMouseMove,children:[this.renderInput(),this.renderResults(),this.renderProtip(),this.renderTutorial()]})})}constructor(...e){super(...e),O(this,"scrollerRef",r.createRef()),O(this,"inputRef",r.createRef()),O(this,"_listId",(0,Z.hQ)()),O(this,"state",{query:this.props.query,mouseFocusDisabled:!0}),O(this,"handleInputChange",()=>{let{current:e}=this.inputRef;null!=e&&this.search(e.value)}),O(this,"handleMouseMove",()=>{let{mouseFocusDisabled:e}=this.state;if(!1!==e)this.setState({mouseFocusDisabled:!1})}),O(this,"focusResult",e=>{if(!this.state.mouseFocusDisabled)(0,L.tF)(this.props.results.indexOf(e))}),O(this,"selectResult",e=>{(0,L.Se)(e,this.props.queryMode===_.h8.TEXT_CHANNEL)}),O(this,"handleContextMenu",e=>{let t=this.props.results[this.props.selectedIndex];switch(t.type){case _.h8.GUILD:return(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("96427"),n.e("33053"),n.e("50654"),n.e("7654"),n.e("41662"),n.e("44156"),n.e("33009"),n.e("85552"),n.e("58227"),n.e("75291"),n.e("24420"),n.e("33213"),n.e("96479")]).then(n.bind(n,545135));return n=>(0,l.jsx)(e,{...n,guild:t.record,onSelect:L.Cp,hideSettings:!0})});case _.h8.TEXT_CHANNEL:case _.h8.VOICE_CHANNEL:let i=t.record,r=C.Z.getGuild(i.getGuildId());if(null==r)return;switch(i.type){case M.d4z.GUILD_TEXT:case M.d4z.GUILD_ANNOUNCEMENT:case M.d4z.GUILD_FORUM:case M.d4z.GUILD_MEDIA:return(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("18320"),n.e("54310")]).then(n.bind(n,373651));return t=>(0,l.jsx)(e,{...t,channel:i,guild:r,onSelect:L.Cp})});case M.d4z.GUILD_VOICE:case M.d4z.GUILD_STAGE_VOICE:return(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("18320"),n.e("83331")]).then(n.bind(n,213202));return t=>(0,l.jsx)(e,{...t,channel:i,guild:r,onSelect:L.Cp})});case M.d4z.ANNOUNCEMENT_THREAD:case M.d4z.PUBLIC_THREAD:case M.d4z.PRIVATE_THREAD:return(0,d.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return t=>(0,l.jsx)(e,{...t,channel:i,onSelect:L.Cp})});case M.d4z.GUILD_STORE:return(0,d.jW)(e,async()=>{let{default:e}=await n.e("99905").then(n.bind(n,649400));return t=>(0,l.jsx)(e,{...t,channel:i,guild:r,onSelect:L.Cp})});case M.d4z.GUILD_DIRECTORY:return(0,d.jW)(e,async()=>{let{default:e}=await n.e("70623").then(n.bind(n,99334));return t=>(0,l.jsx)(e,{...t,channel:i})})}break;case _.h8.GROUP_DM:return(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("25421")]).then(n.bind(n,354741));return n=>(0,l.jsx)(e,{...n,channel:t.record,selected:E.Z.getChannelId()===t.record.id,onSelect:L.Cp})});case _.h8.USER:return(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("61035")]).then(n.bind(n,881351));return n=>(0,l.jsx)(e,{...n,user:t.record,onSelect:L.Cp})})}}),O(this,"handleKeyDown",e=>{let{mouseFocusDisabled:t,query:n}=this.state,{results:i}=this.props;!1===t&&this.setState({mouseFocusDisabled:!0});let l=e.key.toLowerCase(),{selectedIndex:r}=this.props;switch(l){case"escape":e.preventDefault(),e.stopPropagation(),n.length>0?this.search(""):(0,L.Cp)();return;case"k":(!0===e.ctrlKey||!0===e.metaKey)&&(e.preventDefault(),e.stopPropagation(),(0,L.Cp)());return;case"enter":{if(-1===r)return;if(e.preventDefault(),e.altKey)return this.handleContextMenu(e);let t=i[r];null!=t&&this.selectResult(t);return}case"arrowup":r=(0,_.gJ)(_.a8.UP,r,i);break;case"arrowdown":r=(0,_.gJ)(_.a8.DOWN,r,i);break;case"n":if(!e.ctrlKey)return;r=(0,_.gJ)(_.a8.DOWN,r,i);break;case"p":if(!e.ctrlKey)return;r=(0,_.gJ)(_.a8.UP,r,i);break;default:return}e.preventDefault(),(0,L.tF)(r)}),O(this,"renderRow",e=>{let{row:t}=e,n=this.props.results[t],{selectedIndex:i}=this.props,{showScores:r}=f.Z.getCurrentConfig({location:"62f4be_1"},{autoTrackExposure:!1});switch(n.type){case _.h8.HEADER:return(0,l.jsx)(S.h4,{children:n.record.text},"".concat(n.type,"-").concat(n.record.id));case _.h8.TEXT_CHANNEL:return(0,l.jsx)(U,{id:this.getRowId(t),focused:i>=0&&t===i,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,channel:n.record,score:r?n.score:void 0},"".concat(n.type,"-").concat(n.record.id));case _.h8.VOICE_CHANNEL:return(0,l.jsx)(G,{id:this.getRowId(t),focused:i>=0&&t===i,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,channel:n.record,score:r?n.score:void 0},"".concat(n.type,"-").concat(n.record.id));case _.h8.GUILD:return(0,l.jsx)(w,{id:this.getRowId(t),focused:i>=0&&t===i,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,guild:n.record,score:r?n.score:void 0},"".concat(n.type,"-").concat(n.record.id));case _.h8.USER:return(0,l.jsx)(B,{id:this.getRowId(t),focused:i>=0&&t===i,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,user:n.record,comparator:n.comparator,score:r?n.score:void 0},"".concat(n.type,"-").concat(n.record.id));case _.h8.GROUP_DM:return(0,l.jsx)(k,{id:this.getRowId(t),focused:i>=0&&t===i,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,channel:n.record,score:r?n.score:void 0},"".concat(n.type,"-").concat(n.record.id));case _.h8.APPLICATION:return(0,l.jsx)(S.Mx,{id:this.getRowId(t),focused:i>=0&&t===i,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,application:n.record},"".concat(n.type,"-").concat(n.record.id));case _.h8.LINK:return(0,l.jsx)(S.rU,{focused:i>=0&&t===i,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,link:n.record,score:r?n.score:void 0,id:this.getRowId(t)},"".concat(n.type,"-").concat(n.record.id));default:return null}})}}function F(e){let t=(0,c.cj)([A.Z],()=>A.Z.getProps());return(0,l.jsx)(H,{...t,...e})}},329557:function(e,t,n){var i=n(735250);n(470079);var l=n(481060),r=n(570140),a=n(317770),s=n(51596),o=n(823385),c=n(900085);let u="QUICK_SWITCHER_MODAL_KEY";class d extends a.Z{_initialize(){r.Z.subscribe("QUICKSWITCHER_SHOW",this.handleShow),r.Z.subscribe("QUICKSWITCHER_HIDE",this.handleHide)}_terminate(){r.Z.unsubscribe("QUICKSWITCHER_SHOW",this.handleShow),r.Z.unsubscribe("QUICKSWITCHER_HIDE",this.handleHide)}handleShow(){o.Z.isOpen()&&!(0,l.hasModalOpen)(u)&&(0,l.openModal)(e=>(0,i.jsx)(c.Z,{...e}),{modalKey:u,instant:!0,onCloseCallback:s.Cp})}handleHide(){(0,l.closeModal)(u)}}t.Z=new d},670512:function(e,t,n){n(47120);var i,l=n(735250),r=n(470079),a=n(120356),s=n.n(a),o=n(748780),c=n(846519),u=n(481060),d=n(585483),h=n(981631),p=n(689938),_=n(97124);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g={friction:15,tension:100};class m extends(i=r.PureComponent){componentDidMount(){this.setState({shown:!0}),d.S.subscribe(h.CkL.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)}componentWillUnmount(){this.focusTimeout.stop(),d.S.unsubscribe(h.CkL.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)}componentDidUpdate(){let{hasQuery:e}=this.props;!e&&this.springTo(0)}springTo(e){let{reducedMotion:t}=this.context;!0!==t.enabled&&o.Z.spring(this.state.translateY,{toValue:Math.min(e,250),...g}).start()}renderArrowGroup(e){return(0,l.jsxs)("div",{className:s()(_.arrowGroup,e),children:[(0,l.jsx)(o.Z.div,{className:s()(_.arrowContainer,_.horizontal),style:this.getStyle(),children:(0,l.jsx)("img",{alt:"",src:n(403756),className:_.arrowIcon})}),(0,l.jsx)("div",{className:s()(_.arrowContainer,_.diag1),children:(0,l.jsx)("img",{alt:"",src:n(536404),className:_.arrowIcon})}),(0,l.jsx)("div",{className:s()(_.arrowContainer,_.diag2),children:(0,l.jsx)("img",{alt:"",src:n(569347),className:_.arrowIcon})})]})}renderContent(){return(0,l.jsxs)("div",{className:_.tutorialMessages,children:[(0,l.jsx)("div",{className:_.searchMessage,children:p.Z.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SEARCH}),(0,l.jsx)("div",{className:_.selectMessage,children:p.Z.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SELECT})]})}render(){let{hasQuery:e}=this.props,{shown:t}=this.state;return(0,l.jsxs)("div",{ref:this.rootRef,className:s()(_.tutorial,{[_.shown]:t,[_.hasQuery]:e}),children:[this.renderContent(),this.renderArrowGroup(_.__invalid_left),this.renderArrowGroup(_.right)]})}getStyle(){let{reducedMotion:e}=this.context;return!0===e.enabled?{}:{opacity:1,transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,250],outputRange:["0px","".concat(250,"px")]})},{translateZ:0}]}}constructor(...e){super(...e),f(this,"state",{shown:!1,translateY:new o.Z.Value(0)}),f(this,"rootRef",r.createRef()),f(this,"focusTimeout",new c.V7),f(this,"handleResultFocus",e=>{let{node:t}=e;this.focusTimeout.start(1,()=>{if(this.props.hasQuery&&null!=t&&null!=this.rootRef.current){let{top:e}=this.rootRef.current.getBoundingClientRect(),{top:n}=t.getBoundingClientRect(),i=Math.abs(e-n);this.springTo(i-118+9)}else this.springTo(0)})})}}f(m,"contextType",u.AccessibilityPreferencesContext),t.Z=m},893607:function(e,t,n){n.d(t,{S:function(){return a},c:function(){return s}});var i=n(981631),l=n(176505);let r=/^\d+$/;function a(e){return null!=e&&(!!(e===i.ME||e===i.I_8||e===i.o_z||r.test(e))||!1)}function s(e){return!!(null==e||r.test(e)||(0,l.AB)(e))||!1}},436055:function(e,t,n){n.d(t,{E:function(){return a}});var i=n(470079),l=n(250683),r=n(253135);function a(e){let{codeBase64:t,chunkSize:n,desiredLength:a}=e;return i.useMemo(()=>{if(null==t)return null;let e=l.toByteArray(t),i=(0,r.D)(e,a,n);if(null==i)return null;let s=RegExp(".{1,".concat(n,"}"),"g"),o=i.match(s);return null==o?null:Array.from(o)},[n,t,a])}},160038:function(e,t,n){n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(46973),o=n(481060),c=n(304680),u=n(706619),d=n(695346),h=n(131951),p=n(626135),_=n(572004),f=n(63063),g=n(476221),m=n(981631),C=n(65154),I=n(689938),E=n(755672);let N=()=>{h.Z.getMediaEngine().once(s.aB.ConnectionStats,e=>{let t=Object.values(C.Yn).map(t=>{let n=e.filter(e=>{let{connection:n}=e;return n.context===t}).map((e,n)=>{let i=e.stats;return i.context=t,i.index=n,i});for(let e of n){var i;(null==e?void 0:null===(i=e.transport)||void 0===i?void 0:i.localAddress)!=null&&(e.transport.localAddress="(redacted)")}return n}).filter(e=>e.length>0);(0,_.JG)(JSON.stringify(t,null,2)),(0,o.showToast)((0,o.createToast)(I.Z.Messages.COPIED,o.ToastType.SUCCESS))})};t.Z=function(e){(0,l.useEffect)(()=>{p.default.track(m.rMx.OPEN_POPOUT,{type:"RTC Connection"})},[]);let t=(0,l.useCallback)(()=>{let{closePopout:t}=e;null!=t&&t(),c.bA()},[e]),n=(0,l.useCallback)(()=>{let{hostname:t,averagePing:n,lastPing:r,outboundLossRate:s}=e,o=d.Sb.getSetting();return(0,i.jsxs)(l.Fragment,{children:[o&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:E.graphContainer,children:(0,i.jsx)(u.Z,{dataPoints:e.pings,width:258,height:80})}),(0,i.jsx)("div",{className:E.popoutText,children:(0,i.jsx)("strong",{children:g.Z.getShortHostname(t)})})]}),(0,i.jsx)("div",{className:E.popoutText,children:I.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_AVERAGE_PING.format({averagePing:n.toFixed(0)})}),null!=r?(0,i.jsx)("div",{className:E.popoutText,children:I.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LAST_PING.format({lastPing:r.toFixed(0)})}):null,null!=s?(0,i.jsx)("div",{className:E.popoutText,children:I.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LOSS_VALUE.format({outboundLossRate:s.toFixed(1)})}):null,(0,i.jsxs)("div",{className:a()(E.popoutText,E.popoutTextDetails),children:[null==s?I.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_DETAILS.format({badPing:250}):null,null!=s?I.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_DETAILS_WITH_LOSS.format({badPing:250,badLossRate:10}):null]})]})},[e]),{connectionState:r,connectionTypeText:s}=e,_=d.Sb.getSetting(),x={[m.hes.AWAITING_ENDPOINT]:I.Z.Messages.RTC_CONNECTION_STATE_AWAITING_ENDPOINT.format({url:m.yXt.STATUS}),[m.hes.CONNECTING]:I.Z.Messages.RTC_CONNECTION_STATE_CONNECTING,[m.hes.AUTHENTICATING]:I.Z.Messages.RTC_CONNECTION_STATE_AUTHENTICATING,[m.hes.DISCONNECTED]:I.Z.Messages.RTC_CONNECTION_STATE_DISCONNECTED,[m.hes.RTC_CONNECTING]:I.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTING,[m.hes.ICE_CHECKING]:I.Z.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({url:f.Z.getArticleURL(m.BhN.VOICE_CONNECTION_ERRORS)}),[m.hes.DTLS_CONNECTING]:I.Z.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({url:f.Z.getArticleURL(m.BhN.VOICE_CONNECTION_ERRORS)}),[m.hes.RTC_CONNECTED]:n,[m.hes.NO_ROUTE]:I.Z.Messages.RTC_CONNECTION_STATE_NO_ROUTE.format({url:f.Z.getArticleURL(m.BhN.VOICE_CONNECTION_ERRORS)}),[m.hes.RTC_DISCONNECTED]:I.Z.Messages.RTC_CONNECTION_STATE_DISCONNECTED}[r];return(0,i.jsxs)(i.Fragment,{children:["function"==typeof x?x():(0,i.jsx)("p",{className:a()(E.popoutText,E.popoutTextDetails),children:x}),(0,i.jsx)("hr",{className:E.separator}),(0,i.jsxs)("div",{className:E.popoutBottom,children:[(0,i.jsxs)("span",{className:a()(E.secured,E.textWithIcon),children:[(0,i.jsx)(o.LockIcon,{size:"xxs",color:o.tokens.colors.TEXT_POSITIVE.css,className:E.__invalid_icon}),s]}),_&&h.Z.supports(C.AN.DIAGNOSTICS)&&!__OVERLAY__&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.Anchor,{className:a()(E.debugButton,E.textWithIcon),onClick:t,children:[I.Z.Messages.DEBUG,(0,i.jsx)(o.WindowLaunchIcon,{size:"xxs",color:"currentColor",className:E.__invalid_icon})]}),(0,i.jsxs)(o.Anchor,{className:a()(E.copyStatsButton,E.textWithIcon),onClick:N,title:"Copy to clipboard",children:[I.Z.Messages.COPY_STATS,(0,i.jsx)(o.CopyIcon,{size:"xxs",color:"currentColor",className:E.__invalid_icon})]})]}),!_&&!__OVERLAY__&&(0,i.jsx)(o.Anchor,{className:E.debugButton,href:f.Z.getArticleURL(m.BhN.VOICE_VIDEO_TROUBLESHOOTING),children:I.Z.Messages.LEARN_MORE})]})]})}},873596:function(e,t,n){n.d(t,{Z:function(){return N}}),n(47120);var i=n(735250),l=n(470079),r=n(442837),a=n(481060),s=n(19780),o=n(362446),c=n(153124),u=n(571826),d=n(441894),h=n(160038),p=n(586646),_=n(760373),f=n(689938),g=n(228233);function m(e){let{lobbyId:t,connectionTypeText:n,closePopout:l}=e,a=(0,r.cj)([o.Z],()=>({connectionState:o.Z.getConnectionState(t),hostname:o.Z.getHostname(t),averagePing:o.Z.getAveragePing(t),lastPing:o.Z.getLastPing(t),pings:o.Z.getPings(),outboundLossRate:o.Z.getOutboundLossRate(t)}));return(0,i.jsx)(h.Z,{...a,closePopout:l,connectionTypeText:n})}function C(e){let{closePopout:t,connectionTypeText:n}=e,l=(0,r.cj)([s.Z],()=>({connectionState:s.Z.getState(),hostname:s.Z.getHostname(),averagePing:s.Z.getAveragePing(),lastPing:s.Z.getLastPing(),outboundLossRate:s.Z.getOutboundLossRate(),pings:s.Z.getPings()}));return(0,i.jsx)(h.Z,{...l,closePopout:t,connectionTypeText:n})}function I(e){let{channelId:t,isOverlay:n,lobbyId:l,closePopout:r}=e,a=(0,d.J)({channelId:t,location:"RTCConnectionDebugPanelContainer"})?f.Z.Messages.E2EE_END_TO_END_ENCRYPTED:f.Z.Messages.SECURE_CONNECTION;return n?(0,i.jsx)(m,{lobbyId:l,closePopout:r,connectionTypeText:a}):(0,i.jsx)(C,{closePopout:r,connectionTypeText:a})}function E(e){let[t,n]=l.useState(_.tu.RTC_DEBUG_PANEL),r=(0,c.Dt)(),s=l.useMemo(()=>{switch(t){case _.tu.RTC_DEBUG_PANEL:return(0,i.jsx)(I,{...e});case _.tu.RTC_SECURE_FRAMES:return(0,i.jsx)(p.Z,{channelId:e.channelId})}},[e,t]);return l.useEffect(()=>{(0,u.sN)({channelId:e.channelId,selectedTab:t})},[e.channelId,t]),(0,i.jsxs)("div",{className:g.container,children:[(0,i.jsx)(a.Heading,{className:g.title,variant:"heading-lg/bold",color:"header-primary",children:f.Z.Messages.E2EE_VOICE_DETAILS}),(0,i.jsxs)(a.TabBar,{className:g.tabs,selectedItem:t,type:"top",look:"brand",onItemSelect:n,children:[(0,i.jsx)(a.TabBar.Item,{id:_.tu.RTC_DEBUG_PANEL,className:g.tabBarItem,children:f.Z.Messages.E2EE_CONNECTION}),(0,i.jsx)(a.TabBar.Item,{id:_.tu.RTC_SECURE_FRAMES,className:g.tabBarItem,children:f.Z.Messages.E2EE_PRIVACY})]}),(0,i.jsx)(a.TabBar.Panel,{id:t,"aria-labelledby":r,children:s})]})}function N(e){return(0,d.J)({channelId:e.channelId,location:"RTCConnectionPopout"})?(0,i.jsx)(E,{...e}):(0,i.jsx)("div",{className:g.debugPanelStandalone,children:(0,i.jsx)("section",{className:g.debugPanelSection,children:(0,i.jsx)(I,{...e})})})}},917405:function(e,t,n){n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(481060),o=n(72416),c=n(476221),u=n(873596),d=n(423516),h=n(981631),p=n(202589);let _={[h.IE4.UNKNOWN]:s.Tooltip.Colors.BLACK,[h.IE4.BAD]:s.Tooltip.Colors.RED,[h.IE4.AVERAGE]:s.Tooltip.Colors.YELLOW,[h.IE4.FINE]:s.Tooltip.Colors.GREEN},f={[h.QKv.CONNECTED]:p.rtcConnectionStatusConnected,[h.QKv.CONNECTING]:p.rtcConnectionStatusConnecting,[h.QKv.ERROR]:p.rtcConnectionStatusError},g={[h.IE4.FINE]:p.rtcConnectionQualityFine,[h.IE4.AVERAGE]:p.rtcConnectionQualityAverage,[h.IE4.BAD]:p.rtcConnectionQualityBad,[h.IE4.UNKNOWN]:null};class m extends l.PureComponent{renderPopoutTarget(e){return(0,i.jsx)(s.Popout,{renderPopout:this.renderPopout,position:"top",children:e})}renderStatus(){let{hasVideo:e,state:t}=this.props,{connectionStatus:n,connectionStatusText:l}=c.Z.getStatus(t,e);return this.renderPopoutTarget(e=>{let{onClick:t}=e;return(0,i.jsx)(s.Button,{look:s.Button.Looks.BLANK,size:s.Button.Sizes.NONE,onClick:t,children:(0,i.jsx)(d.Z,{text:l,className:f[n]})})})}render(){let e;let{quality:t,smallPing:n,lastPing:l,state:r,className:o,children:c}=this.props;return r===h.hes.RTC_CONNECTED&&(e=(0,i.jsx)(s.Tooltip,{text:t!==h.IE4.UNKNOWN&&null!=l?"".concat(l.toFixed(0)," ms"):null,color:_[t],children:e=>(0,i.jsx)(C,{quality:t,smallPing:n,...e})})),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:a()(p.rtcConnectionStatus,g[t],o),children:[e,(0,i.jsx)("div",{className:p.labelWrapper,children:this.renderStatus()})]}),c]})}constructor(...e){var t,n,l;super(...e),t=this,n="renderPopout",l=e=>(0,i.jsx)(u.Z,{channelId:this.props.channelId,...e}),n in t?Object.defineProperty(t,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[n]=l}}function C(e){let{quality:t,smallPing:n,...l}=e;if(!(0,s.useRedesignIconContext)().enabled)return(0,i.jsx)(o.Z,{className:a()(p.ping,{[p.smallPing]:n}),foreground:p.pingForeground});{let e={[h.IE4.FINE]:s.ConnectionFineIcon,[h.IE4.AVERAGE]:s.ConnectionAverageIcon,[h.IE4.BAD]:s.ConnectionBadIcon,[h.IE4.UNKNOWN]:s.ConnectionUnknownIcon}[t];return(0,i.jsx)(e,{className:a()(p.ping,{[p.smallPing]:n}),...l})}}t.Z=m},423516:function(e,t,n){var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(546591),s=n(977059),o=n(689938),c=n(857665);t.Z=function(e){let{className:t,text:n}=e,{enabled:l}=s.c.useExperiment({location:"RTCConnectionStatusText"});return(0,i.jsx)(a.Z,{className:r()(t,l?c.hoverableStatus:c.status),hoverText:l?o.Z.Messages.E2EE_CALL_DETAILS:null,children:n})}},586646:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(735250),l=n(470079),r=n(442837),a=n(481060),s=n(19780),o=n(571826),c=n(436055),u=n(785792),d=n(190054),h=n(760373),p=n(689938),_=n(294903);function f(e){let{channelId:t}=e,n=(0,r.e7)([s.Z],()=>{var e;return null===(e=s.Z.getSecureFramesState())||void 0===e?void 0:e.epochAuthenticator}),f=(0,c.E)({codeBase64:n,chunkSize:h.y6,desiredLength:h.YP}),g=l.useCallback(()=>{(0,o.PM)({channelId:t})},[t]);return(0,i.jsxs)("div",{className:_.container,children:[(0,i.jsxs)("div",{className:_.tag,children:[(0,i.jsx)(a.LockIcon,{size:"xxs",color:a.tokens.colors.STATUS_POSITIVE}),(0,i.jsx)(a.Text,{variant:"text-xs/medium",color:"status-positive",children:p.Z.Messages.E2EE_END_TO_END_ENCRYPTED})]}),(0,i.jsx)(a.Text,{variant:"text-xs/normal",color:"text-secondary",children:p.Z.Messages.E2EE_RTC_PANEL_CALL_VERIFICATION_SUBTITLE}),(0,i.jsxs)("div",{className:_.header,children:[(0,i.jsx)(a.Heading,{variant:"text-sm/bold",color:"header-primary",children:p.Z.Messages.E2EE_VOICE_PRIVACY_CODE}),null!=f&&(0,i.jsx)(d.H,{chunks:f,color:a.tokens.colors.INTERACTIVE_NORMAL.css,onCopy:g})]}),null!=f&&(0,i.jsx)(u.b,{className:_.code,chunks:f,columns:h.WK}),(0,i.jsx)(a.Text,{variant:"text-xs/normal",color:"text-secondary",children:p.Z.Messages.E2EE_CALL_VERIFICATION_FOOTER_TEXT.format({helpArticle:h.l4})})]})}},785792:function(e,t,n){n.d(t,{b:function(){return c}});var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(481060),o=n(727857);function c(e){let{chunks:t,columns:n,className:r}=e,c=l.useMemo(()=>({"--secure-frames-columns":n}),[n]);return(0,i.jsx)("div",{style:c,className:a()(o.code,r),children:t.map((e,t)=>(0,i.jsx)("div",{className:a()(o.chunk,{[o.divider]:t>n-1}),children:(0,i.jsx)(s.Text,{className:o.codeText,variant:"code",color:"text-normal",children:e})},"".concat(e,"-").concat(t)))})}},190054:function(e,t,n){n.d(t,{H:function(){return d}}),n(47120);var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(481060),o=n(572004),c=n(689938),u=n(560237);function d(e){let{chunks:t,className:n,onCopy:r,...d}=e,h=l.useMemo(()=>null==t?void 0:t.join(" "),[t]),[p,_]=l.useState(!1),f=l.useCallback(()=>{_(!0),(0,o.JG)(h),null==r||r()},[r,h]),g=p?s.CircleCheckIcon:s.CopyIcon;return(0,i.jsx)(s.Clickable,{className:a()(u.container,n),onClick:f,children:(0,i.jsx)(s.Tooltip,{text:p?c.Z.Messages.COPIED:c.Z.Messages.COPY,children:e=>(0,i.jsx)(g,{...d,...e,size:"xxs",color:p?s.tokens.colors.TEXT_POSITIVE:s.tokens.colors.INTERACTIVE_NORMAL})})})}},706619:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120);var i=n(735250),l=n(470079),r=n(311308),a=n(692547),s=n(481060);function o(e){let t=(0,l.useRef)(null),[n,o]=(0,l.useState)(null),[c]=(0,l.useState)(()=>new r.TimelineDataSeries),u=(0,s.useToken)(a.Z.colors.BACKGROUND_PRIMARY).hsl(),d=(0,s.useToken)(a.Z.colors.TEXT_NORMAL).hsl(),h=(0,s.useToken)(a.Z.colors.BACKGROUND_ACCENT).hsl(),p=(0,s.useToken)(a.Z.unsafe_rawColors.BRAND_500).hsl();(0,l.useEffect)(()=>{var e;let n=t.current;if(null==n)return;let i=new r.TimelineGraphView(n,null!==(e=window.devicePixelRatio)&&void 0!==e?e:1);i.backgroundColor=u,i.textColor=d,i.gridColor=h,i.timeOptions={timeStyle:"short"},i.fontFamily="gg sans",i.fontSize=11,c.setColor(p),i.addDataSeries(c),i.updateEndDate(),o(i)},[t,u,p,h,d,c]),c.setPoints(e.dataPoints),null==n||n.updateEndDate();let _={width:e.width,height:e.height};return(0,i.jsx)("canvas",{style:_,width:e.width,height:e.height,ref:t},"canvas")}},802718:function(e,t,n){n.d(t,{U:function(){return C}});var i=n(735250),l=n(470079),r=n(91192),a=n(481060),s=n(442837),o=n(239091),c=n(410030),u=n(377171),d=n(682662),h=n(662146),p=n(678513),_=n(981631),f=n(689938),g=n(316148);function m(e){let{target:t}=e,s=(0,r.Ie)("fakedoor"),p=l.useCallback(()=>{(0,a.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("22862"),n.e("47740")]).then(n.bind(n,646202));return n=>(0,i.jsx)(e,{...n,target:t})})},[t]),m=l.useCallback(e=>{(0,o.jW)(e,async()=>{let{default:e}=await n.e("45355").then(n.bind(n,761624));return n=>(0,i.jsx)(e,{...n,signupTarget:t})})},[t]),C="url(".concat(t.backgroundAssetUrl,") black top / cover no-repeat"),I=(0,i.jsxs)("div",{className:g.tooltipContainer,children:[(0,i.jsx)("div",{className:g.tooltipBackground,style:{background:C}}),(0,i.jsx)(a.Heading,{variant:"heading-sm/medium",children:t.tooltipHeader}),(0,i.jsx)(a.Text,{variant:"text-xs/normal",children:f.Z.Messages.SIGNUP_BUTTON_TOOLTIP_CTA})]}),E=(0,c.Fg)();return(0,i.jsxs)(d.H,{children:[(0,i.jsx)(a.ThemeContextProvider,{theme:_.BRd.DARK,children:(0,i.jsx)(h.Z,{text:I,tooltipClass:g.tooltip,tooltipContentClass:g.tooltipContent,children:(0,i.jsx)(a.ThemeContextProvider,{theme:E,children:(0,i.jsx)(a.BlobMask,{lowerBadge:(0,i.jsx)(a.NumberBadge,{count:1,color:u.Z.BG_BRAND}),children:(0,i.jsx)(a.NavItem,{...s,onClick:p,onContextMenu:m,children:(0,i.jsx)(a.BellIcon,{color:u.Z.TEXT_NORMAL})})})})})}),(0,i.jsx)("div",{style:{background:C,width:0,height:0}})]})}function C(){let e=(0,s.e7)([p.Z],()=>p.Z.getActiveUserSignUp());return null==e?null:(0,i.jsx)(m,{target:e})}},445507:function(e,t,n){n.d(t,{Q3:function(){return u},Zl:function(){return c},mC:function(){return r},mU:function(){return a},qJ:function(){return s},u9:function(){return l},xQ:function(){return o},z5:function(){return d}});var i=n(704215);function l(e){return"user"===e.type}function r(e){return"guild"===e.type}function a(e){return JSON.stringify({playstyle:e.playstyle,acknowledgeCap:e.acknowledgeCap,acknowledgeScreen:e.acknowledgeScreen})}let s={key:"valorant-user",type:"user",title:"Preview new features for Valorant players on Discord",subtitle:"Get notified about new features we're building to help Valorant players connect and play together on Discord.",tooltipHeader:"Want a preview of new features for Valorant players?",question:"Which feature are you interested in the most?",questionMargin:150,backgroundAssetUrl:"https://cdn.discordapp.com/assets/signups/Valorant_Background.png",dismissibleContent:i.z.GAME_ONE_USER_SIGNUPS,options:[{key:"clan",icon:"compass",title:"Gaming Guilds",description:"Small, organized servers with similar vibes, play styles, or skill levels who hang out and play regularly.",type:"email"},{key:"missions",icon:"gamepad",title:"Missions",description:"Join one-time groups of players trying to achieve the same goal as you, like ranking up or beating a raid boss.",type:"email"},{key:"gamenight",icon:"controller",title:"Game Nights",description:"Get matched with other players on specific criteria like play style or skill and get invited to a scheduled gaming session.",type:"email"}]},o={key:"valorant-admin",type:"guild",title:"Want to recruit more Valorant players for your server?",subtitle:"Your server is exclusively invited to sign up for future Discovery features.",noticeHeader:"Want to recruit more people to play Valorant in your server?",question:"Interested? Pick one to sign up for updates and early access:",questionMargin:110,backgroundAssetUrl:"https://cdn.discordapp.com/assets/signups/Valorant_Background.png",dismissibleContent:i.z.GAME_ONE_USER_SIGNUPS,options:[{key:"clan",icon:"compass",title:"Gaming Guilds",description:"Become a Gaming Guild, where players with similar vibes or skill hang out and play regularly. You'll be discoverable among other guilds and approve member applications to join.",type:"clan"},{key:"voice-hub",icon:"microphone",title:"Gaming Voice Hub",description:"A hub that houses a large selection of voice channels dedicated to gaming, each holding up to 10 people. Join an existing channel or create your own and set the game you're playing, goals, or vibes.",type:"email"},{key:"hub",icon:"controller",title:"Game Hub",description:"Dedicated discovery pages for popular games. Admins can choose to have their server’s text channel activity displayed in the hubs so users can see the conversations happening across Discord for a specific game.",type:"email"}]},c={key:"genshin-user",type:"user",title:"Preview new features for Genshin Impact players on Discord",subtitle:"Get notified about new features we're building to help Genshin Impact players connect on Discord.",tooltipHeader:"Want a preview of new features for Genshin Impact players?",question:"Which feature are you interested in the most?",questionMargin:150,backgroundAssetUrl:"https://cdn.discordapp.com/assets/signups/Genshin_Background.png",dismissibleContent:i.z.GENSHIN_USER_SIGNUPS,options:[{key:"clan",icon:"compass",title:"Gaming Guilds",description:"Small, organized servers with similar vibes, play styles, or skill levels who chat, hang out, or play together regularly.",type:"email"},{key:"missions",icon:"gamepad",title:"Missions",description:"Join one-time groups of players trying to achieve the same goal as you, like farming or beating a raid boss.",type:"email"},{key:"gamenight",icon:"controller",title:"Game Nights",description:"Get matched with other players on specific criteria like play style or skill and get invited to a scheduled gaming session.",type:"email"}]},u={key:"genshin-admin",type:"guild",title:"Interested in recruiting more Genshin Impact players for your server?",subtitle:"Your server is exclusively invited to sign up for future Discovery features.",noticeHeader:"Want to recruit more Genshin Impact players for your server?",question:"Interested? Pick one to sign up for updates and early access:",questionMargin:80,backgroundAssetUrl:"https://cdn.discordapp.com/assets/signups/Genshin_Background.png",dismissibleContent:i.z.GENSHIN_USER_SIGNUPS,options:[{key:"clan",icon:"compass",title:"Gaming Guilds",description:"Become a Gaming Guild, where players with similar vibes or skill chat, hang out, and play regularly. You’ll be discoverable among other guilds and approve new member applications.",type:"clan"},{key:"voice-hub",icon:"microphone",title:"Gaming Voice Hub",description:"A hub that houses a large selection of voice channels dedicated to gaming, each holding up to 10 people. Join an existing channel or create your own and set the game you're playing, goals, or vibes.",type:"email"},{key:"hub",icon:"controller",title:"Game Hub",description:"Dedicated discovery pages for popular games. Admins can choose to have their server’s text channel activity displayed in the hubs so users can see the conversations happening across Discord for a specific game.",type:"email"}]};function d(e){return[{value:"very-casual",title:e.Messages.SIGNUP_CLAN_OPTION_VERY_CASUAL_TITLE,description:e.Messages.SIGNUP_CLAN_OPTION_VERY_CASUAL_DESCRIPTION},{value:"casual",title:e.Messages.SIGNUP_CLAN_OPTION_CASUAL_TITLE,description:e.Messages.SIGNUP_CLAN_OPTION_CASUAL_DESCRIPTION},{value:"hardcore",title:e.Messages.SIGNUP_CLAN_OPTION_HARDCORE_TITLE,description:e.Messages.SIGNUP_CLAN_OPTION_HARDCORE_DESCRIPTION},{value:"very-hardcore",title:e.Messages.SIGNUP_CLAN_OPTION_VERY_HARDCORE_TITLE,description:e.Messages.SIGNUP_CLAN_OPTION_VERY_HARDCORE_DESCRIPTION}]}},678513:function(e,t,n){n(47120);var i,l,r,a,s=n(442837),o=n(570140),c=n(445507);let u={"valorant-user":c.qJ,"valorant-admin":c.xQ,"genshin-user":c.Zl,"genshin-admin":c.Q3},d=null,h={},p=new Set;function _(){for(let e in d=null,h)delete h[e]}class f extends(i=s.ZP.Store){getActiveUserSignUp(){return d}getActiveGuildSignUp(e){var t;return null!==(t=h[e])&&void 0!==t?t:null}hasCompletedTarget(e){return p.has(e)}}a="SignUpStore",(r="displayName")in(l=f)?Object.defineProperty(l,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[r]=a,t.Z=new f(o.Z,{ENABLE_USER_SIGN_UP:function(e){let{key:t}=e,n=u[t];(0,c.u9)(n)&&0===Object.keys(h).length&&(d=n)},ENABLE_GUILD_SIGN_UP:function(e){let{key:t,guildId:n}=e,i=u[t];(0,c.mC)(i)&&(h[n]=i,d=null)},COMPLETE_SIGN_UP:function(e){let{targetKey:t}=e;p.add(t),_()},DISMISS_SIGN_UP:_})},964398:function(e,t,n){n(47120),n(411104);var i=n(735250),l=n(470079),r=n(392711),a=n.n(r),s=n(481060),o=n(65205),c=n(689938),u=n(179216);function d(e){let{className:t}=e;return(0,i.jsxs)("svg",{className:t,fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[(0,i.jsx)("g",{filter:"url(#a)",children:(0,i.jsx)("path",{d:"M30.4 8 24 14.4 17.6 8 16 9.6l6.4 6.4-6.4 6.4 1.6 1.6 6.4-6.4 6.4 6.4 1.6-1.6-6.4-6.4L32 9.6 30.4 8Z",fill:"currentColor"})}),(0,i.jsx)("defs",{children:(0,i.jsxs)("filter",{id:"a",x:"0",y:"0",width:"48",height:"48",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"8"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"8"}),(0,i.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),(0,i.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_605_72103"}),(0,i.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_605_72103",result:"shape"})]})})]})}let h=[{x:.5,y:.05},{x:.95,y:.2},{x:1,y:.5},{x:.95,y:.8},{x:.5,y:.95},{x:.05,y:.8},{x:0,y:.5},{x:.05,y:.2}],p=h.length;function _(e,t,n){let i=e*t;return e>.5?i-n:e<.5?i:i-n/2}let f=(e,t)=>{let n=Math.abs(t.x),i=180/Math.PI*Math.atan2(Math.abs(t.y),n),l=e/2-28.8;return{x:Math.max(l*Math.cos(2*Math.PI*i/360),0),y:Math.max(l*Math.sin(2*Math.PI*i/360),0)}};t.Z=l.memo(function(e){let{wheelWidth:t,wheelHeight:n,itemWidth:g,itemHeight:m,showDeadZoneIndicator:C,activeItem:I,onItemSelect:E,onItemAction:N,interactive:x=!0,children:S}=e,Z=l.useRef(null),v=l.useRef([]),T=l.useRef(!1),L=l.useRef(null),[A,b]=l.useState(0),[M,R]=l.useState({x:0,y:0}),y=Math.abs(M.x)+Math.abs(M.y)>0,O=l.useMemo(()=>a().chunk(S,p),[S]),P=l.useCallback((e,t)=>{null==v.current[A]?v.current[A]=[]:v.current[A][t]=e},[A]),j=l.useCallback((e,t)=>{L.current=t,E(p*e+t)},[E]),D=l.useCallback(()=>{L.current=null,E(null)},[E]),U=l.useCallback(e=>{D(),T.current=e},[D]),G=l.useCallback((e,t,n)=>{if(T.current){R({x:0,y:0});return}let i={x:e.x-t.x,y:e.y-t.y},l=i.x<0,r=i.y<0,a=f(n,i),s=l?Math.max(i.x,-a.x):Math.min(i.x,a.x);R({x:s/2,y:(r?Math.max(i.y,-a.y):Math.min(i.y,a.y))/2})},[]),w=l.useCallback(e=>{if(null!=L.current)e.preventDefault(),e.stopPropagation(),null==N||N(p*A+L.current)},[N,A]),k=l.useMemo(()=>(0,r.throttle)(e=>{if(null==Z.current)return;let i=Z.current.getBoundingClientRect(),l=i.left+i.width/2,r={x:l,y:i.top+i.height/2},a={x:e.clientX,y:e.clientY};if(G(a,r,Math.max(t,n)),T.current){null!=I&&D();return}let s=(0,o.ld)(r,a,Math.max(t,n));for(let e=0;e<v.current[A].length;e++){let t=v.current[A][e];if(null==t)continue;let n=t.getBoundingClientRect();if((0,o.Vr)(r,s,n)){j(A,e);return}}D()},16),[I,G,D,j,A,n,t]),B=l.useCallback(e=>{if(!x)return;let t=A+(e.deltaY>0?1:-1);t>=0&&t<O.length&&(null!=L.current&&(O[t].length>L.current?j(t,L.current):D()),b(t))},[x,A,O,j,D]),V=l.useMemo(()=>O[A].map((e,l)=>{let r=h[l];if(null==r)throw Error("Too many items supplied ".concat(S.length," expected max of ").concat(h.length));let a=_(r.x,t,g),s=_(r.y,n,m);return(0,i.jsx)("div",{ref:e=>P(e,l),className:u.chatWheelItem,style:{left:a,top:s,width:g,height:m},children:e},l)}),[O,A,t,g,n,m,S.length,P]);return(0,i.jsx)(s.Clickable,{className:u.chatWheelMouseInput,onMouseMove:k,onWheel:B,onClick:w,children:(0,i.jsxs)("div",{ref:Z,className:u.chatWheel,style:{width:t,height:n},children:[(0,i.jsxs)("svg",{className:u.chatWheelBackground,viewBox:"0 0 288 288",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsxs)("filter",{id:"soundboard-wheel-background-shadow",x:"0",y:"0",width:"288",height:"288",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"8"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"8"}),(0,i.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),(0,i.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_489_60382"}),(0,i.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_489_60382",result:"shape"})]}),(0,i.jsxs)("g",{filter:"url(#soundboard-wheel-background-shadow)",children:[(0,i.jsx)("circle",{className:u.chatWheelBackground,cx:"144",cy:"144",r:"103.68",strokeWidth:"40.32"}),C&&(0,i.jsx)("circle",{className:u.chatWheelDeadZone,onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),cx:144,cy:144,r:28.8}),y&&(0,i.jsx)("circle",{className:u.chatWheelCenter,cx:144+M.x,cy:144+M.y,r:28.8})]}),C&&(0,i.jsx)("circle",{className:u.chatWheelDeadZone,onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),cx:144,cy:144,r:28.8,stroke:"none"})]}),(0,i.jsxs)("div",{className:u.innerContent,children:[C&&(0,i.jsx)(d,{className:u.chatWheelDeadZoneIcon}),x&&O.length>1?(0,i.jsx)("div",{className:u.paginationHint,children:c.Z.Messages.CHAT_WHEEL_PAGINATION_HINT}):null]}),V]})})})},183584:function(e,t,n){n.d(t,{IN:function(){return s},oZ:function(){return o}}),n(735250),n(470079);var i=n(570140);n(238246),n(788983),n(592125),n(19780);var l=n(808506);n(998502),n(487029);var r=n(710111);n(981631),n(689938);let a={width:r.FW.width,height:r.FW.height,resizable:!1,movable:!1,alwaysOnTop:!0,frame:!1,transparent:!0,hasShadow:!1,skipTaskbar:!0,menubar:!0,backgroundColor:"#00000000",titleBarStyle:null};function s(e,t){i.Z.dispatch({type:"OVERLAY_SET_INPUT_LOCKED",locked:!1,pid:t}),i.Z.dispatch({type:"SOUNDBOARD_SET_OVERLAY_ENABLED",pid:t,enabled:!0,keepOpen:e})}function o(e){i.Z.dispatch({type:"SOUNDBOARD_SET_OVERLAY_ENABLED",pid:e,enabled:!1}),!l.Z.isInputLocked(e)&&i.Z.dispatch({type:"OVERLAY_SET_INPUT_LOCKED",locked:!0,pid:e})}r.FW.padding,a.width,a.height},487029:function(e,t,n){n.d(t,{Z:function(){return x}}),n(47120),n(653041);var i=n(735250),l=n(470079),r=n(990547),a=n(442837),s=n(100527),o=n(906732),c=n(213609),u=n(675478),d=n(19780),h=n(709054),p=n(208049),_=n(763296),f=n(242291),g=n(174470),m=n(549771),C=n(964398),I=n(409673),E=n(710111),N=n(814639);function x(e){let{guildId:t,channel:n,width:x,height:S,keepOpen:Z,interactive:v=!0,analyticsSource:T,onClose:L}=e,A=function(e){let[t,n]=(0,a.Wu)([_.Z],()=>[_.Z.getSounds(),_.Z.getFavorites()]);return l.useMemo(()=>{let i=[],l=[...e,E.X8],r=(e,l)=>{var r,a;for(let s of null!==(a=null===(r=t.get(e))||void 0===r?void 0:r.sort((e,t)=>h.default.compare(e.soundId,t.soundId)))&&void 0!==a?a:[]){let e=n.has(s.soundId);(e&&l||!e&&!l)&&s.available&&i.push(s)}};return l.forEach(e=>r(e,!0)),l.forEach(e=>r(e,!1)),i},[t,n,e])}((0,m.h)(n,!0)),b=(0,g.j)(),M=l.useRef(null),[R,y]=l.useState(void 0),O=(0,a.e7)([d.Z],()=>d.Z.getMediaSessionId()),{analyticsLocations:P}=(0,o.ZP)(s.Z.SOUNDBOARD_WHEEL),j=l.useCallback(e=>{(0,f.GN)(e,n.id,P),L()},[P,n.id,L]);l.useEffect(()=>{p.w(),u.DZ.loadIfNecessary()},[]),l.useEffect(()=>{0===A.length&&0===b.length&&L()},[A.length,b,L]),l.useEffect(()=>()=>{let e=M.current;!Z&&null!=e&&j(e)},[Z,j]),(0,c.Z)({type:r.ImpressionTypes.POPOUT,name:r.ImpressionNames.SOUNDBOARD_POPOUT,properties:{source:T,guild_id:t,media_session_id:O}},{disableTrack:!v});let D=l.useCallback(e=>{M.current=e,y(null==e?void 0:e.soundId)},[]),U=l.useCallback(e=>{if(null==e){D(null);return}let t=A[e];if(null!=t)D(t)},[D,A]),G=l.useCallback(e=>{if(null==e)return;let t=A[e];if(null!=t)j(t)},[A,j]),w=l.useMemo(()=>A.map(e=>(0,i.jsx)(I.ZP,{interactive:v,className:N.soundButton,sound:e,focused:R===e.soundId,channel:n},e.soundId)),[R,n,v,A]);return 0===A.length?null:(0,i.jsx)(o.Gt,{value:P,children:(0,i.jsx)(C.Z,{wheelWidth:x,wheelHeight:S,itemWidth:96,itemHeight:52,showDeadZoneIndicator:!Z,activeItem:R,onItemSelect:U,onItemAction:G,interactive:v,children:w})})}},833845:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(442837),l=n(314897),r=n(88751);function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,i.cj)([r.ZP,l.default],()=>{let n=l.default.getId();return r.ZP.getPermissionsForUser(n,e,t)},[e,t])}},201469:function(e,t,n){n.d(t,{ZP:function(){return s}});var i,l,r=n(833845),a=n(643632);function s(e){let t=(0,a.Z)(e),n=(0,r.Z)(e,!0).moderator;return!t&&n?1:0}(i=l||(l={}))[i.NORMAL=0]="NORMAL",i[i.START_EVENT=1]="START_EVENT"},31022:function(e,t,n){n.d(t,{Z:function(){return _}}),n(47120),n(724458);var i=n(442837),l=n(853856),r=n(592125),a=n(938475),s=n(823379),o=n(136015),c=n(709054),u=n(565799),d=n(501655),h=n(981631);function p(e){let{voiceState:t,userNick:n,user:i}=e,l=(0,a.sQ)(t,n);return{user:i,voiceState:t,nick:n,comparator:l}}function _(e){let[t]=(0,i.e7)([u.Z,r.Z,l.Z],()=>{let t;let n=(t=e===h.I_8?c.default.keys(l.Z.getFavoriteChannels()).map(e=>r.Z.getChannel(e)).filter(s.lm).filter(e=>e.isGuildStageVoice()):u.Z.getChannels(e)).reduce((e,t)=>{let n=u.Z.getMutableParticipants(t.id,d.pV.SPEAKER);return e[t.id]=n.filter(e=>e.type===d.Ui.VOICE).map(p),e},{});return[n,t.reduce((e,t)=>{let{id:n}=t;return e+u.Z.getParticipantsVersion(n)},0)]},[e],o.Q);return t}},261600:function(e,t,n){n.d(t,{U:function(){return p}});var i=n(735250),l=n(470079),r=n(399606),a=n(481060),s=n(592125),o=n(922482),c=n(750154),u=n(427679),d=n(689938);function h(e){var t,n;let{activity:h}=e,{channelId:p}=null!==(t=(0,c.rq)(h))&&void 0!==t?t:{},_=(0,r.e7)([u.Z],()=>u.Z.getStageInstanceByChannel(p),[p]),f=l.useRef(null),g=l.useCallback(()=>{let e=s.Z.getChannel(p);null!=e&&o.Cq(e)},[p]),m=null!==(n=null==_?void 0:_.topic)&&void 0!==n?n:h.name,C=d.Z.Messages.STAGE_CHANNEL_ACTIVITY_FEED_JOIN.format({channel:m});return(0,i.jsx)("div",{ref:f,children:(0,i.jsx)(a.Clickable,{onClick:g,focusProps:{ringTarget:f},children:(0,i.jsx)(a.Heading,{variant:"heading-sm/semibold",children:C})})})}class p{shouldShow(e){return(0,c.JE)(e)}createHeader(e){return{subtitle:d.Z.Messages.STAGE_CHANNEL_ACTIVITY_FEED_DEFAULT,icon:null}}constructor(){var e,t,n;e=this,t="body",n=h,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}}},630186:function(e,t,n){n.d(t,{Z:function(){return s},_:function(){return a}});var i=n(726542),l=n(973616),r=n(689938);let a="twitch:";class s extends l.Z{getIconURL(){return i.Z.get("twitch").icon.lightPNG}constructor(e){super(e),this.id="".concat(a).concat(e.url),this.name=r.Z.Messages.GAME_FEED_ACTIVITY_STREAMING_TWITCH}}},250889:function(e,t,n){n.d(t,{H:function(){return r},Z:function(){return a}});var i=n(726542),l=n(973616);let r="xbox:";class a extends l.Z{getIconURL(){return i.Z.get("xbox").icon.lightPNG}constructor(e){super(e),this.id="".concat(r).concat(e.name),this.name=e.name}}},358652:function(e,t,n){n(47120);var i,l,r,a,s=n(442837),o=n(570140),c=n(131704),u=n(251625),d=n(592125),h=n(306680),p=n(944486),_=n(55589);let f=[];function g(){let e=_.Z.getPrivateChannelIds().filter(e=>h.ZP.getMentionCount(e)>0);return e.length>20&&(e.length=20),!(0,u.EF)(e,f)&&(f=e,!0)}function m(){return g()}function C(e){let{channelId:t}=e,n=d.Z.getChannel(t);return!!(null!=n&&(0,c.hv)(n.type))&&g()}class I extends(i=s.ZP.Store){initialize(){this.waitFor(_.Z,d.Z,p.Z,h.ZP)}getUnreadPrivateChannelIds(){return f}}a="PrivateChannelReadStateStore",(r="displayName")in(l=I)?Object.defineProperty(l,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[r]=a,t.Z=new I(o.Z,{CONNECTION_OPEN:m,OVERLAY_INITIALIZE:m,MESSAGE_CREATE:C,MESSAGE_ACK:C,CHANNEL_SELECT:function(e){let{channelId:t}=e,n=d.Z.getChannel(t);return!!(null!=n&&(0,c.hv)(n.type))&&g()},CHANNEL_DELETE:function(e){let{channel:{id:t}}=e,n=d.Z.getChannel(t);return!!(null!=n&&(0,c.hv)(n.type))&&g()},WINDOW_FOCUS:function(){let e=d.Z.getChannel(p.Z.getChannelId());return!!(null!=e&&(0,c.hv)(e.type))&&g()},CHANNEL_CREATE:function(e){let{channel:{id:t}}=e,n=d.Z.getChannel(t);return!!(null!=n&&(0,c.hv)(n.type))&&g()},CHANNEL_UPDATES:function(e){let{channels:t}=e,n=!1;for(let{id:e}of t){let t=d.Z.getChannel(e);null!=t&&(0,c.hv)(t.type)&&(n=!0)}return!!n&&g()}})},613060:function(e,t,n){var i,l=n(442837),r=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s={};class o extends(i=l.ZP.PersistedStore){initialize(e){null!=e&&Object.keys(e).forEach(t=>{"number"==typeof e[t]&&(s[t]=e[t])})}getState(){return s}hasViewed(e){return null!=s[e]}}a(o,"displayName","ViewHistoryStore"),a(o,"persistKey","ViewHistoryStore"),t.Z=new o(r.Z,{VIEW_HISTORY_MARK_VIEW:function(e){let{key:t}=e;s[t]=Date.now()}})},241890:function(e,t,n){let i,l;var r=n(735250);n(470079);var a=n(481060),s=n(570140),o=n(341382),c=n(981631);let u=null;function d(e){null!=i&&e?i():null!=l&&l(),i=null,l=null}t.Z={init(){s.Z.subscribe("PREMIUM_REQUIRED_MODAL_OPEN",e=>{if(d(!1),u=e.context,i=e.resolve,l=e.reject,c.e3s===e.context){let e;e=!1,(0,a.openModalLazy)(async()=>{let{default:t}=await n.e("29393").then(n.bind(n,134817));return n=>{let{onClose:i,...l}=n;return(0,r.jsx)(t,{...l,onClose:t=>{e=t,i()}})}},{onCloseCallback:()=>{(0,o.M)(e)}})}}),s.Z.subscribe("PREMIUM_REQUIRED_MODAL_CLOSE",e=>{let{shouldContinue:t}=e;u=null,d(t)}),s.Z.subscribe("OVERLAY_SET_INPUT_LOCKED",e=>{let{locked:t}=e;t&&null!=u&&(u=null,d(!1))})}}},362446:function(e,t,n){n(724458);var i,l,r,a,s=n(442837),o=n(570140),c=n(981631);let u={};function d(e){let t=u[e=null!=e?e:"null"];return null==t&&(t=u[e]={state:c.hes.DISCONNECTED,quality:c.IE4.UNKNOWN,pings:[],hostname:null,lossRate:null}),t}function h(e,t,n){let i=u[e=null!=e?e:"null"];return null!=i?t(i):n}class p extends(i=s.ZP.Store){getConnectionState(e){return h(e,e=>{let{state:t}=e;return t},c.hes.DISCONNECTED)}getQuality(e){return h(e,e=>{let{quality:t}=e;return t},c.IE4.UNKNOWN)}getHostname(e){return h(e,e=>{let{hostname:t}=e;return t},null)}getPings(e){return h(e,e=>{let{pings:t}=e;return t},[])}getAveragePing(e){let t=this.getPings(e);return 0===t.length?0:t.reduce((e,t)=>e+t.value,0)/t.length}getLastPing(e){var t;let n=this.getPings(e);if(0===n.length)return 0;return null===(t=n[n.length-1])||void 0===t?void 0:t.value}getOutboundLossRate(e){return h(e,e=>{let{lossRate:t}=e;return t},null)}}a="OverlayRTCConnectionStore",(r="displayName")in(l=p)?Object.defineProperty(l,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[r]=a,t.Z=new p(o.Z,{OVERLAY_INITIALIZE:function(e){u=e.rtcConnectionStates},RTC_CONNECTION_STATE:function(e){if(null!=e.streamKey)return!1;let t=d(e.lobbyId);t.state=e.state,t.hostname=e.hostname},RTC_CONNECTION_PING:function(e){let t=d(e.lobbyId);t.pings=e.pings,t.quality=e.quality},RTC_CONNECTION_LOSS_RATE:function(e){d(e.lobbyId).lossRate=e.lossRate}})},801077:function(e,t,n){n(47120),n(653041),n(724458);var i,l,r,a,s=n(392711),o=n.n(s),c=n(442837),u=n(570140),d=n(782769),h=n(527805),p=n(841784),_=n(503438),f=n(802856),g=n(420660),m=n(728345),C=n(812206),I=n(710845),E=n(38618),N=n(656063),x=n(761282),S=n(814443),Z=n(789407),v=n(630186),T=n(250889),L=n(199902),A=n(592125),b=n(480294),M=n(831506),R=n(731290),y=n(430824),O=n(496675),P=n(158776),j=n(699516),D=n(594174),U=n(979651),G=n(823379),w=n(981631);let k=!1,B=!1,V=[],H=[],F={},W={},Y=new Set,z=new Set;function K(){let e=j.Z.getFriendIDs();return b.Z.hasConsented(w.pjP.PERSONALIZATION)?new Set([...S.Z.getUserAffinitiesUserIds(),...e]):new Set(e)}function q(e){return P.Z.findActivity(e,e=>e.type!==w.IIU.CUSTOM_STATUS)}function Q(e){return null==F[e]&&(F={...F,[e]:new T.Z({name:e})}),F[e]}function J(e){return null==W[e]&&(W={...W,[e]:new v.Z({url:e})}),W[e]}function X(e){!z.has(e)&&Y.add(e)}function $(e){if((0,_.Z)(e))return Z.r9;let t=null!=e.application_id?C.Z.getApplication(e.application_id):null;return null!=t?t:(0,f.Z)(e)?Q(e.name):(0,g.Z)(e)&&null!=e.url?J(e.url):(null!=e.application_id&&X(e.application_id),t)}function ee(e){let t=U.Z.getVoiceStateForUser(e);return(null==t?void 0:t.channelId)!=null&&O.Z.canWithPartialContext(w.Plq.VIEW_CHANNEL,{channelId:t.channelId})?t.channelId:null}function et(e){return j.Z.isFriend(e.id)}function en(e,t,n){var i,l,r,a,s,c;let u;let _=D.default.getCurrentUser(),f=null!==(i=null==_?void 0:_.nsfwAllowed)&&void 0!==i&&i,g=t.map(e=>e.id),m=t.filter(t=>e.has(t.id)),E=!1,S=[],b=new Set,j=!1,w=[];for(let e of t){let n=L.Z.getAnyStreamForUser(e.id),i=A.Z.getChannel(null==n?void 0:n.channelId);if((null==i?void 0:i.isNSFW())&&(!f||!R.Z.didAgree(null==i?void 0:i.getGuildId())))continue;let s=q(e.id);if(null!=n&&w.push({stream:n,streamUser:e,activity:s}),null==s)continue;let c=(0,N.Z)(s);if(null==c)continue;j=c===Z.XB;let u=function(e){let t=C.Z.getApplication(e);return null!=t?t:"string"!=typeof e?(new I.Z("NowPlayingViewStore").error("Unknown type for applicationId: ".concat(typeof e,", value: ").concat(e),{tags:{source:"ACTIVITIES"}}),null):e===Z.XB?Z.r9:e.startsWith(T.H)?Q(e.slice(T.H.length)):e.startsWith(v._)?J(e.slice(v._.length)):(X(e),null)}(c),g=null===(l=s.timestamps)||void 0===l?void 0:l.start;if((0,p.Z)(s)){let t=(0,d.a)();if((0,h.ZP)({activity:s,userId:e.id,application:u,channelId:null===(r=U.Z.getVoiceStateForUser(e.id))||void 0===r?void 0:r.channelId,currentUser:_,isActivitiesEnabledForCurrentPlatform:t,ChannelStore:A.Z,VoiceStateStore:U.Z,PermissionStore:O.Z,GuildStore:y.Z})!==h.Fw.CAN_JOIN)continue}else if(null==g)continue;if(!x.JE(s)||null==u||b.has(u.id))continue;let m=null!=s?$(s):null;(null==m||m.id!==u.id)&&(s=null);let P=[];P=null!=s&&null!=s.party&&null!=s.party.id?Array.from(null!==(a=M.Z.getParty(s.party.id))&&void 0!==a?a:[]).reduce((e,t)=>{let n=D.default.getUser(t);return null!=n&&e.push(n),e},[]):t.filter(e=>{let t=q(e.id),n=null!=t?$(t):null;return null!=n&&n.id===u.id}),(P=o().orderBy(P,[et],["desc"])).length!==t.length&&(E=!0),b.add(u.id),S.push({game:u,activity:s,activityUser:e,startedPlayingTime:g,playingMembers:P})}let k=1===m.length,B=[],V=new Set,H=new Set;for(let e of t){let n=ee(e.id),i=A.Z.getChannel(n),l=null!=i?i.getGuildId():null,r=y.Z.getGuild(l);if(H.has(l)&&V.has(n)||null==i||null==r||i.id===r.afkChannelId)null==i&&(u=null,k=!0);else{let e=o()(U.Z.getVoiceStatesForChannel(i.id)).map(e=>{let{userId:t}=e;return D.default.getUser(t)}).filter(G.lm).orderBy([et],["desc"]).value();e.filter(e=>!g.includes(e.id)).forEach(e=>t.push(e)),k?!H.has(l)&&(u=null):(u=r,k=!0),H.add(l),V.add(n),B.push({channel:i,guild:r,members:e})}}return{id:n,voiceChannels:B,isSpotifyActivity:j,priorityMembers:m.map(e=>({user:e,status:P.Z.getStatus(e.id)})),partiedMembers:t,showPlayingMembers:E,guildContext:u,currentActivities:(s=S,c=e=>{var t;return null!==(t=e.startedPlayingTime)&&void 0!==t?t:0},o()(s).orderBy([c,e=>e.game.name],["desc","asc"])).value(),applicationStreams:w}}function ei(){return k&&E.Z.isConnected()}let el=o().throttle(()=>{!function(){var e;if(!ei())return;Y.clear(),H=(V=(function(e){let t=K(),n=en.bind(null,t);return o()(e).mapValues(n)})((e=Array.from(K()).reduce((e,t)=>{let n=D.default.getUser(t);return null!=n&&!n.bot&&e.push(n),e},[]),o()(e).groupBy(e=>{var t;let n=ee(e.id),i=q(e.id);return null!=n?"".concat("channel-","-").concat(n):(null==i?void 0:null===(t=i.party)||void 0===t?void 0:t.id)!=null?"".concat("party-","-").concat(i.party.id):"".concat("user-","-").concat(e.id)}))).values().orderBy([e=>e.partiedMembers.length>1,e=>e.applicationStreams.length>0,e=>e.voiceChannels.length>0,e=>e.currentActivities.length>0,e=>e.isSpotifyActivity,e=>e.priorityMembers.map(e=>e.user.username.toLowerCase()).join(" ")],["desc","desc","desc","desc","asc","asc"]).value().filter(e=>e.voiceChannels.length>=1||e.currentActivities.length>0||e.applicationStreams.length>0)).map(e=>({type:w.GOo.USER,party:e})),!function(){if(Y.size>0){let e=Array.from(Y);m.Z.fetchApplications(e),e.forEach(e=>z.add(e)),Y.clear()}}(),B=!0}(),es.emitChange()},1e3);function er(){return!!ei()&&(el(),!1)}class ea extends(i=c.ZP.Store){initialize(){this.syncWith([D.default,C.Z,P.Z,M.Z,U.Z,L.Z,j.Z,b.Z,S.Z],er),this.waitFor(E.Z,y.Z,C.Z,D.default,S.Z)}get currentActivityParties(){return V}get nowPlayingCards(){return H}get isMounted(){return k}get loaded(){return B}}a="NowPlayingViewStore",(r="displayName")in(l=ea)?Object.defineProperty(l,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[r]=a;let es=new ea(u.Z,{LOGOUT:function(){k=!1,V=[],H=[],Y.clear()},NOW_PLAYING_MOUNTED:function(){k=!0,el()},NOW_PLAYING_UNMOUNTED:function(){k=!1}});t.Z=es},816779:function(e,t,n){n(47120),n(653041);var i,l=n(735250),r=n(470079),a=n(120356),s=n.n(a),o=n(954955),c=n.n(o),u=n(748780),d=n(902704),h=n(481060),p=n(740933);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let f={friction:10,tension:300};class g extends r.Component{shouldComponentUpdate(e,t){return!(0,d.Z)(this.props,e,["animate"])||!(0,d.Z)(this.state,t)}componentDidMount(){let{hide:e}=this.props;e?this.state.translateY.setValue(1):this.state.translateY.setValue(0)}componentDidUpdate(e){let{hide:t}=e,{hide:n}=this.props;n&&!t?this.animateOut():!n&&t&&this.animateIn()}componentWillUnmount(){null!=this._timeout&&clearTimeout(this._timeout)}animateIn(){let{translateY:e}=this.state;if(null!=this._timeout&&clearTimeout(this._timeout),!this.props.animate){e.setValue(0);return}this._timeout=setTimeout(()=>{u.Z.spring(e,{toValue:0,...f}).start()},100)}animateOut(){let{translateY:e}=this.state;if(null!=this._timeout&&clearTimeout(this._timeout),!this.props.animate){e.setValue(1);return}u.Z.spring(e,{toValue:1,...f}).start()}render(){let{className:e,text:t,hide:n,onClick:i}=this.props;return(0,l.jsx)(u.Z.div,{className:s()(p.bar,e),onClick:i,style:this.getAnimatedStyle(),"aria-hidden":n,children:(0,l.jsx)("span",{className:p.text,children:t})})}getAnimatedStyle(){let{translateY:e}=this.state,{reverse:t}=this.props;return{transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%",t?"180%":"-180%"]})}]}}constructor(e){super(e),_(this,"_timeout",void 0),this.state={translateY:new u.Z.Value,reduceMotion:!1}}}class m extends(i=r.PureComponent){componentDidMount(){this.calculateState()}componentDidUpdate(){this.calculateState()}componentWillUnmount(){this.calculateState.cancel()}render(){let{unread:e,mention:t}=this.state,{textMention:n,textUnread:i,reverse:r,className:a,barClassName:o,hide:c,animate:u}=this.props,{reducedMotion:d}=this.context;return(0,l.jsx)("div",{className:null!=a?a:void 0,children:(0,l.jsx)(g,{hide:!0===c||null==e&&null==t,className:s()(o,null!=t?p.mention:p.unread),text:null!=t?n:i,reverse:r,animate:u&&!d.enabled,onClick:this.handleClick})})}constructor(...e){super(...e),_(this,"state",{unread:null,mention:null}),_(this,"calculateState",c()(()=>{let{items:e,expandedFolders:t,isVisible:n,isUnread:i,isMentioned:l,reverse:r,onCalculate:a}=this.props,s=null,o=null,c=[];e.forEach(e=>{"string"==typeof e?c.push(e):"object"==typeof e&&null!=e.folderId?null!=t&&t.has(e.folderId)?(c.push("folder:".concat(e.folderId)),e.guildIds.forEach(e=>c.push(e))):c.push(e.guildIds):c.push(e.guildIds[0])});let u=e=>{null==s&&l(e,r,c)&&(s=e),null==o&&i(e,r,c)&&(o=e)},d=r?c.length-1:0,h=c[d];for(;null!=h;){if("string"==typeof h){if(n(h,r,c))break;u(h)}else{let e=!1;for(let t of h){if(n(t,r,c)){e=!0;break}u(t)}if(e)break}d+=r?-1:1,h=c[d]}null!=a&&a(s,o,r),this.setState({mention:s,unread:o})},200)),_(this,"handleClick",e=>{e.preventDefault(),e.stopPropagation();let{unread:t,mention:n}=this.state,{onJumpTo:i}=this.props,l=null!=n?n:t;null!=l&&i(l,[n,t])})}}_(m,"contextType",h.AccessibilityPreferencesContext),_(m,"defaultProps",{className:p.container,reverse:!1,hide:!1,animate:!0}),t.Z=m},28718:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(746555);function s(e){let{selected:t,muted:n=!1,highlighted:l=!1,wrapContent:s=!1,avatar:o,decorators:c,name:u,subText:d,avatarClassName:h,innerClassName:p}=e;return(0,i.jsxs)("div",{className:r()(p,a.layout,{[a.muted]:!t&&n,[a.highlighted]:l,[a.wrappedLayout]:s}),children:[(0,i.jsx)("div",{className:r()(a.avatar,h),children:o}),(0,i.jsxs)("div",{className:a.content,children:[(0,i.jsxs)("div",{className:a.nameAndDecorators,children:[(0,i.jsx)("div",{className:r()(a.name,{[a.wrappedName]:s}),children:u}),c]}),null!=d?(0,i.jsx)("div",{className:a.subText,children:d}):null]})]})}},733880:function(e,t,n){var i=n(735250),l=n(470079),r=n(120356),a=n.n(r),s=n(481060),o=n(161632);let c=l.forwardRef(function(e,t){let{className:n,focusProps:l,...r}=e;return(0,i.jsx)(s.FocusRing,{...l,children:(0,i.jsx)("li",{className:a()(n,o.container),...r,ref:t})})});t.Z=c},72416:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var l=n(325767);function r(e){let{width:t=24,height:n=24,color:r="currentColor",foreground:a,...s}=e;return(0,i.jsxs)("svg",{...(0,l.Z)(s),width:t,height:n,viewBox:"0 0 24 24",children:[(0,i.jsx)("path",{d:"M7.19999 18C7.19999 17.3364 6.77 16.8 6.24019 16.8H3.3598C2.82999 16.8 2.39999 17.3364 2.39999 18V20.4C2.39999 21.0636 2.82999 21.6 3.3598 21.6H6.23923C6.76904 21.6 7.19903 21.0636 7.19903 20.4V18H7.19999Z",fill:r,className:a}),(0,i.jsx)("path",{d:"M14.4 10.6909C14.4 10.0876 13.9699 9.6 13.44 9.6H10.56C10.0301 9.6 9.60001 10.0876 9.60001 10.6909V20.5091C9.60001 21.1124 10.0301 21.6 10.56 21.6H13.44C13.9699 21.6 14.4 21.1124 14.4 20.5091V10.6909Z",fill:r,className:a}),(0,i.jsx)("path",{d:"M21.6 3.46667C21.6 2.8768 21.1699 2.4 20.64 2.4H17.76C17.2301 2.4 16.8 2.8768 16.8 3.46667V20.5333C16.8 21.1232 17.2301 21.6 17.76 21.6H20.64C21.1699 21.6 21.6 21.1232 21.6 20.5333V3.46667Z",fill:r,className:a})]})}},976401:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(481060),s=n(806519),o=n(905380);function c(e){let{tooltipText:t,children:n,onContextMenu:l,onClick:c,disabled:u,icon:d,iconForeground:h,innerClassName:p,tooltipClassName:_,onMouseEnter:f,onMouseLeave:g,"aria-label":m,"aria-checked":C,role:I,tooltipColor:E,tooltipForceOpen:N}=e,x="function"==typeof d?(0,i.jsx)(d,{width:20,height:20,size:"custom",color:null!=h?h:"currentColor"}):d;return(0,i.jsx)(a.Tooltip,{tooltipClassName:_,text:t,"aria-label":m,color:E,forceOpen:N,children:e=>{let{onClick:t,onMouseEnter:d,onMouseLeave:h,..._}=e;return(0,i.jsxs)(a.Button,{..._,look:a.Button.Looks.BLANK,size:a.Button.Sizes.NONE,disabled:u,innerClassName:p,wrapperClassName:o.button,className:r()(o.button,{[o.disabled]:u,[o.enabled]:!u}),onClick:e=>{null!=t&&t(),null!=c&&c(e)},onMouseEnter:()=>{null==d||d(),null==f||f()},onMouseLeave:()=>{null==h||h(),null==g||g()},onContextMenu:l,role:I,"aria-checked":C,children:[null!=n?(0,i.jsx)(s.ZP,{width:20,height:20,mask:s.ZP.Masks.PANEL_BUTTON,children:x}):x,n]})}})}},333454:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(481060),s=n(609415);function o(e){let{children:t,className:n}=e;return(0,i.jsx)(a.Text,{color:"none",className:r()(s.subtext,n),variant:"text-xs/normal",children:t})}},864441:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var l=n(120356),r=n.n(l),a=n(481060),s=n(494583);function o(e){let{children:t,className:n}=e;return(0,i.jsx)(a.Text,{color:"none",className:r()(s.title,n),variant:"text-sm/normal",children:t})}},281029:function(e,t,n){n.d(t,{Dn:function(){return h},if:function(){return d},ig:function(){return s}}),n(47120),n(733860),n(653041);var i=n(740504),l=n(131704),r=n(990492),a=n(981631);function s(e,t){return null!=e&&null!=t&&(e===t||(0,l.r8)(e)&&(0,l.r8)(t)||(0,l.bw)(e)&&(0,l.bw)(t))}function o(e,t,n,i){let l=-1;if(i.find((e,n)=>{let{channel:i}=e;return i.id===t&&(l=n,!0)}),l<0)return null;for(let t=l;t>=0&&t<i.length;t+=e){let e=i[t];if(s(e.channel.type,n))return e}return null}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return 0;let i=null;return t.filter(t=>{let{channel:{type:i}}=t;return null!=e&&(n||s(e.type,i))}).find((t,n)=>{let{channel:{id:l}}=t;return null!=e&&l===e.id&&(i=n,!0)}),i}function u(e){return{referenceId:e.id,parentId:e.parent_id}}function d(e,t,n,i,r){if(null==e||null==n)return null;let{GUILD_CATEGORY:d}=a.d4z;if(e.type===d)return i===t||i<t&&e.type===n.type?u(n):i>t?function(e,t,n){var i;let{GUILD_CATEGORY:l}=a.d4z,r=n[(null!==(i=c(t,n,!0))&&void 0!==i?i:0)+1],s=o(-1,t.id,e.type,n);return null==s||s.channel.id===e.id?null:null==r||r.channel.type===l?{referenceId:s.channel.id,parentId:null}:null}(e,n,r):null;if(s(e.type,n.type))return u(n);if(i<t)return n.type===d?function(e,t,n){var i;let r=n[(null!==(i=c(t,n,!0))&&void 0!==i?i:0)-1],a=o(1,t.id,e.type,n);if(null==r)return{referenceId:null,parentId:null};if(null!=a){if(s(r.channel.type,e.type)||e.isGuildVocal()&&(0,l.r8)(r.channel.type))return{referenceId:a.channel.id,parentId:r.channel.parent_id};if(r.channel.isCategory())return{referenceId:a.channel.id,parentId:r.channel.id}}return null}(e,n,r):function(e,t,n){var i;let r=n[(null!==(i=c(t,n,!0))&&void 0!==i?i:0)-1],a=o(1,t.id,e.type,n);return null!=r||e.isGuildVocal()?(0,l.r8)(e.type)&&null!=a&&((0,l.r8)(r.channel.type)||r.channel.isCategory())?{referenceId:a.channel.id,parentId:t.parent_id}:null:{referenceId:null!=a?a.channel.id:null,parentId:null}}(e,n,r);return n.type===d?function(e,t,n){var i;let r=n[(null!==(i=c(t,n,!0))&&void 0!==i?i:0)+1],a=o(-1,t.id,e.type,n);if(null!=a){if(null==r)return{referenceId:a.channel.id,parentId:t.id};if(s(r.channel.type,e.type)||(0,l.r8)(e.type)&&r.channel.isGuildVocal())return{referenceId:a.channel.id,parentId:r.channel.parent_id};if(r.channel.isCategory())return{referenceId:a.channel.id,parentId:t.id}}return null}(e,n,r):function(e,t,n){var i;let l=n[(null!==(i=c(t,n,!0))&&void 0!==i?i:0)+1],r=o(-1,t.id,e.type,n);if(null==r)return null;if(e.isGuildVocal()){if(null==l||l.channel.isCategory())return{referenceId:r.channel.id,parentId:t.parent_id};if(l.channel.isGuildVocal())return{referenceId:r.channel.id,parentId:l.channel.parent_id}}return e.isCategory()&&(null==l||l.channel.isCategory())?{referenceId:r.channel.id,parentId:null}:null}(e,n,r)}function h(e,t,n,a){let s,o,u=[],d=[],h=a._categories,p=t=>{var n,i,l,a;let c;if(null==s||null==o||(n=e,i=s,l=o,a=t,null!=i&&null!=l&&null!=a[i]&&a[i].channel===n&&null!=a[l]?0:1))c=[...t];else c=r.ZP.moveItemFromTo(t,s,o);return u=u.concat(r.ZP.calculatePositionDeltas({oldOrdering:t,newOrdering:c,idGetter:e=>{let{channel:t}=e;return t.id},existingPositionGetter:e=>{let{channel:t}=e;return t.position}})),c};if(e.isCategory()){let n=[...h].slice(1);s=c(e,n),o=c(t,n),(d=p(n)).unshift(h[0])}if((0,l.r8)(e.type)||e.isCategory()){let n=(0,i.Z)(d.length>0?d:h,a,e=>{let{channel:{type:t}}=e;return(0,l.r8)(t)});s=c(e,n),o=c(t,n),p(n)}if(e.isGuildVocal()||e.isCategory()){let n=(0,i.Z)(d.length>0?d:h,a,e=>{let{channel:t}=e;return t.isGuildVocal()});s=c(e,n),o=c(t,n),p(n)}if(e.parent_id!==n){let t=!1;u.find(i=>i.id===e.id&&(i.parent_id=n,t=!0)),!t&&u.push({id:e.id,parent_id:n})}return u}},65205:function(e,t,n){function i(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function l(e,t,n,l){return i(e,n,l)!==i(t,n,l)&&i(e,t,n)!==i(e,t,l)}function r(e,t,n){let i=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));return{x:t.x+(t.x-e.x)/i*n,y:t.y+(t.y-e.y)/i*n}}function a(e,t,n){let i={x:n.x,y:n.y},r={x:n.x+n.width,y:n.y},a={x:n.x,y:n.y+n.height},s={x:n.x+n.width,y:n.y+n.height};return l(e,t,i,r)||l(e,t,r,s)||l(e,t,s,a)||l(e,t,a,i)}n.d(t,{Vr:function(){return a},ld:function(){return r}})},476221:function(e,t,n){var i=n(981631),l=n(689938);t.Z={getStatus:function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case i.hes.CONNECTING:t=i.QKv.CONNECTING,n=l.Z.Messages.CONNECTION_STATUS_CONNECTING;break;case i.hes.AUTHENTICATING:t=i.QKv.CONNECTING,n=l.Z.Messages.CONNECTION_STATUS_AUTHENTICATING;break;case i.hes.AWAITING_ENDPOINT:t=i.QKv.CONNECTING,n=l.Z.Messages.CONNECTION_STATUS_AWAITING_ENDPOINT;break;case i.hes.RTC_CONNECTED:t=i.QKv.CONNECTED,n=r?l.Z.Messages.CONNECTION_STATUS_VIDEO_CONNECTED:l.Z.Messages.CONNECTION_STATUS_VOICE_CONNECTED;break;case i.hes.RTC_CONNECTING:t=i.QKv.CONNECTING,n=l.Z.Messages.CONNECTION_STATUS_RTC_CONNECTING;break;case i.hes.ICE_CHECKING:t=i.QKv.CONNECTING,n=l.Z.Messages.CONNECTION_STATUS_ICE_CHECKING;break;case i.hes.DTLS_CONNECTING:t=i.QKv.CONNECTING,n=l.Z.Messages.CONNECTION_STATUS_DTLS_CONNECTING;break;case i.hes.NO_ROUTE:t=i.QKv.ERROR,n=l.Z.Messages.CONNECTION_STATUS_NO_ROUTE;break;case i.hes.RTC_DISCONNECTED:t=i.QKv.ERROR,n=l.Z.Messages.CONNECTION_STATUS_RTC_DISCONNECTED;break;case i.hes.DISCONNECTED:default:t=i.QKv.ERROR,n=l.Z.Messages.CONNECTION_STATUS_DISCONNECTED}return{connectionStatus:t,connectionStatusText:n}},getShortHostname:function(e){return null==e?"":e.split(".")[0]}}},438882:function(e,t,n){n.d(t,{D:function(){return i}}),n(411104);function i(e,t,n){if(e.byteLength<t)throw Error("data.byteLength must be greater than or equal to desiredLength");if(t%n!=0)throw Error("desiredLength must be a multiple of groupSize");if(n>8)throw Error("groupSize must be less than or equal to ".concat(8));let i=BigInt(10**n),l="";for(let r=0;r<t;r+=n){let t=BigInt(0);for(let i=n;i>0;--i)t=t<<8n|BigInt(e[r+(n-i)]);t%=i,l+=t.toString().padStart(n,"0")}return l}},253135:function(e,t,n){n.d(t,{D:function(){return i.D}});var i=n(438882)},53154:function(e,t,n){e.exports={container:"container_f9c402",guildBadge:"guildBadge_f9c402",appIcon:"appIcon_f9c402",appIconSize:"appIconSize_f9c402",avatar:"avatar_f9c402",guildIcon:"guildIcon_f9c402",compactAvatar:"compactAvatar_f9c402",inviteResolvingGuildName:"inviteResolvingGuildName_f9c402",title:"title_f9c402",directInviteSubTitle:"directInviteSubTitle_f9c402",activityCount:"activityCount_f9c402",guildContainer:"guildContainer_f9c402",appIn:"appIn_f9c402",appGuildName:"appGuildName_f9c402",icon:"icon_f9c402"}},608418:function(e,t,n){e.exports={channel:"channel_c91bad",fullWidth:"fullWidth_c91bad",interactive:"interactive_c91bad",overflowTooltip:"overflowTooltip_c91bad",clanTag:"clanTag_c91bad",interactiveSelected:"interactiveSelected_c91bad",interactiveSystemDM:"interactiveSystemDM_c91bad",avatarWithText:"avatarWithText_c91bad",link:"link_c91bad",linkButton:"linkButton_c91bad",linkButtonIcon:"linkButtonIcon_c91bad",closeButton:"closeButton_c91bad",favoriteIcon:"favoriteIcon_c91bad",closeIcon:"closeIcon_c91bad",subtext:"subtext_c91bad",activity:"activity_c91bad subtext_c91bad",activityText:"activityText_c91bad",activityEmoji:"activityEmoji_c91bad",decorator:"decorator_c91bad"}},995794:function(e,t,n){e.exports={checkbox:"checkbox_c8160f"}},367358:function(e,t,n){e.exports={empty:"empty_c47fa9",headerText:"headerText_c47fa9",privateChannelsHeaderContainer:"privateChannelsHeaderContainer_c47fa9",privateChannelRecipientsInviteButtonIcon:"privateChannelRecipientsInviteButtonIcon_c47fa9",scroller:"scroller_c47fa9"}},182216:function(e,t,n){e.exports={progressContainer:"progressContainer_ff398b",downloadIcon:"downloadIcon_ff398b"}},101212:function(e,t,n){e.exports={message:"message_f3e42a"}},71044:function(e,t,n){e.exports={container:"container_ed5743",contentWrapper:"contentWrapper_ed5743",scroller:"scroller_ed5743",noThanksButton:"noThanksButton_ed5743",stage:"stage_ed5743",inviteContent:"inviteContent_ed5743",inviteSplash:"inviteSplash_ed5743",buttonGroup:"buttonGroup_ed5743",experimentUpsellError:"experimentUpsellError_ed5743",experimentUpsellIcon:"experimentUpsellIcon_ed5743",experimentUpsellText:"experimentUpsellText_ed5743",experimentGetNitro:"experimentGetNitro_ed5743",errorContent:"errorContent_ed5743",errorImage:"errorImage_ed5743",errorBody:"errorBody_ed5743",iconContainer:"iconContainer_ed5743",iconSparklePlus:"iconSparklePlus_ed5743",iconLink:"iconLink_ed5743",iconSparkleStar:"iconSparkleStar_ed5743"}},34771:function(e,t,n){e.exports={container:"container_f24142",header:"header_f24142",inline:"inline_f24142",broadcast:"broadcast_f24142",button:"button_f24142",separator:"separator_f24142"}},272003:function(e,t,n){e.exports={image:"image_c2f0f8",content:"content_c2f0f8"}},846756:function(e,t,n){e.exports={container:"container_ff2ab3",close:"close_ff2ab3",closeIcon:"closeIcon_ff2ab3",imageContainer:"imageContainer_ff2ab3",image:"image_ff2ab3",message:"message_ff2ab3",title:"title_ff2ab3",live:"live_ff2ab3",center:"center_ff2ab3",noImageTitle:"noImageTitle_ff2ab3",button:"button_ff2ab3",header:"header_ff2ab3",participants:"participants_ff2ab3",pill:"pill_ff2ab3",pillIcon:"pillIcon_ff2ab3",pillLabel:"pillLabel_ff2ab3",locationContainer:"locationContainer_ff2ab3",location:"location_ff2ab3",locationIcon:"locationIcon_ff2ab3",avatar:"avatar_ff2ab3"}},228741:function(e,t,n){e.exports={notice:"notice_c54479",button:"button_c54479",invite:"invite_c54479",title:"title_c54479",inviteContainer:"inviteContainer_c54479",envelope:"envelope_c54479",message:"message_c54479"}},387764:function(e,t,n){e.exports={clipsEducationHeader:"clipsEducationHeader_e26612",clipsEducationArt:"clipsEducationArt_e26612",keyCombo:"keyCombo_e26612",bodyText:"bodyText_e26612",keybindHintKeys:"keybindHintKeys_e26612",keybindShortcut:"keybindShortcut_e26612",header:"header_e26612"}},201032:function(e,t,n){e.exports={container:"container_cc38f4",closeIcon:"closeIcon_cc38f4",linkButtonContainer:"linkButtonContainer_cc38f4",linkButton:"linkButton_cc38f4",title:"title_cc38f4",subTitle:"subTitle_cc38f4",dropImgPreStreamNotice:"dropImgPreStreamNotice_cc38f4",dropImgProgressTracker:"dropImgProgressTracker_cc38f4",dropImgQuestCompletion:"dropImgQuestCompletion_cc38f4",progressBarCount:"progressBarCount_cc38f4",progressBarContainer:"progressBarContainer_cc38f4",progressBarOuter:"progressBarOuter_cc38f4",progressBarInner:"progressBarInner_cc38f4",viewerCount:"viewerCount_cc38f4",pointer:"pointer_cc38f4",spinner:"spinner_cc38f4"}},279619:function(e,t,n){e.exports={tooltipText:"tooltipText_ce31b4"}},744486:function(e,t,n){e.exports={pill:"pill_dcc7a4",favoriteIcon:"favoriteIcon_dcc7a4",ring:"ring_dcc7a4",ringActive:"ringActive_dcc7a4"}},840626:function(e,t,n){e.exports={content:"content_aa99af",contentNoArt:"contentNoArt_aa99af",contentPremium:"contentPremium_aa99af",artAbsolute:"artAbsolute_aa99af art_aa99af",artInline:"artInline_aa99af art_aa99af",body:"body_aa99af",header:"header_aa99af",headerWithPremiumIcon:"headerWithPremiumIcon_aa99af header_aa99af",premiumIcon:"premiumIcon_aa99af",button:"button_aa99af",buttonContainerHorizontal:"buttonContainerHorizontal_aa99af",buttonContainerVertical:"buttonContainerVertical_aa99af",pointer:"pointer_aa99af",bottomPointer:"bottomPointer_aa99af",centerLeftPointer:"centerLeftPointer_aa99af",topLeftPointer:"topLeftPointer_aa99af",gifTag:"gifTag_aa99af",earlyAccessText:"earlyAccessText_aa99af",earlyAccessIcon:"earlyAccessIcon_aa99af",earlyAccessBadgeContainer:"earlyAccessBadgeContainer_aa99af"}},617253:function(e,t,n){e.exports={wrapper:"wrapper_c07d45",icon:"icon_c07d45",badge:"badge_c07d45"}},960600:function(e,t,n){e.exports={container:"container_c75f85",progressBar:"progressBar_c75f85 bar_c75f85",containerWithMargin:"containerWithMargin_c75f85",textArea:"textArea_c75f85",goalTextContainer:"goalTextContainer_c75f85",progressBarContainer:"progressBarContainer_c75f85 bar_c75f85",progressBarContainerComplete:"progressBarContainerComplete_c75f85",progressFraction:"progressFraction_c75f85",tadaIcon:"tadaIcon_c75f85",count:"count_c75f85",goalText:"goalText_c75f85"}},460267:function(e,t,n){e.exports={premiumChannelIcon:"premiumChannelIcon_f7460c"}},542326:function(e,t,n){e.exports={popout:"popout_c5b389",title:"title_c5b389",row:"row_c5b389",more:"more_c5b389",avatar:"avatar_c5b389",bullet:"bullet_c5b389",timestamp:"timestamp_c5b389",name:"name_c5b389"}},595954:function(e,t,n){e.exports={content:"content_cc29d1"}},949601:function(e,t,n){e.exports={containerDefault:"containerDefault_a08117",containerDragBefore:"containerDragBefore_a08117",containerDragAfter:"containerDragAfter_a08117",addButton:"addButton_a08117",forceVisible:"forceVisible_a08117",iconVisibility:"iconVisibility_a08117",addButtonIcon:"addButtonIcon_a08117",wrapper:"wrapper_a08117 wrapperCommon_a08117",wrapperStatic:"wrapperStatic_a08117 wrapperCommon_a08117",clickable:"clickable_a08117",children:"children_a08117",mainContent:"mainContent_a08117",icon:"icon_a08117",collapsed:"collapsed_a08117",muted:"muted_a08117",name:"name_a08117",dismissWrapper:"dismissWrapper_a08117",dismissButton:"dismissButton_a08117",dismiss:"dismiss_a08117",voiceChannelsButton:"voiceChannelsButton_a08117",voiceChannelsToggleIcon:"voiceChannelsToggleIcon_a08117"}},854018:function(e,t,n){e.exports={container:"container_e88961",popoutHeaderContainer:"popoutHeaderContainer_e88961",headerDivider:"headerDivider_e88961",settingNudgeText:"settingNudgeText_e88961"}},328979:function(e,t,n){e.exports={flexRow:"flexRow_f866f2",flexColumn:"flexColumn_f866f2",applicationLargeImage:"applicationLargeImage_f866f2 assetsLargeImage_f866f2",spotifyLargeImage:"spotifyLargeImage_f866f2 assetsLargeImage_f866f2",bodyTextSize:"bodyTextSize_f866f2",ellipsisRow:"ellipsisRow_f866f2",header:"header_f866f2 ellipsisRow_f866f2 headerTextSize_f866f2",colorHeaderSecondary:"colorHeaderSecondary_f866f2",clickable:"clickable_f866f2",headerLink:"headerLink_f866f2 link_f866f2 headerTextSize_f866f2 clickable_f866f2 ellipsisRow_f866f2",bodyLink:"bodyLink_f866f2 link_f866f2 ellipsisRow_f866f2 bodyTextSize_f866f2",usersSummary:"usersSummary_f866f2",timeBar:"timeBar_f866f2",detailsAndAvatarsContainer:"detailsAndAvatarsContainer_f866f2",avatar:"avatar_f866f2"}},421097:function(e,t,n){e.exports={activity:"activity_d5aa01",partyMembers:"partyMembers_d5aa01",partyAvatar:"partyAvatar_d5aa01",morePartyMembers:"morePartyMembers_d5aa01",button:"button_d5aa01",channelActivityContainer:"channelActivityContainer_d5aa01",activityActionsContainer:"activityActionsContainer_d5aa01"}},47705:function(e,t,n){e.exports={containerDefault:"containerDefault_f6f816",containerDragBefore:"containerDragBefore_f6f816",containerUserOver:"containerUserOver_f6f816",containerDragAfter:"containerDragAfter_f6f816",iconItem:"iconItem_f6f816 iconBase_f6f816",alwaysShown:"alwaysShown_f6f816",selected:"selected_f6f816",iconNoChannelInfo:"iconNoChannelInfo_f6f816",iconVisibility:"iconVisibility_f6f816",iconWithChannelInfo:"iconWithChannelInfo_f6f816",disabled:"disabled_f6f816",actionIcon:"actionIcon_f6f816",channelInfo:"channelInfo_f6f816",iconLive:"iconLive_f6f816"}},219644:function(e,t,n){e.exports={newChannel:"newChannel_ecb303"}},606561:function(e,t,n){e.exports={icon20px:"icon20px_e06fdc",container:"container_e06fdc",overflow:"overflow_e06fdc",modeMuted:"modeMuted_e06fdc"}},857100:function(e,t,n){e.exports={scroller:"scroller_c43953",unreadBar:"unreadBar_c43953",unreadBottom:"unreadBottom_c43953 unread_c43953 "+n("740933").container,positionedContainer:"positionedContainer_c43953",unreadTop:"unreadTop_c43953 unread_c43953 "+n("740933").container,voiceUserSummary:"voiceUserSummary_c43953",sectionDivider:"sectionDivider_c43953"}},777443:function(e,t,n){e.exports={popoutHeader:"popoutHeader_aab567",channelIcon:"channelIcon_aab567",channelName:"channelName_aab567"}},92617:function(e,t,n){e.exports={container:"container_fd6364",clickable:"clickable_fd6364",animatedBannerHoverLayer:"animatedBannerHoverLayer_fd6364",animatedContainer:"animatedContainer_fd6364",bannerImage:"bannerImage_fd6364",bannerImg:"bannerImg_fd6364",bannerImgFullWidth:"bannerImgFullWidth_fd6364",header:"header_fd6364",headerContent:"headerContent_fd6364",primaryInfo:"primaryInfo_fd6364",headerButton:"headerButton_fd6364",headerChildren:"headerChildren_fd6364",communityInfoContainer:"communityInfoContainer_fd6364",hasSubheader:"hasSubheader_fd6364",communityInfoVisible:"communityInfoVisible_fd6364",communityInfo:"communityInfo_fd6364",communityInfoPill:"communityInfoPill_fd6364",communityIcon:"communityIcon_fd6364",bannerVisible:"bannerVisible_fd6364",selected:"selected_fd6364",hasBanner:"hasBanner_fd6364",name:"name_fd6364",favoritesIcon:"favoritesIcon_fd6364",themedHeaderMobile:"themedHeaderMobile_fd6364"}},909398:function(e,t,n){e.exports={progressBarContainer:"progressBarContainer_e31e8a",progressBarText:"progressBarText_e31e8a",progressBar:"progressBar_e31e8a",rightContainer:"rightContainer_e31e8a",rightText:"rightText_e31e8a",arrow:"arrow_e31e8a",divider:"divider_e31e8a"}},274732:function(e,t,n){e.exports={previewChannelRow:"previewChannelRow_c5d9bc",selected:"selected_c5d9bc",closeButton:"closeButton_c5d9bc",money:"money_c5d9bc",newBadge:"newBadge_c5d9bc",phantomPreview:"phantomPreview_c5d9bc",shopIcon:"shopIcon_c5d9bc",previewChannelRowContent:"previewChannelRowContent_c5d9bc",gifSection:"gifSection_c5d9bc"}},205546:function(e,t,n){e.exports={container:"container_e1e976",spine:"spine_e1e976",spineBorder:"spineBorder_e1e976",spineWithGuildIcon:"spineWithGuildIcon_e1e976 spine_e1e976",spineBorderWithGuildIcon:"spineBorderWithGuildIcon_e1e976 spineBorder_e1e976"}},667863:function(e,t,n){e.exports={mentionsBadge:"mentionsBadge_e2a798 iconBase_e2a798"}},954427:function(e,t,n){e.exports={iconLive:"iconLive_dce222"}},953248:function(e,t,n){e.exports={container:"container_eba0ba",containerPadding:"containerPadding_eba0ba",bottom:"bottom_eba0ba",top:"top_eba0ba",bar:"bar_eba0ba",emptyBar:"emptyBar_eba0ba",mentionsBar:"mentionsBar_eba0ba",unreadIcon:"unreadIcon_eba0ba",voiceChannelsIcon:"voiceChannelsIcon_eba0ba",barText:"barText_eba0ba",voiceChannelsUsers:"voiceChannelsUsers_eba0ba"}},387592:function(e,t,n){e.exports={statusDiv:"statusDiv_e66732",hoverable:"hoverable_e66732",pencilIcon:"pencilIcon_e66732",statusText:"statusText_e66732"}},583393:function(e,t,n){e.exports={wrapper:"wrapper_a5bc92",users:"users_a5bc92",total:"total_a5bc92",video:"video_a5bc92",extraLong:"extraLong_a5bc92",videoIcon:"videoIcon_a5bc92"}},785144:function(e,t,n){e.exports={container:"container_c23582",peopleIcon:"peopleIcon_c23582",userCountText:"userCountText_c23582"}},319081:function(e,t,n){e.exports={container:"container_b597a1",content:"content_b597a1",buttonContainer:"buttonContainer_b597a1",primaryButton:"primaryButton_b597a1",cancel:"cancel_b597a1",image:"image_b597a1"}},129061:function(e,t,n){e.exports={pill:"pill_f36a5a"}},798314:function(e,t,n){e.exports={wrapper:"wrapper_b7c66a",target:"target_b7c66a",dragOver:"dragOver_b7c66a",centerTarget:"centerTarget_b7c66a",centerTargetTooltip:"centerTargetTooltip_b7c66a",autoPointerEvents:"autoPointerEvents_b7c66a",folderEndWrapper:"folderEndWrapper_b7c66a",wrapperOver:"wrapperOver_b7c66a",folderTarget:"folderTarget_b7c66a"}},764945:function(e,t,n){e.exports={wrapper:"wrapper_fea3ef",hidden:"hidden_fea3ef",tree:"tree_fea3ef",scroller:"scroller_fea3ef",scrolling:"scrolling_fea3ef",unreadMentionsIndicatorTop:"unreadMentionsIndicatorTop_fea3ef",unreadMentionsIndicatorBottom:"unreadMentionsIndicatorBottom_fea3ef",unreadMentionsBar:"unreadMentionsBar_fea3ef",unreadMentionsFixedFooter:"unreadMentionsFixedFooter_fea3ef",fixedDiscoveryIcon:"fixedDiscoveryIcon_fea3ef"}},310865:function(e,t,n){e.exports={dragInner:"dragInner_f734d8",placeholderMask:"placeholderMask_f734d8"}},516856:function(e,t,n){e.exports={circleIconButton:"circleIconButton_db6521",selected:"selected_db6521",circleIcon:"circleIcon_db6521",pill:"pill_db6521"}},248699:function(e,t,n){e.exports={wrapper:"wrapper_bc7085",expandedFolderBackground:"expandedFolderBackground_bc7085",collapsed:"collapsed_bc7085",hover:"hover_bc7085",folderIconWrapper:"folderIconWrapper_bc7085",folder:"folder_bc7085",closedFolderIconWrapper:"closedFolderIconWrapper_bc7085",folderIconPreview:"folderIconPreview_bc7085",guildIcon:"guildIcon_bc7085",miniPlaceholder:"miniPlaceholder_bc7085",expandedFolderIconWrapper:"expandedFolderIconWrapper_bc7085",guildIconUnavailable:"guildIconUnavailable_bc7085"}},459458:function(e,t,n){e.exports={circleIconButton:"circleIconButton_f85ca4",geoRestrictedBadge:"geoRestrictedBadge_f85ca4"}},356131:function(e,t,n){e.exports={guildNotif:"guildNotif_e3bac1"}},210606:function(e,t,n){e.exports={container:"container_aa1bff",popoutAnchor:"popoutAnchor_aa1bff",popoutContainer:"popoutContainer_aa1bff",popoutCaret:"popoutCaret_aa1bff",popoutCaretLeft:"popoutCaretLeft_aa1bff",footer:"footer_aa1bff",gradient:"gradient_aa1bff",gradientHidden:"gradientHidden_aa1bff",genshinBackgroundImage:"genshinBackgroundImage_aa1bff backgroundImage_aa1bff",valorantBackgroundImage:"valorantBackgroundImage_aa1bff backgroundImage_aa1bff",popoutContent:"popoutContent_aa1bff",close:"close_aa1bff",coachmarkTextContainer:"coachmarkTextContainer_aa1bff"}},784490:function(e,t,n){e.exports={blobContainer:"blobContainer_a5ad63",pill:"pill_a5ad63",sorting:"sorting_a5ad63",wobble:"wobble_a5ad63",selected:"selected_a5ad63"}},496540:function(e,t,n){e.exports={pill:"pill_f9623d",downloadProgress:"downloadProgress_f9623d",tutorialContainer:"tutorialContainer_f9623d",broadcastBadge:"broadcastBadge_f9623d"}},170552:function(e,t,n){e.exports={listItemWrapper:"listItemWrapper_dfb2f8",listItemTooltip:"listItemTooltip_dfb2f8",selected:"selected_dfb2f8"}},810817:function(e,t,n){e.exports={listItem:"listItem_c96c45",unavailableBadge:"unavailableBadge_c96c45",iconBadge:"iconBadge_c96c45",isCurrentUserConnected:"isCurrentUserConnected_c96c45",tutorialContainer:"tutorialContainer_c96c45"}},47061:function(e,t,n){e.exports={guildSeparator:"guildSeparator_d0c57e"}},72766:function(e,t,n){e.exports={guildsError:"guildsError_aada25",errorInner:"errorInner_aada25"}},849249:function(e,t,n){e.exports={pauseBackground:"pauseBackground_fdcfe0",pause:"pause_fdcfe0"}},388555:function(e,t,n){e.exports={pendingIcon:"pendingIcon_ae3d49"}},661948:function(e,t,n){e.exports={keyboardShortcutsModal:"keyboardShortcutsModal_ad95dc",noBackground:"noBackground_ad95dc",noShadow:"noShadow_ad95dc",modalTitle:"modalTitle_ad95dc",content:"content_ad95dc",modalSubtitle:"modalSubtitle_ad95dc",ddrArrows:"ddrArrows_ad95dc",arrow:"arrow_ad95dc",active:"active_ad95dc",left:"left_ad95dc",down:"down_ad95dc",up:"up_ad95dc",right:"right_ad95dc",keybindGroupDescription:"keybindGroupDescription_ad95dc",keyboardShortcutList:"keyboardShortcutList_ad95dc",keybindGroup:"keybindGroup_ad95dc",keybindKey:"keybindKey_ad95dc",keyboardShortcutSection:"keyboardShortcutSection_ad95dc",keyboardShortcutListGroup:"keyboardShortcutListGroup_ad95dc"}},971933:function(e,t,n){e.exports={ragingDemon:"ragingDemon_f4b0b6",visible:"visible_f4b0b6",symbol:"symbol_f4b0b6",symbolBackground:"symbolBackground_f4b0b6",container:"container_f4b0b6",animate:"animate_f4b0b6",circleInner:"circleInner_f4b0b6",circleOuter:"circleOuter_f4b0b6",linesSecondary:"linesSecondary_f4b0b6",linesMain:"linesMain_f4b0b6",primaryExplosion:"primaryExplosion_f4b0b6 explosion_f4b0b6",secondaryExplosion:"secondaryExplosion_f4b0b6 explosion_f4b0b6"}},301661:function(e,t,n){e.exports={wrapper:"wrapper_cd82a7",section:"section_cd82a7",clickableIcon:"clickableIcon_cd82a7",textContent:"textContent_cd82a7",separator:"separator_cd82a7",inset:"inset_cd82a7",headerFull:"headerFull_cd82a7 header_cd82a7",headerSimple:"headerSimple_cd82a7 header_cd82a7",headerAvatar:"headerAvatar_cd82a7",headerIcon:"headerIcon_cd82a7",multipleIconWrapper:"multipleIconWrapper_cd82a7",multipleIcon:"multipleIcon_cd82a7",body:"body_cd82a7",voiceSection:"voiceSection_cd82a7",voiceSectionAssets:"voiceSectionAssets_cd82a7",voiceSectionDetails:"voiceSectionDetails_cd82a7",voiceSectionText:"voiceSectionText_cd82a7",voiceSectionGuildImage:"voiceSectionGuildImage_cd82a7",voiceSectionNoGuildImageWrapper:"voiceSectionNoGuildImageWrapper_cd82a7",voiceSectionNoGuildImage:"voiceSectionNoGuildImage_cd82a7",voiceSectionIconWrapper:"voiceSectionIconWrapper_cd82a7",voiceSectionIcon:"voiceSectionIcon_cd82a7",applicationStreamingSection:"applicationStreamingSection_cd82a7",applicationStreamingAvatar:"applicationStreamingAvatar_cd82a7",applicationStreamingPreviewWrapper:"applicationStreamingPreviewWrapper_cd82a7",applicationStreamingHoverWrapper:"applicationStreamingHoverWrapper_cd82a7",applicationStreamingPreviewSize:"applicationStreamingPreviewSize_cd82a7",applicationStreamingHoverText:"applicationStreamingHoverText_cd82a7",xboxSection:"xboxSection_cd82a7",xboxSectionIcon:"xboxSectionIcon_cd82a7",twitchSectionSimple:"twitchSectionSimple_cd82a7 twitchSectionHeader_cd82a7",twitchSectionFull:"twitchSectionFull_cd82a7 twitchSectionHeader_cd82a7",twitchSectionIcon:"twitchSectionIcon_cd82a7",twitchSectionPlayButton:"twitchSectionPlayButton_cd82a7",twitchSectionAvatar:"twitchSectionAvatar_cd82a7",twitchSectionPreviewWrapper:"twitchSectionPreviewWrapper_cd82a7",twitchSectionPreview:"twitchSectionPreview_cd82a7",gameSection:"gameSection_cd82a7",gameSectionIcon:"gameSectionIcon_cd82a7",activitySection:"activitySection_cd82a7",activitySectionAssets:"activitySectionAssets_cd82a7",largeImageMask:"largeImageMask_cd82a7",largeImage:"largeImage_cd82a7",borderRadius0:"borderRadius0_cd82a7",smallImage:"smallImage_cd82a7",spotifySection:"spotifySection_cd82a7 activitySection_cd82a7",embeddedActivityTopRow:"embeddedActivityTopRow_cd82a7",embeddedActivityName:"embeddedActivityName_cd82a7",embeddedActivityTimeElapsed:"embeddedActivityTimeElapsed_cd82a7",embeddedActivityPlayerContainer:"embeddedActivityPlayerContainer_cd82a7",embeddedActivityImage:"embeddedActivityImage_cd82a7",embeddedActivityImageOverlay:"embeddedActivityImageOverlay_cd82a7",embeddedActivityJoinWrapper:"embeddedActivityJoinWrapper_cd82a7",embeddedActivityIcon:"embeddedActivityIcon_cd82a7"}},488320:function(e,t,n){e.exports={panel:"panel_bf1a22",body:"body_bf1a22",liveBadge:"liveBadge_bf1a22",dropsBadgeWrapper:"dropsBadgeWrapper_bf1a22",dropsBadge:"dropsBadge_bf1a22",gameWrapper:"gameWrapper_bf1a22",liveIndicator:"liveIndicator_bf1a22",clickableGameWrapper:"clickableGameWrapper_bf1a22",gameIconWrapper:"gameIconWrapper_bf1a22",gameIcon:"gameIcon_bf1a22",sparkleContainer:"sparkleContainer_bf1a22",sparkles:"sparkles_bf1a22",info:"info_bf1a22",infoWithDrops:"infoWithDrops_bf1a22",actions:"actions_bf1a22",panelButtonContainer:"panelButtonContainer_bf1a22",activityName:"activityName_bf1a22",channel:"channel_bf1a22",perksDemoContainer:"perksDemoContainer_bf1a22",perksDemoText:"perksDemoText_bf1a22"}},707747:function(e,t,n){e.exports={container:"container_adcaac",inner:"inner_adcaac",channel:"channel_adcaac",noiseCancellationPopout:"noiseCancellationPopout_adcaac",noiseCancellationTooltip:"noiseCancellationTooltip_adcaac",krispLogo:"krispLogo_adcaac",krispLink:"krispLink_adcaac",micTestButton:"micTestButton_adcaac",connection:"connection_adcaac",voiceUsers:"voiceUsers_adcaac",actionButtons:"actionButtons_adcaac",button:"button_adcaac",buttonColor:"buttonColor_adcaac",buttonActive:"buttonActive_adcaac",fauxDisabled:"fauxDisabled_adcaac",buttonContents:"buttonContents_adcaac",buttonIcon:"buttonIcon_adcaac",withText:"withText_adcaac",voicePanelIntroductionHeader:"voicePanelIntroductionHeader_adcaac",voicePanelIntroductionText:"voicePanelIntroductionText_adcaac",voicePanelIntroductionButton:"voicePanelIntroductionButton_adcaac",voicePanelIntroductionWrapper:"voicePanelIntroductionWrapper_adcaac",wrapper:"wrapper_adcaac",viewAsRolesWarning:"viewAsRolesWarning_adcaac",viewAsRolesWarningText:"viewAsRolesWarningText_adcaac",viewAsRolesWarningButton:"viewAsRolesWarningButton_adcaac",disabled:"disabled_adcaac"}},964049:function(e,t,n){e.exports={text:"text_b953a6"}},163282:function(e,t,n){e.exports={container:"container_f4e139",mobileContainer:"mobileContainer_f4e139",quickswitcher:"quickswitcher_f4e139",mobileQuickswitcher:"mobileQuickswitcher_f4e139",input:"input_f4e139",autocompleteQuerySymbol:"autocompleteQuerySymbol_f4e139",scroller:"scroller_f4e139",protip:"protip_f4e139",hasContent:"hasContent_f4e139",emptyState:"emptyState_f4e139",emptyStateNote:"emptyStateNote_f4e139",emptyStateCTA:"emptyStateCTA_f4e139",miscContainer:"miscContainer_f4e139"}},97124:function(e,t,n){e.exports={tutorial:"tutorial_c36bbe",shown:"shown_c36bbe",arrowGroup:"arrowGroup_c36bbe",right:"right_c36bbe",arrowContainer:"arrowContainer_c36bbe",horizontal:"horizontal_c36bbe",diag1:"diag1_c36bbe",diag2:"diag2_c36bbe",arrowIcon:"arrowIcon_c36bbe",tutorialMessages:"tutorialMessages_c36bbe",searchMessage:"searchMessage_c36bbe message_c36bbe",selectMessage:"selectMessage_c36bbe message_c36bbe",hasQuery:"hasQuery_c36bbe"}},755672:function(e,t,n){e.exports={graphContainer:"graphContainer_c73c22",separator:"separator_c73c22",popoutText:"popoutText_c73c22",popoutTextDetails:"popoutTextDetails_c73c22",popoutBottom:"popoutBottom_c73c22",debugButton:"debugButton_c73c22",copyStatsButton:"copyStatsButton_c73c22",textWithIcon:"textWithIcon_c73c22",secured:"secured_c73c22"}},228233:function(e,t,n){e.exports={container:"container_feab95",title:"title_feab95",tabs:"tabs_feab95",tabBarItem:"tabBarItem_feab95",debugPanelStandalone:"debugPanelStandalone_feab95",debugPanelSection:"debugPanelSection_feab95"}},202589:function(e,t,n){e.exports={ping:"ping_c02c63",smallPing:"smallPing_c02c63",rtcConnectionStatus:"rtcConnectionStatus_c02c63",rtcConnectionStatusConnected:"rtcConnectionStatusConnected_c02c63 rtcConnectionStatusLabel_c02c63",rtcConnectionStatusConnecting:"rtcConnectionStatusConnecting_c02c63 rtcConnectionStatusLabel_c02c63",rtcConnectionStatusError:"rtcConnectionStatusError_c02c63 rtcConnectionStatusLabel_c02c63",rtcConnectionQualityFine:"rtcConnectionQualityFine_c02c63",pingForeground:"pingForeground_c02c63",rtcConnectionQualityAverage:"rtcConnectionQualityAverage_c02c63",rtcConnectionQualityBad:"rtcConnectionQualityBad_c02c63",labelWrapper:"labelWrapper_c02c63"}},857665:function(e,t,n){e.exports={status:"status_dcb18f",hoverableStatus:"hoverableStatus_dcb18f"}},294903:function(e,t,n){e.exports={container:"container_f59a38",tag:"tag_f59a38",header:"header_f59a38",code:"code_f59a38"}},727857:function(e,t,n){e.exports={code:"code_e9fe13",chunk:"chunk_e9fe13",divider:"divider_e9fe13",codeText:"codeText_e9fe13"}},560237:function(e,t,n){e.exports={container:"container_a7c5d3"}},316148:function(e,t,n){e.exports={tooltipContainer:"tooltipContainer_eb20d6",tooltipBackground:"tooltipBackground_eb20d6",tooltip:"tooltip_eb20d6",tooltipContent:"tooltipContent_eb20d6"}},179216:function(e,t,n){e.exports={chatWheelMouseInput:"chatWheelMouseInput_ba62f2",chatWheel:"chatWheel_ba62f2",chatWheelBackground:"chatWheelBackground_ba62f2",chatWheelDeadZone:"chatWheelDeadZone_ba62f2",chatWheelCenter:"chatWheelCenter_ba62f2",innerContent:"innerContent_ba62f2",chatWheelDeadZoneIcon:"chatWheelDeadZoneIcon_ba62f2",paginationHint:"paginationHint_ba62f2",chatWheelItem:"chatWheelItem_ba62f2"}},814639:function(e,t,n){e.exports={soundButton:"soundButton_d608d3"}},592804:function(e,t,n){e.exports={hoverRoll:"hoverRoll_c0d6c6",forceHover:"forceHover_c0d6c6",disabled:"disabled_c0d6c6",default:"default_c0d6c6",hovered:"hovered_c0d6c6"}},431172:function(e,t,n){e.exports={result:"result_f14193",contentUnread:"contentUnread_f14193 content_f14193",contentDefault:"contentDefault_f14193 content_f14193",voiceSummaryContainer:"voiceSummaryContainer_f14193",iconContainer:"iconContainer_f14193",gameIcon:"gameIcon_f14193",gameIconSize:"gameIconSize_f14193",icon:"icon_f14193",name:"name_f14193",misc:"misc_f14193",match:"match_f14193",badge:"badge_f14193",note:"note_f14193",username:"username_f14193",header:"header_f14193",guildIconContainer:"guildIconContainer_f14193 iconContainer_f14193",guildIcon:"guildIcon_f14193",dmIconContainer:"dmIconContainer_f14193 iconContainer_f14193",score:"score_f14193"}},740933:function(e,t,n){n.r(e.exports={container:"container_c10249",bar:"bar_c10249",active:"active_c10249",unread:"unread_c10249 active_c10249",mention:"mention_c10249 active_c10249",text:"text_c10249",icon:"icon_c10249"})},746555:function(e,t,n){e.exports={muted:"muted_f9647d",avatar:"avatar_f9647d",highlighted:"highlighted_f9647d",layout:"layout_f9647d",content:"content_f9647d",name:"name_f9647d",wrappedLayout:"wrappedLayout_f9647d",wrappedName:"wrappedName_f9647d",nameAndDecorators:"nameAndDecorators_f9647d",subText:"subText_f9647d"}},161632:function(e,t,n){e.exports={container:"container_b15955"}},905380:function(e,t,n){e.exports={button:"button_f67531",enabled:"enabled_f67531",disabled:"disabled_f67531"}},609415:function(e,t,n){e.exports={subtext:"subtext_e06aad"}},494583:function(e,t,n){e.exports={title:"title_d1da5f"}}}]);
//# sourceMappingURL=141beec5bc501c0303e6.js.map